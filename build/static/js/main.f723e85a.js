/*! For license information please see main.f723e85a.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(o));var f=a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case E:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Oe(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function je(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==_e||null!==ke)&&(je(),Oe())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ce=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ce=!1}function Re(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,Le=e}};function $e(e,t,n,r,i,o,a,s,l){Me=!1,Le=null,Re.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,kt,Et,Nt=!1,Ot=[],Tt=null,jt=null,Pt=null,At=new Map,It=new Map,Ct=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Ut),It.forEach(Ut)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return $t(t,e)}if(0<Ot.length){$t(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&$t(Tt,e),null!==jt&&$t(jt,e),null!==Pt&&$t(Pt,e),At.forEach(t),It.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ct.shift()}var zt=x.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function qt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Mt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),yn=on(L({},dn,{relatedTarget:0})),gn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return kn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(Nn),Tn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(An),Cn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Rn,Ln=u&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Yn(e){if(G(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Er("animationend"),Or=Er("animationiteration"),Tr=Er("animationstart"),jr=Er("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var Cr=0;Cr<Ar.length;Cr++){var Dr=Ar[Cr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Nr,"onAnimationEnd"),Ir(Or,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if($e.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[$r]){e[$r]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Nr:case Or:case Tr:l=gn;break;case jr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Qn;else if(Vn(s))if(Xn)y=ar;else{y=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,vr=null);break;case"focusout":vr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Wn=!0)),0<(g=qr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Ie(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,yi="__reactListeners$"+di,gi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Si=[],_i=-1;function ki(e){return{current:e}}function Ei(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ni(e,t){_i++,Si[_i]=e.current,e.current=t}var Oi={},Ti=ki(Oi),ji=ki(!1),Pi=Oi;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ci(){Ei(ji),Ei(Ti)}function Di(e,t,n){if(Ti.current!==Oi)throw Error(o(168));Ni(Ti,t),Ni(ji,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Pi=Ti.current,Ni(Ti,e),Ni(ji,ji.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(ji),Ei(Ti),Ni(Ti,e)):Ei(ji),Ni(ji,n)}var Fi=null,Ui=!1,Bi=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Wi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Vi=0,Hi=null,qi=0,Gi=[],Ki=0,Yi=null,Qi=1,Xi="";function Ji(e,t){zi[Vi++]=qi,zi[Vi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Gi[Ki++]=Qi,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Yi=e;var r=Qi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Qi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=zi[--Vi],zi[Vi]=null,qi=zi[--Vi],zi[Vi]=null;for(;e===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Qi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=x.ReactCurrentBatchConfig;function go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&bo(o)===t.type)?((r=i(t,n.props)).ref=go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=go(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var g=f(i,d,s[m],l);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g,d=y}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(y=p(d,i,m,s[m],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function y(i,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,y),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return n(i,m),io&&Ji(i,y),u;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,y),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,y),u}for(m=r(i,m);!v.done;y++,v=l.next())null!==(v=p(m,i,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=a(v,s,y),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,y),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=go(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=Rc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=go(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(R(a))return y(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var wo=xo(!0),So=xo(!1),_o=ki(null),ko=null,Eo=null,No=null;function Oo(){No=Eo=ko=null}function To(e){var t=_o.current;Ei(_o),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){ko=e,No=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===ko)throw Error(o(308));Eo=e,ko.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Io=null;function Co(e){null===Io?Io=[e]:Io.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},qo=ki(Ho),Go=ki(Ho),Ko=ki(Ho);function Yo(e){if(e===Ho)throw Error(o(174));return e}function Qo(e,t){switch(Ni(Ko,t),Ni(Go,e),Ni(qo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qo),Ni(qo,t)}function Xo(){Ei(qo),Ei(Go),Ei(Ko)}function Jo(e){Yo(Ko.current);var t=Yo(qo.current),n=le(t,e.type);t!==n&&(Ni(Go,e),Ni(qo,n))}function Zo(e){Go.current===e&&(Ei(qo),Ei(Go))}var ea=ki(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=x.ReactCurrentDispatcher,oa=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ka(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ma(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Na.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&aa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&ja(e)}function Oa(e,t,n){return n(function(){Ta(t)&&ja(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ba().memoizedState}function Ca(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Aa(t,n,o,r))}sa.flags|=e,i.memoizedState=Aa(1|t,n,o,r)}function Ra(e,t){return Ca(8390656,8,e,t)}function Ma(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function $a(){}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function qa(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Qa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ao,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ca(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ca(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:$a,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&aa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:Wa,useContext:Ao,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:za,useReducer:wa,useRef:Ia,useState:function(){return wa(xa)},useDebugValue:$a,useDeferredValue:function(e){return Va(ba(),la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:Wa,useContext:Ao,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:za,useReducer:Sa,useRef:Ia,useState:function(){return Sa(xa)},useDebugValue:$a,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[Sa(xa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),$o(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ii(t)?Pi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ii(t)?Pi:Ti.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ya(e,t,n,r,o,i),n=ga(),null===e||bs?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Cc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Cl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Cl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ni(Cl,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ni(Cl,Il),Il|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var o=Ii(n)?Pi:Ti.current;return o=Ai(t,o),Po(t,i),n=ya(e,t,n,r,o,i),r=ga(),null===e||bs?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Os(e,t,n,r,i){if(Ii(n)){var o=!0;Mi(t)}else o=!1;if(Po(t,i),null===t.stateNode)zs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Ii(n)?Pi:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Mo=!1;var h=t.memoizedState;a.state=h,zo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ji.current||Mo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Ii(n)?Pi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Mo=!1,h=t.memoizedState,a.state=h,zo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||ji.current||Mo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mo||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Vs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qo(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var As,Is,Cs,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Rs,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=Qi,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Qi=e.id,Xi=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Cc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Cc(r,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Cc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function $s(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$s(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$s(t,!0,n,null,o);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ii(t.type)&&Ci(),qs(t),null;case 3:return r=t.stateNode,Xo(),Ei(ji),Ei(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Is(e,t),qs(t),null;case 5:Zo(t);var i=Yo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Cs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=Yo(qo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ye(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Ko.current),Yo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Xo(),Is(e,t),null===e&&Wr(t.stateNode.containerInfo),qs(t),null;case 10:return To(t.type._context),qs(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(t),null}else 2*Xe()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ni(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Ci(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ei(ji),Ei(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return Xo(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(qo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){kc(e,e.return,y)}try{nl(5,e,e.return)}catch(y){kc(e,e.return,y)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){kc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(y){kc(e,e.return,y)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){kc(e,e.return,y)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(y){kc(e,e.return,y)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){kc(r,n,y)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(y){kc(e,e.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){kc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var c=Qs;if(Ys=a,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Ys=s,Qs=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,kl=Math.ceil,El=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,Ol=x.ReactCurrentBatchConfig,Tl=0,jl=null,Pl=null,Al=0,Il=0,Cl=ki(0),Dl=0,Rl=null,Ml=0,Ll=0,Fl=0,Ul=null,Bl=null,$l=0,Wl=1/0,zl=null,Vl=!1,Hl=null,ql=null,Gl=!1,Kl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==yo.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(o(185));gt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Ll|=n),4===Dl&&sc(e,Al)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Wl=Xe()+500,Ui&&Wi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===jl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,$i(e)}(lc.bind(null,e)):$i(lc.bind(null,e)),ai(function(){0===(6&Tl)&&Wi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(jl===e&&Al===t||(zl=null,Wl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Oo(),El.current=a,Tl=i,null!==Pl?t=0:(jl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rl,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Rl,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bl,zl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=$l+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,zl),t);break}wc(e,Bl,zl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,zl),r);break}wc(e,Bl,zl);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,zl),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Wl=Xe()+500,Ui&&Wi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,0===(6&(Tl=t))&&Wi()}}function dc(){Il=Cl.current,Ei(Cl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ci();break;case 3:Xo(),Ei(ji),Ei(Ti),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Ei(ea);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Pl=e=Cc(e.current,null),Al=Il=t,Dl=0,Rl=null,Fl=Ll=Ml=0,Bl=Ul=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Oo(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Nl.current=null,null===n||null===n.return){Dl=1,Rl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===jl||0===(268435455&Ml)&&0===(268435455&Ll)||sc(jl,Al)}function yc(e,t){var n=Tl;Tl|=2;var r=pc();for(jl===e&&Al===t||(zl=null,hc(e,t));;)try{gc();break}catch(i){fc(e,i)}if(Oo(),Tl=n,El.current=r,null!==Pl)throw Error(o(261));return jl=null,Al=0,Dl}function gc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=_l(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Il)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===jl&&(Pl=jl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return Sc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Nl.current=null,function(e,t){if(ei=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ns(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),yl(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Tl=l,bt=s,Ol.transition=a}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Wi()}(e,t,n,r)}finally{Ol.transition=i,bt=r}return null}function Sc(){if(null!==Kl){var e=xt(Yl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Tl=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function _c(e,t,n){e=Bo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Xe()-$l?hc(e,0):Fl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ro(e,t))&&(gt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nc(e,n)}function jc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Rc(n.children,i,a,t);case k:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=a,e;case j:return(e=Ac(13,n,t,i)).elementType=j,e.lanes=a,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=a,e;case C:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case O:s=9;break e;case T:s=11;break e;case A:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=C,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function $c(e){if(!e)return Oi;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ri(e,n,t)}return t}function Wc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=$c(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nc(e,i,a,o),$o(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:js(t),po();break;case 5:Jo(t);break;case 1:Ii(t.type)&&Mi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ni(ea,1&ea.current),null!==(e=Vs(e,t,n))?e.sibling:null);Ni(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);Po(t,n),i=ya(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Vs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ni(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ji.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),jo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),jo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Ao(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),zs(e,t),t.tag=1,Ii(r)?(e=!0,Mi(t)):e=!1,Po(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Vc(a);s.call(e)}}zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(a);o.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Wr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){zc(t,l,n,r)}),l}(n,t,e,i,r);return Vc(a)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){zc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(Wl=Xe()+500,Wi()))}break;case 13:uc(function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ne,Oe,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var y in e)!t&&!c.call(e,y)||f&&("length"==y||d&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,y=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(a)var b=c?a(v,g,p,t,e,l):a(g,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!i(t,function(e,t){if(!o(y,t)&&(g===e||s(g,e,n,a,l)))return y.push(t)})){m=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||y&&e-p>=u}function x(){var e=i();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return y?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,g&&l?v(e):(l=c=void 0,d)}function S(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(y)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(y="maxWait"in n)?a(o(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:w(i())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),j(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+T(s=e[c],c);l+=j(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,t,i,u=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},C={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:C,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var y=e[c],g=t?t(y):y;if(y=n||0!==y?y:0,h&&g===g){for(var v=p.length;v--;)if(p[v]===g)continue e;t&&p.push(g),f.push(y)}else u(p,g,n)||(p!==f&&p.push(g),f.push(y))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[h=c[d]],v=t[h];if(o)var b=l?o(v,g,h,t,e,s):o(g,v,h,e,t,s);if(!(void 0===b?g===v||a(g,v,n,o,s):b)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=l(e),b=l(t),x=v?h:s(e),w=b?h:s(t),S=(x=x==d?f:x)==f,_=(w=w==d?f:w)==f,k=x==w;if(k&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(k&&!S)return g||(g=new r),v||u(e)?i(e,t,n,m,y,g):o(e,t,x,n,m,y,g);if(!(1&n)){var E=S&&p.call(e,"__wrapped__"),N=_&&p.call(t,"__wrapped__");if(E||N){var O=E?e.value():e,T=N?t.value():t;return g||(g=new r),y(O,T,n,m,g)}}return!!k&&(g||(g=new r),a(e,t,n,m,y,g))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),y=c(i),g=c(o),v=c(a),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||o&&x(o.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case y:return u;case g:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(y=!1,x(e),!m)if(null!==r(c))m=!0,C(S);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function S(e,n){m=!1,y&&(y=!1,v(N),N=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,N=-1,O=5,T=-1;function j(){return!(t.unstable_now()-T<O)}function P(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=P,_=function(){I.postMessage(null)}}else _=function(){g(P,0)};function C(e){E=e,k||(k=!0,_())}function D(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,C(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(y?(v(N),N=-1):y=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,C(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,y=d(1286742750677284.5),g={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?T(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?T(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=E(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=E(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return T(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return _(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(N(n,a),N(e,a),a),s=!0,T(t,o))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):T(new r(n),i)},g.naturalExponential=g.exp=function(){return S(this)},g.naturalLogarithm=g.ln=function(){return N(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):j(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,a+2)).times(.5),x(o.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(T(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,T(r,n)},g.times=g.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?T(e,h.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),T(n,e+_(n)+1,t))},g.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=P(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=P(r=T(new i(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?P(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=P((r=T(new a(i),e+_(i)+1,t)).abs(),!1,e+_(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return T(new t(e),_(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&A((o=o.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):T(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(N(u,r+12)),s=!0,(o=S(o)).s=a,o},g.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=P(i,(n=_(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=P(i=T(new a(i),e,t),e<=(n=_(i))||n<=a.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),T(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=_(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,y,g,v,b,x,w,S,k,E,N,O,j=r.constructor,P=r.s==i.s?1:-1,A=r.d,I=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,N=I.length,k=A.length,y=(m=new j(P)).d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,(x=null==o?o=j.precision:a?o+(_(r)-_(i))+1:o)<0)return new j(0);if(x=x/7+2|0,u=0,1==N)for(d=0,I=I[0],x++;(u<k||d)&&x--;u++)w=d*p+(A[u]||0),y[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),A=e(A,d),N=I.length,k=A.length),S=N,v=(g=A.slice(0,N)).length;v<N;)g[v++]=0;(O=I.slice()).unshift(0),E=I[0],I[1]>=p/2&&++E;do{d=0,(s=t(I,g,N,v))<0?(b=g[0],N!=v&&(b=b*p+(g[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),g,f=h.length,v=g.length))&&(d--,n(h,N<f?O:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(g,h,v),-1==s&&(s=t(I,g,N,v=g.length))<1&&(d++,n(g,N<v?O:I,v)),v=g.length):0===s&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=A[S]||0:(g=[A[S]],v=1)}while((S++<k||void 0!==g[0])&&x--)}return y[0]||y.shift(),m.e=c,T(m,a?o+_(m)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),x((a=o.plus(w(r,n,l))).d).slice(0,l)===x(o.d).slice(0,l)){for(;d--;)o=T(o.times(o),l);return f.precision=p,null==t?(s=!0,T(o,p)):o}o=a}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new g(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),k(g,h);if(h+=10,g.precision=h,r=(n=x(y)).charAt(0),a=_(m),!(Math.abs(a)<15e14))return d=k(g,h+2,v).times(a+""),m=N(new g(r+"."+n.slice(1)),h-10).plus(d),g.precision=v,null==t?(s=!0,T(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(a=_(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=T(m.times(m),h),o=3;;){if(c=T(c.times(f),h),x((d=u.plus(w(c,new g(o),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(k(g,h+2,v).times(a+""))),u=w(u,new g(p),h),g.precision=v,null==t?(s=!0,T(u,v)):u;u=d,o+=2}}function O(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,i,o,a,l,c,f,m,g=e.d;for(a=1,o=g[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=g.length))return e;for(f=o=g[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==g[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(o=_(e),g.length=1,t=t-o-1,g[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=m,o=1,m--):(g.length=m+1,o=h(10,7-r),g[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(g[0]+=o)==p&&(g[0]=1,++e.e);break}if(g[m]+=o,g[m]!=p)break;g[m--]=0,o=1}for(r=g.length;0===g[--r];)g.pop();if(s&&(e.e>y||e.e<-y))throw Error(u+_(e));return e}function j(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?T(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?T(t,m):t):new f(0)}function P(e,t,n){var r,i=_(e),o=x(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+E(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+E(-i-1)+o,n&&(r=n-a)>0&&(o+=E(r))):i>=a?(o+=E(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+E(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=E(r))),e.s<0?"-"+o:o}function A(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(o.prototype=g,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var y=a(f(e),f(t),r,c,d,h);return h.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Ci,scaleDiverging:()=>du,scaleDivergingLog:()=>hu,scaleDivergingPow:()=>pu,scaleDivergingSqrt:()=>mu,scaleDivergingSymlog:()=>fu,scaleIdentity:()=>os,scaleImplicit:()=>Ai,scaleLinear:()=>is,scaleLog:()=>ps,scaleOrdinal:()=>Ii,scalePoint:()=>Ri,scalePow:()=>_s,scaleQuantile:()=>Rs,scaleQuantize:()=>Ms,scaleRadial:()=>Ns,scaleSequential:()=>iu,scaleSequentialLog:()=>ou,scaleSequentialPow:()=>su,scaleSequentialQuantile:()=>cu,scaleSequentialSqrt:()=>lu,scaleSequentialSymlog:()=>au,scaleSqrt:()=>ks,scaleSymlog:()=>vs,scaleThreshold:()=>Ls,scaleTime:()=>eu,scaleUtc:()=>tu,tickFormat:()=>ns});var t=n(5043),r=n(4391);const i="1181984921049018368",o={Ainsworth:"783790952367169536",Bjarnar:"783761299275382784",Blumbergs:"783789717920534528",Boilard:"783789669597999104",Dembski:"783767734491127808",Irwin:"467074573125283840",Meer:"783778036578418688",Neufeglise:"783763304463147008","O'Donoghue":"783758716272009216",ODonoghue:"783758716272009216",Randall:"783754997035876352",Schmitt:"783761892693905408",Tomczak:"787044291066380288"},a=new Set([]),s=(e,t,n,r)=>(6*e+2*(t+n)+200*r*2)/10,l=(e,t,n)=>{console.log("--- Starting calculateAllLeagueMetrics ---"),console.log("Initial historicalData received:",e?`Keys: ${Object.keys(e).join(", ")}`:"null/undefined");const r={},i={};if(!e||0===Object.keys(e).length)return console.error("calculateAllLeagueMetrics: No historical data provided or it's empty. Returning empty metrics."),{seasonalMetrics:{},careerDPRData:[]};const o=Object.keys(e.matchupsBySeason||{}).sort();if(console.log("Years found in historicalData.matchupsBySeason:",o),0===o.length)return console.warn("calculateAllLeagueMetrics: No years found in historicalData.matchupsBySeason. Returning empty metrics."),{seasonalMetrics:{},careerDPRData:[]};o.forEach(t=>{var o;const a=e.matchupsBySeason[t],l=e.leaguesMetadataBySeason[t],c=e.rostersBySeason[t],u=e.usersBySeason[t];if(console.log(`Processing year: ${t}`),console.log(`  Matchups for ${t} present: ${!!a} (Count: ${a?Object.keys(a).length:0})`),console.log(`  League Metadata for ${t} present: ${!!l}`),console.log(`  Rosters for ${t} present: ${!!c} (Count: ${c?c.length:0})`),console.log(`  Users for ${t} present: ${!!u} (Count: ${u?u.length:0})`),!a||!l||!c||!u)return void console.error(`calculateAllLeagueMetrics: Missing critical data for year ${t}. Skipping this year.`);const d=parseInt(null===(o=l.settings)||void 0===o?void 0:o.playoff_start_week)||99;console.log(`  Playoff start week for ${t}: ${d}`);const h={};c.forEach(e=>{const r=e.owner_id,o=n(r,t);r?(h[e.roster_id]={teamName:o,ownerId:r,rosterId:e.roster_id,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,weeklyScores:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,isPlayoffTeam:!1,actualWinsRecord:0,seasonalExpectedWinsSum:0},i[r]||(i[r]={teamName:n(r,null),ownerId:r,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,careerWeeklyScores:[],topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualCareerWinsRecord:0,careerExpectedWinsSum:0})):console.warn(`  Roster ${e.roster_id} in year ${t} has no owner_id. Skipping initialization for this roster.`)}),console.log(`  Initialized ${Object.keys(h).length} rosters for year ${t}`);const f=Object.keys(a).sort((e,t)=>parseInt(e)-parseInt(t));console.log(`  Starting weekly matchup processing for ${t}. Total weeks: ${f.length}`),f.forEach(e=>{const t=parseInt(e),n=a[e];if(!n||0===n.length)return;const r=t<d&&!isNaN(t),o=[],s=new Set;if(n.forEach(e=>{if(e.team1_roster_id&&e.team2_roster_id){if("number"===typeof e.team1_score&&!isNaN(e.team1_score)){const t=String(e.team1_roster_id),n=e.team1_score;!s.has(t)&&h[t]&&(o.push({roster_id:t,score:n}),s.add(t))}if("number"===typeof e.team2_score&&!isNaN(e.team2_score)){const t=String(e.team2_roster_id),n=e.team2_score;!s.has(t)&&h[t]&&(o.push({roster_id:t,score:n}),s.add(t))}}else if(e.roster_id&&"number"===typeof e.points&&!isNaN(e.points)){const t=String(e.roster_id),n=e.points;!s.has(t)&&h[t]&&(o.push({roster_id:t,score:n}),s.add(t))}}),0===o.length)return;const l=o.reduce((e,t)=>Math.max(e,t.score),-1/0),c=[...o].sort((e,t)=>t.score-e.score),u=[];c[0]&&u.push(c[0].score),c[1]&&u.push(c[1].score),Object.keys(h).forEach(e=>{const t=h[e],a=t.ownerId,s=o.find(t=>String(t.roster_id)===String(e)),c=s?s.score:null,d="number"===typeof c&&!isNaN(c);if(!r&&d&&(t.isPlayoffTeam=!0),!d)return;t.weeklyScores.push(c),t.highScore=Math.max(t.highScore,c),t.lowScore=Math.min(t.lowScore,c),i[a]&&i[a].careerWeeklyScores.push(c);let f=0;o.forEach(n=>{String(n.roster_id)!==String(e)&&(c>n.score?(t.allPlayWins++,i[a]&&i[a].allPlayWins++,f++):c<n.score?(t.allPlayLosses++,i[a]&&i[a].allPlayLosses++):(t.allPlayTies++,i[a]&&i[a].allPlayTies++,f+=.5))}),r&&(t.seasonalExpectedWinsSum+=f,i[a]&&(i[a].careerExpectedWinsSum+=f)),r&&(c===l&&(t.topScoreWeeksCount++,i[a]&&i[a].topScoreWeeksCount++),u.includes(c)&&(t.weeklyTop2ScoresCount++,i[a]&&i[a].weeklyTop2ScoresCount++));let p=null;const m=n.find(t=>t.team1_roster_id&&String(t.team1_roster_id)===String(e)||t.team2_roster_id&&String(t.team2_roster_id)===String(e)||t.roster_id&&String(t.roster_id)===String(e)&&"number"===typeof t.points&&!isNaN(t.points));if(m)if(m.roster_id&&String(m.roster_id)===String(e)){const t=n.find(t=>t.matchup_id===m.matchup_id&&String(t.roster_id)!==String(e));t&&"number"===typeof t.points&&!isNaN(t.points)&&(p=t.points)}else m.team1_roster_id&&String(m.team1_roster_id)===String(e)?"number"!==typeof m.team2_score||isNaN(m.team2_score)||(p=m.team2_score):m.team2_roster_id&&String(m.team2_roster_id)===String(e)&&("number"!==typeof m.team1_score||isNaN(m.team1_score)||(p=m.team1_score));r&&"number"===typeof p&&!isNaN(p)?(t.pointsFor+=c,t.pointsAgainst+=p,t.totalGames++,t.actualWinsRecord+=c>p?1:c===p?.5:0,c>p?t.wins++:c<p?t.losses++:t.ties++,p>0&&(c>1.4*p?(t.blowoutWins++,i[a]&&i[a].blowoutWins++):c<.6*p?(t.blowoutLosses++,i[a]&&i[a].blowoutLosses++):c>p&&c-p<.025*p?(t.slimWins++,i[a]&&i[a].slimWins++):c<p&&p-c<.025*p&&(t.slimLosses++,i[a]&&i[a].slimLosses++)),i[a]&&(i[a].pointsFor+=c,i[a].pointsAgainst+=p,i[a].totalGames++,i[a].wins+=c>p?1:0,i[a].losses+=c<p?1:0,i[a].ties+=c===p?1:0)):r&&(!m||"number"!==typeof p||isNaN(p))})}),console.log(`  Finished weekly matchup processing for ${t}.`),r[t]={};const p=Object.keys(h);console.log(`  Starting seasonal post-processing for ${t}. Teams: ${p.length}`),p.forEach(e=>{const n=h[e],i=(n.ownerId,n.totalGames>0?n.pointsFor/n.totalGames:0),o=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,a=s(i,n.highScore!==-1/0?n.highScore:0,n.lowScore!==1/0?n.lowScore:0,o),l=n.actualWinsRecord-n.seasonalExpectedWinsSum;r[t][e]={teamName:n.teamName,rosterId:n.rosterId,ownerId:n.ownerId,wins:n.wins,losses:n.losses,ties:n.ties,pointsFor:n.pointsFor,pointsAgainst:n.pointsAgainst,averageScore:i,winPercentage:o,rawDPR:a,luckRating:l,allPlayWinPercentage:(n.allPlayWins+.5*n.allPlayTies)/(n.allPlayWins+n.allPlayLosses+n.allPlayTies)||0,topScoreWeeksCount:n.topScoreWeeksCount,blowoutWins:n.blowoutWins,blowoutLosses:n.blowoutLosses,slimWins:n.slimWins,slimLosses:n.slimLosses,weeklyTop2ScoresCount:n.weeklyTop2ScoresCount,adjustedDPR:0,totalGames:n.totalGames,highScore:n.highScore,lowScore:n.lowScore,isPlayoffTeam:n.isPlayoffTeam,isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1,rank:"N/A",pointsRank:"N/A"}});const m=Object.values(r[t]).map(e=>e.rawDPR).filter(e=>0!==e),y=m.length>0?m.reduce((e,t)=>e+t,0)/m.length:0;Object.keys(r[t]).forEach(e=>{r[t][e].adjustedDPR=y>0?r[t][e].rawDPR/y:0});const g=Object.values(r[t]).map(e=>({rosterId:e.rosterId,teamName:e.teamName,winPercentage:e.winPercentage,pointsFor:e.pointsFor,totalGames:e.totalGames}));g.sort((e,t)=>0===e.totalGames&&t.totalGames>0?1:e.totalGames>0&&0===t.totalGames?-1:0===e.totalGames&&0===t.totalGames?0:t.winPercentage!==e.winPercentage?t.winPercentage-e.winPercentage:t.pointsFor-e.pointsFor),g.forEach((e,n)=>{r[t][e.rosterId]&&(r[t][e.rosterId].rank=n+1,0===n?r[t][e.rosterId].isChampion=!0:1===n?r[t][e.rosterId].isRunnerUp=!0:2===n&&(r[t][e.rosterId].isThirdPlace=!0))});const v=Object.values(r[t]).filter(e=>"number"===typeof e.pointsFor&&!isNaN(e.pointsFor)).sort((e,t)=>t.pointsFor-e.pointsFor);if(v.length>0){let e=1;for(let n=0;n<v.length;n++){const i=v[n];n>0&&i.pointsFor<v[n-1].pointsFor&&(e=n+1),r[t][i.rosterId]&&(r[t][i.rosterId].pointsRank=e,1===e?r[t][i.rosterId].isPointsChampion=!0:2===e?r[t][i.rosterId].isPointsRunnerUp=!0:3===e&&(r[t][i.rosterId].isThirdPlacePoints=!0))}}}),console.log("--- Starting career data finalization ---");const a=[],l=[];Object.keys(i).forEach(e=>{const t=i[e],n=t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,o=t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,c=t.totalGames>0?t.pointsFor/t.totalGames:0,u=t.totalGames>0?(t.wins+.5*t.ties)/t.totalGames:0;let d=0;t.totalGames>0&&(d=s(c,n,o,u),l.push(d));const h=t.allPlayWins+t.allPlayLosses+t.allPlayTies,f=h>0?(t.allPlayWins+.5*t.allPlayTies)/h:0,p=t.actualCareerWinsRecord-t.careerExpectedWinsSum;let m=0,y=1/0;Object.keys(r).forEach(t=>{const n=Object.values(r[t]).find(t=>t.ownerId===e);if(n&&n.totalGames>0){const e=n.pointsFor/n.totalGames;m=Math.max(m,e),y=Math.min(y,e)}}),y===1/0&&(y=0),a.push({ownerId:e,teamName:t.teamName,dpr:d,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,averageScore:c,winPercentage:u,totalGames:t.totalGames,allPlayWinPercentage:f,topScoreWeeksCount:t.topScoreWeeksCount,blowoutWins:t.blowoutWins,blowoutLosses:t.blowoutLosses,slimWins:t.slimWins,slimLosses:t.slimLosses,weeklyTop2ScoresCount:t.weeklyTop2ScoresCount,highScore:n,lowScore:o,totalLuckRating:p,highestSeasonalPointsAvg:m,lowestSeasonalPointsAvg:y})});const c=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:0;return a.forEach(e=>{e.dpr=c>0?e.dpr/c:0}),a.sort((e,t)=>t.dpr-e.dpr),console.log("--- Finished calculateAllLeagueMetrics ---"),console.log("Final seasonalMetrics keys:",Object.keys(r)),console.log("Final careerDPRData count:",a.length),a.length>0&&console.log("Sample careerDPRData entry (after adjustment):",a[0]),{seasonalMetrics:r,careerDPRData:a}};function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const u=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r};var d=n(9889),h=n.n(d),f=n(620),p=n.n(f),m=n(5268),y=n.n(m),g=n(3097),v=n.n(g),b=n(9160),x=n.n(b),w=n(9686),S=n.n(w),_=function(e){return 0===e?0:e>0?1:-1},k=function(e){return p()(e)&&e.indexOf("%")===e.length-1},E=function(e){return x()(e)&&!y()(e)},N=function(e){return E(e)||p()(e)},O=0,T=function(e){var t=++O;return"".concat(e||"").concat(t)},j=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!E(e)&&!p()(e))return r;if(k(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return y()(n)&&(n=r),i&&n>t&&(n=t),n},P=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},A=function(e,t){return E(e)&&E(t)?function(n){return e+n*(t-e)}:function(){return t}};function I(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):v()(e,t))===n}):null}var C=function(e,t){return E(e)&&E(t)?e-t:p()(e)&&p()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},D=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},R=n(1629),M=n.n(R),L=n(6686),F=n.n(L),U=n(9062);function B(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var W=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z=["points","pathLength"],V={svg:["viewBox","children"],polygon:z,polyline:z},H=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],q=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!F()(r))return null;var i={};return Object.keys(r).forEach(function(e){H.includes(e)&&(i[e]=n||function(t){return r[e](r,t)})}),i},G=function(e,t,n){if(!F()(e)||"object"!==$(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];H.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},K=["children"],Y=["children"];function Q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}var J={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Z=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ee=null,te=null,ne=function e(n){if(n===ee&&Array.isArray(te))return te;var r=[];return t.Children.forEach(n,function(t){S()(t)||((0,U.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),te=r,ee=n,r};function re(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Z(e)}):[Z(t)],ne(e).forEach(function(e){var t=v()(e,"type.displayName")||v()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function ie(e,t){var n=re(e,t);return n&&n[0]}var oe=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!E(n)||n<=0||!E(r)||r<=0)},ae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],se=function(e){return e&&e.type&&p()(e.type)&&ae.indexOf(e.type)>=0},le=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),!F()(i))return null;var o={};return Object.keys(i).forEach(function(e){var t;(function(e,t,n,r){var i,o=null!==(i=null===V||void 0===V?void 0:V[r])&&void 0!==i?i:[];return t.startsWith("data-")||!M()(e)&&(r&&o.includes(t)||W.includes(t))||n&&H.includes(t)})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(o[e]=i[e])}),o},ce=function e(n,r){if(n===r)return!0;var i=t.Children.count(n);if(i!==t.Children.count(r))return!1;if(0===i)return!0;if(1===i)return ue(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var o=0;o<i;o++){var a=n[o],s=r[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!ue(a,s))return!1}return!0},ue=function(e,t){if(S()(e)&&S()(t))return!0;if(!S()(e)&&!S()(t)){var n=e.props||{},r=n.children,i=Q(n,K),o=t.props||{},a=o.children,s=Q(o,Y);return r&&a?B(i,s)&&ce(r,a):!r&&!a&&B(i,s)}return!1},de=function(e,t){var n=[],r={};return ne(e).forEach(function(e,i){if(se(e))n.push(e);else if(e){var o=Z(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}}),n};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){me(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function me(e,t,n){return t=function(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==he(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=(0,t.forwardRef)(function(e,n){var r=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,f=void 0===d?0:d,p=e.minHeight,m=e.maxHeight,y=e.children,g=e.debounce,v=void 0===g?0:g,b=e.id,x=e.className,w=e.onResize,S=e.style,_=void 0===S?{}:S,E=(0,t.useRef)(null),N=(0,t.useRef)();N.current=w,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var O=ye((0,t.useState)({containerWidth:o.width,containerHeight:o.height}),2),T=O[0],j=O[1],P=(0,t.useCallback)(function(e,t){j(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;P(r,i),null===(t=N.current)||void 0===t||t.call(N,r,i)};v>0&&(e=h()(e,v,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=E.current.getBoundingClientRect(),r=n.width,i=n.height;return P(r,i),t.observe(E.current),function(){t.disconnect()}},[P,v]);var A=(0,t.useMemo)(function(){var e=T.containerWidth,n=T.containerHeight;if(e<0||n<0)return null;D(k(s)||k(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),D(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=k(s)?e:s,o=k(c)?n:c;r&&r>0&&(i?o=i/r:o&&(i=o*r),m&&o>m&&(o=m)),D(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,f,p,r);var a=!Array.isArray(y)&&Z(y.type).endsWith("Chart");return t.Children.map(y,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,pe({width:i,height:o},a?{style:pe({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e})},[r,y,c,m,p,f,T,s]);return t.createElement("div",{id:b?"".concat(b):void 0,className:u("recharts-responsive-container",x),style:pe(pe({},_),{},{width:s,height:c,minWidth:f,minHeight:p,maxHeight:m}),ref:E},A)}),be=n(6604),xe=n.n(be),we=n(7424),Se=n.n(we),_e="Invariant failed";function ke(e,t){if(!e)throw new Error(_e)}var Ee=["children","width","height","viewBox","className","style","title","desc"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Te(e){var n=e.children,r=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,d=Oe(e,Ee),h=o||{width:r,height:i,x:0,y:0},f=u("recharts-surface",a);return t.createElement("svg",Ne({},le(d,!0,"svg"),{className:f,width:r,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var je=["children","className"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ie=t.forwardRef(function(e,n){var r=e.children,i=e.className,o=Ae(e,je),a=u("recharts-layer",i);return t.createElement("g",Pe({className:a},le(o,!0),{ref:n}),r)});function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ue(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ce(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){return Array.isArray(e)&&N(e[0])&&N(e[1])?e.join(" ~ "):e}var $e=function(e){var n=e.separator,r=void 0===n?" : ":n,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,g=e.labelFormatter,v=e.accessibilityLayer,b=void 0!==v&&v,x=Fe({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Fe({margin:0},c),_=!S()(y),k=_?y:"",E=u("recharts-default-tooltip",p),O=u("recharts-tooltip-label",m);_&&g&&void 0!==d&&null!==d&&(k=g(y,d));var T=b?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",De({className:E,style:x},T),t.createElement("p",{className:O,style:w},t.isValidElement(k)?k:"".concat(k)),function(){if(d&&d.length){var e=(f?Se()(d,f):d).map(function(e,n){if("none"===e.type)return null;var i=Fe({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||h||Be,a=e.value,l=e.name,c=a,u=l;if(o&&null!=c&&null!=u){var f=o(a,l,e,n,d);if(Array.isArray(f)){var p=Re(f,2);c=p[0],u=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:i},N(u)?t.createElement("span",{className:"recharts-tooltip-item-name"},u):null,N(u)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function ze(e,t,n){return t=function(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve="recharts-tooltip-wrapper",He={visibility:"hidden"};function qe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return u(Ve,ze(ze(ze(ze({},"".concat(Ve,"-right"),E(n)&&t&&E(t.x)&&n>=t.x),"".concat(Ve,"-left"),E(n)&&t&&E(t.x)&&n<t.x),"".concat(Ve,"-bottom"),E(r)&&t&&E(t.y)&&r>=t.y),"".concat(Ve,"-top"),E(r)&&t&&E(t.y)&&r<t.y))}function Ge(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&E(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(t){nt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rt(r.key),r)}}function Je(e,t,n){return t=et(t),function(e,t){if(t&&("object"===Ke(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ze()?Reflect.construct(t,n||[],et(e).constructor):t.apply(e,n))}function Ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ze=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e,t,n){return(t=rt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){var t=function(e,t){if("object"!=Ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ke(t)?t:t+""}var it=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return nt(e=Je(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nt(e,"handleKeyDown",function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(n,e),r=n,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,y=n.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Ge({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Ge({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):He,cssClasses:qe({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=g.cssClasses,b=g.cssProperties,x=Qe(Qe({transition:u&&r?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},y);return t.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&Xe(r.prototype,i),o&&Xe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent),ot={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return ot[e]},set:function(e,t){if("string"===typeof e)ot[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){ot[t]=e[t]})}}},at=n(977),st=n.n(at);function lt(e,t,n){return!0===t?st()(e,n):M()(t)?st()(e,t):e}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach(function(t){gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vt(r.key),r)}}function ft(e,t,n){return t=mt(t),function(e,t){if(t&&("object"===ct(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pt()?Reflect.construct(t,n||[],mt(e).constructor):t.apply(e,n))}function pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pt=function(){return!!e})()}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function yt(e,t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yt(e,t)}function gt(e,t,n){return(t=vt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ct(t)?t:t+""}function bt(e){return e.dataKey}var xt=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ft(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,p=n.position,m=n.reverseDirection,y=n.useTranslate3d,g=n.viewBox,v=n.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=lt(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,bt));var x=b.length>0;return t.createElement(it,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:r,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:y,viewBox:g,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement($e,n)}(s,dt(dt({},this.props),{},{payload:b})))}}])&&ht(r.prototype,i),o&&ht(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);gt(xt,"displayName","Tooltip"),gt(xt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ot.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wt=n(643),St=n.n(wt);Math.abs,Math.atan2;const _t=Math.cos,kt=(Math.max,Math.min,Math.sin),Et=Math.sqrt,Nt=Math.PI,Ot=2*Nt;const Tt={draw(e,t){const n=Et(t/Nt);e.moveTo(n,0),e.arc(0,0,n,0,Ot)}},jt={draw(e,t){const n=Et(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Pt=Et(1/3),At=2*Pt,It={draw(e,t){const n=Et(t/At),r=n*Pt;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ct={draw(e,t){const n=Et(t),r=-n/2;e.rect(r,r,n,n)}},Dt=kt(Nt/10)/kt(7*Nt/10),Rt=kt(Ot/10)*Dt,Mt=-_t(Ot/10)*Dt,Lt={draw(e,t){const n=Et(.8908130915292852*t),r=Rt*n,i=Mt*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Ot*o/5,a=_t(t),s=kt(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},Ft=Et(3),Ut={draw(e,t){const n=-Et(t/(3*Ft));e.moveTo(0,2*n),e.lineTo(-Ft*n,-n),e.lineTo(Ft*n,-n),e.closePath()}},Bt=-.5,$t=Et(3)/2,Wt=1/Et(12),zt=3*(Wt/2+1),Vt={draw(e,t){const n=Et(t/zt),r=n/2,i=n*Wt,o=r,a=n*Wt+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Bt*r-$t*i,$t*r+Bt*i),e.lineTo(Bt*o-$t*a,$t*o+Bt*a),e.lineTo(Bt*s-$t*l,$t*s+Bt*l),e.lineTo(Bt*r+$t*i,Bt*i-$t*r),e.lineTo(Bt*o+$t*a,Bt*a-$t*o),e.lineTo(Bt*s+$t*l,Bt*l-$t*s),e.closePath()}};function Ht(e){return function(){return e}}const qt=Math.PI,Gt=2*qt,Kt=1e-6,Yt=Gt-Kt;function Qt(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Xt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Qt:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qt;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Kt)if(Math.abs(u*s-l*c)>Kt&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,y=Math.sqrt(p),g=Math.sqrt(d),v=i*Math.tan((qt-Math.acos((p+d-m)/(2*y*g)))/2),b=v/g,x=v/y;Math.abs(b-1)>Kt&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Kt||Math.abs(this._y1-c)>Kt)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Gt+Gt),d>Yt?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Kt&&this._append`A${n},${n},0,${+(d>=qt)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Jt(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Xt(t)}Et(3),Et(3);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}var en=["type","size","sizeType"];function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tn.apply(this,arguments)}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){on(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function on(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sn={symbolCircle:Tt,symbolCross:jt,symbolDiamond:It,symbolSquare:Ct,symbolStar:Lt,symbolTriangle:Ut,symbolWye:Vt},ln=Math.PI/180,cn=function(e){var n=e.type,r=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=rn(rn({},an(e,en)),{},{type:r,size:o,sizeType:s}),c=l.className,d=l.cx,h=l.cy,f=le(l,!0);return d===+d&&h===+h&&o===+o?t.createElement("path",tn({},f,{className:u("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:function(){var e=function(e){var t="symbol".concat(St()(e));return sn[t]||Tt}(r),t=function(e,t){let n=null,r=Jt(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Ht(e||Tt),t="function"===typeof t?t:Ht(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Ht(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Ht(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*ln;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dn.apply(this,arguments)}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bn(r.key),r)}}function pn(e,t,n){return t=yn(t),function(e,t){if(t&&("object"===un(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mn()?Reflect.construct(t,n||[],yn(e).constructor):t.apply(e,n))}function mn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mn=function(){return!!e})()}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}function gn(e,t){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gn(e,t)}function vn(e,t,n){return(t=bn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e){var t=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==un(t)?t:t+""}cn.registerSymbol=function(e,t){sn["symbol".concat(St()(e))]=t};var xn=32,wn=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),pn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(n,e),r=n,i=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,i=xn/6,o=xn/3,a=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:xn,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(xn,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(xn,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach(function(t){vn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(cn,{fill:a,cx:r,cy:r,size:xn,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,i=n.iconSize,o=n.layout,a=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:xn,height:xn},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var o=n.formatter||a,h=u(vn(vn({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var f=M()(n.value)?null:n.value;D(!M()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=n.inactive?s:n.color;return t.createElement("li",dn({className:h,style:c,key:"legend-item-".concat(r)},G(e.props,n,r)),t.createElement(Te,{width:i,height:i,viewBox:l,style:d},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(f,n,r):f))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,i=e.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&fn(r.prototype,i),o&&fn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}vn(wn,"displayName","Legend"),vn(wn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _n=["ref"];function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach(function(t){An(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,In(r.key),r)}}function On(e,t,n){return t=jn(t),function(e,t){if(t&&("object"===Sn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tn()?Reflect.construct(t,n||[],jn(e).constructor):t.apply(e,n))}function Tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Tn=function(){return!!e})()}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jn(e)}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function An(e,t,n){return(t=In(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){var t=function(e,t){if("object"!=Sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sn(t)?t:t+""}function Cn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dn(e){return e.value}var Rn=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return An(e=On(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(n,e),r=n,o=[{key:"getWithHeight",value:function(e,t){var n=En(En({},this.defaultProps),e.props).layout;return"vertical"===n&&E(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?En({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),En(En({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,i=n.width,o=n.height,a=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=En(En({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=Cn(n,_n);return t.createElement(wn,r)}(r,En(En({},this.props),{},{payload:lt(l,s,Dn)})))}}])&&Nn(r.prototype,i),o&&Nn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}An(Rn,"displayName","Legend"),An(Rn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ln=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=u("recharts-dot",o);return n===+n&&r===+r&&i===+i?t.createElement("circle",Mn({},le(e,!1),q(e),{className:a,cx:n,cy:r,r:i})):null},Fn=n(5173),Un=n.n(Fn),Bn=Object.getOwnPropertyNames,$n=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty;function zn(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function Vn(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Hn(e){return Bn(e).concat($n(e))}var qn=Object.hasOwn||function(e,t){return Wn.call(e,t)};function Gn(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Kn=Object.getOwnPropertyDescriptor,Yn=Object.keys;function Qn(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Xn(e,t){return Gn(e.getTime(),t.getTime())}function Jn(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Zn(e,t){return e===t}function er(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var tr=Gn;function nr(e,t,n){var r=Yn(e),i=r.length;if(Yn(t).length!==i)return!1;for(;i-- >0;)if(!cr(e,t,n,r[i]))return!1;return!0}function rr(e,t,n){var r,i,o,a=Hn(e),s=a.length;if(Hn(t).length!==s)return!1;for(;s-- >0;){if(!cr(e,t,n,r=a[s]))return!1;if(i=Kn(e,r),o=Kn(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function ir(e,t){return Gn(e.valueOf(),t.valueOf())}function or(e,t){return e.source===t.source&&e.flags===t.flags}function ar(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function sr(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function lr(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cr(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||qn(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var ur=Array.isArray,dr="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,hr=Object.assign,fr=Object.prototype.toString.call.bind(Object.prototype.toString);var pr=mr();mr({strict:!0}),mr({circular:!0}),mr({circular:!0,strict:!0}),mr({createInternalComparator:function(){return Gn}}),mr({strict:!0,createInternalComparator:function(){return Gn}}),mr({circular:!0,createInternalComparator:function(){return Gn}}),mr({circular:!0,createInternalComparator:function(){return Gn},strict:!0});function mr(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?rr:Qn,areDatesEqual:Xn,areErrorsEqual:Jn,areFunctionsEqual:Zn,areMapsEqual:r?zn(er,rr):er,areNumbersEqual:tr,areObjectsEqual:r?rr:nr,arePrimitiveWrappersEqual:ir,areRegExpsEqual:or,areSetsEqual:r?zn(ar,rr):ar,areTypedArraysEqual:r?rr:sr,areUrlsEqual:lr};if(n&&(i=hr({},i,n(i))),t){var o=Vn(i.areArraysEqual),a=Vn(i.areMapsEqual),s=Vn(i.areObjectsEqual),l=Vn(i.areSetsEqual);i=hr({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var y=e.constructor;if(y!==f.constructor)return!1;if(y===Object)return s(e,f,p);if(ur(e))return t(e,f,p);if(null!=dr&&dr(e))return d(e,f,p);if(y===Date)return n(e,f,p);if(y===RegExp)return c(e,f,p);if(y===Map)return o(e,f,p);if(y===Set)return u(e,f,p);var g=fr(e);return"[object Date]"===g?n(e,f,p):"[object RegExp]"===g?c(e,f,p):"[object Map]"===g?o(e,f,p):"[object Set]"===g?u(e,f,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===g?h(e,f,p):"[object Error]"===g?r(e,f,p):"[object Arguments]"===g?s(e,f,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function vr(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=vr(r),o=i[0],a=i.slice(1);return"number"===typeof o?void yr(n.bind(null,a),o):(n(o),void yr(n.bind(null,a)))}"object"===gr(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(t){kr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=function(e){return e},Nr=function(e,t){return Object.keys(t).reduce(function(n,r){return _r(_r({},n),{},kr({},r,e(r,t[r])))},{})},Or=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Pr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e){return function(e){if(Array.isArray(e))return Ar(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){if(e){if("string"===typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ir=1e-4,Cr=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Dr=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},Rr=function(e,t){return function(n){var r=Cr(e,t);return Dr(r,n)}},Mr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=Tr(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=Rr(r,o),f=Rr(i,a),p=(u=r,d=o,function(e){var t=Cr(u,d),n=[].concat(jr(t.map(function(e,t){return e*t}).slice(1)),[0]);return Dr(n,e)}),m=function(e){return e>1?1:e<0?0:e},y=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=p(n);if(Math.abs(i-t)<Ir||o<Ir)return f(n);n=m(n-i/o)}return f(n)};return y.isStepper=!1,y},Lr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mr(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<Ir&&Math.abs(o)<Ir?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return Mr(r)}return"function"===typeof r?r:null};function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Ur(e){return function(e){if(Array.isArray(e))return Hr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach(function(t){Wr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Vr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){if(e){if("string"===typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(e,t):void 0}}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qr=function(e,t,n){return e+(t-e)*n},Gr=function(e){return e.from!==e.to},Kr=function e(t,n,r){var i=Nr(function(e,n){if(Gr(n)){var r=zr(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return $r($r({},n),{},{from:i,velocity:o})}return n},n);return r<1?Nr(function(e,t){return Gr(t)?$r($r({},t),{},{velocity:qr(t.velocity,i[e].velocity,r),from:qr(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const Yr=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return $r($r({},n),{},Wr({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return $r($r({},n),{},Wr({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=Kr(n,d,o),i($r($r($r({},e),t),Nr(function(e,t){return t.from},d))),s=r,Object.values(d).filter(Gr).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=Nr(function(e,t){return qr.apply(void 0,Ur(t).concat([n(a)]))},u);if(i($r($r($r({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=Nr(function(e,t){return qr.apply(void 0,Ur(t).concat([n(1)]))},u);i($r($r($r({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}var Xr=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zr(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach(function(t){ri(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ri(e,t,n){return(t=oi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oi(r.key),r)}}function oi(e){var t=function(e,t){if("object"!==Qr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qr(t)?t:String(t)}function ai(e,t){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ai(e,t)}function si(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=ui(e);if(t){var i=ui(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){if(t&&("object"===Qr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ui(e)}var di=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}(a,e);var n,r,i,o=si(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(ci(n)),n.changeStyle=n.changeStyle.bind(ci(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),li(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},li(n);n.state={style:s?ri({},s,l):l}}else n.state={style:{}};return n}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(pr(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?ri({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(ni(ni({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?ri({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Yr(n,r,Lr(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(Zr(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Zr(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=Or(h,o,s),p=ni(ni(ni({},d.style),l),{},{transition:f});return[].concat(Zr(e),[p,o,u]).filter(Er)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=xr());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?ri({},r,i):i,h=Or(Object.keys(d),n,o);u.start([a,t,ni(ni({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Jr(e,Xr)),a=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!i||0===a||r<=0)return n;var l=function(e){var n=e.props,r=n.style,i=void 0===r?{}:r,a=n.className;return(0,t.cloneElement)(e,ni(ni({},o),{},{style:ni(ni({},i),s),className:a}))};return 1===a?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&ii(n.prototype,r),i&&ii(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent);di.displayName="Animate",di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},di.propTypes={from:Un().oneOfType([Un().object,Un().string]),to:Un().oneOfType([Un().object,Un().string]),attributeName:Un().string,duration:Un().number,begin:Un().number,easing:Un().oneOfType([Un().string,Un().func]),steps:Un().arrayOf(Un().shape({duration:Un().number.isRequired,style:Un().object.isRequired,easing:Un().oneOfType([Un().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Un().func]),properties:Un().arrayOf("string"),onAnimationEnd:Un().func})),children:Un().oneOfType([Un().node,Un().func]),isActive:Un().bool,canBegin:Un().bool,onAnimationEnd:Un().func,shouldReAnimate:Un().bool,onAnimationStart:Un().func,onAnimationReStart:Un().func};const hi=di;function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach(function(t){bi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bi(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},wi=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Si={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_i=function(e){var n=vi(vi({},Si),e),r=(0,t.useRef)(),i=mi((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.width,d=n.height,h=n.radius,f=n.className,p=n.animationEasing,m=n.animationDuration,y=n.animationBegin,g=n.isAnimationActive,v=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var b=u("recharts-rectangle",f);return v?t.createElement(hi,{canBegin:o>0,from:{width:c,height:d,x:s,y:l},to:{width:c,height:d,x:s,y:l},duration:m,animationEasing:p,isActive:v},function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return t.createElement(hi,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:g,easing:p},t.createElement("path",pi({},le(n,!0),{className:b,d:xi(s,l,i,a,h),ref:r})))}):t.createElement("path",pi({},le(n,!0),{className:b,d:xi(s,l,c,d,h)}))};function ki(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ei(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Ni extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Oi(this,e))}has(e){return super.has(Oi(this,e))}set(e,t){return super.set(Ti(this,e),t)}delete(e){return super.delete(ji(this,e))}}Set;function Oi(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Ti(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function ji(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Pi(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Ai=Symbol("implicit");function Ii(){var e=new Ni,t=[],n=[],r=Ai;function i(i){let o=e.get(i);if(void 0===o){if(r!==Ai)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ni;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Ii(t,n).unknown(r)},ki.apply(i,arguments),i}function Ci(){var e,t,n=Ii().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Ci(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},ki.apply(d(),arguments)}function Di(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Di(t())},e}function Ri(){return Di(Ci.apply(null,arguments).paddingInner(1))}function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach(function(t){Ui(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ui(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi={widthCache:{},cacheCount:0},$i={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wi="recharts_measurement_span";var zi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||ot.isSsr)return{width:0,height:0};var n=function(e){var t=Fi({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Bi.widthCache[r])return Bi.widthCache[r];try{var i=document.getElementById(Wi);i||((i=document.createElement("span")).setAttribute("id",Wi),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Fi(Fi({},$i),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return Bi.widthCache[r]=s,++Bi.cacheCount>2e3&&(Bi.cacheCount=0,Bi.widthCache={}),s}catch(l){return{width:0,height:0}}};function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ki(r.key),r)}}function Ki(e){var t=function(e,t){if("object"!=Vi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vi(t)?t:t+""}var Yi=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qi=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xi=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ji=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zi={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},eo=Object.keys(Zi),to="NaN";var no=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Xi.test(n)||(this.num=NaN,this.unit=""),eo.includes(n)&&(this.num=function(e,t){return e*Zi[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Hi(null!==(n=Ji.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Gi(t.prototype,n),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function ro(e){if(e.includes(to))return to;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Hi(null!==(n=Yi.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=no.parse(null!==i&&void 0!==i?i:""),l=no.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return to;t=t.replace(Yi,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Hi(null!==(u=Qi.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=no.parse(null!==h&&void 0!==h?h:""),y=no.parse(null!==p&&void 0!==p?p:""),g="+"===f?m.add(y):m.subtract(y);if(g.isNaN())return to;t=t.replace(Qi,g.toString())}return t}var io=/\(([^()]*)\)/;function oo(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Hi(io.exec(t),2)[1];t=t.replace(io,ro(n))}return t}(t),t=ro(t)}function ao(e){var t=function(e){try{return oo(e)}catch(t){return to}}(e.slice(5,-1));return t===to?"":t}var so=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lo=["dx","dy","angle","className","breakAll"];function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}function uo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var po=/[ \f\n\r\t\v\u2028\u2029]+/,mo=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return S()(t)||(i=n?t.toString().split(""):t.toString().split(po)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:zi(e,r).width}}),spaceWidth:n?0:zi("\xa0",r).width}}catch(o){return null}},yo=function(e){return[{words:S()(e)?[]:e.toString().split(po)}]},go=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!ot.isSsr){var s=mo({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=E(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=mo({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,y=u.length-1,g=0;m<=y&&g<=u.length-1;){var v=Math.floor((m+y)/2),b=ho(p(v-1),2),x=b[0],w=b[1],S=ho(p(v),1)[0];if(x||S||(m=v+1),x&&S&&(y=v-1),!x&&S){f=w;break}g++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):yo(r)}return yo(r)},vo="#808080",bo=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,h=void 0!==d&&d,f=e.textAnchor,p=void 0===f?"start":f,m=e.verticalAnchor,y=void 0===m?"end":m,g=e.fill,v=void 0===g?vo:g,b=uo(e,so),x=(0,t.useMemo)(function(){return go({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),w=b.dx,S=b.dy,_=b.angle,k=b.className,O=b.breakAll,T=uo(b,lo);if(!N(r)||!N(o))return null;var j,P=r+(E(w)?w:0),A=o+(E(S)?S:0);switch(y){case"start":j=ao("calc(".concat(c,")"));break;case"middle":j=ao("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=ao("calc(".concat(x.length-1," * -").concat(s,")"))}var I=[];if(h){var C=x[0].width,D=b.width;I.push("scale(".concat((E(D)?D/C:1)/C,")"))}return _&&I.push("rotate(".concat(_,", ").concat(P,", ").concat(A,")")),I.length&&(T.transform=I.join(" ")),t.createElement("text",co({},le(T,!0),{x:P,y:A,className:u("recharts-text",k),textAnchor:p,fill:v.includes("url")?vo:v}),x.map(function(e,n){var r=e.words.join(O?"":" ");return t.createElement("tspan",{x:P,dy:0===n?j:s,key:"".concat(r,"-").concat(n)},r)}))};const xo=Math.sqrt(50),wo=Math.sqrt(10),So=Math.sqrt(2);function _o(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=xo?10:o>=wo?5:o>=So?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?_o(e,t,2*n):[s,l,c]}function ko(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?_o(t,e,n):_o(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Eo(e,t,n){return _o(e=+e,t=+t,n=+n)[2]}function No(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Eo(t,e,n):Eo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Oo(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function To(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jo(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Oo,n=(t,n)=>Oo(e(t),n),r=(t,n)=>e(t)-n):(t=e===Oo||e===To?e:Po,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Po(){return 0}function Ao(e){return null===e?NaN:+e}const Io=jo(Oo),Co=Io.right,Do=(Io.left,jo(Ao).center,Co);function Ro(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lo(){}var Fo=.7,Uo=1/Fo,Bo="\\s*([+-]?\\d+)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zo=/^#([0-9a-f]{3,8})$/,Vo=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),Ho=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),qo=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${$o}\\)$`),Go=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${$o}\\)$`),Ko=new RegExp(`^hsl\\(${$o},${Wo},${Wo}\\)$`),Yo=new RegExp(`^hsla\\(${$o},${Wo},${Wo},${$o}\\)$`),Qo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xo(){return this.rgb().formatHex()}function Jo(){return this.rgb().formatRgb()}function Zo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ea(t):3===n?new ra(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ta(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ta(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Vo.exec(e))?new ra(t[1],t[2],t[3],1):(t=Ho.exec(e))?new ra(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qo.exec(e))?ta(t[1],t[2],t[3],t[4]):(t=Go.exec(e))?ta(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ko.exec(e))?ca(t[1],t[2]/100,t[3]/100,1):(t=Yo.exec(e))?ca(t[1],t[2]/100,t[3]/100,t[4]):Qo.hasOwnProperty(e)?ea(Qo[e]):"transparent"===e?new ra(NaN,NaN,NaN,0):null}function ea(e){return new ra(e>>16&255,e>>8&255,255&e,1)}function ta(e,t,n,r){return r<=0&&(e=t=n=NaN),new ra(e,t,n,r)}function na(e,t,n,r){return 1===arguments.length?((i=e)instanceof Lo||(i=Zo(i)),i?new ra((i=i.rgb()).r,i.g,i.b,i.opacity):new ra):new ra(e,t,n,null==r?1:r);var i}function ra(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ia(){return`#${la(this.r)}${la(this.g)}${la(this.b)}`}function oa(){const e=aa(this.opacity);return`${1===e?"rgb(":"rgba("}${sa(this.r)}, ${sa(this.g)}, ${sa(this.b)}${1===e?")":`, ${e})`}`}function aa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function la(e){return((e=sa(e))<16?"0":"")+e.toString(16)}function ca(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new da(e,t,n,r)}function ua(e){if(e instanceof da)return new da(e.h,e.s,e.l,e.opacity);if(e instanceof Lo||(e=Zo(e)),!e)return new da;if(e instanceof da)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new da(a,s,l,e.opacity)}function da(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ha(e){return(e=(e||0)%360)<0?e+360:e}function fa(e){return Math.max(0,Math.min(1,e||0))}function pa(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ma(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ro(Lo,Zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xo,formatHex:Xo,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ua(this).formatHsl()},formatRgb:Jo,toString:Jo}),Ro(ra,na,Mo(Lo,{brighter(e){return e=null==e?Uo:Math.pow(Uo,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Fo:Math.pow(Fo,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ra(sa(this.r),sa(this.g),sa(this.b),aa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ia,formatHex:ia,formatHex8:function(){return`#${la(this.r)}${la(this.g)}${la(this.b)}${la(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:oa,toString:oa})),Ro(da,function(e,t,n,r){return 1===arguments.length?ua(e):new da(e,t,n,null==r?1:r)},Mo(Lo,{brighter(e){return e=null==e?Uo:Math.pow(Uo,e),new da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Fo:Math.pow(Fo,e),new da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ra(pa(e>=240?e-240:e+120,i,r),pa(e,i,r),pa(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new da(ha(this.h),fa(this.s),fa(this.l),aa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=aa(this.opacity);return`${1===e?"hsl(":"hsla("}${ha(this.h)}, ${100*fa(this.s)}%, ${100*fa(this.l)}%${1===e?")":`, ${e})`}`}}));const ya=e=>()=>e;function ga(e,t){return function(n){return e+n*t}}function va(e){return 1===(e=+e)?ba:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ya(isNaN(t)?n:t)}}function ba(e,t){var n=t-e;return n?ga(e,n):ya(isNaN(e)?t:e)}const xa=function e(t){var n=va(t);function r(e,t){var r=n((e=na(e)).r,(t=na(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=ba(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function wa(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=na(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}wa(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return ma((n-r/t)*t,a,i,o,s)}}),wa(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return ma((n-r/t)*t,i,o,a,s)}});function Sa(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Pa(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function _a(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ka(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ea(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Pa(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oa=new RegExp(Na.source,"g");function Ta(e,t){var n,r,i,o=Na.lastIndex=Oa.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Na.exec(e))&&(r=Oa.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:ka(n,r)})),o=Oa.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ja(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Pa(e,t){var n,r=typeof t;return null==t||"boolean"===r?ya(t):("number"===r?ka:"string"===r?(n=Zo(t))?(t=n,xa):Ta:t instanceof Zo?xa:t instanceof Date?_a:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ja:Array.isArray(t)?Sa:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Ea:ka)(e,t)}function Aa(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ia(e){return+e}var Ca=[0,1];function Da(e){return e}function Ra(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Ma(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ra(i,r),o=n(a,o)):(r=Ra(r,i),o=n(o,a)),function(e){return o(r(e))}}function La(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ra(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Do(e,t,1,r)-1;return o[n](i[n](t))}}function Fa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ua(){var e,t,n,r,i,o,a=Ca,s=Ca,l=Pa,c=Da;function u(){var e=Math.min(a.length,s.length);return c!==Da&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?La:Ma,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),ka)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Ia),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Aa,u()},d.clamp=function(e){return arguments.length?(c=!!e||Da,u()):c!==Da},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Ba(){return Ua()(Da,Da)}var $a,Wa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function za(e){if(!(t=Wa.exec(e)))throw new Error("invalid format: "+e);var t;return new Va({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Va(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ha(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qa(e){return(e=Ha(Math.abs(e)))?e[1]:NaN}function Ga(e,t){var n=Ha(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}za.prototype=Va.prototype,Va.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ka={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ga(100*e,t),r:Ga,s:function(e,t){var n=Ha(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ha(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ya(e){return e}var Qa,Xa,Ja,Za=Array.prototype.map,es=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ts(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Ya:(t=Za.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Ya:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Za.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=za(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Ka[v]||(void 0===y&&(y=12),g=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?l:"",w=Ka[v],S=/[defgprs%]/.test(v);function _(e){var i,o,l,h=b,_=x;if("c"===v)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===v?es[8+$a/3]:"")+_+(k&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+_.length,N=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(N+e,N.length?p-_.length:1/0),N=""),n){case"<":e=h+e+_+N;break;case"=":e=h+N+e+_;break;case"^":e=N.slice(0,E=N.length>>1)+h+e+_+N.slice(E);break;default:e=N+h+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=za(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(qa(t)/3))),i=Math.pow(10,-r),o=es[8+r/3];return function(e){return n(i*e)+o}}}}function ns(e,t,n,r){var i,o=No(e,t,n);switch((r=za(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qa(t)/3)))-qa(Math.abs(e)))}(o,a))||(r.precision=i),Ja(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qa(t)-qa(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-qa(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Xa(r)}function rs(e){var t=e.domain;return e.ticks=function(e){var n=t();return ko(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ns(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Eo(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function is(){var e=Ba();return e.copy=function(){return Fa(e,is())},ki.apply(e,arguments),rs(e)}function os(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ia),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return os(e).unknown(t)},e=arguments.length?Array.from(e,Ia):[0,1],rs(n)}function as(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function ss(e){return Math.log(e)}function ls(e){return Math.exp(e)}function cs(e){return-Math.log(-e)}function us(e){return-Math.exp(-e)}function ds(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hs(e){return(t,n)=>-e(-t,n)}function fs(e){const t=e(ss,ls),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?ds:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=hs(r),i=hs(i),e(cs,us)):e(ss,ls),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=ko(a,s,f))}else p=ko(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=za(n)).precision||(n.trim=!0),n=Xa(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(as(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function ps(){const e=fs(Ua()).domain([1,10]);return e.copy=()=>Fa(e,ps()).base(e.base()),ki.apply(e,arguments),e}function ms(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ys(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gs(e){var t=1,n=e(ms(t),ys(t));return n.constant=function(n){return arguments.length?e(ms(t=+n),ys(t)):t},rs(n)}function vs(){var e=gs(Ua());return e.copy=function(){return Fa(e,vs()).constant(e.constant())},ki.apply(e,arguments)}function bs(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xs(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ws(e){return e<0?-e*e:e*e}function Ss(e){var t=e(Da,Da),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Da,Da):.5===n?e(xs,ws):e(bs(n),bs(1/n)):n},rs(t)}function _s(){var e=Ss(Ua());return e.copy=function(){return Fa(e,_s()).exponent(e.exponent())},ki.apply(e,arguments),e}function ks(){return _s.apply(null,arguments).exponent(.5)}function Es(e){return Math.sign(e)*e*e}function Ns(){var e,t=Ba(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Es(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Ia)).map(Es)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ns(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},ki.apply(i,arguments),rs(i)}function Os(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Ts(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo;if(e===Oo)return Ps;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Ps(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function As(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Ps:js(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);As(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Is(e,n,t),i(e[r],o)>0&&Is(e,n,r);a<s;){for(Is(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Is(e,n,s):(++s,Is(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Is(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Cs(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Ts(e);if(t>=1)return Os(e);var r,i=(r-1)*t,o=Math.floor(i),a=Os(As(e,o).subarray(0,o+1));return a+(Ts(e.subarray(o+1))-a)*(i-o)}}function Ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ao;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Rs(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Ds(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Do(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Oo),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Rs().domain(t).range(n).unknown(e)},ki.apply(o,arguments)}function Ms(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[Do(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Ms().domain([t,n]).range(o).unknown(e)},ki.apply(rs(a),arguments)}function Ls(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Do(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ls().domain(t).range(n).unknown(e)},ki.apply(i,arguments)}Qa=ts({thousands:",",grouping:[3],currency:["$",""]}),Xa=Qa.format,Ja=Qa.formatPrefix;const Fs=1e3,Us=6e4,Bs=36e5,$s=864e5,Ws=6048e5,zs=2592e6,Vs=31536e6,Hs=new Date,qs=new Date;function Gs(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Gs(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Hs.setTime(+t),qs.setTime(+r),e(Hs),e(qs),Math.floor(n(Hs,qs))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Ks=Gs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ks.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Gs(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ks:null);Ks.range;const Ys=Gs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCSeconds()),Qs=(Ys.range,Gs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fs)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getMinutes())),Xs=(Qs.range,Gs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getUTCMinutes())),Js=(Xs.range,Gs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fs-e.getMinutes()*Us)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getHours())),Zs=(Js.range,Gs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCHours())),el=(Zs.range,Gs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Us)/$s,e=>e.getDate()-1)),tl=(el.range,Gs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$s,e=>e.getUTCDate()-1)),nl=(tl.range,Gs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$s,e=>Math.floor(e/$s)));nl.range;function rl(e){return Gs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Us)/Ws)}const il=rl(0),ol=rl(1),al=rl(2),sl=rl(3),ll=rl(4),cl=rl(5),ul=rl(6);il.range,ol.range,al.range,sl.range,ll.range,cl.range,ul.range;function dl(e){return Gs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ws)}const hl=dl(0),fl=dl(1),pl=dl(2),ml=dl(3),yl=dl(4),gl=dl(5),vl=dl(6),bl=(hl.range,fl.range,pl.range,ml.range,yl.range,gl.range,vl.range,Gs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),xl=(bl.range,Gs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),wl=(xl.range,Gs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));wl.every=e=>isFinite(e=Math.floor(e))&&e>0?Gs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;wl.range;const Sl=Gs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sl.every=e=>isFinite(e=Math.floor(e))&&e>0?Gs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Sl.range;function _l(e,t,n,r,i,o){const a=[[Ys,1,Fs],[Ys,5,5e3],[Ys,15,15e3],[Ys,30,3e4],[o,1,Us],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Bs],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,$s],[r,2,1728e5],[n,1,Ws],[t,1,zs],[t,3,7776e6],[e,1,Vs]];function s(t,n,r){const i=Math.abs(n-t)/r,o=jo(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(No(t/Vs,n/Vs,r));if(0===o)return Ks.every(Math.max(No(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[kl,El]=_l(Sl,xl,hl,nl,Zs,Xs),[Nl,Ol]=_l(wl,bl,il,el,Js,Qs);function Tl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Al,Il,Cl,Dl={"-":"",_:" ",0:"0"},Rl=/^\s*\d+/,Ml=/^%/,Ll=/[\\^$*+?|[\]().{}]/g;function Fl(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ul(e){return e.replace(Ll,"\\$&")}function Bl(e){return new RegExp("^(?:"+e.map(Ul).join("|")+")","i")}function $l(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Wl(e,t,n){var r=Rl.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zl(e,t,n){var r=Rl.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Vl(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Hl(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ql(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Gl(e,t,n){var r=Rl.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kl(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yl(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ql(e,t,n){var r=Rl.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Xl(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Jl(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Zl(e,t,n){var r=Rl.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ec(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tc(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nc(e,t,n){var r=Rl.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rc(e,t,n){var r=Rl.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ic(e,t,n){var r=Rl.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oc(e,t,n){var r=Ml.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ac(e,t,n){var r=Rl.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sc(e,t,n){var r=Rl.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lc(e,t){return Fl(e.getDate(),t,2)}function cc(e,t){return Fl(e.getHours(),t,2)}function uc(e,t){return Fl(e.getHours()%12||12,t,2)}function dc(e,t){return Fl(1+el.count(wl(e),e),t,3)}function hc(e,t){return Fl(e.getMilliseconds(),t,3)}function fc(e,t){return hc(e,t)+"000"}function pc(e,t){return Fl(e.getMonth()+1,t,2)}function mc(e,t){return Fl(e.getMinutes(),t,2)}function yc(e,t){return Fl(e.getSeconds(),t,2)}function gc(e){var t=e.getDay();return 0===t?7:t}function vc(e,t){return Fl(il.count(wl(e)-1,e),t,2)}function bc(e){var t=e.getDay();return t>=4||0===t?ll(e):ll.ceil(e)}function xc(e,t){return e=bc(e),Fl(ll.count(wl(e),e)+(4===wl(e).getDay()),t,2)}function wc(e){return e.getDay()}function Sc(e,t){return Fl(ol.count(wl(e)-1,e),t,2)}function _c(e,t){return Fl(e.getFullYear()%100,t,2)}function kc(e,t){return Fl((e=bc(e)).getFullYear()%100,t,2)}function Ec(e,t){return Fl(e.getFullYear()%1e4,t,4)}function Nc(e,t){var n=e.getDay();return Fl((e=n>=4||0===n?ll(e):ll.ceil(e)).getFullYear()%1e4,t,4)}function Oc(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fl(t/60|0,"0",2)+Fl(t%60,"0",2)}function Tc(e,t){return Fl(e.getUTCDate(),t,2)}function jc(e,t){return Fl(e.getUTCHours(),t,2)}function Pc(e,t){return Fl(e.getUTCHours()%12||12,t,2)}function Ac(e,t){return Fl(1+tl.count(Sl(e),e),t,3)}function Ic(e,t){return Fl(e.getUTCMilliseconds(),t,3)}function Cc(e,t){return Ic(e,t)+"000"}function Dc(e,t){return Fl(e.getUTCMonth()+1,t,2)}function Rc(e,t){return Fl(e.getUTCMinutes(),t,2)}function Mc(e,t){return Fl(e.getUTCSeconds(),t,2)}function Lc(e){var t=e.getUTCDay();return 0===t?7:t}function Fc(e,t){return Fl(hl.count(Sl(e)-1,e),t,2)}function Uc(e){var t=e.getUTCDay();return t>=4||0===t?yl(e):yl.ceil(e)}function Bc(e,t){return e=Uc(e),Fl(yl.count(Sl(e),e)+(4===Sl(e).getUTCDay()),t,2)}function $c(e){return e.getUTCDay()}function Wc(e,t){return Fl(fl.count(Sl(e)-1,e),t,2)}function zc(e,t){return Fl(e.getUTCFullYear()%100,t,2)}function Vc(e,t){return Fl((e=Uc(e)).getUTCFullYear()%100,t,2)}function Hc(e,t){return Fl(e.getUTCFullYear()%1e4,t,4)}function qc(e,t){var n=e.getUTCDay();return Fl((e=n>=4||0===n?yl(e):yl.ceil(e)).getUTCFullYear()%1e4,t,4)}function Gc(){return"+0000"}function Kc(){return"%"}function Yc(e){return+e}function Qc(e){return Math.floor(+e/1e3)}function Xc(e){return new Date(e)}function Jc(e){return e instanceof Date?+e:+new Date(+e)}function Zc(e,t,n,r,i,o,a,s,l,c){var u=Ba(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Jc)):h().map(Xc)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(as(n,e)):u},u.copy=function(){return Fa(u,Zc(e,t,n,r,i,o,a,s,l,c))},u}function eu(){return ki.apply(Zc(Nl,Ol,wl,bl,il,el,Js,Qs,Ys,Il).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tu(){return ki.apply(Zc(kl,El,Sl,xl,hl,tl,Zs,Xs,Ys,Cl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nu(){var e,t,n,r,i,o=0,a=1,s=Da,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Pa),c.rangeRound=u(Aa),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function ru(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iu(){var e=rs(nu()(Da));return e.copy=function(){return ru(e,iu())},Ei.apply(e,arguments)}function ou(){var e=fs(nu()).domain([1,10]);return e.copy=function(){return ru(e,ou()).base(e.base())},Ei.apply(e,arguments)}function au(){var e=gs(nu());return e.copy=function(){return ru(e,au()).constant(e.constant())},Ei.apply(e,arguments)}function su(){var e=Ss(nu());return e.copy=function(){return ru(e,su()).exponent(e.exponent())},Ei.apply(e,arguments)}function lu(){return su.apply(null,arguments).exponent(.5)}function cu(){var e=[],t=Da;function n(n){if(null!=n&&!isNaN(n=+n))return t((Do(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Oo),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Cs(e,r/t))},n.copy=function(){return cu(t).domain(e)},Ei.apply(n,arguments)}function uu(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=Da,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Pa);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Pa),f.rangeRound=p(Aa),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function du(){var e=rs(uu()(Da));return e.copy=function(){return ru(e,du())},Ei.apply(e,arguments)}function hu(){var e=fs(uu()).domain([.1,1,10]);return e.copy=function(){return ru(e,hu()).base(e.base())},Ei.apply(e,arguments)}function fu(){var e=gs(uu());return e.copy=function(){return ru(e,fu()).constant(e.constant())},Ei.apply(e,arguments)}function pu(){var e=Ss(uu());return e.copy=function(){return ru(e,pu()).exponent(e.exponent())},Ei.apply(e,arguments)}function mu(){return pu.apply(null,arguments).exponent(.5)}function yu(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Al=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Bl(i),u=$l(i),d=Bl(o),h=$l(o),f=Bl(a),p=$l(a),m=Bl(s),y=$l(s),g=Bl(l),v=$l(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:lc,e:lc,f:fc,g:kc,G:Nc,H:cc,I:uc,j:dc,L:hc,m:pc,M:mc,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Yc,s:Qc,S:yc,u:gc,U:vc,V:xc,w:wc,W:Sc,x:null,X:null,y:_c,Y:Ec,Z:Oc,"%":Kc},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Tc,e:Tc,f:Cc,g:Vc,G:qc,H:jc,I:Pc,j:Ac,L:Ic,m:Dc,M:Rc,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Yc,s:Qc,S:Mc,u:Lc,U:Fc,V:Bc,w:$c,W:Wc,x:null,X:null,y:zc,Y:Hc,Z:Gc,"%":Kc},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Jl,e:Jl,f:ic,g:Kl,G:Gl,H:ec,I:ec,j:Zl,L:rc,m:Xl,M:tc,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ql,Q:ac,s:sc,S:nc,u:zl,U:Vl,V:Hl,w:Wl,W:ql,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Kl,Y:Gl,Z:Yl,"%":oc};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Dl[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=Pl(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=jl(Pl(o.y,0,1))).getUTCDay(),r=i>4||0===i?fl.ceil(r):fl(r),r=tl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Tl(Pl(o.y,0,1))).getDay(),r=i>4||0===i?ol.ceil(r):ol(r),r=el.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?jl(Pl(o.y,0,1)).getUTCDay():Tl(Pl(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,jl(o)):Tl(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in Dl?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Il=Al.format,Al.parse,Cl=Al.utcFormat,Al.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function gu(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function vu(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bu(e,t){return e[t]}function xu(e){const t=[];return t.key=e,t}var wu=n(539),Su=n.n(wu),_u=n(6745),ku=n.n(_u),Eu=n(3538),Nu=n.n(Eu),Ou=n(9853),Tu=n.n(Ou),ju=n(8210),Pu=n.n(ju);function Au(e){return function(e){if(Array.isArray(e))return Iu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cu=function(e){return e},Du={"@@functional/placeholder":!0},Ru=function(e){return e===Du},Mu=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Ru(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Lu=function e(t,n){return 1===t?n:Mu(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==Du}).length;return a>=t?n.apply(void 0,i):e(t-a,Mu(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return Ru(e)?t.shift():e});return n.apply(void 0,Au(o).concat(t))}))})},Fu=function(e){return Lu(e.length,e)},Uu=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Bu=Fu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),$u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Cu;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},Wu=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zu=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var Vu=Fu(function(e,t,n){var r=+e;return r+n*(+t-r)}),Hu=Fu(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),qu=Fu(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Gu={rangeStep:function(e,t,n){for(var r=new(Pu())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(Pu())(e).abs().log(10).toNumber())+1},interpolateNumber:Vu,uninterpolateNumber:Hu,uninterpolateTruncation:qu};function Ku(e){return function(e){if(Array.isArray(e))return Xu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Qu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(e,t){if(e){if("string"===typeof e)return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ju(e){var t=Yu(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Zu(e,t,n){if(e.lte(0))return new(Pu())(0);var r=Gu.getDigitCount(e.toNumber()),i=new(Pu())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(Pu())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(Pu())(Math.ceil(s))}function ed(e,t,n){var r=1,i=new(Pu())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(Pu())(10).pow(Gu.getDigitCount(e)-1),i=new(Pu())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(Pu())(Math.floor(e)))}else 0===e?i=new(Pu())(Math.floor((t-1)/2)):n||(i=new(Pu())(Math.floor(e)));var a=Math.floor((t-1)/2);return $u(Bu(function(e){return i.add(new(Pu())(e-a).mul(r)).toNumber()}),Uu)(0,t)}function td(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Pu())(0),tickMin:new(Pu())(0),tickMax:new(Pu())(0)};var o,a=Zu(new(Pu())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(Pu())(0):(o=new(Pu())(e).add(t).div(2)).sub(new(Pu())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(Pu())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?td(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(Pu())(s).mul(a)),tickMax:o.add(new(Pu())(l).mul(a))})}var nd=zu(function(e){var t=Yu(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Yu(Ju([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Ku(Uu(0,i-1).map(function(){return 1/0}))):[].concat(Ku(Uu(0,i-1).map(function(){return-1/0})),[c]);return n>r?Wu(u):u}if(l===c)return ed(l,i,o);var d=td(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=Gu.rangeStep(f,p.add(new(Pu())(.1).mul(h)),h);return n>r?Wu(m):m}),rd=(zu(function(e){var t=Yu(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Yu(Ju([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return ed(l,i,o);var u=Zu(new(Pu())(c).sub(l).div(a-1),o,0),d=$u(Bu(function(e){return new(Pu())(l).add(new(Pu())(e).mul(u)).toNumber()}),Uu)(0,a).filter(function(e){return e>=l&&e<=c});return n>r?Wu(d):d}),zu(function(e,t){var n=Yu(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Yu(Ju([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=Zu(new(Pu())(l).sub(s).div(c-1),o,0),d=[].concat(Ku(Gu.rangeStep(new(Pu())(s),new(Pu())(l).sub(new(Pu())(.99).mul(u)),u)),[l]);return r>i?Wu(d):d})),id=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function od(e){return od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(e)}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(this,arguments)}function sd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ld(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yd(r.key),r)}}function dd(e,t,n){return t=fd(t),function(e,t){if(t&&("object"===od(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hd()?Reflect.construct(t,n||[],fd(e).constructor):t.apply(e,n))}function hd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hd=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(e)}function pd(e,t){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pd(e,t)}function md(e,t,n){return(t=yd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yd(e){var t=function(e,t){if("object"!=od(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==od(t)?t:t+""}var gd=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),dd(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pd(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=cd(e,id),d=le(u,!1);"x"===this.props.direction&&"number"!==l.type&&ke(!1);var h=a.map(function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,y,g=[];if(Array.isArray(p)){var v=sd(p,2);m=v[0],y=v[1]}else m=y=p;if("vertical"===r){var b=l.scale,x=h+n,w=x+i,S=x-i,_=b(f-m),k=b(f+y);g.push({x1:k,y1:w,x2:k,y2:S}),g.push({x1:_,y1:x,x2:k,y2:x}),g.push({x1:_,y1:w,x2:_,y2:S})}else if("horizontal"===r){var E=c.scale,N=u+n,O=N-i,T=N+i,j=E(f-m),P=E(f+y);g.push({x1:O,y1:P,x2:T,y2:P}),g.push({x1:N,y1:j,x2:N,y2:P}),g.push({x1:O,y1:j,x2:T,y2:j})}return t.createElement(Ie,ad({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),g.map(function(e){return t.createElement("line",ad({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(Ie,{className:"recharts-errorBars"},h)}}],i&&ud(r.prototype,i),o&&ud(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function vd(e){return vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(e)}function bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(n),!0).forEach(function(t){wd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}md(gd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),md(gd,"displayName","ErrorBar");var Sd=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=ie(t,Rn);if(!o)return null;var a,s=Rn.defaultProps,l=void 0!==s?xd(xd({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?xd(xd({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:Ad(t),value:o||i,payload:r}}),xd(xd(xd({},l),Rn.getWithHeight(o,r)),{},{payload:a,item:o})};function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function kd(e){return function(e){if(Array.isArray(e))return Ed(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ed(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(t){Td(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Td(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_d(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jd(e,t,n){return S()(e)||S()(t)?n:N(t)?v()(e,t,n):M()(t)?t(e):n}function Pd(e,t,n,r){var i=Nu()(e,function(e){return jd(e,t)});if("number"===n){var o=i.filter(function(e){return E(e)||parseFloat(e)});return o.length?[ku()(o),Su()(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!S()(e)}):i).map(function(e){return N(e)||e instanceof Date?e:""})}var Ad=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Od(Od({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},Id=function(e,t,n,r,i){var o=re(t.props.children,gd).filter(function(e){return function(e,t,n){return!!S()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=jd(t,n);if(S()(r))return e;var i=Array.isArray(r)?[ku()(r),Su()(r)]:[r,r],o=a.reduce(function(e,n){var r=jd(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},Cd=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&Id(e,t,o,r)||Pd(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},Dd=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Rd=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||a.push(t),o||a.push(n),a},Md=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*_(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!y()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},Ld=new WeakMap,Fd=function(e,t){if("function"!==typeof t)return e;Ld.has(e)||Ld.set(e,new WeakMap);var n=Ld.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Ud=1e-4,Bd={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=y()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}yu(e,t)}},none:yu,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}yu(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,yu(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=y()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},$d=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=Bd[n],o=function(){var e=Ht([]),t=vu,n=yu,r=bu;function i(i){var o,a,s=Array.from(e.apply(this,arguments),xu),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=gu(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Ht(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Ht(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?vu:"function"===typeof e?e:Ht(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?yu:e,i):n},i}().keys(r).value(function(e,t){return+jd(e,t,0)}).order(vu).offset(i);return o(e)};function Wd(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!S()(i[t.dataKey])){var s=I(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=jd(i,S()(a)?t.dataKey:a);return S()(l)?null:t.scale(l)}var zd=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=jd(o,t.dataKey,t.domain[a]);return S()(s)?null:t.scale(s)-i/2+r},Vd=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[ku()(t.concat([e[0]]).filter(E)),Su()(t.concat([e[1]]).filter(E))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Hd=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qd=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gd=function(e,t,n){if(M()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(E(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Hd.test(e[0])){var i=+Hd.exec(e[0])[1];r[0]=t[0]-i}else M()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(E(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(qd.test(e[1])){var o=+qd.exec(e[1])[1];r[1]=t[1]+o}else M()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Kd=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Se()(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Yd=function(e,t,n){return e&&e.length?Tu()(e,v()(n,"type.defaultProps.domain"))?t:e:t},Qd=function(e,t){var n=e.type.defaultProps?Od(Od({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Od(Od({},le(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:Ad(e),value:jd(t,r),type:s,payload:t,chartType:l,hide:c})};function Xd(e){return Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(e)}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(n),!0).forEach(function(t){eh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var th=["Webkit","Moz","O","ms"];function nh(e){return nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(this,arguments)}function ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ih(Object(n),!0).forEach(function(t){dh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hh(r.key),r)}}function sh(e,t,n){return t=ch(t),function(e,t){if(t&&("object"===nh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lh()?Reflect.construct(t,n||[],ch(e).constructor):t.apply(e,n))}function lh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lh=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(e)}function uh(e,t){return uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uh(e,t)}function dh(e,t,n){return(t=hh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hh(e){var t=function(e,t){if("object"!=nh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nh(t)?t:t+""}var fh=function(e){return e.changedTouches&&!!e.changedTouches.length},ph=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),dh(t=sh(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),dh(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),dh(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:i})}),t.detachDragEndListener()}),dh(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),dh(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),dh(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),dh(t,"handleSlideDragStart",function(e){var n=fh(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uh(e,t)}(n,e),r=n,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(i,l),d=n.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=jd(n[e],i,e);return M()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=fh(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(dh(dh({},r,a+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?g%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:g%h===0)||i>o&&v===e}()&&d(y)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(dh({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:a,x:n,y:r,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,r){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,y=Math.max(e,this.props.x),g=oh(oh({},le(this.props,!1)),{},{x:y,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return t.createElement(Ie,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,n){var r=this.props,i=r.y,o=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(Ie,{className:"recharts-brush-texts"},t.createElement(bo,rh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},d),this.getTextOfTick(n)),t.createElement(bo,rh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,d=this.state,h=d.startX,f=d.endX,p=d.isTextActive,m=d.isSlideMoving,y=d.isTravellerMoving,g=d.isTravellerFocused;if(!n||!n.length||!E(o)||!E(a)||!E(s)||!E(l)||s<=0||l<=0)return null;var v=u("recharts-brush",r),b=1===t.Children.count(i),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=th.reduce(function(e,r){return Zd(Zd({},e),{},eh({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(Ie,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,f),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(f,"endX"),(p||m||y||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(r+o/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:i,height:o,fill:a,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+i-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):M()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return oh({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Ri().domain(xe()(0,s)).range([i,i+o-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&ah(r.prototype,i),o&&ah(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function mh(e){return mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(e)}function yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(n),!0).forEach(function(t){vh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dh(ph,"displayName","Brush"),dh(ph,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bh=Math.PI/180,xh=function(e){return 180*e/Math.PI},wh=function(e,t,n,r){return{x:e+Math.cos(-bh*r)*n,y:t+Math.sin(-bh*r)*n}},Sh=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:xh(l),angleInRadian:l}},_h=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},kh=function(e,t){var n=e.x,r=e.y,i=Sh({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?gh(gh({},t),{},{radius:o,angle:_h(f,t)}):null};function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}var Nh=["offset"];function Oh(e){return function(e){if(Array.isArray(e))return Th(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Th(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Th(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ph(Object(n),!0).forEach(function(t){Ih(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ph(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ih(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ch.apply(this,arguments)}var Dh=function(e,n,r){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,d=s,h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius,y=d.startAngle,g=d.endAngle,v=d.clockWise,b=(p+m)/2,x=function(e,t){return _(t-e)*Math.min(Math.abs(t-e),360)}(y,g),w=x>=0?1:-1;"insideStart"===a?(i=y+w*l,o=v):"insideEnd"===a?(i=g-w*l,o=!v):"end"===a&&(i=g+w*l,o=v),o=x<=0?o:!o;var k=wh(h,f,b,i),E=wh(h,f,b,i+359*(o?1:-1)),N="M".concat(k.x,",").concat(k.y,"\n    A").concat(b,",").concat(b,",0,1,").concat(o?0:1,",\n    ").concat(E.x,",").concat(E.y),O=S()(e.id)?T("recharts-radial-line-"):e.id;return t.createElement("text",Ch({},r,{dominantBaseline:"central",className:u("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:O,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(O)},n))};function Rh(e){var n,r=e.offset,i=Ah({offset:void 0===r?5:r},jh(e,Nh)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,h=void 0===d?"":d,f=i.textBreakAll;if(!o||S()(s)&&S()(l)&&!(0,t.isValidElement)(c)&&!M()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,i);if(M()(c)){if(n=(0,t.createElement)(c,i),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=S()(e.children)?t:e.children;return M()(n)?n(r):r}(i);var p=function(e){return"cx"in e&&E(e.cx)}(o),m=le(i,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return Dh(i,n,m);var y=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=wh(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=wh(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return Ah(Ah({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return Ah(Ah({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return Ah(Ah({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return Ah(Ah({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?Ah({x:a+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===i?Ah({x:a+l-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideTop"===i?Ah({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?Ah({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?Ah({x:a+m,y:s+d,textAnchor:g,verticalAnchor:f},x):"insideTopRight"===i?Ah({x:a+l-m,y:s+d,textAnchor:y,verticalAnchor:f},x):"insideBottomLeft"===i?Ah({x:a+m,y:s+c-d,textAnchor:g,verticalAnchor:h},x):"insideBottomRight"===i?Ah({x:a+l-m,y:s+c-d,textAnchor:y,verticalAnchor:h},x):F()(i)&&(E(i.x)||k(i.x))&&(E(i.y)||k(i.y))?Ah({x:a+j(i.x,l),y:s+j(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):Ah({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(i);return t.createElement(bo,Ch({className:u("recharts-label",h)},m,y,{breakAll:f}),n)}Rh.displayName="Label";var Mh=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(E(p)&&E(m)){if(E(u)&&E(d))return{x:u,y:d,width:p,height:m};if(E(h)&&E(f))return{x:h,y:f,width:p,height:m}}return E(u)&&E(d)?{x:u,y:d,width:0,height:0}:E(t)&&E(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:y}:e.viewBox?e.viewBox:{}};Rh.parseViewBox=Mh,Rh.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Mh(e),a=re(i,Rh).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)})});if(!r)return a;var s=function(e,n){return e?!0===e?t.createElement(Rh,{key:"label-implicit",viewBox:n}):N(e)?t.createElement(Rh,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===Rh?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(Rh,{key:"label-implicit",content:e,viewBox:n}):M()(e)?t.createElement(Rh,{key:"label-implicit",content:e,viewBox:n}):F()(e)?t.createElement(Rh,Ch({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||o);return[s].concat(Oh(a))};var Lh=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Fh=n(1733),Uh=n.n(Fh),Bh=n(7002),$h=n.n(Bh),Wh=function(e){return null};Wh.displayName="Cell";var zh=n(4065),Vh=n.n(zh);function Hh(e){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(e)}var qh=["valueAccessor"],Gh=["data","dataKey","clockWise","id","textBreakAll"];function Kh(e){return function(e){if(Array.isArray(e))return Yh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(this,arguments)}function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach(function(t){Zh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Hh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tf=function(e){return Array.isArray(e.value)?Vh()(e.value):e.value};function nf(e){var n=e.valueAccessor,r=void 0===n?tf:n,i=ef(e,qh),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=ef(i,Gh);return o&&o.length?t.createElement(Ie,{className:"recharts-label-list"},o.map(function(e,n){var i=S()(a)?r(e,n):jd(e&&e.payload,a),o=S()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(Rh,Qh({},le(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:Rh.parseViewBox(S()(s)?e:Jh(Jh({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}nf.displayName="LabelList",nf.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=re(e.children,nf).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(nf,{key:"labelList-implicit",data:n}):t.isValidElement(e)||M()(e)?t.createElement(nf,{key:"labelList-implicit",data:n,content:e}):F()(e)?t.createElement(nf,Qh({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(Kh(i)):i};var rf=n(2322),of=n.n(rf),af=n(6361),sf=n.n(af);function lf(e){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(n),!0).forEach(function(t){pf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mf=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},yf={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gf=function(e){var n=ff(ff({},yf),e),r=(0,t.useRef)(),i=uf((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,f=n.className,p=n.animationEasing,m=n.animationDuration,y=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||h!==+h||0===c&&0===d||0===h)return null;var v=u("recharts-trapezoid",f);return g?t.createElement(hi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:h,x:s,y:l},duration:m,animationEasing:p,isActive:g},function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(hi,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:p},t.createElement("path",cf({},le(n,!0),{className:v,d:mf(l,c,i,a,s),ref:r})))}):t.createElement("g",null,t.createElement("path",cf({},le(n,!0),{className:v,d:mf(s,l,c,d,h)})))};function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach(function(t){Sf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _f=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/bh,d=l?i:i+o*u,h=l?i-o*u:i;return{center:wh(t,n,c,d),circleTangency:wh(t,n,r,d),lineTangency:wh(t,n,c*Math.cos(u*bh),h),theta:u}},kf=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return _(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=wh(t,n,i,o),c=wh(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=wh(t,n,r,o),h=wh(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Ef={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Nf=function(e){var n=wf(wf({},Ef),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(a<o||d===h)return null;var p,m=u("recharts-sector",f),y=a-o,g=j(s,y,0,!0);return p=g>0&&Math.abs(d-h)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=_(c-l),d=_f({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=_f({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):kf({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=_f({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=w.circleTangency,k=w.lineTangency,E=w.theta,N=_f({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=N.circleTangency,T=N.lineTangency,j=N.theta,P=s?Math.abs(l-c):Math.abs(l-c)-E-j;if(P<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):kf({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:h}),t.createElement("path",bf({},le(n,!0),{className:m,d:p,role:"img"}))},Of=["option","shapeType","propTransformer","activeClassName","isActive"];function Tf(e){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(e)}function jf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach(function(t){If(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function If(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cf(e,t){return Af(Af({},t),e)}function Df(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(_i,r);case"trapezoid":return t.createElement(gf,r);case"sector":return t.createElement(Nf,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(cn,r);break;default:return null}}function Rf(e){var n,r=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?Cf:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=jf(e,Of);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,Af(Af({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(M()(r))n=r(u);else if(of()(r)&&!sf()(r)){var d=a(r,u);n=t.createElement(Df,{shapeType:i,elementProps:d})}else{var h=u;n=t.createElement(Df,{shapeType:i,elementProps:h})}return c?t.createElement(Ie,{className:l},n):n}function Mf(e,t){return null!=t&&"trapezoids"in e.props}function Lf(e,t){return null!=t&&"sectors"in e.props}function Ff(e,t){return null!=t&&"points"in e.props}function Uf(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function Bf(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function $f(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Wf(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return Mf(e,t)?n="trapezoids":Lf(e,t)?n="sectors":Ff(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return Mf(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Lf(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Ff(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=Tu()(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return Mf(e,t)?n=Uf:Lf(e,t)?n=Bf:Ff(e,t)&&(n=$f),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}var zf=["x","y"];function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(this,arguments)}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(n),!0).forEach(function(t){Kf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qf(e,t){var n=e.x,r=e.y,i=Yf(e,zf),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Gf(Gf(Gf(Gf(Gf({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Xf(e){return t.createElement(Rf,Hf({shapeType:"rectangle",propTransformer:Qf,activeClassName:"recharts-active-bar"},e))}var Jf,Zf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i=E(n)||function(e){return S()(e)}(n);return i?e(n,r):(i||ke(!1),t)}},ep=["value","background"];function tp(e){return tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(e)}function np(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(t){dp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hp(r.key),r)}}function sp(e,t,n){return t=cp(t),function(e,t){if(t&&("object"===tp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lp()?Reflect.construct(t,n||[],cp(e).constructor):t.apply(e,n))}function lp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lp=function(){return!!e})()}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cp(e)}function up(e,t){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},up(e,t)}function dp(e,t,n){return(t=hp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e){var t=function(e,t){if("object"!=tp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tp(t)?t:t+""}var fp=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return dp(e=sp(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),dp(e,"id",T("recharts-bar-")),dp(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),dp(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&up(e,t)}(n,e),r=n,i=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,i=r.shape,o=r.dataKey,a=r.activeIndex,s=r.activeBar,l=le(this.props,!1);return e&&e.map(function(e,r){var c=r===a,u=c?s:i,d=op(op(op({},l),e),{},{isActive:c,option:u,index:r,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(Ie,rp({className:"recharts-bar-rectangle"},G(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(Xf,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,i=n.layout,o=n.isAnimationActive,a=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(hi,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t,a=r.map(function(e,t){var n=u&&u[t];if(n){var r=A(n.x,e.x),a=A(n.y,e.y),s=A(n.width,e.width),l=A(n.height,e.height);return op(op({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=A(0,e.height)(o);return op(op({},e),{},{y:e.y+e.height-c,height:c})}var d=A(0,e.width)(o);return op(op({},e),{},{width:d})});return t.createElement(Ie,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Tu()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,i=n.dataKey,o=n.activeIndex,a=le(this.props.background,!1);return r.map(function(n,r){n.value;var s=n.background,l=np(n,ep);if(!s)return null;var c=op(op(op(op(op({},l),{},{fill:"#eee"},s),a),G(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(Xf,rp({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.data,o=r.xAxis,a=r.yAxis,s=r.layout,l=re(r.children,gd);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:jd(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(Ie,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,d=e.height,h=e.isAnimationActive,f=e.background,p=e.id;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,y=u("recharts-bar",i),g=o&&o.allowDataOverflow,v=a&&a.allowDataOverflow,b=g||v,x=S()(p)?this.id:p;return t.createElement(Ie,{className:y},g||v?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?s:s-c/2,y:v?l:l-d/2,width:g?c:2*c,height:v?d:2*d}))):null,t.createElement(Ie,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(x,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,x),(!h||m)&&nf.renderCallByParent(this.props,r))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&ap(r.prototype,i),o&&ap(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function pp(e){return pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(e)}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bp(r.key),r)}}function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach(function(t){vp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vp(e,t,n){return(t=bp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bp(e){var t=function(e,t){if("object"!=pp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pp(t)?t:t+""}Jf=fp,dp(fp,"displayName","Bar"),dp(fp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ot.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),dp(fp,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,y=void 0!==m?op(op({},m),n.props):n.props,g=y.dataKey,v=y.children,b=y.minPointSize,x="horizontal"===p?a:o,w=c?x.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),k=re(v,Wh),N=d.map(function(e,t){var r,d,h,m,y,v;c?r=function(e,t){if(!t||2!==t.length||!E(t[0])||!E(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!E(e[0])||e[0]<n)&&(i[0]=n),(!E(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=jd(e,g),Array.isArray(r)||(r=[S,r]));var x=Zf(b,Jf.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var N,O=[a.scale(r[0]),a.scale(r[1])],T=O[0],j=O[1];d=zd({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(N=null!==j&&void 0!==j?j:T)&&void 0!==N?N:void 0,m=f.size;var P=T-j;if(y=Number.isNaN(P)?0:P,v={x:d,y:a.y,width:m,height:a.height},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var A=_(y||x)*(Math.abs(x)-Math.abs(y));h-=A,y+=A}}else{var I=[o.scale(r[0]),o.scale(r[1])],C=I[0],D=I[1];if(d=C,h=zd({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=D-C,y=f.size,v={x:o.x,y:h,width:o.width,height:y},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=_(m||x)*(Math.abs(x)-Math.abs(m))}return op(op(op({},e),{},{x:d,y:h,width:m,height:y,value:c?r:r[1],payload:e,background:v},k&&k[t]&&k[t].props),{},{tooltipPayload:[Qd(n,e)],tooltipPosition:{x:d+m/2,y:h+y/2}})});return op({data:N,layout:p},h)});var xp=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},wp=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&mp(t.prototype,n),r&&mp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();vp(wp,"EPS",1e-4);var Sp=function(e){var t=Object.keys(e).reduce(function(t,n){return gp(gp({},t),{},vp({},n,wp.create(e[n])))},{});return gp(gp({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return Uh()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return $h()(e,function(e,n){return t[n].isInRange(e)})}})};function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(this,arguments)}function kp(e){return kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(e)}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach(function(t){Ip(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cp(r.key),r)}}function Tp(e,t,n){return t=Pp(t),function(e,t){if(t&&("object"===kp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jp()?Reflect.construct(t,n||[],Pp(e).constructor):t.apply(e,n))}function jp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jp=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(e)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ap(e,t)}function Ip(e,t,n){return(t=Cp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cp(e){var t=function(e,t){if("object"!=kp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kp(t)?t:t+""}var Dp=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Tp(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,r=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=N(r),c=N(i);if(D(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Sp({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return Lh(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!d)return null;var h=d.x,f=d.y,p=this.props,m=p.shape,y=p.className,g=Np(Np({clipPath:Lh(this.props,"hidden")?"url(#".concat(s,")"):void 0},le(this.props,!0)),{},{cx:h,cy:f});return t.createElement(Ie,{className:u("recharts-reference-dot",y)},n.renderDot(m,g),Rh.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}],i&&Op(r.prototype,i),o&&Op(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);Ip(Dp,"displayName","ReferenceDot"),Ip(Dp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Ip(Dp,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):M()(e)?e(n):t.createElement(Ln,_p({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var Rp=n(4597),Mp=n.n(Rp),Lp=n(8990),Fp=n.n(Lp),Up=n(5797),Bp=n.n(Up)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var $p=(0,t.createContext)(void 0),Wp=(0,t.createContext)(void 0),zp=(0,t.createContext)(void 0),Vp=(0,t.createContext)({}),Hp=(0,t.createContext)(void 0),qp=(0,t.createContext)(0),Gp=(0,t.createContext)(0),Kp=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Bp(o);return t.createElement($p.Provider,{value:r},t.createElement(Wp.Provider,{value:i},t.createElement(Vp.Provider,{value:o},t.createElement(zp.Provider,{value:u},t.createElement(Hp.Provider,{value:a},t.createElement(qp.Provider,{value:c},t.createElement(Gp.Provider,{value:l},s)))))))};var Yp=function(e){var n=(0,t.useContext)($p);null==n&&ke(!1);var r=n[e];return null==r&&ke(!1),r},Qp=function(e){var n=(0,t.useContext)(Wp);null==n&&ke(!1);var r=n[e];return null==r&&ke(!1),r},Xp=function(){return(0,t.useContext)(Gp)},Jp=function(){return(0,t.useContext)(qp)};function Zp(e){return Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(e)}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lm(r.key),r)}}function tm(e,t,n){return t=rm(t),function(e,t){if(t&&("object"===Zp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nm()?Reflect.construct(t,n||[],rm(e).constructor):t.apply(e,n))}function nm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nm=function(){return!!e})()}function rm(e){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rm(e)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},im(e,t)}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(Object(n),!0).forEach(function(t){sm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sm(e,t,n){return(t=lm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e){var t=function(e,t){if("object"!=Zp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zp(t)?t:t+""}function cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return um(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return um(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dm.apply(this,arguments)}function hm(e){var n=e.x,r=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=(0,t.useContext)(Hp),h=Yp(o),f=Qp(a),p=(0,t.useContext)(zp);if(!d||!p)return null;D(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(Lh(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:o});if(Lh(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:u+h},{x:g,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return Lh(l,"discard")&&Mp()(b,function(t){return!e.isInRange(t)})?null:b}return null}(Sp({x:h.scale,y:f.scale}),N(n),N(r),i&&2===i.length,p,e.position,h.orientation,f.orientation,e);if(!m)return null;var y=cm(m,2),g=y[0],v=g.x,b=g.y,x=y[1],w=x.x,S=x.y,_=am(am({clipPath:Lh(e,"hidden")?"url(#".concat(d,")"):void 0},le(e,!0)),{},{x1:v,y1:b,x2:w,y2:S});return t.createElement(Ie,{className:u("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):M()(e)?e(n):t.createElement("line",dm({},n,{className:"recharts-reference-line-line"}))}(s,_),Rh.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return xp({x:t,y:n},{x:r,y:i})}({x1:v,y1:b,x2:w,y2:S})))}var fm=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),tm(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(hm,this.props)}}])&&em(r.prototype,i),o&&em(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pm.apply(this,arguments)}function mm(e){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach(function(t){_m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,km(r.key),r)}}function bm(e,t,n){return t=wm(t),function(e,t){if(t&&("object"===mm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xm()?Reflect.construct(t,n||[],wm(e).constructor):t.apply(e,n))}function xm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xm=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wm(e)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sm(e,t)}function _m(e,t,n){return(t=km(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function km(e){var t=function(e,t){if("object"!=mm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mm(t)?t:t+""}sm(fm,"displayName","ReferenceLine"),sm(fm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Em=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),bm(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this.props,r=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;D(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=N(r),h=N(i),f=N(o),p=N(a),m=this.props.shape;if(!d&&!h&&!f&&!p&&!m)return null;var y=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Sp({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!Lh(i,"discard")||d.isInRange(h)&&d.isInRange(f)?xp(h,f):null}(d,h,f,p,this.props);if(!y&&!m)return null;var g=Lh(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(Ie,{className:u("recharts-reference-area",s)},n.renderRect(m,gm(gm({clipPath:g},le(this.props,!0)),y)),Rh.renderCallByParent(this.props,y))}}])&&vm(r.prototype,i),o&&vm(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function Nm(e){return function(e){if(Array.isArray(e))return Om(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Om(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Om(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Om(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_m(Em,"displayName","ReferenceArea"),_m(Em,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),_m(Em,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):M()(e)?e(n):t.createElement(_i,pm({},n,{className:"recharts-reference-area-rect"}))});var Tm=function(e,t,n,r,i){var o=re(e,fm),a=re(e,Dp),s=[].concat(Nm(o),Nm(a)),l=re(e,Em),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&Lh(t.props,"extendDomain")&&E(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&Lh(t.props,"extendDomain")&&E(t.props[h])&&E(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return E(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},jm=n(7283),Pm=new(n.n(jm)()),Am="recharts.syncMouseEvents";function Im(e){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rm(r.key),r)}}function Dm(e,t,n){return(t=Rm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e){var t=function(e,t){if("object"!=Im(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Im(t)?t:t+""}var Mm=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Dm(this,"activeIndex",0),Dm(this,"coordinateList",[]),Dm(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Cm(e.prototype,t),n&&Cm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Lm(){}function Fm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Um(e){this._context=e}function Bm(e){this._context=e}function $m(e){this._context=e}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Bm.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Wm{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function zm(e){this._context=e}function Vm(e){this._context=e}function Hm(e){return new Vm(e)}function qm(e){return e<0?-1:1}function Gm(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(qm(o)+qm(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Km(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ym(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Qm(e){this._context=e}function Xm(e){this._context=new Jm(e)}function Jm(e){this._context=e}function Zm(e){this._context=e}function ey(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ty(e,t){this._context=e,this._t=t}function ny(e){return e[0]}function ry(e){return e[1]}function iy(e,t){var n=Ht(!0),r=null,i=Hm,o=null,a=Jt(s);function s(s){var l,c,u,d=(s=gu(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?ny:Ht(e),t="function"===typeof t?t:void 0===t?ry:Ht(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Ht(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Ht(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Ht(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function oy(e,t,n){var r=null,i=Ht(!0),o=null,a=Hm,s=null,l=Jt(c);function c(c){var u,d,h,f,p,m=(c=gu(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===y)if(y=!y)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(g[h],v[h]);s.lineEnd(),s.areaEnd()}y&&(g[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):g[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return iy().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?ny:Ht(+e),t="function"===typeof t?t:Ht(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?ry:Ht(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Ht(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ht(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Ht(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Ht(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ht(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ht(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Ht(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function ay(e){return ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(e)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach(function(t){uy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ay(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ay(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ay(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zm.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,Km(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,Km(this,n=Gm(this,e,t)),n);break;default:Ym(this,this._t0,n=Gm(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Xm.prototype=Object.create(Qm.prototype)).point=function(e,t){Qm.prototype.point.call(this,t,e)},Jm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ey(e),i=ey(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var dy={curveBasisClosed:function(e){return new Bm(e)},curveBasisOpen:function(e){return new $m(e)},curveBasis:function(e){return new Um(e)},curveBumpX:function(e){return new Wm(e,!0)},curveBumpY:function(e){return new Wm(e,!1)},curveLinearClosed:function(e){return new zm(e)},curveLinear:Hm,curveMonotoneX:function(e){return new Qm(e)},curveMonotoneY:function(e){return new Xm(e)},curveNatural:function(e){return new Zm(e)},curveStep:function(e){return new ty(e,.5)},curveStepAfter:function(e){return new ty(e,1)},curveStepBefore:function(e){return new ty(e,0)}},hy=function(e){return e.x===+e.x&&e.y===+e.y},fy=function(e){return e.x},py=function(e){return e.y},my=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(M()(e))return e;var n="curve".concat(St()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?dy[n]||Hm:dy["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return hy(e)}):o;if(Array.isArray(a)){var h=c?a.filter(function(e){return hy(e)}):a,f=d.map(function(e,t){return cy(cy({},e),{},{base:h[t]})});return(t="vertical"===s?oy().y(py).x1(fy).x0(function(e){return e.base.x}):oy().x(fy).y1(py).y0(function(e){return e.base.y})).defined(hy).curve(u),t(f)}return(t="vertical"===s&&E(a)?oy().y(py).x1(fy).x0(a):E(a)?oy().x(fy).y1(py).y0(a):iy().x(fy).y(py)).defined(hy).curve(u),t(d)},yy=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?my(e):i;return t.createElement("path",sy({},le(e,!1),q(e),{className:u("recharts-curve",n),d:a,ref:o}))};function gy(e){return gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(e)}var vy=["x","y","top","left","width","height","className"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(this,arguments)}function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=gy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _y=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},ky=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,d=e.width,h=void 0===d?0:d,f=e.height,p=void 0===f?0:f,m=e.className,y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(n),!0).forEach(function(t){wy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:o,top:s,left:c,width:h,height:p},Sy(e,vy));return E(r)&&E(o)&&E(h)&&E(p)&&E(s)&&E(c)?t.createElement("path",by({},le(y,!0),{className:u("recharts-cross",m),d:_y(r,o,h,p,s,c)})):null};function Ey(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[wh(t,n,r,i),wh(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Ny(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Ey(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=wh(s,l,c,d),f=wh(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function Oy(e){return Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(e)}function Ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ty(Object(n),!0).forEach(function(t){Py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Py(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Oy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ay(e){var n,r,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,h=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,m=e.chartName,y=null!==(n=o.props.cursor)&&void 0!==n?n:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!y||!s||!l||"ScatterChart"!==m&&"axis"!==a)return null;var g=yy;if("ScatterChart"===m)i=l,g=ky;else if("BarChart"===m)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,d,f),g=_i;else if("radial"===p){var v=Ey(l),b=v.cx,x=v.cy,w=v.radius;i={cx:b,cy:x,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:w,outerRadius:w},g=Nf}else i={points:Ny(p,l,d)},g=yy;var S=jy(jy(jy(jy({stroke:"#ccc",pointerEvents:"none"},d),i),le(y,!1)),{},{payload:c,payloadIndex:h,className:u("recharts-tooltip-cursor",y.className)});return(0,t.isValidElement)(y)?(0,t.cloneElement)(y,S):(0,t.createElement)(g,S)}var Iy=["item"],Cy=["children","className","width","height","style","compact","title","desc"];function Dy(e){return Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(this,arguments)}function My(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Vy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yy(r.key),r)}}function Uy(e,t,n){return t=$y(t),function(e,t){if(t&&("object"===Dy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,By()?Reflect.construct(t,n||[],$y(e).constructor):t.apply(e,n))}function By(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(By=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$y(e)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wy(e,t)}function zy(e){return function(e){if(Array.isArray(e))return Hy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(e,t){if(e){if("string"===typeof e)return Hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hy(e,t):void 0}}function Hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach(function(t){Ky(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ky(e,t,n){return(t=Yy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yy(e){var t=function(e,t){if("object"!=Dy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dy(t)?t:t+""}var Qy={xAxis:["bottom","top"],yAxis:["left","right"]},Xy={width:"100%",height:"100%"},Jy={x:0,y:0};function Zy(e){return e}var eg=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(zy(e),zy(n)):e},[]);return o.length>0?o:e&&e.length&&E(r)&&E(i)?e.slice(r,i+1):[]};function tg(e){return"number"===e?[0,"auto"]:void 0}var ng=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=eg(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=I(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(zy(i),[Qd(s,c)]):i},[])},rg=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(_(u-c)!==_(d-u)){var f=[];if(_(d-u)===_(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var g=Math.min(c,d),v=Math.max(c,d);if(e>(g+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=ng(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return Gy(Gy(Gy({},r),wh(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return Gy(Gy(Gy({},r),wh(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return Jy}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},ig=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Dd(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?Gy(Gy({},n.type.defaultProps),n.props):n.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,_=p[o];if(t[_])return t;var k,N,O,T=eg(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===_}),dataStartIndex:s,dataEndIndex:l}),j=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&E(r)&&E(i))return!0}return!1})(p.domain,g,m)&&(k=Gd(p.domain,null,g),!h||"number"!==m&&"auto"===b||(O=Pd(T,y,"category")));var P=tg(m);if(!k||0===k.length){var A,I=null!==(A=p.domain)&&void 0!==A?A:P;if(y){if(k=Pd(T,y,m),"category"===m&&h){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);v&&C?(N=k,k=xe()(0,j)):v||(k=Yd(I,k,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(zy(e),[t])},[]))}else if("category"===m)k=v?k.filter(function(e){return""!==e&&!S()(e)}):Yd(I,k,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||S()(t)?e:[].concat(zy(e),[t])},[]);else if("number"===m){var D=function(e,t,n,r,i){var o=t.map(function(t){return Id(e,t,n,i,r)}).filter(function(e){return!S()(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(T,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===_&&(w||!i)}),y,i,c);D&&(k=D)}!h||"number"!==m&&"auto"===b||(O=Pd(T,y,"category"))}else k=h?xe()(0,j):a&&a[_]&&a[_].hasStack&&"number"===m?"expand"===d?[0,1]:Vd(a[_].stackGroups,s,l):Cd(T,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===_&&(w||!n)}),m,c,!0);if("number"===m)k=Tm(u,k,_,i,x),I&&(k=Gd(I,k,g));else if("category"===m&&I){var R=I;k.every(function(e){return R.indexOf(e)>=0})&&(k=R)}}return Gy(Gy({},t),{},Ky({},_,Gy(Gy({},p),{},{axisType:i,domain:k,categoricalDomain:O,duplicateDomain:N,originalDomain:null!==(f=p.domain)&&void 0!==f?f:P,isCategorical:h,layout:c})))},{})},og=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=re(c,i),h={};return d&&d.length?h=ig(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=eg(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=Dd(c,i),p=-1;return n.reduce(function(e,t){var m,y=(void 0!==t.type.defaultProps?Gy(Gy({},t.type.defaultProps),t.props):t.props)[o],g=tg("number");return e[y]?e:(p++,f?m=xe()(0,h):a&&a[y]&&a[y].hasStack?(m=Vd(a[y].stackGroups,s,l),m=Tm(u,m,y,i)):(m=Gd(g,Cd(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===y&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=Tm(u,m,y,i)),Gy(Gy({},e),{},Ky({},y,Gy(Gy({axisType:i},r.defaultProps),{},{hide:!0,orientation:v()(Qy,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},ag=function(e){var t=e.children,n=e.defaultShowTooltip,r=ie(t,ph),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},sg=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lg=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=ie(c,ph),h=ie(c,Rn),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Gy(Gy({},e),{},Ky({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Gy(Gy({},e),{},Ky({},r,v()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=Gy(Gy({},p),f),y=m.bottom;d&&(m.bottom+=d.props.height||ph.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=Sd({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&E(e[h]))return Od(Od({},e),{},Td({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&E(e[f]))return Od(Od({},e),{},Td({},f,e[f]+(d||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,b=l-m.top-m.bottom;return Gy(Gy({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(b,0)})},cg=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},ug=["type","layout","connectNulls","ref"],dg=["key"];function hg(e){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(e)}function fg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(this,arguments)}function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach(function(t){kg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gg(e){return function(e){if(Array.isArray(e))return vg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eg(r.key),r)}}function xg(e,t,n){return t=Sg(t),function(e,t){if(t&&("object"===hg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wg()?Reflect.construct(t,n||[],Sg(e).constructor):t.apply(e,n))}function wg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wg=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sg(e)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_g(e,t)}function kg(e,t,n){return(t=Eg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eg(e){var t=function(e,t){if("object"!=hg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hg(t)?t:t+""}var Ng=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return kg(e=xg(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),kg(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),kg(e,"getStrokeDasharray",function(t,r,i){var o=i.reduce(function(e,t){return e+t});if(!o)return e.generateSimpleStrokeDasharray(r,t);for(var a=Math.floor(t/o),s=t%o,l=r-t,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(gg(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(gg(n.repeat(i,a)),gg(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),kg(e,"id",T("recharts-line-")),kg(e,"pathRef",function(t){e.mainCurve=t}),kg(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),kg(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}(n,e),r=n,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.points,o=r.xAxis,a=r.yAxis,s=r.layout,l=re(r.children,gd);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:jd(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(Ie,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,c=le(this.props,!1),u=le(a,!0),d=s.map(function(e,t){var r=yg(yg(yg({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(a,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(i,")"):null};return t.createElement(Ie,pg({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,i){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,fg(o,ug)),u=yg(yg(yg({},le(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:l});return t.createElement(yy,pg({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,y=m.prevPoints,g=m.totalLength;return t.createElement(hi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t;if(y){var s=y.length/o.length,l=o.map(function(e,t){var n=Math.floor(t*s);if(y[n]){var r=y[n],o=A(r.x,e.x),a=A(r.y,e.y);return yg(yg({},e),{},{x:o(i),y:a(i)})}if(h){var l=A(2*f,e.x),c=A(p/2,e.y);return yg(yg({},e),{},{x:l(i),y:c(i)})}return yg(yg({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=A(0,g)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,g,d)}else c=r.generateSimpleStrokeDasharray(g,u);return r.renderCurveStatically(o,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!Tu()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,i=n.dot,o=n.points,a=n.className,s=n.xAxis,l=n.yAxis,c=n.top,d=n.left,h=n.width,f=n.height,p=n.isAnimationActive,m=n.id;if(r||!o||!o.length)return null;var y=this.state.isAnimationFinished,g=1===o.length,v=u("recharts-line",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,w=b||x,_=S()(m)?this.id:m,k=null!==(e=le(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},E=k.r,N=void 0===E?3:E,O=k.strokeWidth,T=void 0===O?2:O,j=(function(e){return e&&"object"===X(e)&&"clipDot"in e}(i)?i:{}).clipDot,P=void 0===j||j,A=2*N+T;return t.createElement(Ie,{className:v},b||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(_)},t.createElement("rect",{x:b?d:d-h/2,y:x?c:c-f/2,width:b?h:2*h,height:x?f:2*f})),!P&&t.createElement("clipPath",{id:"clipPath-dots-".concat(_)},t.createElement("rect",{x:d-A/2,y:c-A/2,width:h+A,height:f+A}))):null,!g&&this.renderCurve(w,_),this.renderErrorBar(w,_),(g||i)&&this.renderDots(w,P,_),(!p||y)&&nf.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(gg(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(gg(r),gg(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(M()(e))r=e(n);else{var i=n.key,o=fg(n,dg),a=u("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Ln,pg({key:i},o,{className:a}))}return r}}],i&&bg(r.prototype,i),o&&bg(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Og(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Tg(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function jg(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Pg(e){return Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(e)}function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach(function(t){Cg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Pg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dg(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(E(l)||ot.isSsr)return function(e,t){return Og(e,t+1)}(i,"number"===typeof l&&E(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?zi(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=M()(c)?c(e.value,r):e.value;return"width"===f?Tg(zi(i,{fontSize:t,letterSpacing:n}),p,d):zi(i,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?_(i[1].coordinate-i[0].coordinate):1,g=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,y,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Og(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||jg(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(y,g,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=Ig(Ig({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),jg(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Ig(Ig({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=Ig(Ig({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=Ig(Ig({},o),{},{tickCoord:o.coordinate});jg(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=Ig(Ig({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(y,g,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=Ig(Ig({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=Ig(Ig({},c),{},{tickCoord:c.coordinate});jg(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=Ig(Ig({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(y,g,m,i,a),h.filter(function(e){return e.isShow}))}kg(Ng,"displayName","Line"),kg(Ng,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ot.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),kg(Ng,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=jd(e,a);return"horizontal"===u?{x:Wd({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:S()(l)?null:r.scale(l),value:l,payload:e}:{x:S()(l)?null:n.scale(l),y:Wd({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}});return yg({points:d,layout:u},c)});var Rg=["viewBox"],Mg=["viewBox"],Lg=["ticks"];function Fg(e){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ug.apply(this,arguments)}function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(n),!0).forEach(function(t){Kg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yg(r.key),r)}}function Vg(e,t,n){return t=qg(t),function(e,t){if(t&&("object"===Fg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hg()?Reflect.construct(t,n||[],qg(e).constructor):t.apply(e,n))}function Hg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hg=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qg(e)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gg(e,t)}function Kg(e,t,n){return(t=Yg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yg(e){var t=function(e,t){if("object"!=Fg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fg(t)?t:t+""}var Qg=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Vg(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}(n,e),r=n,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Wg(e,Rg),i=this.props,o=i.viewBox,a=Wg(i,Mg);return!B(n,o)||!B(r,a)||!B(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||f,v=E(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-y*g)-y*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-y*g)-y*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+y*g)+y*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+y*g)+y*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=$g($g($g({},le(this.props,!1)),le(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var d=+("top"===a&&!s||"bottom"===a&&s);c=$g($g({},c),{},{x1:n,y1:r+d*o,x2:n+i,y2:r+d*o})}else{var h=+("left"===a&&!s||"right"===a&&s);c=$g($g({},c),{},{x1:n+h*i,y1:r,x2:n+h*i,y2:r+o})}return t.createElement("line",Ug({},c,{className:u("recharts-cartesian-axis-line",v()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,f=Dg($g($g({},this.props),{},{ticks:e}),r,i),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=le(this.props,!1),g=le(c,!1),b=$g($g({},y),{},{fill:"none"},le(s,!1)),x=f.map(function(e,r){var i=o.getTickLineCoord(e),a=i.line,x=i.tick,w=$g($g($g($g({textAnchor:p,verticalAnchor:m},y),{},{stroke:"none",fill:l},g),x),{},{index:r,payload:e,visibleTicksCount:f.length,tickFormatter:d});return t.createElement(Ie,Ug({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},G(o.props,e,r)),s&&t.createElement("line",Ug({},b,a,{className:u("recharts-cartesian-axis-tick-line",v()(s,"className"))})),c&&n.renderTickItem(c,w,"".concat(M()(d)?d(e.value,r):e.value).concat(h||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,i=n.width,o=n.height,a=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,d=Wg(l,Lg),h=c;return M()(a)&&(h=c&&c.length>0?a(this.props):a(d)),i<=0||o<=0||!h||!h.length?null:t.createElement(Ie,{className:u("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Rh.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,n,r){var i=u(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,$g($g({},n),{},{className:i})):M()(e)?e($g($g({},n),{},{className:i})):t.createElement(bo,Ug({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],i&&zg(r.prototype,i),o&&zg(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function Xg(e){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(e)}function Jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iv(r.key),r)}}function Zg(e,t,n){return t=tv(t),function(e,t){if(t&&("object"===Xg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ev()?Reflect.construct(t,n||[],tv(e).constructor):t.apply(e,n))}function ev(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ev=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tv(e)}function nv(e,t){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nv(e,t)}function rv(e,t,n){return(t=iv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e){var t=function(e,t){if("object"!=Xg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xg(t)?t:t+""}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(this,arguments)}function av(e){var n=e.xAxisId,r=Xp(),i=Jp(),o=Yp(n);return null==o?null:t.createElement(Qg,ov({},o,{className:u("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return Md(e,!0)}}))}Kg(Qg,"displayName","CartesianAxis"),Kg(Qg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sv=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Zg(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nv(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(av,this.props)}}])&&Jg(r.prototype,i),o&&Jg(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function lv(e){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mv(r.key),r)}}function uv(e,t,n){return t=hv(t),function(e,t){if(t&&("object"===lv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dv()?Reflect.construct(t,n||[],hv(e).constructor):t.apply(e,n))}function dv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dv=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hv(e)}function fv(e,t){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fv(e,t)}function pv(e,t,n){return(t=mv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mv(e){var t=function(e,t){if("object"!=lv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lv(t)?t:t+""}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}rv(sv,"displayName","XAxis"),rv(sv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var gv=function(e){var n=e.yAxisId,r=Xp(),i=Jp(),o=Qp(n);return null==o?null:t.createElement(Qg,yv({},o,{className:u("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return Md(e,!0)}}))},vv=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),uv(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fv(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(gv,this.props)}}])&&cv(r.prototype,i),o&&cv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);pv(vv,"displayName","YAxis"),pv(vv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var bv=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=sg(u),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Z(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=eg(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),x=void 0!==n.type.defaultProps?Gy(Gy({},n.type.defaultProps),n.props):n.props,w=x.dataKey,_=x.maxBarSize,k=x["".concat(m,"Id")],E=x["".concat(y,"Id")],O=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||ke(!1);var o=r[i];return Gy(Gy({},e),{},Ky(Ky({},n.axisType,o),"".concat(n.axisType,"Ticks"),Md(o)))},{}),T=O[y],P=O["".concat(y,"Ticks")],A=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Od(Od({},e.type.defaultProps),e.props):e.props).stackId;if(N(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[k].stackGroups),I=Z(n.type).indexOf("Bar")>=0,C=Kd(T,P),D=[],R=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,y=p.filter(function(e){return Z(e.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?Od(Od({},g),y[0].props):y[0].props,b=v.barSize,x=v[m];o[x]||(o[x]=[]);var w=S()(b)?t:b;o[x].push({item:y[0],stackList:y.slice(1),barSize:S()(w)?void 0:j(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:cg(O,y)});if(I){var M,L,F=S()(_)?f:_,U=null!==(M=null!==(L=Kd(T,P,!0))&&void 0!==L?L:F)&&void 0!==M?M:0;D=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=j(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(kd(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=j(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var y=(r-2*m-(s-1)*c)/s;y>1&&(y>>=0);var g=a===+a?Math.min(y,a):y;l=o.reduce(function(e,t,n){var r=[].concat(kd(e),[{item:t.item,position:{offset:m+(y+c)*n+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:U!==C?U:C,sizeList:R[E],maxBarSize:F}),U!==C&&(D=D.map(function(e){return Gy(Gy({},e),{},{position:Gy(Gy({},e.position),{},{offset:e.position.offset-U/2})})}))}var B,$,W=n&&n.type&&n.type.getComposedData;W&&v.push({props:Gy(Gy({},W(Gy(Gy({},O),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:C,barPosition:D,offset:i,stackedData:A,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},Ky(Ky(Ky({key:n.key||"item-".concat(p)},m,O[m]),y,O[y]),"animationId",o)),childIndex:(B=n,$=e.children,ne($).indexOf(B)),item:n})}),v},m=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!oe({props:i}))return null;var c=i.children,u=i.layout,h=i.stackOffset,f=i.data,m=i.reverseStackOrder,y=sg(u),g=y.numericAxisName,v=y.cateAxisName,b=re(c,r),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?Od(Od({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(N(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[T("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Od(Od({},e),{},Td({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return Od(Od({},t),{},Td({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:$d(e,a.items,i)}))},{})),Od(Od({},t),{},Td({},o,s))},{})}(f,b,"".concat(g,"Id"),"".concat(v,"Id"),h,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Gy(Gy({},e),{},Ky({},n,og(i,Gy(Gy({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&x,dataStartIndex:o,dataEndIndex:a}))))},{}),S=lg(Gy(Gy({},w),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=d(i,w[e],S,e.replace("Map",""),n)});var _=function(e){var t=P(e),n=Md(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Se()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Kd(t,n)}}(w["".concat(v,"Map")]),k=p(i,Gy(Gy({},w),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:x,offset:S}));return Gy(Gy({formattedGraphicalItems:k,graphicalItems:b,offset:S,stackGroups:x},_),w)},y=function(e){function r(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Ky(a=Uy(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ky(a,"accessibilityManager",new Mm),Ky(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(Gy({legendBBox:e},m({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},Gy(Gy({},a.state),{},{legendBBox:e}))))}}),Ky(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),Ky(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return Gy({dataStartIndex:t,dataEndIndex:n},m({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),Ky(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=Gy(Gy({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;M()(r)&&r(n,e)}}),Ky(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?Gy(Gy({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;M()(r)&&r(n,e)}),Ky(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Ky(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),Ky(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),Ky(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;M()(n)&&n(t,e)}),Ky(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&J[t]?J[t]:null}(e),r=v()(a.props,"".concat(n));n&&M()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),Ky(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=Gy(Gy({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;M()(r)&&r(n,e)}}),Ky(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;M()(t)&&t(a.getMouseInfo(e),e)}),Ky(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;M()(t)&&t(a.getMouseInfo(e),e)}),Ky(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Ky(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),Ky(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),Ky(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;M()(t)&&t(a.getMouseInfo(e),e)}),Ky(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;M()(t)&&t(a.getMouseInfo(e),e)}),Ky(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&Pm.emit(Am,a.props.syncId,e,a.eventEmitterSymbol)}),Ky(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(Gy({dataStartIndex:o,dataEndIndex:s},m({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(f,e);else if("value"===r){u=-1;for(var p=0;p<f.length;p++)if(f[p].value===e.activeLabel){u=p;break}}var y=Gy(Gy({},h),{},{x:h.left,y:h.top}),g=Math.min(l,y.x+y.width),v=Math.min(c,y.y+y.height),b=f[u]&&f[u].value,x=ng(a.state,a.props.data,u),w=f[u]?{x:"horizontal"===n?f[u].coordinate:g,y:"horizontal"===n?v:f[u].coordinate}:Jy;a.setState(Gy(Gy({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)}),Ky(a,"renderCursor",function(e){var r,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:o,p=a.props.layout,m=e.key||"_recharts-cursor";return t.createElement(Ay,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),Ky(a,"renderPolarAxis",function(e,n,r){var i=v()(e,"type.axisType"),o=v()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?Gy(Gy({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return(0,t.cloneElement)(e,Gy(Gy({},c),{},{className:u(i,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:Md(c,!0)}))}),Ky(a,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,i=n.polarAngles,o=n.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=P(l),d=P(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(i)?i:Md(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(o)?o:Md(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),Ky(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,n=a.props,r=n.children,i=n.width,o=n.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=Sd({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Ly(u,Iy);return(0,t.cloneElement)(d,Gy(Gy({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),Ky(a,"renderTooltip",function(){var e,n=a.props,r=n.children,i=n.accessibilityLayer,o=ie(r,xt);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(o,{viewBox:Gy(Gy({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})}),Ky(a,"renderBrush",function(e){var n=a.props,r=n.margin,i=n.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Fd(a.handleBrushChange,e.props.onChange),data:i,x:E(e.props.x)?e.props.x:s.left,y:E(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:E(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),Ky(a,"renderReferenceElement",function(e,n,r){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})}),Ky(a,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Gy(Gy({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=Gy(Gy({index:o,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Ad(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},le(u,!1)),q(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(r.renderActiveDot(u,Gy(Gy({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),Ky(a,"renderGraphicChild",function(e,n,r){var i=a.filterFormatItem(e,n,r);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=ie(a.props.children,xt),f=i.props,p=f.points,m=f.isRange,y=f.baseLine,g=void 0!==i.item.type.defaultProps?Gy(Gy({},i.item.type.defaultProps),i.item.props):i.item.props,v=g.activeDot,b=g.hide,x=g.activeBar,w=g.activeShape,_=Boolean(!b&&l&&h&&(v||x||w)),k={};"axis"!==o&&h&&"click"===h.props.trigger?k={onClick:Fd(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:Fd(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Fd(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,t.cloneElement)(e,Gy(Gy({},i.props),k));if(_){if(!(u>=0)){var N,O=(null!==(N=a.getItemByXY(a.state.activeCoordinate))&&void 0!==N?N:{graphicalItem:E}).graphicalItem,T=O.item,j=void 0===T?e:T,P=O.childIndex,A=Gy(Gy(Gy({},i.props),k),{},{activeIndex:P});return[(0,t.cloneElement)(j,A),null,null]}var C,D;if(c.dataKey&&!c.allowDuplicatedCategory){var R="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=I(p,R,d),D=m&&y&&I(y,R,d)}else C=null===p||void 0===p?void 0:p[u],D=m&&y&&y[u];if(w||x){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,Gy(Gy(Gy({},i.props),k),{},{activeIndex:M})),null,null]}if(!S()(C))return[E].concat(zy(a.renderActivePoints({item:i,activePoint:C,basePoint:D,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]}),Ky(a,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,Gy(Gy({key:"recharts-customized-".concat(r)},a.props),a.state))}),Ky(a,"renderMap",{CartesianGrid:{handler:Zy,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:Zy},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:Zy},YAxis:{handler:Zy},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:T("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=h()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}(r,e),i=r,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=ie(t,xt);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=ng(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=Gy(Gy({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){ce([ie(e.children,xt)],[ie(this.props.children,xt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ie(this.props.children,xt);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=rg(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=P(c).scale,p=P(u).scale,m=f&&f.invert?f.invert(o.chartX):null,y=p&&p.invert?p.invert(o.chartY):null;return Gy(Gy({},o),{},{xValue:m,yValue:y},h)}return h?Gy(Gy({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=P(l);return kh({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=ie(e,xt),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Gy(Gy({},q(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Pm.on(Am,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pm.removeListener(Am,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===Z(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,i=n.top,o=n.height,a=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=My(t,2),r=n[0],i=n[1];return Gy(Gy({},e),{},Ky({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=My(t,2),r=n[0],i=n[1];return Gy(Gy({},e),{},Ky({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?Gy(Gy({},l.type.defaultProps),l.props):l.props,u=Z(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return wi(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return kh(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(Mf(a,r)||Lf(a,r)||Ff(a,r)){var f=Wf({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Gy(Gy({},a),{},{childIndex:p}),payload:Ff(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!oe(this))return null;var n,r,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,d=i.compact,h=i.title,f=i.desc,p=Ly(i,Cy),m=le(p,!1);if(d)return t.createElement(Kp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(Te,Ry({},m,{width:s,height:l,title:h,desc:f}),this.renderClipPath(),de(o,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var y=this.parseEventsOfWrapper();return t.createElement(Kp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",Ry({className:u("recharts-wrapper",a),style:Gy({position:"relative",cursor:"default",width:s,height:l},c)},y,{ref:function(t){e.container=t}}),t.createElement(Te,Ry({},m,{width:s,height:l,title:h,desc:f,style:Xy}),this.renderClipPath(),de(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&Fy(i.prototype,a),l&&Fy(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(t.Component);Ky(y,"displayName",n),Ky(y,"defaultProps",Gy({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ky(y,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=ag(e);return Gy(Gy(Gy({},h),{},{updateId:0},m(Gy(Gy({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!B(c,t.prevMargin)){var f=ag(e),p={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=Gy(Gy({},rg(t,r,s)),{},{updateId:t.updateId+1}),g=Gy(Gy(Gy({},f),p),y);return Gy(Gy(Gy({},g),m(Gy({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!ce(i,t.prevChildren)){var v,b,x,w,_=ie(i,ph),k=_&&null!==(v=null===(b=_.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,E=_&&null!==(x=null===(w=_.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,N=k!==u||E!==d,O=!S()(r)&&!N?t.updateId:t.updateId+1;return Gy(Gy({updateId:O},m(Gy(Gy({props:e},t),{},{updateId:O,dataStartIndex:k,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:k,dataEndIndex:E})}return null}),Ky(y,"renderActiveDot",function(e,n,r){var i;return i=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):M()(e)?e(n):t.createElement(Ln,n),t.createElement(Ie,{className:"recharts-active-dot",key:r},i)});var g=(0,t.forwardRef)(function(e,n){return t.createElement(y,Ry({},e,{ref:n}))});return g.displayName=y.displayName,g}({chartName:"LineChart",GraphicalChild:Ng,axisComponents:[{axisType:"xAxis",AxisComp:sv},{axisType:"yAxis",AxisComp:vv}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!ie(c,fp);return u.reduce(function(a,s){var c,u,f,m,y,g=n[s],v=g.orientation,b=g.domain,x=g.padding,w=void 0===x?{}:x,S=g.mirror,_=g.reversed,k="".concat(v).concat(S?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var E=b[1]-b[0],N=1/0,O=g.categoricalDomain.sort(C);if(O.forEach(function(e,t){t>0&&(N=Math.min((e||0)-(O[t-1]||0),N))}),Number.isFinite(N)){var T=N/E,P="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=T*P/2),"no-gap"===g.padding){var A=j(t.barCategoryGap,T*P),I=T*P/2;c=I-A-(I-A)/P*A}}}u="xAxis"===i?[r.left+(w.left||0)+(c||0),r.left+r.width-(w.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(c||0),r.top+r.height-(w.bottom||0)-(c||0)]:g.range,_&&(u=[u[1],u[0]]);var D=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:Ci(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:is(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ri(),realScaleType:"point"}:"category"===o?{scale:Ci(),realScaleType:"band"}:{scale:is(),realScaleType:"linear"};if(p()(i)){var l="scale".concat(St()(i));return{scale:(e[l]||Ri)(),realScaleType:e[l]?l:"point"}}return M()(i)?{scale:i}:{scale:Ri(),realScaleType:"point"}}(g,o,h),R=D.scale,L=D.realScaleType;R.domain(b).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Ud,o=Math.max(r[0],r[1])+Ud,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(R);var F=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=nd(l,i,a);return e.domain([ku()(c),Su()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:rd(u,i,a)}}return null}(R,gp(gp({},g),{},{realScaleType:L}));"xAxis"===i?(y="top"===v&&!S||"bottom"===v&&S,f=r.left,m=d[k]-y*g.height):"yAxis"===i&&(y="left"===v&&!S||"right"===v&&S,f=d[k]-y*g.width,m=r.top);var U=gp(gp(gp({},g),F),{},{realScaleType:L,x:f,y:m,scale:R,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return U.bandSize=Kd(U,F),g.hide||"xAxis"!==i?g.hide||(d[k]+=(y?-1:1)*U.width):d[k]+=(y?-1:1)*U.height,gp(gp({},a),{},vp({},s,U))},{})}}),xv=["x1","y1","x2","y2","key"],wv=["offset"];function Sv(e){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(e)}function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach(function(t){Ev(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ev(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}function Ov(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Tv=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jv(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(M()(e))r=e(n);else{var i=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.key,c=Ov(n,xv),u=le(c,!1),d=(u.offset,Ov(u,wv));r=t.createElement("line",Nv({},d,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return r}function Pv(e){var n=e.x,r=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(t,i){var a=kv(kv({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(i),index:i});return jv(o,a)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Av(e){var n=e.y,r=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(t,i){var a=kv(kv({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(i),index:i});return jv(o,a)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Iv(e){var n=e.horizontalFill,r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Cv(e){var n=e.vertical,r=void 0===n||n,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!i||!i.length)return null;var d=u.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?a+l-e:d[n+1]-e;if(r<=0)return null;var u=n%i.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Dv=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return Rd(Dg(kv(kv(kv({},Qg.defaultProps),n),{},{ticks:Md(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Rv=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return Rd(Dg(kv(kv(kv({},Qg.defaultProps),n),{},{ticks:Md(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Mv={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Lv(e){var n,r,i,o,a,s,l=Xp(),c=Jp(),u=(0,t.useContext)(Vp),d=kv(kv({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:Mv.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:Mv.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:Mv.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:Mv.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:Mv.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:Mv.verticalFill,x:E(e.x)?e.x:u.left,y:E(e.y)?e.y:u.top,width:E(e.width)?e.width:u.width,height:E(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,y=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,t.useContext)($p);return P(e)}(),x=function(){var e=(0,t.useContext)(Wp);return Fp()(e,function(e){return $h()(e.domain,Number.isFinite)})||P(e)}();if(!E(p)||p<=0||!E(m)||m<=0||!E(h)||h!==+h||!E(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||Dv,S=d.horizontalCoordinatesGenerator||Rv,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&M()(S)){var N=g&&g.length,O=S({yAxis:x?kv(kv({},x),{},{ticks:N?g:x.ticks}):void 0,width:l,height:c,offset:u},!!N||y);D(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sv(O),"]")),Array.isArray(O)&&(_=O)}if((!k||!k.length)&&M()(w)){var T=v&&v.length,j=w({xAxis:b?kv(kv({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},!!T||y);D(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sv(j),"]")),Array.isArray(j)&&(k=j)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Tv,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(Pv,Nv({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:x})),t.createElement(Av,Nv({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),t.createElement(Iv,Nv({},d,{horizontalPoints:_})),t.createElement(Cv,Nv({},d,{verticalPoints:k})))}Lv.displayName="CartesianGrid";const Fv="https://api.sleeper.app/v1",Uv=new Map;async function Bv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=Uv.get(t),i=Date.now(),o=60*n*60*1e3;if(r&&i-r.timestamp<o)return r.data;try{const r=await fetch(e);if(!r.ok){if(404===r.status)return console.warn(`404 Not Found for ${e}. This might be expected for future weeks or missing data.`),null;throw new Error(`HTTP error! status: ${r.status} for ${e}`)}const o=await r.json();return Uv.set(t,{data:o,timestamp:i,expirationHours:n}),o}catch(a){throw console.error(`Error fetching ${e}:`,a),a}}function $v(e){return e?`https://sleepercdn.com/content/nfl/players/thumb/${e}.jpg`:null}async function Wv(e){return Bv(`${Fv}/league/${e}`,`league_details_${e}`,1)}async function zv(e){let t=[],n=e;if(!e||"0"===e||""===e)return console.error("CURRENT_LEAGUE_ID is invalid. Please ensure it's set correctly in config.js."),[];const r=`league_chain_${e}`,i=Date.now(),o=Uv.get(r);if(o&&i-o.timestamp<864e5)return console.log(`Cache hit for ${r}`),o.data;try{for(;n;){const e=await Wv(n);e?(t.push(e),n=e.previous_league_id&&"0"!==e.previous_league_id&&""!==e.previous_league_id?e.previous_league_id:null):(console.warn(`Could not fetch details for league ID ${n}. Terminating historical league chain fetch.`),n=null)}}catch(a){console.error("Error fetching historical league chain:",a)}return Uv.set(r,{data:t,timestamp:i,expirationHours:24}),t}async function Vv(e){return Bv(`${Fv}/league/${e}/users`,`users_${e}`,24)}async function Hv(){return Bv("https://api.sleeper.app/v1/players/nfl","nfl_players",24)}async function qv(){return Bv(`${Fv}/state/nfl`,"nfl_state",.5)}async function Gv(e){return Bv(`${Fv}/league/${e}/rosters`,`rosters_${e}`,1)}async function Kv(e){const[t,n]=await Promise.all([Gv(e),Vv(e)]);if(!t||!n)return console.warn(`Could not fetch rosters or users for league ${e}.`),[];const r=new Map(n.map(e=>[e.user_id,e]));return t.map(e=>{var t;const n=r.get(e.owner_id);return{...e,ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null}})}async function Yv(e,t,n){let r=[];if("number"===typeof t)r=[t];else{if(!Array.isArray(t))return console.error("Invalid 'weeks' argument for fetchMatchupsForLeague. Must be a number or array of numbers."),{};r=t}const i={},o=await Kv(e),a=new Map(o.map(e=>[String(e.roster_id),e])),s=r.map(async t=>{try{const r=await Bv(`${Fv}/league/${e}/matchups/${t}`,`matchups_${e}_${t}`,.5);r&&(i[t]=function(e,t,n,r){const i=new Map;return e?(e.forEach(e=>{const o=e.matchup_id;if(i.has(o)){const n=i.get(o);if(n.team1_roster_id===e.roster_id)return void console.warn(`Duplicate roster_id ${e.roster_id} for matchup_id ${o}. Skipping.`);n.team2_roster_id=e.roster_id,n.team2_score=e.points,n.team2_details=t.get(String(e.roster_id)),n.team1_score>n.team2_score?(n.winner_roster_id=n.team1_roster_id,n.loser_roster_id=n.team2_roster_id):n.team2_score>n.team1_score?(n.winner_roster_id=n.team2_roster_id,n.loser_roster_id=n.team1_roster_id):(n.winner_roster_id=null,n.loser_roster_id=null)}else i.set(o,{matchup_id:o,season:n,week:r,team1_roster_id:e.roster_id,team1_score:e.points,team1_details:t.get(String(e.roster_id)),team2_roster_id:null,team2_score:null,team2_details:null})}),Array.from(i.values()).filter(e=>e.team1_roster_id&&e.team2_roster_id)):[]}(r,a,n,t))}catch(r){console.error(`Error fetching matchups for league ${e}, week ${t}:`,r)}});return await Promise.all(s),i}async function Qv(e){try{return await Bv(`${Fv}/league/${e}/winners_bracket`,`winners_bracket_${e}`,24)}catch(t){return console.error(`Failed to fetch winners bracket for league ID ${e}:`,t),[]}}async function Xv(e){try{return await Bv(`${Fv}/league/${e}/losers_bracket`,`losers_bracket_${e}`,24)}catch(t){return console.error(`Failed to fetch losers bracket for league ID ${e}:`,t),[]}}function Jv(e,t,n,r){if(!e||0===e.length||!t||!n)return e;const i=e.map(e=>{const i={...e},o=r+(e.r-1),a=t[o];if(a&&a.length>0){let t=null,r=null,o=null;if(e.w&&e.l?(r=e.w,o=e.l):("number"===typeof e.t1&&(r=e.t1),"number"===typeof e.t2&&(o=e.t2)),r&&o&&(t=a.find(e=>e.team1_roster_id===r&&e.team2_roster_id===o||e.team1_roster_id===o&&e.team2_roster_id===r)),t){var s,l,c,u;i.team1_roster_id=t.team1_roster_id,i.team2_roster_id=t.team2_roster_id;const r="number"===typeof e.t1?e.t1:(null===(s=e.t1)||void 0===s?void 0:s.w)||(null===(l=e.t1)||void 0===l?void 0:l.l)||null,o="number"===typeof e.t2?e.t2:(null===(c=e.t2)||void 0===c?void 0:c.w)||(null===(u=e.t2)||void 0===u?void 0:u.l)||null;r===t.team1_roster_id&&o===t.team2_roster_id?(i.t1_score=t.team1_score,i.t2_score=t.team2_score):r===t.team2_roster_id&&o===t.team1_roster_id?(i.t1_score=t.team2_score,i.t2_score=t.team1_score):(i.t1_score=t.team1_score,i.t2_score=t.team2_score),i.team1_details=n.get(String(t.team1_roster_id)),i.team2_details=n.get(String(t.team2_roster_id))}else"number"===typeof e.t1&&(i.team1_roster_id=e.t1,i.team1_details=n.get(String(e.t1))),"number"===typeof e.t2&&(i.team2_roster_id=e.t2,i.team2_details=n.get(String(e.t2)))}return i}),o=new Set;i.forEach(e=>{e.w&&o.add(e.w),e.l&&o.add(e.l),"number"===typeof e.t1&&o.add(e.t1),"number"===typeof e.t2&&o.add(e.t2)});const a=[],s=i.length>0?i[0]:null;if(s){const e=r+(s.r-1),i=t[e];if(i){const e=new Set;i.forEach(t=>{t.team1_roster_id&&null!==t.team1_score&&e.add(t.team1_roster_id),t.team2_roster_id&&null!==t.team2_score&&e.add(t.team2_roster_id)}),e.forEach(e=>{if(!o.has(e)){let t=0;const r=i.find(t=>t.team1_roster_id===e||t.team2_roster_id===e);r&&(t=r.team1_roster_id===e?r.team1_score:r.team2_score);const o=n.get(String(e));o&&a.push({roster_id:e,ownerDisplayName:o.ownerDisplayName,ownerTeamName:o.ownerTeamName,score:t})}})}}if(i.length>0&&a.length>0){const e=i.reduce((e,t)=>e.m<t.m?e:t);e?e.byeTeams=a:(console.warn("No matches found in enriched bracket for round, but bye teams exist. Attaching to new placeholder."),i.push({r:s?s.r:r,m:null,byeTeams:a}))}else a.length>0&&i.push({r:s?s.r:r,m:null,byeTeams:a});return i}async function Zv(){const e="all_historical_matchups_details",t=Uv.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return console.log("Returning historical matchups, rosters, league metadata, and bracket data from cache."),t.data;console.log("Fetching all historical matchup data for the first time...");const r={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};try{const t=await zv(i);if(!t||0===t.length)return console.error("No league data found for historical matchup fetching. Check CURRENT_LEAGUE_ID in config.js."),r;const a=await qv(),s=(null===a||void 0===a?void 0:a.season)||(new Date).getFullYear().toString();for(const e of t){var o;const t=e.league_id,n=e.season;console.log(`Processing historical data for season: ${n} (League ID: ${t})`),r.leaguesMetadataBySeason[n]=e;const i=await Vv(t);r.usersBySeason[n]=i;const a=await Kv(t);r.rostersBySeason[n]=a;const l=new Map(a.map(e=>[String(e.roster_id),e]));let c=null===(o=e.settings)||void 0===o?void 0:o.playoff_start_week;c||(c=15,console.warn(`playoff_start_week not found for league ${t}. Assuming default playoff start week: ${c}`)),c=Math.max(1,c);let u=c-1,d={};if(parseInt(n)<=parseInt(s)){console.log(`Fetching regular season matchups for season ${n} (${t}) up to week ${u}...`);const e=Array.from({length:u},(e,t)=>t+1),r=await Yv(t,e,n);Object.assign(d,r),0===Object.keys(r).length&&parseInt(n)===parseInt(s)&&console.warn(`No regular season matchups collected for active/past season ${n} (${t}). This might be expected for early parts of a season.`)}else console.log(`Skipping regular season matchup data for future season: ${n} (League ID: ${t}).`);let h=[],f=[];if(parseInt(n)<=parseInt(s)){console.log(`Fetching playoff bracket structure for season ${n} (${t})...`),[h,f]=await Promise.all([Qv(t),Xv(t)]);const e=h.reduce((e,t)=>Math.max(e,t.r||0),0),i=f.reduce((e,t)=>Math.max(e,t.r||0),0),o=Math.max(e,i);if(o>0){console.log(`Fetching playoff matchup scores for season ${n} (from week ${c} to ${c+o-1})...`);const e=Array.from({length:o},(e,t)=>c+t),r=await Yv(t,e,n);Object.assign(d,r)}else console.log(`No playoff bracket data (or max round 0) for season ${n} (${t}).`);r.winnersBracketBySeason[n]=Jv(h,d,l,c),r.losersBracketBySeason[n]=Jv(f,d,l,c)}else console.log(`Skipping playoff bracket data for future season: ${n} (League ID: ${t}).`),r.winnersBracketBySeason[n]=[],r.losersBracketBySeason[n]=[];r.matchupsBySeason[n]=d}return Uv.set(e,{data:r,timestamp:n,expirationHours:24}),console.log("Successfully fetched and cached all historical data (matchups, rosters, league metadata, and brackets)."),r}catch(a){return console.error("Critical error in fetchAllHistoricalMatchups:",a),Uv.delete(e),{matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}}}}async function eb(e){return Bv(`${Fv}/league/${e}/drafts`,`drafts_${e}`,24)}async function tb(e){return Bv(`${Fv}/draft/${e}/picks`,`draft_picks_${e}`,24)}async function nb(e){return Bv(`${Fv}/league/${e}/traded_picks`,`traded_picks_${e}`,24)}async function rb(){const e="all_draft_history",t=Uv.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return console.log("Returning all draft history from cache."),t.data;console.log("Fetching all draft history for the first time...");const r={};try{const t=await zv(i),o=await Hv();for(const e of t){const t=e.season,n=e.league_id;console.log(`Fetching draft data for season: ${t} (League ID: ${n})`);const i=await eb(n),a=await nb(n),s=[];for(const e of i){const t=(await tb(e.draft_id)).map(e=>{var t,n,r;return{...e,player_name:(null===(t=o[e.player_id])||void 0===t?void 0:t.full_name)||"Unknown Player",player_position:(null===(n=o[e.player_id])||void 0===n?void 0:n.position)||"",player_team:(null===(r=o[e.player_id])||void 0===r?void 0:r.team)||""}});s.push({...e,picks:t})}r[t]={drafts:s,tradedPicks:a}}return Uv.set(e,{data:r,timestamp:n,expirationHours:24}),console.log("Successfully fetched and cached all draft history."),r}catch(o){return console.error("Critical error in fetchAllDraftHistory:",o),Uv.delete(e),{}}}var ib=n(579);const ob=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(2),ab=["#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#ff0000","#0088fe","#bb3f85","#7a421a","#4a4a4a","#a5d6a7","#ef9a9a"],sb=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e=[...n].sort((e,t)=>e.value-t.value);return(0,ib.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,ib.jsxs)("p",{className:"font-bold text-gray-800 mb-2",children:["Week: ",r]}),e.map((e,t)=>(0,ib.jsxs)("p",{style:{color:e.color},children:[e.name,": Rank ",e.value," (",e.payload.dprValues[e.name].toFixed(3)," DPR)"]},`item-${t}`))]})}return null},lb=e=>{let{historicalMatchups:n,getDisplayTeamName:r}=e;const[s,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)([]),[y,g]=(0,t.useState)([]),[v,b]=(0,t.useState)(1),[x,w]=(0,t.useState)(0),[S,_]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{if(!n||0===n.length)return c([]),m([]),g([]),d(!1),f("No historical matchup data available to calculate power rankings or chart data."),void w(0);d(!0),f(null);try{const e=await Vv(i),t={};e.forEach(e=>{t[e.userId]=e}),_(t);const o=n.map(e=>parseInt(e.year)).filter(e=>!isNaN(e)),s=o.length>0?Math.max(...o):null;if(!s)return f("No valid years found in historical data to determine the season for power rankings."),d(!1),void w(0);const u=n.filter(e=>parseInt(e.year)===s),h=Array.from(new Set(u.flatMap(e=>[r(e.team1),r(e.team2)]))).filter(e=>e&&""!==e.trim()&&!a.has(e)),p=u.reduce((e,t)=>Math.max(e,parseInt(t.week)||0),0);w(p);const y=[],v={};for(let n=1;n<=p;n++){const e=u.filter(e=>parseInt(e.week)<=n),{seasonalMetrics:t}=l(e);v[n]=t[s]||{};const r={week:n,dprValues:{}},i=[];h.forEach(e=>{const t=v[n][e]||{};i.push({team:e,dpr:t.adjustedDPR||0})});const o=i.sort((e,t)=>t.dpr-e.dpr);o.forEach((e,t)=>{var i;e.dpr>0||(null===(i=v[n][e.team])||void 0===i?void 0:i.gamesPlayed)>0?r[e.team]=t+1:r[e.team]=void 0,r.dprValues[e.team]=e.dpr}),y.push(r)}m(y);const x=h.filter(e=>y.some(t=>void 0!==t[e]));g(x),b(h.length||1);const S=h.map(e=>{var t;const n=(null===(t=v[p])||void 0===t?void 0:t[e])||{},r=y.length>0&&y[y.length-1][e]||0;let i=0;if(y.length>1)for(let o=y.length-2;o>=0;o--)if(void 0!==y[o][e]&&0!==y[o][e]){i=y[o][e];break}return{team:e,rank:r,movement:r&&i?i-r:0,dpr:n.adjustedDPR||0,wins:n.wins||0,losses:n.losses||0,ties:n.ties||0,pointsFor:n.pointsFor||0,pointsAgainst:n.pointsAgainst||0,luckRating:n.luckRating||0,year:s}}).filter(e=>0!==e.rank&&void 0!==e.rank).sort((e,t)=>e.rank-t.rank);c(S),d(!1)}catch(e){console.error("Error calculating power rankings or chart data:",e),f(`Failed to calculate power rankings or chart data: ${e.message}.`),d(!1)}})()},[n,r]);return(0,ib.jsxs)("div",{className:"w-full max-w-4xl bg-white p-8 rounded-lg shadow-md mt-4",children:[(0,ib.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:s.length>0?`Power Rankings (DPR) - ${s[0].year} Season (Week ${x})`:"Current Power Rankings"}),u?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"Calculating power rankings..."}):h?(0,ib.jsx)("p",{className:"text-center text-red-500 font-semibold",children:h}):s.length>0?(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-center text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Change"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"DPR"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record (W-L)"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points For"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points Against"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Score"})]})}),(0,ib.jsx)("tbody",{children:s.map((e,t)=>{const n=o[e.team]||"",r=S[n]||{},i=r.teamName||e.team,a=r.avatar||((s="")?`https://sleepercdn.com/avatars/thumb/${s}`:"https://sleeper.app/_next/static/images/default_avatar-e314631317c0a0c20a46960d705a2046.png");var s,l,c,u,d,h;return(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:e.rank}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200 text-center",children:(h=e.movement,0===h?(0,ib.jsx)("span",{className:"text-gray-500",children:"\u2014"}):h>0?(0,ib.jsxs)("span",{className:"text-green-600 flex items-center justify-center",children:[(0,ib.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ib.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),h]}):(0,ib.jsxs)("span",{className:"text-red-600 flex items-center justify-center",children:[(0,ib.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ib.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),Math.abs(h)]}))}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(0,ib.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ib.jsx)("img",{src:a,alt:`${i}'s avatar`,className:"w-8 h-8 rounded-full object-cover"}),(0,ib.jsx)("span",{children:i})]})}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(d=e.dpr,"number"!==typeof d||isNaN(d)?"N/A":d.toFixed(3))}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(c=e.wins,u=e.losses,`${c||0}-${u||0}`)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:ob(e.pointsFor)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:ob(e.pointsAgainst)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(l=e.luckRating,"number"!==typeof l||isNaN(l)?"N/A":l.toFixed(3))})]},e.team)})})]})}),p.length>0&&(0,ib.jsxs)("section",{className:"mt-8",children:[(0,ib.jsxs)("h3",{className:"text-xl font-bold text-blue-700 mb-4 text-center",children:["DPR Rank by Week - ",s[0].year," Season"]}),(0,ib.jsx)(ve,{width:"100%",height:400,children:(0,ib.jsxs)(bv,{data:p,margin:{top:5,right:30,left:20,bottom:5},children:[(0,ib.jsx)(Lv,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,ib.jsx)(sv,{dataKey:"week",label:{value:"Week",position:"insideBottom",offset:0}}),(0,ib.jsx)(vv,{label:{value:"Rank",angle:-90,position:"insideLeft"},domain:[1,v],ticks:Array.from({length:v},(e,t)=>t+1),allowDecimals:!1,reversed:!0,interval:0}),(0,ib.jsx)(xt,{content:(0,ib.jsx)(sb,{})}),(0,ib.jsx)(Rn,{}),y.map((e,t)=>(0,ib.jsx)(Ng,{type:"monotone",dataKey:e,stroke:ab[t%ab.length],activeDot:{r:8},strokeWidth:2},e))]})}),(0,ib.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"This graph shows each team's rank based on their Dominance Power Ranking (DPR), calculated cumulatively based on all games played up to each specific week of the newest season. Rank 1 indicates the highest DPR."})]})]}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No power rankings data found for the current season."}),(0,ib.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Power Rankings are calculated based on DPR (Dominance Power Ranking) for the newest season available."})]})},cb=(0,t.createContext)(),ub=e=>{let{children:n}=e;const[r,o]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,y]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[b,x]=(0,t.useState)({}),[w,S]=(0,t.useState)(null),[_,k]=(0,t.useState)(!0),[E,N]=(0,t.useState)(null),O=(0,t.useMemo)(()=>{const e=new Map;null!==m&&void 0!==m&&m.usersBySeason&&Object.entries(m.usersBySeason).forEach(t=>{let[n,r]=t;const i=new Map;Array.isArray(r)&&r.forEach(e=>{i.set(e.user_id,e)}),e.set(n,i)});const t=new Map;return a&&a.forEach(e=>{t.set(e.user_id,e)}),function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.team_name?e.metadata.team_name:null!==e&&void 0!==e&&e.display_name?e.display_name:null};if(null===r){const r=i(t.get(n));if(r)return r;const o=Array.from(e.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const t of o){const r=i(e.get(t).get(n));if(r)return r}const a=null===w||void 0===w?void 0:w.find(e=>e.ownerId===n);if(a&&a.teamName&&!a.teamName.startsWith("Unknown Team (ID:"))return a.teamName}else{if(e.has(String(r))){const t=i(e.get(String(r)).get(n));if(t)return t}const o=Array.from(e.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const t of o){const r=i(e.get(t).get(n));if(r)return r}const a=i(t.get(n));if(a)return a;const s=null===w||void 0===w?void 0:w.find(e=>e.ownerId===n);if(s&&s.teamName&&!s.teamName.startsWith("Unknown Team (ID:"))return s.teamName}return`Unknown Team (ID: ${n})`}},[a,m,w]);(0,t.useEffect)(()=>{(async()=>{k(!0),N(null);try{const[e,t,n,r,a,c,d]=await Promise.all([zv(i),Vv(i),Kv(i),Hv(),qv(),Zv(),rb()]);if(o(e),s(t),u(n),h(r),p(a),y(c),v(d),c&&Object.keys(c).length>0){const{seasonalMetrics:e,careerDPRData:t}=l(c,0,O);console.log("SleeperDataContext: Calculated seasonalMetrics:",e),x(e),S(t)}else console.warn("SleeperDataContext: historicalMatchups is empty or null, cannot calculate seasonal metrics."),x({}),S(null);k(!1)}catch(e){console.error("Failed to load initial Sleeper data:",e),N(e),k(!1)}})()},[]);const T=(0,t.useMemo)(()=>({leagueData:r,usersData:a,rostersWithDetails:c,nflPlayers:d,nflState:f,historicalData:m,allDraftHistory:g,processedSeasonalRecords:b,careerDPRData:w,loading:_,error:E,getTeamName:O}),[r,a,c,d,f,m,g,b,w,_,E,O]);return(0,ib.jsx)(cb.Provider,{value:T,children:n})},db=()=>{const e=(0,t.useContext)(cb);if(void 0===e)throw new Error("useSleeperData must be used within a SleeperDataProvider");return e};const hb=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:i,getTeamName:o}=db(),[a,s]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)({}),[m,y]=(0,t.useState)([]),g=["#8884d8","#82ca9d","#ffc658","#f5222d","#fa8c16","#a0d911","#52c41a","#1890ff","#2f54eb","#722ed1","#eb2f96","#faad14","#13c2c2","#eb2f96","#fadb14","#52c41a"];(0,t.useEffect)(()=>{if(e||n||!r||!r.matchupsBySeason||0===Object.keys(r.matchupsBySeason).length)return s([]),u([]),h([]),p({}),void y([]);if("function"!==typeof o)return console.error("LeagueHistory: getDisplayTeamNameFromContext is not a function. Cannot process data."),s([]),u([]),h([]),p({}),void y([]);const{seasonalMetrics:t,careerDPRData:i}=l(r,0,o),a=Object.keys(r.matchupsBySeason).map(Number).sort((e,t)=>e-t),c=new Set;a.forEach(e=>{const t=r.winnersBracketBySeason[e]||[];t.find(e=>e.r===t.length&&e.w)&&c.add(e)});const d={};i.forEach(e=>{const t=e.ownerId,n=o(t,null);n&&!n.startsWith("Unknown Team (ID:")?d[n]={totalWins:e.wins,totalLosses:e.losses,totalTies:e.ties,totalPointsFor:e.pointsFor,totalGames:e.totalGames,careerDPR:e.dpr,seasonsPlayed:new Set,awards:{championships:0,runnerUps:0,thirdPlace:0,firstPoints:0,secondPoints:0,thirdPoints:0},ownerId:t}:console.warn(`LeagueHistory: Skipping career stats for ownerId ${t} due to unresolved team name.`)}),Object.keys(r.rostersBySeason).forEach(e=>{const t=r.rostersBySeason[e];t&&t.forEach(t=>{const n=t.owner_id,r=o(n,null);d[r]&&d[r].seasonsPlayed.add(parseInt(e))})});const f={};a.forEach(e=>{var n;if(!c.has(e))return;const i=t[e];if(!i)return;const a=Object.values(i).map(e=>({ownerId:e.ownerId,points:e.pointsFor})).sort((e,t)=>t.points-e.points),s=r.winnersBracketBySeason[e]||[],l=(null===(n=r.losersBracketBySeason)||void 0===n?void 0:n[e])||[],u=r.rostersBySeason[e]||[],h=new Map(u.map(e=>[String(e.roster_id),String(e.owner_id)])),p=function(e,t){const{winnersBracket:n,losersBracket:r}=e,i=new Map,o=n.find(e=>3===e.r&&6===e.m);o&&o.w&&o.l?(i.set(o.w,1),i.set(o.l,2)):console.warn("Championship match (W:R3:M6) not found or not played yet. 1st/2nd place cannot be determined.");const a=n.find(e=>3===e.r&&7===e.m);a&&a.w&&a.l?(i.set(a.w,3),i.set(a.l,4)):console.warn("3rd Place match (W:R3:M7) not found or not played yet. 3rd/4th place cannot be determined.");const s=n.find(e=>2===e.r&&5===e.m);s&&s.w&&s.l?(i.set(s.w,5),i.set(s.l,6)):console.warn("5th Place match (W:R2:M5) not found or not played yet. 5th/6th place cannot be determined.");const l=r.find(e=>3===e.r&&6===e.m);l&&l.w&&l.l?(i.set(l.w,7),i.set(l.l,8)):console.warn("Consolation Championship match (L:R3:M6) not found or not played yet. 7th/8th place cannot be determined.");const c=r.find(e=>3===e.r&&7===e.m);c&&c.w&&c.l?(i.set(c.w,9),i.set(c.l,10)):console.warn("9th Place match (L:R3:M7) not found or not played yet. 9th/10th place cannot be determined.");const u=r.find(e=>2===e.r&&5===e.m);u&&u.w&&u.l?(i.set(u.w,11),i.set(u.l,12)):console.warn("11th Place match (L:R2:M5) not found or not played yet. 11th/12th place cannot be determined.");const d=[];return t.forEach(e=>{const t=i.get(e.roster_id);t&&d.push({roster_id:e.roster_id,ownerDisplayName:e.ownerDisplayName,ownerTeamName:e.ownerTeamName,playoffFinish:t})}),d.sort((e,t)=>e.playoffFinish-t.playoffFinish)}({winnersBracket:s,losersBracket:l},h);f[e]={champion:"N/A",secondPlace:"N/A",thirdPlace:"N/A",pointsChamp:"N/A",pointsSecond:"N/A",pointsThird:"N/A"},p.forEach(t=>{const n=o(t.owner_id,e);d[n]&&("1st Place"===t.playoffFinish?(f[e].champion=n,d[n].awards.championships++):"2nd Place"===t.playoffFinish?(f[e].secondPlace=n,d[n].awards.runnerUps++):"3rd Place"===t.playoffFinish&&(f[e].thirdPlace=n,d[n].awards.thirdPlace++))});const m=a;if(m&&m.length>0){const t=o(m[0].ownerId,e);if(f[e].pointsChamp=t,d[t]&&d[t].awards.firstPoints++,m.length>1&&m[1].points<m[0].points){const t=o(m[1].ownerId,e);f[e].pointsSecond=t,d[t]&&d[t].awards.secondPoints++}if(m.length>2&&m[2].points<m[1].points){const t=o(m[2].ownerId,e);f[e].pointsThird=t,d[t]&&d[t].awards.thirdPoints++}}});const m=Object.keys(d).map(e=>{const t=d[e];if(0===t.seasonsPlayed.size)return null;const n=t.totalWins+t.totalLosses+t.totalTies,r=n>0?(t.totalWins+.5*t.totalTies)/n:0,i=Array.from(t.seasonsPlayed).sort((e,t)=>e-t),o=i.length>0?i[0]:"",a=i.length>0?i[i.length-1]:"",s=t.seasonsPlayed.size;return{team:e,seasons:(0,ib.jsx)(ib.Fragment,{children:s>0?o===a?(0,ib.jsxs)(ib.Fragment,{children:[o," ",(0,ib.jsxs)("span",{className:"text-xs text-gray-500",children:["(",s,")"]})]}):(0,ib.jsxs)(ib.Fragment,{children:[o,"-",a," ",(0,ib.jsxs)("span",{className:"text-xs text-gray-500",children:["(",s,")"]})]}):""}),totalDPR:t.careerDPR,record:`${t.totalWins}-${t.totalLosses}-${t.totalTies}`,totalWins:t.totalWins,winPercentage:r,awards:t.awards}}).filter(Boolean).sort((e,t)=>t.winPercentage-e.winPercentage);s(m);const g=[],v=Object.keys(r.matchupsBySeason).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t),b=Array.from(new Set(i.map(e=>e.ownerId))),x=b.map(e=>o(e,null)).sort();h(x);const w={};v.forEach(e=>{const t={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(r.matchupsBySeason).forEach(n=>{parseInt(n)<=e&&(t.matchupsBySeason[n]=r.matchupsBySeason[n],t.rostersBySeason[n]=r.rostersBySeason[n],t.leaguesMetadataBySeason[n]=r.leaguesMetadataBySeason[n],t.winnersBracketBySeason[n]=r.winnersBracketBySeason[n],t.losersBracketBySeason[n]=r.losersBracketBySeason[n],t.usersBySeason[n]=r.usersBySeason[n])});const{careerDPRData:n}=l(t,0,o);b.forEach(e=>{var t;const r=null===(t=n.find(t=>t.ownerId===e))||void 0===t?void 0:t.dpr;w[e]=void 0!==r?r:w[e]||0});const i={year:e},a=b.map(e=>({ownerId:e,dpr:w[e]||0}));a.sort((e,t)=>t.dpr-e.dpr);let s=1;for(let r=0;r<a.length;r++){r>0&&a[r].dpr<a[r-1].dpr&&(s=r+1);const e=o(a[r].ownerId,null);i[e]=s,i[`${e}_DPR`]=a[r].dpr}g.push(i)}),u(g),p(f),y(Object.keys(f).map(Number).sort((e,t)=>t-e))},[r,i,o,e,n]);const v=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t=`-${t.substring(2)}`),`${t}%`}return".000%"},b=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),x=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e=[...n].sort((e,t)=>e.value-t.value);return(0,ib.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,ib.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:`Year: ${r}`}),e.map((e,t)=>{const n=e.payload[`${e.dataKey}_DPR`];return(0,ib.jsx)("p",{style:{color:e.color},children:`${e.name}: ${b(n)} DPR`},`item-${t}`)})]})}return null},w=Array.from({length:d.length},(e,t)=>t+1);return(0,ib.jsxs)("div",{className:"w-full max-w-full mt-8 mx-auto",children:[(0,ib.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"League History & Awards"}),e?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"Loading league history data..."}):n?(0,ib.jsx)("p",{className:"text-center text-red-500 font-semibold",children:n.message||String(n)}):0===a.length?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No historical matchup data found to display league history. Please check your Sleeper API configuration."}):(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"All-Time Standings & Awards (Sorted by Win %)"}),(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Rank"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Team"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Seasons"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Career DPR"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Record"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Win %"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Awards"})]})}),(0,ib.jsx)("tbody",{children:a.map((e,t)=>(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center font-semibold whitespace-nowrap",children:t+1}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold whitespace-nowrap",children:e.team}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:e.seasons}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:b(e.totalDPR)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:e.record}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:v(e.winPercentage)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:(0,ib.jsxs)("div",{className:"flex justify-center items-center gap-2 whitespace-nowrap",children:[e.awards.championships>0&&(0,ib.jsxs)("span",{title:"Sween Bowl Championship",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,ib.jsxs)("span",{title:"Sween Bowl Runner-Up",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,ib.jsxs)("span",{title:"3rd Place Finish",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"})," ",(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,ib.jsxs)("span",{title:"1st Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,ib.jsxs)("span",{title:"2nd Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,ib.jsxs)("span",{title:"3rd Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"})," ",(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})})]},e.team))})]})})]}),(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season-by-Season Champions & Awards"}),Object.keys(f).length>0?(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Year"}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-yellow-500 mr-1"})," Champion"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-gray-400 mr-1"})," 2nd Place"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-amber-800 mr-1"})," 3rd Place"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-yellow-500 mr-1"})," Points Champ"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-gray-400 mr-1"})," Points 2nd"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-amber-800 mr-1"})," Points 3rd"]})]})}),(0,ib.jsx)("tbody",{children:m.map((e,t)=>{const n=f[e];return(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold text-center whitespace-nowrap",children:e}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.champion}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.secondPlace}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.thirdPlace}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.pointsChamp}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.pointsSecond}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.pointsThird})]},e)})})]})}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No season-by-season award data available."})]}),(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Total DPR Progression Over Seasons"}),c.length>0?(0,ib.jsxs)(ve,{width:"100%",aspect:1.5,children:[" ",(0,ib.jsxs)(bv,{data:c,margin:{top:20,right:10,left:10,bottom:5},children:[(0,ib.jsx)(Lv,{strokeDasharray:"3 3"}),(0,ib.jsx)(sv,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:0}}),(0,ib.jsx)(vv,{label:{value:"Rank",angle:-90,position:"insideLeft",offset:0},domain:[1,d.length],reversed:!0,tickFormatter:e=>e,ticks:w,tickCount:d.length,interval:0}),(0,ib.jsx)(xt,{content:(0,ib.jsx)(x,{})}),(0,ib.jsx)(Rn,{}),d.map((e,t)=>(0,ib.jsx)(Ng,{type:"monotone",dataKey:e,stroke:g[t%g.length],activeDot:{r:8},dot:{r:4},strokeWidth:2},e))]})]}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No total DPR progression data available for charting."})]})]})]})},fb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(t)},pb=()=>{var e;const{historicalData:n,allDraftHistory:r,getTeamName:i,loading:o,error:a}=db(),[s,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(!0),h={highestDPR:{decimals:3,type:"decimal"},lowestDPR:{decimals:3,type:"decimal"},mostWins:{decimals:0,type:"count"},mostLosses:{decimals:0,type:"count"},bestWinPct:{decimals:3,type:"percentage"},bestAllPlayWinPct:{decimals:3,type:"percentage"},mostWeeklyHighScores:{decimals:0,type:"count"},mostWeeklyTop2Scores:{decimals:0,type:"count"},mostWinningSeasons:{decimals:0,type:"count"},mostLosingSeasons:{decimals:0,type:"count"},mostBlowoutWins:{decimals:0,type:"count"},mostBlowoutLosses:{decimals:0,type:"count"},mostSlimWins:{decimals:0,type:"count"},mostSlimLosses:{decimals:0,type:"count"},mostTotalPoints:{decimals:2,type:"points"},mostPointsAgainst:{decimals:2,type:"points"}};if((0,t.useEffect)(()=>{if(console.log("LeagueRecords: useEffect triggered for calculation."),d(!0),o)console.log("LeagueRecords: Context is still loading. Waiting for data.");else{if(a)return console.error("LeagueRecords: Error from context:",a),c({}),void d(!1);if(!n||!n.matchupsBySeason||0===Object.keys(n.matchupsBySeason).length)return console.log("LeagueRecords: No historicalData or matchups. Setting records to empty and isLoading false."),c({}),void d(!1);try{const{seasonalMetrics:e,careerDPRData:t}=l(n,0,i);console.log("LeagueRecords: Raw seasonalMetrics from calculations.js:",e),console.log("LeagueRecords: Raw careerDPRData from calculations.js (enhanced):",t);let r={value:-1/0,teams:[],key:"highestDPR"},o={value:1/0,teams:[],key:"lowestDPR"},a={value:-1/0,teams:[],key:"mostWins"},s={value:-1/0,teams:[],key:"mostLosses"},u={value:-1/0,teams:[],key:"bestWinPct"},d={value:-1/0,teams:[],key:"bestAllPlayWinPct"},h={value:-1/0,teams:[],key:"mostWeeklyHighScores"},f={value:-1/0,teams:[],key:"mostWinningSeasons"},p={value:-1/0,teams:[],key:"mostLosingSeasons"},m={value:-1/0,teams:[],key:"mostBlowoutWins"},y={value:-1/0,teams:[],key:"mostBlowoutLosses"},g={value:-1/0,teams:[],key:"mostSlimWins"},v={value:-1/0,teams:[],key:"mostSlimLosses"},b={value:-1/0,teams:[],key:"mostTotalPoints"},x={value:-1/0,teams:[],key:"mostPointsAgainst"},w={value:-1/0,teams:[],key:"mostWeeklyTop2Scores"};const S=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t>e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==-1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},_=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t<e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))};t.forEach(t=>{const n=t.teamName,i=t.ownerId;0!==t.dpr&&(S(r,t.dpr,{name:n,value:t.dpr,ownerId:i}),_(o,t.dpr,{name:n,value:t.dpr,ownerId:i})),t.totalGames>0&&(S(a,t.wins,{name:n,value:t.wins,ownerId:i}),S(s,t.losses,{name:n,value:t.losses,ownerId:i}),S(u,t.winPercentage,{name:n,value:t.winPercentage,ownerId:i}),S(b,t.pointsFor,{name:n,value:t.pointsFor,ownerId:i}),S(x,t.pointsAgainst,{name:n,value:t.pointsAgainst,ownerId:i}),S(m,t.blowoutWins,{name:n,value:t.blowoutWins,ownerId:i}),S(y,t.blowoutLosses,{name:n,value:t.blowoutLosses,ownerId:i}),S(g,t.slimWins,{name:n,value:t.slimWins,ownerId:i}),S(v,t.slimLosses,{name:n,value:t.slimLosses,ownerId:i}),S(w,t.weeklyTop2ScoresCount,{name:n,value:t.weeklyTop2ScoresCount,ownerId:i}),S(h,t.topScoreWeeksCount,{name:n,value:t.topScoreWeeksCount,ownerId:i}),S(d,t.allPlayWinPercentage,{name:n,value:t.allPlayWinPercentage,ownerId:i}));let l=0,c=0;Object.keys(e).forEach(t=>{const n=Object.values(e[t]).find(e=>e.ownerId===i);n&&n.totalGames>0&&(n.winPercentage>.5?l++:n.winPercentage<.5&&c++)}),S(f,l,{name:n,value:l,ownerId:i}),S(p,c,{name:n,value:c,ownerId:i})}),c({highestDPR:r,lowestDPR:o,mostWins:a,mostLosses:s,bestWinPct:u,bestAllPlayWinPct:d,mostWeeklyHighScores:h,mostWeeklyTop2Scores:w,mostWinningSeasons:f,mostLosingSeasons:p,mostBlowoutWins:m,mostBlowoutLosses:y,mostSlimWins:g,mostSlimLosses:v,mostTotalPoints:b,mostPointsAgainst:x})}catch(a){console.error("Error calculating league records:",a),c({})}finally{d(!1)}}},[n,r,i,o,a]),u)return(0,ib.jsx)("div",{className:"text-center py-8",children:"Loading all-time league records..."});if(0===Object.keys(s).length||(null===(e=s.highestDPR)||void 0===e?void 0:e.value)===-1/0)return(0,ib.jsx)("div",{className:"text-center py-8",children:"No historical data available to calculate all-time records."});const f=e=>{const t=h[e.key]||{decimals:2,type:"default"};if(!e||e.value===-1/0||e.value===1/0||0===e.teams.length)return(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-left font-medium text-gray-700 capitalize",children:e.key.replace(/([A-Z])/g," $1").trim()}),(0,ib.jsx)("td",{className:"py-2 px-4 text-center text-gray-500",children:"N/A"}),(0,ib.jsx)("td",{className:"py-2 px-4 text-right text-gray-500"})]});let r;r="percentage"===t.type?fb(e.teams[0].value,t.decimals,"decimal")+"%":fb(e.teams[0].value,t.decimals,t.type);const o=e.teams.map((t,r)=>{let o="Unknown Team";if(t.ownerId)o=i(t.ownerId,null);else if(t.rosterId&&t.year){var a,s;const e=null===(a=n.rostersBySeason)||void 0===a||null===(s=a[t.year])||void 0===s?void 0:s.find(e=>String(e.roster_id)===String(t.rosterId));o=null!==e&&void 0!==e&&e.owner_id?i(e.owner_id,null):`Unknown Team (Roster: ${t.rosterId})`}return o.startsWith("Unknown Team (ID:")&&(o="Unknown Team"),(0,ib.jsx)("div",{className:"leading-tight",children:o},`${e.key}-${t.ownerId||t.rosterId||"unknown"}-${t.year||"career"}-${r}`)});return(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-left font-medium text-gray-700 capitalize",children:e.key.replace(/([A-Z])/g," $1").trim()}),(0,ib.jsx)("td",{className:"py-2 px-4 text-center font-semibold text-lg",children:r}),(0,ib.jsx)("td",{className:"py-2 px-4 text-right text-gray-700",children:o})]})};return(0,ib.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-8",children:[(0,ib.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-3",children:"All-Time League Records"}),(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ib.jsx)("thead",{className:"bg-gray-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{scope:"col",className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stat"}),(0,ib.jsx)("th",{scope:"col",className:"py-3 px-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,ib.jsx)("th",{scope:"col",className:"py-3 px-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"})]})}),(0,ib.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(s).map(e=>{let[t,n]=e;return(0,ib.jsx)("tr",{children:f({...n,key:t})},t)})})]})})]})},mb=()=>{const{processedSeasonalRecords:e,getTeamName:n,loading:r,error:i}=db(),[o,a]=(0,t.useState)(()=>({highestDPRSeason:{value:-1/0,entries:[],key:"adjustedDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"adjustedDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},highestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},lowestLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"}})),s={adjustedDPR:{decimals:3,type:"decimal"},wins:{decimals:0,type:"count"},losses:{decimals:0,type:"count"},ties:{decimals:0,type:"count"},pointsFor:{decimals:2,type:"points"},pointsAgainst:{decimals:2,type:"points"},averageScore:{decimals:2,type:"points"},winPercentage:{decimals:3,type:"percentage"},allPlayWinPercentage:{decimals:3,type:"percentage"},topScoreWeeksCount:{decimals:0,type:"count"},blowoutWins:{decimals:0,type:"count"},blowoutLosses:{decimals:0,type:"count"},slimWins:{decimals:0,type:"count"},slimLosses:{decimals:0,type:"count"},weeklyTop2ScoresCount:{decimals:0,type:"count"},luckRating:{decimals:2,type:"decimal"}};if((0,t.useEffect)(()=>{if(console.log("SeasonRecords useEffect: processedSeasonalRecords:",e),r||i||!e||0===Object.keys(e).length)return a({highestDPRSeason:{value:-1/0,entries:[],key:"adjustedDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"adjustedDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},highestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},lowestLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"}}),void console.log("SeasonRecords useEffect: Data not ready or empty. Resetting highlights.");let t={value:-1/0,entries:[],key:"adjustedDPR"},o={value:1/0,entries:[],key:"adjustedDPR"},s={value:-1/0,entries:[],key:"wins"},l={value:-1/0,entries:[],key:"losses"},c={value:-1/0,entries:[],key:"winPercentage"},u={value:-1/0,entries:[],key:"allPlayWinPercentage"},d={value:-1/0,entries:[],key:"topScoreWeeksCount"},h={value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},f={value:-1/0,entries:[],key:"blowoutWins"},p={value:-1/0,entries:[],key:"blowoutLosses"},m={value:-1/0,entries:[],key:"slimWins"},y={value:-1/0,entries:[],key:"slimLosses"},g={value:-1/0,entries:[],key:"pointsFor"},v={value:1/0,entries:[],key:"pointsFor"},b={value:-1/0,entries:[],key:"luckRating"},x={value:1/0,entries:[],key:"luckRating"};const w=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)))};Object.keys(e).forEach(r=>{const i=e[r];if(!i||"object"!==typeof i)return void console.warn(`SeasonRecords: Skipping invalid processedSeasonalRecords[${r}] entry.`);Object.values(i).forEach(e=>{if(!e||"object"!==typeof e||!e.rosterId||!e.ownerId)return void console.warn(`SeasonRecords: Skipping invalid or incomplete teamStats for year ${r}. TeamStats:`,e);if(0===e.totalGames)return void console.log(`SeasonRecords: Skipping team ${e.teamName} (${r}) due to 0 total games.`);let i=n(e.ownerId,r);i.startsWith("Unknown Team (ID:")&&(i=e.teamName||"Unknown Team");const a={teamName:i,year:r,rosterId:e.rosterId,ownerId:e.ownerId};"number"===typeof e.adjustedDPR&&(w(t,e.adjustedDPR,{...a,value:e.adjustedDPR}),e.adjustedDPR>0&&w(o,e.adjustedDPR,{...a,value:e.adjustedDPR},!0)),e.totalGames>0&&("number"===typeof e.wins&&w(s,e.wins,{...a,value:e.wins}),"number"===typeof e.losses&&w(l,e.losses,{...a,value:e.losses}),"number"===typeof e.winPercentage&&w(c,e.winPercentage,{...a,value:e.winPercentage}),"number"===typeof e.allPlayWinPercentage&&w(u,e.allPlayWinPercentage,{...a,value:e.allPlayWinPercentage}),"number"===typeof e.topScoreWeeksCount&&w(d,e.topScoreWeeksCount,{...a,value:e.topScoreWeeksCount}),"number"===typeof e.weeklyTop2ScoresCount&&w(h,e.weeklyTop2ScoresCount,{...a,value:e.weeklyTop2ScoresCount}),"number"===typeof e.blowoutWins&&w(f,e.blowoutWins,{...a,value:e.blowoutWins}),"number"===typeof e.blowoutLosses&&w(p,e.blowoutLosses,{...a,value:e.blowoutLosses}),"number"===typeof e.slimWins&&w(m,e.slimWins,{...a,value:e.slimWins}),"number"===typeof e.slimLosses&&w(y,e.slimLosses,{...a,value:e.slimLosses}),"number"===typeof e.pointsFor&&(w(g,e.pointsFor,{...a,value:e.pointsFor}),w(v,e.pointsFor,{...a,value:e.pointsFor},!0)),"number"===typeof e.luckRating&&(w(b,e.luckRating,{...a,value:e.luckRating}),w(x,e.luckRating,{...a,value:e.luckRating},!0)))})});const S=e=>{e&&e.entries.length>1&&e.entries.sort((e,t)=>e.year!==t.year?parseInt(e.year)-parseInt(t.year):(e.teamName||"").localeCompare(t.teamName||""))};S(t),S(o),S(s),S(l),S(c),S(u),S(d),S(h),S(f),S(p),S(m),S(y),S(g),S(v),S(b),S(x),a({highestDPRSeason:t,lowestDPRSeason:o,mostWinsSeason:s,mostLossesSeason:l,bestWinPctSeason:c,bestAllPlayWinPctSeason:u,mostWeeklyHighScoresSeason:d,mostWeeklyTop2ScoresSeason:h,mostBlowoutWinsSeason:f,mostBlowoutLossesSeason:p,mostSlimWinsSeason:m,mostSlimLossesSeason:y,mostPointsSeason:g,fewestPointsSeason:v,highestLuckRatingSeason:b,lowestLuckRatingSeason:x})},[e,n,r,i]),r)return(0,ib.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading seasonal records..."});if(i)return(0,ib.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading seasonal data: ",i.message]});if(!e||0===Object.keys(e).length)return(0,ib.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available to display."});const l=e=>{var t;if(!e||!Array.isArray(e.entries)||0===e.entries.length||"number"===typeof e.value&&(e.value===-1/0||e.value===1/0))return(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-left font-medium text-gray-700 capitalize",children:(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.replace(/([A-Z])/g," $1").trim())||"N/A"}),(0,ib.jsx)("td",{className:"py-2 px-4 text-center text-gray-500",children:"N/A"}),(0,ib.jsx)("td",{className:"py-2 px-4 text-right text-gray-500"})]});const r=s[e.key]||{decimals:2,type:"default"};let i;i="percentage"===r.type?fb(e.value,r.decimals,"decimal")+"%":fb(e.value,r.decimals,r.type);const o=e.entries.map((t,r)=>{if(!t||!t.ownerId)return console.warn(`SeasonRecords: Skipping invalid entry in record.entries for key '${e.key}'. Index: ${r}`,t),null;const i=n(t.ownerId,t.year);return(0,ib.jsxs)("div",{className:"leading-tight",children:[i,t.year?` (${t.year})`:""]},`${e.key}-${t.ownerId}-${t.year}-${r}`)}).filter(Boolean);return(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-left font-medium text-gray-700 capitalize",children:e.key.replace(/([A-Z])/g," $1").trim()}),(0,ib.jsx)("td",{className:"py-2 px-4 text-center font-semibold text-lg",children:i}),(0,ib.jsx)("td",{className:"py-2 px-4 text-right text-gray-700",children:o})]})};return(0,ib.jsxs)("div",{className:"w-full",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"SEASON RECORDS HIGHLIGHTS"}),(0,ib.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Highlight records achieved in a single season."}),(0,ib.jsxs)("section",{className:"mb-8 p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200",children:[(0,ib.jsx)("h4",{className:"text-lg font-bold text-gray-800 mb-3",children:"Single Season Best/Worst"}),(0,ib.jsx)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:(0,ib.jsxs)("tbody",{children:[(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.highestDPRSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.lowestDPRSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.mostWinsSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.mostLossesSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.bestWinPctSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.bestAllPlayWinPctSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.mostWeeklyHighScoresSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.mostWeeklyTop2ScoresSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.mostBlowoutWinsSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.mostBlowoutLossesSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.mostSlimWinsSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.mostSlimLossesSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.mostPointsSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.fewestPointsSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-white",children:l(o.highestLuckRatingSeason)}),(0,ib.jsx)("tr",{className:"border-b border-gray-100 last:border-b-0 bg-gray-50",children:l(o.lowestLuckRatingSeason)})]})})]})]})},yb=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:i,loading:o,error:a}=db(),[s,l]=(0,t.useState)({});(0,t.useEffect)(()=>{if(console.log("StreaksRecords useEffect: historicalMatchups prop received:",n),console.log("StreaksRecords useEffect: First 5 elements of historicalMatchups prop:",n.slice(0,5)),n.length>0&&console.log("StreaksRecords useEffect: Structure of first element in historicalMatchups prop:",n[0]),o||a||!n||0===n.length)return l({}),void console.log("StreaksRecords useEffect: Data not ready or empty. Resetting streaks.");const e={},t={};n.forEach(n=>{var i,o,a,s,l,c;if(!n||!n.matchup_id||!n.team1_roster_id||void 0===n.team1_score||!n.team2_roster_id||void 0===n.team2_score||void 0===n.season||void 0===n.week)return void console.warn("StreaksRecords: Skipping invalid or incomplete matchup. Missing data:",{matchup_id:null===n||void 0===n?void 0:n.matchup_id,team1_roster_id:null===n||void 0===n?void 0:n.team1_roster_id,team1_score:null===n||void 0===n?void 0:n.team1_score,team2_roster_id:null===n||void 0===n?void 0:n.team2_roster_id,team2_score:null===n||void 0===n?void 0:n.team2_score,season:null===n||void 0===n?void 0:n.season,week:null===n||void 0===n?void 0:n.week,fullMatch:n});const u=parseInt(n.season),d=parseInt(n.week),h=String(n.team1_roster_id),f=String(n.team2_roster_id),p=parseFloat(n.team1_score),m=parseFloat(n.team2_score);if(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(m))return void console.warn("StreaksRecords: Skipping matchup due to invalid numerical data. Match:",n);const y=null===(i=r.rostersBySeason)||void 0===i||null===(o=i[u])||void 0===o||null===(a=o.find(e=>String(e.roster_id)===h))||void 0===a?void 0:a.owner_id,g=null===(s=r.rostersBySeason)||void 0===s||null===(l=s[u])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===f))||void 0===c?void 0:c.owner_id;if(!y||!g)return void console.warn(`StreaksRecords: Skipping matchup due to missing owner ID for year ${u}. Team1Roster: ${h}, Team2Roster: ${f}`);if(0===p&&0===m&&u>=(new Date).getFullYear())return void console.log(`StreaksRecords: Skipping future season matchup with 0 scores for year ${u}.`);const v=p===m;e[y]||(e[y]=[]),e[g]||(e[g]=[]),e[y].push({year:u,week:d,isWin:p>m,isLoss:p<m,isTie:v,score:p,opponentScore:m,rosterId:h}),e[g].push({year:u,week:d,isWin:m>p,isLoss:m<p,isTie:v,score:m,opponentScore:p,rosterId:f}),t[u]||(t[u]={}),t[u][d]||(t[u][d]=[]),t[u][d].push({rosterId:h,score:p}),t[u][d].push({rosterId:f,score:m})}),console.log("StreaksRecords: Populated teamGameLogs:",e),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week)});const s={};Object.keys(t).forEach(e=>{s[e]={},Object.keys(t[e]).forEach(n=>{const r=[...t[e][n]].sort((e,t)=>t.score-e.score);s[e][n]={highestScore:r.length>0?r[0].score:-1/0,lowestScore:r.length>0?r[r.length-1].score:1/0,top3Scores:r.slice(0,Math.min(3,r.length)).map(e=>e.score)}})});const c={longestWinStreak:{value:0,entries:[]},longestLosingStreak:{value:0,entries:[]},longestConsecutiveHighestScoreWeeks:{value:0,entries:[]},longestConsecutiveLowestScoreWeeks:{value:0,entries:[]},longestConsecutiveTop3Weeks:{value:0,entries:[]}},u=(e,t,n,r,i)=>{const o=i(r,n.startYear),a={...n,team:o};if(t>e.value)e.value=t,e.entries=[a];else if(t===e.value&&t>0){e.entries.some(e=>e.team===a.team&&e.startYear===a.startYear&&e.startWeek===a.startWeek&&e.endYear===a.endYear&&e.endWeek===a.endWeek)||e.entries.push(a)}};Object.keys(e).forEach(n=>{const r=e[n];let o=0,a=0,l=null,d=null,h=null,f=null;for(let e=0;e<r.length;e++){const t=r[e];t.isWin?(0===o&&(l=t.year,d=t.week),o++,a>0&&u(c.longestLosingStreak,a,{streak:a,startYear:h,startWeek:f,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:f},n,i),a=0,h=null,f=null):t.isLoss?(0===a&&(h=t.year,f=t.week),a++,o>0&&u(c.longestWinStreak,o,{streak:o,startYear:l,startWeek:d,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:d},n,i),o=0,l=null,d=null):t.isTie&&(o>0&&u(c.longestWinStreak,o,{streak:o,startYear:l,startWeek:d,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:d},n,i),o=0,l=null,d=null,a>0&&u(c.longestLosingStreak,a,{streak:a,startYear:h,startWeek:f,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:f},n,i),a=0,h=null,f=null)}o>0&&u(c.longestWinStreak,o,{streak:o,startYear:l,startWeek:d,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,i),a>0&&u(c.longestLosingStreak,a,{streak:a,startYear:h,startWeek:f,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,i);let p=0,m=0,y=0,g=null,v=null,b=null,x=null,w=null,S=null;for(let e=0;e<r.length;e++){var _,k,E;const o=r[e],a=null===(_=t[o.year])||void 0===_?void 0:_[o.week],l=null===a||void 0===a||null===(k=a.find(e=>e.rosterId===o.rosterId))||void 0===k?void 0:k.score;if(void 0===l||null===l){p>0&&u(c.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:g,startWeek:v,endYear:r[e-1]?r[e-1].year:g,endWeek:r[e-1]?r[e-1].week:v},n,i),p=0,g=null,v=null,m>0&&u(c.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:x},n,i),m=0,b=null,x=null,y>0&&u(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:w,startWeek:S,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,i),y=0,w=null,S=null;continue}const d=null===(E=s[o.year])||void 0===E?void 0:E[o.week];l===d.highestScore?(0===p&&(g=o.year,v=o.week),p++):(p>0&&u(c.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:g,startWeek:v,endYear:r[e-1]?r[e-1].year:g,endWeek:r[e-1]?r[e-1].week:v},n,i),p=0,g=null,v=null),l===d.lowestScore?(0===m&&(b=o.year,x=o.week),m++):(m>0&&u(c.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:x},n,i),m=0,b=null,x=null),d.top3Scores.includes(l)?(0===y&&(w=o.year,S=o.week),y++):(y>0&&u(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:w,startWeek:S,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,i),y=0,w=null,S=null)}p>0&&u(c.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:g,startWeek:v,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,i),m>0&&u(c.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,i),y>0&&u(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:w,startWeek:S,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,i)}),Object.keys(c).forEach(e=>{const t=c[e];0===t.value&&0===t.entries.length&&(t.entries=[]),t.entries.sort((e,t)=>{const n=(e.team||"").localeCompare(t.team||"");return 0!==n?n:e.startYear!==t.startYear?e.startYear-t.startYear:e.startWeek-t.startWeek})}),l(c)},[n,r,i,o,a]);const c=[{key:"longestWinStreak",label:"Win Streak"},{key:"longestLosingStreak",label:"Losing Streak"},{key:"longestConsecutiveHighestScoreWeeks",label:"High Score Streak"},{key:"longestConsecutiveTop3Weeks",label:"Top 3 Score Streak"}];return o?(0,ib.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading streak records..."}):a?(0,ib.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading streak data: ",a.message]}):0===Object.keys(s).length||c.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No streak data available to display records."}):(0,ib.jsxs)("div",{className:"w-full",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"STREAK RECORDS - ( CONSECUTIVE )"}),(0,ib.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Longest historical streaks for teams."}),(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-gray-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-b border-gray-200 w-1/4",children:"Record"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-b border-gray-200 w-1/6",children:"Value"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-b border-gray-200 w-1/4",children:"Team"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider border-b border-gray-200 w-1/6",children:"Start"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider border-b border-gray-200 w-1/6",children:"End"})]})}),(0,ib.jsx)("tbody",{children:c.map((e,t)=>{const n=s[e.key];return n&&0!==n.entries.length?n.entries.map((r,i)=>(0,ib.jsxs)("tr",{className:`\n                                        ${t%2===0?"bg-white":"bg-gray-50"}\n                                        ${i===n.entries.length-1?"border-b border-gray-100":""}\n                                    `,children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold",children:0===i?e.label:""}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:0===i?r.streak:""}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700",children:r.team}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:(0,ib.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ib.jsx)("span",{children:r.startYear}),(0,ib.jsx)("span",{children:"-"}),(0,ib.jsxs)("span",{children:["Week ",r.startWeek]})]})}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:(0,ib.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ib.jsx)("span",{children:r.endYear}),(0,ib.jsx)("span",{children:"-"}),(0,ib.jsxs)("span",{children:["Week ",r.endWeek]})]})})]},`${e.key}-${r.team}-${r.startYear}-${r.startWeek}-${i}`)):(0,ib.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold",children:e.label}),(0,ib.jsx)("td",{colSpan:"4",className:"py-2 px-3 text-sm text-gray-500 text-center",children:"N/A"})]},e.key)})})]})})]})},gb=()=>{const[e,n]=(0,t.useState)("overall"),{historicalData:r,processedSeasonalRecords:i,getTeamName:o,isLoading:a,error:s}=db();if(a)return(0,ib.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading league data..."});if(s)return(0,ib.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading data: ",s.message]});const c=r&&Object.keys(r).length>0&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0,u=i&&Object.keys(i).length>0,d=r&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0;if(!c&&!u&&!d)return(0,ib.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No league data available. Please ensure your league ID is correct and data has been fetched."});const h=[];if(null!==r&&void 0!==r&&r.matchupsBySeason)for(const t in r.matchupsBySeason){const e=r.matchupsBySeason[t];if(e)for(const t in e){const n=e[t];Array.isArray(n)&&h.push(...n)}}return(0,t.useEffect)(()=>{console.log("RecordBook: allHistoricalMatchupsFlat for StreaksRecords:",h),console.log("RecordBook: First 5 elements of allHistoricalMatchupsFlat:",h.slice(0,5)),h.length>0&&console.log("RecordBook: Structure of first element in allHistoricalMatchupsFlat:",h[0])},[h]),(0,ib.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ib.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6 text-center",children:"League Record Book"}),(0,ib.jsx)("nav",{className:"mb-8 border-b border-gray-200",children:(0,ib.jsxs)("ul",{className:"flex flex-wrap -mb-px",children:[(0,ib.jsx)("li",{className:"mr-2",children:(0,ib.jsx)("button",{className:"inline-block py-3 px-6 text-sm font-medium text-center rounded-t-lg border-b-2 "+("overall"===e?"text-blue-600 border-blue-600 active":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),onClick:()=>n("overall"),"aria-current":"overall"===e?"page":void 0,children:"Overall League Records"})}),(0,ib.jsx)("li",{className:"mr-2",children:(0,ib.jsx)("button",{className:"inline-block py-3 px-6 text-sm font-medium text-center rounded-t-lg border-b-2 "+("seasonal"===e?"text-blue-600 border-blue-600 active":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),onClick:()=>n("seasonal"),"aria-current":"seasonal"===e?"page":void 0,children:"Seasonal Records"})}),(0,ib.jsx)("li",{className:"mr-2",children:(0,ib.jsx)("button",{className:"inline-block py-3 px-6 text-sm font-medium text-center rounded-t-lg border-b-2 "+("streaks"===e?"text-blue-600 border-blue-600 active":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),onClick:()=>n("streaks"),"aria-current":"streaks"===e?"page":void 0,children:"Streaks Records"})})]})}),(0,ib.jsxs)("div",{className:"tab-content",children:["overall"===e&&(c?(0,ib.jsx)(pb,{historicalData:r,getTeamName:o,calculateAllLeagueMetrics:l}):(0,ib.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No overall league data available."})),"seasonal"===e&&(u?(0,ib.jsx)(mb,{}):(0,ib.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available for display."})),"streaks"===e&&(d?(0,ib.jsx)(yb,{historicalMatchups:h}):(0,ib.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No historical matchup data available to calculate streaks."}))]})]})},vb=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:i,getTeamName:o}=db(),[a,s]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(e)return void h(!0);if(n)return void h(!1);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return s([]),u([]),void h(!1);if("function"!==typeof o)return console.error("DPRAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),h(!1),s([]),void u([]);h(!0);const{seasonalMetrics:t,careerDPRData:i}=l(r,0,o),a=i.map(e=>{const n=e.wins+e.losses+e.ties,r=n>0?(e.wins+.5*e.ties)/n:0,i=n>0?e.pointsFor/n:0;let o=0,a=1/0,s=0;return Object.keys(t).forEach(n=>{const r=Object.values(t[n]).find(t=>t.ownerId===e.ownerId);if(r){const e=r.totalGames;if(e>0){const t=r.pointsFor/e;t>o&&(o=t),t<a&&(a=t),s++}}}),0===s&&(a=0),{...e,winPercentage:r,pointsPerGame:i,highestSeasonalPointsAvg:o,lowestSeasonalPointsAvg:a}});let c=[];Object.keys(t).sort((e,t)=>parseInt(t)-parseInt(e)).forEach(e=>{Object.keys(t[e]).forEach(n=>{const i=t[e][n];if(i&&i.totalGames>0){var a;let t=i.ownerId;if(!t&&null!==r&&void 0!==r&&null!==(a=r.rostersBySeason)&&void 0!==a&&a[e]){const i=r.rostersBySeason[e].find(e=>String(e.roster_id)===String(n));i&&(t=i.owner_id)}c.push({year:parseInt(e),team:o(t,e),rosterId:n,ownerId:t,dpr:i.adjustedDPR,wins:i.wins,losses:i.losses,ties:i.ties,winPercentage:i.winPercentage,pointsPerGame:i.averageScore,highestPointsGame:i.highScore,lowestPointsGame:i.lowScore})}})}),c.sort((e,t)=>t.dpr-e.dpr);const d={year:null,team:"----------------Average Season 1.000 DPR----------------",dpr:1,wins:null,losses:null,ties:null,winPercentage:null,pointsPerGame:null,highestPointsGame:null,lowestPointsGame:null,isAverageRow:!0};let f=c.findIndex(e=>e.dpr<1);-1===f?c.push(d):c.splice(f,0,d),s(a),u(c),h(!1)},[r,i,o,e,n]);const m=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t=`-${t.substring(2)}`),`${t}%`}return""},y=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),g=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),v=(e,t,n)=>null===e?"":`${e||0}-${t||0}-${n||0}`,b=f?c:c.slice(0,20);let x=0;return(0,ib.jsxs)("div",{className:"w-full",children:[(0,ib.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"DPR Analysis (Career & Seasonal)"}),(0,ib.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Detailed breakdown of team performance using the DPR (Dominance Performance Rating) metric."}),d?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"Calculating DPR data..."}):(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career DPR Rankings"}),a.length>0?(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record (W-L-T)"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg "}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Points Avg"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Points Avg"})]})}),(0,ib.jsx)("tbody",{children:a.map((e,t)=>(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[" ",(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:t+1}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:o(e.ownerId,null)})," ",(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.dpr)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:m(e.winPercentage)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:v(e.wins,e.losses,e.ties)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.pointsPerGame)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.highestSeasonalPointsAvg)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.lowestSeasonalPointsAvg)})]},e.ownerId))})]})}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No career DPR data available."})]}),(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Best Seasons by DPR"}),c.length>0?(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-green-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season DPR"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Record (W-L-T)"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Points"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Points"})]})}),(0,ib.jsx)("tbody",{children:b.map(e=>(e.isAverageRow||x++,(0,ib.jsx)("tr",{className:e.isAverageRow?"bg-yellow-100 font-bold":x%2===0?"bg-gray-50":"bg-white",children:e.isAverageRow?(0,ib.jsx)("td",{colSpan:9,className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap text-center",children:e.team}):(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:x}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:o(e.ownerId,e.year)})," ",(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:e.year}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.dpr)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:m(e.winPercentage)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:v(e.wins,e.losses,e.ties)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.pointsPerGame)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.highestPointsGame)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.lowestPointsGame)})]})},`${e.rosterId}-${e.year}`)))})]})}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal DPR data available."}),c.length>20&&(0,ib.jsx)("div",{className:"text-center mt-4",children:(0,ib.jsx)("button",{onClick:()=>p(!f),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:f?"Show Less":"Show All Seasons"})})]})]})]})},bb=e=>{let{historicalMatchups:n,getDisplayTeamName:r}=e;const[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!n||0===n.length)return o([]),void s(!1);s(!0);const{seasonalMetrics:e}=l(n),t=[];Object.keys(e).forEach(i=>{Object.keys(e[i]).forEach(o=>{const a=e[i][o];if("number"===typeof a.luckRating&&!isNaN(a.luckRating)){let e=0;n.forEach(t=>{if(!0!==(null===t||void 0===t?void 0:t.regSeason)&&"true"!==(null===t||void 0===t?void 0:t.regSeason)||parseInt((null===t||void 0===t?void 0:t.year)||"0")!==parseInt(i))return;const n=r(String((null===t||void 0===t?void 0:t.team1)||"").trim()),a=r(String((null===t||void 0===t?void 0:t.team2)||"").trim());n===o?parseFloat((null===t||void 0===t?void 0:t.team1Score)||"0")>parseFloat((null===t||void 0===t?void 0:t.team2Score)||"0")&&e++:a===o&&parseFloat((null===t||void 0===t?void 0:t.team2Score)||"0")>parseFloat((null===t||void 0===t?void 0:t.team1Score)||"0")&&e++});let s=0;const l={};n.forEach(e=>{const t=r(String((null===e||void 0===e?void 0:e.team1)||"").trim()),n=r(String((null===e||void 0===e?void 0:e.team2)||"").trim()),i=parseInt((null===e||void 0===e?void 0:e.year)||"0"),o=parseInt((null===e||void 0===e?void 0:e.week)||"0"),a=parseFloat((null===e||void 0===e?void 0:e.team1Score)||"0"),s=parseFloat((null===e||void 0===e?void 0:e.team2Score)||"0");isNaN(i)||isNaN(o)||isNaN(a)||isNaN(s)||!0!==(null===e||void 0===e?void 0:e.regSeason)&&"true"!==(null===e||void 0===e?void 0:e.regSeason)||(l[i]||(l[i]={}),l[i][o]||(l[i][o]=[]),l[i][o].push({team:t,score:a}),l[i][o].push({team:n,score:s}))}),l[i]&&Object.keys(l[i]).forEach(e=>{const t=l[i][e];if(!new Set(t.filter(e=>"number"===typeof e.score&&!isNaN(e.score)).map(e=>e.team)).has(o))return;const a=n.filter(t=>parseInt((null===t||void 0===t?void 0:t.year)||"0")===parseInt(i)&&parseInt((null===t||void 0===t?void 0:t.week)||"0")===parseInt(e)&&(!0===(null===t||void 0===t?void 0:t.regSeason)||"true"===(null===t||void 0===t?void 0:t.regSeason)));if(0===a.length)return;const c=a.find(e=>{const t=r(String((null===e||void 0===e?void 0:e.team1)||"").trim()),n=r(String((null===e||void 0===e?void 0:e.team2)||"").trim());return t===o||n===o});if(!c)return;let u;const d=r(String((null===c||void 0===c?void 0:c.team1)||"").trim()),h=r(String((null===c||void 0===c?void 0:c.team2)||"").trim());if(d===o)u=parseFloat((null===c||void 0===c?void 0:c.team1Score)||"0");else{if(h!==o)return;u=parseFloat((null===c||void 0===c?void 0:c.team2Score)||"0")}if(isNaN(u))return;let f=0,p=0;t.forEach(e=>{e.team!==o&&(u>e.score&&f++,u-1===e.score&&p++)});s+=f/11+p/22}),t.push({year:parseInt(i),team:o,luckRating:a.luckRating,actualWins:e,projectedWins:s})}})}),t.sort((e,t)=>t.luckRating-e.luckRating),o(t),s(!1)},[n,r]);const c=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3});return(0,ib.jsxs)("div",{className:"w-full",children:[(0,ib.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"Luck Rating Analysis"}),(0,ib.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:'This analysis indicates how much "luckier" or "unluckier" a team was compared to their projected wins if every possible matchup against other teams in their league week-by-week were played. A positive score means luckier, negative means unluckier.'}),a?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"Calculating luck ratings..."}):i.length>0?(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-yellow-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Rating"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,ib.jsx)("tbody",{children:i.map((e,t)=>(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:t+1}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.year}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.team}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700",children:c(e.luckRating)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700",children:e.actualWins}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700",children:c(e.projectedWins)})]},`${e.team}-${e.year}`))})]})}):(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No luck rating data found."})]})},xb=e=>{if("number"!==typeof e||isNaN(e))return"";const t=["th","st","nd","rd"],n=e%100;return t[n-20]||t[n]||t[0]},wb=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=t.filter(e=>"number"===typeof e&&!isNaN(e));if(0===r.length)return"N/A";const i=[...new Set(r)].sort((e,t)=>n?t-e:e-t);let o=1;for(let a=0;a<i.length;a++){const t=i[a];if(t===e){const t=r.filter(t=>t===e).length;return t>1?`T-${o}${xb(o)}`:`${o}${xb(o)}`}o+=r.filter(e=>e===t).length}return"N/A"},Sb=e=>"number"===typeof e?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A",_b=e=>"number"===typeof e?`${e.toFixed(3).substring(1)}%`:"N/A",kb=e=>"number"===typeof e?e.toFixed(3):"N/A",Eb=e=>"number"===typeof e?e.toFixed(3):"N/A",Nb=e=>{let{title:t,value:n,rank:r}=e;return(0,ib.jsxs)("div",{className:"bg-blue-50 p-2 rounded-lg shadow-sm flex flex-col items-center justify-center text-center border border-blue-200",children:[r&&"N/A"!==r&&(0,ib.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:r}),(0,ib.jsxs)("p",{className:"text-sm font-semibold text-gray-600",children:[t," (",(0,ib.jsx)("span",{className:"font-semibold text-gray-600",children:n}),")"]})]})},Ob=e=>{let{teamName:n}=e;const{loading:r,error:i,historicalData:o,allDraftHistory:a,getTeamName:s}=db(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!0),[m,y]=(0,t.useState)("year"),[g,v]=(0,t.useState)("desc");(0,t.useEffect)(()=>{const e=String(n||"");if(r||i||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return void p(!1);if("function"!==typeof s)return console.error("TeamDetailPage: getTeamNameFromContext is not a function. Cannot process data."),void p(!1);p(!0);const{seasonalMetrics:t,careerDPRData:a}=l(o,0,s);let c=null;const d=a.find(t=>s(t.ownerId,null)===e);if(d&&(c=d.ownerId),!c)return console.warn(`TeamDetailPage: Could not find ownerId for teamName: ${e}. Displaying no data.`),p(!1),u(null),void h([]);const f={totalWins:0,totalLosses:0,totalTies:0,totalPointsFor:0,totalGamesPlayed:0,overallTopScoreWeeksCount:0,playoffAppearancesCount:0,avgDPR:0,totalChampionships:0,totalRunnerUps:0,totalThirdPlaces:0,totalPointsChampionships:0,totalPointsRunnerUps:0,totalThirdPlacePoints:0,winRank:"N/A",winPercentageRank:"N/A",pointsForRank:"N/A",topScoreWeeksRank:"N/A",playoffRank:"N/A",championshipRank:"N/A",luckRank:"N/A",ownerId:c},m=[],y={},g=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),v=g.length>0?Math.max(...g):null;Object.keys(t).forEach(e=>{const n=parseInt(e),r=t[n];r&&Object.values(r).forEach(e=>{const t=e.ownerId,n=s(t,null);if(!n||n.startsWith("Unknown Team (ID:"))return;y[n]||(y[n]={wins:0,losses:0,ties:0,pointsFor:0,totalGamesPlayed:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,topScoreWeeksCount:0,playoffAppearancesCount:0,totalLuckRating:0,totalDPRSum:0,seasonsWithDPRData:0,ownerId:t});const r=y[n];r.wins+=e.wins,r.losses+=e.losses,r.ties+=e.ties,r.pointsFor+=e.pointsFor,r.totalGamesPlayed+=e.totalGames,r.topScoreWeeksCount+=e.topScoreWeeksCount||0,r.totalLuckRating+=e.luckRating||0,void 0!==e.adjustedDPR&&null!==e.adjustedDPR&&(r.totalDPRSum+=e.adjustedDPR,r.seasonsWithDPRData++),e.isPlayoffTeam&&r.playoffAppearancesCount++,e.isChampion&&r.championships++,e.isRunnerUp&&r.runnerUps++,e.isThirdPlace&&r.thirdPlaces++,e.isPointsChampion&&r.firstPoints++,e.isPointsRunnerUp&&r.secondPoints++,e.isThirdPlacePoints&&r.thirdPoints++})});const b=y[e];if(!b)return p(!1),u(null),void h([]);{Object.assign(f,{totalWins:b.wins,totalLosses:b.losses,totalTies:b.ties,totalPointsFor:b.pointsFor,totalGamesPlayed:b.totalGamesPlayed,overallTopScoreWeeksCount:b.topScoreWeeksCount,playoffAppearancesCount:b.playoffAppearancesCount,avgDPR:b.seasonsWithDPRData>0?b.totalDPRSum/b.seasonsWithDPRData:0,totalChampionships:b.championships,totalRunnerUps:b.runnerUps,totalThirdPlaces:b.thirdPlaces,totalPointsChampionships:b.firstPoints,totalPointsRunnerUps:b.secondPoints,totalThirdPlacePoints:b.thirdPoints,luckRating:b.totalLuckRating});const e=Object.values(y).map(e=>e.wins),t=Object.values(y).map(e=>(e.wins+.5*e.ties)/e.totalGamesPlayed),n=Object.values(y).map(e=>e.pointsFor),r=Object.values(y).map(e=>e.topScoreWeeksCount),i=Object.values(y).map(e=>e.playoffAppearancesCount),o=Object.values(y).map(e=>e.championships),a=Object.values(y).map(e=>e.totalLuckRating);f.winRank=wb(f.totalWins,e),f.winPercentageRank=wb((f.totalWins+.5*f.totalTies)/f.totalGamesPlayed,t),f.pointsForRank=wb(f.totalPointsFor,n),f.topScoreWeeksRank=wb(f.overallTopScoreWeeksCount,r),f.playoffRank=wb(f.playoffAppearancesCount,i),f.championshipRank=wb(f.totalChampionships,o),f.luckRank=wb(f.luckRating,a,!1)}g.forEach(e=>{const n=t[e];if(n){const t=Object.values(n).find(e=>e.ownerId===c);if(t&&t.totalGames>0){const n=s(c,e);m.push({year:e,team:n,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,luckRating:t.luckRating,adjustedDPR:t.adjustedDPR,allPlayWinPercentage:t.allPlayWinPercentage,winPercentage:t.winPercentage,finish:e===v?"N/A":t.rank?`${t.rank}${xb(t.rank)}`:"N/A",pointsFinish:e===v?"N/A":t.pointsRank?`${t.pointsRank}${xb(t.pointsRank)}`:"N/A"})}}}),u(f),h(m),p(!1)},[n,o,a,s,r,i]);const b=(0,t.useMemo)(()=>{const e=[...d],t=e=>{var t;return"N/A"===e?1/0:parseInt((null===(t=e.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0")};return e.sort((e,n)=>{const r="record"===m?(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties):"finish"===m||"pointsFinish"===m?t(e[m]):e[m],i="record"===m?(n.wins+.5*n.ties)/(n.wins+n.losses+n.ties):"finish"===m||"pointsFinish"===m?t(n[m]):n[m];return(r<i?-1:r>i?1:0)*("asc"===g?1:-1)})},[d,m,g]),x=e=>{m===e?v("asc"===g?"desc":"asc"):(y(e),v("asc"))};return f?(0,ib.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-gray-600",children:["Loading ",n,"'s historical data..."]}):c?(0,ib.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8",children:[(0,ib.jsxs)("h2",{className:"text-3xl font-bold text-blue-700 mb-6 text-center border-b pb-3",children:[n,(0,ib.jsxs)("span",{className:"block text-lg font-medium text-gray-600 mt-2",children:["Record: ",c.totalWins,"-",c.totalLosses,"-",c.totalTies," | Career DPR: ",Eb(c.avgDPR),(0,ib.jsxs)("div",{className:"flex justify-center items-center gap-2 whitespace-nowrap mt-1",children:[c.totalChampionships>0&&(0,ib.jsxs)("span",{title:`Sween Bowl Champion (${c.totalChampionships}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalChampionships,"x"]})]}),c.totalRunnerUps>0&&(0,ib.jsxs)("span",{title:`Sween Bowl Runner-Up (${c.totalRunnerUps}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-gray-400 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalRunnerUps,"x"]})]}),c.totalThirdPlaces>0&&(0,ib.jsxs)("span",{title:`3rd Place Finish (${c.totalThirdPlaces}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-trophy text-amber-800 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalThirdPlaces,"x"]})]}),c.totalPointsChampionships>0&&(0,ib.jsxs)("span",{title:`1st Place - Points (${c.totalPointsChampionships}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-yellow-500 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalPointsChampionships,"x"]})]}),c.totalPointsRunnerUps>0&&(0,ib.jsxs)("span",{title:`2nd Place - Points (${c.totalPointsRunnerUps}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-gray-400 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalPointsRunnerUps,"x"]})]}),c.totalThirdPlacePoints>0&&(0,ib.jsxs)("span",{title:`3rd Place - Points (${c.totalThirdPlacePoints}x)`,className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,ib.jsx)("i",{className:"fas fa-medal text-amber-800 text-2xl"}),(0,ib.jsxs)("span",{className:"text-xs font-medium",children:[c.totalThirdPlacePoints,"x"]})]})]})]})]}),(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"League Ranks"}),(0,ib.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[(0,ib.jsx)(Nb,{title:"Total Wins",value:c.totalWins,rank:c.winRank}),(0,ib.jsx)(Nb,{title:"Win %",value:_b((c.totalWins+.5*c.totalTies)/c.totalGamesPlayed),rank:c.winPercentageRank}),(0,ib.jsx)(Nb,{title:"Total Points",value:Sb(c.totalPointsFor),rank:c.pointsForRank}),(0,ib.jsx)(Nb,{title:"Weekly Top Scores",value:void 0!==c.overallTopScoreWeeksCount?`${c.overallTopScoreWeeksCount}`:"N/A",rank:c.topScoreWeeksRank}),(0,ib.jsx)(Nb,{title:"Playoff Appearances",value:c.playoffAppearancesCount,rank:c.playoffRank}),(0,ib.jsx)(Nb,{title:"Championships",value:c.totalChampionships,rank:c.championshipRank})]})]}),(0,ib.jsxs)("section",{className:"mb-8",children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season History"}),d.length>0?(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-gray-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("year"),children:["Year ","year"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("record"),children:["Record (W-L-T) ","record"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsFor"),children:["Points For ","pointsFor"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-red-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsAgainst"),children:["Points Against ","pointsAgainst"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("luckRating"),children:["Luck Rating ","luckRating"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-purple-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("finish"),children:["Finish ","finish"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsFinish"),children:["Points Finish ","pointsFinish"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("adjustedDPR"),children:["Adjusted DPR ","adjustedDPR"===m&&("asc"===g?"\u25b2":"\u25bc")]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("allPlayWinPercentage"),children:["All-Play Win % ","allPlayWinPercentage"===m&&("asc"===g?"\u25b2":"\u25bc")]})]})}),(0,ib.jsx)("tbody",{children:b.map((e,t)=>(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,ib.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:[e.wins,"-",e.losses,"-",e.ties]}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Sb(e.pointsFor)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Sb(e.pointsAgainst)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:kb(e.luckRating)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.finish}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.pointsFinish}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Eb(e.adjustedDPR)}),(0,ib.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:_b(e.allPlayWinPercentage)})]},e.year))})]})}):(0,ib.jsxs)("p",{className:"text-gray-600",children:["No season-by-season data available for ",n," for completed seasons."]})]})]}):(0,ib.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-red-500",children:["No data found for ",n,"."]})},Tb=e=>e?`${e.wins||0}-${e.losses||0}-${e.ties||0}`:"0-0-0",jb=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=[...new Set(t.filter(e=>null!==e&&"undefined"!==typeof e&&!isNaN(e)))].sort((e,t)=>n?t-e:e-t),i=r.indexOf(e)+1;return i>0?`${i}${(e=>{const t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"})(i)}`:"N/A"},Pb=e=>{let{careerDPRData:n}=e;const{loading:r,error:i,historicalData:o,getTeamName:a}=db(),[s,l]=(0,t.useState)({}),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(r||i)return void h(!0);if(!o||0===Object.keys(o.matchupsBySeason||{}).length)return l({}),void h(!1);h(!0);const e={};Object.keys(o.matchupsBySeason).forEach(t=>{var n,r,i,s;const l=o.matchupsBySeason[t],c=o.leaguesMetadataBySeason[t],u=null!==c&&void 0!==c&&null!==(n=c.settings)&&void 0!==n&&n.championship_week?parseInt(c.settings.championship_week):null,d=(null===(r=o.rostersBySeason)||void 0===r?void 0:r[t])||[],h=(null===(i=o.winnersBracketBySeason)||void 0===i?void 0:i[t])||[],f=(null===(s=o.losersBracketBySeason)||void 0===s?void 0:s[t])||[];Object.keys(l).forEach(n=>{const r=parseInt(n),i=l[n];i&&0!==i.length&&i.forEach(n=>{const i=String(n.team1_roster_id),o=String(n.team2_roster_id),s=parseFloat(n.team1_score),l=parseFloat(n.team2_score);if(!i||!o||i===o||isNaN(s)||isNaN(l))return;const c=d.find(e=>String(e.roster_id)===i),p=d.find(e=>String(e.roster_id)===o),m=null===c||void 0===c?void 0:c.owner_id,y=null===p||void 0===p?void 0:p.owner_id;if(!m||!y)return;const g=a(m,t),v=a(y,t);if(g.startsWith("Unknown Team")||v.startsWith("Unknown Team"))return;const b=s===l,x=s>l;let w="Reg. Season";if(n.playoff){const e=String(n.team1_roster_id),t=String(n.team2_roster_id),i=(e,t,n)=>e.some(e=>{const r=[String(e.t1),String(e.t2)].filter(Boolean);return r.includes(t)&&r.includes(n)}),o=i(h,e,t),a=i(f,e,t);w=o?u&&r===u?"Championship":"Playoffs":a?"Consolation":"Playoffs (Uncategorized)"}const S=[m,y].sort(),_=`${S[0]} vs ${S[1]}`;e[_]||(e[_]={owners:S,[S[0]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},[S[1]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},allMatches:[]});const k=e[_];let E="Tie",N="Tie";x?(E=m,N=y):l>s&&(E=y,N=m);const O=m===S[0]?k[S[0]]:k[S[1]],T=y===S[0]?k[S[0]]:k[S[1]],j="Playoffs"===w||"Championship"===w||"Consolation"===w;b?(O.ties++,T.ties++,j&&(O.playoffTies++,T.playoffTies++)):x?(O.wins++,T.losses++,j&&(O.playoffWins++,T.playoffLosses++)):(T.wins++,O.losses++,j&&(T.playoffWins++,O.playoffLosses++)),k.allMatches.push({year:parseInt(t),week:r,matchupId:n.match_id,team1RosterId:i,team2RosterId:o,team1OwnerId:m,team2OwnerId:y,team1DisplayName:g,team2DisplayName:v,team1Score:s,team2Score:l,winnerOwnerId:E,loserOwnerId:N,winnerDisplayName:E===m?g:v,loserDisplayName:N===m?g:v,winnerScore:E===m?s:l,loserScore:N===m?s:l,isTie:b,matchType:w})})})}),l(e),h(!1)},[o,a,r,i]);const f=(0,t.useMemo)(()=>{const e=new Set;Object.values(s).forEach(t=>{t.owners.forEach(t=>e.add(t))});return Array.from(e).map(e=>({ownerId:e,displayName:a(e,null)})).sort((e,t)=>e.displayName.localeCompare(t.displayName))},[s,a]),p=(0,t.useCallback)(()=>{const e=s[c];if(!e)return null;const t=e.owners[0],r=e.owners[1],i=a(t,null),o=a(r,null),l=e[t],d=e[r];let h={value:null,year:null,week:null,teamDisplayName:null},f={value:null,year:null,week:null,winningTeamDisplayName:null},p={value:1/0,year:null,week:null,winningTeamDisplayName:null},m=0,y=0,g=null,v=0;const b=[...e.allMatches].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week);b.forEach(e=>{let n,i;if(e.team1OwnerId===t)n=e.team1Score,i=e.team2Score;else{if(e.team1OwnerId!==r)return;n=e.team2Score,i=e.team1Score}if(!isNaN(n)&&!isNaN(i)){if(m+=n,y+=i,n>(h.value||0)&&(h={value:n,year:e.year,week:e.week,teamDisplayName:e.team1DisplayName}),i>(h.value||0)&&(h={value:i,year:e.year,week:e.week,teamDisplayName:e.team2DisplayName}),!e.isTie){const t=Math.abs(n-i);t>(f.value||0)&&(f={value:t,year:e.year,week:e.week,winningTeamDisplayName:e.winnerDisplayName})}if(!e.isTie){const t=Math.abs(n-i);t<p.value&&(p={value:t,year:e.year,week:e.week,winningTeamDisplayName:e.winnerDisplayName})}if(e.isTie)g=null,v=0;else{const e=n>i?t:r;g===e?v++:(g=e,v=1)}}});const x=g?`${a(g,null)} ${v}-game W streak`:"No current streak",w=n?n.map(e=>e.wins):[],S=n?n.map(e=>e.winPercentage):[],_=n?n.map(e=>e.dpr):[],k=n?n.map(e=>e.pointsFor):[],E=n?n.map(e=>e.highScore):[];return(0,ib.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md border border-gray-200",children:[(0,ib.jsx)("button",{onClick:()=>u(null),className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"\u2190 Back to All Rivalries"}),(0,ib.jsxs)("div",{className:"text-center mb-6",children:[(0,ib.jsxs)("h3",{className:"text-2xl font-extrabold text-gray-800 mb-2",children:[i," vs ",o]}),(0,ib.jsx)("p",{className:"text-sm text-gray-600",children:"Performance, stats, and records"})]}),(()=>{const e=null===n||void 0===n?void 0:n.find(e=>e.ownerId===t),i=null===n||void 0===n?void 0:n.find(e=>e.ownerId===r),o=e=>e&&(null!==e.wins&&0!==e.wins||null!==e.pointsFor&&0!==e.pointsFor||null!==e.dpr&&0!==e.dpr||null!==e.highScore&&0!==e.highScore||null!==e.winPercentage&&0!==e.winPercentage);return o(e)||o(i)?(0,ib.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t,r].map(e=>{const i=a(e,null),o=null===n||void 0===n?void 0:n.find(t=>t.ownerId===e),s=e===t?r:t,l=null===n||void 0===n?void 0:n.find(e=>e.ownerId===s),c=o?o.wins:null,u=o&&"number"===typeof o.winPercentage?o.winPercentage:null,d=o?o.dpr:null,h=o?o.highScore:null,f=o?o.pointsFor:null,p=l?l.wins:null,m=(l&&l.winPercentage,l?m:null),y=l?l.highScore:null,g=l?l.pointsFor:null,v=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},b=jb(c,w,!0),x=jb(u,S,!0),N=jb(d,_,!0),O=jb(h,E,!0),T=jb(f,k,!0);return(0,ib.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,ib.jsx)("div",{className:"w-16 h-16 bg-blue-200 rounded-full flex items-center justify-center text-blue-800 font-bold text-2xl mb-3",children:i.charAt(0)}),(0,ib.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:i}),(0,ib.jsxs)("div",{className:"grid grid-cols-2 gap-2 w-full text-xs font-medium text-gray-700",children:[(0,ib.jsxs)("div",{className:`${v(c,p)} p-2 rounded-md`,children:["Total Wins: ",null!==c?c:"N/A"," (Rank: ",b,")"]}),(0,ib.jsxs)("div",{className:"bg-blue-50 p-2 rounded-md",children:["Win %: ",null!==u?(100*u).toFixed(1)+"%":"N/A"," (Rank: ",x,")"]}),(0,ib.jsxs)("div",{className:`${v(d,m)} p-2 rounded-md`,children:["Career DPR: ",null!==d?d.toFixed(2):"N/A"," (Rank: ",N,")"]}),(0,ib.jsxs)("div",{className:`${v(h,y)} p-2 rounded-md`,children:["Weekly High Score: ",null!==h?h.toFixed(2):"N/A"," (Rank: ",O,")"]}),(0,ib.jsxs)("div",{className:`${v(f,g)} p-2 rounded-md`,children:["Total Points Scored: ",null!==f?f.toFixed(2):"N/A"," (Rank: ",T,")"]}),(0,ib.jsx)("div",{className:"bg-blue-50 p-2 rounded-md",children:"Draft Rank: N/A"}),(0,ib.jsx)("div",{className:"bg-blue-50 p-2 rounded-md",children:"Manager Rank: N/A"}),(0,ib.jsx)("div",{className:"bg-blue-50 p-2 rounded-md",children:"Medal Score: N/A"})]})]},e)})}):null})(),(0,ib.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-xl shadow-lg border border-blue-600 text-center mb-8 transform hover:scale-105 transition-transform duration-300 ease-in-out",children:[(0,ib.jsx)("h4",{className:"text-2xl font-extrabold mb-3 tracking-wide",children:"\u2605 VERSUS \u2605"}),(0,ib.jsxs)("p",{className:"text-xl font-semibold mb-2",children:["Record: ",(0,ib.jsx)("span",{className:"font-bold",children:Tb(l)})," vs ",(0,ib.jsx)("span",{className:"font-bold",children:Tb(d)})]}),(0,ib.jsxs)("p",{className:"text-lg mb-2",children:["Current Streak: ",(0,ib.jsx)("span",{className:"font-medium",children:x})]}),(0,ib.jsxs)("p",{className:"text-lg",children:["Playoff Record: ",(0,ib.jsxs)("span",{className:"font-bold",children:[l.playoffWins,"-",l.playoffLosses,"-",l.playoffTies]})," ","vs"," ",(0,ib.jsxs)("span",{className:"font-bold",children:[d.playoffWins,"-",d.playoffLosses,"-",d.playoffTies]})]})]}),(0,ib.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-4 border-b pb-2",children:"Matchup Highlights"}),(0,ib.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,ib.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,ib.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Highest Score"}),(0,ib.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==h.value?h.value.toFixed(2):"N/A"}),(0,ib.jsx)("p",{className:"text-xs text-gray-500",children:null!==h.value?`${h.teamDisplayName} (${h.year} Week ${h.week})`:""})]}),(0,ib.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,ib.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Biggest Win Margin"}),(0,ib.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==f.value?f.value.toFixed(2):"N/A"}),(0,ib.jsx)("p",{className:"text-xs text-gray-500",children:null!==f.value?`${f.winningTeamDisplayName} (${f.year} Week ${f.week})`:""})]}),(0,ib.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,ib.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Slimmest Win Margin"}),(0,ib.jsx)("p",{className:"text-xl font-bold text-gray-800",children:p.value!==1/0?p.value.toFixed(2):"N/A"}),(0,ib.jsx)("p",{className:"text-xs text-gray-500",children:p.value!==1/0?`${p.winningTeamDisplayName} (${p.year} Week ${p.week})`:""})]})]}),(0,ib.jsx)("h4",{className:"text-lg font-bold text-gray-800 mt-6 mb-3 border-b pb-2",children:"Match History"}),(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,ib.jsx)("thead",{className:"bg-gray-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Year"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Week"}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[i," Score"]}),(0,ib.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[o," Score"]}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Winner"}),(0,ib.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Type"})]})}),(0,ib.jsx)("tbody",{children:e.allMatches.sort((e,t)=>t.year-e.year||t.week-e.week).map((e,n)=>{let i=e.team1OwnerId===t?e.team1Score:e.team2Score,o=e.team1OwnerId===r?e.team1Score:e.team2Score;return(0,ib.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,ib.jsx)("td",{className:"py-2 px-3",children:e.year}),(0,ib.jsx)("td",{className:"py-2 px-3",children:e.week}),(0,ib.jsx)("td",{className:"py-2 px-3",children:i.toFixed(2)}),(0,ib.jsx)("td",{className:"py-2 px-3",children:o.toFixed(2)}),(0,ib.jsx)("td",{className:"py-2 px-3",children:"Tie"===e.winnerDisplayName?"Tie":e.winnerDisplayName}),(0,ib.jsx)("td",{className:"py-2 px-3 text-xs text-gray-500",children:e.matchType})," "]},n)})})]})})]})},[c,s,n,a,o]);return d?(0,ib.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,ib.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ib.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ib.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ib.jsx)("p",{className:"text-lg font-medium",children:"Loading Head-to-Head data..."})]}):i?(0,ib.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,ib.jsxs)("p",{children:["Error loading historical data: ",i.message||String(i)]}),(0,ib.jsx)("p",{children:"Please check your Sleeper API configuration and network connection."})]}):o&&0!==Object.keys(o.matchupsBySeason||{}).length?(0,ib.jsx)("div",{className:"w-full",children:c?p():(0,ib.jsxs)(ib.Fragment,{children:[(0,ib.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Head-to-Head Rivalries"}),(0,ib.jsxs)("div",{className:"overflow-x-auto relative",children:[" ",(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-50",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 sticky left-0 bg-blue-50 z-20 shadow-sm"}),f.map(e=>(0,ib.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 min-w-[90px] sticky top-0 bg-blue-50 z-10",children:[" ",e.displayName]},e.ownerId))]})}),(0,ib.jsx)("tbody",{children:f.map(e=>(0,ib.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,ib.jsxs)("td",{className:"py-2 px-3 text-left text-sm text-gray-800 font-semibold sticky left-0 bg-white z-20 border-r border-gray-200 shadow-sm",children:[" ",e.displayName]}),f.map(t=>{if(e.ownerId===t.ownerId)return(0,ib.jsx)("td",{className:"py-2 px-3 text-center text-sm text-gray-400 bg-gray-100 border-b border-gray-200",children:"---"},`${e.ownerId}-${t.ownerId}`);const n=[e.ownerId,t.ownerId].sort().join(" vs "),r=s[n];let i="0-0",o="py-2 px-3 text-center text-sm border-b border-gray-200 cursor-pointer ";if(r){const t=r[e.ownerId];t.wins+t.losses+t.ties>0?(i=`${t.wins}-${t.losses}`,t.wins>t.losses?o+="bg-green-100 text-green-800 hover:bg-green-200":t.losses>t.wins?o+="bg-red-100 text-red-800 hover:bg-red-200":o+="bg-yellow-100 text-yellow-800 hover:bg-yellow-200"):o+="text-gray-600 bg-white hover:bg-gray-50"}else o+="text-gray-600 bg-white hover:bg-gray-50";return(0,ib.jsx)("td",{className:o,onClick:()=>r&&u(n),children:i},`${e.ownerId}-${t.ownerId}`)})]},e.ownerId))})]})]}),(0,ib.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Click on any record in the grid for more detailed head-to-head statistics."})]})}):(0,ib.jsx)("div",{className:"text-center text-orange-600 text-lg p-4",children:"No historical matchup data available to build Head-to-Head grid."})},Ab=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ab(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Cb;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(e){return function(e){const t=Ab(e);return Ib.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Rb=function(e){try{return Ib.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Mb=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Lb=()=>{try{return Mb()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Rb(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Fb=e=>{var t,n;return null===(n=null===(t=Lb())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ub=()=>{var e;return null===(e=Lb())||void 0===e?void 0:e.config},Bb=e=>{var t;return null===(t=Lb())||void 0===t?void 0:t[`_${e}`]};class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Wb(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function zb(){return!function(){var e;const t=null===(e=Lb())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vb(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Hb extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Hb.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qb.prototype.create)}}class qb{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Gb,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Hb(n,o,t)}}const Gb=/\{\$([^}]+)}/g;function Kb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Yb(n)&&Yb(o)){if(!Kb(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yb(e){return null!==e&&"object"===typeof e}function Qb(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Xb(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Jb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Zb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ex),void 0===r.error&&(r.error=ex),void 0===r.complete&&(r.complete=ex);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ex(){}function tx(e){return e&&e._delegate?e._delegate:e}class nx{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rx="[DEFAULT]";class ix{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $b;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rx})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rx;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rx;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rx;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rx?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rx;return this.component?this.component.multipleInstances?e:rx:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ix(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ax=[];var sx;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sx||(sx={}));const lx={debug:sx.DEBUG,verbose:sx.VERBOSE,info:sx.INFO,warn:sx.WARN,error:sx.ERROR,silent:sx.SILENT},cx=sx.INFO,ux={[sx.DEBUG]:"log",[sx.VERBOSE]:"log",[sx.INFO]:"info",[sx.WARN]:"warn",[sx.ERROR]:"error"},dx=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ux[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class hx{constructor(e){this.name=e,this._logLevel=cx,this._logHandler=dx,this._userLogHandler=null,ax.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sx))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sx.DEBUG,...t),this._logHandler(this,sx.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sx.VERBOSE,...t),this._logHandler(this,sx.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sx.INFO,...t),this._logHandler(this,sx.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sx.WARN,...t),this._logHandler(this,sx.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sx.ERROR,...t),this._logHandler(this,sx.ERROR,...t)}}let fx,px;const mx=new WeakMap,yx=new WeakMap,gx=new WeakMap,vx=new WeakMap,bx=new WeakMap;let xx={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yx.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gx.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _x(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wx(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kx(this),n),_x(mx.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _x(e.apply(kx(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(kx(this),t,...r);return gx.set(o,t.sort?t.sort():[t]),_x(o)}}function Sx(e){return"function"===typeof e?wx(e):(e instanceof IDBTransaction&&function(e){if(yx.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});yx.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,fx||(fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xx):e)}function _x(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(_x(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&mx.set(t,e)}).catch(()=>{}),bx.set(t,e),t}(e);if(vx.has(e))return vx.get(e);const t=Sx(e);return t!==e&&(vx.set(e,t),bx.set(t,e)),t}const kx=e=>bx.get(e);const Ex=["get","getKey","getAll","getAllKeys","count"],Nx=["put","add","delete","clear"],Ox=new Map;function Tx(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ox.get(t))return Ox.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ex.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Ox.set(t,o),o}xx=(e=>({...e,get:(t,n,r)=>Tx(t,n)||e.get(t,n,r),has:(t,n)=>!!Tx(t,n)||e.has(t,n)}))(xx);class jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Px="@firebase/app",Ax="0.10.13",Ix=new hx("@firebase/app"),Cx="@firebase/app-compat",Dx="@firebase/analytics-compat",Rx="@firebase/analytics",Mx="@firebase/app-check-compat",Lx="@firebase/app-check",Fx="@firebase/auth",Ux="@firebase/auth-compat",Bx="@firebase/database",$x="@firebase/data-connect",Wx="@firebase/database-compat",zx="@firebase/functions",Vx="@firebase/functions-compat",Hx="@firebase/installations",qx="@firebase/installations-compat",Gx="@firebase/messaging",Kx="@firebase/messaging-compat",Yx="@firebase/performance",Qx="@firebase/performance-compat",Xx="@firebase/remote-config",Jx="@firebase/remote-config-compat",Zx="@firebase/storage",ew="@firebase/storage-compat",tw="@firebase/firestore",nw="@firebase/vertexai-preview",rw="@firebase/firestore-compat",iw="firebase",ow="[DEFAULT]",aw={[Px]:"fire-core",[Cx]:"fire-core-compat",[Rx]:"fire-analytics",[Dx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Mx]:"fire-app-check-compat",[Fx]:"fire-auth",[Ux]:"fire-auth-compat",[Bx]:"fire-rtdb",[$x]:"fire-data-connect",[Wx]:"fire-rtdb-compat",[zx]:"fire-fn",[Vx]:"fire-fn-compat",[Hx]:"fire-iid",[qx]:"fire-iid-compat",[Gx]:"fire-fcm",[Kx]:"fire-fcm-compat",[Yx]:"fire-perf",[Qx]:"fire-perf-compat",[Xx]:"fire-rc",[Jx]:"fire-rc-compat",[Zx]:"fire-gcs",[ew]:"fire-gcs-compat",[tw]:"fire-fst",[rw]:"fire-fst-compat",[nw]:"fire-vertex","fire-js":"fire-js",[iw]:"fire-js-all"},sw=new Map,lw=new Map,cw=new Map;function uw(e,t){try{e.container.addComponent(t)}catch(n){Ix.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function dw(e){const t=e.name;if(cw.has(t))return Ix.debug(`There were multiple attempts to register component ${t}.`),!1;cw.set(t,e);for(const n of sw.values())uw(n,e);for(const n of lw.values())uw(n,e);return!0}function hw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fw(e){return void 0!==e.settings}const pw=new qb("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mw{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pw.create("app-deleted",{appName:this._name})}}const yw="10.14.1";function gw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ow,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pw.create("bad-app-name",{appName:String(i)});if(n||(n=Ub()),!n)throw pw.create("no-options");const o=sw.get(i);if(o){if(Kb(n,o.options)&&Kb(r,o.config))return o;throw pw.create("duplicate-app",{appName:i})}const a=new ox(i);for(const l of cw.values())a.addComponent(l);const s=new mw(n,r,a);return sw.set(i,s),s}function vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ow;const t=sw.get(e);if(!t&&e===ow&&Ub())return gw();if(!t)throw pw.create("no-app",{appName:e});return t}function bw(e,t,n){var r;let i=null!==(r=aw[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ix.warn(e.join(" "))}dw(new nx(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const xw="firebase-heartbeat-store";let ww=null;function Sw(){return ww||(ww=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=_x(a);return r&&a.addEventListener("upgradeneeded",e=>{r(_x(a.result),e.oldVersion,e.newVersion,_x(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xw)}catch(n){console.warn(n)}}}).catch(e=>{throw pw.create("idb-open",{originalErrorMessage:e.message})})),ww}async function _w(e,t){try{const n=(await Sw()).transaction(xw,"readwrite"),r=n.objectStore(xw);await r.put(t,kw(e)),await n.done}catch(n){if(n instanceof Hb)Ix.warn(n.message);else{const e=pw.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ix.warn(e.message)}}}function kw(e){return`${e.name}!${e.options.appId}`}class Ew{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ow(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nw();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){Ix.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nw(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Tw(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Db(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ix.warn(t),""}}}function Nw(){return(new Date).toISOString().substring(0,10)}class Ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Vb()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Sw()).transaction(xw),n=await t.objectStore(xw).get(kw(e));return await t.done,n}catch(t){if(t instanceof Hb)Ix.warn(t.message);else{const e=pw.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ix.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _w(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _w(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tw(e){return Db(JSON.stringify({version:2,heartbeats:e})).length}var jw;jw="",dw(new nx("platform-logger",e=>new jx(e),"PRIVATE")),dw(new nx("heartbeat",e=>new Ew(e),"PRIVATE")),bw(Px,Ax,jw),bw(Px,Ax,"esm2017"),bw("fire-js","");bw("firebase","10.14.1","app");function Pw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Iw=Aw,Cw=new qb("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dw=new hx("@firebase/auth");function Rw(e){if(Dw.logLevel<=sx.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dw.error(`Auth (${yw}): ${e}`,...n)}}function Mw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Bw(e,...n)}function Lw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bw(e,...n)}function Fw(e,t,n){const r=Object.assign(Object.assign({},Iw()),{[t]:n});return new qb("auth","Firebase",r).create(t,{appName:e.name})}function Uw(e){return Fw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Cw.create(e,...n)}function $w(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Bw(t,...r)}}function Ww(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rw(t),new Error(t)}function zw(e,t){e||Ww(t)}function Vw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hw(){return"http:"===qw()||"https:"===qw()}function qw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Gw(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hw()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Kw{constructor(e,t){this.shortDelay=e,this.longDelay=t,zw(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wb())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Gw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yw(e,t){zw(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Qw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ww("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ww("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ww("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jw=new Kw(3e4,6e4);function Zw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function eS(e,t,n,r){return tS(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Qb(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Qw.fetch()(rS(e,e.config.apiHost,n,a),l)})}async function tS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xw),t);try{const t=new oS(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw aS(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw aS(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw aS(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw aS(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Fw(e,s,a);Mw(e,s)}}catch(i){if(i instanceof Hb)throw i;Mw(e,"network-request-failed",{message:String(i)})}}async function nS(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await eS(e,t,n,r,i);return"mfaPendingCredential"in o&&Mw(e,"multi-factor-auth-required",{_serverResponse:o}),o}function rS(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Yw(e.config,i):`${e.config.apiScheme}://${i}`}function iS(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Lw(this.auth,"network-request-failed")),Jw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aS(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lw(e,t,r);return i.customData._tokenResponse=n,i}function sS(e){return void 0!==e&&void 0!==e.enterprise}class lS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iS(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function cS(e,t){return eS(e,"GET","/v2/recaptchaConfig",Zw(e,t))}async function uS(e,t){return eS(e,"POST","/v1/accounts:lookup",t)}function dS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function hS(e){return 1e3*Number(e)}function fS(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rw("JWT malformed, contained fewer than 3 sections"),null;try{const e=Rb(n);return e?JSON.parse(e):(Rw("Failed to decode base64 JWT payload"),null)}catch(i){return Rw("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function pS(e){const t=fS(e);return $w(t,"internal-error"),$w("undefined"!==typeof t.exp,"internal-error"),$w("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mS(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Hb&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class yS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class gS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dS(this.lastLoginAt),this.creationTime=dS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mS(e,uS(n,{idToken:r}));$w(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?bS(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new gS(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function bS(e){return e.map(e=>{var{providerId:t}=e,n=Pw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class xS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$w(e.idToken,"internal-error"),$w("undefined"!==typeof e.idToken,"internal-error"),$w("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$w(0!==e.length,"internal-error");const t=pS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?($w(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await tS(e,{},async()=>{const n=Qb({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=rS(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qw.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new xS;return n&&($w("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&($w("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&($w("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xS,this.toJSON())}_performRefresh(){return Ww("not implemented")}}function wS(e,t){$w("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class SS{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mS(this,this.stsTokenManager.getToken(this.auth,e));return $w(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tx(e),r=await n.getIdToken(t),i=fS(r);$w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:dS(hS(i.auth_time)),issuedAtTime:dS(hS(i.iat)),expirationTime:dS(hS(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tx(e);await vS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&($w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new SS(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fw(this.auth.app))return Promise.reject(Uw(this.auth));const e=await this.getIdToken();return await mS(this,async function(e,t){return eS(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;$w(v&&S,e,"internal-error");const _=xS.fromJSON(this.name,S);$w("string"===typeof v,e,"internal-error"),wS(u,e.name),wS(d,e.name),$w("boolean"===typeof b,e,"internal-error"),$w("boolean"===typeof x,e,"internal-error"),wS(h,e.name),wS(f,e.name),wS(p,e.name),wS(m,e.name),wS(y,e.name),wS(g,e.name);const k=new SS({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(k.providerData=w.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xS;r.updateFromServerResponse(t);const i=new SS({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await vS(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];$w(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?bS(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new xS;a.updateFromIdToken(n);const s=new SS({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new gS(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const _S=new Map;function kS(e){zw(e instanceof Function,"Expected a class definition");let t=_S.get(e);return t?(zw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_S.set(e,t),t)}class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ES.type="NONE";const NS=ES;function OS(e,t,n){return`firebase:${e}:${t}:${n}`}class TS{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=OS(this.userKey,r.apiKey,i),this.fullPersistenceKey=OS("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?SS._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new TS(kS(NS),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||kS(NS);const o=OS(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=SS._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new TS(i,e,n)):new TS(i,e,n)}}function jS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RS(t))return"Blackberry";if(MS(t))return"Webos";if(AS(t))return"Safari";if((t.includes("chrome/")||IS(t))&&!t.includes("edge/"))return"Chrome";if(DS(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function PS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/firefox\//i.test(e)}function AS(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/crios\//i.test(e)}function CS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/iemobile/i.test(e)}function DS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/android/i.test(e)}function RS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/blackberry/i.test(e)}function MS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/webos/i.test(e)}function LS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function FS(){return function(){const e=Wb();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function US(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb();return LS(e)||DS(e)||MS(e)||RS(e)||/windows phone/i.test(e)||CS(e)}function BS(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jS(Wb());break;case"Worker":t=`${jS(Wb())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${yw}/${r}`}class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class WS{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class zS{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kS(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await TS.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await uS(this,{idToken:e}),n=await SS._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fw(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $w(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vS(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fw(this.app))return Promise.reject(Uw(this));const t=e?tx(e):null;return t&&$w(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&$w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fw(this.app)?Promise.reject(Uw(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fw(this.app)?Promise.reject(Uw(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kS(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return eS(e,"GET","/v2/passwordPolicy",Zw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new WS(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qb("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return eS(e,"POST","/v2/accounts:revokeToken",Zw(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kS(e)||this._popupRedirectResolver;$w(t,this,"argument-error"),this.redirectPersistenceManager=await TS.create(this,[kS(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($w(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dw.logLevel<=sx.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dw.warn(`Auth (${yw}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function VS(e){return tx(e)}class HS{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Zb(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return $w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GS(e){return qS.loadJS(e)}function KS(e){return`__${e}${Math.floor(1e6*Math.random())}`}class YS{constructor(e){this.type="recaptcha-enterprise",this.auth=VS(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;sS(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{cS(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new lS(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&sS(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=qS.recaptchaEnterpriseScript;0!==t.length&&(t+=i),GS(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function QS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new YS(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function XS(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await QS(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await QS(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function JS(e,t,n){const r=VS(e);$w(r._canInitEmulator,r,"emulator-config-failed"),$w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ZS(t),{host:a,port:s}=function(e){const t=ZS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:e_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:e_(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ZS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class t_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ww("not implemented")}_getIdTokenResponse(e){return Ww("not implemented")}_linkToIdToken(e,t){return Ww("not implemented")}_getReauthenticationResolver(e){return Ww("not implemented")}}async function n_(e,t){return eS(e,"POST","/v1/accounts:signUp",t)}async function r_(e,t){return nS(e,"POST","/v1/accounts:signInWithPassword",Zw(e,t))}class i_ extends t_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new i_(e,t,"password")}static _fromEmailAndCode(e,t){return new i_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return XS(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",r_);case"emailLink":return async function(e,t){return nS(e,"POST","/v1/accounts:signInWithEmailLink",Zw(e,t))}(e,{email:this._email,oobCode:this._password});default:Mw(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return XS(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n_);case"emailLink":return async function(e,t){return nS(e,"POST","/v1/accounts:signInWithEmailLink",Zw(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Mw(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function o_(e,t){return nS(e,"POST","/v1/accounts:signInWithIdp",Zw(e,t))}class a_ extends t_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new a_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mw("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Pw(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new a_(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return o_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,o_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,o_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qb(t)}return e}}const s_={USER_NOT_FOUND:"user-not-found"};class l_ extends t_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new l_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new l_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return nS(e,"POST","/v1/accounts:signInWithPhoneNumber",Zw(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await nS(e,"POST","/v1/accounts:signInWithPhoneNumber",Zw(e,t));if(n.temporaryProof)throw aS(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return nS(e,"POST","/v1/accounts:signInWithPhoneNumber",Zw(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),s_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new l_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class c_{constructor(e){var t,n,r,i,o,a;const s=Xb(Jb(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);$w(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Xb(Jb(e)).link,n=t?Xb(Jb(t)).deep_link_id:null,r=Xb(Jb(e)).deep_link_id;return(r?Xb(Jb(r)).link:null)||r||n||t||e}(e);try{return new c_(t)}catch(n){return null}}}class u_{constructor(){this.providerId=u_.PROVIDER_ID}static credential(e,t){return i_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=c_.parseLink(t);return $w(n,"argument-error"),i_._fromEmailAndCode(e,n.code,n.tenantId)}}u_.PROVIDER_ID="password",u_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",u_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class d_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class h_ extends d_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class f_ extends h_{constructor(){super("facebook.com")}static credential(e){return a_._fromParams({providerId:f_.PROVIDER_ID,signInMethod:f_.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return f_.credentialFromTaggedObject(e)}static credentialFromError(e){return f_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return f_.credential(t.oauthAccessToken)}catch(n){return null}}}f_.FACEBOOK_SIGN_IN_METHOD="facebook.com",f_.PROVIDER_ID="facebook.com";class p_ extends h_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return a_._fromParams({providerId:p_.PROVIDER_ID,signInMethod:p_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return p_.credentialFromTaggedObject(e)}static credentialFromError(e){return p_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return p_.credential(n,r)}catch(i){return null}}}p_.GOOGLE_SIGN_IN_METHOD="google.com",p_.PROVIDER_ID="google.com";class m_ extends h_{constructor(){super("github.com")}static credential(e){return a_._fromParams({providerId:m_.PROVIDER_ID,signInMethod:m_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return m_.credentialFromTaggedObject(e)}static credentialFromError(e){return m_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return m_.credential(t.oauthAccessToken)}catch(n){return null}}}m_.GITHUB_SIGN_IN_METHOD="github.com",m_.PROVIDER_ID="github.com";class y_ extends h_{constructor(){super("twitter.com")}static credential(e,t){return a_._fromParams({providerId:y_.PROVIDER_ID,signInMethod:y_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return y_.credentialFromTaggedObject(e)}static credentialFromError(e){return y_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return y_.credential(n,r)}catch(i){return null}}}async function g_(e,t){return nS(e,"POST","/v1/accounts:signUp",Zw(e,t))}y_.TWITTER_SIGN_IN_METHOD="twitter.com",y_.PROVIDER_ID="twitter.com";class v_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await SS._fromIdTokenResponse(e,n,r),o=b_(n);return new v_({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=b_(n);return new v_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function b_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function x_(e){var t;if(fw(e.app))return Promise.reject(Uw(e));const n=VS(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new v_({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await g_(n,{returnSecureToken:!0}),i=await v_._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class w_ extends Hb{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,w_.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new w_(e,t,n,r)}}function S_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw w_._fromErrorAndOperation(e,n,t,r);throw n})}async function __(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return v_._forOperation(e,"link",r)}async function k_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(fw(r.app))return Promise.reject(Uw(r));const i="reauthenticate";try{const o=await mS(e,S_(r,i,t,e),n);$w(o.idToken,r,"internal-error");const a=fS(o.idToken);$w(a,r,"internal-error");const{sub:s}=a;return $w(e.uid===s,r,"user-mismatch"),v_._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&Mw(r,"user-mismatch"),o}}async function E_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fw(e.app))return Promise.reject(Uw(e));const r="signIn",i=await S_(e,r,t),o=await v_._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function N_(e,t){return E_(VS(e),t)}async function O_(e){const t=VS(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const T_="__sak";class j_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(T_,"1"),this.storage.removeItem(T_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class P_ extends j_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);FS()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}P_.type="LOCAL";const A_=P_;class I_ extends j_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I_.type="SESSION";const C_=I_;class D_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new D_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function R_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}D_.receivers=[];class M_{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=R_("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function L_(){return window}function F_(){return"undefined"!==typeof L_().WorkerGlobalScope&&"function"===typeof L_().importScripts}const U_="firebaseLocalStorageDb",B_="firebaseLocalStorage",$_="fbase_key";class W_{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function z_(e,t){return e.transaction([B_],t?"readwrite":"readonly").objectStore(B_)}function V_(){const e=indexedDB.open(U_,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(B_,{keyPath:$_})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(B_)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(U_);return new W_(e).toPromise()}(),t(await V_()))})})}async function H_(e,t,n){const r=z_(e,!0).put({[$_]:t,value:n});return new W_(r).toPromise()}function q_(e,t){const n=z_(e,!0).delete(t);return new W_(n).toPromise()}class G_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await V_()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=D_._getInstance(F_()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new M_(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V_();return await H_(e,T_,"1"),await q_(e,T_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=z_(e,!1).get(t),r=await new W_(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=z_(e,!1).getAll();return new W_(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}G_.type="LOCAL";const K_=G_;KS("rcb"),new Kw(3e4,6e4);const Y_="recaptcha";async function Q_(e,t,n){var r;const i=await n.verify();try{let o;if($w("string"===typeof i,e,"argument-error"),$w(n.type===Y_,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){$w("enroll"===t.type,e,"internal-error");const n=await function(e,t){return eS(e,"POST","/v2/accounts/mfaEnrollment:start",Zw(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{$w("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;$w(n,e,"missing-multi-factor-info");const a=await function(e,t){return eS(e,"POST","/v2/accounts/mfaSignIn:start",Zw(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return eS(e,"POST","/v1/accounts:sendVerificationCode",Zw(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class X_{constructor(e){this.providerId=X_.PROVIDER_ID,this.auth=VS(e)}verifyPhoneNumber(e,t){return Q_(this.auth,e,tx(t))}static credential(e,t){return l_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return X_.credentialFromTaggedObject(t)}static credentialFromError(e){return X_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?l_._fromTokenResponse(n,r):null}}function J_(e,t){return t?kS(t):($w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}X_.PROVIDER_ID="phone",X_.PHONE_SIGN_IN_METHOD="phone";class Z_ extends t_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return o_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return o_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return o_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(e){return E_(e.auth,new Z_(e),e.bypassAuthState)}function tk(e){const{auth:t,user:n}=e;return $w(n,t,"internal-error"),k_(n,new Z_(e),e.bypassAuthState)}async function nk(e){const{auth:t,user:n}=e;return $w(n,t,"internal-error"),__(n,new Z_(e),e.bypassAuthState)}class rk{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:Mw(this.auth,"internal-error")}}resolve(e){zw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ik=new Kw(2e3,1e4);class ok extends rk{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ok.currentPopupAction&&ok.currentPopupAction.cancel(),ok.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $w(e,this.auth,"internal-error"),e}async onExecution(){zw(1===this.filter.length,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Lw(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Lw(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ok.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lw(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ik.get())};e()}}ok.currentPopupAction=null;const ak=new Map;class sk extends rk{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ak.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=uk(t),r=ck(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ak.set(this.auth._key(),e)}return this.bypassAuthState||ak.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lk(e,t){ak.set(e._key(),t)}function ck(e){return kS(e._redirectPersistence)}function uk(e){return OS("pendingRedirect",e.config.apiKey,e.name)}async function dk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fw(e.app))return Promise.reject(Uw(e));const r=VS(e),i=J_(r,t),o=new sk(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pk(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lw(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fk(e))}saveEventToCache(e){this.cachedEventUids.add(fk(e)),this.lastProcessedEventTime=Date.now()}}function fk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function pk(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yk=/^https?/;async function gk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return eS(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(vk(r))return}catch(n){}Mw(e,"unauthorized-domain")}function vk(e){const t=Vw(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yk.test(n))return!1;if(mk.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bk=new Kw(3e4,6e4);function xk(){const e=L_().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wk(e){return new Promise((t,n)=>{var r,i,o;function a(){xk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xk(),n(Lw(e,"network-request-failed"))},timeout:bk.get()})}if(null===(i=null===(r=L_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=L_().gapi)||void 0===o?void 0:o.load)){const t=KS("iframefcb");return L_()[t]=()=>{gapi.load?a():n(Lw(e,"network-request-failed"))},GS(`${qS.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Sk=null,e})}let Sk=null;const _k=new Kw(5e3,15e3),kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ek=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nk(e){const t=e.config;$w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yw(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:yw},i=Ek.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qb(r).slice(1)}`}async function Ok(e){const t=await function(e){return Sk=Sk||wk(e),Sk}(e),n=L_().gapi;return $w(n,e,"internal-error"),t.open({where:document.body,url:Nk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kk,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Lw(e,"network-request-failed"),o=L_().setTimeout(()=>{r(i)},_k.get());function a(){L_().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Pk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Tk),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Wb().toLowerCase();n&&(s=IS(c)?"_blank":n),PS(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return LS(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wb())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new jk(null);const d=window.open(t||"",s,u);$w(d,e,"popup-blocked");try{d.focus()}catch(h){}return new jk(d)}const Ak="__/auth/handler",Ik="emulator/auth/handler",Ck=encodeURIComponent("fac");async function Dk(e,t,n,r,i,o){$w(e.config.authDomain,e,"auth-domain-config-required"),$w(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yw,eventId:i};if(t instanceof d_){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof h_){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Ck}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ak}`;return Yw(t,Ik)}(e)}?${Qb(s).slice(1)}${c}`}const Rk="webStorageSupport";const Mk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C_,this._completeRedirectFn=dk,this._overrideRedirectResult=lk}async _openPopup(e,t,n,r){var i;zw(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Pk(e,await Dk(e,t,n,Vw(),r),R_())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){L_().location.href=e}(await Dk(e,t,n,Vw(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(zw(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ok(e),n=new hk(e);return t.register("authEvent",t=>{$w(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rk,{type:Rk},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Rk];void 0!==i&&t(!!i),Mw(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return US()||AS()||LS()}};var Lk="@firebase/auth",Fk="1.7.9";class Uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bk=Bb("authIdTokenMaxAge")||300;let $k=null;function Wk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vw();const t=hw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=hw(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kb(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Mw(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Mk,persistence:[K_,A_,C_]}),r=Bb("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Bk)return;const r=null===t||void 0===t?void 0:t.token;$k!==r&&($k=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){tx(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){tx(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Fb("auth");return o&&JS(n,`http://${o}`),n}var zk;qS={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Lw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},zk="Browser",dw(new nx("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;$w(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:zk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(zk)},c=new zS(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),dw(new nx("auth-internal",e=>(e=>new Uk(e))(VS(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),bw(Lk,Fk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(zk)),bw(Lk,Fk,"esm2017");var Vk,Hk,qk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Gk={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=y(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=y(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=g(n),r=g(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function g(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,y=65535&e.i(o);n[2*i+2*o]+=f*y,p(n,2*i+2*o),n[2*i+2*o+1]+=l*y,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Hk=Gk.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Vk=Gk.Integer=r}).apply("undefined"!==typeof qk?qk:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Kk,Yk,Qk,Xk,Jk,Zk,eE,tE,nE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},rE={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nE&&nE];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return y[" "](e),e}y[" "]=function(){};var g=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function k(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let O,T=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);O=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(Bt){_(Bt)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function I(){this.s=this.s,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Bt){}return e}();function R(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g){e:{try{y(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}d(R,C);var M={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function W(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),H={};function q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[V]=l=new $(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])W(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(W(n,e),0==n.h&&(n.src=null,t[V]=null)):B(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[V])instanceof $?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new $(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;w(t=new C(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&W(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ye(){}pe.prototype.h=null;var ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){C.call(this,"d")}function be(){C.call(this,"c")}d(ve,C),d(be,C);var xe={},we=null;function Se(){return we=we||new ne}function _e(e){C.call(this,xe.La,e)}function ke(e){const t=Se();re(t,new _e(t))}function Ee(e,t){C.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Se();re(t,new Ee(t,e))}function Oe(e,t){C.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Pe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(_e,C),xe.STAT_EVENT="statevent",d(Ee,C),xe.Ma="timingevent",d(Oe,C),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ae,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),ze(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function We(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,Ve(e,e.I)}function Ve(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||cn(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ln(n),Xt(n)}on(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else dn(n,11)}else if((e.K||n.g==e)&&ln(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),ze(s)),r.g=a}else rn(r);0<n.i.length&&Zt(n)}else"stop"!=c[0]&&"close"!=c[0]||dn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?dn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Gt(this.g);e="";var o=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ge(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=We(this,s),e==Fe){4==h&&(this.s=4,Ne(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Pe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(d),d.M=!0,Ne(11))}}else Pe(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Pe(this.i,this.l,s,null),Ke(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?cn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ge(this),qe(this)}}}catch(iE){}},Re.prototype.cancel=function(){this.J=!0,Ge(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Ne(17)),Ge(this),this.s=2,qe(this)):Ve(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?gt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,yt=/[#\?:]/g,gt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ot(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,_t(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new Pt(this.l,this.j)},jt.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Ct(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Vt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Wt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Lt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",$t(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sE){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),tn(e,n),(t=new Re(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}hn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),ln(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;O||P(),T||(O(),T=!0),j.add(t,e),e.B=0}}function en(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),tn(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=nn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function tn(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function nn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Tt(s,e,"req"+n+"_")}catch(iE){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function rn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;O||P(),T||(O(),T=!0),j.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),un(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),tn(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function ln(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){ln(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Oe(r,n)),Zt(e)}else rn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dn(e,5);break;case 4:dn(e,10);break;case 3:dn(e,6);break;default:dn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function dn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),tn(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function yn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function vn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){be.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},e.bb=function(){Wt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(zt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(zt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=nn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),tn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Dt(o)))+"&"+t:this.m&&Rt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?en(this,e):0==this.i.length||Xe(this.h)||en(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Xt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},yn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Zt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ve),d(bn,be),d(xn,mn),xn.prototype.ua=function(){re(this.g,"a")},xn.prototype.ta=function(e){re(this.g,new vn(e))},xn.prototype.sa=function(e){re(this.g,new bn)},xn.prototype.ra=function(){re(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,tE=rE.createWebChannelTransport=function(){return new yn},eE=rE.getStatEventTarget=function(){return Se()},Zk=rE.Event=xe,Jk=rE.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Xk=rE.ErrorCode=Ie,Ce.COMPLETE="complete",Qk=rE.EventType=Ce,ye.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Yk=rE.WebChannel=ye,rE.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Kk=rE.XhrIo=Mt}).apply("undefined"!==typeof nE?nE:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const iE="@firebase/firestore";class oE{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oE.UNAUTHENTICATED=new oE(null),oE.GOOGLE_CREDENTIALS=new oE("google-credentials-uid"),oE.FIRST_PARTY=new oE("first-party-uid"),oE.MOCK_USER=new oE("mock-user");let aE="10.14.0";const sE=new hx("@firebase/firestore");function lE(){return sE.logLevel}function cE(e){if(sE.logLevel<=sx.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hE);sE.debug(`Firestore (${aE}): ${e}`,...i)}}function uE(e){if(sE.logLevel<=sx.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hE);sE.error(`Firestore (${aE}): ${e}`,...i)}}function dE(e){if(sE.logLevel<=sx.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hE);sE.warn(`Firestore (${aE}): ${e}`,...i)}}function hE(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fE(){const e=`FIRESTORE (${aE}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw uE(e),new Error(e)}function pE(e,t){e||fE()}function mE(e,t){return e}const yE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gE extends Hb{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vE{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oE.UNAUTHENTICATED))}shutdown(){}}class wE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SE{constructor(e){this.t=e,this.currentUser=oE.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pE(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vE,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{cE("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(cE("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vE)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(cE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pE("string"==typeof t.accessToken),new bE(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pE(null===e||"string"==typeof e),new oE(e)}}class _E{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=oE.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kE{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new _E(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(oE.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pE(void 0===this.o);const n=e=>{null!=e.error&&cE("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,cE("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{cE("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):cE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(pE("string"==typeof e.token),this.R=e.token,new EE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OE(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class TE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=OE(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function jE(e,t){return e<t?-1:e>t?1:0}function PE(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class AE{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gE(yE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gE(yE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gE(yE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gE(yE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return AE.fromMillis(Date.now())}static fromDate(e){return AE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new AE(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jE(this.nanoseconds,e.nanoseconds):jE(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class IE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new IE(e)}static min(){return new IE(new AE(0,0))}static max(){return new IE(new AE(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class CE{constructor(e,t,n){void 0===t?t=0:t>e.length&&fE(),void 0===n?n=e.length-t:n>e.length-t&&fE(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===CE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof CE?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class DE extends CE{construct(e,t,n){return new DE(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gE(yE.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new DE(e)}static emptyPath(){return new DE([])}}const RE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ME extends CE{construct(e,t,n){return new ME(e,t,n)}static isValidIdentifier(e){return RE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ME.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ME(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gE(yE.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gE(yE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gE(yE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new gE(yE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ME(t)}static emptyPath(){return new ME([])}}class LE{constructor(e){this.path=e}static fromPath(e){return new LE(DE.fromString(e))}static fromName(e){return new LE(DE.fromString(e).popFirst(5))}static empty(){return new LE(DE.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===DE.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return DE.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new LE(new DE(e.slice()))}}class FE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}FE.UNKNOWN_ID=-1;function UE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=IE.fromTimestamp(1e9===r?new AE(n+1,0):new AE(n,r));return new $E(i,LE.empty(),t)}function BE(e){return new $E(e.readTime,e.key,-1)}class $E{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $E(IE.min(),LE.empty(),-1)}static max(){return new $E(IE.max(),LE.empty(),-1)}}function WE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=LE.comparator(e.documentKey,t.documentKey),0!==n?n:jE(e.largestBatchId,t.largestBatchId))}const zE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function HE(e){if(e.code!==yE.FAILED_PRECONDITION||e.message!==zE)throw e;cE("LocalStore","Unexpectedly lost primary lease")}class qE{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qE((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qE?t:qE.resolve(t)}catch(e){return qE.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qE.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qE.reject(t)}static resolve(e){return new qE((t,n)=>{t(e)})}static reject(e){return new qE((t,n)=>{n(e)})}static waitFor(e){return new qE((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=qE.resolve(!1);for(const n of e)t=t.next(e=>e?qE.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new qE((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new qE((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function GE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function KE(e){return"IndexedDbTransactionError"===e.name}class YE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function QE(e){return null==e}function XE(e){return 0===e&&1/e==-1/0}function JE(e){return"number"==typeof e&&Number.isInteger(e)&&!XE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}YE.oe=-1;const ZE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tN=eN,nN=[...tN,"indexConfiguration","indexState","indexEntries"];function rN(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function iN(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class aN{constructor(e,t){this.comparator=e,this.root=t||lN.EMPTY}insert(e,t){return new aN(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lN.BLACK,null,null))}remove(e){return new aN(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lN.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sN(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sN(this.root,e,this.comparator,!1)}getReverseIterator(){return new sN(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sN(this.root,e,this.comparator,!0)}}class sN{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lN{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:lN.RED,this.left=null!=r?r:lN.EMPTY,this.right=null!=i?i:lN.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new lN(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lN.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lN.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lN.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lN.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fE();if(this.right.isRed())throw fE();const e=this.left.check();if(e!==this.right.check())throw fE();return e+(this.isRed()?0:1)}}lN.EMPTY=null,lN.RED=!0,lN.BLACK=!1,lN.EMPTY=new class{constructor(){this.size=0}get key(){throw fE()}get value(){throw fE()}get color(){throw fE()}get left(){throw fE()}get right(){throw fE()}copy(e,t,n,r,i){return this}insert(e,t,n){return new lN(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cN{constructor(e){this.comparator=e,this.data=new aN(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uN(this.data.getIterator())}getIteratorFrom(e){return new uN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof cN))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cN(this.comparator);return t.data=e,t}}class uN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dN{constructor(e){this.fields=e,e.sort(ME.comparator)}static empty(){return new dN([])}unionWith(e){let t=new cN(ME.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dN(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return PE(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class hN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fN{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hN("Invalid base64 string: "+e):e}}(e);return new fN(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fN(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jE(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fN.EMPTY_BYTE_STRING=new fN("");const pN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mN(e){if(pE(!!e),"string"==typeof e){let t=0;const n=pN.exec(e);if(pE(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yN(e.seconds),nanos:yN(e.nanos)}}function yN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gN(e){return"string"==typeof e?fN.fromBase64String(e):fN.fromUint8Array(e)}function vN(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bN(e){const t=e.mapValue.fields.__previous_value__;return vN(t)?bN(t):t}function xN(e){const t=mN(e.mapValue.fields.__local_write_time__.timestampValue);return new AE(t.seconds,t.nanos)}class wN{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class SN{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new SN("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof SN&&e.projectId===this.projectId&&e.database===this.database}}const _N={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kN(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vN(e)?4:BN(e)?9007199254740991:FN(e)?10:11:fE()}function EN(e,t){if(e===t)return!0;const n=kN(e);if(n!==kN(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xN(e).isEqual(xN(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mN(e.timestampValue),r=mN(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gN(e.bytesValue).isEqual(gN(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yN(e.geoPointValue.latitude)===yN(t.geoPointValue.latitude)&&yN(e.geoPointValue.longitude)===yN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yN(e.integerValue)===yN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yN(e.doubleValue),r=yN(t.doubleValue);return n===r?XE(n)===XE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return PE(e.arrayValue.values||[],t.arrayValue.values||[],EN);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rN(n)!==rN(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!EN(n[i],r[i])))return!1;return!0}(e,t);default:return fE()}}function NN(e,t){return void 0!==(e.values||[]).find(e=>EN(e,t))}function ON(e,t){if(e===t)return 0;const n=kN(e),r=kN(t);if(n!==r)return jE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jE(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yN(e.integerValue||e.doubleValue),r=yN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return TN(e.timestampValue,t.timestampValue);case 4:return TN(xN(e),xN(t));case 5:return jE(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gN(e),r=gN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=jE(n[i],r[i]);if(0!==e)return e}return jE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=jE(yN(e.latitude),yN(t.latitude));return 0!==n?n:jE(yN(e.longitude),yN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jN(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=jE((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:jN(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_N.mapValue&&t===_N.mapValue)return 0;if(e===_N.mapValue)return 1;if(t===_N.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=jE(r[a],o[a]);if(0!==e)return e;const t=ON(n[r[a]],i[o[a]]);if(0!==t)return t}return jE(r.length,o.length)}(e.mapValue,t.mapValue);default:throw fE()}}function TN(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jE(e,t);const n=mN(e),r=mN(t),i=jE(n.seconds,r.seconds);return 0!==i?i:jE(n.nanos,r.nanos)}function jN(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ON(n[i],r[i]);if(e)return e}return jE(n.length,r.length)}function PN(e){return AN(e)}function AN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mN(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gN(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return LE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=AN(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${AN(e.fields[i])}`;return n+"}"}(e.mapValue):fE()}function IN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function CN(e){return!!e&&"integerValue"in e}function DN(e){return!!e&&"arrayValue"in e}function RN(e){return!!e&&"nullValue"in e}function MN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function LN(e){return!!e&&"mapValue"in e}function FN(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function UN(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return iN(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=UN(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=UN(e.arrayValue.values[n]);return t}return Object.assign({},e)}function BN(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class $N{constructor(e){this.value=e}static empty(){return new $N({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!LN(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=UN(t)}setAll(e){let t=ME.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=UN(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());LN(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return EN(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];LN(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){iN(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new $N(UN(this.value))}}function WN(e){const t=[];return iN(e.fields,(e,n)=>{const r=new ME([e]);if(LN(n)){const e=WN(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new dN(t)}class zN{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zN(e,0,IE.min(),IE.min(),IE.min(),$N.empty(),0)}static newFoundDocument(e,t,n,r){return new zN(e,1,t,IE.min(),n,r,0)}static newNoDocument(e,t){return new zN(e,2,t,IE.min(),IE.min(),$N.empty(),0)}static newUnknownDocument(e,t){return new zN(e,3,t,IE.min(),IE.min(),$N.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(IE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$N.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$N.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=IE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zN&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zN(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VN{constructor(e,t){this.position=e,this.inclusive=t}}function HN(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?LE.comparator(LE.fromName(a.referenceValue),n.key):ON(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function qN(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!EN(e.position[n],t.position[n]))return!1;return!0}class GN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function KN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class YN{}class QN extends YN{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new iO(e,t,n):"array-contains"===t?new lO(e,n):"in"===t?new cO(e,n):"not-in"===t?new uO(e,n):"array-contains-any"===t?new dO(e,n):new QN(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oO(e,n):new aO(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ON(t,this.value)):null!==t&&kN(this.value)===kN(t)&&this.matchesComparison(ON(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fE()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class XN extends YN{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new XN(e,t)}matches(e){return JN(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function JN(e){return"and"===e.op}function ZN(e){return eO(e)&&JN(e)}function eO(e){for(const t of e.filters)if(t instanceof XN)return!1;return!0}function tO(e){if(e instanceof QN)return e.field.canonicalString()+e.op.toString()+PN(e.value);if(ZN(e))return e.filters.map(e=>tO(e)).join(",");{const t=e.filters.map(e=>tO(e)).join(",");return`${e.op}(${t})`}}function nO(e,t){return e instanceof QN?function(e,t){return t instanceof QN&&e.op===t.op&&e.field.isEqual(t.field)&&EN(e.value,t.value)}(e,t):e instanceof XN?function(e,t){return t instanceof XN&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&nO(n,t.filters[r]),!0)}(e,t):void fE()}function rO(e){return e instanceof QN?function(e){return`${e.field.canonicalString()} ${e.op} ${PN(e.value)}`}(e):e instanceof XN?function(e){return e.op.toString()+" {"+e.getFilters().map(rO).join(" ,")+"}"}(e):"Filter"}class iO extends QN{constructor(e,t,n){super(e,t,n),this.key=LE.fromName(n.referenceValue)}matches(e){const t=LE.comparator(e.key,this.key);return this.matchesComparison(t)}}class oO extends QN{constructor(e,t){super(e,"in",t),this.keys=sO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aO extends QN{constructor(e,t){super(e,"not-in",t),this.keys=sO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sO(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>LE.fromName(e.referenceValue))}class lO extends QN{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return DN(t)&&NN(t.arrayValue,this.value)}}class cO extends QN{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&NN(this.value.arrayValue,t)}}class uO extends QN{constructor(e,t){super(e,"not-in",t)}matches(e){if(NN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!NN(this.value.arrayValue,t)}}class dO extends QN{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!DN(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>NN(this.value.arrayValue,e))}}class hO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function fO(e){return new hO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pO(e){const t=mE(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>tO(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),QE(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>PN(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>PN(e)).join(",")),t.ue=e}return t.ue}function mO(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!KN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nO(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qN(e.startAt,t.startAt)&&qN(e.endAt,t.endAt)}function yO(e){return LE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vO(e,t,n,r,i,o,a,s){return new gO(e,t,n,r,i,o,a,s)}function bO(e){return new gO(e)}function xO(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wO(e){return null!==e.collectionGroup}function SO(e){const t=mE(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cN(ME.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new GN(r,n))}),e.has(ME.keyField().canonicalString())||t.ce.push(new GN(ME.keyField(),n))}return t.ce}function _O(e){const t=mE(e);return t.le||(t.le=kO(t,SO(e))),t.le}function kO(e,t){if("F"===e.limitType)return fO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new GN(e.field,t)});const n=e.endAt?new VN(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new VN(e.startAt.position,e.startAt.inclusive):null;return fO(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function EO(e,t){const n=e.filters.concat([t]);return new gO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function NO(e,t,n){return new gO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function OO(e,t){return mO(_O(e),_O(t))&&e.limitType===t.limitType}function TO(e){return`${pO(_O(e))}|lt:${e.limitType}`}function jO(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>rO(e)).join(", ")}]`),QE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>PN(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>PN(e)).join(",")),`Target(${t})`}(_O(e))}; limitType=${e.limitType})`}function PO(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):LE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of SO(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=HN(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,SO(e),t))&&!(e.endAt&&!function(e,t,n){const r=HN(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,SO(e),t))}(e,t)}function AO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function IO(e){return(t,n)=>{let r=!1;for(const i of SO(e)){const e=CO(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function CO(e,t,n){const r=e.field.isKeyField()?LE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ON(r,i):fE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fE()}}class DO{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){iN(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return oN(this.inner)}size(){return this.innerSize}}const RO=new aN(LE.comparator);function MO(){return RO}const LO=new aN(LE.comparator);function FO(){let e=LO;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function UO(e){let t=LO;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function BO(){return WO()}function $O(){return WO()}function WO(){return new DO(e=>e.toString(),(e,t)=>e.isEqual(t))}const zO=new aN(LE.comparator),VO=new cN(LE.comparator);function HO(){let e=VO;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qO=new cN(jE);function GO(){return qO}function KO(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:XE(t)?"-0":t}}function YO(e){return{integerValue:""+e}}function QO(e,t){return JE(t)?YO(t):KO(e,t)}class XO{constructor(){this._=void 0}}function JO(e,t,n){return e instanceof tT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vN(t)&&(t=bN(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nT?rT(e,t):e instanceof iT?oT(e,t):function(e,t){const n=eT(e,t),r=sT(n)+sT(e.Pe);return CN(n)&&CN(e.Pe)?YO(r):KO(e.serializer,r)}(e,t)}function ZO(e,t,n){return e instanceof nT?rT(e,t):e instanceof iT?oT(e,t):n}function eT(e,t){return e instanceof aT?function(e){return CN(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class tT extends XO{}class nT extends XO{constructor(e){super(),this.elements=e}}function rT(e,t){const n=lT(t);for(const r of e.elements)n.some(e=>EN(e,r))||n.push(r);return{arrayValue:{values:n}}}class iT extends XO{constructor(e){super(),this.elements=e}}function oT(e,t){let n=lT(t);for(const r of e.elements)n=n.filter(e=>!EN(e,r));return{arrayValue:{values:n}}}class aT extends XO{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function sT(e){return yN(e.integerValue||e.doubleValue)}function lT(e){return DN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class cT{constructor(e,t){this.field=e,this.transform=t}}class uT{constructor(e,t){this.version=e,this.transformResults=t}}class dT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dT}static exists(e){return new dT(void 0,e)}static updateTime(e){return new dT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class fT{}function pT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kT(e.key,dT.none()):new bT(e.key,e.data,dT.none());{const n=e.data,r=$N.empty();let i=new cN(ME.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xT(e.key,r,new dN(i.toArray()),dT.none())}}function mT(e,t,n){e instanceof bT?function(e,t,n){const r=e.value.clone(),i=ST(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xT?function(e,t,n){if(!hT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ST(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yT(e,t,n,r){return e instanceof bT?function(e,t,n,r){if(!hT(e.precondition,t))return n;const i=e.value.clone(),o=_T(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xT?function(e,t,n,r){if(!hT(e.precondition,t))return n;const i=_T(e.fieldTransforms,r,t),o=t.data;return o.setAll(wT(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return hT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gT(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=eT(r.transform,e||null);null!=i&&(null===n&&(n=$N.empty()),n.set(r.field,i))}return n||null}function vT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&PE(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nT&&t instanceof nT||e instanceof iT&&t instanceof iT?PE(e.elements,t.elements,EN):e instanceof aT&&t instanceof aT?EN(e.Pe,t.Pe):e instanceof tT&&t instanceof tT}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bT extends fT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xT extends fT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ST(e,t,n){const r=new Map;pE(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ZO(a,s,n[i]))}return r}function _T(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,JO(e,o,t))}return r}class kT extends fT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ET extends fT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NT{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yT(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yT(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$O();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=pT(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(IE.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),HO())}isEqual(e){return this.batchId===e.batchId&&PE(this.mutations,e.mutations,(e,t)=>vT(e,t))&&PE(this.baseMutations,e.baseMutations,(e,t)=>vT(e,t))}}class OT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pE(e.mutations.length===n.length);let r=zO;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new OT(e,t,n,r)}}class TT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jT{constructor(e,t){this.count=e,this.unchangedNames=t}}var PT,AT;function IT(e){switch(e){default:return fE();case yE.CANCELLED:case yE.UNKNOWN:case yE.DEADLINE_EXCEEDED:case yE.RESOURCE_EXHAUSTED:case yE.INTERNAL:case yE.UNAVAILABLE:case yE.UNAUTHENTICATED:return!1;case yE.INVALID_ARGUMENT:case yE.NOT_FOUND:case yE.ALREADY_EXISTS:case yE.PERMISSION_DENIED:case yE.FAILED_PRECONDITION:case yE.ABORTED:case yE.OUT_OF_RANGE:case yE.UNIMPLEMENTED:case yE.DATA_LOSS:return!0}}function CT(e){if(void 0===e)return uE("GRPC error has no .code"),yE.UNKNOWN;switch(e){case PT.OK:return yE.OK;case PT.CANCELLED:return yE.CANCELLED;case PT.UNKNOWN:return yE.UNKNOWN;case PT.DEADLINE_EXCEEDED:return yE.DEADLINE_EXCEEDED;case PT.RESOURCE_EXHAUSTED:return yE.RESOURCE_EXHAUSTED;case PT.INTERNAL:return yE.INTERNAL;case PT.UNAVAILABLE:return yE.UNAVAILABLE;case PT.UNAUTHENTICATED:return yE.UNAUTHENTICATED;case PT.INVALID_ARGUMENT:return yE.INVALID_ARGUMENT;case PT.NOT_FOUND:return yE.NOT_FOUND;case PT.ALREADY_EXISTS:return yE.ALREADY_EXISTS;case PT.PERMISSION_DENIED:return yE.PERMISSION_DENIED;case PT.FAILED_PRECONDITION:return yE.FAILED_PRECONDITION;case PT.ABORTED:return yE.ABORTED;case PT.OUT_OF_RANGE:return yE.OUT_OF_RANGE;case PT.UNIMPLEMENTED:return yE.UNIMPLEMENTED;case PT.DATA_LOSS:return yE.DATA_LOSS;default:return fE()}}(AT=PT||(PT={}))[AT.OK=0]="OK",AT[AT.CANCELLED=1]="CANCELLED",AT[AT.UNKNOWN=2]="UNKNOWN",AT[AT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",AT[AT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",AT[AT.NOT_FOUND=5]="NOT_FOUND",AT[AT.ALREADY_EXISTS=6]="ALREADY_EXISTS",AT[AT.PERMISSION_DENIED=7]="PERMISSION_DENIED",AT[AT.UNAUTHENTICATED=16]="UNAUTHENTICATED",AT[AT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",AT[AT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",AT[AT.ABORTED=10]="ABORTED",AT[AT.OUT_OF_RANGE=11]="OUT_OF_RANGE",AT[AT.UNIMPLEMENTED=12]="UNIMPLEMENTED",AT[AT.INTERNAL=13]="INTERNAL",AT[AT.UNAVAILABLE=14]="UNAVAILABLE",AT[AT.DATA_LOSS=15]="DATA_LOSS";let DT=null;function RT(){return new TextEncoder}const MT=new Vk([4294967295,4294967295],0);function LT(e){const t=RT().encode(e),n=new Hk;return n.update(t),new Uint8Array(n.digest())}function FT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Vk([n,r],0),new Vk([i,o],0)]}class UT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new BT(`Invalid padding: ${t}`);if(n<0)throw new BT(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new BT(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new BT(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Vk.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Vk.fromNumber(n)));return 1===r.compare(MT)&&(r=new Vk([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=LT(e),[n,r]=FT(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new UT(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Ie)return;const t=LT(e),[n,r]=FT(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class BT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $T{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,WT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $T(IE.min(),r,new aN(jE),MO(),HO())}}class WT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new WT(n,t,HO(),HO(),HO())}}class zT{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class VT{constructor(e,t){this.targetId=e,this.me=t}}class HT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fN.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qT{constructor(){this.fe=0,this.ge=YT(),this.pe=fN.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=HO(),t=HO(),n=HO();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fE()}}),new WT(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=YT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pE(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GT{constructor(e){this.Le=e,this.Be=new Map,this.ke=MO(),this.qe=KT(),this.Qe=new aN(jE)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:fE()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(yO(i))if(0===n){const e=new LE(i.path);this.Ue(t,e,zN.newNoDocument(e,IE.min()))}else pE(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==DT||DT.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=gN(n).toUint8Array()}catch(e){if(e instanceof hN)return dE("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new UT(o,r,i)}catch(e){return dE(e instanceof BT?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&yO(i.target)){const t=new LE(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zN.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=HO();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new $T(e,t,this.Qe,this.ke,n);return this.ke=MO(),this.qe=KT(),this.Qe=new aN(jE),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new qT,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cN(jE),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||cE("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qT),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function KT(){return new aN(LE.comparator)}function YT(){return new aN(LE.comparator)}const QT={asc:"ASCENDING",desc:"DESCENDING"},XT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JT={and:"AND",or:"OR"};class ZT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ej(e,t){return e.useProto3Json||QE(t)?t:{value:t}}function tj(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rj(e,t){return tj(e,t.toTimestamp())}function ij(e){return pE(!!e),IE.fromTimestamp(function(e){const t=mN(e);return new AE(t.seconds,t.nanos)}(e))}function oj(e,t){return aj(e,t).canonicalString()}function aj(e,t){const n=function(e){return new DE(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function sj(e){const t=DE.fromString(e);return pE(Oj(t)),t}function lj(e,t){return oj(e.databaseId,t.path)}function cj(e,t){const n=sj(t);if(n.get(1)!==e.databaseId.projectId)throw new gE(yE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gE(yE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new LE(fj(n))}function uj(e,t){return oj(e.databaseId,t)}function dj(e){const t=sj(e);return 4===t.length?DE.emptyPath():fj(t)}function hj(e){return new DE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fj(e){return pE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pj(e,t,n){return{name:lj(e,t),fields:n.value.mapValue.fields}}function mj(e,t){let n;if(t instanceof bT)n={update:pj(e,t.key,t.value)};else if(t instanceof kT)n={delete:lj(e,t.key)};else if(t instanceof xT)n={update:pj(e,t.key,t.data),updateMask:Nj(t.fieldMask)};else{if(!(t instanceof ET))return fE();n={verify:lj(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof tT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof aT)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw fE()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rj(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fE()}(e,t.precondition)),n}function yj(e,t){return{documents:[uj(e,t.path)]}}function gj(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uj(e,i);const o=function(e){if(0!==e.length)return Ej(XN.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:_j(e.field),direction:xj(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=ej(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function vj(e){let t=dj(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pE(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=bj(e);return t instanceof XN&&ZN(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new GN(kj(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,QE(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new VN(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new VN(n,t)}(n.endAt)),vO(t,i,a,o,s,"F",l,c)}function bj(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kj(e.unaryFilter.field);return QN.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kj(e.unaryFilter.field);return QN.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kj(e.unaryFilter.field);return QN.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kj(e.unaryFilter.field);return QN.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fE()}}(e):void 0!==e.fieldFilter?function(e){return QN.create(kj(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fE()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return XN.create(e.compositeFilter.filters.map(e=>bj(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fE()}}(e.compositeFilter.op))}(e):fE()}function xj(e){return QT[e]}function wj(e){return XT[e]}function Sj(e){return JT[e]}function _j(e){return{fieldPath:e.canonicalString()}}function kj(e){return ME.fromServerFormat(e.fieldPath)}function Ej(e){return e instanceof QN?function(e){if("=="===e.op){if(MN(e.value))return{unaryFilter:{field:_j(e.field),op:"IS_NAN"}};if(RN(e.value))return{unaryFilter:{field:_j(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MN(e.value))return{unaryFilter:{field:_j(e.field),op:"IS_NOT_NAN"}};if(RN(e.value))return{unaryFilter:{field:_j(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_j(e.field),op:wj(e.op),value:e.value}}}(e):e instanceof XN?function(e){const t=e.getFilters().map(e=>Ej(e));return 1===t.length?t[0]:{compositeFilter:{op:Sj(e.op),filters:t}}}(e):fE()}function Nj(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Oj(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tj{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:IE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:IE.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fN.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Tj(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tj(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tj(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tj(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jj{constructor(e){this.ct=e}}function Pj(e){const t=vj({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?NO(t,t.limit,"L"):t}class Aj{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(yN(e.integerValue));else if("doubleValue"in e){const n=yN(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),XE(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=mN(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(gN(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?BN(e)?this.dt(t,Number.MAX_SAFE_INTEGER):FN(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fE()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(yN(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),LE.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Aj.vt=new Aj;class Ij{constructor(){this.un=new Cj}addToCollectionParentIndex(e,t){return this.un.add(t),qE.resolve()}getCollectionParents(e,t){return qE.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return qE.resolve()}deleteFieldIndex(e,t){return qE.resolve()}deleteAllFieldIndexes(e){return qE.resolve()}createTargetIndexes(e,t){return qE.resolve()}getDocumentsMatchingTarget(e,t){return qE.resolve(null)}getIndexType(e,t){return qE.resolve(0)}getFieldIndexes(e,t){return qE.resolve([])}getNextCollectionGroupToUpdate(e){return qE.resolve(null)}getMinOffset(e,t){return qE.resolve($E.min())}getMinOffsetFromCollectionGroup(e,t){return qE.resolve($E.min())}updateCollectionGroup(e,t,n){return qE.resolve()}updateIndexEntries(e,t){return qE.resolve()}}class Cj{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cN(DE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cN(DE.comparator)).toArray()}}new Uint8Array(0);class Dj{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Dj(e,Dj.DEFAULT_COLLECTION_PERCENTILE,Dj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dj.DEFAULT_COLLECTION_PERCENTILE=10,Dj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dj.DEFAULT=new Dj(41943040,Dj.DEFAULT_COLLECTION_PERCENTILE,Dj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dj.DISABLED=new Dj(-1,0,0);class Rj{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rj(0)}static kn(){return new Rj(-1)}}class Mj{constructor(){this.changes=new DO(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zN.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qE.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fj{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&yT(n.mutation,e,dN.empty(),AE.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,HO()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HO();const r=BO();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=FO();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=BO();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,HO()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=MO();const o=WO(),a=WO();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof xT)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),yT(a.mutation,t,a.mutation.getFieldMask(),AE.now())):o.set(t.key,dN.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Lj(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=WO();let r=new aN((e,t)=>e-t),i=HO();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||dN.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||HO()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=$O();l.forEach(e=>{if(!i.has(e)){const r=pT(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return qE.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return LE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qE.resolve(BO());let a=-1,s=i;return o.next(t=>qE.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?qE.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,HO())).next(e=>({batchId:a,changes:UO(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new LE(t)).next(e=>{let t=FO();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=FO();return this.indexManager.getCollectionParents(e,i).next(a=>qE.forEach(a,a=>{const s=function(e,t){return new gO(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zN.newInvalidDocument(r)))});let n=FO();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&yT(o.mutation,r,dN.empty(),AE.now()),PO(t,r)&&(n=n.insert(e,r))}),n})}}class Uj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return qE.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ij(e.createTime)}}(t)),qE.resolve()}getNamedQuery(e,t){return qE.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Pj(e.bundledQuery),readTime:ij(e.readTime)}}(t)),qE.resolve()}}class Bj{constructor(){this.overlays=new aN(LE.comparator),this.Ir=new Map}getOverlay(e,t){return qE.resolve(this.overlays.get(t))}getOverlays(e,t){const n=BO();return qE.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),qE.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),qE.resolve()}getOverlaysForCollection(e,t,n){const r=BO(),i=t.length+1,o=new LE(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qE.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new aN((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=BO(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=BO(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return qE.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new TT(t,n));let i=this.Ir.get(t);void 0===i&&(i=HO(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class $j{constructor(){this.sessionToken=fN.EMPTY_BYTE_STRING}getSessionToken(e){return qE.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qE.resolve()}}class Wj{constructor(){this.Tr=new cN(zj.Er),this.dr=new cN(zj.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new zj(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new zj(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new LE(new DE([])),n=new zj(t,e),r=new zj(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new LE(new DE([])),n=new zj(t,e),r=new zj(t,e+1);let i=HO();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new zj(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zj{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return LE.comparator(e.key,t.key)||jE(e.wr,t.wr)}static Ar(e,t){return jE(e.wr,t.wr)||LE.comparator(e.key,t.key)}}class Vj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new cN(zj.Er)}checkEmpty(e){return qE.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NT(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new zj(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qE.resolve(o)}lookupMutationBatch(e,t){return qE.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return qE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qE.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return qE.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zj(t,0),r=new zj(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),qE.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cN(jE);return t.forEach(e=>{const t=new zj(e,0),r=new zj(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),qE.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;LE.isDocumentKey(i)||(i=i.child(""));const o=new zj(new LE(i),0);let a=new cN(jE);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},o),qE.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){pE(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return qE.forEach(t.mutations,r=>{const i=new zj(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new zj(t,0),r=this.br.firstAfterOrEqual(n);return qE.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qE.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hj{constructor(e){this.Mr=e,this.docs=new aN(LE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qE.resolve(n?n.document.mutableCopy():zN.newInvalidDocument(t))}getEntries(e,t){let n=MO();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zN.newInvalidDocument(e))}),qE.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=MO();const o=t.path,a=new LE(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||WE(BE(a),n)<=0||(r.has(a.key)||PO(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return qE.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fE()}Or(e,t){return qE.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new qj(this)}getSize(e){return qE.resolve(this.size)}}class qj extends Mj{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),qE.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Gj{constructor(e){this.persistence=e,this.Nr=new DO(e=>pO(e),mO),this.lastRemoteSnapshotVersion=IE.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wj,this.targetCount=0,this.kr=Rj.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),qE.resolve()}getLastRemoteSnapshotVersion(e){return qE.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qE.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qE.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),qE.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Rj(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,qE.resolve()}updateTargetData(e,t){return this.Kn(t),qE.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,qE.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),qE.waitFor(i).next(()=>r)}getTargetCount(e){return qE.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return qE.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),qE.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),qE.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),qE.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return qE.resolve(n)}containsKey(e,t){return qE.resolve(this.Br.containsKey(t))}}class Kj{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YE(0),this.Kr=!1,this.Kr=!0,this.$r=new $j,this.referenceDelegate=e(this),this.Ur=new Gj(this),this.indexManager=new Ij,this.remoteDocumentCache=function(e){return new Hj(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new jj(t),this.Gr=new Uj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Vj(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){cE("MemoryPersistence","Starting transaction:",e);const r=new Yj(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return qE.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Yj extends VE{constructor(e){super(),this.currentSequenceNumber=e}}class Qj{constructor(e){this.persistence=e,this.Jr=new Wj,this.Yr=null}static Zr(e){return new Qj(e)}get Xr(){if(this.Yr)return this.Yr;throw fE()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),qE.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),qE.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),qE.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qE.forEach(this.Xr,n=>{const r=LE.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,IE.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return qE.or([()=>qE.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Xj{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=HO(),r=HO();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xj(e,t.fromCache,n,r)}}class Jj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=zb()?8:GE(Wb())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Jj;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(lE()<=sx.DEBUG&&cE("QueryEngine","SDK will not create cache indexes for query:",jO(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qE.resolve()):(lE()<=sx.DEBUG&&cE("QueryEngine","Query:",jO(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(lE()<=sx.DEBUG&&cE("QueryEngine","The SDK decides to create cache indexes for query:",jO(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_O(t))):qE.resolve())}Yi(e,t){if(xO(t))return qE.resolve(null);let n=_O(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=NO(t,null,"F"),n=_O(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=HO(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,NO(t,null,"F")):this.rs(e,o,t,n)}))})))}Zi(e,t,n,r){return xO(t)||r.isEqual(IE.min())?qE.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?qE.resolve(null):(lE()<=sx.DEBUG&&cE("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jO(t)),this.rs(e,o,t,UE(r,-1)).next(e=>e))})}ts(e,t){let n=new cN(IO(e));return t.forEach((t,r)=>{PO(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return lE()<=sx.DEBUG&&cE("QueryEngine","Using full collection scan to execute query:",jO(t)),this.Ji.getDocumentsMatchingQuery(e,t,$E.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class eP{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new aN(jE),this._s=new DO(e=>pO(e),mO),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function tP(e,t,n,r){return new eP(e,t,n,r)}async function nP(e,t){const n=mE(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=HO();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:o}))})})}function rP(e){const t=mE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function iP(e,t,n){let r=HO(),i=HO();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=MO();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(IE.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):cE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ps:r,Is:i}})}function oP(e,t){const n=mE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function aP(e,t){const n=mE(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,qE.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Tj(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function sP(e,t,n){const r=mE(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!KE(e))throw e;cE("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function lP(e,t,n){const r=mE(e);let i=IE.min(),o=HO();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=mE(e),i=r._s.get(n);return void 0!==i?qE.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,_O(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:IE.min(),n?o:HO())).next(e=>(cP(r,AO(t),e),{documents:e,Ts:o})))}function cP(e,t,n){let r=e.us.get(t)||IE.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class uP{constructor(){this.activeTargetIds=GO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dP{constructor(){this.so=new uP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uP,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hP{_o(e){}shutdown(){}}class fP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){cE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){cE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pP=null;function mP(){return null===pP?pP=268435456+Math.round(2147483648*Math.random()):pP++,"0x"+pP.toString(16)}const yP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vP="WebChannelConnection";class bP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=mP(),a=this.xo(e,t.toUriEncodedString());cE("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then(t=>(cE("RestConnection",`Received RPC '${e}' ${o}: `,t),t),t=>{throw dE("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+aE,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=yP[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=mP();return new Promise((o,a)=>{const s=new Kk;s.setWithCredentials(!0),s.listenOnce(Qk.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Xk.NO_ERROR:const t=s.getResponseJson();cE(vP,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Xk.TIMEOUT:cE(vP,`RPC '${e}' ${i} timed out`),a(new gE(yE.DEADLINE_EXCEEDED,"Request time out"));break;case Xk.HTTP_ERROR:const n=s.getStatus();if(cE(vP,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yE).indexOf(t)>=0?t:yE.UNKNOWN}(t.status);a(new gE(e,t.message))}else a(new gE(yE.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new gE(yE.UNAVAILABLE,"Connection failed."));break;default:fE()}}finally{cE(vP,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);cE(vP,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=mP(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tE(),a=eE(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");cE(vP,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new gP({Io:t=>{h?cE(vP,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(cE(vP,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),cE(vP,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Yk.EventType.OPEN,()=>{h||(cE(vP,`RPC '${e}' stream ${r} transport opened.`),f.yo())}),p(u,Yk.EventType.CLOSE,()=>{h||(h=!0,cE(vP,`RPC '${e}' stream ${r} transport closed`),f.So())}),p(u,Yk.EventType.ERROR,t=>{h||(h=!0,dE(vP,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new gE(yE.UNAVAILABLE,"The operation could not be completed")))}),p(u,Yk.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];pE(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){cE(vP,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=PT[e];if(void 0!==t)return CT(t)}(t),i=a.message;void 0===n&&(n=yE.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new gE(n,i)),u.close()}else cE(vP,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}}),p(a,Zk.STAT_EVENT,t=>{t.stat===Jk.PROXY?cE(vP,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Jk.NOPROXY&&cE(vP,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function xP(){return"undefined"!=typeof document?document:null}function wP(e){return new ZT(e,!0)}class SP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&cE("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class _P{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new SP(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===yE.RESOURCE_EXHAUSTED?(uE(t.toString()),uE("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===yE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new gE(yE.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return cE("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(cE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends _P{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(pE(void 0===t||"string"==typeof t),fN.fromBase64String(t||"")):(pE(void 0===t||t instanceof Buffer||t instanceof Uint8Array),fN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?yE.UNKNOWN:CT(e.code);return new gE(t,e.message||"")}(a);n=new HT(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cj(e,r.document.name),o=ij(r.document.updateTime),a=r.document.createTime?ij(r.document.createTime):IE.min(),s=new $N({mapValue:{fields:r.document.fields}}),l=zN.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zT(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cj(e,r.document),o=r.readTime?ij(r.readTime):IE.min(),a=zN.newNoDocument(i,o),s=r.removedTargetIds||[];n=new zT([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cj(e,r.document),o=r.removedTargetIds||[];n=new zT([],o,i,null)}else{if(!("filter"in t))return fE();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new jT(r,i),a=e.targetId;n=new VT(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return IE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?IE.min():t.readTime?ij(t.readTime):IE.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=hj(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yO(r)?{documents:yj(e,r)}:{query:gj(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=nj(e,t.resumeToken);const r=ej(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(IE.min())>0){n.readTime=tj(e,t.snapshotVersion.toTimestamp());const r=ej(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fE()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=hj(this.serializer),t.removeTarget=e,this.a_(t)}}class EP extends _P{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pE(!!e.streamToken),this.lastStreamToken=e.streamToken,pE(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){pE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(pE(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?ij(e.updateTime):ij(t);return n.isEqual(IE.min())&&(n=ij(t)),new uT(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ij(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=hj(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>mj(this.serializer,e))};this.a_(t)}}class NP extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new gE(yE.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Mo(e,aj(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gE(yE.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Lo(e,aj(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gE(yE.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class OP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(uE(t),this.D_=!1):cE("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class TP{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{LP(this)&&(cE("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=mE(e);t.L_.add(4),await PP(t),t.q_.set("Unknown"),t.L_.delete(4),await jP(t)}(this))})}),this.q_=new OP(n,r)}}async function jP(e){if(LP(e))for(const t of e.B_)await t(!0)}async function PP(e){for(const t of e.B_)await t(!1)}function AP(e,t){const n=mE(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),MP(n)?RP(n):nA(n).r_()&&CP(n,t))}function IP(e,t){const n=mE(e),r=nA(n);n.N_.delete(t),r.r_()&&DP(n,t),0===n.N_.size&&(r.r_()?r.o_():LP(n)&&n.q_.set("Unknown"))}function CP(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(IE.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nA(e).A_(t)}function DP(e,t){e.Q_.xe(t),nA(e).R_(t)}function RP(e){e.Q_=new GT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),nA(e).start(),e.q_.v_()}function MP(e){return LP(e)&&!nA(e).n_()&&e.N_.size>0}function LP(e){return 0===mE(e).L_.size}function FP(e){e.Q_=void 0}async function UP(e){e.q_.set("Online")}async function BP(e){e.N_.forEach((t,n)=>{CP(e,t)})}async function $P(e,t){FP(e),MP(e)?(e.q_.M_(t),RP(e)):e.q_.set("Unknown")}async function WP(e,t,n){if(e.q_.set("Online"),t instanceof HT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){cE("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await zP(e,n)}else if(t instanceof zT?e.Q_.Ke(t):t instanceof VT?e.Q_.He(t):e.Q_.We(t),!n.isEqual(IE.min()))try{const t=await rP(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(fN.EMPTY_BYTE_STRING,r.snapshotVersion)),DP(e,t);const i=new Tj(r.target,t,n,r.sequenceNumber);CP(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cE("RemoteStore","Failed to raise snapshot:",t),await zP(e,t)}}async function zP(e,t,n){if(!KE(t))throw t;e.L_.add(1),await PP(e),e.q_.set("Offline"),n||(n=()=>rP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{cE("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await jP(e)})}function VP(e,t){return t().catch(n=>zP(e,n,t))}async function HP(e){const t=mE(e),n=rA(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;qP(t);)try{const e=await oP(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,GP(t,e)}catch(e){await zP(t,e)}KP(t)&&YP(t)}function qP(e){return LP(e)&&e.O_.length<10}function GP(e,t){e.O_.push(t);const n=rA(e);n.r_()&&n.V_&&n.m_(t.mutations)}function KP(e){return LP(e)&&!rA(e).n_()&&e.O_.length>0}function YP(e){rA(e).start()}async function QP(e){rA(e).p_()}async function XP(e){const t=rA(e);for(const n of e.O_)t.m_(n.mutations)}async function JP(e,t,n){const r=e.O_.shift(),i=OT.from(r,t,n);await VP(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await HP(e)}async function ZP(e,t){t&&rA(e).V_&&await async function(e,t){if(function(e){return IT(e)&&e!==yE.ABORTED}(t.code)){const n=e.O_.shift();rA(e).s_(),await VP(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await HP(e)}}(e,t),KP(e)&&YP(e)}async function eA(e,t){const n=mE(e);n.asyncQueue.verifyOperationInProgress(),cE("RemoteStore","RemoteStore received new credentials");const r=LP(n);n.L_.add(3),await PP(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await jP(n)}async function tA(e,t){const n=mE(e);t?(n.L_.delete(2),await jP(n)):t||(n.L_.add(2),await PP(n),n.q_.set("Unknown"))}function nA(e){return e.K_||(e.K_=function(e,t,n){const r=mE(e);return r.w_(),new kP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:UP.bind(null,e),Ro:BP.bind(null,e),mo:$P.bind(null,e),d_:WP.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),MP(e)?RP(e):e.q_.set("Unknown")):(await e.K_.stop(),FP(e))})),e.K_}function rA(e){return e.U_||(e.U_=function(e,t,n){const r=mE(e);return r.w_(),new EP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QP.bind(null,e),mo:ZP.bind(null,e),f_:XP.bind(null,e),g_:JP.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await HP(e)):(await e.U_.stop(),e.O_.length>0&&(cE("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}class iA{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new iA(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gE(yE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oA(e,t){if(uE("AsyncQueue",`${t}: ${e}`),KE(e))return new gE(yE.UNAVAILABLE,`${t}: ${e}`);throw e}class aA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||LE.comparator(t.key,n.key):(e,t)=>LE.comparator(e.key,t.key),this.keyedMap=FO(),this.sortedSet=new aN(this.comparator)}static emptySet(e){return new aA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aA))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new aA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sA{constructor(){this.W_=new aN(LE.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fE():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class lA{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new lA(e,t,aA.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&OO(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class uA{constructor(){this.queries=dA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=mE(e),r=n.queries;n.queries=dA(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new gE(yE.ABORTED,"Firestore shutting down"))}}function dA(){return new DO(e=>TO(e),OO)}async function hA(e,t){const n=mE(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new cA,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=oA(e,`Initialization of query '${jO(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&yA(n)}async function fA(e,t){const n=mE(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pA(e,t){const n=mE(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&yA(n)}function mA(e,t,n){const r=mE(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function yA(e){e.Y_.forEach(e=>{e.next()})}var gA,vA;(vA=gA||(gA={})).ea="default",vA.Cache="cache";class bA{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lA(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=lA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gA.Cache}}class xA{constructor(e){this.key=e}}class wA{constructor(e){this.key=e}}class SA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=HO(),this.mutatedKeys=HO(),this.Aa=IO(e),this.Ra=new aA(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new sA,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=PO(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fE()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new lA(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=HO(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new wA(e))}),this.da.forEach(n=>{e.has(n)||t.push(new xA(n))}),t}ba(e){this.Ta=e.Ts,this.da=HO();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return lA.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class _A{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kA{constructor(e){this.key=e,this.va=!1}}class EA{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new DO(e=>TO(e),OO),this.Ma=new Map,this.xa=new Set,this.Oa=new aN(LE.comparator),this.Na=new Map,this.La=new Wj,this.Ba={},this.ka=new Map,this.qa=Rj.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function NA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=GA(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await TA(r,t,n,!0),i}async function OA(e,t){const n=GA(e);await TA(n,t,!0,!1)}async function TA(e,t,n,r){const i=await aP(e.localStore,_O(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await jA(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&AP(e.remoteStore,i),s}async function jA(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await lP(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return $A(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await lP(e.localStore,t,!0),a=new SA(t,o.Ts),s=a.ma(o.documents),l=WT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);$A(e,n,c.wa);const u=new _A(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function PA(e,t,n){const r=mE(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(e=>!OO(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&IP(r.remoteStore,i.targetId),UA(r,i.targetId)}).catch(HE)):(UA(r,i.targetId),await sP(r.localStore,i.targetId,!0))}async function AA(e,t){const n=mE(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IP(n.remoteStore,r.targetId))}async function IA(e,t){const n=mE(e);try{const e=await function(e,t){const n=mE(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(fN.EMPTY_BYTE_STRING,IE.min()).withLastLimboFreeSnapshotVersion(IE.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))});let s=MO(),l=HO();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(iP(e,o,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual(IE.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return qE.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(pE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?pE(r.va):e.removedDocuments.size>0&&(pE(r.va),r.va=!1))}),await VA(n,e,t)}catch(e){await HE(e)}}function CA(e,t,n){const r=mE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=mE(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&yA(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function DA(e,t,n){const r=mE(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new aN(LE.comparator);e=e.insert(o,zN.newNoDocument(o,IE.min()));const n=HO().add(o),i=new $T(IE.min(),new Map,new aN(jE),e,n);await IA(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),zA(r)}else await sP(r.localStore,t,!1).then(()=>UA(r,t,n)).catch(HE)}async function RA(e,t){const n=mE(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=qE.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);pE(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=HO();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);FA(n,r,null),LA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VA(n,e)}catch(e){await HE(e)}}async function MA(e,t,n){const r=mE(e);try{const e=await function(e,t){const n=mE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(pE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);FA(r,t,n),LA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VA(r,e)}catch(n){await HE(n)}}function LA(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function FA(e,t,n){const r=mE(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function UA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||BA(e,t)})}function BA(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(IP(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),zA(e))}function $A(e,t,n){for(const r of n)r instanceof xA?(e.La.addReference(r.key,t),WA(e,r)):r instanceof wA?(cE("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||BA(e,r.key)):fE()}function WA(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(cE("SyncEngine","New document in limbo: "+n),e.xa.add(r),zA(e))}function zA(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new LE(DE.fromString(t)),r=e.qa.next();e.Na.set(r,new kA(n)),e.Oa=e.Oa.insert(n,r),AP(e.remoteStore,new Tj(_O(bO(n.path)),r,"TargetPurposeLimboResolution",YE.oe))}}async function VA(e,t,n){const r=mE(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{a.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Xj.Wi(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=mE(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>qE.forEach(t,t=>qE.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>qE.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!KE(e))throw e;cE("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function HA(e,t){const n=mE(e);if(!n.currentUser.isEqual(t)){cE("SyncEngine","User change. New user:",t.toKey());const e=await nP(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new gE(yE.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VA(n,e.hs)}}function qA(e,t){const n=mE(e),r=n.Na.get(t);if(r&&r.va)return HO().add(r.key);{let e=HO();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function GA(e){const t=mE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DA.bind(null,t),t.Ca.d_=pA.bind(null,t.eventManager),t.Ca.$a=mA.bind(null,t.eventManager),t}function KA(e){const t=mE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MA.bind(null,t),t}class YA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wP(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return tP(this.persistence,new Zj,e.initialUser,this.serializer)}Ga(e){return new Kj(Qj.Zr,this.serializer)}Wa(e){return new dP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}YA.provider={build:()=>new YA};class QA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>CA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=HA.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new uA}createDatastore(e){const t=wP(e.databaseInfo.databaseId),n=function(e){return new bP(e)}(e.databaseInfo);return function(e,t,n,r){return new NP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new TP(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>CA(this.syncEngine,e,0),fP.D()?new fP:new hP)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new EA(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=mE(e);cE("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await PP(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}QA.provider={build:()=>new QA};class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uE("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class JA{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=oE.UNAUTHENTICATED,this.clientId=TE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{cE("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(cE("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=oA(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ZA(e,t){e.asyncQueue.verifyOperationInProgress(),cE("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await nP(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function eI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tI(e);cE("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>eA(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>eA(t.remoteStore,n)),e._onlineComponents=t}async function tI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cE("FirestoreClient","Using user provided OfflineComponentProvider");try{await ZA(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===yE.FAILED_PRECONDITION||e.code===yE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;dE("Error using user provided cache. Falling back to memory cache: "+n),await ZA(e,new YA)}}else cE("FirestoreClient","Using default OfflineComponentProvider"),await ZA(e,new YA);return e._offlineComponents}async function nI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cE("FirestoreClient","Using user provided OnlineComponentProvider"),await eI(e,e._uninitializedComponentsProvider._online)):(cE("FirestoreClient","Using default OnlineComponentProvider"),await eI(e,new QA))),e._onlineComponents}function rI(e){return nI(e).then(e=>e.syncEngine)}async function iI(e){const t=await nI(e),n=t.eventManager;return n.onListen=NA.bind(null,t.syncEngine),n.onUnlisten=PA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AA.bind(null,t.syncEngine),n}function oI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const aI=new Map;function sI(e,t,n){if(!n)throw new gE(yE.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lI(e){if(!LE.isDocumentKey(e))throw new gE(yE.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cI(e){if(LE.isDocumentKey(e))throw new gE(yE.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":fE()}function dI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gE(yE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uI(e);throw new gE(yE.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class hI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gE(yE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gE(yE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gE(yE.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gE(yE.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new gE(yE.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new gE(yE.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gE(yE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gE(yE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xE;switch(e.type){case"firstParty":return new kE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gE(yE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aI.get(e);t&&(cE("ComponentProvider","Removing Datastore"),aI.delete(e),t.terminate())}(this),Promise.resolve()}}function pI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=dI(e,fI))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&dE("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=oE.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Db(JSON.stringify({alg:"none",type:"JWT"})),Db(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new gE(yE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new oE(o)}e._authCredentials=new wE(new bE(t,n))}}class mI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mI(this.firestore,e,this._query)}}class yI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yI(this.firestore,e,this._key)}}class gI extends mI{constructor(e,t,n){super(e,t,bO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yI(this.firestore,null,new LE(e))}withConverter(e){return new gI(this.firestore,e,this._path)}}function vI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tx(e),sI("collection","path",t),e instanceof fI){const n=DE.fromString(t,...r);return cI(n),new gI(e,null,n)}{if(!(e instanceof yI||e instanceof gI))throw new gE(yE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(DE.fromString(t,...r));return cI(n),new gI(e.firestore,null,n)}}function bI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tx(e),1===arguments.length&&(t=TE.newId()),sI("doc","path",t),e instanceof fI){const n=DE.fromString(t,...r);return lI(n),new yI(e,null,new LE(n))}{if(!(e instanceof yI||e instanceof gI))throw new gE(yE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(DE.fromString(t,...r));return lI(n),new yI(e.firestore,e instanceof gI?e.converter:null,new LE(n))}}class xI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new SP(this,"async_queue_retry"),this.Vu=()=>{const e=xP();e&&cE("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=xP();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=xP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new vE;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!KE(e))throw e;cE("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uE("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=iA.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&fE()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function wI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class SI extends fI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new xI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xI(e),this._firestoreClient=void 0,await e}}}function _I(e,t){const n="string"==typeof e?e:t||"(default)",r=hw("object"==typeof e?e:vw(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Fb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&pI(r,...e)}return r}function kI(e){if(e._terminated)throw new gE(yE.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||EI(e),e._firestoreClient}function EI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new wN(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,oI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new JA(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class NI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new NI(fN.fromBase64String(e))}catch(e){throw new gE(yE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new NI(fN.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class OI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gE(yE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ME(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TI{constructor(e){this._methodName=e}}class jI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gE(yE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gE(yE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jE(this._lat,e._lat)||jE(this._long,e._long)}}class PI{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const AI=/^__.*__$/;class II{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xT(e,this.data,this.fieldMask,t,this.fieldTransforms):new bT(e,this.data,t,this.fieldTransforms)}}class CI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fE()}}class RI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new RI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return XI(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(DI(this.Cu)&&AI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wP(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new RI({Cu:e,methodName:t,qu:n,path:ME.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LI(e){const t=e._freezeSettings(),n=wP(e._databaseId);return new MI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);GI("Data must be an object, but it was:",a,r);const s=HI(r,a);let l,c;if(o.merge)l=new dN(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=KI(t,r,n);if(!a.contains(i))throw new gE(yE.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);JI(e,i)||e.push(i)}l=new dN(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new II(new $N(s),l,c)}class UI extends TI{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof UI}}class BI extends TI{_toFieldTransform(e){return new cT(e.path,new tT)}isEqual(e){return e instanceof BI}}function $I(e,t,n,r){const i=e.Qu(1,t,n);GI("Data must be an object, but it was:",i,r);const o=[],a=$N.empty();iN(r,(e,r)=>{const s=QI(t,e,n);r=tx(r);const l=i.Nu(s);if(r instanceof UI)o.push(s);else{const e=VI(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new dN(o);return new CI(a,s,i.fieldTransforms)}function WI(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[KI(t,r,n)],l=[i];if(o.length%2!=0)throw new gE(yE.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(KI(t,o[h])),l.push(o[h+1]);const c=[],u=$N.empty();for(let h=s.length-1;h>=0;--h)if(!JI(c,s[h])){const e=s[h];let t=l[h];t=tx(t);const n=a.Nu(e);if(t instanceof UI)c.push(e);else{const r=VI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new dN(c);return new CI(u,d,a.fieldTransforms)}function zI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VI(n,e.Qu(r?4:3,t))}function VI(e,t){if(qI(e=tx(e)))return GI("Unsupported field value:",t,e),HI(e,t);if(e instanceof TI)return function(e,t){if(!DI(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=VI(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tx(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return QO(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=AE.fromDate(e);return{timestampValue:tj(t.serializer,n)}}if(e instanceof AE){const n=new AE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tj(t.serializer,n)}}if(e instanceof jI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof NI)return{bytesValue:nj(t.serializer,e._byteString)};if(e instanceof yI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:oj(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof PI)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return KO(t.serializer,e)})}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${uI(e)}`)}(e,t)}function HI(e,t){const n={};return oN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iN(e,(e,r)=>{const i=VI(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function qI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof AE||e instanceof jI||e instanceof NI||e instanceof yI||e instanceof TI||e instanceof PI)}function GI(e,t,n){if(!qI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=uI(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function KI(e,t,n){if((t=tx(t))instanceof OI)return t._internalPath;if("string"==typeof t)return QI(e,t);throw XI("Field path arguments must be of type string or ",e,!1,void 0,n)}const YI=new RegExp("[~\\*/\\[\\]]");function QI(e,t,n){if(t.search(YI)>=0)throw XI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new OI(...t.split("."))._internalPath}catch(c){throw XI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XI(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new gE(yE.INVALID_ARGUMENT,s+e+l)}function JI(e,t){return e.some(e=>e.isEqual(t))}class ZI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eC extends ZI{data(){return super.data()}}function tC(e,t){return"string"==typeof t?QI(e,t):t instanceof OI?t._internalPath:t._delegate._internalPath}function nC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gE(yE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rC{}class iC extends rC{}function oC(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof rC&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof sC).length,n=e.filter(e=>e instanceof aC).length;if(t>1||t>0&&n>0)throw new gE(yE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class aC extends iC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new aC(e,t,n)}_apply(e){const t=this._parse(e);return hC(e._query,t),new mI(e.firestore,e.converter,EO(e._query,t))}_parse(e){const t=LI(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new gE(yE.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){dC(a,o);const t=[];for(const n of a)t.push(uC(r,e,n));s={arrayValue:{values:t}}}else s=uC(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dC(a,o),s=zI(n,t,a,"in"===o||"not-in"===o);return QN.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class sC extends rC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sC(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:XN.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hC(n,i),n=EO(n,i)}(e._query,t),new mI(e.firestore,e.converter,EO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lC extends iC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gE(yE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gE(yE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new GN(t,n)}(e._query,this._field,this._direction);return new mI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gO(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function cC(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=tC("orderBy",e);return lC._create(n,t)}function uC(e,t,n){if("string"==typeof(n=tx(n))){if(""===n)throw new gE(yE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wO(t)&&-1!==n.indexOf("/"))throw new gE(yE.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(DE.fromString(n));if(!LE.isDocumentKey(r))throw new gE(yE.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IN(e,new LE(r))}if(n instanceof yI)return IN(e,n._key);throw new gE(yE.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uI(n)}.`)}function dC(e,t){if(!Array.isArray(e)||0===e.length)throw new gE(yE.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hC(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gE(yE.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gE(yE.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kN(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fE()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return iN(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>yN(e.doubleValue));return new PI(i)}convertGeoPoint(e){return new jI(yN(e.latitude),yN(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xN(e));default:return null}}convertTimestamp(e){const t=mN(e);return new AE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=DE.fromString(e);pE(Oj(n));const r=new SN(n.get(1),n.get(3)),i=new LE(n.popFirst(5));return r.isEqual(t)||uE(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function pC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yC extends ZI{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new gC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gC extends yC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new gC(this._firestore,this._userDataWriter,n.key,n,new mC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gE(yE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new gC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new gC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:bC(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fE()}}class xC extends fC{constructor(e){super(),this.firestore=e}convertBytes(e){return new NI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yI(this.firestore,null,t)}}function wC(e,t){const n=dI(e.firestore,SI),r=bI(e),i=pC(e.converter,t);return _C(n,[FI(LI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dT.exists(!1))]).then(()=>r)}function SC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=tx(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||wI(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof yI)d=dI(e.firestore,SI),h=bO(e._key.path),u={next:t=>{n[l]&&n[l](kC(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=dI(e,mI);d=dI(t.firestore,SI),h=t._query;const r=new xC(d);u={next:e=>{n[l]&&n[l](new vC(d,r,t,e))},error:n[l+1],complete:n[l+2]},nC(e._query)}return function(e,t,n,r){const i=new XA(r),o=new bA(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>hA(await iI(e),o)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>fA(await iI(e),o))}}(kI(d),h,c,u)}function _C(e,t){return function(e,t){const n=new vE;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=KA(e);try{const e=await function(e,t){const n=mE(e),r=AE.now(),i=t.reduce((e,t)=>e.add(t.key),HO());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=MO(),l=HO();return n.cs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=gT(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new xT(e.key,t,WN(t.value.mapValue),dT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:UO(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new aN(jE)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await VA(r,e.changes),await HP(r.remoteStore)}catch(e){const t=oA(e,"Failed to persist write");n.reject(t)}}(await rI(e),t,n)),n.promise}(kI(e),t)}function kC(e,t,n){const r=n.docs.get(t._key),i=new xC(e);return new yC(e,i,t._key,r,new mC(n.hasPendingWrites,n.fromCache),t.converter)}class EC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=LI(e)}set(e,t,n){this._verifyNotCommitted();const r=NC(e,this._firestore),i=pC(r.converter,t,n),o=FI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,dT.none())),this}update(e,t,n){this._verifyNotCommitted();const r=NC(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=tx(t))||t instanceof OI?WI(this._dataReader,"WriteBatch.update",r._key,t,n,a):$I(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,dT.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=NC(e,this._firestore);return this._mutations=this._mutations.concat(new kT(t._key,dT.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gE(yE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function NC(e,t){if((e=tx(e)).firestore!==t)throw new gE(yE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function OC(){return new BI("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){aE=e}(yw),dw(new nx("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new SI(new SE(e.getProvider("auth-internal")),new NE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gE(yE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new SN(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bw(iE,"4.7.3",e),bw(iE,"4.7.3","esm2017")}();const TC=e=>"number"===typeof e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A",jC=e=>{let{allTransactions:n,getDisplayTeamName:r,uniqueTeamsForOverallHistory:i}=e;const o=(0,t.useMemo)(()=>{const e={};return i.forEach(t=>{e[t]={name:t,totalDebits:0,totalCredits:0,netBalance:0}}),n.forEach(t=>{const n=r(String(t.teamName||"").trim()),o=parseFloat(t.amount);if(!isNaN(o))if("All Teams"===t.teamName&&"debit"===t.type&&t.teamsInvolvedCount>0){const n=o/t.teamsInvolvedCount;i.forEach(t=>{e[t]&&(e[t].totalDebits+=n)})}else n&&e[n]&&("debit"===t.type?e[n].totalDebits+=o:"credit"===t.type&&(e[n].totalCredits+=o))}),Object.keys(e).forEach(t=>{e[t].netBalance=e[t].totalCredits-e[t].totalDebits}),Object.values(e).sort((e,t)=>e.name.localeCompare(t.name))},[n,r,i]);return(0,ib.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-md mt-8",children:[(0,ib.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"Overall Financial History by Team"}),0===o.length?(0,ib.jsx)("p",{className:"text-center text-gray-600",children:"No financial data available across all seasons."}):(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team Name"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Total Fees"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Total Payouts"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Overall Net Balance"})]})}),(0,ib.jsx)("tbody",{children:o.map((e,t)=>(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:e.name}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right text-red-700 border-b border-gray-200",children:TC(e.totalDebits)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right text-green-700 border-b border-gray-200",children:TC(e.totalCredits)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right font-bold border-b border-gray-200 "+(e.netBalance>=0?"text-green-900":"text-red-900"),children:TC(e.netBalance)})]},e.name))})]})})]})},PC=e=>{let{getDisplayTeamName:n,historicalMatchups:r}=e;const[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("debit"),[p,m]=(0,t.useState)("entry_fee"),[y,g]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(""),[S,_]=(0,t.useState)(["",""]),[k,E]=(0,t.useState)([{team:"",numPickups:1}]),[N,O]=(0,t.useState)("multi_team"),[T,j]=(0,t.useState)(1),[P,A]=(0,t.useState)(!0),[I,C]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,L]=(0,t.useState)(null),[F,U]=(0,t.useState)(null),[B,$]=(0,t.useState)(!1),[W,z]=(0,t.useState)([]),[V,H]=(0,t.useState)({}),[q,G]=(0,t.useState)(0),[K,Y]=(0,t.useState)(null),[Q,X]=(0,t.useState)([]),[J,Z]=(0,t.useState)(0),[ee,te]=(0,t.useState)(!1),[ne,re]=(0,t.useState)(null),[ie,oe]=(0,t.useState)(!1),[ae,se]=(0,t.useState)(null),[le,ce]=(0,t.useState)([]),[ue,de]=(0,t.useState)(!1),[he,fe]=(0,t.useState)(""),[pe,me]=(0,t.useState)(""),[ye,ge]=(0,t.useState)(null),[ve,be]=(0,t.useState)(!1),[xe,we]=(0,t.useState)(""),[Se,_e]=(0,t.useState)([]),[ke,Ee]=(0,t.useState)([]),[Ne,Oe]=(0,t.useState)(!1),[Te,je]=(0,t.useState)(!0),[Pe,Ae]=(0,t.useState)(0),[Ie,Ce]=(0,t.useState)(1),[De,Re]=(0,t.useState)("transactions"),Me={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_COMMISH_UID,Le=F&&Me&&F===Me,Fe=(0,t.useCallback)(e=>"debit"===e?[{value:"entry_fee",label:"Entry Fee"},{value:"waiver_fa_fee",label:"Waiver/FA Fee"},{value:"trade_fee",label:"Trade Fee"},{value:"other_fee",label:"Other"}]:"credit"===e?[{value:"weekly_1st_points",label:"Weekly 1st - Points"},{value:"weekly_2nd_points",label:"Weekly 2nd - Points"},{value:"playoff_finish",label:"Playoff Finish"},{value:"points_finish",label:"Points Finish"},{value:"side_pot",label:"Side Pot"},{value:"other_payout",label:"Other"}]:[],[]),Ue=(0,t.useMemo)(()=>[{name:"League Entry Fee",amount:"$70",description:"Paid per team for entry."},{name:"Waivers/Free Agents",amount:"$1",description:"Per transaction."},{name:"Trades",amount:"$2",description:"Per team involved."},{name:"Other Fee",amount:"",description:"Miscellaneous fees."}],[]),Be=(0,t.useMemo)(()=>[{name:"Weekly 1st Place (Points)",amount:"$10"},{name:"Weekly 2nd Place (Points)",amount:"$5"},{name:"Sween Bowl Champion",amount:"$100"},{name:"Sween Bowl Runner Up",amount:"$70"},{name:"Playoff 3rd Place",amount:"$50"},{name:"1st Place Overall Points",amount:"$60"},{name:"2nd Place Overall Points",amount:"$40"},{name:"3rd Place Overall Points",amount:"$25"},{name:"Side Pots",description:"Vary in amount and criteria."},{name:"Other Payout",amount:"",description:"Miscellaneous payouts."}],[]);(0,t.useEffect)(()=>{const e=Fe(h);e.length>0?e.some(e=>e.value===p)||m(e[0].value):m(""),"debit"===h&&"trade_fee"===p||(_(["",""]),j(1),O("multi_team")),"debit"===h&&"waiver_fa_fee"===p||E([{team:"",numPickups:1}])},[h,p,Fe]),(0,t.useEffect)(()=>{if(r&&Array.isArray(r)){const e=new Set;let t=0;r.forEach(n=>{n.year&&"number"===typeof n.year&&(e.add(n.year),n.year>t&&(t=n.year))});const n=Array.from(e).sort((e,t)=>t-e);X(n),t>0&&null===K&&Y(t)}},[r,K]),(0,t.useEffect)(()=>{if(!K||!r)return z([]),H({}),G(0),void Z(0);const e=new Set,t={};let i=0;r.forEach(r=>{if(r.year===K){const o=n(r.team1),a=n(r.team2);o&&e.add(o),a&&e.add(a);const s=r.week;s&&(t[s]||(t[s]=[]),o&&null!=r.team1Score&&t[s].push({team:o,score:parseFloat(r.team1Score)}),a&&null!=r.team2Score&&t[s].push({team:a,score:parseFloat(r.team2Score)}),s>i&&(i=s))}});const o={};Object.keys(t).forEach(e=>{const n=t[e];if(n.length>0){n.sort((e,t)=>t.score-e.score),o[e]={highest:n[0],secondHighest:null};let t=null;for(let e=1;e<n.length;e++)if(n[e].score<n[0].score){t=n[e];break}o[e].secondHighest=t}}),H(o),G(i);const a=Array.from(e).sort();z(["ALL_TEAMS_MULTIPLIER",...a]),Z(a.length)},[K,r,n]),(0,t.useEffect)(()=>{if(re(null),te(!1),"debit"===h&&"trade_fee"===p||(_(["",""]),j(1),O("multi_team")),"debit"===h&&"waiver_fa_fee"===p||E([{team:"",numPickups:1}]),"credit"!==h||"weekly_1st_points"!==p&&"weekly_2nd_points"!==p||!y)"credit"===h&&"side_pot"===p?(w(""),d("Payout: Side Pot")):(w(""),d(""));else{const e=parseInt(y),t=V[e];t?"weekly_1st_points"===p&&t.highest?(w(t.highest.team),d(`Payout: Weekly 1st Points - ${t.highest.team} (${t.highest.score} pts)`),te(!0)):"weekly_2nd_points"===p&&t.secondHighest?(w(t.secondHighest.team),d(`Payout: Weekly 2nd Points - ${t.secondHighest.team} (${t.secondHighest.score} pts)`),te(!0)):re(`No ${p.replace(/_/g," ")} winner found for Week ${y} in the selected season.`):re(`No score data found for Week ${y} in the selected season.`)}},[p,y,V,h,K]),(0,t.useEffect)(()=>{let e={},t="default-app-id";try{const r={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_CONFIG;if(!r)throw new Error("REACT_APP_FIREBASE_CONFIG environment variable is not defined or is empty. Please ensure it's set in your Vercel project settings with the 'REACT_APP_' prefix.");try{e=JSON.parse(r)}catch(n){throw new Error(`Failed to parse REACT_APP_FIREBASE_CONFIG environment variable. It might not be valid JSON. Error: ${n.message}`)}const i={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID;if(i?t=i:console.warn("REACT_APP_APP_ID environment variable is not defined or is empty. Using 'default-app-id'."),!e.projectId||!e.apiKey)throw new Error("Firebase configuration missing projectId or apiKey. Please ensure your REACT_APP_FIREBASE_CONFIG environment variable contains these properties and is correctly formatted JSON.");const o=gw(e,t),a=_I(o),s=Wk(o);R(a),L(s);const l=function(e,t,n,r){return tx(e).onAuthStateChanged(t,n,r)}(s,async e=>{if(e)U(e.uid);else{if("undefined"!==typeof __initial_auth_token?__initial_auth_token:null)try{var t;await x_(s),U(null===(t=s.currentUser)||void 0===t?void 0:t.uid)}catch(i){try{var n;await x_(s),U(null===(n=s.currentUser)||void 0===n?void 0:n.uid)}catch(o){C(`Failed to sign in: ${o.message}. View access may be limited.`),U(null)}}else try{var r;await x_(s),U(null===(r=s.currentUser)||void 0===r?void 0:r.uid)}catch(o){C(`Failed to sign in: ${o.message}. View access may be limited.`),U(null)}}$(!0)});return()=>l()}catch(r){C(`Firebase initialization failed: ${r.message}`),A(!1),$(!0)}},[]);(0,t.useEffect)(()=>{if(!D||!B||null===K||"transactions"!==De)return o([]),Ae(0),ce([]),void("transactions"===De&&A(!1));A(!0),C(null);const e=SC(oC(vI(D,`/artifacts/${{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id"}/public/data/financial_transactions`),cC("date","desc")),e=>{if(!B)return;const t=e.docs.map(e=>({id:e.id,...e.data()})),n=t.filter(e=>0===K||e.season===K);o(n);const r=n.filter(e=>"waiver_fa_fee"===e.category||"trade_fee"===e.category).reduce((e,t)=>e+(t.amount||0),0);Ae(r),A(!1),ce([])},e=>{C(`Failed to load financial data: ${e.message}.`),A(!1)});return()=>e()},[D,B,K,De]),(0,t.useEffect)(()=>{if(!D||!B||"overall_history"!==De)return s([]),void("overall_history"===De&&A(!1));A(!0),C(null);const e=SC(oC(vI(D,`/artifacts/${{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id"}/public/data/financial_transactions`),cC("date","asc")),e=>{if(!B)return;const t=e.docs.map(e=>({id:e.id,...e.data()}));s(t),A(!1)},e=>{C(`Failed to load overall financial data: ${e.message}.`),A(!1)});return()=>e()},[D,B,De]),(0,t.useEffect)(()=>{if(!D||!B||null===K)return je(!1),_e(Ue),void Ee(Be);je(!0);const e=SC(bI(D,`/artifacts/${{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id"}/public/data/league_structure/${K}`),e=>{if(e.exists()){const t=e.data();_e(t.fees||Ue),Ee(t.payouts||Be)}else _e(Ue),Ee(Be);je(!1),C(null)},e=>{console.warn(`Failed to load league structure for season ${K}: ${e.message}. Displaying default structure.`),je(!1),_e(Ue),Ee(Be)});return()=>e()},[D,B,K,Ue,Be]);const $e=(e,t,n)=>{const r=[...k];r[e][t]="numPickups"===t?parseInt(n)||0:n,E(r)},We=ee||"debit"===h&&"waiver_fa_fee"===p,ze=i.filter(e=>""===xe||("All Teams"===xe?"All Teams"===e.teamName:e.teamName===xe||"All Teams"===e.teamName&&"debit"===e.type)),Ve=i.filter(e=>"debit"===e.type).reduce((e,t)=>e+(t.amount||0),0),He=i.filter(e=>"credit"===e.type).reduce((e,t)=>e+(t.amount||0),0),qe=Ve-He,Ge={};W.filter(e=>"ALL_TEAMS_MULTIPLIER"!==e).forEach(e=>{Ge[e]={totalDebits:0,totalCredits:0,netBalance:0,totalDebitsLessEntryFee:0,winningsExtraFees:0}}),i.forEach(e=>{if("All Teams"===e.teamName&&"debit"===e.type&&e.teamsInvolvedCount>0){const t=e.amount/e.teamsInvolvedCount;W.filter(e=>"ALL_TEAMS_MULTIPLIER"!==e).forEach(n=>{Ge[n]&&(Ge[n].totalDebits+=t,"entry_fee"!==e.category&&(Ge[n].totalDebitsLessEntryFee+=t))})}else Ge[e.teamName]&&("debit"===e.type?(Ge[e.teamName].totalDebits+=e.amount||0,"entry_fee"!==e.category&&(Ge[e.teamName].totalDebitsLessEntryFee+=e.amount||0)):"credit"===e.type&&(Ge[e.teamName].totalCredits+=e.amount||0))}),Object.keys(Ge).forEach(e=>{Ge[e].netBalance=Ge[e].totalCredits-Ge[e].totalDebits,Ge[e].winningsExtraFees=Ge[e].totalCredits-Ge[e].totalDebitsLessEntryFee});const Ke=W.filter(e=>"ALL_TEAMS_MULTIPLIER"!==e),Ye=(e,t,n)=>{const r=[...Se];r[e][t]=n,_e(r)},Qe=(e,t,n)=>{const r=[...ke];r[e][t]=n,Ee(r)},Xe=10*Ie-10,Je=ze.slice(Xe,Xe+10),Ze=Math.ceil(ze.length/10),et=(0,t.useMemo)(()=>{const e=new Set;return a.forEach(t=>{const r=n(String(t.teamName||"").trim());r&&"All Teams"!==r&&e.add(r)}),Array.from(e).sort()},[a,n]);return(0,ib.jsxs)("div",{className:"w-full max-w-4xl bg-white p-8 rounded-lg shadow-md mt-4 mx-auto",children:[(0,ib.jsx)("h2",{className:"text-3xl font-extrabold text-blue-800 mb-6 text-center",children:"League Financial Tracker"}),(0,ib.jsxs)("div",{className:"flex justify-center mb-6",children:[(0,ib.jsx)("button",{onClick:()=>Re("transactions"),className:"px-6 py-2 rounded-t-lg font-semibold transition-colors duration-200 "+("transactions"===De?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Transactions"}),(0,ib.jsx)("button",{onClick:()=>Re("overall_history"),className:"px-6 py-2 rounded-t-lg font-semibold transition-colors duration-200 "+("overall_history"===De?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Overall Financial History"})]}),(0,ib.jsxs)("div",{className:"mb-4 text-center text-sm text-gray-600 p-2 bg-blue-50 rounded",children:[Me&&Le&&(0,ib.jsx)("span",{className:"font-semibold mt-1",children:"You are logged in as the Commish."}),B&&!Le&&(0,ib.jsx)("div",{className:"mt-4",children:ve?(0,ib.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ge(null),M)try{await function(e,t,n){return fw(e.app)?Promise.reject(Uw(e)):N_(tx(e),u_.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&O_(e),t})}(M,he,pe),fe(""),me(""),C(null),be(!1)}catch(I){ge(`Login failed: ${I.message}`)}else ge("Authentication service not initialized.")},className:"flex flex-col items-center space-y-2",children:[(0,ib.jsx)("p",{className:"text-gray-700 font-semibold mb-2",children:"Enter Commish Credentials"}),(0,ib.jsx)("input",{type:"email",placeholder:"Commish Email",value:he,onChange:e=>fe(e.target.value),required:!0,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full max-w-xs"}),(0,ib.jsx)("input",{type:"password",placeholder:"Password",value:pe,onChange:e=>me(e.target.value),required:!0,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full max-w-xs"}),(0,ib.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md transition-colors w-full max-w-xs",children:"Login (Commish Only)"}),ye&&(0,ib.jsx)("p",{className:"text-red-500 text-sm mt-2",children:ye}),(0,ib.jsx)("button",{type:"button",onClick:()=>be(!1),className:"text-gray-500 hover:text-gray-700 text-sm mt-2",children:"Hide Login"})]}):(0,ib.jsx)("button",{onClick:()=>be(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md transition-colors w-full max-w-xs",children:"Commish Login"})}),B&&Le&&(0,ib.jsx)("div",{className:"mt-4",children:(0,ib.jsx)("button",{onClick:async()=>{if(M)try{await function(e){return tx(e).signOut()}(M),ge(null),C(null)}catch(I){ge(`Logout failed: ${I.message}`)}},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-md transition-colors",children:"Logout (Commish)"})})]}),P?(0,ib.jsx)("p",{className:"text-center text-blue-600 font-semibold",children:"Loading financial data..."}):(0,ib.jsxs)(ib.Fragment,{children:[I&&(0,ib.jsx)("p",{className:"text-center text-red-600 font-semibold mb-4",children:I}),"transactions"===De&&(0,ib.jsxs)(ib.Fragment,{children:[Q.length>0&&(0,ib.jsxs)("div",{className:"flex justify-center items-center mb-4 p-2 bg-blue-50 rounded-lg shadow-sm",children:[(0,ib.jsx)("label",{htmlFor:"seasonFilter",className:"mr-2 font-semibold text-blue-700",children:"View/Add Data For Season:"}),(0,ib.jsx)("select",{id:"seasonFilter",value:K||"",onChange:e=>{const t=parseInt(e.target.value);Y(isNaN(t)?null:t),Ce(1),we("")},className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:Q.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))})]}),(0,ib.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,ib.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg shadow-sm text-center",children:[(0,ib.jsx)("h3",{className:"text-lg font-semibold text-red-700",children:"Total Fees"}),(0,ib.jsx)("p",{className:"text-2xl font-bold text-red-900",children:TC(Ve)})]}),(0,ib.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg shadow-sm text-center",children:[(0,ib.jsx)("h3",{className:"text-lg font-semibold text-green-700",children:"Total Payouts"}),(0,ib.jsx)("p",{className:"text-2xl font-bold text-green-900",children:TC(He)})]}),(0,ib.jsxs)("div",{className:"p-4 rounded-lg shadow-sm text-center "+(qe>=0?"bg-green-100":"bg-red-100"),children:[(0,ib.jsx)("h3",{className:"text-lg font-semibold text-blue-700",children:"League Bank"}),(0,ib.jsx)("p",{className:"text-2xl font-bold "+(qe>=0?"text-green-900":"text-red-900"),children:TC(qe)})]}),(0,ib.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg shadow-sm text-center",children:[(0,ib.jsx)("h3",{className:"text-lg font-semibold text-yellow-700",children:"Transaction Pot"}),(0,ib.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:TC(Pe)})]})]}),Le?(0,ib.jsxs)("section",{className:"mb-8 p-6 bg-gray-50 rounded-lg shadow-inner",children:[(0,ib.jsxs)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:["Add New Transaction (",K||"selected",")"]}),(0,ib.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C(null),re(null),!D||!F)return void C("Database not ready or user not authenticated. Cannot add transaction.");if(!Le)return void C("You do not have permission to add transactions.");if(isNaN(parseFloat(l))||parseFloat(l)<=0)return void C("Please enter a valid positive amount.");if(!u.trim()&&"waiver_fa_fee"!==p&&("trade_fee"!==p||"single_team"!==N))return void C("Description cannot be empty.");let t=[];const n=OC();if("debit"===h&&"trade_fee"===p){if("multi_team"===N){const e=S.filter(e=>""!==e.trim());if(e.length<2)return void C("Please select at least two teams for a trade fee.");if(new Set(e).size!==e.length)return void C("Duplicate teams detected for trade fee. Please select unique teams.");for(const r of e)t.push({amount:parseFloat(l),description:u.trim(),type:h,teamName:r,date:n,userId:F,category:p,season:K,weekNumber:q,teamsInvolvedCount:1})}else if("single_team"===N){if(!x.trim())return void C("Please select a team for the single team trade entry.");if(isNaN(T)||T<=0)return void C("Please enter a valid positive number of trades.");t.push({amount:parseFloat(l)*T,description:`Trade Fee: ${x} - ${T} trade(s)`,type:h,teamName:x,date:n,userId:F,category:p,season:K,weekNumber:q,numTrades:T,teamsInvolvedCount:1})}}else if("debit"===h&&"waiver_fa_fee"===p){if(0===k.length||k.some(e=>!e.team||e.numPickups<=0))return void C("Please add at least one valid waiver/FA entry with a team and positive number of pickups.");const e=parseFloat(l);for(const r of k)r.team&&r.numPickups>0&&t.push({amount:e*r.numPickups,description:`Waiver/FA Fee: ${r.team} - ${r.numPickups} pickup(s)`,type:h,teamName:r.team,date:n,userId:F,category:p,season:K,weekNumber:q,numPickups:r.numPickups});if(0===t.length)return void C("No valid waiver/FA entries to add.")}else{if(!x.trim()&&"ALL_TEAMS_MULTIPLIER"!==x)return void C("Please select an Associated Team.");let e=parseFloat(l),r=x,i=1;if("debit"===h&&"ALL_TEAMS_MULTIPLIER"===x){if(0===J)return void C("Cannot process 'All Teams' transaction: No active teams found in the selected season.");e*=J,r="All Teams",i=J}else"credit"===h&&"ALL_TEAMS_MULTIPLIER"===x&&(r="All Teams");if(t.push({amount:e,description:u.trim(),type:h,teamName:r,date:n,userId:F,category:p,season:K,weekNumber:q,teamsInvolvedCount:i}),"credit"===h)if("weekly_1st_points"===p||"weekly_2nd_points"===p){if(!y||isNaN(parseInt(y)))return void C("Please enter a valid week number for weekly points payouts.");const e=parseInt(y);t[0].weekNumber=e;const n=V[e];if(!n)return void C(`No score data found for Week ${e} in the selected season. Transaction not added.`);if("weekly_1st_points"===p&&n.highest)t[0].teamName=n.highest.team,t[0].description=`Payout: Weekly 1st Points - ${n.highest.team} (${n.highest.score} pts)`;else{if("weekly_2nd_points"!==p||!n.secondHighest)return void C(`Could not find a winning team for ${p.replace(/_/g," ")} in Week ${e} for the selected season. Transaction not added.`);t[0].teamName=n.secondHighest.team,t[0].description=`Payout: Weekly 2nd Points - ${n.secondHighest.team} (${n.secondHighest.score} pts)`}}else if("side_pot"===p){if(!v.trim())return void C("Please enter a name for the side pot.");t[0].potName=v.trim()}}try{const e=vI(D,`/artifacts/${{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id"}/public/data/financial_transactions`);for(const n of t)await wC(e,n);c(""),d(""),f("debit"),m(Fe("debit")[0].value),w(""),_(["",""]),E([{team:"",numPickups:1}]),g(""),b(""),j(1),O("multi_team"),C(null),re(null)}catch(r){C(`Failed to add transaction: ${r.message}. Please try again.`)}},className:"space-y-4",children:[(0,ib.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ib.jsxs)("div",{className:"flex-1",children:[(0,ib.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,ib.jsx)("input",{type:"number",id:"amount",value:l,onChange:e=>c(e.target.value),placeholder:"waiver_fa_fee"===p?"e.g., 1.00 (per pickup)":"trade_fee"===p&&"single_team"===N?"e.g., 2.00 (per trade)":"e.g., 50.00",step:"0.01",min:"0.01",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,ib.jsxs)("div",{className:"flex-1",children:[(0,ib.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Type"}),(0,ib.jsxs)("select",{id:"type",value:h,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,ib.jsx)("option",{value:"debit",children:"Fee"}),(0,ib.jsx)("option",{value:"credit",children:"Payout"})]})]})]}),(0,ib.jsxs)("div",{className:"flex-1",children:[(0,ib.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,ib.jsx)("select",{id:"category",value:p,onChange:e=>{m(e.target.value),g(""),b(""),w(""),_(["",""]),E([{team:"",numPickups:1}]),d(""),j(1),O("multi_team")},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:Fe(h).map(e=>(0,ib.jsx)("option",{value:e.value,children:e.label},e.value))})]}),!("debit"===h&&"waiver_fa_fee"===p)&&!("debit"===h&&"trade_fee"===p&&"single_team"===N)&&(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,ib.jsx)("input",{type:"text",id:"description",value:u,onChange:e=>d(e.target.value),placeholder:"e.g., Annual League Entry, Weekly Winnings",maxLength:"100",required:!0,readOnly:ee,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none ${ee?"bg-gray-200 cursor-not-allowed":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} sm:text-sm`})]}),("weekly_1st_points"===p||"weekly_2nd_points"===p)&&(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"weeklyPointsWeek",className:"block text-sm font-medium text-gray-700 mb-1",children:"Week Number (defaults to latest for selected season)"}),(0,ib.jsx)("input",{type:"number",id:"weeklyPointsWeek",value:y,onChange:e=>g(e.target.value),placeholder:"e.g., 1, 5, 14",min:"0",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),"side_pot"===p&&(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"sidePotName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Side Pot Name"}),(0,ib.jsx)("input",{type:"text",id:"sidePotName",value:v,onChange:e=>b(e.target.value),placeholder:"e.g., Draft Day Pot, Playoff Pool",maxLength:"50",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),"debit"===h&&"trade_fee"===p?(0,ib.jsxs)("div",{className:"space-y-4",children:[(0,ib.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Trade Entry Method:"}),(0,ib.jsxs)("div",{className:"flex space-x-4",children:[(0,ib.jsxs)("label",{className:"inline-flex items-center",children:[(0,ib.jsx)("input",{type:"radio",className:"form-radio text-blue-600",value:"multi_team",checked:"multi_team"===N,onChange:()=>{O("multi_team"),w(""),j(1)}}),(0,ib.jsx)("span",{className:"ml-2",children:"Multiple Teams (Current Method)"})]}),(0,ib.jsxs)("label",{className:"inline-flex items-center",children:[(0,ib.jsx)("input",{type:"radio",className:"form-radio text-blue-600",value:"single_team",checked:"single_team"===N,onChange:()=>{O("single_team"),_(["",""])}}),(0,ib.jsx)("span",{className:"ml-2",children:"Single Team (Enter Number of Trades)"})]})]}),"multi_team"===N?(0,ib.jsxs)("div",{className:"space-y-2",children:[(0,ib.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teams Involved in Trade (Min 2)"}),S.map((e,t)=>(0,ib.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ib.jsxs)("select",{value:e,onChange:e=>((e,t)=>{const n=[...S];n[e]=t,_(n)})(t,e.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,ib.jsx)("option",{value:"",children:"Select Team"}),Ke.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))]}),S.length>1&&(0,ib.jsx)("button",{type:"button",onClick:()=>{return e=t,void _(S.filter((t,n)=>n!==e));var e},className:"p-2 bg-red-400 text-white rounded-md hover:bg-red-500 transition-colors text-sm",children:"Remove"})]},t)),(0,ib.jsx)("button",{type:"button",onClick:()=>{_([...S,""])},className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2",children:"Add Another Team"})]}):(0,ib.jsxs)("div",{className:"space-y-2",children:[(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"singleTeamTradeTeamName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Associated Team"}),(0,ib.jsxs)("select",{id:"singleTeamTradeTeamName",value:x,onChange:e=>w(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,ib.jsx)("option",{value:"",children:"Select Team"}),Ke.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))]})]}),(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"numTrades",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Trades"}),(0,ib.jsx)("input",{type:"number",id:"numTrades",value:T,onChange:e=>j(parseInt(e.target.value)||0),placeholder:"e.g., 3",min:"1",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}):"debit"===h&&"waiver_fa_fee"===p?(0,ib.jsxs)("div",{className:"space-y-2",children:[(0,ib.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waiver/FA Pickups (Enter per team)"}),k.map((e,t)=>(0,ib.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[(0,ib.jsxs)("select",{value:e.team,onChange:e=>$e(t,"team",e.target.value),required:!0,className:"flex-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,ib.jsx)("option",{value:"",children:"Select Team"}),Ke.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))]}),(0,ib.jsx)("input",{type:"number",value:e.numPickups,onChange:e=>$e(t,"numPickups",e.target.value),placeholder:"Pickups",min:"1",required:!0,className:"w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),k.length>1&&(0,ib.jsx)("button",{type:"button",onClick:()=>{return e=t,void E(k.filter((t,n)=>n!==e));var e},className:"p-2 bg-red-400 text-white rounded-md hover:bg-red-500 transition-colors text-sm",children:"Remove"})]},t)),(0,ib.jsx)("button",{type:"button",onClick:()=>{E([...k,{team:"",numPickups:1}])},className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2",children:"Add Another Waiver Entry"})]}):(0,ib.jsxs)("div",{children:[(0,ib.jsx)("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Associated Team"}),(0,ib.jsxs)("select",{id:"teamName",value:x,onChange:e=>{w(e.target.value),te(!1),re(null)},required:!0,disabled:We,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none ${ee?"bg-gray-200 cursor-not-allowed":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} sm:text-sm`,children:[(0,ib.jsx)("option",{value:"",children:"Select Team"}),"debit"===h&&(0,ib.jsx)("option",{value:"ALL_TEAMS_MULTIPLIER",children:"All Teams (Multiplied)"}),Ke.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))]}),ne&&(0,ib.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:ne}),ee&&x&&(0,ib.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Automatically determined: ",x]})]}),(0,ib.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Transaction"})]})]}):null,(0,ib.jsxs)("section",{children:[(0,ib.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"Transaction History"}),(0,ib.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ib.jsxs)("div",{className:"w-1/2",children:[(0,ib.jsx)("label",{htmlFor:"filterTeam",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Team:"}),(0,ib.jsxs)("select",{id:"filterTeam",value:xe,onChange:e=>{we(e.target.value),Ce(1)},className:"mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full",children:[(0,ib.jsx)("option",{value:"",children:"Show All Teams"}),W.filter(e=>"ALL_TEAMS_MULTIPLIER"!==e).map(e=>(0,ib.jsx)("option",{value:e,children:e},e)),(0,ib.jsx)("option",{value:"All Teams",children:"Transactions for 'All Teams'"})]})]}),Le&&le.length>0&&(0,ib.jsxs)("button",{onClick:()=>{le.length>0&&de(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-md shadow-md transition-colors text-sm flex-shrink-0 ml-4",children:["Delete Selected (",le.length,")"]})]}),0===ze.length?(0,ib.jsxs)("p",{className:"text-center text-gray-600",children:["No transactions recorded yet",xe&&` for ${xe}`,"."]}):(0,ib.jsxs)("div",{className:"overflow-x-auto",children:[(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-100",children:(0,ib.jsxs)("tr",{children:[Le&&(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 w-12",children:(0,ib.jsx)("input",{type:"checkbox",checked:le.length===Je.length&&Je.length>0,onChange:()=>{le.length===Je.length&&Je.length>0?ce([]):ce(Je.map(e=>e.id))},className:"form-checkbox h-4 w-4 text-blue-600"})}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Date"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Description"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Amount"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Type"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Category"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Week"}),Le&&(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Actions"})]})}),(0,ib.jsx)("tbody",{children:Je.map((e,t)=>{var n;let r=(e.amount||0).toFixed(2);const i=e.teamsInvolvedCount>0?e.teamsInvolvedCount:J;return""!==xe&&"All Teams"!==xe&&"All Teams"===e.teamName&&"debit"===e.type&&i>0&&(r=(e.amount/i).toFixed(2)),(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[Le&&(0,ib.jsx)("td",{className:"py-2 px-4 text-sm border-b border-gray-200",children:(0,ib.jsx)("input",{type:"checkbox",checked:le.includes(e.id),onChange:()=>{return t=e.id,void ce(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"form-checkbox h-4 w-4 text-blue-600"})}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:null!==(n=e.date)&&void 0!==n&&n.toDate?e.date.toDate().toLocaleDateString():"N/A"}),(0,ib.jsxs)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:[e.description,"side_pot"===e.category&&e.potName&&` (${e.potName})`]}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:e.teamName||"-"}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right border-b border-gray-200",children:(0,ib.jsx)("span",{className:("debit"===e.type?"text-red-700":"text-green-700")+" font-medium",children:TC(parseFloat(r))})}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(0,ib.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold "+("debit"===e.type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:"debit"===e.type?"Fee":"Payout"})}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200 capitalize",children:e.category?e.category.replace(/_/g," "):"General"}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:0===e.weekNumber?"Pre":e.weekNumber||"-"}),Le&&(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:(0,ib.jsx)("button",{onClick:()=>(se(e),void oe(!0)),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-2 py-1 rounded-md shadow-sm transition-colors duration-200",title:"Delete Transaction",children:"Delete"})})]},e.id)})})]}),Ze>1&&(0,ib.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,ib.jsx)("button",{onClick:()=>{Ie>1&&Ce(Ie-1)},disabled:1===Ie,className:"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(Ze)].map((e,t)=>(0,ib.jsx)("button",{onClick:()=>Ce(t+1),className:"px-3 py-1 rounded-md "+(Ie===t+1?"bg-blue-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:t+1},t+1)),(0,ib.jsx)("button",{onClick:()=>{Ie<Ze&&Ce(Ie+1)},disabled:Ie===Ze,className:"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),Object.keys(Ge).length>0&&(0,ib.jsxs)("section",{className:"mt-8 p-6 bg-gray-50 rounded-lg shadow-inner",children:[(0,ib.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"Team Financial Summary (Current Season)"}),(0,ib.jsx)("div",{className:"overflow-x-auto",children:(0,ib.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,ib.jsx)("thead",{className:"bg-blue-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team Name"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Total Fees"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Total Payouts"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Net Balance"}),(0,ib.jsx)("th",{className:"py-3 px-4 text-right text-sm font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Winnings/(Extra Fees)"})]})}),(0,ib.jsx)("tbody",{children:Object.entries(Ge).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).map((e,t)=>{let[n,r]=e;return(0,ib.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-gray-700 border-b border-gray-200",children:n}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right text-gray-900 font-medium border-b border-gray-200",children:TC(r.totalDebits)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right text-gray-900 font-medium border-b border-gray-200",children:TC(r.totalCredits)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right font-bold border-b border-gray-200 "+(r.netBalance>=0?"text-green-900":"text-red-900"),children:TC(r.netBalance)}),(0,ib.jsx)("td",{className:"py-2 px-4 text-sm text-right font-bold border-b border-gray-200 "+(r.winningsExtraFees>=0?"text-green-900":"text-red-900"),children:TC(r.winningsExtraFees)})]},n)})})]})})]}),(0,ib.jsxs)("section",{className:"mt-8 p-6 bg-gray-50 rounded-lg shadow-inner",children:[(0,ib.jsxs)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:["League Fee & Payout Structure (",K||"selected",")"]}),Le&&!Ne&&(0,ib.jsx)("div",{className:"text-center mb-4",children:(0,ib.jsx)("button",{onClick:()=>Oe(!0),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md shadow-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit Structure"})}),Te?(0,ib.jsx)("p",{className:"text-center text-blue-600",children:"Loading structure..."}):Ne?(0,ib.jsxs)("div",{className:"space-y-6",children:[(0,ib.jsxs)("div",{children:[(0,ib.jsx)("h4",{className:"text-xl font-semibold text-red-700 mb-3",children:"Fees"}),Se.map((e,t)=>(0,ib.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 mb-2 items-center",children:[(0,ib.jsx)("input",{type:"text",value:e.name,onChange:e=>Ye(t,"name",e.target.value),placeholder:"Fee Name",className:"flex-1 px-3 py-2 border rounded-md"}),(0,ib.jsx)("input",{type:"text",value:e.amount,onChange:e=>Ye(t,"amount",e.target.value),placeholder:"Amount",className:"w-24 px-3 py-2 border rounded-md"}),(0,ib.jsx)("input",{type:"text",value:e.description,onChange:e=>Ye(t,"description",e.target.value),placeholder:"Description (optional)",className:"flex-1 px-3 py-2 border rounded-md"}),(0,ib.jsx)("button",{type:"button",onClick:()=>{return e=t,void _e(Se.filter((t,n)=>n!==e));var e},className:"p-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:"Remove"})]},t)),(0,ib.jsx)("button",{type:"button",onClick:()=>{_e([...Se,{name:"",amount:"",description:""}])},className:"mt-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md",children:"Add Fee Item"})]}),(0,ib.jsxs)("div",{children:[(0,ib.jsx)("h4",{className:"text-xl font-semibold text-green-700 mb-3",children:"Payouts"}),ke.map((e,t)=>(0,ib.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 mb-2 items-center",children:[(0,ib.jsx)("input",{type:"text",value:e.name,onChange:e=>Qe(t,"name",e.target.value),placeholder:"Payout Name",className:"flex-1 px-3 py-2 border rounded-md"}),(0,ib.jsx)("input",{type:"text",value:e.amount,onChange:e=>Qe(t,"amount",e.target.value),placeholder:"Amount (optional)",className:"w-24 px-3 py-2 border rounded-md"}),(0,ib.jsx)("input",{type:"text",value:e.description,onChange:e=>Qe(t,"description",e.target.value),placeholder:"Description (optional)",className:"flex-1 px-3 py-2 border rounded-md"}),(0,ib.jsx)("button",{type:"button",onClick:()=>{return e=t,void Ee(ke.filter((t,n)=>n!==e));var e},className:"p-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:"Remove"})]},t)),(0,ib.jsx)("button",{type:"button",onClick:()=>{Ee([...ke,{name:"",amount:"",description:""}])},className:"mt-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md",children:"Add Payout Item"})]}),(0,ib.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,ib.jsx)("button",{type:"button",onClick:async()=>{if(D&&Le&&null!==K){je(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id",t=Se.map(e=>{const t=String(e.amount||"").replace(/[^0-9.]/g,""),n=parseFloat(t);return{name:String(e.name||""),amount:isNaN(n)?null:String(e.amount||""),description:String(e.description||"")}}),n=ke.map(e=>{const t=String(e.amount||"").replace(/[^0-9.]/g,""),n=parseFloat(t);return{name:String(e.name||""),amount:isNaN(n)?null:String(e.amount||""),description:String(e.description||"")}});console.log("Saving debit structure:",t),console.log("Saving credit structure:",n);const r=bI(D,`/artifacts/${e}/public/data/league_structure/${K}`);await function(e,t,n){e=dI(e,yI);const r=dI(e.firestore,SI),i=pC(e.converter,t,n);return _C(r,[FI(LI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dT.none())])}(r,{fees:t,payouts:n,lastUpdated:OC()}),Oe(!1),C(null)}catch(e){C(`Failed to save league structure for season ${K}: ${e.message}`)}finally{je(!1)}}else C("Cannot save structure: Not authenticated as commish, database not ready, or no season selected.")},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md shadow-md",children:"Save Structure"}),(0,ib.jsx)("button",{type:"button",onClick:()=>{Oe(!1),C(null)},className:"px-6 py-2 bg-gray-400 hover:bg-gray-500 text-gray-800 font-bold rounded-md shadow-md",children:"Cancel"})]})]}):(0,ib.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ib.jsxs)("div",{children:[(0,ib.jsx)("h4",{className:"text-xl font-semibold text-red-700 mb-3",children:"Fees"}),(0,ib.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:Se.map((e,t)=>(0,ib.jsxs)("li",{children:[(0,ib.jsxs)("strong",{children:[e.name,":"]})," ",e.amount,e.description&&` - ${e.description}`]},t))})]}),(0,ib.jsxs)("div",{children:[(0,ib.jsx)("h4",{className:"text-xl font-semibold text-green-700 mb-3",children:"Payouts"}),(0,ib.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:ke.map((e,t)=>(0,ib.jsxs)("li",{children:[(0,ib.jsxs)("strong",{children:[e.name,":"]})," ",e.amount,e.description&&` - ${e.description}`]},t))})]})]})]})]}),"overall_history"===De&&(0,ib.jsx)(jC,{allTransactions:a,getDisplayTeamName:n,uniqueTeamsForOverallHistory:et})]}),ie&&(0,ib.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50",children:(0,ib.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center",children:[(0,ib.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Confirm Deletion"}),(0,ib.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this transaction? This action cannot be undone."}),(0,ib.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ib.jsx)("button",{type:"button",onClick:()=>{oe(!1),se(null)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md transition-colors",children:"Cancel"}),(0,ib.jsx)("button",{type:"button",onClick:async()=>{var e;if(oe(!1),ae&&D&&F)if(Le)try{const t=bI(D,`/artifacts/${{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id"}/public/data/financial_transactions`,ae.id);await(e=t,_C(dI(e.firestore,SI),[new kT(e._key,dT.none())])),C(null),se(null),ce([])}catch(t){C(`Failed to delete transaction: ${t.message}. Please check your permissions.`)}else C("You do not have permission to delete transactions.");else C("Cannot delete: Invalid transaction or not authenticated.")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:"Delete"})]})]})}),ue&&(0,ib.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50",children:(0,ib.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center",children:[(0,ib.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Confirm Bulk Deletion"}),(0,ib.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",le.length," selected transactions? This action cannot be undone."]}),(0,ib.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ib.jsx)("button",{type:"button",onClick:()=>{de(!1)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md transition-colors",children:"Cancel"}),(0,ib.jsx)("button",{type:"button",onClick:async()=>{var e;if(de(!1),D&&F)if(Le)try{const t=(kI(e=dI(e=D,SI)),new EC(e,t=>_C(e,t))),n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID||"default-app-id";le.forEach(e=>{const r=bI(D,`/artifacts/${n}/public/data/financial_transactions`,e);t.delete(r)}),await t.commit(),C(null),ce([])}catch(t){C(`Failed to delete selected transactions: ${t.message}.`)}else C("You do not have permission to delete transactions.");else C("Database not ready or user not authenticated. Cannot delete transactions.")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:"Delete All Selected"})]})]})})]})},AC=()=>{var e,n;const{loading:r,error:o,leagueData:a,usersData:s,rostersBySeason:l,nflPlayers:c,allDraftHistory:u,getTeamName:d}=db(),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(null),[y,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{var e;if(!a||!u||!s||!l)return void console.warn("Sleeper context data not fully loaded in Dashboard.");const t=null===(e=a.settings)||void 0===e?void 0:e.week,n=a.season;try{const e=t?await async function(e,t){return Bv(`${Fv}/league/${e}/transactions/${t}`,`transactions_${e}_${t}`,1)}(i,t):[];f(e)}catch(r){console.error("Error fetching transactions:",r)}if(u&&u.length>0){const e=u.find(e=>e.season===n&&"pre_draft"===e.status&&e.start_time);m(e?e.start_time:null)}else m(null)})()},[a,u,s,l]),(0,t.useEffect)(()=>{let e;if(p){const t=()=>{const t=(new Date).getTime(),n=p-t;if(n<0)clearInterval(e),g("Draft has started!");else{const e=Math.floor(n/864e5),t=Math.floor(n%864e5/36e5),r=Math.floor(n%36e5/6e4),i=Math.floor(n%6e4/1e3);g(`${e}d ${t}h ${r}m ${i}s`)}};t(),e=setInterval(t,1e3)}else g(null);return()=>{e&&clearInterval(e)}},[p]);const v=(0,t.useCallback)(e=>d(e),[d]),b=(0,t.useCallback)(e=>{const t=c[e];return t?`${t.first_name} ${t.last_name}`:`Unknown Player (${e})`},[c]);if(r)return(0,ib.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,ib.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ib.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ib.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ib.jsx)("p",{className:"text-lg font-medium",children:"Loading dashboard data..."})]});if(o)return(0,ib.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,ib.jsxs)("p",{children:["Error loading dashboard: ",o.message||o]}),(0,ib.jsx)("p",{children:"Please ensure your Sleeper API calls are correctly configured and you have an active internet connection."})]});const x=[...(null!==a&&void 0!==a&&a.season?l[a.season]:[])||[]].sort((e,t)=>{var n,r,i,o;const a=(null===(n=e.settings)||void 0===n?void 0:n.fpts_against)||0,s=(null===(r=t.settings)||void 0===r?void 0:r.fpts_against)||0,l=(null===(i=e.settings)||void 0===i?void 0:i.fpts)||0,c=(null===(o=t.settings)||void 0===o?void 0:o.fpts)||0;return a!==s?a-s:c-l});return(0,ib.jsxs)("div",{className:"container mx-auto p-4 md:p-6 bg-white shadow-lg rounded-lg",children:[(0,ib.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:[(null===a||void 0===a?void 0:a.name)||"Fantasy League"," Dashboard (",(null===a||void 0===a?void 0:a.season)||"Current"," Season)"]}),p&&y&&(0,ib.jsxs)("div",{className:"text-center bg-blue-100 text-blue-800 p-3 rounded-md mb-8 shadow-sm",children:[(0,ib.jsxs)("p",{className:"text-xl font-semibold",children:["Draft Countdown: ",(0,ib.jsx)("span",{className:"font-bold",children:y})]}),(0,ib.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["(Draft scheduled for"," ",new Date(p).toLocaleDateString()," ","at"," ",new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),")"]})]}),!p&&(null===a||void 0===a||null===(e=a.settings)||void 0===e?void 0:e.week)&&(0,ib.jsxs)("p",{className:"text-xl text-gray-700 text-center mb-8",children:["Current Week: ",(0,ib.jsx)("span",{className:"font-semibold",children:a.settings.week})]}),(0,ib.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[(0,ib.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-inner",children:[(0,ib.jsx)("h3",{className:"text-2xl font-semibold text-blue-700 mb-4 border-b pb-2",children:"Current Standings"}),(0,ib.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ib.jsx)("thead",{className:"bg-gray-100",children:(0,ib.jsxs)("tr",{children:[(0,ib.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tl-md",children:"Rank"}),(0,ib.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,ib.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"W-L"}),(0,ib.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tr-md",children:"FPts"})]})}),(0,ib.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length>0?x.map((e,t)=>{var n,r,i,o;return(0,ib.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,ib.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),(0,ib.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:v(e.owner_id)}),(0,ib.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:[(null===(n=e.settings)||void 0===n?void 0:n.wins)||0,"-",(null===(r=e.settings)||void 0===r?void 0:r.losses)||0]}),(0,ib.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:[null===(i=e.settings)||void 0===i?void 0:i.fpts,".",String((null===(o=e.settings)||void 0===o?void 0:o.fpts_decimal)||"0").padStart(2,"0")]})]},e.roster_id)}):(0,ib.jsx)("tr",{children:(0,ib.jsx)("td",{colSpan:"4",className:"px-3 py-4 text-center text-sm text-gray-500",children:"No roster data available for this season."})})})]})]}),(0,ib.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-inner",children:[(0,ib.jsxs)("h3",{className:"text-2xl font-semibold text-blue-700 mb-4 border-b pb-2",children:["Recent Transactions (",null!==a&&void 0!==a&&null!==(n=a.settings)&&void 0!==n&&n.week?`Week ${a.settings.week}`:"N/A",")"]}),h.length>0?(0,ib.jsx)("ul",{className:"space-y-4",children:h.slice(0,5).map(e=>(0,ib.jsxs)("li",{className:"bg-white p-4 rounded-md shadow-sm",children:[(0,ib.jsxs)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:[(0,ib.jsx)("span",{className:"capitalize font-bold text-blue-600",children:e.type.replace("_"," ")}),(0,ib.jsxs)("span",{className:"text-gray-500 ml-2 text-xs",children:["(",new Date(e.created).toLocaleString(),")"]})]}),e.adds&&Object.keys(e.adds).length>0&&(0,ib.jsxs)("div",{className:"flex items-center text-sm text-green-700 mt-2",children:[(0,ib.jsx)("span",{className:"mr-2",children:"\u2714"})," ",(0,ib.jsx)("span",{className:"font-semibold",children:"Added:"}),Object.entries(e.adds).map(e=>{var t;let[n,r]=e;return(0,ib.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,ib.jsx)("img",{src:$v(n),alt:b(n),className:"w-6 h-6 rounded-full mr-1",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/150x150/cccccc/000000?text=No+Headshot"}}),b(n)," (",v(null===(t=s.find(e=>e.roster_id===r))||void 0===t?void 0:t.userId),")"]},n)})]}),e.drops&&Object.keys(e.drops).length>0&&(0,ib.jsxs)("div",{className:"flex items-center text-sm text-red-700 mt-2",children:[(0,ib.jsx)("span",{className:"mr-2",children:"\u2716"})," ",(0,ib.jsx)("span",{className:"font-semibold",children:"Dropped:"}),Object.entries(e.drops).map(e=>{var t;let[n,r]=e;return(0,ib.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,ib.jsx)("img",{src:$v(n),alt:b(n),className:"w-6 h-6 rounded-full mr-1",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/150x150/cccccc/000000?text=No+Headshot"}}),b(n)," (",v(null===(t=s.find(e=>e.roster_id===r))||void 0===t?void 0:t.userId),")"]},n)})]}),"trade"===e.type&&e.roster_ids&&(0,ib.jsxs)("p",{className:"text-sm text-gray-800 mt-2",children:["Involved: ",e.roster_ids.map(e=>{var t,n;return v(null===(t=l[a.season])||void 0===t||null===(n=t.find(t=>t.roster_id===e))||void 0===n?void 0:n.owner_id)}).join(" and "),e.draft_picks&&e.draft_picks.length>0&&(0,ib.jsx)("span",{className:"ml-2 italic",children:"(Draft picks involved)"}),e.waiver_budget&&e.waiver_budget.length>0&&(0,ib.jsx)("span",{className:"ml-2 italic",children:"(FAAB involved)"})]})]},e.transaction_id))}):(0,ib.jsx)("p",{className:"text-sm text-gray-500",children:"pre_draft"===(null===a||void 0===a?void 0:a.status)?"No transactions available before the draft begins.":"No recent transactions for this week."})]})]})]})},IC=()=>{const{loading:e,error:n,historicalData:r,getTeamName:i}=db(),[o,a]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!e&&!n&&r&&Object.keys(r.leaguesMetadataBySeason).length>0){const e=Object.keys(r.leaguesMetadataBySeason).sort((e,t)=>parseInt(t)-parseInt(e));e.length>0&&null===o&&a(parseInt(e[0]))}},[r,e,n,o]);const s=(0,t.useCallback)(e=>{a(parseInt(e.target.value))},[]),l=r?Object.keys(r.leaguesMetadataBySeason).sort((e,t)=>parseInt(t)-parseInt(e)):[];if(e||null===o)return(0,ib.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,ib.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ib.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ib.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ib.jsx)("p",{className:"text-lg font-medium",children:"Loading matchup history and league data..."})]});if(n)return(0,ib.jsxs)("div",{className:"text-center text-red-600 p-4 bg-red-100 border border-red-400 rounded-md",children:[(0,ib.jsx)("p",{className:"font-semibold text-lg",children:"Error loading Matchup History:"}),(0,ib.jsx)("p",{children:n.message||n}),(0,ib.jsx)("p",{className:"mt-2 text-sm",children:"Please check your Sleeper API configuration and network connection."})]});if(!r||0===Object.keys(r.leaguesMetadataBySeason).length)return(0,ib.jsxs)("div",{className:"text-center p-4 bg-yellow-100 border border-yellow-400 rounded-md",children:[(0,ib.jsx)("p",{className:"text-lg font-medium text-yellow-800",children:"No historical matchup data available from Sleeper API."}),(0,ib.jsx)("p",{className:"text-yellow-700 text-sm",children:"This might mean the league ID is incorrect, or there's no data for previous seasons."})]});const c=r.leaguesMetadataBySeason[o],u=r.matchupsBySeason[o];if(!c||!u||0===Object.keys(u).length)return(0,ib.jsxs)("div",{className:"text-center p-4 bg-orange-100 border border-orange-400 rounded-md",children:[(0,ib.jsxs)("p",{className:"text-lg font-medium text-orange-800",children:["No matchup data found for the selected ",o," season."]}),(0,ib.jsx)("p",{className:"text-orange-700 text-sm",children:"Please select another year, or verify data for this season."}),(0,ib.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,ib.jsx)("label",{htmlFor:"year-select",className:"mr-2 text-gray-700 font-medium",children:"Select Season:"}),(0,ib.jsx)("select",{id:"year-select",value:o,onChange:s,className:"p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))})]})]});const d=Object.keys(u).sort((e,t)=>parseInt(e)-parseInt(t));return(0,ib.jsxs)("div",{className:"container mx-auto p-4",children:[(0,ib.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 mb-6 text-center",children:"Historical Matchup Data (Sleeper API)"}),(0,ib.jsx)("p",{className:"text-lg text-gray-700 mb-8 text-center max-w-2xl mx-auto",children:"Select a season from the dropdown below to view its historical matchup data."}),(0,ib.jsxs)("div",{className:"flex justify-center mb-8",children:[(0,ib.jsx)("label",{htmlFor:"year-select",className:"mr-2 text-gray-700 font-medium",children:"Select Season:"}),(0,ib.jsx)("select",{id:"year-select",value:o,onChange:s,className:"p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))})]}),(0,ib.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6 mb-8 border border-gray-200",children:[(0,ib.jsxs)("h3",{className:"text-2xl font-bold text-blue-700 mb-5 border-b-2 border-blue-100 pb-3",children:["Season: ",o]}),(0,ib.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.length>0?d.map(e=>(0,ib.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[(0,ib.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Week ",e]}),u[e]&&u[e].length>0?(0,ib.jsx)("ul",{className:"space-y-3",children:u[e].map((t,n)=>(0,ib.jsxs)("li",{className:"flex flex-col space-y-1 p-2 bg-white border border-gray-200 rounded-md shadow-sm",children:[(0,ib.jsxs)("div",{className:"flex justify-between text-sm text-gray-700",children:[(0,ib.jsx)("span",{className:"font-medium "+(t.winner_roster_id===t.team1_roster_id?"font-bold":"text-gray-500"),children:i(t.team1_roster_id,o)}),(0,ib.jsx)("span",{className:"font-bold "+(t.winner_roster_id===t.team1_roster_id?"text-gray-900":"text-gray-500"),children:t.team1_score?t.team1_score.toFixed(2):"N/A"})]}),(0,ib.jsxs)("div",{className:"flex justify-between text-sm text-gray-700",children:[(0,ib.jsx)("span",{className:"font-medium "+(t.winner_roster_id===t.team2_roster_id?"font-bold":"text-gray-500"),children:i(t.team2_roster_id,o)}),(0,ib.jsx)("span",{className:"font-bold "+(t.winner_roster_id===t.team2_roster_id?"text-gray-900":"text-gray-500"),children:t.team2_score?t.team2_score.toFixed(2):"N/A"})]}),null===t.winner_roster_id&&(0,ib.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:(0,ib.jsx)("strong",{children:"Tie"})})]},`matchup-${o}-${e}-${t.matchup_id}`))}):(0,ib.jsx)("p",{className:"text-gray-600 text-sm italic",children:"No matchup data for this week."})]},`${o}-week-${e}`)):(0,ib.jsx)("p",{className:"text-gray-600 italic col-span-full",children:"No matchup data found for the selected season."})})]},o)]})},CC=()=>{const{loading:e,error:n,careerDPRData:r,getTeamName:i}=db(),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!e&&!n&&r){const e=r.map(e=>i(e.ownerId,null)).filter(e=>e&&!e.startsWith("Unknown Team (ID:")).sort((e,t)=>e.localeCompare(t));l(e),e.length>0&&!o&&a(e[0])}},[e,n,r,i,o]);return e?(0,ib.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"Loading league data for teams..."}):n?(0,ib.jsxs)("div",{className:"w-full p-8 text-center text-red-500 font-semibold",children:["Error loading league data: ",n.message||String(n)]}):0===s.length?(0,ib.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"No teams found or data is not yet available."}):(0,ib.jsxs)("div",{className:"container mx-auto p-4",children:[(0,ib.jsxs)("div",{className:"mb-6 text-center",children:[(0,ib.jsx)("label",{htmlFor:"team-select",className:"block text-lg font-medium text-gray-700 mb-2",children:"Select a Team:"}),(0,ib.jsx)("select",{id:"team-select",value:o,onChange:e=>{a(e.target.value)},className:"mt-1 block w-full md:w-1/2 lg:w-1/3 mx-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm",children:s.map(e=>(0,ib.jsx)("option",{value:e,children:e},e))})]}),o&&(0,ib.jsx)(Ob,{teamName:o})]})},DC={HOME:{label:"Dashboard",tab:"dashboard"},POWER_RANKINGS:{label:"Power Rankings",tab:"powerRankings"},LEAGUE_DATA:{label:"League Data",subTabs:[{label:"League History",tab:"leagueHistory"},{label:"Record Book",tab:"recordBook"},{label:"Head-to-Head",tab:"headToHead"},{label:"DPR Analysis",tab:"dprAnalysis"},{label:"Luck Rating",tab:"luckRating"},{label:"Matchup History",tab:"matchupHistory"}]},TEAMS:{label:"Teams",tab:"teamsOverview"},FINANCIALS:{label:"Financials",tab:"financials"}},RC="dashboard",MC="powerRankings",LC="leagueHistory",FC="recordBook",UC="headToHead",BC="dprAnalysis",$C="luckRating",WC="financials",zC="matchupHistory",VC="teamsOverview",HC=()=>{const{loading:e,error:n,historicalData:r,usersData:i}=db(),[o,a]=(0,t.useState)(RC),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),d=e=>{a(e),l(!1),u(null)};return(0,ib.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col font-inter",children:[(0,ib.jsx)("script",{src:"https://cdn.tailwindcss.com"}),(0,ib.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,ib.jsx)("header",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,ib.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,ib.jsx)("h1",{className:"text-2xl font-bold",children:"Fantasy Football History"}),(0,ib.jsx)("button",{className:"md:hidden text-white text-2xl",onClick:()=>{l(!s)},children:"\u2630"})]})}),(0,ib.jsx)("nav",{className:"bg-gray-700 text-white shadow-lg md:block "+(s?"block":"hidden"),children:(0,ib.jsxs)("ul",{className:"flex flex-col md:flex-row md:justify-center py-2",children:[(0,ib.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 my-0.5 md:my-0",onClick:()=>d(DC.HOME.tab),children:DC.HOME.label}),(0,ib.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 my-0.5 md:my-0",onClick:()=>d(DC.POWER_RANKINGS.tab),children:DC.POWER_RANKINGS.label}),(0,ib.jsxs)("li",{className:"relative px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 my-0.5 md:my-0",onClick:()=>{var e;u(c===(e="leagueData")?null:e)},children:[DC.LEAGUE_DATA.label," ",(0,ib.jsx)("span",{className:"ml-1",children:"\u25bc"}),"leagueData"===c&&(0,ib.jsx)("ul",{className:"absolute md:top-full md:left-0 bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:DC.LEAGUE_DATA.subTabs.map(e=>(0,ib.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md",onClick:t=>{var n;t.stopPropagation(),n=e.tab,a(n),l(!1),u(null)},children:e.label},e.tab))})]}),(0,ib.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 my-0.5 md:my-0",onClick:()=>d(DC.TEAMS.tab),children:DC.TEAMS.label}),(0,ib.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 my-0.5 md:my-0",onClick:()=>d(DC.FINANCIALS.tab),children:DC.FINANCIALS.label})]})}),(0,ib.jsx)("main",{className:"flex-grow container mx-auto p-4",children:(()=>{if(e)return(0,ib.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,ib.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,ib.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,ib.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading Sleeper fantasy data..."}),(0,ib.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This might take a moment as we fetch historical league information."})]})});if(n)return(0,ib.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,ib.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,ib.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,ib.jsxs)("p",{className:"text-base",children:["Failed to load historical data: ",n.message||String(n)]}),(0,ib.jsx)("p",{className:"text-sm mt-2",children:"Please check your internet connection or the Sleeper API configuration in `config.js` and `sleeperApi.js`."})]})});switch(o){case RC:return(0,ib.jsx)(AC,{});case MC:return(0,ib.jsx)(lb,{});case LC:return(0,ib.jsx)(hb,{});case FC:return(0,ib.jsx)(gb,{historicalMatchups:r.matchupsBySeason});case UC:return(0,ib.jsx)(Pb,{});case BC:return(0,ib.jsx)(vb,{});case $C:return(0,ib.jsx)(bb,{historicalMatchups:r.matchupsBySeason});case VC:return(0,ib.jsx)(CC,{});case WC:return(0,ib.jsx)(PC,{});case zC:return(0,ib.jsx)(IC,{});default:return(0,ib.jsx)(AC,{})}})()}),(0,ib.jsx)("footer",{className:"bg-gray-800 text-white text-center p-3 mt-auto",children:(0,ib.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Fantasy Football History. All rights reserved."]})})]})},qC=()=>(0,ib.jsx)(ub,{children:(0,ib.jsx)(HC,{})}),GC=document.getElementById("root");r.createRoot(GC).render((0,ib.jsx)(t.StrictMode,{children:(0,ib.jsx)(qC,{})}))})()})();
//# sourceMappingURL=main.f723e85a.js.map