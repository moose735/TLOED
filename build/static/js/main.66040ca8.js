/*! For license information please see main.66040ca8.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,o,i].join("|")+")"+c+l+")*"),d="(?:"+[s+r+"?",r,o,i,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,s,o,i){var l=-1,c=t.length;for(s||(s=a),i||(i=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,i):r(i,u):o||(i[i.length]=u)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),s=n(9841),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},891:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2021-champion.34e6429006ec20666e61.jpg"},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),s=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),s=n(6832),o=s&&s.isTypedArray,i=o?a(o):r;e.exports=i},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),a(e,function(e,a,s){r(n,a,t(e,a,s))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),s=n(2761),o=Function.prototype,i=Object.prototype,l=o.toString,c=i.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),s=n(9140),o=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var l=null==n?0:s(n);return l<0&&(l=o(i+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),s=n(9096),o=n(8883),i=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(s));var f=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return i(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2714:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2022-champion.89c19b30c0f504290fe9.jpg"},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function W(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,je=null;function _e(e){if(e=xa(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function Ne(e){ke?je?je.push(e):je=[e]:ke=e}function Pe(){if(ke){var e=ke,t=je;if(je=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Oe(){}var Ae=!1;function Te(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==ke||null!==je)&&(Oe(),Pe())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ce=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ce=!1}function Me(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Be=!1,Fe=null,We={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,a,s,o,i,l){Re=!1,Le=null,Me.apply(We,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=dt(i):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~a)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,jt,_t,Nt=!1,Pt=[],Et=null,Ot=null,At=null,Tt=new Map,It=new Map,Ct=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Wt(){Nt=!1,null!==Et&&Bt(Et)&&(Et=null),null!==Ot&&Bt(Ot)&&(Ot=null),null!==At&&Bt(At)&&(At=null),Tt.forEach(Ft),It.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Ot&&Ut(Ot,e),null!==At&&Ut(At,e),Tt.forEach(t),It.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ct.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function qt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function Kt(e,t,n,r){if(Ht){var a=Qt(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Rt(Et,e,t,n,r,a),!0;case"dragenter":return Ot=Rt(Ot,e,t,n,r,a),!0;case"mouseover":return At=Rt(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Rt(Tt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,It.set(s,Rt(It.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=va(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return jn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Nn),En=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Tn),Cn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Fn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){Br(e,0)}function Qn(e){if(K(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Te(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},jr={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=_r("animationend"),Pr=_r("animationiteration"),Er=_r("animationstart"),Or=_r("transitionend"),Ar=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Cr=0;Cr<Tr.length;Cr++){var Dr=Tr[Cr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Nr,"onAnimationEnd"),Ir(Pr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Wr(t,!1,e),Wr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=va(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Te(function(){var r=s,a=we(n),o=[];e:{var i=Ar.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Nr:case Pr:case Er:l=yn;break;case Or:l=An;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ie(m,h))&&u.push(Gr(m,p,f)))),d)break;m=m.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ma])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?i:ba(l),f=null==c?i:ba(c),(i=new u(p,m+"leave",l,n,a)).target=d,i.relatedTarget=f,p=null,va(a)===r&&((u=new u(h,m+"enter",c,n,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=h;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)h=Kr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,i,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Hn(i))if($n)g=or;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?ba(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Wn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,zn=!0)),0<(y=qr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Wn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Br(o,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ie(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=Ie(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Ie(n,s))&&o.unshift(Gr(n,l,i)):a||null!=(l=Ie(n,s))&&o.push(Gr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,ma="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var Sa=[],ka=-1;function ja(e){return{current:e}}function _a(e){0>ka||(e.current=Sa[ka],Sa[ka]=null,ka--)}function Na(e,t){ka++,Sa[ka]=e.current,e.current=t}var Pa={},Ea=ja(Pa),Oa=ja(!1),Aa=Pa;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ca(){_a(Oa),_a(Ea)}function Da(e,t,n){if(Ea.current!==Pa)throw Error(s(168));Na(Ea,t),Na(Oa,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Aa=Ea.current,Na(Ea,e),Na(Oa,Oa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ma(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,_a(Oa),_a(Ea),Na(Ea,e)):_a(Oa),Na(Oa,n)}var Ba=null,Fa=!1,Wa=!1;function Ua(e){null===Ba?Ba=[e]:Ba.push(e)}function za(){if(!Wa&&null!==Ba){Wa=!0;var e=0,t=xt;try{var n=Ba;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ke(Ze,za),a}finally{xt=t,Wa=!1}}return null}var Va=[],Ha=0,Ga=null,qa=0,Ka=[],Ya=0,Qa=null,Xa=1,$a="";function Ja(e,t){Va[Ha++]=qa,Va[Ha++]=Ga,Ga=e,qa=t}function Za(e,t,n){Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Qa=e;var r=Xa;e=$a;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,$a=s+e}else Xa=1<<s|n<<a|r,$a=e}function es(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ts(e){for(;e===Ga;)Ga=Va[--Ha],Va[Ha]=null,qa=Va[--Ha],Va[Ha]=null;for(;e===Qa;)Qa=Ka[--Ya],Ka[Ya]=null,$a=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Xa,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?u(e,t,n,r):null;case I:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function p(a,s,i,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(a,d,i[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=o(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===i.length)return n(a,d),as&&Ja(a,p),c;if(null===d){for(;p<i.length;p++)null!==(d=h(a,i[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&Ja(a,p),c}for(d=r(a,d);p<i.length;p++)null!==(g=m(d,a,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Ja(a,p),c}function g(a,i,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=i,g=i=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var x=f(a,p,v.value,c);if(null===x){null===p&&(p=y);break}e&&p&&null===x.alternate&&t(a,p),i=o(x,i,g),null===d?u=x:d.sibling=x,d=x,p=y}if(v.done)return n(a,p),as&&Ja(a,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return as&&Ja(a,g),u}for(p=r(a,p);!v.done;g++,v=l.next())null!==(v=m(p,a,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),as&&Ja(a,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&vs(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return i(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(o,r.mode,l)).return=r,r=s}return i(r);case I:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(M(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Lc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),Ss=ja(null),ks=null,js=null,_s=null;function Ns(){_s=js=ks=null}function Ps(e){var t=Ss.current;_a(Ss),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){ks=e,_s=js=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===js){if(null===ks)throw Error(s(308));js=e,ks.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Ts=null;function Is(e){null===Ts?Ts=[e]:Ts.push(e)}function Cs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Is(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ds(e,n)}return null===(a=r.interleaved)?(t.next=t,Is(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ds(e,n)}function Ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,p=i;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Gs=ja(Hs),qs=ja(Hs),Ks=ja(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Na(Ks,t),Na(qs,e),Na(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Gs),Na(Gs,t)}function Xs(){_a(Gs),_a(qs),_a(Ks)}function $s(e){Ys(Ks.current);var t=Ys(Gs.current),n=le(t,e.type);t!==n&&(Na(qs,e),Na(Gs,n))}function Js(e){qs.current===e&&(_a(Gs),_a(qs))}var Zs=ja(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function mo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,a)}while(uo)}if(ro.current=Jo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=io,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(xi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function jo(e,t){var n=oo,r=xo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,xi=!0),r=r.queue,Ro(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,To(9,No.bind(null,n,r,a,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&so)||_o(n,t,a)}return a}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Oo(e)}function Po(e,t,n){return n(function(){Eo(t)&&Oo(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Oo(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return xo().memoizedState}function Co(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=xo();r=void 0===r?null:r;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(a.memoizedState=To(t,n,s,r))}oo.flags|=e,a.memoizedState=To(1|t,n,s,r)}function Mo(e,t){return Co(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Bo(e,t){return Do(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Fo.bind(null,t,e),n)}function Uo(){}function zo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Go(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function qo(){return xo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Cs(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Is(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Cs(e,t,a,r))&&(nc(n,e,r,a=ec()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:As,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Co(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Go.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&so)||_o(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(Po.bind(null,r,o,e),[e]),r.flags|=2048,To(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Ol.identifierPrefix;if(as){var n=$a;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:As,useCallback:zo,useContext:As,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Bo,useMemo:Vo,useReducer:wo,useRef:Io,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(xo(),io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:jo,useId:qo,unstable_isNewReconciler:!1},ti={readContext:As,useCallback:zo,useContext:As,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Bo,useMemo:Vo,useReducer:So,useRef:Io,useState:function(){return So(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[So(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:jo,useId:qo,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Bs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Bs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Bs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,r))&&(nc(t,e,r,n),Ws(t,e,r))}};function si(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function oi(e,t,n){var r=!1,a=Pa,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=Ia(t)?Aa:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Pa),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=Ia(t)?Aa:Ea.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),zs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),di(0,t)},n}function mi(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=b.ReactCurrentOwner,xi=!1;function bi(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wi(e,t,n,r,a){n=n.render;var s=t.ref;return Os(t,a),r=go(e,t,n,r,s,a),n=yo(),null===e||xi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Si(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ki(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Cc(s,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(xi=!0)}}return Ni(e,t,n,r,a)}function ji(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Cl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Cl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Cl,Il),Il|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Cl,Il),Il|=r;return bi(e,t,a,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,a){var s=Ia(n)?Aa:Ea.current;return s=Ta(t,s),Os(t,a),n=go(e,t,n,r,s,a),r=yo(),null===e||xi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Pi(e,t,n,r,a){if(Ia(n)){var s=!0;Ra(t)}else s=!1;if(Os(t,a),null===t.stateNode)Vi(e,t),oi(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ta(t,c=Ia(n)?Aa:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Ms=!1;var h=t.memoizedState;o.state=h,zs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Oa.current||Ms?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ms||si(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ta(t,l=Ia(n)?Aa:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Ms=!1,h=t.memoizedState,o.state=h,zs(t,r,o,a);var m=t.memoizedState;i!==d||h!==m||Oa.current||Ms?("function"===typeof f&&(ri(t,n,f,r),m=t.memoizedState),(c=Ms||si(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,s,a)}function Ei(e,t,n,r,a,s){_i(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Hi(e,t,s);r=t.stateNode,vi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Oi(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Qs(e,t.containerInfo)}function Ai(e,t,n,r,a){return fs(),ms(a),t.flags|=256,bi(e,t,n,r),t.child}var Ti,Ii,Ci,Di,Mi={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Na(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Rc(l,a,0,null),e=Mc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(n),t.memoizedState=Mi,e):Bi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,r=ui(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Mi,o);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fi(e,t,i,r=ui(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=Ol)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ds(e,a),nc(r,e,a,-1))}return pc(),Fi(e,t,i,r=ui(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Xa=e.id,$a=e.overflow,Qa=t),t=Bi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Cc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Cc(r,i):(i=Mc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ri(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Mi,a}return e=(i=e.child).sibling,a=Cc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,n,r){return null!==r&&ms(r),bs(t,e.child,null,n),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function zi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(bi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return Ia(t.type)&&Ca(),qi(t),null;case 3:return r=t.stateNode,Xs(),_a(Oa),_a(Ea),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ii(e,t),qi(t),null;case 5:Js(t);var a=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ci(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qi(t),null}if(e=Ys(Gs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=Q(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Di(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return qi(t),null;case 13:if(_a(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):pc())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Xs(),Ii(e,t),null===e&&zr(t.stateNode.containerInfo),qi(t),null;case 10:return Ps(t.type._context),qi(t),null;case 19:if(_a(Zs),null===(o=t.memoizedState))return qi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gi(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Gi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return qi(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Gi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Na(Zs,r?1&n|2:1&n),t):(qi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yi(e,t){switch(ts(t),t.tag){case 1:return Ia(t.type)&&Ca(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),_a(Oa),_a(Ea),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(_a(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zs),null;case 4:return Xs(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ti=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ii=function(){},Ci=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ys(Gs.current);var s,o=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qi=!1,Xi=!1,$i="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[pa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Xi||Zi(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){jc(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xi=(r=Xi)||null!==n.memoizedState,hl(e,t,n),Xi=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(a,o),xe(l,i);var u=xe(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":J(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(a,!!o.multiple,m,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){jc(e,e.return,g)}}break;case 6:if(pl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){jc(e,e.return,g)}}break;case 3:if(pl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:pl(t,e),yl(e);break;case 13:pl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(u=Xi)||d,pl(t,e),Xi=u):pl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(h=Ji=d;null!==Ji;){switch(m=(f=Ji).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zi(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Ji=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){jc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ji=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var a=Ji,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Qi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xi;i=Qi;var c=Xi;if(Qi=o,(Xi=l)&&!c)for(Ji=a;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Ji=l):Sl(a);for(;null!==s;)Ji=s,xl(s,t,n),s=s.sibling;Ji=a,Qi=i,Xi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Ji=s):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xi||512&t.flags&&al(t)}catch(f){jc(t,t.return,f)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function wl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Sl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var s=t.return;try{al(t)}catch(l){jc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){jc(t,o,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var kl,jl=Math.ceil,_l=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,El=0,Ol=null,Al=null,Tl=0,Il=0,Cl=ja(0),Dl=0,Ml=null,Rl=0,Ll=0,Bl=0,Fl=null,Wl=null,Ul=0,zl=1/0,Vl=null,Hl=!1,Gl=null,ql=null,Kl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&El)&&e===Ol||(e===Ol&&(0===(2&El)&&(Ll|=n),4===Dl&&ic(e,Tl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(zl=$e()+500,Fa&&za()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ft(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=ht(e,e===Ol?Tl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&El)&&za()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var o=mc();for(Ol===e&&Tl===t||(Vl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),_l.current=o,El=a,null!==Al?t=0:(Ol=null,Tl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ml,hc(e,0),ic(e,r),rc(e,$e()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=mt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ml,hc(e,0),ic(e,r),rc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Wl,Vl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),t);break}wc(e,Wl,Vl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),r);break}wc(e,Wl,Vl);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=n,null!==t&&oc(t)),e}function oc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function ic(e,t){for(t&=~Bl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),ic(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Vl),rc(e,$e()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(zl=$e()+500,Fa&&za())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&El)&&Sc();var t=El;El|=1;var n=Pl.transition,r=xt;try{if(Pl.transition=null,xt=1,e)return e()}finally{xt=r,Pl.transition=n,0===(6&(El=t))&&za()}}function dc(){Il=Cl.current,_a(Cl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ca();break;case 3:Xs(),_a(Oa),_a(Ea),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:_a(Zs);break;case 10:Ps(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,Al=e=Cc(e.current,null),Tl=Il=t,Dl=0,Ml=null,Bl=Ll=Rl=0,Wl=Fl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Ts=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Ns(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Nl.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,yi(m,i,l,0,t),1&m.mode&&pi(o,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pi(o,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),ms(ci(c,l));break e}}o=c=ci(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[o]:Fl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,fi(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,mi(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Jo,null===e?Jo:e}function pc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Rl)&&0===(268435455&Ll)||ic(Ol,Tl)}function gc(e,t){var n=El;El|=2;var r=mc();for(Ol===e&&Tl===t||(Vl=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Ns(),El=n,_l.current=r,null!==Al)throw Error(s(261));return Ol=null,Tl=0,Dl}function yc(){for(;null!==Al;)xc(Al)}function vc(){for(;null!==Al&&!Qe();)xc(Al)}function xc(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Nl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Il)))return void(Al=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,a=Pl.transition;try{Pl.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Ol&&(Al=Ol=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Oc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var i=xt;xt=1;var l=El;El|=4,Nl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++d===r&&(c=i),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),El=l,xt=i,Pl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,za()}(e,t,n,r)}finally{Pl.transition=a,xt=r}return null}function Sc(){if(null!==Yl){var e=bt(Ql),t=Pl.transition,n=xt;try{if(Pl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ji=u;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ji=h;else for(;null!==Ji;){var f=(d=Ji).sibling,m=d.return;if(sl(d),d===u){Ji=null;break}if(null!==f){f.return=m,Ji=f;break}Ji=m}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ji=v;break e}Ji=o.return}}var x=e.current;for(Ji=x;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=x;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){jc(l,l.return,S)}if(l===i){Ji=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ji=w;break e}Ji=l.return}}if(El=a,za(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{xt=n,Pl.transition=t}}return!1}function kc(e,t,n){e=Fs(e,t=fi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fs(t,e=mi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Tl&n)===n&&(4===Dl||3===Dl&&(130023424&Tl)===Tl&&500>$e()-Ul?hc(e,0):Bl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Oc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Ac(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Ic(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Mc(n.children,a,o,t);case j:i=8,a|=8;break;case _:return(e=Tc(12,n,t,2|a)).elementType=_,e.lanes=o,e;case O:return(e=Tc(13,n,t,a)).elementType=O,e.lanes=o,e;case A:return(e=Tc(19,n,t,a)).elementType=A,e.lanes=o,e;case C:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case P:i=9;break e;case E:i=11;break e;case T:i=14;break e;case I:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=C,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,a,s,o,i,l){return e=new Fc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uc(e){if(!e)return Pa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Ma(e,n,t)}return t}function zc(e,t,n,r,a,s,o,i,l){return(e=Wc(n,r,!0,e,0,s,0,i,l)).context=Uc(null),n=e.current,(s=Bs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Vc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(a,t,o))&&(nc(e,a,o,s),Ws(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Oi(t),fs();break;case 5:$s(t);break;case 1:Ia(t.type)&&Ra(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(Ss,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(Na(Zs,1&Zs.current),null!==(e=Hi(e,t,n))?e.sibling:null);Na(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return Hi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,as&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var a=Ta(t,Ea.current);Os(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ei(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),bi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=Pi(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ni(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Pi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Oi(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ai(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=Ai(e,t,r,n,a=ci(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Hi(e,t,n);break e}bi(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),_i(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Na(Ss,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Oa.current){t=Hi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Es(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Os(t,n),r=r(a=As(a)),t.flags|=1,bi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),Si(e,t,r,a=ni(r.type,a),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Vi(e,t),t.tag=1,Ia(r)?(e=!0,Ra(t)):e=!1,Os(t,n),oi(t,r,a),li(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return zi(e,t,n);case 22:return ji(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}Vc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[ma]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ma]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[ma]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&El)&&(zl=$e()+500,za()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},jt=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),J(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,Ne,Pe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,o,i),e[ma]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[a(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),s=n(4052),o=n(4543),i=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&a(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,m=f?r(e.length,String):[],p=m.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||m.push(g);return m}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3225:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2023-champion.1abe39833d904b2f85f0.jpg"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),s=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),s=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:s)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),s=n(8114);e.exports=function(e,t,n,o,i,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var m=-1,p=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++m<u;){var y=e[m],v=t[m];if(o)var x=c?o(v,y,m,t,e,l):o(y,v,m,e,t,l);if(void 0!==x){if(x)continue;p=!1;break}if(g){if(!a(t,function(e,t){if(!s(g,t)&&(y===e||i(y,e,n,o,l)))return g.push(t)})){p=!1;break}}else if(y!==v&&!i(y,v,n,o,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),s=n(2597),o=n(914);e.exports=function(e){return s(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),s=n(801),o=Math.max,i=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,m=0,p=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,m=t,d=e.apply(r,n)}function x(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-m>=u}function b(){var e=a();if(x(e))return w(e);h=setTimeout(b,function(e){var n=t-(e-f);return g?i(n,u-(e-m)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=a(),n=x(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return m=e,h=setTimeout(b,t),p?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(b,t),v(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=s(t)||0,r(n)&&(p=!!n.leading,u=(g="maxWait"in n)?o(s(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:w(a())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!j.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),O(o,t,a,"",function(e){return e})):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(i=e[c],c);l+=O(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=O(i=i.value,t,a,u=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},C={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:C,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),s=n(1558),o=n(8114),i=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],m=f;if(n)h=!1,u=s;else if(d>=200){var p=t?null:i(e);if(p)return l(p);h=!1,u=o,m=new r}else m=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=m.length;v--;)if(m[v]===y)continue e;t&&m.push(y),f.push(g)}else u(m,y,n)||(m!==f&&m.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),s=n(2165),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:s;return n&&i(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),s=n(438),o=n(9394),i=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),s=n(3366),o=n(2597),i=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&i(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?s(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),s=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[r(e)]}},5452:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const r="undefined"!==typeof window;const a=function(){try{if(process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERBOSE_LOGS){const e=String({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERBOSE_LOGS).toLowerCase();if("1"===e||"true"===e)return!0;if("0"===e||"false"===e)return!1}}catch(e){}if(r)try{const e=window.localStorage.getItem("debugLogs");if(null!==e){const t=String(e).toLowerCase();return"1"===t||"true"===t}}catch(e){}return!1}(),s={debug:function(){a&&console&&console.debug&&console.debug(...arguments)},info:function(){a&&console&&console.info&&console.info(...arguments)},warn:function(){console&&console.warn&&console.warn(...arguments)},error:function(){console&&console.error&&console.error(...arguments)}}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),s=n(793),o=n(7760),i=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,i=a(s.length-t,0),l=Array(i);++o<i;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),s=n(6350);e.exports=function(e,t){return s(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,i){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var x=l?s(v,y,h,t,e,i):s(y,v,h,e,t,i);if(!(void 0===x?y===v||o(y,v,n,s,i):x)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(e),i.delete(t),p}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,o=t.criteria,i=s.length,l=n.length;++a<i;){var c=r(s[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5900:e=>{"use strict";e.exports=JSON.parse('{"description":"The iconic font, CSS, and SVG framework","keywords":["font","awesome","fontawesome","icon","svg","bootstrap"],"homepage":"https://fontawesome.com","bugs":{"url":"https://github.com/FortAwesome/Font-Awesome/issues"},"author":"The Font Awesome Team (https://github.com/orgs/FortAwesome/people)","repository":{"type":"git","url":"https://github.com/FortAwesome/Font-Awesome"},"engines":{"node":">=6"},"dependencies":{"@fortawesome/fontawesome-common-types":"6.7.2"},"version":"6.7.2","name":"@fortawesome/fontawesome-svg-core","main":"index.js","module":"index.mjs","jsnext:main":"index.mjs","style":"styles.css","license":"MIT","types":"./index.d.ts","exports":{".":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","style":"./styles.css","default":"./index.js"},"./index":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./index.js":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./plugins":{"types":"./index.d.ts","module":"./plugins.mjs","import":"./plugins.mjs","default":"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},"sideEffects":["./index.js","./index.mjs","./styles.css"]}')},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case i:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case p:case m:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),s=n(9987),o=n(5752),i=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,y){var v=l(e),x=l(t),b=v?h:i(e),w=x?h:i(t),S=(b=b==d?f:b)==f,k=(w=w==d?f:w)==f,j=b==w;if(j&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(j&&!S)return y||(y=new r),v||u(e)?a(e,t,n,p,g,y):s(e,t,b,n,p,g,y);if(!(1&n)){var _=S&&m.call(e,"__wrapped__"),N=k&&m.call(t,"__wrapped__");if(_||N){var P=_?e.value():e,E=N?t.value():t;return y||(y=new r),g(P,E,n,p,y)}}return!!j&&(y||(y=new r),o(e,t,n,p,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,o=t?s:-1,i=Object(n);(t?o--:++o<s)&&!1!==a(i[o],o,i););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,s){var o=n.length,i=o,l=!s;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(s)var m=s(d,h,u,e,t,f);if(!(void 0===m?a(h,d,3,s,f):m))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e===e,o=r(e),i=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||a&&i&&c||!n&&c||!s)return 1;if(!a&&!o&&!u&&e<t||u&&n&&s&&!a&&!o||l&&n&&s||!i&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&r.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),s=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),s=n(5387),o=n(2070),i=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",m="[object DataView]",p=c(r),g=c(a),y=c(s),v=c(o),x=c(i),b=l;(r&&b(new r(new ArrayBuffer(1)))!=m||a&&b(new a)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=h||i&&b(new i)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return m;case g:return u;case y:return d;case v:return h;case x:return f}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),s=n(6686),o=n(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?h:i).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,s,o,i){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),s=n(9096),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&i(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),s=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),s=n(4190),o=n(1946),i=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,C(S);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function S(e,n){p=!1,g&&(g=!1,v(N),N=-1),m=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,j=!1,_=null,N=-1,P=5,E=-1;function O(){return!(t.unstable_now()-E<P)}function A(){if(null!==_){var e=t.unstable_now();E=e;var n=!0;try{n=_(!0,e)}finally{n?k():(j=!1,_=null)}}else j=!1}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=A,k=function(){I.postMessage(null)}}else k=function(){y(A,0)};function C(e){_=e,j||(j=!0,k())}function D(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,C(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,D(w,s-o))):(e.sortIndex=i,n(c,e),p||m||(p=!0,C(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var i=new a(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],i]:e._events[l].push(i):(e._events[l]=i,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,o=new Array(s);a<s;a++)o[a]=r[a].fn;return o},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,a,s,o){var i=n?n+e:e;if(!this._events[i])return!1;var l,c,u=this._events[i],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,s),!0;case 6:return u.fn.call(u.context,t,r,a,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||a&&!i.once||r&&i.context!==r||o(this,s);else{for(var l=0,c=[],u=i.length;l<u;l++)(i[l].fn!==t||a&&!i[l].once||r&&i[l].context!==r)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),s=n(5647),o=n(929),i=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=i},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),s=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?s(t):void 0,i=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return i[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),s=n(2074),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,p=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),i?E(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),s>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/m|0,c[s]%=m;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,i?E(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=_(n)),s+=r;(n=7-(r=(o=e[t])+"").length)&&(s+=_(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(i=!1,t=w(N(n,o),N(e,o),o),i=!0,E(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(i=!1,t=w(n,e,0,1).times(e),i=!0,n.minus(t)):E(new r(n),a)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):O(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),i=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,o+2)).times(.5),b(s.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(E(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;o+=4}return i=!0,E(r,n)},y.times=y.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=p.length)&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],r=o=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+p[r]*f[a-r-1]+t,s[a--]=l%m|0,t=l/m|0;s[a]=(s[a]+t)%m|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,i?E(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,s),void 0===t?t=r.rounding:x(t,0,8),E(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,s),void 0===t?t=a.rounding:x(t,0,8),n=A(r=E(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?A(a):(x(e,0,s),void 0===t?t=o.rounding:x(t,0,8),n=A((r=E(new o(a),e+k(a)+1,t)).abs(),!1,e+k(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,s,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return E(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=p){for(s=new h(a),t=Math.ceil(r/7+4),i=!1;n%2&&T((s=s.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return i=!0,e.s<0?new h(a).div(s):E(s,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,i=!1,s=e.times(N(u,r+12)),i=!0,(s=S(s)).s=o,s},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=A(a,(n=k(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,s),void 0===t?t=o.rounding:x(t,0,8),r=A(a=E(new o(a),e,t),e<=(n=k(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,s),void 0===t?t=n.rounding:x(t,0,8)),E(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,o){var i,c,u,d,h,f,p,g,y,v,x,b,w,S,j,_,N,P,O=r.constructor,A=r.s==a.s?1:-1,T=r.d,I=a.d;if(!r.s)return new O(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,N=I.length,j=T.length,g=(p=new O(A)).d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,(b=null==s?s=O.precision:o?s+(k(r)-k(a))+1:s)<0)return new O(0);if(b=b/7+2|0,u=0,1==N)for(d=0,I=I[0],b++;(u<j||d)&&b--;u++)w=d*m+(T[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=m/(I[0]+1)|0)>1&&(I=e(I,d),T=e(T,d),N=I.length,j=T.length),S=N,v=(y=T.slice(0,N)).length;v<N;)y[v++]=0;(P=I.slice()).unshift(0),_=I[0],I[1]>=m/2&&++_;do{d=0,(i=t(I,y,N,v))<0?(x=y[0],N!=v&&(x=x*m+(y[1]||0)),(d=x/_|0)>1?(d>=m&&(d=m-1),1==(i=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?P:I,f))):(0==d&&(i=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==i&&(i=t(I,y,N,v=y.length))<1&&(d++,n(y,N<v?P:I,v)),v=y.length):0===i&&(d++,y=[0]),g[u++]=d,i&&y[0]?y[v++]=T[S]||0:(y=[T[S]],v=1)}while((S++<j||void 0!==y[0])&&b--)}return g[0]||g.shift(),p.e=c,E(p,o?s+k(p)+1:s)}}();function S(e,t){var n,r,s,o,l,c=0,d=0,f=e.constructor,m=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(a);for(null==t?(i=!1,l=m):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new f(a),f.precision=l;;){if(r=E(r.times(e),l),n=n.times(++c),b((o=s.plus(w(r,n,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;d--;)s=E(s.times(s),l);return f.precision=m,null==t?(i=!0,E(s,m)):s}s=o}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw i=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,s,o,c,u,d,h,f,m=1,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(a))return new y(0);if(null==t?(i=!1,h=v):h=t,p.eq(10))return null==t&&(i=!0),j(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),o=k(p),!(Math.abs(o)<15e14))return d=j(y,h+2,v).times(o+""),p=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(i=!0,E(p,v)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),m++;for(o=k(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1)),u=c=p=w(p.minus(a),p.plus(a),h),f=E(p.times(p),h),s=3;;){if(c=E(c.times(f),h),b((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(j(y,h+2,v).times(o+""))),u=w(u,new y(m),h),y.precision=v,null==t?(i=!0,E(u,v)):u;u=d,s+=2}}function P(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),i&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,a,s,o,l,c,f,p,y=e.d;for(o=1,s=y[0];s>=10;s/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[p=0];else{if((p=Math.ceil((r+1)/7))>=(s=y.length))return e;for(f=s=y[p],o=1;s>=10;s/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(s=h(10,o-a-1))%10|0,c=t<0||void 0!==y[p+1]||f%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(s=k(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,s=1,p--):(y.length=p+1,s=h(10,7-r),y[p]=a>0?(f/h(10,o-a)%h(10,a)|0)*s:0),c)for(;;){if(0==p){(y[0]+=s)==m&&(y[0]=1,++e.e);break}if(y[p]+=s,y[p]!=m)break;y[p--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(i&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function O(e,t){var n,r,a,s,o,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),i?E(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(p/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=m-1;--c[s],c[a]+=m}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,i?E(t,p):t):new f(0)}function A(e,t,n){var r,a=k(e),s=b(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+_(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+_(-a-1)+s,n&&(r=n-o)>0&&(s+=_(r))):a>=o?(s+=_(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+_(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=_(r))),e.s<0?"-"+s:s}function T(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);P(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),s=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),s=n(4052),o=n(9841),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),s=n(2154),o=n(8734),i=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),s=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),s=n(4052),o=n(9194),i=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&i(u)&&o(h,u)&&(s(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),s=n(3279),o=n(4052),i=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):i(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),s=n(715);e.exports=function(e){return a(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),s=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),s=n(8673);e.exports=function(e){return r(e,s,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:a;e.exports=i},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,s){for(var o=-1,i=n(t((r-e)/(a||1)),0),l=Array(i);i--;)l[s?i:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,s=e.length;++a<s;){var o=e[a],i=t(o);if(null!=i&&(void 0===l?i===i&&!r(i):n(i,l)))var l=i,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:s,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),s=n(3211),o=n(3668),i=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=i;case"[object Set]":var m=1&r;if(f||(f=l),e.size!=t.size&&!m)return!1;var p=h.get(e);if(p)return p==t;r|=2,h.set(e,t);var g=o(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),s=n(8673);e.exports=function(e){return function(t,n,o){var i=Object(t);if(!a(t)){var l=r(n,3);t=s(t),n=function(e){return l(i[e],e,i)}}var c=e(t,n,o);return c>-1?i[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Ls,scaleDiverging:()=>pd,scaleDivergingLog:()=>gd,scaleDivergingPow:()=>vd,scaleDivergingSqrt:()=>xd,scaleDivergingSymlog:()=>yd,scaleIdentity:()=>cl,scaleImplicit:()=>Ms,scaleLinear:()=>ll,scaleLog:()=>vl,scaleOrdinal:()=>Rs,scalePoint:()=>Fs,scalePow:()=>Pl,scaleQuantile:()=>Fl,scaleQuantize:()=>Wl,scaleRadial:()=>Al,scaleSequential:()=>ld,scaleSequentialLog:()=>cd,scaleSequentialPow:()=>dd,scaleSequentialQuantile:()=>fd,scaleSequentialSqrt:()=>hd,scaleSequentialSymlog:()=>ud,scaleSqrt:()=>El,scaleSymlog:()=>Sl,scaleThreshold:()=>Ul,scaleTime:()=>ad,scaleUtc:()=>sd,tickFormat:()=>ol});var t=n(5043),r=n(4391);const a=["Loading collusion logs\u2026","Simulating 14 different ways to screw over the commish","Rebalancing the league to favor whoever complains loudest\u2026","Finalizing another lopsided trade no one will admit was rigged","Sacrificing league integrity for one more win\u2026","Filing formal complaints\u2026 directly into the trash","Backstabbing in progress. Please wait\u2026","Checking if that \u2018fair trade\u2019 passed the smell test. (It didn\u2019t.","Reading league bylaws... oh wait, you guys don\u2019t follow those","Injecting drama into your matchup\u2026 please hold","Identifying the next trade rape in progress\u2026","Plotting against the commish...","Rewriting the rules mid-season...","Engineering a trade so bad it starts a group chat war...","Screwing over the league in 4K...","Making Power Rankings just to trigger people...","Refusing trades out of pure pettiness...","Rejected the trade just because I don\u2019t like you...","Approving it \u201cjust to watch the league burn\u201d...","The commish is on mute for league safety...","Called a league-wide vote, ignored the results...","Faking civility while plotting social warfare...","Editing messages mid-fight like a gaslighting wizard...","Plotting against the commish...."],s=(e,t,r,a)=>{const s={},o={};if(!e||0===Object.keys(e).length)return{seasonalMetrics:{},careerDPRData:[]};const i=Object.keys(e.matchupsBySeason||{}).map(Number).sort((e,t)=>e-t);if(0===i.length)return{seasonalMetrics:{},careerDPRData:[]};const l=null!==a&&void 0!==a&&a.season?parseInt(a.season):(new Date).getFullYear(),c=null!==a&&void 0!==a&&a.week?parseInt(a.week):1;let u=!1;const d=i.length>0?Math.max(...i):null;if(d&&e.winnersBracketBySeason[d]){const t=e.winnersBracketBySeason[d].find(e=>1===e.p);t&&t.w&&t.l&&(u=!0)}i.forEach(t=>{var a;const i=e.matchupsBySeason[t],u=e.leaguesMetadataBySeason[t],d=e.rostersBySeason[t],h=e.usersBySeason[t],f=e.winnersBracketBySeason[t],m=e.losersBracketBySeason[t];if(!i||!u||!d||!h){try{n(5452).A.error("calculateAllLeagueMetrics: Missing critical data for year ".concat(t,". Skipping this year."))}catch(_){}return}const p=parseInt(null===(a=u.settings)||void 0===a?void 0:a.playoff_start_week)||15;let g=!1;if(t<l)g=!0;else if(t===l){const e=null===f||void 0===f?void 0:f.find(e=>1===e.p);e&&e.w&&e.l&&(g=!0)}const y={};d.forEach(e=>{const a=e.owner_id,s=e.roster_id;if(!a||!s){try{n(5452).A.warn("Roster entry in year ".concat(t," is missing owner_id or roster_id. Skipping initialization. Roster:"),e)}catch(_){}return}const i=r(a,t);y[s]={teamName:i,ownerId:a,rosterId:s,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,weeklyScores:[],weeklyLuck:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualWinsRecord:0,seasonalExpectedWinsSum:0,rank:"N/A",pointsRank:"N/A",isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1},o[a]||(o[a]={teamName:r(a,null),ownerId:a,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,careerWeeklyScores:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualCareerWinsRecord:0,careerExpectedWinsSum:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,playoffAppearancesCount:0,totalLuckRating:0,totalDPRSum:0,seasonsWithDPRData:0})});const v=Math.max((f||[]).reduce((e,t)=>Math.max(e,t.r||0),0),(m||[]).reduce((e,t)=>Math.max(e,t.r||0),0)),x=p-1+v,b=new Map,w=new Map;i.forEach(e=>{const t=parseInt(e.week),n=t<p&&!isNaN(t);if(e.team1_roster_id&&e.team2_roster_id){const r=String(e.team1_roster_id),a=String(e.team2_roster_id),s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,s),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:o,isRegularSeasonMatch:n,hasOpponent:!0}),b.has(a)||b.set(a,new Map),b.get(a).set(t,o),w.has(a)||w.set(a,new Map),w.get(a).set(t,{opponentScore:s,isRegularSeasonMatch:n,hasOpponent:!0})}else if(e.team1_roster_id&&null===e.team2_roster_id){const r=String(e.team1_roster_id),a=parseFloat(e.team1_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,a),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:0,isRegularSeasonMatch:n,hasOpponent:!1})}});const S=new Map;i.forEach(e=>{const t=parseInt(e.week);S.has(t)||S.set(t,[]),e.team1_roster_id&&void 0!==e.team1_score&&!isNaN(e.team1_score)&&S.get(t).push({roster_id:String(e.team1_roster_id),score:parseFloat(e.team1_score)}),e.team2_roster_id&&void 0!==e.team2_score&&!isNaN(e.team2_score)&&S.get(t).push({roster_id:String(e.team2_roster_id),score:parseFloat(e.team2_score)})}),Object.keys(y).forEach(e=>{const n=y[e],r=n.ownerId;for(let i=1;i<=x;i++){var a,s;const u=null===(a=b.get(e))||void 0===a?void 0:a.get(i),d=null===(s=w.get(e))||void 0===s?void 0:s.get(i),h="number"===typeof u&&!isNaN(u),f=null===d||void 0===d?void 0:d.opponentScore,m=null===d||void 0===d?void 0:d.isRegularSeasonMatch,p=null===d||void 0===d?void 0:d.hasOpponent,g=h?u:0,y=t<l||t===l&&i<c;if(y&&(n.weeklyScores.push(g),n.pointsFor+=g),h&&y&&u>0&&(n.highScore=Math.max(n.highScore,u),n.lowScore=Math.min(n.lowScore,u)),y&&o[r]&&o[r].careerWeeklyScores.push(g),y&&p&&(u>0||f>0)&&(n.pointsAgainst+=f,n.totalGames++,u>f?n.wins++:u<f?n.losses++:n.ties++,m)){const t=S.get(i)||[];let a=0,s=0,l=0;t.forEach(t=>{String(t.roster_id)!==String(e)&&(l++,u>t.score?(n.allPlayWins++,o[r]&&o[r].allPlayWins++,a++):u<t.score?(n.allPlayLosses++,o[r]&&o[r].allPlayLosses++):(n.allPlayTies++,o[r]&&o[r].allPlayTies++,s++))});let c=0;l>0&&(c=(a+.5*s)/l,n.seasonalExpectedWinsSum+=c);const d=u>f?1:u===f?.5:0;n.actualWinsRecord+=d;const h=d-c;n.weeklyLuck.push(h);const m=t.reduce((e,t)=>Math.max(e,t.score),-1/0),p=[...t].sort((e,t)=>t.score-e.score),g=[];p[0]&&g.push(p[0].score),p[1]&&g.push(p[1].score),u===m&&n.topScoreWeeksCount++,g.includes(u)&&n.weeklyTop2ScoresCount++,f>0&&(u>1.4*f?n.blowoutWins++:u<.6*f?n.blowoutLosses++:u>f&&u-f<.025*f?n.slimWins++:u<f&&f-u<.025*f&&n.slimLosses++)}}}),s[t]={};Object.keys(y).forEach(e=>{const n=y[e],r=(n.ownerId,n.totalGames>0?n.pointsFor/n.totalGames:0),a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=((e,t,n,r)=>(6*e+2*(t+n)+200*r*2)/10)(r,n.highScore!==-1/0?n.highScore:0,n.lowScore!==1/0?n.lowScore:0,a),i=n.actualWinsRecord-n.seasonalExpectedWinsSum,l=n.allPlayWins+n.allPlayLosses+n.allPlayTies,c=l>0?(n.allPlayWins+.5*n.allPlayTies)/l:0;s[t][e]={teamName:n.teamName,rosterId:e,ownerId:n.ownerId,wins:n.wins,losses:n.losses,ties:n.ties,pointsFor:n.pointsFor,pointsAgainst:n.pointsAgainst,averageScore:r,winPercentage:a,rawDPR:o,luckRating:i,actualWinsRecord:n.actualWinsRecord,seasonalExpectedWinsSum:n.seasonalExpectedWinsSum,allPlayWins:n.allPlayWins,allPlayLosses:n.allPlayLosses,allPlayTies:n.allPlayTies,allPlayWinPercentage:c,topScoreWeeksCount:n.topScoreWeeksCount,blowoutWins:n.blowoutWins,blowoutLosses:n.blowoutLosses,slimWins:n.slimWins,slimLosses:n.slimLosses,weeklyTop2ScoresCount:n.weeklyTop2ScoresCount,weeklyLuck:n.weeklyLuck,adjustedDPR:0,totalGames:n.totalGames,highScore:n.highScore,lowScore:n.lowScore,isPlayoffTeam:!1,isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1,rank:"N/A",pointsRank:"N/A"}});const k=Object.values(s[t]).map(e=>e.rawDPR).filter(e=>0!==e),j=k.length>0?k.reduce((e,t)=>e+t,0)/k.length:0;if(Object.keys(s[t]).forEach(e=>{s[t][e].adjustedDPR=j>0?s[t][e].rawDPR/j:0}),g){const e=Object.values(s[t]).filter(e=>"number"===typeof e.pointsFor&&!isNaN(e.pointsFor)).sort((e,t)=>t.pointsFor-e.pointsFor);if(e.length>0){let n=1;for(let r=0;r<e.length;r++){const a=e[r];r>0&&a.pointsFor<e[r-1].pointsFor&&(n=r+1),s[t][a.rosterId]&&(s[t][a.rosterId].pointsRank=n,1===n?s[t][a.rosterId].isPointsChampion=!0:2===n?s[t][a.rosterId].isPointsRunnerUp=!0:3===n&&(s[t][a.rosterId].isThirdPlacePoints=!0))}e[0].rosterId}if(f&&m&&(f.length>0||m.length>0)){const e=new Map(d.map(e=>[String(e.roster_id),String(e.owner_id)])),a=((e,t,r,a,s)=>{const{winnersBracket:o,losersBracket:i}=e,l=new Map,c=e=>{const n=t.get(String(e));return{roster_id:e,owner_id:n,teamName:r(n,a)}},u=o.filter(e=>1===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(u){const e=String(u.w),t=String(u.l);if(!l.has(e)){l.set(e,1);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Champion: ").concat(c(e).teamName))}catch(_){}}if(!l.has(t)){l.set(t,2);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Runner-Up: ").concat(c(t).teamName))}catch(_){}}}const d=o.filter(e=>3===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(d){const e=String(d.w),t=String(d.l);if(!l.has(e)||l.get(e)>3){l.set(e,3);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 3rd Place: ").concat(c(e).teamName))}catch(_){}}if(!l.has(t)||l.get(t)>4){l.set(t,4);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 4th Place: ").concat(c(t).teamName))}catch(_){}}}const h=[...o,...i].filter(e=>e.w&&e.l&&"number"===typeof e.p&&1!==e.p&&3!==e.p).sort((e,t)=>e.p-t.p);h.forEach(e=>{const t=String(e.w),n=String(e.l);if(5===e.p&&i.includes(e))(!l.has(t)||l.get(t)>11)&&l.set(t,11),(!l.has(n)||l.get(n)>12)&&l.set(n,12);else{const r=e.p,a=e.p+1;(!l.has(t)||l.get(t)>r)&&l.set(t,r),(!l.has(n)||l.get(n)>a)&&l.set(n,a)}});const f=Array.from(t.keys());let m=f.filter(e=>!l.has(e));const p=new Map;[...o,...i].forEach(e=>{e.t1&&p.set(String(e.t1),Math.max(e.r,p.get(String(e.t1))||0)),e.t2&&p.set(String(e.t2),Math.max(e.r,p.get(String(e.t2))||0)),e.w&&p.set(String(e.w),Math.max(e.r,p.get(String(e.w))||0)),e.l&&p.set(String(e.l),Math.max(e.r,p.get(String(e.l))||0))});const g=m.filter(e=>p.has(e));g.sort((e,t)=>{const n=p.get(e)||0,r=p.get(t)||0;if(n!==r)return r-n;const a=s[e],o=s[t];if(!a&&!o)return 0;if(!a)return 1;if(!o)return-1;const i=a.totalGames>0?(a.wins+.5*a.ties)/a.totalGames:0,l=o.totalGames>0?(o.wins+.5*o.ties)/o.totalGames:0;return l!==i?l-i:o.pointsFor!==a.pointsFor?o.pointsFor-a.pointsFor:parseInt(e)-parseInt(t)});let y=1;const v=new Set(Array.from(l.values()).filter(e=>"number"===typeof e));for(;v.has(y);)y++;for(const n of g)if(!l.has(n))for(l.set(n,y),v.add(y),y++;v.has(y);)y++;const x=f.filter(e=>!l.has(e));x.sort((e,t)=>{const n=s[e],r=s[t];if(!n&&!r)return 0;if(!n)return 1;if(!r)return-1;const a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=r.totalGames>0?(r.wins+.5*r.ties)/r.totalGames:0;return o!==a?o-a:r.pointsFor!==n.pointsFor?r.pointsFor-n.pointsFor:parseInt(e)-parseInt(t)});let b=1;for(const n of l.values())"number"===typeof n&&(b=Math.max(b,n+1));for(;v.has(b);)b++;for(const n of x)if(!l.has(n))for(l.set(n,b),v.add(b),b++;v.has(b);)b++;const w=Array.from(l.entries()).map(e=>{let[t,n]=e;return{roster_id:t,playoffFinish:n}});return w.sort((e,t)=>("number"===typeof e.playoffFinish?e.playoffFinish:1/0)-("number"===typeof t.playoffFinish?t.playoffFinish:1/0)),w})({winnersBracket:f,losersBracket:m},e,r,parseInt(t),y);a.forEach(e=>{const n=e.roster_id,r=e.playoffFinish;s[t][n]&&(s[t][n].rank=r,s[t][n].isChampion=!1,s[t][n].isRunnerUp=!1,s[t][n].isThirdPlace=!1,1===r?s[t][n].isChampion=!0:2===r?s[t][n].isRunnerUp=!0:3===r&&(s[t][n].isThirdPlace=!0))})}else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].rank="N/A"})}else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].isPointsChampion=!1,s[t][e].isPointsRunnerUp=!1,s[t][e].isThirdPlacePoints=!1,s[t][e].rank="N/A",s[t][e].pointsRank="N/A"})});const h=[],f=[];Object.keys(o).forEach(e=>{const t=o[e];t.wins=0,t.losses=0,t.ties=0,t.pointsFor=0,t.pointsAgainst=0,t.totalGames=0,t.allPlayWins=0,t.allPlayLosses=0,t.allPlayTies=0,t.careerWeeklyScores=[],t.topScoreWeeksCount=0,t.blowoutWins=0,t.blowoutLosses=0,t.slimWins=0,t.slimLosses=0,t.weeklyTop2ScoresCount=0,t.actualCareerWinsRecord=0,t.careerExpectedWinsSum=0,t.championships=0,t.runnerUps=0,t.thirdPlaces=0,t.firstPoints=0,t.secondPoints=0,t.thirdPoints=0,t.playoffAppearancesCount=0,t.totalLuckRating=0,t.totalDPRSum=0,t.seasonsWithDPRData=0,Object.keys(s).forEach(n=>{const r=parseInt(n),a=s[r];if(a){const n=Object.values(a).find(t=>t.ownerId===e);n&&(t.wins+=n.wins,t.losses+=n.losses,t.ties+=n.ties,t.pointsFor+=n.pointsFor,t.pointsAgainst+=n.pointsAgainst,t.totalGames+=n.totalGames,t.actualCareerWinsRecord+=n.actualWinsRecord,t.allPlayWins+=n.allPlayWins,t.allPlayLosses+=n.allPlayLosses,t.allPlayTies+=n.allPlayTies,t.careerWeeklyScores.push(...n.weeklyScores||[]),t.topScoreWeeksCount+=n.topScoreWeeksCount||0,t.blowoutWins+=n.blowoutWins||0,t.blowoutLosses+=n.blowoutLosses||0,t.slimWins+=n.slimWins||0,t.slimLosses+=n.slimLosses||0,t.weeklyTop2ScoresCount+=n.weeklyTop2ScoresCount||0,t.totalLuckRating+=n.luckRating||0,t.careerExpectedWinsSum+=n.seasonalExpectedWinsSum||0,"number"===typeof n.rank&&n.rank<=6&&t.playoffAppearancesCount++,n.isChampion&&t.championships++,n.isRunnerUp&&t.runnerUps++,n.isThirdPlace&&t.thirdPlaces++,n.isPointsChampion&&t.firstPoints++,n.isPointsRunnerUp&&t.secondPoints++,n.isThirdPlacePoints&&t.thirdPoints++,void 0!==n.adjustedDPR&&null!==n.adjustedDPR&&n.totalGames>0&&(t.totalDPRSum+=n.adjustedDPR,t.seasonsWithDPRData++))}});let n=0;Object.values(s).forEach(t=>{const r={};Object.values(t).forEach(e=>{Array.isArray(e.weeklyScores)&&e.weeklyScores.forEach((t,n)=>{const a=n+1;r[a]||(r[a]=[]),r[a].push({ownerId:e.ownerId,score:t})})}),Object.entries(r).forEach(t=>{let[r,a]=t,s=-1/0;a.forEach(e=>{let{score:t}=e;"number"!==typeof t||isNaN(t)||t>s&&(s=t)}),a.forEach(t=>{let{ownerId:r,score:a}=t;r!==e||"number"!==typeof a||isNaN(a)||a!==s||s===-1/0||n++})})});let r=-1/0,a=1/0;Object.keys(s).forEach(t=>{const n=parseInt(t),o=Object.values(s[n]).find(t=>t.ownerId===e);if(o&&o.totalGames>0){const e=o.pointsFor/o.totalGames;e>r&&(r=e),e<a&&(a=e)}}),r===-1/0&&(r=0),a===1/0&&(a=0);const i=t.totalGames>0?t.pointsFor/t.totalGames:0,l=t.totalGames>0?(t.wins+.5*t.ties)/t.totalGames:0;let c=0;t.totalGames>0&&(c=(6*i+2*(r+a)+200*l*2)/10,f.push(c));const u=t.allPlayWins+t.allPlayLosses+t.allPlayTies,d=u>0?(t.allPlayWins+.5*t.allPlayTies)/u:0;t.actualCareerWinsRecord,t.careerExpectedWinsSum;h.push({ownerId:e,teamName:t.teamName,dpr:c,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,averageScore:i,winPercentage:l,totalGames:t.totalGames,allPlayWins:t.allPlayWins,allPlayLosses:t.allPlayLosses,allPlayTies:t.allPlayTies,allPlayWinPercentage:d,topScoreWeeksCount:t.topScoreWeeksCount,blowoutWins:t.blowoutWins,blowoutLosses:t.blowoutLosses,slimWins:t.slimWins,slimLosses:t.slimLosses,weeklyTop2ScoresCount:t.weeklyTop2ScoresCount,highScore:t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,lowScore:t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,weeklyHighScoreCount:n,totalLuckRating:t.totalLuckRating,highestSeasonalPointsAvg:r,lowestSeasonalPointsAvg:a,championships:t.championships,runnerUps:t.runnerUps,thirdPlaces:t.thirdPlaces,pointsChampionships:t.firstPoints,pointsRunnerUps:t.secondPoints,thirdPlacePoints:t.thirdPoints,playoffAppearancesCount:t.playoffAppearancesCount,actualCareerWinsRecord:t.actualCareerWinsRecord,careerExpectedWinsSum:t.careerExpectedWinsSum})});const m=[];Object.keys(s).forEach(e=>{const t=Object.values(s[e]).map(e=>"number"===typeof e.rawDPR?e.rawDPR:0).filter(e=>e>0);if(t.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length;m.push(e)}});const p=m.length>0?m.reduce((e,t)=>e+t,0)/m.length:0;return h.forEach(e=>{e.dpr=p>0?e.dpr/p:0}),h.sort((e,t)=>t.dpr-e.dpr),{seasonalMetrics:s,careerDPRData:h}};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d="1181984921049018368";new Set([]);var h=n(5452);const f="https://api.sleeper.app/v1",m=new Map;async function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=m.get(t),a=Date.now(),s=60*n*60*1e3;if(r&&a-r.timestamp<s)return h.A.debug("[Cache Hit] Returning cached data for ".concat(t)),r.data;try{h.A.debug("[Cache Miss] Fetching from ".concat(e," for ").concat(t));const r=await fetch(e);if(!r.ok){if(404===r.status)return h.A.warn("[API Error] 404 Not Found for ".concat(e,". Returning null.")),null;throw new Error("HTTP error! status: ".concat(r.status," for ").concat(e))}const s=await r.json();return m.set(t,{data:s,timestamp:a,expirationHours:n}),h.A.debug("[Cache Set] Data fetched and cached for ".concat(t,".")),s}catch(o){throw h.A.error("Error fetching ".concat(e,":"),o),o}}function g(e){return e?"https://sleepercdn.com/avatars/thumb/".concat(e):"https://sleeper.app/_next/static/images/default_avatar-e314631317c0a0c20a46960d705a2046.png"}async function y(e){return p("".concat(f,"/league/").concat(e),"league_details_".concat(e),1)}async function v(e){let t=[],n=e;if(!e||"0"===e||""===e)return h.A.error("CURRENT_LEAGUE_ID is invalid. Please ensure it's set correctly in config.js."),[];const r="league_chain_".concat(e),a=Date.now(),s=m.get(r);if(s&&a-s.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached league chain for ".concat(r)),s.data;try{for(;n;){const e=await y(n);e?(t.push(e),n=e.previous_league_id&&"0"!==e.previous_league_id&&""!==e.previous_league_id?e.previous_league_id:null):(h.A.warn("Could not fetch details for league ID ".concat(n,". Terminating historical league chain fetch.")),n=null)}}catch(o){h.A.error("Error fetching historical league chain:",o)}return m.set(r,{data:t,timestamp:a,expirationHours:24}),t}async function x(e){return p("".concat(f,"/league/").concat(e,"/users"),"users_".concat(e),24)}async function b(){return p("https://api.sleeper.app/v1/players/nfl","nfl_players",24)}async function w(){return p("".concat(f,"/state/nfl"),"nfl_state",.5)}async function S(e){return p("".concat(f,"/league/").concat(e,"/rosters"),"rosters_".concat(e),1)}async function k(e,t,n){let r=[];if("number"===typeof t)r=[t];else{if(!Array.isArray(t))return h.A.error("Invalid 'weeks' argument for fetchMatchupsForLeague. Must be a number or array of numbers."),{};r=t}const a={},s=await async function(e){const[t,n]=await Promise.all([S(e),x(e)]);if(!t||!n)return h.A.warn("Could not fetch rosters or users for league ".concat(e,".")),[];const r=new Map(n.map(e=>[e.user_id,e]));return t.map(e=>{var t;const n=r.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})})}(e),o=new Map(s.map(e=>[String(e.roster_id),e])),i=r.map(async t=>{try{const r=await p("".concat(f,"/league/").concat(e,"/matchups/").concat(t),"matchups_".concat(e,"_").concat(t),.5);r&&(a[t]=function(e,t,n,r){const a=[],s=new Set;return e?(e.forEach(o=>{const i=String(o.roster_id),l=parseFloat(o.points),c=o.matchup_id;if(isNaN(l))h.A.warn("[processRawMatchups] Skipping raw matchup entry for roster ".concat(i," in week ").concat(r," due to invalid points: ").concat(o.points));else if(null!==c){const u="".concat(c,"_").concat(r);if(!s.has(u)){const d=e.find(e=>e.matchup_id===c&&String(e.roster_id)!==i);if(d){const e=String(d.roster_id),f=parseFloat(d.points);if(isNaN(f))return void h.A.warn("[processRawMatchups] Skipping paired matchup for roster ".concat(i," in week ").concat(r," due to invalid opponent points: ").concat(d.points));const m=l,p=f,g=o.starters&&o.players_points?{starters:o.starters,players_points:o.players_points}:null,y=d.starters&&d.players_points?{starters:d.starters,players_points:d.players_points}:null,v={matchup_id:c,season:n,week:r,team1_roster_id:i,team1_score:m,team1_details:t.get(i),team1_players:g,team2_roster_id:e,team2_score:p,team2_details:t.get(e),team2_players:y};m>p?(v.winner_roster_id=i,v.loser_roster_id=e):p>m?(v.winner_roster_id=e,v.loser_roster_id=i):(v.winner_roster_id=null,v.loser_roster_id=null),a.push(v),s.add(u)}else h.A.warn("[processRawMatchups] Matchup ID ".concat(c," for roster ").concat(i," in week ").concat(r," has no apparent opponent. Treating as a bye.")),a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add("".concat(i,"_").concat(r,"_bye"))}}else{const e="".concat(i,"_").concat(r,"_bye");s.has(e)||(a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add(e))}}),a):[]}(r,o,n,t))}catch(r){h.A.error("Error fetching matchups for league ".concat(e,", week ").concat(t,":"),r)}});return await Promise.all(i),a}async function j(e){try{return await p("".concat(f,"/league/").concat(e,"/winners_bracket"),"winners_bracket_".concat(e),24)}catch(t){return h.A.error("Failed to fetch winners bracket for league ID ".concat(e,":"),t),[]}}async function _(e){try{return await p("".concat(f,"/league/").concat(e,"/losers_bracket"),"losers_bracket_".concat(e),24)}catch(t){return h.A.error("Failed to fetch losers bracket for league ID ".concat(e,":"),t),[]}}function N(e,t,n,r,a,s){if(h.A.debug("[enrichBracketWithScores] Starting for ".concat(a," bracket, season: ").concat(s,", raw data count: ").concat(e.length)),!e||0===e.length||!t||!n)return h.A.warn("[enrichBracketWithScores] Returning empty array due to missing input data for ".concat(a," bracket, season ").concat(s,".")),[];const o=[...e].sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m),i=new Map,l=e=>{if("number"===typeof e||"string"===typeof e)return String(e);if("object"===typeof e&&null!==e){if(e.w){const t=i.get(String(e.w));return t&&String(t.w)||null}if(e.l){const t=i.get(String(e.l));return t&&String(t.l)||null}}return null};return o.forEach(e=>{const o=String(e.m);h.A.debug("[enrichBracketWithScores] Processing ".concat(a," match M").concat(o," R").concat(e.r,", Season ").concat(s,":"),e);const c=u({},e),d=r+(e.r-1);c.week=d,c.playoffs=!0;const f=l(e.t1||e.t1_from),m=l(e.t2||e.t2_from);c.team1_roster_id=f,c.team2_roster_id=m,c.team1_details=n.get(f),c.team2_details=n.get(m),1===e.p?c.finalSeedingGame=1:3===e.p&&(c.finalSeedingGame=3),c.w=e.w?String(e.w):null,c.l=e.l?String(e.l):null;let p=null;const g=t[d];if(h.A.debug("[enrichBracketWithScores] Looking for matchups in week ".concat(d," for season ").concat(s,". Found ").concat(g?g.length:0," matchups.")),g&&g.length>0){if(f&&m&&(p=g.find(e=>String(e.team1_roster_id)===f&&String(e.team2_roster_id)===m||String(e.team1_roster_id)===m&&String(e.team2_roster_id)===f),p&&h.A.debug("[enrichBracketWithScores] Found matchup by resolved T1/T2 for M".concat(o," R").concat(e.r,"."))),!p&&(null===f||null===m)){const t=f||m;t&&(p=g.find(e=>String(e.team1_roster_id)===t&&null===e.team2_roster_id),p&&h.A.debug("[enrichBracketWithScores] Found bye matchup for ".concat(t," for M").concat(o," R").concat(e.r,".")))}!p&&e.m&&(p=g.find(t=>String(t.matchup_id)===String(e.m)),p&&h.A.debug("[enrichBracketWithScores] Found matchup by matchup_id for M".concat(o," R").concat(e.r,".")))}else h.A.warn("[enrichBracketWithScores] No weekly scores data found for playoff week ".concat(d," in season ").concat(s,"."));p?(String(p.team1_roster_id)===f?(c.t1_score=p.team1_score,c.t2_score=p.team2_score):String(p.team2_roster_id)===f?(c.t1_score=p.team2_score,c.t2_score=p.team1_score):(c.t1_score=p.team1_score,c.t2_score=p.team2_score),p.winner_roster_id&&(c.w=String(p.winner_roster_id)),p.loser_roster_id&&(c.l=String(p.loser_roster_id)),h.A.debug("[enrichBracketWithScores] Scores and W/L assigned for M".concat(o," R").concat(e.r,", Season ").concat(s,". Winner: ").concat(c.w,", Loser: ").concat(c.l,", T1 Score: ").concat(c.t1_score,", T2 Score: ").concat(c.t2_score))):(c.t1_score=null,c.t2_score=null,null===f&&null===m?h.A.debug("[enrichBracketWithScores] No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with both teams unresolved. Scores set to null.")):h.A.warn("[enrichBracketWithScores] WARNING: No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with resolved teams T1:").concat(f,", T2:").concat(m,". Scores will be null."))),i.set(o,c)}),Array.from(i.values()).sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m)}async function P(){const e="all_historical_matchups_details",t=m.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached historical data for ".concat(e)),t.data;const r={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};try{const t=await v(d);if(!t||0===t.length)return h.A.error("No league data found for historical matchup fetching. Check CURRENT_LEAGUE_ID in config.js."),r;const s=await w(),o=(null===s||void 0===s?void 0:s.season)||(new Date).getFullYear().toString();for(const e of t){var a;const t=e.league_id,n=e.season;h.A.debug("[fetchAllHistoricalMatchups] Processing league ".concat(t," for season ").concat(n,".")),r.leaguesMetadataBySeason[n]=e;const s=await x(t);r.usersBySeason[n]=s;const i=await S(t),l=new Map(s.map(e=>[e.user_id,e])),c=i.map(e=>{var t;const n=l.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})});r.rostersBySeason[n]=c;const d=new Map(c.map(e=>[String(e.roster_id),e]));let f=null===(a=e.settings)||void 0===a?void 0:a.playoff_start_week;f||(f=15),f=Math.max(1,f);let m=f-1,p={};if(parseInt(n)<=parseInt(o)){const e=Array.from({length:m},(e,t)=>t+1);h.A.debug("[fetchAllHistoricalMatchups] Fetching regular season matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await k(t,e,n);Object.assign(p,r),0===Object.keys(r).length&&parseInt(n)===parseInt(o)&&h.A.warn("[fetchAllHistoricalMatchups] No regular season matchups found for current season ".concat(n,"."))}else h.A.debug("[fetchAllHistoricalMatchups] Skipping regular season matchup fetch for future season ".concat(n,"."));let g=[],y=[];if(parseInt(n)<=parseInt(o)){[g,y]=await Promise.all([j(t),_(t)]);const e=g.reduce((e,t)=>Math.max(e,t.r||0),0),a=y.reduce((e,t)=>Math.max(e,t.r||0),0),s=Math.max(e,a);if(h.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Max playoff round: ").concat(s,", Playoff start week: ").concat(f)),s>0){const e=Array.from({length:s},(e,t)=>f+t);h.A.debug("[fetchAllHistoricalMatchups] Fetching playoff matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await k(t,e,n);Object.assign(p,r),h.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Playoff matchups fetched. Total weeks in seasonMatchupsData: ").concat(Object.keys(p).length))}else h.A.debug("[fetchAllHistoricalMatchups] No playoff rounds found for season ".concat(n,"."));r.winnersBracketBySeason[n]=N(g,p,d,f,"winners",n),r.losersBracketBySeason[n]=N(y,p,d,f,"losers",n)}else h.A.debug("[fetchAllHistoricalMatchups] Skipping playoff bracket fetch for future season ".concat(n,".")),r.winnersBracketBySeason[n]=[],r.losersBracketBySeason[n]=[];r.matchupsBySeason[n]=p,h.A.debug("[fetchAllHistoricalMatchups] Final seasonMatchupsData for season ".concat(n,":"),p)}return m.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(s){return h.A.error("Critical error in fetchAllHistoricalMatchups:",s),m.delete(e),{matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}}}}async function E(e,t){return p("".concat(f,"/league/").concat(e,"/transactions/").concat(t),"transactions_".concat(e,"_").concat(t),1)}async function O(e){return p("".concat(f,"/league/").concat(e,"/drafts"),"drafts_".concat(e),24)}async function A(e){return p("".concat(f,"/draft/").concat(e,"/picks"),"draft_picks_".concat(e),24)}async function T(e){return p("".concat(f,"/league/").concat(e,"/traded_picks"),"traded_picks_".concat(e),24)}async function I(){const e="all_draft_history",t=m.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached draft history for ".concat(e)),t.data;const r={};try{const t=await v(d),a=await b();for(const e of t){const t=e.season,n=e.league_id;h.A.debug("[fetchAllDraftHistory] Processing league ".concat(n," for season ").concat(t,"."));const s=await O(n),o=await T(n),i=[];for(const e of s){const t=(await A(e.draft_id)).map(e=>{var t,n,r;return u(u({},e),{},{player_name:(null===(t=a[e.player_id])||void 0===t?void 0:t.full_name)||"Unknown Player",player_position:(null===(n=a[e.player_id])||void 0===n?void 0:n.position)||"",player_team:(null===(r=a[e.player_id])||void 0===r?void 0:r.team)||""})});i.push(u(u({},e),{},{picks:t}))}r[t]={drafts:i,tradedPicks:o},h.A.debug("[fetchAllDraftHistory] Draft data for season ".concat(t,":"),r[t])}return m.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(a){return h.A.error("Critical error in fetchAllDraftHistory:",a),m.delete(e),{}}}const C=(e,t,n,r,a)=>{var s,o,i,l,c;let d=e.player_name||"Unknown Player";"DEF"===(null===(s=e.metadata)||void 0===s?void 0:s.position)&&(d="".concat(e.metadata.first_name||""," ").concat(e.metadata.last_name||"").trim(),d||(d="Unknown Defense"));const h=t.find(t=>t.user_id===e.picked_by),f=null===(o=n.rostersBySeason)||void 0===o||null===(i=o[r])||void 0===i?void 0:i.find(t=>String(t.owner_id)===String(e.picked_by));return u(u({},e),{},{player_name:d,player_position:e.player_position||"",player_team:(null===(l=e.metadata)||void 0===l?void 0:l.team)||e.player_team||"",picked_by_display_name:h&&h.display_name||"Unknown User",picked_by_team_name:f&&(null===(c=f.metadata)||void 0===c?void 0:c.team_name)||a(e.picked_by,r)})},D=e=>{const t=new Map;if(0===e){try{n(5452).A.warn("generateExpectedVorpByPickSlot: No picks to assign expected VORP values.")}catch(a){}return t}const r=27.1/Math.log(10);for(let n=1;n<=e;n++){const e=27.1-r*Math.log(Math.max(1,n));t.set(n,e)}return t},M=(e,t)=>e-t,R=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"regular",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Unknown Player";if(!e||!t)return h.A.warn("fetchPlayerStats: Player ID and season are required."),null;const a="https://api.sleeper.app/stats/nfl/player/".concat(e,"?season_type=").concat(n,"&season=").concat(t,"&grouping=week");try{const n=await fetch(a);if(!n.ok){h.A.error("Error fetching stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,": HTTP Status ").concat(n.status," - ").concat(n.statusText));try{const t=await n.text();h.A.error("Error response body for ".concat(r," (ID: ").concat(e,"):"),t)}catch(s){h.A.error("Could not read error response body for ".concat(r," (ID: ").concat(e,"):"),s)}return null}const o=await n.json();return h.A.debug("Successfully fetched stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,":"),o),o}catch(o){return h.A.error("Failed to fetch stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t," (network or JSON parse error):"),o),null}},L=async e=>{if(!e)return h.A.error("fetchLeagueScoringSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return h.A.error("Error fetching league settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json();return h.A.debug("Successfully fetched league settings for league ".concat(e,":"),r.scoring_settings),r.scoring_settings||null}catch(n){return h.A.error("Failed to fetch league settings for league ".concat(e,":"),n),null}},B=async e=>{if(!e)return h.A.error("fetchLeagueRosterSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return h.A.error("Error fetching league roster settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json(),a={roster_positions:r.roster_positions||[],total_rosters:r.total_rosters||0};return h.A.debug("Successfully fetched league roster settings for league ".concat(e,":"),a),a}catch(n){return h.A.error("Failed to fetch league roster settings for league ".concat(e,":"),n),null}},F=(e,t,n)=>{if(!e||!t)return 0;let r=0;for(const a in e)if(e[a]&&e[a].stats){const s=e[a].stats;for(const e in t){if(e.startsWith("pts_allow_")||e.startsWith("yds_allow_"))continue;const n=s[e],a=t[e];"number"===typeof n&&"number"===typeof a&&(r+=n*a)}if("string"===typeof n&&"DEF"===n.toUpperCase()){const e=s.pts_allow,n=s.yds_allow;"number"===typeof e&&(0===e&&"number"===typeof t.pts_allow_0?r+=t.pts_allow_0:e>=1&&e<=6&&"number"===typeof t.pts_allow_1_6?r+=t.pts_allow_1_6:e>=7&&e<=13&&"number"===typeof t.pts_allow_7_13?r+=t.pts_allow_7_13:e>=14&&e<=20&&"number"===typeof t.pts_allow_14_20?r+=t.pts_allow_14_20:e>=21&&e<=27&&"number"===typeof t.pts_allow_21_27?r+=t.pts_allow_21_27:e>=28&&e<=34&&"number"===typeof t.pts_allow_28_34?r+=t.pts_allow_28_34:e>=35&&"number"===typeof t.pts_allow_35p&&(r+=t.pts_allow_35p)),"number"===typeof n&&(n>=0&&n<=100&&"number"===typeof t.yds_allow_0_100?r+=t.yds_allow_0_100:n>=101&&n<=199&&"number"===typeof t.yds_allow_100_199?r+=t.yds_allow_100_199:n>=200&&n<=299&&"number"===typeof t.yds_allow_200_299?r+=t.yds_allow_200_299:n>=300&&n<=349&&"number"===typeof t.yds_allow_300_349?r+=t.yds_allow_300_349:n>=350&&n<=399&&"number"===typeof t.yds_allow_350_399?r+=t.yds_allow_350_399:n>=400&&n<=449&&"number"===typeof t.yds_allow_400_449?r+=t.yds_allow_400_449:n>=450&&n<=499&&"number"===typeof t.yds_allow_450_499?r+=t.yds_allow_450_499:n>=500&&n<=549&&"number"===typeof t.yds_allow_500_549?r+=t.yds_allow_500_549:n>=550&&"number"===typeof t.yds_allow_550p&&(r+=t.yds_allow_550p))}}return r},W=e=>{const t={},n=[],r=e.filter(e=>"number"===typeof e.fantasy_points&&"string"===typeof e.player_position&&e.player_position);n.push(...r),r.forEach(e=>{const n="string"===typeof e.player_position?e.player_position.toUpperCase():"";t[n]||(t[n]=[]),t[n].push(e)}),n.sort((e,t)=>t.fantasy_points-e.fantasy_points),n.forEach((e,t)=>{e.overall_rank=t+1});for(const a in t)t[a].sort((e,t)=>t.fantasy_points-e.fantasy_points),t[a].forEach((e,t)=>{e.positional_rank=t+1});return{positional:t,overall:n}},U=(e,t)=>{if(!e||!t||!Array.isArray(t.roster_positions)||"number"!==typeof t.total_rosters)return h.A.warn("calculateVORP: Missing or invalid positional rankings or league roster settings."),{};const n={},r={QB:18,RB:36,WR:48,TE:12,K:12,DEF:12};h.A.debug("VORP Calculation - Fixed Replacement Ranks:",r);for(const a in e){const t=e[a],s=a.toUpperCase(),o=r[s]||0,i=o>0?o-1:-1;let l=0,c="N/A";if(i>=0&&i<t.length){const e=t[i];l=e.fantasy_points,c=e.player_name,h.A.debug("Replacement player for ".concat(s," (rank ").concat(i+1,"): ").concat(c," with ").concat(l.toFixed(2)," points."))}else h.A.warn("Could not find a valid replacement player for ".concat(s," at calculated rank ").concat(o,". Not enough players ranked or rank is 0. Setting replacement points to 0."));n[s]=t.map(e=>u(u({},e),{},{vorp:e.fantasy_points-l}))}return n};function z(e,t){if(!e||0===e.length)return 0;const n=[...e].sort((e,t)=>e-t),r=n.findIndex(e=>e>=t);return-1===r?1:r/n.length}function V(e){return e&&0!==e.length?e.reduce((e,t)=>e+t,0)/e.length:0}const H={computeBadges:function(e){let{historicalData:t,processedSeasonalRecords:r,draftPicksBySeason:a={},transactions:s=[],usersData:o=[]}=e;const i={},l=[];if(!r)return{badgesByTeam:i,recentBadges:l};const c=Object.keys(r).map(Number).sort((e,t)=>e-t);c.forEach(e=>{const a=r[e];if(!a)return;const s=Object.values(a).map(e=>({rosterId:e.rosterId||e.rosterId,ownerId:e.ownerId,teamName:e.teamName,wins:e.wins||0,pointsFor:e.pointsFor||0,allPlayWinPercentage:e.allPlayWinPercentage||0,luckRating:e.luckRating||0,adjustedDPR:e.adjustedDPR||0,isChampion:!!e.isChampion,isRunnerUp:!!e.isRunnerUp,isThirdPlace:!!e.isThirdPlace})),o=[...s].sort((e,t)=>t.wins-e.wins||t.pointsFor-e.pointsFor)[0];if(o){const t={id:"season_title_".concat(e),name:"Season Title",category:"season",year:e,teamId:o.ownerId};(i[o.ownerId]=i[o.ownerId]||[]).push(t),l.push(t)}const c=[...s].sort((e,t)=>t.pointsFor-e.pointsFor)[0];if(c){const t={id:"points_title_".concat(e),name:"Points Title",category:"season",year:e,teamId:c.ownerId};(i[c.ownerId]=i[c.ownerId]||[]).push(t),l.push(t)}const u=[...s].sort((e,t)=>t.allPlayWinPercentage-e.allPlayWinPercentage)[0];if(u){const t={id:"allplay_title_".concat(e),name:"Season All-Play Title",category:"season",year:e,teamId:u.ownerId};(i[u.ownerId]=i[u.ownerId]||[]).push(t),l.push(t)}if(o&&c&&u&&o.ownerId===c.ownerId&&o.ownerId===u.ownerId){const t={id:"triple_crown_".concat(e),name:"Triple Crown",category:"season",year:e,teamId:o.ownerId};(i[o.ownerId]=i[o.ownerId]||[]).push(t),l.push(t)}const d=s.filter(e=>e.isChampion);d.forEach(t=>{const n={id:"champion_".concat(e),name:"Champion",category:"champion",year:e,teamId:t.ownerId};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}),s.forEach(t=>{const n=Number(t.adjustedDPR||0);if(!n||isNaN(n))return;let r=null;if(n>=1.226?r="Diamond Season":n>=1.151&&n<=1.225?r="Gold Season":n>=1.076&&n<=1.15?r="Silver Season":n>=1&&n<=1.075&&(r="Bronze Season"),r){const n={id:"".concat(r.replace(/\s+/g,"_").toLowerCase(),"_").concat(e,"_").concat(t.ownerId),name:r,category:"season-tier",year:e,teamId:t.ownerId};(i[t.ownerId]=i[t.ownerId]||[]).push(n)}});try{try{const t=[...s].map(e=>({ownerId:e.ownerId,rosterId:e.rosterId,teamName:e.teamName,luckRating:e.luckRating}));try{"undefined"!==typeof window&&(window.__BADGE_DEBUG__=window.__BADGE_DEBUG__||[],window.__BADGE_DEBUG__.push({type:"luckRatings",season:e,data:t}))}catch(k){}"undefined"!==typeof console&&console.info&&console.info("computeBadges: season=".concat(e," roster luckRatings:"),t)}catch(j){}const t=[...s].sort((e,t)=>(t.luckRating||0)-(e.luckRating||0))[0];if(t){try{"undefined"!==typeof window&&(window.__BADGE_DEBUG__=window.__BADGE_DEBUG__||[],window.__BADGE_DEBUG__.push({type:"lucky_duck_selected",season:e,data:{ownerId:t.ownerId,rosterId:t.rosterId,teamName:t.teamName,luckRating:t.luckRating}}))}catch(k){}"undefined"!==typeof console&&console.info&&console.info("computeBadges: season=".concat(e," lucky_duck selected:"),{ownerId:t.ownerId,rosterId:t.rosterId,teamName:t.teamName,luckRating:t.luckRating});const n={id:"lucky_duck_".concat(e),name:"Lucky Duck",displayName:"Lucky Duck",category:"season-luck",year:e,teamId:t.ownerId,accent:"championAccent",metadata:{luckRating:t.luckRating||0}};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}}catch(k){}const h=t&&t.matchupsBySeason&&t.matchupsBySeason[e]||[];let f={score:-1/0,rosterId:null,week:null},m={total:-1/0,t1:null,t2:null,week:null};if(h.forEach(e=>{const t=Number(e.team1_score||e.team1Score||0),n=Number(e.team2_score||e.team2Score||0),r=e.week||e.w||null;t>f.score&&(f={score:t,rosterId:String(e.team1_roster_id),week:r}),n>f.score&&(f={score:n,rosterId:String(e.team2_roster_id),week:r});const a=(t||0)+(n||0);a>m.total&&(m={total:a,t1:String(e.team1_roster_id),t2:String(e.team2_roster_id),week:r})}),f.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(f.rosterId));if(t){const n={id:"peak_performance_".concat(e),name:"Peak Performance",category:"matchup",year:e,teamId:t.ownerId,metadata:{score:f.score,week:f.week}};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}}if(m.t1&&m.t2){const t=Object.values(a).find(e=>String(e.rosterId)===String(m.t1)),n=Object.values(a).find(e=>String(e.rosterId)===String(m.t2));if(t){const n={id:"shootout_".concat(e,"_").concat(t.ownerId),name:"The Shootout",category:"matchup",year:e,teamId:t.ownerId,metadata:{total:m.total,week:m.week}};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}if(n){const t={id:"shootout_".concat(e,"_").concat(n.ownerId),name:"The Shootout",category:"matchup",year:e,teamId:n.ownerId,metadata:{total:m.total,week:m.week}};(i[n.ownerId]=i[n.ownerId]||[]).push(t),l.push(t)}}try{let t={margin:-1/0,rosterId:null,opponentRosterId:null,matchup:null,week:null},n={margin:1/0,rosterId:null,opponentRosterId:null,matchup:null,week:null},r={share:-1/0,rosterId:null,total:0,score:0,week:null};const s={};if(h.forEach(o=>{const c=Number(o.team1_score||o.team1Score||0),u=Number(o.team2_score||o.team2Score||0),d=String(o.team1_roster_id),h=String(o.team2_roster_id),f=o.week||o.w||null,m=(c||0)+(u||0),p=c-u,g=u-c;if(p>t.margin&&(t={margin:p,rosterId:d,opponentRosterId:h,matchup:o,week:f}),g>t.margin&&(t={margin:g,rosterId:h,opponentRosterId:d,matchup:o,week:f}),p>0&&p<n.margin&&(n={margin:p,rosterId:d,opponentRosterId:h,matchup:o,week:f}),g>0&&g<n.margin&&(n={margin:g,rosterId:h,opponentRosterId:d,matchup:o,week:f}),m>0){const e=c/m,t=u/m;e>r.share&&(r={share:e,rosterId:d,total:m,score:c,week:f}),t>r.share&&(r={share:t,rosterId:h,total:m,score:u,week:f})}if(u>0&&c>=2*u||c>0&&u>=2*c){const t=c>=2*u?d:h,n=Object.values(a).find(e=>String(e.rosterId)===String(t));if(n){const t={id:"double_up_".concat(e,"_").concat(n.ownerId,"_").concat(f||""),name:"Double Up",category:"matchup",year:e,teamId:n.ownerId,metadata:{opponent:c>=2*u?h:d,scores:{s1:c,s2:u,total:m},week:f}};(i[n.ownerId]=i[n.ownerId]||[]).push(t),l.push(t)}}const y=Math.abs(c-u);if(y>0&&y<.5){const t=c>u?d:h,n=Object.values(a).find(e=>String(e.rosterId)===String(t));if(n){const t={id:"micro_victory_".concat(e,"_").concat(n.ownerId,"_").concat(f||""),name:"Micro Victory",category:"matchup",year:e,teamId:n.ownerId,metadata:{margin:y,week:f}};(i[n.ownerId]=i[n.ownerId]||[]).push(t),l.push(t)}}else if(y>0&&y<1){const t=c>u?d:h,n=Object.values(a).find(e=>String(e.rosterId)===String(t));if(n){const t={id:"small_victory_".concat(e,"_").concat(n.ownerId,"_").concat(f||""),name:"Small Victory",category:"matchup",year:e,teamId:n.ownerId,metadata:{margin:y,week:f}};(i[n.ownerId]=i[n.ownerId]||[]).push(t),l.push(t)}}if(!isNaN(c)&&!isNaN(u)&&c!==u){const e=c>u?h:d,t="".concat(c>u?d:h,"_").concat(e);s[t]||(s[t]={count:0,weeks:[]}),s[t].count+=1,s[t].weeks.push(f)}}),t.rosterId){const n=Object.values(a).find(e=>String(e.rosterId)===String(t.rosterId));if(n){const r={id:"massacre_".concat(e,"_").concat(n.ownerId),name:"Massacre",category:"matchup",year:e,teamId:n.ownerId,metadata:{margin:t.margin,opponentRosterId:t.opponentRosterId,week:t.week}};(i[n.ownerId]=i[n.ownerId]||[]).push(r),l.push(r)}}if(r.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(r.rosterId));if(t){const n={id:"firing_squad_".concat(e,"_").concat(t.ownerId),name:"Firing Squad",category:"matchup",year:e,teamId:t.ownerId,metadata:{share:r.share,score:r.score,total:r.total,week:r.week}};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}}if(n.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(n.rosterId));if(t){const r={id:"thread_the_needle_".concat(e,"_").concat(t.ownerId),name:"Thread The Needle",category:"matchup",year:e,teamId:t.ownerId,metadata:{margin:n.margin,opponentRosterId:n.opponentRosterId,week:n.week}};(i[t.ownerId]=i[t.ownerId]||[]).push(r),l.push(r)}}Object.keys(s).forEach(t=>{const n=s[t]||{count:0,weeks:[]},r=n.count||0;if(r>=3){const[s,o]=t.split("_"),c=Object.values(a).find(e=>String(e.rosterId)===String(s));if(c){const t=n.weeks&&n.weeks.length>=3?n.weeks[2]:n.weeks&&n.weeks.length?n.weeks[n.weeks.length-1]:null,a={id:"bully_".concat(e,"_").concat(c.ownerId,"_").concat(o),name:"Bully",category:"matchup",year:e,teamId:c.ownerId,metadata:{opponentRosterId:o,winsAgainst:r,week:t}};(i[c.ownerId]=i[c.ownerId]||[]).push(a),l.push(a)}}})}catch(k){try{n(5452).A.error("computeBadges: error computing matchup-derived badges",k)}catch(_){}}const p={};Object.values(a).forEach(e=>{p[String(e.rosterId)]=e});const g={};h.forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id);p[t]&&p[n]&&(g[t]=g[t]||[],g[n]=g[n]||[],g[t].push(p[n].pointsFor||0),g[n].push(p[t].pointsFor||0))});const y=Object.keys(g).map(e=>V(g[e])),v=s.filter(e=>e.isChampion);v.forEach(t=>{const n=V(g[String(t.rosterId)]||[]);if(100*z(y,n)>=75){const n={id:"heavyweight_".concat(e,"_").concat(t.ownerId),name:"Heavyweight Champion",category:"champion",year:e,teamId:t.ownerId};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}});const x={},b={};h.forEach(e=>{const t=Number(e.week||e.w||0),n=String(e.team1_roster_id),r=String(e.team2_roster_id);b[n]=b[n]||{},b[r]=b[r]||{},b[n][t]=Number(e.team1_score||e.team1Score||0),b[r][t]=Number(e.team2_score||e.team2Score||0),b[n]._opp=b[n]._opp||{}});for(let t=1;t<=5;t++)h.forEach(e=>{if(Number(e.week||e.w||0)!==t)return;const n=String(e.team1_roster_id),r=String(e.team2_roster_id),a=Number(e.team1_score||e.team1Score||0),s=Number(e.team2_score||e.team2Score||0);isNaN(a)||isNaN(s)||(a>s&&(x[n]=(x[n]||0)+1),s>a&&(x[r]=(x[r]||0)+1))});v.forEach(t=>{const n=String(t.rosterId);if(0===(x[n]||0)){const n={id:"comeback_".concat(e,"_").concat(t.ownerId),name:"Comeback Kid",category:"champion",year:e,teamId:t.ownerId};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}});const w=s.map(e=>e.luckRating||0).filter(e=>"number"===typeof e),S=[...w].sort((e,t)=>e-t);v.forEach(t=>{var n;const r=a&&(null===(n=Object.values(a).find(e=>e.ownerId===t.ownerId))||void 0===n?void 0:n.luckRating)||0;if(100*z(S,r)<=25){const n={id:"against_odds_".concat(e,"_").concat(t.ownerId),name:"Against All Odds",category:"champion",year:e,teamId:t.ownerId};(i[t.ownerId]=i[t.ownerId]||[]).push(n),l.push(n)}})});try{c.forEach(e=>{const n=a&&a[e]||[];if(n&&n.length>0){const t=n.length,r=D(t),a={},s=[];n.forEach(e=>{const t=Number(e.pick_no||e.pick_number||e.overall_pick||0),n=String(e.picked_by||e.owner_id||e.picked_by||"unknown"),o="number"===typeof e.fantasy_points&&e.fantasy_points||e.player_value||e.value||0;a[n]=(a[n]||0)+(o||0);const i=o-(r.get(t)||0);s.push({pick:e,owner:n,delta:i})});const o=Object.keys(a).sort((e,t)=>a[t]-a[e])[0];if(o&&(a[o]||0)>0){const t={id:"draft_king_".concat(e),name:"Draft King",displayName:"Draft King",category:"draft",year:e,teamId:o,metadata:{draftValue:a[o]}};(i[o]=i[o]||[]).push(t),l.push(t)}const c=s.sort((e,t)=>e.delta-t.delta)[0];if(c&&c.delta<0){const t=c.owner,n={id:"worst_draft_pick_".concat(e),name:"Worst Draft Pick",displayName:"Worst Draft Pick",category:"draft-blunder",year:e,teamId:t,metadata:{delta:c.delta,pick:c.pick}};(i[t]=i[t]||[]).push(n),l.push(n)}}if(s&&s.length>0&&t&&t.rostersBySeason&&t.rostersBySeason[e]){const n={};(t.rostersBySeason[e]||[]).forEach(e=>{n[String(e.roster_id)]=e.owner_id});const r={};s.forEach(t=>{const a=t.created?Number(t.created):null;let s=null;if(a){s=new Date(a*(a<9999999999?1e3:1)).getFullYear()}if(String(s)!==String(e))return;(t.roster_ids||[]).forEach(e=>{const t=n[String(e)];t&&(r[t]=(r[t]||0)+1)})});const a=Object.keys(r).sort((e,t)=>r[t]-r[e])[0];if(a&&r[a]>0){const t={id:"action_king_".concat(e),name:"Action King",displayName:"Action King",category:"transaction",year:e,teamId:a,accent:"blue",metadata:{txCount:r[a]}};(i[a]=i[a]||[]).push(t),l.push(t)}Object.keys(r).forEach(t=>{const n=r[t]||0;if(n>=50){const r={id:"season_transactions_".concat(e,"_").concat(t),name:"Season Transactions",displayName:"Season Transactions",category:"transaction",year:e,teamId:t,metadata:{txCount:n}};(i[t]=i[t]||[]).push(r),l.push(r)}})}})}catch(m){try{n(5452).A.error("computeBadges: error computing draft/transaction badges",m)}catch(p){}}c.forEach((e,t)=>{if(0===t)return;const n=c[t-1],a=r[e]||{},s=r[n]||{};Object.values(a).forEach(t=>{if(t.isRunnerUp){const n=t.ownerId,r=Object.values(s).some(e=>e.ownerId===n&&e.isRunnerUp);if(r){const t={id:"silverback_twoback_".concat(e,"_").concat(n),name:"Silverback-To-Back",category:"champion",year:e,teamId:n};(i[n]=i[n]||[]).push(t),l.push(t)}}})}),l.sort((e,t)=>t.year-e.year);const u={season_title:"Season Title",points_title:"Points Title",allplay_title:"Season All-Play Title",triple_crown:"Triple Crown",champion:"Champion",runner_up:"Runner Up",third_place:"3rd Place",peak_performance:"Peak Performance",shootout:"The Shootout",heavyweight:"Heavyweight Champion",comeback:"Comeback Kid",against_odds:"Against All Odds",draft_king:"Draft King",worst_draft_pick:"Worst Draft Pick",action_king:"Action King",massacre:"Massacre",double_up:"Double Up",micro_victory:"Micro Victory",small_victory:"Small Victory",firing_squad:"Firing Squad",thread_the_needle:"Thread The Needle",bully:"Bully",season_transactions:"Season Transactions"},d={season:"\ud83c\udfc6","season-tier":"\ud83c\udfc5",champion:"\ud83c\udfc6",matchup:"matchup-icon",massacre:"\ud83d\udca5",double_up:"2\ufe0f\u20e3",micro_victory:"\ud83d\udd39",small_victory:"\ud83d\udd38",firing_squad:"\ud83d\udd25",draft:"\ud83e\udde0","draft-blunder":"\ud83d\udc80",transaction:"\ud83d\udd01",blunder:"\ud83d\udca9"};function h(e){return e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function f(e){return e?(e.displayName||(e.name?e.displayName=e.name:e.displayName=function(e){if(!e)return"";let t=e.replace(/_(\d{4})_(\d{9,})$/,"_$1");t=t.replace(/_(\d{9,})$/,""),t=t.replace(/^(bronze|silver|gold|diamond)_season/,"$1 Season"),t=t.replace(/^shootout_/,"Shootout "),t=t.replace(/^peak_performance_/,"Peak Performance ");for(const n in u)if(-1!==t.indexOf(n))return u[n];return h(t)}(e.id)||h(String(e.id||"Badge"))),e.icon||(e.icon=d[e.category]||"\ud83c\udfc5"),e.accent||(e.id&&-1!==String(e.id).toLowerCase().indexOf("season_all_play")||e.id&&-1!==String(e.id).toLowerCase().indexOf("allplay")||e.id&&-1!==String(e.id).toLowerCase().indexOf("season_title")||"champion"===e.category?e.accent="championAccent":"season"===e.category?e.accent="yellow":(!e.id||-1===String(e.id).indexOf("massacre")&&-1===String(e.id).indexOf("shootout")&&-1===String(e.id).indexOf("peak_performance"))&&(!e.id||-1===String(e.id).indexOf("double_up")&&-1===String(e.id).indexOf("micro_victory")&&-1===String(e.id).indexOf("small_victory")&&-1===String(e.id).indexOf("nano_victory")&&-1===String(e.id).indexOf("firing_squad")&&-1===String(e.id).indexOf("perfectly_peaked")&&-1===String(e.id).indexOf("thread_the_needle")&&-1===String(e.id).indexOf("thread-the-needle")&&-1===String(e.id).indexOf("thread")&&-1===String(e.id).indexOf("bully"))?e.id&&-1!==String(e.id).indexOf("diamond_season")?e.accent="diamond":"matchup"===e.category?e.accent="red":e.category&&-1!==e.category.indexOf("draft")?e.accent="purple":"season-tier"===e.category?e.accent="blue":"blunder"===e.category||"draft-blunder"===e.category?e.accent="red":e.accent="gray":e.accent="matchupAccent"),e.timestamp||(e.year?e.timestamp=new Date(Number(e.year),11,31).getTime():e.timestamp=Date.now()),e):e}Object.keys(i).forEach(e=>{i[e]=(i[e]||[]).map(e=>f(e))});for(let n=0;n<l.length;n++)l[n]=f(l[n]);return{badgesByTeam:i,recentBadges:l}}};var G=n(579);const q=(0,t.createContext)(),K="1074092015093413888",Y=async(e,t)=>{const n="https://api.sleeper.app/v1/league/".concat(e,"/transactions/").concat(t);try{const e=await fetch(n);if(!e.ok)throw new Error("Failed to fetch transactions for week ".concat(t,". Status: ").concat(e.status));return await e.json()}catch(r){return h.A.error("Error fetching transactions for week ".concat(t,":"),r),[]}},Q=e=>{var n;let{children:r}=e;const[a,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(null),[c,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[k,j]=(0,t.useState)(null),[_,N]=(0,t.useState)({}),[E,O]=(0,t.useState)({}),[A,T]=(0,t.useState)({}),[C,D]=(0,t.useState)(null),[M,R]=(0,t.useState)({}),[L,B]=(0,t.useState)([]),[F,W]=(0,t.useState)([]),[U,z]=(0,t.useState)(!0),[V,Q]=(0,t.useState)(null),X={matchupsBySeason:[{team1_roster_id:"1",team1_score:155.04,team2_roster_id:"7",team2_score:175.4,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:123.47,team2_roster_id:"10",team2_score:121.27,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:141.71,team2_roster_id:"12",team2_score:135.24,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:151.61,team2_roster_id:"5",team2_score:183.29,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:136.88,team2_roster_id:"11",team2_score:168.74,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:135.89,team2_roster_id:"9",team2_score:119.19,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:128.19,team2_roster_id:"3",team2_score:179.42,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:125.49,team2_roster_id:"8",team2_score:135.28,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:95.71,team2_roster_id:"6",team2_score:128.81,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:142.02,team2_roster_id:"11",team2_score:136.58,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:147.1,team2_roster_id:"12",team2_score:139.7,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:182.01,team2_roster_id:"10",team2_score:124.79,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.72,team2_roster_id:"12",team2_score:117.53,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:153.86,team2_roster_id:"9",team2_score:137.5,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:126.72,team2_roster_id:"7",team2_score:118.27,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:126.08,team2_roster_id:"11",team2_score:80.37,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.67,team2_roster_id:"6",team2_score:165.55,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:132.49,team2_roster_id:"10",team2_score:134.76,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:95.22,team2_roster_id:"8",team2_score:139.42,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:110.04,team2_roster_id:"4",team2_score:151.08,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:134.74,team2_roster_id:"7",team2_score:153.16,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:176.2,team2_roster_id:"10",team2_score:110.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:131.12,team2_roster_id:"9",team2_score:142.27,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"11",team1_score:131.74,team2_roster_id:"12",team2_score:168.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:141.51,team2_roster_id:"12",team2_score:114.22,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:189.6,team2_roster_id:"7",team2_score:111.37,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:168.61,team2_roster_id:"10",team2_score:112.88,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:189.37,team2_roster_id:"9",team2_score:170.56,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:135.89,team2_roster_id:"11",team2_score:118.72,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:182.28,team2_roster_id:"8",team2_score:141.35,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:165.57,team2_roster_id:"9",team2_score:147.1,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:156.76,team2_roster_id:"8",team2_score:150.17,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:176.81,team2_roster_id:"6",team2_score:115.06,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:98.65,team2_roster_id:"5",team2_score:167.96,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:96.52,team2_roster_id:"12",team2_score:120.88,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:119.58,team2_roster_id:"11",team2_score:158.65,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:102.87,team2_roster_id:"2",team2_score:102.36,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:161.6,team2_roster_id:"9",team2_score:127.68,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:131.19,team2_roster_id:"11",team2_score:148.13,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:128.2,team2_roster_id:"12",team2_score:100.82,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:123.52,team2_roster_id:"10",team2_score:166.75,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:123.8,team2_roster_id:"8",team2_score:136.57,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:122.39,team2_roster_id:"10",team2_score:162.99,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:120.4,team2_roster_id:"9",team2_score:135.55,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:85.95,team2_roster_id:"8",team2_score:138,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:93.82,team2_roster_id:"12",team2_score:153.63,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:123.2,team2_roster_id:"7",team2_score:114.23,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:133.31,team2_roster_id:"11",team2_score:147.93,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:77.36,team2_roster_id:"11",team2_score:144.56,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:104.29,team2_roster_id:"3",team2_score:119.83,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:169.03,team2_roster_id:"6",team2_score:103.37,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.32,team2_roster_id:"9",team2_score:119.24,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:107.79,team2_roster_id:"10",team2_score:89.49,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:194.81,team2_roster_id:"12",team2_score:84.42,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.35,team2_roster_id:"5",team2_score:164.05,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:136.31,team2_roster_id:"6",team2_score:134.48,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:114.71,team2_roster_id:"4",team2_score:101.82,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:108.14,team2_roster_id:"11",team2_score:102.18,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:92.51,team2_roster_id:"10",team2_score:119.01,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.42,team2_roster_id:"12",team2_score:107.53,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:107.51,team2_roster_id:"3",team2_score:173.96,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:132.54,team2_roster_id:"10",team2_score:94.17,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:110.36,team2_roster_id:"7",team2_score:145.77,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:154.05,team2_roster_id:"8",team2_score:199.61,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:119.34,team2_roster_id:"12",team2_score:122.8,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:142.6,team2_roster_id:"11",team2_score:103.52,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:175.69,team2_roster_id:"7",team2_score:90.75,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:158.17,team2_roster_id:"11",team2_score:104.14,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:159.93,team2_roster_id:"12",team2_score:78.49,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:111.52,team2_roster_id:"8",team2_score:144.08,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:171.34,team2_roster_id:"6",team2_score:116,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.64,team2_roster_id:"10",team2_score:114.13,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:103.23,team2_roster_id:"4",team2_score:106.89,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:138.67,team2_roster_id:"5",team2_score:127.8,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:163.2,team2_roster_id:"11",team2_score:87.06,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:110.88,team2_roster_id:"7",team2_score:103.77,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:142.74,team2_roster_id:"9",team2_score:167.3,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:124.58,team2_roster_id:"12",team2_score:141.24,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.16,team2_roster_id:"6",team2_score:123.3,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:167.62,team2_roster_id:"12",team2_score:125.51,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:143.5,team2_roster_id:"5",team2_score:163.4,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:105.78,team2_roster_id:"10",team2_score:132.44,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:102.73,team2_roster_id:"9",team2_score:154.67,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:156.33,team2_roster_id:"11",team2_score:122.83,week:"14",year:"2021",regSeason:!0}],rostersBySeason:[{roster_id:"1",owner_id:"783790952367169536",metadata:{team_name:"Ainsworth"}},{roster_id:"2",owner_id:"783761299275382784",metadata:{team_name:"Bjarnar"}},{roster_id:"3",owner_id:"783789717920534528",metadata:{team_name:"Blumbergs"}},{roster_id:"4",owner_id:"783789669597999104",metadata:{team_name:"Boilard"}},{roster_id:"5",owner_id:"783767734491127808",metadata:{team_name:"Dembski"}},{roster_id:"6",owner_id:"467074573125283840",metadata:{team_name:"Irwin"}},{roster_id:"7",owner_id:"783778036578418688",metadata:{team_name:"Meer"}},{roster_id:"8",owner_id:"783763304463147008",metadata:{team_name:"Neufeglise"}},{roster_id:"9",owner_id:"783758716272009216",metadata:{team_name:"O'Donoghue"}},{roster_id:"10",owner_id:"783754997035876352",metadata:{team_name:"Randall"}},{roster_id:"11",owner_id:"783761892693905408",metadata:{team_name:"Schmitt"}},{roster_id:"12",owner_id:"787044291066380288",metadata:{team_name:"Tomczak"}}],usersBySeason:[{user_id:"783790952367169536",display_name:"Kurt's WAP"},{user_id:"783761299275382784",display_name:"Bohan's Bitches"},{user_id:"783789717920534528",display_name:"Hangin' With Hernandez"},{user_id:"783789669597999104",display_name:"Camel Toe Hounds"},{user_id:"783767734491127808",display_name:"Balls Mafia"},{user_id:"467074573125283840",display_name:"No Romo"},{user_id:"783778036578418688",display_name:"Christian McCockherpussy"},{user_id:"783763304463147008",display_name:"The Wolf of Waller Street"},{user_id:"783758716272009216",display_name:"O'D's Danglers"},{user_id:"783754997035876352",display_name:"The Team of Constant Sorrow"},{user_id:"783761892693905408",display_name:"Matt's O'DUI"},{user_id:"787044291066380288",display_name:"Michael Vick's Vet Clinic"}],leaguesMetadataBySeason:{settings:{playoff_start_week:15,scoring_settings:{pass_yd:.04,pass_td:4,pass_int:-1,rush_yd:.1,rush_td:6,rec_yd:.1,rec:.5,rec_td:6,fum_lost:-2},roster_positions:["QB","RB","RB","WR","WR","TE","FLEX","K","DEF","BN","BN","BN","BN","BN","BN","BN"]},season:"2021"},winnersBracketBySeason:[{m:1,r:1,w:"8",l:"9",t1:"8",t2:"9",t1_score:123.49,t2_score:113.36,week:15,playoffs:!0},{m:2,r:1,w:"1",l:"2",t1:"2",t2:"1",t1_score:142.05,t2_score:148.61,week:15,playoffs:!0},{m:3,r:2,w:"5",l:"8",t1:"5",t2:"8",t1_score:174.09,t2_score:114.7,week:16,playoffs:!0},{m:4,r:2,w:"1",l:"3",t1:"1",t2:"3",t1_score:163.38,t2_score:142.81,week:16,playoffs:!0},{m:5,r:3,p:1,w:"1",l:"5",t1:"5",t2:"1",t1_score:96.58,t2_score:134.51,week:17,playoffs:!0},{m:6,r:3,p:3,w:"3",l:"8",t1:"8",t2:"3",t1_score:159.89,t2_score:163.1,week:17,playoffs:!0},{m:7,r:2,p:5,w:"2",l:"9",t1:"9",t2:"2",t1_score:113.09,t2_score:143.89,week:16,playoffs:!0}],losersBracketBySeason:[{m:2,r:1,w:"11",l:"4",t1:"11",t2:"4",t1_score:97.93,t2_score:86.3,week:15,playoffs:!0},{m:3,r:1,w:"6",l:"7",t1:"7",t2:"6",t1_score:76.62,t2_score:81.32,week:15,playoffs:!0},{m:4,r:2,w:"10",l:"11",t1:"10",t2:"11",t1_score:83.46,t2_score:26.22,week:16,playoffs:!0},{m:5,r:2,w:"12",l:"6",t1:"6",t2:"12",t1_score:37.26,t2_score:49.31,week:16,playoffs:!0},{m:6,r:2,p:11,w:"7",l:"4",t1:"7",t2:"4",t1_score:111.27,t2_score:102.74,week:16,playoffs:!0},{m:7,r:3,p:7,w:"12",l:"10",t1:"10",t2:"12",t1_score:13.66,t2_score:47.98,week:17,playoffs:!0},{m:8,r:3,p:9,w:"6",l:"11",t1:"11",t2:"6",t1_score:9.4,t2_score:51.56,week:17,playoffs:!0}]},$=(0,t.useMemo)(()=>{var e,t;const n=new Map,r=(new Map,u(u({},(null===k||void 0===k?void 0:k.usersBySeason)||{}),{},{2021:(null===(e=X)||void 0===e?void 0:e.usersBySeason)||[]})),a=u(u({},(null===k||void 0===k?void 0:k.rostersBySeason)||{}),{},{2021:(null===(t=X)||void 0===t?void 0:t.rostersBySeason)||[]});r&&Object.entries(r).forEach(e=>{let[t,r]=e;const a=new Map;Array.isArray(r)&&r.forEach(e=>{a.set(e.user_id,e)}),n.set(t,a)}),a&&Object.entries(a).forEach(e=>{let[t,n]=e;const r=new Map;Array.isArray(n)&&n.forEach(e=>{r.set(e.roster_id,e)}),r.set(t,r)});const s=new Map;return i&&i.forEach(e=>{s.set(e.user_id,e)}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.team_name?e.metadata.team_name:null!==e&&void 0!==e&&e.display_name?e.display_name:null};let a="Unknown Team (ID: ".concat(e,")");if(null===t){const t=r(s.get(e));if(t)a=t;else{const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=null===C||void 0===C?void 0:C.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}else{if(n.has(String(t))){const s=r(n.get(String(t)).get(e));s&&(a=s)}if(a.startsWith("Unknown Team (ID:")){const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=r(s.get(e));t&&(a=t)}if(a.startsWith("Unknown Team (ID:")){const t=null===C||void 0===C?void 0:C.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}return a}},[i,k,C]),J=(0,t.useMemo)(()=>(e,t)=>{let n=null;var r,a;return k&&k.usersBySeason&&k.usersBySeason[t]&&e&&(n=k.usersBySeason[t].find(t=>t.user_id===e)),!n&&i&&e&&(n=i.find(t=>t.user_id===e)),n?{name:(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name,avatar:(null===(a=n.metadata)||void 0===a?void 0:a.avatar)||(n.avatar?"https://sleepercdn.com/avatars/".concat(n.avatar):"https://sleepercdn.com/avatars/default_avatar.png")}:"string"!==typeof e||/^\d+$/.test(e)?{name:"Team (ID: ".concat(e,")"),avatar:"https://sleepercdn.com/avatars/default_avatar.png"}:{name:e,avatar:"https://sleepercdn.com/avatars/default_avatar.png"}},[i,k]);(0,t.useEffect)(()=>{(async()=>{z(!0),Q(null);try{var e,t,n,r,a,i;const k=d||K;if(!k)return Q(new Error("No league ID provided or fallback ID is invalid. Please set CURRENT_LEAGUE_ID in config.js or ensure FALLBACK_LEAGUE_ID is valid.")),void z(!1);0;const[_,E,A,C,M,L,F]=await Promise.all([v(k),x(k),S(k),b(),w(),P(),I()]);if(!_)return Q(new Error("Failed to fetch initial league data for ID: ".concat(k,". Please check the league ID in config.js or the fallback ID."))),void z(!1);o(_),l(E),f(A),p(C),y(M);let U=[];if(M&&M.week)for(let e=1;e<=M.week;e++){const t=await Y(k,e);U=[...U,...t]}W(U),h.A.debug("SleeperDataContext: Fetched transactions:",U);const V={},G={};if(F)for(const e in F)if(F.hasOwnProperty(e)){var c,m;const t=F[e],n=(null===(c=t.drafts)||void 0===c?void 0:c.find(e=>"complete"===e.status))||(null===(m=t.drafts)||void 0===m?void 0:m[0]);n&&(V[e]=n,G[e]=n.picks||[])}N(V),O(G);const q={};null!==L&&void 0!==L&&L.matchupsBySeason&&Object.entries(L.matchupsBySeason).forEach(e=>{let[t,n]=e;"object"!==typeof n||null===n||Array.isArray(n)?Array.isArray(n)?q[t]=n:q[t]=[]:q[t]=Object.values(n).flat()});const J={matchupsBySeason:u(u({},q||{}),{},{2021:(null===(e=X)||void 0===e?void 0:e.matchupsBySeason)||[]}),rostersBySeason:u(u({},(null===L||void 0===L?void 0:L.rostersBySeason)||{}),{},{2021:(null===(t=X)||void 0===t?void 0:t.rostersBySeason)||[]}),usersBySeason:u(u({},(null===L||void 0===L?void 0:L.usersBySeason)||{}),{},{2021:(null===(n=X)||void 0===n?void 0:n.usersBySeason)||[]}),leaguesMetadataBySeason:u(u({},(null===L||void 0===L?void 0:L.leaguesMetadataBySeason)||{}),{},{2021:(null===(r=X)||void 0===r?void 0:r.leaguesMetadataBySeason)||{}}),winnersBracketBySeason:u(u({},(null===L||void 0===L?void 0:L.winnersBracketBySeason)||{}),{},{2021:(null===(a=X)||void 0===a?void 0:a.winnersBracketBySeason)||[]}),losersBracketBySeason:u(u({},(null===L||void 0===L?void 0:L.losersBracketBySeason)||{}),{},{2021:(null===(i=X)||void 0===i?void 0:i.losersBracketBySeason)||[]}),draftsBySeason:V,draftPicksBySeason:G,tradedPicksBySeason:(()=>{const e={};if(F)for(const t in F){if(!F.hasOwnProperty(t))continue;const n=F[t];e[t]=n.tradedPicks||n.traded_picks||[]}return e})()};if(j(J),J&&Object.keys(J.matchupsBySeason).length>0){const{seasonalMetrics:e,careerDPRData:t}=s(J,0,$,M);T(e),D(t);try{const{badgesByTeam:t,recentBadges:n}=H.computeBadges({historicalData:J,processedSeasonalRecords:e,draftPicksBySeason:G,transactions:U,usersData:E});R(t||{}),B(n||[])}catch(g){h.A.error("Error computing badges:",g),R({}),B([])}}else T({}),D(null);z(!1),h.A.debug("SleeperDataContext: Final nflPlayers state:",C),h.A.debug("SleeperDataContext: Final draftsBySeason state:",V),h.A.debug("SleeperDataContext: Final draftPicksBySeason state:",G),h.A.debug("SleeperDataContext: Final historicalMatchups (merged historicalData) state:",J)}catch(k){h.A.error("Failed to load initial Sleeper data:",k),Q(k),z(!1)}})()},[]);const Z=(0,t.useMemo)(()=>({draftsBySeason:_,draftPicksBySeason:E,tradedPicksBySeason:(()=>{const e={};return _&&Object.keys(_).forEach(t=>{var n;e[t]=(null===(n=_[t])||void 0===n?void 0:n.tradedPicks)||[]}),k&&k.tradedPicksBySeason&&Object.assign(e,k.tradedPicksBySeason),e})()}),[_,E,k]),ee=(0,t.useMemo)(()=>{try{const e=Object.values(E||{});return(Array.isArray(e)?e.flat():[])||[]}catch(e){return[]}},[E]),te=Array.isArray(a)&&a.length>0?a[0]:a,ne=(null===te||void 0===te?void 0:te.season)||(Array.isArray(a)&&a.length>0?null===(n=a[0])||void 0===n?void 0:n.season:null),re=(0,t.useMemo)(()=>({leagueData:a,usersData:i,rostersWithDetails:c,nflPlayers:m,nflState:g,historicalData:k,draftsBySeason:_,draftPicksBySeason:E,draftHistoryBySeason:Z,allDraftHistory:ee,processedSeasonalRecords:A,badgesByTeam:M,recentBadges:L,careerDPRData:C,transactions:F,loading:U,error:V,currentSeason:ne,getTeamName:$,getTeamDetails:J}),[a,i,c,m,g,k,_,E,Z,ee,A,C,F,U,V,ne,$,J]);return(0,G.jsx)(q.Provider,{value:re,children:r})},X=()=>{const e=(0,t.useContext)(q);if(void 0===e)throw new Error("useSleeperData must be used within a SleeperDataProvider");return e};function $(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const J=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=$(e))&&(r&&(r+=" "),r+=t);return r};var Z=n(9889),ee=n.n(Z),te=n(620),ne=n.n(te),re=n(5268),ae=n.n(re),se=n(3097),oe=n.n(se),ie=n(9160),le=n.n(ie),ce=n(9686),ue=n.n(ce),de=function(e){return 0===e?0:e>0?1:-1},he=function(e){return ne()(e)&&e.indexOf("%")===e.length-1},fe=function(e){return le()(e)&&!ae()(e)},me=function(e){return fe(e)||ne()(e)},pe=0,ge=function(e){var t=++pe;return"".concat(e||"").concat(t)},ye=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!fe(e)&&!ne()(e))return r;if(he(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return ae()(n)&&(n=r),a&&n>t&&(n=t),n},ve=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},xe=function(e,t){return fe(e)&&fe(t)?function(n){return e+n*(t-e)}:function(){return t}};function be(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):oe()(e,t))===n}):null}var we=function(e,t){return fe(e)&&fe(t)?e-t:ne()(e)&&ne()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Se=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},ke=n(1629),je=n.n(ke),_e=n(6686),Ne=n.n(_e),Pe=n(9062);function Ee(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}var Ae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Te=["points","pathLength"],Ie={svg:["viewBox","children"],polygon:Te,polyline:Te},Ce=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],De=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!Ne()(r))return null;var a={};return Object.keys(r).forEach(function(e){Ce.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},Me=function(e,t,n){if(!Ne()(e)||"object"!==Oe(e))return null;var r=null;return Object.keys(e).forEach(function(a){var s=e[a];Ce.includes(a)&&"function"===typeof s&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))}),r},Re=["children"],Le=["children"];function Be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var We={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ue=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ze=null,Ve=null,He=function e(n){if(n===ze&&Array.isArray(Ve))return Ve;var r=[];return t.Children.forEach(n,function(t){ue()(t)||((0,Pe.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Ve=r,ze=n,r};function Ge(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Ue(e)}):[Ue(t)],He(e).forEach(function(e){var t=oe()(e,"type.displayName")||oe()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function qe(e,t){var n=Ge(e,t);return n&&n[0]}var Ke=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!fe(n)||n<=0||!fe(r)||r<=0)},Ye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qe=function(e){return e&&e.type&&ne()(e.type)&&Ye.indexOf(e.type)>=0},Xe=function(e){return e&&"object"===Fe(e)&&"clipDot"in e},$e=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!Ne()(a))return null;var s={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,s=null!==(a=null===Ie||void 0===Ie?void 0:Ie[r])&&void 0!==a?a:[];return t.startsWith("data-")||!je()(e)&&(r&&s.includes(t)||Ae.includes(t))||n&&Ce.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(s[e]=a[e])}),s},Je=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return Ze(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var o=n[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Ze(o,i))return!1}return!0},Ze=function(e,t){if(ue()(e)&&ue()(t))return!0;if(!ue()(e)&&!ue()(t)){var n=e.props||{},r=n.children,a=Be(n,Re),s=t.props||{},o=s.children,i=Be(s,Le);return r&&o?Ee(a,i)&&Je(r,o):!r&&!o&&Ee(a,i)}return!1},et=function(e,t){var n=[],r={};return He(e).forEach(function(e,a){if(Qe(e))n.push(e);else if(e){var s=Ue(e.type),o=t[s]||{},i=o.handler,l=o.once;if(i&&(!l||!r[s])){var c=i(e,s,a);n.push(c),r[s]=!0}}}),n};function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach(function(t){at(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function at(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,s=void 0===a?{width:-1,height:-1}:a,o=e.width,i=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,p=e.debounce,g=void 0===p?0:p,y=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,S=(0,t.useRef)(null),k=(0,t.useRef)();k.current=x,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=st((0,t.useState)({containerWidth:s.width,containerHeight:s.height}),2),_=j[0],N=j[1],P=(0,t.useCallback)(function(e,t){N(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;P(r,a),null===(t=k.current)||void 0===t||t.call(k,r,a)};g>0&&(e=ee()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,a=n.height;return P(r,a),t.observe(S.current),function(){t.disconnect()}},[P,g]);var E=(0,t.useMemo)(function(){var e=_.containerWidth,n=_.containerHeight;if(e<0||n<0)return null;Se(he(i)||he(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,c),Se(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=he(i)?e:i,s=he(c)?n:c;r&&r>0&&(a?s=a/r:s&&(a=s*r),f&&s>f&&(s=f)),Se(a>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,s,i,c,d,h,r);var o=!Array.isArray(m)&&Ue(m.type).endsWith("Chart");return t.Children.map(m,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,rt({width:a,height:s},o?{style:rt({height:"100%",width:"100%",maxHeight:s,maxWidth:a},e.props.style)}:{})):e})},[r,m,c,f,h,d,_,i]);return t.createElement("div",{id:y?"".concat(y):void 0,className:J("recharts-responsive-container",v),style:rt(rt({},w),{},{width:i,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},E)}),lt=n(6604),ct=n.n(lt),ut=n(7424),dt=n.n(ut),ht="Invariant failed";function ft(e,t){if(!e)throw new Error(ht)}var mt=["children","width","height","viewBox","className","style","title","desc"];function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yt(e){var n=e.children,r=e.width,a=e.height,s=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,u=gt(e,mt),d=s||{width:r,height:a,x:0,y:0},h=J("recharts-surface",o);return t.createElement("svg",pt({},$e(u,!0,"svg"),{className:h,width:r,height:a,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var vt=["children","className"];function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wt=t.forwardRef(function(e,n){var r=e.children,a=e.className,s=bt(e,vt),o=J("recharts-layer",a);return t.createElement("g",xt({className:o},$e(s,!0),{ref:n}),r)});function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt.apply(this,arguments)}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){Et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Et(e,t,n){return t=function(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){return Array.isArray(e)&&me(e[0])&&me(e[1])?e.join(" ~ "):e}var At=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,s=void 0===a?{}:a,o=e.itemStyle,i=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=Pt({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Pt({margin:0},c),w=!ue()(p),S=w?p:"",k=J("recharts-default-tooltip",f),j=J("recharts-tooltip-label",m);w&&g&&void 0!==u&&null!==u&&(S=g(p,u));var _=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",kt({className:k,style:x},_),t.createElement("p",{className:j,style:b},t.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?dt()(u,h):u).map(function(e,n){if("none"===e.type)return null;var a=Pt({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||d||Ot,o=e.value,l=e.name,c=o,h=l;if(s&&null!=c&&null!=h){var f=s(o,l,e,n,u);if(Array.isArray(f)){var m=jt(f,2);c=m[0],h=m[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},me(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,me(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function It(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct="recharts-tooltip-wrapper",Dt={visibility:"hidden"};function Mt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return J(Ct,It(It(It(It({},"".concat(Ct,"-right"),fe(n)&&t&&fe(t.x)&&n>=t.x),"".concat(Ct,"-left"),fe(n)&&t&&fe(t.x)&&n<t.x),"".concat(Ct,"-bottom"),fe(r)&&t&&fe(t.y)&&r>=t.y),"".concat(Ct,"-top"),fe(r)&&t&&fe(t.y)&&r<t.y))}function Rt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&fe(s[r]))return s[r];var u=n[r]-i-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+i>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach(function(t){Gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qt(r.key),r)}}function Ut(e,t,n){return t=Vt(t),function(e,t){if(t&&("object"===Lt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zt()?Reflect.construct(t,n||[],Vt(e).constructor):t.apply(e,n))}function zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zt=function(){return!!e})()}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}function Gt(e,t,n){return(t=qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}var Kt=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Gt(e=Ut(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gt(e,"handleKeyDown",function(t){var n,r,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ht(e,t)}(n,e),r=n,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,m=n.useTranslate3d,p=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Rt({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Rt({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Dt,cssClasses:Mt({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),v=y.cssClasses,x=y.cssProperties,b=Ft(Ft({transition:u&&r?"transform ".concat(s,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},i)}}])&&Wt(r.prototype,a),s&&Wt(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent),Yt={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Yt[e]},set:function(e,t){if("string"===typeof e)Yt[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Yt[t]=e[t]})}}},Qt=n(977),Xt=n.n(Qt);function $t(e,t,n){return!0===t?Xt()(e,n):je()(t)?Xt()(e,t):e}function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach(function(t){on(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function nn(e,t,n){return t=an(t),function(e,t){if(t&&("object"===Jt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rn()?Reflect.construct(t,n||[],an(e).constructor):t.apply(e,n))}function rn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rn=function(){return!!e})()}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}function sn(e,t){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sn(e,t)}function on(e,t,n){return(t=ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e){var t=function(e,t){if("object"!=Jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jt(t)?t:t+""}function cn(e){return e.dataKey}var un=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),nn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sn(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,m=n.position,p=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=$t(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,cn));var b=x.length>0;return t.createElement(Kt,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:b,offset:d,position:m,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(At,n)}(i,en(en({},this.props),{},{payload:x})))}}])&&tn(r.prototype,a),s&&tn(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);on(un,"displayName","Tooltip"),on(un,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dn=n(643),hn=n.n(dn);Math.abs,Math.atan2;const fn=Math.cos,mn=(Math.max,Math.min,Math.sin),pn=Math.sqrt,gn=Math.PI,yn=2*gn;const vn={draw(e,t){const n=pn(t/gn);e.moveTo(n,0),e.arc(0,0,n,0,yn)}},xn={draw(e,t){const n=pn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bn=pn(1/3),wn=2*bn,Sn={draw(e,t){const n=pn(t/wn),r=n*bn;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kn={draw(e,t){const n=pn(t),r=-n/2;e.rect(r,r,n,n)}},jn=mn(gn/10)/mn(7*gn/10),_n=mn(yn/10)*jn,Nn=-fn(yn/10)*jn,Pn={draw(e,t){const n=pn(.8908130915292852*t),r=_n*n,a=Nn*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=yn*s/5,o=fn(t),i=mn(t);e.lineTo(i*n,-o*n),e.lineTo(o*r-i*a,i*r+o*a)}e.closePath()}},En=pn(3),On={draw(e,t){const n=-pn(t/(3*En));e.moveTo(0,2*n),e.lineTo(-En*n,-n),e.lineTo(En*n,-n),e.closePath()}},An=-.5,Tn=pn(3)/2,In=1/pn(12),Cn=3*(In/2+1),Dn={draw(e,t){const n=pn(t/Cn),r=n/2,a=n*In,s=r,o=n*In+n,i=-s,l=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(i,l),e.lineTo(An*r-Tn*a,Tn*r+An*a),e.lineTo(An*s-Tn*o,Tn*s+An*o),e.lineTo(An*i-Tn*l,Tn*i+An*l),e.lineTo(An*r+Tn*a,An*a-Tn*r),e.lineTo(An*s+Tn*o,An*o-Tn*s),e.lineTo(An*i+Tn*l,An*l-Tn*i),e.closePath()}};function Mn(e){return function(){return e}}function Rn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ln,Bn,Fn,Wn,Un,zn,Vn,Hn,Gn,qn,Kn,Yn,Qn,Xn;const $n=Math.PI,Jn=2*$n,Zn=1e-6,er=Jn-Zn;function tr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class nr{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?tr:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return tr;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Ln||(Ln=Rn(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Bn||(Bn=Rn(["Z"]))))}lineTo(e,t){this._append(Fn||(Fn=Rn(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Wn||(Wn=Rn(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(Un||(Un=Rn(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,o=this._y1,i=n-e,l=r-t,c=s-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(zn||(zn=Rn(["M",",",""])),this._x1=e,this._y1=t);else if(d>Zn)if(Math.abs(u*i-l*c)>Zn&&a){let h=n-s,f=r-o,m=i*i+l*l,p=h*h+f*f,g=Math.sqrt(m),y=Math.sqrt(d),v=a*Math.tan(($n-Math.acos((m+d-p)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>Zn&&this._append(Hn||(Hn=Rn(["L",",",""])),e+x*c,t+x*u),this._append(Gn||(Gn=Rn(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*i,this._y1=t+b*l)}else this._append(Vn||(Vn=Rn(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),i=n*Math.sin(r),l=e+o,c=t+i,u=1^s,d=s?r-a:a-r;null===this._x1?this._append(qn||(qn=Rn(["M",",",""])),l,c):(Math.abs(this._x1-l)>Zn||Math.abs(this._y1-c)>Zn)&&this._append(Kn||(Kn=Rn(["L",",",""])),l,c),n&&(d<0&&(d=d%Jn+Jn),d>er?this._append(Yn||(Yn=Rn(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-i,n,n,u,this._x1=l,this._y1=c):d>Zn&&this._append(Qn||(Qn=Rn(["A",",",",0,",",",",",",",""])),n,n,+(d>=$n),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(Xn||(Xn=Rn(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function rr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new nr(t)}pn(3),pn(3);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}var sr=["type","size","sizeType"];function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach(function(t){cr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ar(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var dr={symbolCircle:vn,symbolCross:xn,symbolDiamond:Sn,symbolSquare:kn,symbolStar:Pn,symbolTriangle:On,symbolWye:Dn},hr=Math.PI/180,fr=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,s=void 0===a?64:a,o=e.sizeType,i=void 0===o?"area":o,l=lr(lr({},ur(e,sr)),{},{type:r,size:s,sizeType:i}),c=l.className,u=l.cx,d=l.cy,h=$e(l,!0);return u===+u&&d===+d&&s===+s?t.createElement("path",or({},h,{className:J("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(hn()(e));return dr[t]||vn}(r),t=function(e,t){let n=null,r=rr(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Mn(e||vn),t="function"===typeof t?t:Mn(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Mn(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Mn(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*hr;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,i,r));return t()}()})):null};function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kr(r.key),r)}}function vr(e,t,n){return t=br(t),function(e,t){if(t&&("object"===mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xr()?Reflect.construct(t,n||[],br(e).constructor):t.apply(e,n))}function xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xr=function(){return!!e})()}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Sr(e,t,n){return(t=kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e){var t=function(e,t){if("object"!=mr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mr(t)?t:t+""}fr.registerSymbol=function(e,t){dr["symbol".concat(hn()(e))]=t};var jr=32,_r=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),vr(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=jr/6,s=jr/3,o=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:jr,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(jr,"M").concat(2*s,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(jr,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach(function(t){Sr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete i.legendIcon,t.cloneElement(e.legendIcon,i)}return t.createElement(fr,{fill:o,cx:r,cy:r,size:jr,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,s=n.layout,o=n.formatter,i=n.inactiveColor,l={x:0,y:0,width:jr,height:jr},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var s=n.formatter||o,d=J(Sr(Sr({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=je()(n.value)?null:n.value;Se(!je()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?i:n.color;return t.createElement("li",pr({className:d,style:c,key:"legend-item-".concat(r)},Me(e.props,n,r)),t.createElement(yt,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],a&&yr(r.prototype,a),s&&yr(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}Sr(_r,"displayName","Legend"),Sr(_r,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Pr=["ref"];function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach(function(t){Mr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rr(r.key),r)}}function Tr(e,t,n){return t=Cr(t),function(e,t){if(t&&("object"===Nr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ir()?Reflect.construct(t,n||[],Cr(e).constructor):t.apply(e,n))}function Ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ir=function(){return!!e})()}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function Dr(e,t){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dr(e,t)}function Mr(e,t,n){return(t=Rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e){var t=function(e,t){if("object"!=Nr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nr(t)?t:t+""}function Lr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Br(e){return e.value}var Fr=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Mr(e=Tr(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(n,e),r=n,s=[{key:"getWithHeight",value:function(e,t){var n=Or(Or({},this.defaultProps),e.props).layout;return"vertical"===n&&fe(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Or({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,s=r.align,o=r.verticalAlign,i=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:i&&i.right||0}:{left:i&&i.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),Or(Or({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,s=n.height,o=n.wrapperStyle,i=n.payloadUniqBy,l=n.payload,c=Or(Or({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=Lr(n,Pr);return t.createElement(_r,r)}(r,Or(Or({},this.props),{},{payload:$t(l,i,Br)})))}}])&&Ar(r.prototype,a),s&&Ar(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}Mr(Fr,"displayName","Legend"),Mr(Fr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ur=function(e){var n=e.cx,r=e.cy,a=e.r,s=e.className,o=J("recharts-dot",s);return n===+n&&r===+r&&a===+a?t.createElement("circle",Wr({},$e(e,!1),De(e),{className:o,cx:n,cy:r,r:a})):null},zr=n(5173),Vr=n.n(zr),Hr=Object.getOwnPropertyNames,Gr=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty;function Kr(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Yr(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,s=a.get(t),o=a.get(n);if(s&&o)return s===n&&o===t;a.set(t,n),a.set(n,t);var i=e(t,n,r);return a.delete(t),a.delete(n),i}}function Qr(e){return Hr(e).concat(Gr(e))}var Xr=Object.hasOwn||function(e,t){return qr.call(e,t)};function $r(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Jr=Object.getOwnPropertyDescriptor,Zr=Object.keys;function ea(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function ta(e,t){return $r(e.getTime(),t.getTime())}function na(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ra(e,t){return e===t}function aa(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.entries(),l=0;(a=i.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(o[d])d++;else{var h=a.value,f=s.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var sa=$r;function oa(e,t,n){var r=Zr(e),a=r.length;if(Zr(t).length!==a)return!1;for(;a-- >0;)if(!fa(e,t,n,r[a]))return!1;return!0}function ia(e,t,n){var r,a,s,o=Qr(e),i=o.length;if(Qr(t).length!==i)return!1;for(;i-- >0;){if(!fa(e,t,n,r=o[i]))return!1;if(a=Jr(e,r),s=Jr(t,r),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function la(e,t){return $r(e.valueOf(),t.valueOf())}function ca(e,t){return e.source===t.source&&e.flags===t.flags}function ua(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.values();(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!o[u]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function da(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function ha(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fa(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Xr(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var ma=Array.isArray,pa="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ga=Object.assign,ya=Object.prototype.toString.call.bind(Object.prototype.toString);var va=xa();xa({strict:!0}),xa({circular:!0}),xa({circular:!0,strict:!0}),xa({createInternalComparator:function(){return $r}}),xa({strict:!0,createInternalComparator:function(){return $r}}),xa({circular:!0,createInternalComparator:function(){return $r}}),xa({circular:!0,createInternalComparator:function(){return $r},strict:!0});function xa(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,s=e.createState,o=e.strict,i=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?ia:ea,areDatesEqual:ta,areErrorsEqual:na,areFunctionsEqual:ra,areMapsEqual:r?Kr(aa,ia):aa,areNumbersEqual:sa,areObjectsEqual:r?ia:oa,arePrimitiveWrappersEqual:la,areRegExpsEqual:ca,areSetsEqual:r?Kr(ua,ia):ua,areTypedArraysEqual:r?ia:da,areUrlsEqual:ha};if(n&&(a=ga({},a,n(a))),t){var s=Yr(a.areArraysEqual),o=Yr(a.areMapsEqual),i=Yr(a.areObjectsEqual),l=Yr(a.areSetsEqual);a=ga({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,i=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,m){if(e===f)return!0;if(null==e||null==f)return!1;var p=typeof e;if(p!==typeof f)return!1;if("object"!==p)return"number"===p?o(e,f,m):"function"===p&&a(e,f,m);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return i(e,f,m);if(ma(e))return t(e,f,m);if(null!=pa&&pa(e))return d(e,f,m);if(g===Date)return n(e,f,m);if(g===RegExp)return c(e,f,m);if(g===Map)return s(e,f,m);if(g===Set)return u(e,f,m);var y=ya(e);return"[object Date]"===y?n(e,f,m):"[object RegExp]"===y?c(e,f,m):"[object Map]"===y?s(e,f,m):"[object Set]"===y?u(e,f,m):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&i(e,f,m):"[object URL]"===y?h(e,f,m):"[object Error]"===y?r(e,f,m):"[object Arguments]"===y?i(e,f,m):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,m)}}(l),u=a?a(c):(t=c,function(e,n,r,a,s,o,i){return t(e,n,i)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(e,o){var i=r(),l=i.cache,c=void 0===l?t?new WeakMap:void 0:l,u=i.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:s,equals:u,strict:i})}function ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function Sa(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ja(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=Sa(r),s=a[0],o=a.slice(1);return"number"===typeof s?void ba(n.bind(null,o),s):(n(s),void ba(n.bind(null,o)))}"object"===wa(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function _a(e){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(e)}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach(function(t){Ea(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ea(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa=function(e){return e},Aa=function(e,t){return Object.keys(t).reduce(function(n,r){return Pa(Pa({},n),{},Ea({},r,e(r,t[r])))},{})},Ta=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Da(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e){return function(e){if(Array.isArray(e))return Ma(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Da(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){if(e){if("string"===typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ra=1e-4,La=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Ba=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},Fa=function(e,t){return function(n){var r=La(e,t);return Ba(r,n)}},Wa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],s=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,s=1,o=1;break;case"ease":r=.25,a=.1,s=.25,o=1;break;case"ease-in":r=.42,a=0,s=1,o=1;break;case"ease-out":r=.42,a=0,s=.58,o=1;break;case"ease-in-out":r=0,a=0,s=.58,o=1;break;default:var i=t[0].split("(");if("cubic-bezier"===i[0]&&4===i[1].split(")")[0].split(",").length){var l=i[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=Ia(l,4);r=c[0],a=c[1],s=c[2],o=c[3]}}[r,s,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=Fa(r,s),f=Fa(a,o),m=(u=r,d=s,function(e){var t=La(u,d),n=[].concat(Ca(t.map(function(e,t){return e*t}).slice(1)),[0]);return Ba(n,e)}),p=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,s=m(n);if(Math.abs(a-t)<Ra||s<Ra)return f(n);n=p(n-a/s)}return f(n)};return g.isStepper=!1,g},Ua=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Wa(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,s=e.dt,o=void 0===s?17:s,i=function(e,t,r){var s=r+(-(e-t)*n-r*a)*o/1e3,i=r*o/1e3+e;return Math.abs(i-t)<Ra&&Math.abs(s)<Ra?[t,0]:[i,s]};return i.isStepper=!0,i.dt=o,i}();default:if("cubic-bezier"===r.split("(")[0])return Wa(r)}return"function"===typeof r?r:null};function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}function Va(e){return function(e){if(Array.isArray(e))return Qa(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ya(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach(function(t){qa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==za(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===za(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Ya(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(e,t){if(e){if("string"===typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xa=function(e,t,n){return e+(t-e)*n},$a=function(e){return e.from!==e.to},Ja=function e(t,n,r){var a=Aa(function(e,n){if($a(n)){var r=Ka(t(n.from,n.to,n.velocity),2),a=r[0],s=r[1];return Ga(Ga({},n),{},{from:a,velocity:s})}return n},n);return r<1?Aa(function(e,t){return $a(t)?Ga(Ga({},t),{},{velocity:Xa(t.velocity,a[e].velocity,r),from:Xa(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const Za=function(e,t,n,r,a){var s,o,i,l,c=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return Ga(Ga({},n),{},qa({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return Ga(Ga({},n),{},qa({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){i||(i=r);var s=(r-i)/n.dt;d=Ja(n,d,s),a(Ga(Ga(Ga({},e),t),Aa(function(e,t){return t.from},d))),i=r,Object.values(d).filter($a).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var o=(s-l)/r,i=Aa(function(e,t){return Xa.apply(void 0,Va(t).concat([n(o)]))},u);if(a(Ga(Ga(Ga({},e),t),i)),o<1)h=requestAnimationFrame(f);else{var c=Aa(function(e,t){return Xa.apply(void 0,Va(t).concat([n(1)]))},u);a(Ga(Ga(Ga({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function es(e){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(e)}var ts=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ns(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rs(e){return function(e){if(Array.isArray(e))return as(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach(function(t){is(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function is(e,t,n){return(t=cs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cs(r.key),r)}}function cs(e){var t=function(e,t){if("object"!==es(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===es(t)?t:String(t)}function us(e,t){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},us(e,t)}function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=ms(e);if(t){var a=ms(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(e,t){if(t&&("object"===es(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fs(e)}function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ms(e)}var ps=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&us(e,t)}(o,e);var n,r,a,s=ds(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=s.call(this,e,t)).props,a=r.isActive,i=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(fs(n)),n.changeStyle=n.changeStyle.bind(fs(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),hs(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},hs(n);n.state={style:i?is({},i,l):l}}else n.state={style:{}};return n}return n=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,o=t.to,i=t.from,l=this.state.style;if(r)if(n){if(!(va(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?i:e.to;if(this.state&&l){var d={style:a?is({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(os(os({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?is({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,s=e.easing,o=e.begin,i=e.onAnimationEnd,l=e.onAnimationStart,c=Za(n,r,Ua(s),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,i])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,s=n[0],o=s.style,i=s.duration,l=void 0===i?0:i;return this.manager.start([a].concat(rs(n.reduce(function(e,r,a){if(0===a)return e;var s=r.duration,o=r.easing,i=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof i||"spring"===i)return[].concat(rs(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:i}),s]);var f=Ta(h,s,i),m=os(os(os({},d.style),l),{},{transition:f});return[].concat(rs(e),[m,s,u]).filter(Oa)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ja());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,s=e.easing,o=e.onAnimationStart,i=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=r?is({},r,a):a,h=Ta(Object.keys(d),n,s);u.start([o,t,os(os({},d),{},{transition:h}),n,i])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,ns(e,ts)),o=t.Children.count(n),i=this.state.style;if("function"===typeof n)return n(i);if(!a||0===o||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,o=n.className;return(0,t.cloneElement)(e,os(os({},s),{},{style:os(os({},a),i),className:o}))};return 1===o?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&ls(n.prototype,r),a&&ls(n,a),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.PureComponent);ps.displayName="Animate",ps.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},ps.propTypes={from:Vr().oneOfType([Vr().object,Vr().string]),to:Vr().oneOfType([Vr().object,Vr().string]),attributeName:Vr().string,duration:Vr().number,begin:Vr().number,easing:Vr().oneOfType([Vr().string,Vr().func]),steps:Vr().arrayOf(Vr().shape({duration:Vr().number.isRequired,style:Vr().object.isRequired,easing:Vr().oneOfType([Vr().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vr().func]),properties:Vr().arrayOf("string"),onAnimationEnd:Vr().func})),children:Vr().oneOfType([Vr().node,Vr().func]),isActive:Vr().bool,canBegin:Vr().bool,onAnimationEnd:Vr().func,shouldReAnimate:Vr().bool,onAnimationStart:Vr().func,onAnimationReStart:Vr().func};const gs=ps;function ys(e){return ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach(function(t){ks(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ks(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ys(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ys(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ys(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var js=function(e,t,n,r,a){var s,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),i=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];s="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+i*u[1])),s+="L ".concat(e+n,",").concat(t+r-i*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-i*u[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);s="M ".concat(e,",").concat(t+i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+i*h,"\n            L ").concat(e+n,",").concat(t+r-i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-i*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},_s=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,s=t.y,o=t.width,i=t.height;if(Math.abs(o)>0&&Math.abs(i)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(s,s+i),d=Math.max(s,s+i);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Ns={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ps=function(e){var n=Ss(Ss({},Ns),e),r=(0,t.useRef)(),a=xs((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,m=n.animationDuration,p=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=J("recharts-rectangle",h);return y?t.createElement(gs,{canBegin:s>0,from:{width:c,height:u,x:i,y:l},to:{width:c,height:u,x:i,y:l},duration:m,animationEasing:f,isActive:y},function(e){var a=e.width,o=e.height,i=e.x,l=e.y;return t.createElement(gs,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:g,easing:f},t.createElement("path",vs({},$e(n,!0),{className:v,d:js(i,l,a,o,d),ref:r})))}):t.createElement("path",vs({},$e(n,!0),{className:v,d:js(i,l,c,u,d)}))};function Es(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Os(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class As extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ds;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Ts(this,e))}has(e){return super.has(Ts(this,e))}set(e,t){return super.set(Is(this,e),t)}delete(e){return super.delete(Cs(this,e))}}Set;function Ts(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function Is(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Cs(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Ds(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Ms=Symbol("implicit");function Rs(){var e=new As,t=[],n=[],r=Ms;function a(a){let s=e.get(a);if(void 0===s){if(r!==Ms)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new As;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Rs(t,n).unknown(r)},Es.apply(a,arguments),a}function Ls(){var e,t,n=Rs().unknown(void 0),r=n.domain,a=n.range,s=0,o=1,i=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<s,h=d?o:s,f=d?s:o;e=(f-h)/Math.max(1,n-l+2*c),i&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),i&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return a(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,d()):[s,o]},n.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,i=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(i=!!e,d()):i},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Ls(r(),[s,o]).round(i).paddingInner(l).paddingOuter(c).align(u)},Es.apply(d(),arguments)}function Bs(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bs(t())},e}function Fs(){return Bs(Ls.apply(null,arguments).paddingInner(1))}function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach(function(t){Vs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ws(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ws(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hs={widthCache:{},cacheCount:0},Gs={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qs="recharts_measurement_span";var Ks=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Yt.isSsr)return{width:0,height:0};var n=function(e){var t=zs({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Hs.widthCache[r])return Hs.widthCache[r];try{var a=document.getElementById(qs);a||((a=document.createElement("span")).setAttribute("id",qs),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=zs(zs({},Gs),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),i={width:o.width,height:o.height};return Hs.widthCache[r]=i,++Hs.cacheCount>2e3&&(Hs.cacheCount=0,Hs.widthCache={}),i}catch(l){return{width:0,height:0}}};function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Js(r.key),r)}}function Js(e){var t=function(e,t){if("object"!=Ys(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ys(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ys(t)?t:t+""}var Zs=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,to=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,no=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ro={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ao=Object.keys(ro),so="NaN";var oo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||to.test(n)||(this.num=NaN,this.unit=""),ao.includes(n)&&(this.num=function(e,t){return e*ro[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Qs(null!==(n=no.exec(t))&&void 0!==n?n:[],3),a=r[1],s=r[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&$s(t.prototype,n),r&&$s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function io(e){if(e.includes(so))return so;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Qs(null!==(n=Zs.exec(t))&&void 0!==n?n:[],4),a=r[1],s=r[2],o=r[3],i=oo.parse(null!==a&&void 0!==a?a:""),l=oo.parse(null!==o&&void 0!==o?o:""),c="*"===s?i.multiply(l):i.divide(l);if(c.isNaN())return so;t=t.replace(Zs,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Qs(null!==(u=eo.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],m=d[3],p=oo.parse(null!==h&&void 0!==h?h:""),g=oo.parse(null!==m&&void 0!==m?m:""),y="+"===f?p.add(g):p.subtract(g);if(y.isNaN())return so;t=t.replace(eo,y.toString())}return t}var lo=/\(([^()]*)\)/;function co(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Qs(lo.exec(t),2)[1];t=t.replace(lo,io(n))}return t}(t),t=io(t)}function uo(e){var t=function(e){try{return co(e)}catch(t){return so}}(e.slice(5,-1));return t===so?"":t}var ho=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fo=["dx","dy","angle","className","breakAll"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(this,arguments)}function po(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo=/[ \f\n\r\t\v\u2028\u2029]+/,xo=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return ue()(t)||(a=n?t.toString().split(""):t.toString().split(vo)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ks(e,r).width}}),spaceWidth:n?0:Ks("\xa0",r).width}}catch(s){return null}},bo=function(e){return[{words:ue()(e)?[]:e.toString().split(vo)}]},wo=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((t||n)&&!Yt.isSsr){var i=xo({breakAll:s,children:r,style:a});return i?function(e,t,n,r,a){var s=e.maxLines,o=e.children,i=e.style,l=e.breakAll,c=fe(s),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,o=t.width,i=e[e.length-1];if(i&&(null==r||a||i.width+o+n<Number(r)))i.words.push(s),i.width+=o+n;else{var l={words:[s],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,m=function(e){var t=u.slice(0,e),n=xo({breakAll:l,style:i,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},p=0,g=u.length-1,y=0;p<=g&&y<=u.length-1;){var v=Math.floor((p+g)/2),x=go(m(v-1),2),b=x[0],w=x[1],S=go(m(v),1)[0];if(b||S||(p=v+1),b&&S&&(g=v-1),!b&&S){f=w;break}y++}return f||h}({breakAll:s,children:r,maxLines:o,style:a},i.wordsWithComputedWidth,i.spaceWidth,t,n):bo(r)}return bo(r)},So="#808080",ko=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.lineHeight,i=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,m=e.verticalAnchor,p=void 0===m?"end":m,g=e.fill,y=void 0===g?So:g,v=po(e,ho),x=(0,t.useMemo)(function(){return wo({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,S=v.angle,k=v.className,j=v.breakAll,_=po(v,fo);if(!me(r)||!me(s))return null;var N,P=r+(fe(b)?b:0),E=s+(fe(w)?w:0);switch(p){case"start":N=uo("calc(".concat(c,")"));break;case"middle":N=uo("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:N=uo("calc(".concat(x.length-1," * -").concat(i,")"))}var O=[];if(d){var A=x[0].width,T=v.width;O.push("scale(".concat((fe(T)?T/A:1)/A,")"))}return S&&O.push("rotate(".concat(S,", ").concat(P,", ").concat(E,")")),O.length&&(_.transform=O.join(" ")),t.createElement("text",mo({},$e(_,!0),{x:P,y:E,className:J("recharts-text",k),textAnchor:f,fill:y.includes("url")?So:y}),x.map(function(e,n){var r=e.words.join(j?"":" ");return t.createElement("tspan",{x:P,dy:0===n?N:i,key:"".concat(r,"-").concat(n)},r)}))};const jo=Math.sqrt(50),_o=Math.sqrt(10),No=Math.sqrt(2);function Po(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=jo?10:s>=_o?5:s>=No?2:1;let i,l,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(e*c),l=Math.round(t*c),i/c<e&&++i,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,i=Math.round(e/c),l=Math.round(t/c),i*c<e&&++i,l*c>t&&--l),l<i&&.5<=n&&n<2?Po(e,t,2*n):[i,l,c]}function Eo(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,o]=r?Po(t,e,n):Po(e,t,n);if(!(s>=a))return[];const i=s-a+1,l=new Array(i);if(r)if(o<0)for(let c=0;c<i;++c)l[c]=(s-c)/-o;else for(let c=0;c<i;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<i;++c)l[c]=(a+c)/-o;else for(let c=0;c<i;++c)l[c]=(a+c)*o;return l}function Oo(e,t,n){return Po(e=+e,t=+t,n=+n)[2]}function Ao(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Oo(t,e,n):Oo(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function To(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Io(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Co(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=To,n=(t,n)=>To(e(t),n),r=(t,n)=>e(t)-n):(t=e===To||e===Io?e:Do,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function Do(){return 0}function Mo(e){return null===e?NaN:+e}const Ro=Co(To),Lo=Ro.right,Bo=(Ro.left,Co(Mo).center,Lo);function Fo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uo(){}var zo=.7,Vo=1/zo,Ho="\\s*([+-]?\\d+)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ko=/^#([0-9a-f]{3,8})$/,Yo=new RegExp("^rgb\\(".concat(Ho,",").concat(Ho,",").concat(Ho,"\\)$")),Qo=new RegExp("^rgb\\(".concat(qo,",").concat(qo,",").concat(qo,"\\)$")),Xo=new RegExp("^rgba\\(".concat(Ho,",").concat(Ho,",").concat(Ho,",").concat(Go,"\\)$")),$o=new RegExp("^rgba\\(".concat(qo,",").concat(qo,",").concat(qo,",").concat(Go,"\\)$")),Jo=new RegExp("^hsl\\(".concat(Go,",").concat(qo,",").concat(qo,"\\)$")),Zo=new RegExp("^hsla\\(".concat(Go,",").concat(qo,",").concat(qo,",").concat(Go,"\\)$")),ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ti(){return this.rgb().formatHex()}function ni(){return this.rgb().formatRgb()}function ri(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ko.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ai(t):3===n?new ii(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?si(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?si(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Yo.exec(e))?new ii(t[1],t[2],t[3],1):(t=Qo.exec(e))?new ii(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Xo.exec(e))?si(t[1],t[2],t[3],t[4]):(t=$o.exec(e))?si(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Jo.exec(e))?fi(t[1],t[2]/100,t[3]/100,1):(t=Zo.exec(e))?fi(t[1],t[2]/100,t[3]/100,t[4]):ei.hasOwnProperty(e)?ai(ei[e]):"transparent"===e?new ii(NaN,NaN,NaN,0):null}function ai(e){return new ii(e>>16&255,e>>8&255,255&e,1)}function si(e,t,n,r){return r<=0&&(e=t=n=NaN),new ii(e,t,n,r)}function oi(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Uo||(e=ri(e)),e?new ii((e=e.rgb()).r,e.g,e.b,e.opacity):new ii}(e):new ii(e,t,n,null==r?1:r)}function ii(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function li(){return"#".concat(hi(this.r)).concat(hi(this.g)).concat(hi(this.b))}function ci(){const e=ui(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(di(this.r),", ").concat(di(this.g),", ").concat(di(this.b)).concat(1===e?")":", ".concat(e,")"))}function ui(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function di(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hi(e){return((e=di(e))<16?"0":"")+e.toString(16)}function fi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pi(e,t,n,r)}function mi(e){if(e instanceof pi)return new pi(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=ri(e)),!e)return new pi;if(e instanceof pi)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(n-r)/i+6*(n<r):n===s?(r-t)/i+2:(t-n)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new pi(o,i,l,e.opacity)}function pi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gi(e){return(e=(e||0)%360)<0?e+360:e}function yi(e){return Math.max(0,Math.min(1,e||0))}function vi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function xi(e,t,n,r,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*a)/6}Fo(Uo,ri,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ti,formatHex:ti,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return mi(this).formatHsl()},formatRgb:ni,toString:ni}),Fo(ii,oi,Wo(Uo,{brighter(e){return e=null==e?Vo:Math.pow(Vo,e),new ii(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?zo:Math.pow(zo,e),new ii(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ii(di(this.r),di(this.g),di(this.b),ui(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:li,formatHex:li,formatHex8:function(){return"#".concat(hi(this.r)).concat(hi(this.g)).concat(hi(this.b)).concat(hi(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ci,toString:ci})),Fo(pi,function(e,t,n,r){return 1===arguments.length?mi(e):new pi(e,t,n,null==r?1:r)},Wo(Uo,{brighter(e){return e=null==e?Vo:Math.pow(Vo,e),new pi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?zo:Math.pow(zo,e),new pi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ii(vi(e>=240?e-240:e+120,a,r),vi(e,a,r),vi(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new pi(gi(this.h),yi(this.s),yi(this.l),ui(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ui(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(gi(this.h),", ").concat(100*yi(this.s),"%, ").concat(100*yi(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const bi=e=>()=>e;function wi(e,t){return function(n){return e+n*t}}function Si(e){return 1===(e=+e)?ki:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):bi(isNaN(t)?n:t)}}function ki(e,t){var n=t-e;return n?wi(e,n):bi(isNaN(e)?t:e)}const ji=function e(t){var n=Si(t);function r(e,t){var r=n((e=oi(e)).r,(t=oi(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),o=ki(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function _i(e){return function(t){var n,r,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(n=0;n<a;++n)r=oi(t[n]),s[n]=r.r||0,o[n]=r.g||0,i[n]=r.b||0;return s=e(s),o=e(o),i=e(i),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=i(e),r+""}}}_i(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,i=r<t-1?e[r+2]:2*s-a;return xi((n-r/t)*t,o,a,s,i)}}),_i(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],i=e[(r+2)%t];return xi((n-r/t)*t,a,s,o,i)}});function Ni(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r);for(n=0;n<a;++n)s[n]=Di(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=s[n](e);return o}}function Pi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ei(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Oi(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Di(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ti=new RegExp(Ai.source,"g");function Ii(e,t){var n,r,a,s=Ai.lastIndex=Ti.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(n=Ai.exec(e))&&(r=Ti.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(n=n[0])===(r=r[0])?i[o]?i[o]+=r:i[++o]=r:(i[++o]=null,l.push({i:o,x:Ei(n,r)})),s=Ti.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function Ci(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function Di(e,t){var n,r=typeof t;return null==t||"boolean"===r?bi(t):("number"===r?Ei:"string"===r?(n=ri(t))?(t=n,ji):Ii:t instanceof ri?ji:t instanceof Date?Pi:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Ci:Array.isArray(t)?Ni:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Oi:Ei)(e,t)}function Mi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ri(e){return+e}var Li=[0,1];function Bi(e){return e}function Fi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Wi(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Fi(a,r),s=n(o,s)):(r=Fi(r,a),s=n(s,o)),function(e){return s(r(e))}}function Ui(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Fi(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(t){var n=Bo(e,t,1,r)-1;return s[n](a[n](t))}}function zi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vi(){var e,t,n,r,a,s,o=Li,i=Li,l=Di,c=Bi;function u(){var e=Math.min(o.length,i.length);return c!==Bi&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Ui:Wi,a=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),i,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(i,o.map(e),Ei)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Ri),u()):o.slice()},d.range=function(e){return arguments.length?(i=Array.from(e),u()):i.slice()},d.rangeRound=function(e){return i=Array.from(e),l=Mi,u()},d.clamp=function(e){return arguments.length?(c=!!e||Bi,u()):c!==Bi},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Hi(){return Vi()(Bi,Bi)}var Gi,qi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(e){if(!(t=qi.exec(e)))throw new Error("invalid format: "+e);var t;return new Yi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Yi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Qi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xi(e){return(e=Qi(Math.abs(e)))?e[1]:NaN}function $i(e,t){var n=Qi(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Ki.prototype=Yi.prototype,Yi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ji={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$i(100*e,t),r:$i,s:function(e,t){var n=Qi(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Gi=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qi(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zi(e){return e}var el,tl,nl,rl=Array.prototype.map,al=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sl(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Zi:(t=rl.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],o=0,i=t[0],l=0;a>0&&i>0&&(l+i+1>r&&(i=Math.max(1,r-l)),s.push(e.substring(a-=i,a+i)),!((l+=i+1)>r));)i=t[o=(o+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?Zi:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(rl.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Ki(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(p=!0,v="g"):Ji[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?s:/[%p]/.test(v)?l:"",w=Ji[v],S=/[defgprs%]/.test(v);function k(e){var a,s,l,h=x,k=b;if("c"===v)k=w(e)+k,e="";else{var j=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),j&&0===+e&&"+"!==d&&(j=!1),h=(j?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===v?al[8+Gi/3]:"")+k+(j&&"("===d?")":""),S)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?o+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}p&&!f&&(e=r(e,1/0));var _=h.length+e.length+k.length,N=_<m?new Array(m-_+1).join(t):"";switch(p&&f&&(e=r(N+e,N.length?m-k.length:1/0),N=""),n){case"<":e=h+e+k+N;break;case"=":e=h+N+e+k;break;case"^":e=N.slice(0,_=N.length>>1)+h+e+k+N.slice(_);break;default:e=N+h+e+k}return i(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Ki(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Xi(t)/3))),a=Math.pow(10,-r),s=al[8+r/3];return function(e){return n(a*e)+s}}}}function ol(e,t,n,r){var a,s=Ao(e,t,n);switch((r=Ki(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xi(t)/3)))-Xi(Math.abs(e)))}(s,o))||(r.precision=a),nl(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xi(t)-Xi(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Xi(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return tl(r)}function il(e){var t=e.domain;return e.ticks=function(e){var n=t();return Eo(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ol(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),o=0,i=s.length-1,l=s[o],c=s[i],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=i,i=a);u-- >0;){if((a=Oo(l,c,n))===r)return s[o]=l,s[i]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function ll(){var e=Hi();return e.copy=function(){return zi(e,ll())},Es.apply(e,arguments),il(e)}function cl(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ri),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return cl(e).unknown(t)},e=arguments.length?Array.from(e,Ri):[0,1],il(n)}function ul(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],o=e[a];return o<s&&(n=r,r=a,a=n,n=s,s=o,o=n),e[r]=t.floor(s),e[a]=t.ceil(o),e}function dl(e){return Math.log(e)}function hl(e){return Math.exp(e)}function fl(e){return-Math.log(-e)}function ml(e){return-Math.exp(-e)}function pl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gl(e){return(t,n)=>-e(-t,n)}function yl(e){const t=e(dl,hl),n=t.domain;let r,a,s=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?pl:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=gl(r),a=gl(a),e(fl,ml)):e(dl,hl),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],i=t[t.length-1];const l=i<o;l&&([o,i]=[i,o]);let c,u,d=r(o),h=r(i);const f=null==e?10:+e;let m=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;m.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;m.push(u)}2*m.length<f&&(m=Eo(o,i,f))}else m=Eo(d,h,Math.min(h-d,f)).map(a);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=Ki(n)).precision||(n.trim=!0),n=tl(n)),e===1/0)return n;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=o?n(e):""}},t.nice=()=>n(ul(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function vl(){const e=yl(Vi()).domain([1,10]);return e.copy=()=>zi(e,vl()).base(e.base()),Es.apply(e,arguments),e}function xl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wl(e){var t=1,n=e(xl(t),bl(t));return n.constant=function(n){return arguments.length?e(xl(t=+n),bl(t)):t},il(n)}function Sl(){var e=wl(Vi());return e.copy=function(){return zi(e,Sl()).constant(e.constant())},Es.apply(e,arguments)}function kl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jl(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _l(e){return e<0?-e*e:e*e}function Nl(e){var t=e(Bi,Bi),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Bi,Bi):.5===n?e(jl,_l):e(kl(n),kl(1/n)):n},il(t)}function Pl(){var e=Nl(Vi());return e.copy=function(){return zi(e,Pl()).exponent(e.exponent())},Es.apply(e,arguments),e}function El(){return Pl.apply(null,arguments).exponent(.5)}function Ol(e){return Math.sign(e)*e*e}function Al(){var e,t=Hi(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Ol(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Ri)).map(Ol)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Al(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Es.apply(a,arguments),il(a)}function Tl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Il(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:To;if(e===To)return Dl;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Dl(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Dl:Cl(a);r>n;){if(r-n>600){const s=r-n+1,o=t-n+1,i=Math.log(s),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1);Ml(e,t,Math.max(n,Math.floor(t-o*l/s+c)),Math.min(r,Math.floor(t+(s-o)*l/s+c)),a)}const s=e[t];let o=n,i=r;for(Rl(e,n,t),a(e[r],s)>0&&Rl(e,n,r);o<i;){for(Rl(e,o,i),++o,--i;a(e[o],s)<0;)++o;for(;a(e[i],s)>0;)--i}0===a(e[n],s)?Rl(e,n,i):(++i,Rl(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}return e}function Rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ll(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Il(e);if(t>=1)return Tl(e);var r,a=(r-1)*t,s=Math.floor(a),o=Tl(Ml(e,s).subarray(0,s+1));return o+(Il(e.subarray(s+1))-o)*(a-s)}}function Bl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e);return o+(+n(e[s+1],s+1,e)-o)*(a-s)}}function Fl(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=Bl(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[Bo(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(To),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return Fl().domain(t).range(n).unknown(e)},Es.apply(s,arguments)}function Wl(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function o(t){return null!=t&&t<=t?s[Bo(a,t,0,r)]:e}function i(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,i()):[t,n]},o.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,i()):s.slice()},o.invertExtent=function(e){var o=s.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return Wl().domain([t,n]).range(s).unknown(e)},Es.apply(il(o),arguments)}function Ul(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Bo(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Ul().domain(t).range(n).unknown(e)},Es.apply(a,arguments)}el=sl({thousands:",",grouping:[3],currency:["$",""]}),tl=el.format,nl=el.formatPrefix;const zl=1e3,Vl=6e4,Hl=36e5,Gl=864e5,ql=6048e5,Kl=2592e6,Yl=31536e6,Ql=new Date,Xl=new Date;function $l(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return o;let i;do{o.push(i=new Date(+n)),t(n,s),e(n)}while(i<n&&n<r);return o},a.filter=n=>$l(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Ql.setTime(+t),Xl.setTime(+r),e(Ql),e(Xl),Math.floor(n(Ql,Xl))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Jl=$l(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jl.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?$l(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jl:null);Jl.range;const Zl=$l(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zl)},(e,t)=>(t-e)/zl,e=>e.getUTCSeconds()),ec=(Zl.range,$l(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getMinutes())),tc=(ec.range,$l(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCMinutes())),nc=(tc.range,$l(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl-e.getMinutes()*Vl)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getHours())),rc=(nc.range,$l(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCHours())),ac=(rc.range,$l(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vl)/Gl,e=>e.getDate()-1)),sc=(ac.range,$l(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>e.getUTCDate()-1)),oc=(sc.range,$l(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>Math.floor(e/Gl)));oc.range;function ic(e){return $l(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vl)/ql)}const lc=ic(0),cc=ic(1),uc=ic(2),dc=ic(3),hc=ic(4),fc=ic(5),mc=ic(6);lc.range,cc.range,uc.range,dc.range,hc.range,fc.range,mc.range;function pc(e){return $l(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/ql)}const gc=pc(0),yc=pc(1),vc=pc(2),xc=pc(3),bc=pc(4),wc=pc(5),Sc=pc(6),kc=(gc.range,yc.range,vc.range,xc.range,bc.range,wc.range,Sc.range,$l(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),jc=(kc.range,$l(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),_c=(jc.range,$l(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));_c.every=e=>isFinite(e=Math.floor(e))&&e>0?$l(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;_c.range;const Nc=$l(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nc.every=e=>isFinite(e=Math.floor(e))&&e>0?$l(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Nc.range;function Pc(e,t,n,r,a,s){const o=[[Zl,1,zl],[Zl,5,5e3],[Zl,15,15e3],[Zl,30,3e4],[s,1,Vl],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,Hl],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Gl],[r,2,1728e5],[n,1,ql],[t,1,Kl],[t,3,7776e6],[e,1,Yl]];function i(t,n,r){const a=Math.abs(n-t)/r,s=Co(e=>{let[,,t]=e;return t}).right(o,a);if(s===o.length)return e.every(Ao(t/Yl,n/Yl,r));if(0===s)return Jl.every(Math.max(Ao(t,n,r),1));const[i,l]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return i.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:i(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},i]}const[Ec,Oc]=Pc(Nc,jc,gc,oc,rc,tc),[Ac,Tc]=Pc(_c,kc,lc,ac,nc,ec);function Ic(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Mc,Rc,Lc,Bc={"-":"",_:" ",0:"0"},Fc=/^\s*\d+/,Wc=/^%/,Uc=/[\\^$*+?|[\]().{}]/g;function zc(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function Vc(e){return e.replace(Uc,"\\$&")}function Hc(e){return new RegExp("^(?:"+e.map(Vc).join("|")+")","i")}function Gc(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function qc(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Kc(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $c(e,t,n){var r=Fc.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Jc(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eu(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function tu(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nu(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ru(e,t,n){var r=Fc.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function su(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ou(e,t,n){var r=Fc.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Fc.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lu(e,t,n){var r=Fc.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cu(e,t,n){var r=Wc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function uu(e,t,n){var r=Fc.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function du(e,t,n){var r=Fc.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hu(e,t){return zc(e.getDate(),t,2)}function fu(e,t){return zc(e.getHours(),t,2)}function mu(e,t){return zc(e.getHours()%12||12,t,2)}function pu(e,t){return zc(1+ac.count(_c(e),e),t,3)}function gu(e,t){return zc(e.getMilliseconds(),t,3)}function yu(e,t){return gu(e,t)+"000"}function vu(e,t){return zc(e.getMonth()+1,t,2)}function xu(e,t){return zc(e.getMinutes(),t,2)}function bu(e,t){return zc(e.getSeconds(),t,2)}function wu(e){var t=e.getDay();return 0===t?7:t}function Su(e,t){return zc(lc.count(_c(e)-1,e),t,2)}function ku(e){var t=e.getDay();return t>=4||0===t?hc(e):hc.ceil(e)}function ju(e,t){return e=ku(e),zc(hc.count(_c(e),e)+(4===_c(e).getDay()),t,2)}function _u(e){return e.getDay()}function Nu(e,t){return zc(cc.count(_c(e)-1,e),t,2)}function Pu(e,t){return zc(e.getFullYear()%100,t,2)}function Eu(e,t){return zc((e=ku(e)).getFullYear()%100,t,2)}function Ou(e,t){return zc(e.getFullYear()%1e4,t,4)}function Au(e,t){var n=e.getDay();return zc((e=n>=4||0===n?hc(e):hc.ceil(e)).getFullYear()%1e4,t,4)}function Tu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zc(t/60|0,"0",2)+zc(t%60,"0",2)}function Iu(e,t){return zc(e.getUTCDate(),t,2)}function Cu(e,t){return zc(e.getUTCHours(),t,2)}function Du(e,t){return zc(e.getUTCHours()%12||12,t,2)}function Mu(e,t){return zc(1+sc.count(Nc(e),e),t,3)}function Ru(e,t){return zc(e.getUTCMilliseconds(),t,3)}function Lu(e,t){return Ru(e,t)+"000"}function Bu(e,t){return zc(e.getUTCMonth()+1,t,2)}function Fu(e,t){return zc(e.getUTCMinutes(),t,2)}function Wu(e,t){return zc(e.getUTCSeconds(),t,2)}function Uu(e){var t=e.getUTCDay();return 0===t?7:t}function zu(e,t){return zc(gc.count(Nc(e)-1,e),t,2)}function Vu(e){var t=e.getUTCDay();return t>=4||0===t?bc(e):bc.ceil(e)}function Hu(e,t){return e=Vu(e),zc(bc.count(Nc(e),e)+(4===Nc(e).getUTCDay()),t,2)}function Gu(e){return e.getUTCDay()}function qu(e,t){return zc(yc.count(Nc(e)-1,e),t,2)}function Ku(e,t){return zc(e.getUTCFullYear()%100,t,2)}function Yu(e,t){return zc((e=Vu(e)).getUTCFullYear()%100,t,2)}function Qu(e,t){return zc(e.getUTCFullYear()%1e4,t,4)}function Xu(e,t){var n=e.getUTCDay();return zc((e=n>=4||0===n?bc(e):bc.ceil(e)).getUTCFullYear()%1e4,t,4)}function $u(){return"+0000"}function Ju(){return"%"}function Zu(e){return+e}function ed(e){return Math.floor(+e/1e3)}function td(e){return new Date(e)}function nd(e){return e instanceof Date?+e:+new Date(+e)}function rd(e,t,n,r,a,s,o,i,l,c){var u=Hi(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:i(e)<e?m:o(e)<e?p:s(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,nd)):h().map(td)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(ul(n,e)):u},u.copy=function(){return zi(u,rd(e,t,n,r,a,s,o,i,l,c))},u}function ad(){return Es.apply(rd(Ac,Tc,_c,kc,lc,ac,nc,ec,Zl,Rc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sd(){return Es.apply(rd(Ec,Oc,Nc,jc,gc,sc,rc,tc,Zl,Lc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function od(){var e,t,n,r,a,s=0,o=1,i=Bi,l=!1;function c(t){return null==t||isNaN(t=+t)?a:i(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,i=e(n,r),c):[i(0),i(1)]}}return c.domain=function(a){return arguments.length?([s,o]=a,e=r(s=+s),t=r(o=+o),n=e===t?0:1/(t-e),c):[s,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=u(Di),c.rangeRound=u(Mi),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(o),n=e===t?0:1/(t-e),c}}function id(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ld(){var e=il(od()(Bi));return e.copy=function(){return id(e,ld())},Os.apply(e,arguments)}function cd(){var e=yl(od()).domain([1,10]);return e.copy=function(){return id(e,cd()).base(e.base())},Os.apply(e,arguments)}function ud(){var e=wl(od());return e.copy=function(){return id(e,ud()).constant(e.constant())},Os.apply(e,arguments)}function dd(){var e=Nl(od());return e.copy=function(){return id(e,dd()).exponent(e.exponent())},Os.apply(e,arguments)}function hd(){return dd.apply(null,arguments).exponent(.5)}function fd(){var e=[],t=Bi;function n(n){if(null!=n&&!isNaN(n=+n))return t((Bo(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(To),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Ll(e,r/t))},n.copy=function(){return fd(t).domain(e)},Os.apply(n,arguments)}function md(){var e,t,n,r,a,s,o,i=0,l=.5,c=1,u=1,d=Bi,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Di);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([i,l,c]=o,e=s(i=+i),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[i,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(Di),f.rangeRound=m(Mi),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return s=o,e=o(i),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function pd(){var e=il(md()(Bi));return e.copy=function(){return id(e,pd())},Os.apply(e,arguments)}function gd(){var e=yl(md()).domain([.1,1,10]);return e.copy=function(){return id(e,gd()).base(e.base())},Os.apply(e,arguments)}function yd(){var e=wl(md());return e.copy=function(){return id(e,yd()).constant(e.constant())},Os.apply(e,arguments)}function vd(){var e=Nl(md());return e.copy=function(){return id(e,vd()).exponent(e.exponent())},Os.apply(e,arguments)}function xd(){return vd.apply(null,arguments).exponent(.5)}function bd(e,t){if((a=e.length)>1)for(var n,r,a,s=1,o=e[t[0]],i=o.length;s<a;++s)for(r=o,o=e[t[s]],n=0;n<i;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Mc=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,i=e.months,l=e.shortMonths,c=Hc(a),u=Gc(a),d=Hc(s),h=Gc(s),f=Hc(o),m=Gc(o),p=Hc(i),g=Gc(i),y=Hc(l),v=Gc(l),x={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:hu,e:hu,f:yu,g:Eu,G:Au,H:fu,I:mu,j:pu,L:gu,m:vu,M:xu,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Zu,s:ed,S:bu,u:wu,U:Su,V:ju,w:_u,W:Nu,x:null,X:null,y:Pu,Y:Ou,Z:Tu,"%":Ju},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:Iu,e:Iu,f:Lu,g:Yu,G:Xu,H:Cu,I:Du,j:Mu,L:Ru,m:Bu,M:Fu,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Zu,s:ed,S:Wu,u:Uu,U:zu,V:Hu,w:Gu,W:qu,x:null,X:null,y:Ku,Y:Qu,Z:$u,"%":Ju},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return j(e,t,n,r)},d:nu,e:nu,f:lu,g:Jc,G:$c,H:au,I:au,j:ru,L:iu,m:tu,M:su,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:eu,Q:uu,s:du,S:ou,u:Kc,U:Yc,V:Qc,w:qc,W:Xc,x:function(e,t,r){return j(e,n,t,r)},X:function(e,t,n){return j(e,r,t,n)},y:Jc,Y:$c,Z:Zc,"%":cu};function S(e,t){return function(n){var r,a,s,o=[],i=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++i<c;)37===e.charCodeAt(i)&&(o.push(e.slice(l,i)),null!=(a=Bc[r=e.charAt(++i)])?r=e.charAt(++i):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),o.push(r),l=i+1);return o.push(e.slice(l,i)),o.join("")}}function k(e,t){return function(n){var r,a,s=Dc(1900,void 0,1);if(j(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=Cc(Dc(s.y,0,1))).getUTCDay(),r=a>4||0===a?yc.ceil(r):yc(r),r=sc.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=Ic(Dc(s.y,0,1))).getDay(),r=a>4||0===a?cc.ceil(r):cc(r),r=ac.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?Cc(Dc(s.y,0,1)).getUTCDay():Ic(Dc(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Cc(s)):Ic(s)}}function j(e,t,n,r){for(var a,s,o=0,i=t.length,l=n.length;o<i;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(s=w[a in Bc?t.charAt(o++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),{format:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Rc=Mc.format,Mc.parse,Lc=Mc.utcFormat,Mc.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function wd(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Sd(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function kd(e,t){return e[t]}function jd(e){const t=[];return t.key=e,t}var _d=n(539),Nd=n.n(_d),Pd=n(6745),Ed=n.n(Pd),Od=n(3538),Ad=n.n(Od),Td=n(9853),Id=n.n(Td),Cd=n(8210),Dd=n.n(Cd);function Md(e){return function(e){if(Array.isArray(e))return Rd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ld=function(e){return e},Bd={"@@functional/placeholder":!0},Fd=function(e){return e===Bd},Wd=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Fd(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Ud=function e(t,n){return 1===t?n:Wd(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(function(e){return e!==Bd}).length;return o>=t?n.apply(void 0,a):e(t-o,Wd(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=a.map(function(e){return Fd(e)?t.shift():e});return n.apply(void 0,Md(s).concat(t))}))})},zd=function(e){return Ud(e.length,e)},Vd=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Hd=zd(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Gd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Ld;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},qd=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kd=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var Yd=zd(function(e,t,n){var r=+e;return r+n*(+t-r)}),Qd=zd(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),Xd=zd(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const $d={rangeStep:function(e,t,n){for(var r=new(Dd())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(Dd())(e).abs().log(10).toNumber())+1},interpolateNumber:Yd,uninterpolateNumber:Qd,uninterpolateTruncation:Xd};function Jd(e){return function(e){if(Array.isArray(e))return th(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||eh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}(e,t)||eh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){if(e){if("string"===typeof e)return th(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?th(e,t):void 0}}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nh(e){var t=Zd(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function rh(e,t,n){if(e.lte(0))return new(Dd())(0);var r=$d.getDigitCount(e.toNumber()),a=new(Dd())(10).pow(r),s=e.div(a),o=1!==r?.05:.1,i=new(Dd())(Math.ceil(s.div(o).toNumber())).add(n).mul(o).mul(a);return t?i:new(Dd())(Math.ceil(i))}function ah(e,t,n){var r=1,a=new(Dd())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(Dd())(10).pow($d.getDigitCount(e)-1),a=new(Dd())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(Dd())(Math.floor(e)))}else 0===e?a=new(Dd())(Math.floor((t-1)/2)):n||(a=new(Dd())(Math.floor(e)));var o=Math.floor((t-1)/2);return Gd(Hd(function(e){return a.add(new(Dd())(e-o).mul(r)).toNumber()}),Vd)(0,t)}function sh(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Dd())(0),tickMin:new(Dd())(0),tickMax:new(Dd())(0)};var s,o=rh(new(Dd())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(Dd())(0):(s=new(Dd())(e).add(t).div(2)).sub(new(Dd())(s).mod(o));var i=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new(Dd())(t).sub(s).div(o).toNumber()),c=i+l+1;return c>n?sh(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,i=t>0?i:i+(n-c)),{step:o,tickMin:s.sub(new(Dd())(i).mul(o)),tickMax:s.add(new(Dd())(l).mul(o))})}var oh=Kd(function(e){var t=Zd(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Zd(nh([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Jd(Vd(0,a-1).map(function(){return 1/0}))):[].concat(Jd(Vd(0,a-1).map(function(){return-1/0})),[c]);return n>r?qd(u):u}if(l===c)return ah(l,a,s);var d=sh(l,c,o,s),h=d.step,f=d.tickMin,m=d.tickMax,p=$d.rangeStep(f,m.add(new(Dd())(.1).mul(h)),h);return n>r?qd(p):p}),ih=(Kd(function(e){var t=Zd(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Zd(nh([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return ah(l,a,s);var u=rh(new(Dd())(c).sub(l).div(o-1),s,0),d=Gd(Hd(function(e){return new(Dd())(l).add(new(Dd())(e).mul(u)).toNumber()}),Vd)(0,o).filter(function(e){return e>=l&&e<=c});return n>r?qd(d):d}),Kd(function(e,t){var n=Zd(e,2),r=n[0],a=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Zd(nh([r,a]),2),i=o[0],l=o[1];if(i===-1/0||l===1/0)return[r,a];if(i===l)return[i];var c=Math.max(t,2),u=rh(new(Dd())(l).sub(i).div(c-1),s,0),d=[].concat(Jd($d.rangeStep(new(Dd())(i),new(Dd())(l).sub(new(Dd())(.99).mul(u)),u)),[l]);return r>a?qd(d):d})),lh=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(this,arguments)}function dh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fh(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bh(r.key),r)}}function ph(e,t,n){return t=yh(t),function(e,t){if(t&&("object"===ch(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gh()?Reflect.construct(t,n||[],yh(e).constructor):t.apply(e,n))}function gh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gh=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(e)}function vh(e,t){return vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vh(e,t)}function xh(e,t,n){return(t=bh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e){var t=function(e,t){if("object"!=ch(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ch(t)?t:t+""}var wh=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ph(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vh(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,s=e.dataKey,o=e.data,i=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=fh(e,lh),d=$e(u,!1);"x"===this.props.direction&&"number"!==l.type&&ft(!1);var h=o.map(function(e){var o=i(e,s),u=o.x,h=o.y,f=o.value,m=o.errorVal;if(!m)return null;var p,g,y=[];if(Array.isArray(m)){var v=dh(m,2);p=v[0],g=v[1]}else p=g=m;if("vertical"===r){var x=l.scale,b=h+n,w=b+a,S=b-a,k=x(f-p),j=x(f+g);y.push({x1:j,y1:w,x2:j,y2:S}),y.push({x1:k,y1:b,x2:j,y2:b}),y.push({x1:k,y1:w,x2:k,y2:S})}else if("horizontal"===r){var _=c.scale,N=u+n,P=N-a,E=N+a,O=_(f-p),A=_(f+g);y.push({x1:P,y1:A,x2:E,y2:A}),y.push({x1:N,y1:O,x2:N,y2:A}),y.push({x1:P,y1:O,x2:E,y2:O})}return t.createElement(wt,uh({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",uh({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(wt,{className:"recharts-errorBars"},h)}}],a&&mh(r.prototype,a),s&&mh(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function Sh(e){return Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(e)}function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(n),!0).forEach(function(t){_h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _h(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xh(wh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),xh(wh,"displayName","ErrorBar");var Nh=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,s=qe(t,Fr);if(!s)return null;var o,i=Fr.defaultProps,l=void 0!==i?jh(jh({},i),s.props):{};return o=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?jh(jh({},n),t.props):{},a=r.dataKey,s=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:Mh(t),value:s||a,payload:r}}),jh(jh(jh({},l),Fr.getWithHeight(s,r)),{},{payload:o,item:s})};function Ph(e){return Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(e)}function Eh(e){return function(e){if(Array.isArray(e))return Oh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ah(Object(n),!0).forEach(function(t){Ih(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ih(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ph(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ph(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ph(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ch(e,t,n){return ue()(e)||ue()(t)?n:me(t)?oe()(e,t,n):je()(t)?t(e):n}function Dh(e,t,n,r){var a=Ad()(e,function(e){return Ch(e,t)});if("number"===n){var s=a.filter(function(e){return fe(e)||parseFloat(e)});return s.length?[Ed()(s),Nd()(s)]:[1/0,-1/0]}return(r?a.filter(function(e){return!ue()(e)}):a).map(function(e){return me(e)||e instanceof Date?e:""})}var Mh=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:o;break;default:n=o}return n},Rh=function(e,t,n,r,a){var s=Ge(t.props.children,wh).filter(function(e){return function(e,t,n){return!!ue()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(s&&s.length){var o=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=Ch(t,n);if(ue()(r))return e;var a=Array.isArray(r)?[Ed()(r),Nd()(r)]:[r,r],s=o.reduce(function(e,n){var r=Ch(t,n,0),s=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},Lh=function(e,t,n,r,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&Rh(e,t,s,r)||Dh(e,s,n,a)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return s.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},Bh=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Fh=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,s,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate});return a||o.push(t),s||o.push(n),o},Wh=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,i="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/i:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*de(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!ae()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},Uh=new WeakMap,zh=function(e,t){if("function"!==typeof t)return e;Uh.has(e)||Uh.set(e,new WeakMap);var n=Uh.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Vh=1e-4,Hh={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,o=0;o<t;++o){var i=ae()(e[o][n][1])?e[o][n][0]:e[o][n][1];i>=0?(e[o][n][0]=a,e[o][n][1]=a+i,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+i,s=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,o=e[0].length;s<o;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}bd(e,t)}},none:bd,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var o=0,i=0;o<n;++o)i+=e[o][r][1]||0;a[r][1]+=a[r][0]=-i/2}bd(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,o=1;o<r;++o){for(var i=0,l=0,c=0;i<a;++i){for(var u=e[t[i]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<i;++f){var m=e[t[f]];h+=(m[o][1]||0)-(m[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=s,l&&(s-=c/l)}n[o-1][1]+=n[o-1][0]=s,bd(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var o=ae()(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},Gh=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=Hh[n],s=function(){var e=Mn([]),t=Sd,n=bd,r=kd;function a(a){var s,o,i=Array.from(e.apply(this,arguments),jd),l=i.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(i[s][c]=[0,+r(e,i[s].key,c,a)]).data=e;for(s=0,o=wd(t(i));s<l;++s)i[o[s]].index=s;return n(i,o),i}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Mn(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Mn(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Sd:"function"===typeof e?e:Mn(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?bd:e,a):n},a}().keys(r).value(function(e,t){return+Ch(e,t,0)}).order(Sd).offset(a);return s(e)};function qh(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ue()(a[t.dataKey])){var i=be(n,"value",a[t.dataKey]);if(i)return i.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Ch(a,ue()(o)?t.dataKey:o);return ue()(l)?null:t.scale(l)}var Kh=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,s=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var i=Ch(s,t.dataKey,t.domain[o]);return ue()(i)?null:t.scale(i)-a/2+r},Yh=function(e,t,n){return Object.keys(e).reduce(function(r,a){var s=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[Ed()(t.concat([e[0]]).filter(fe)),Nd()(t.concat([e[1]]).filter(fe))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Qh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xh=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$h=function(e,t,n){if(je()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(fe(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Qh.test(e[0])){var a=+Qh.exec(e[0])[1];r[0]=t[0]-a}else je()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(fe(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Xh.test(e[1])){var s=+Xh.exec(e[1])[1];r[1]=t[1]+s}else je()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Jh=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=dt()(t,function(e){return e.coordinate}),s=1/0,o=1,i=a.length;o<i;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},Zh=function(e,t,n){return e&&e.length?Id()(e,oe()(n,"type.defaultProps.domain"))?t:e:t},ef=function(e,t){var n=e.type.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,s=n.unit,o=n.formatter,i=n.tooltipType,l=n.chartType,c=n.hide;return Th(Th({},$e(e,!1)),{},{dataKey:r,unit:s,formatter:o,name:a||r,color:Mh(e),value:Ch(t,r),type:i,payload:t,chartType:l,hide:c})};function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(t){af(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function af(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sf=["Webkit","Moz","O","ms"];function of(e){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lf.apply(this,arguments)}function cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(n),!0).forEach(function(t){gf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yf(r.key),r)}}function hf(e,t,n){return t=mf(t),function(e,t){if(t&&("object"===of(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ff()?Reflect.construct(t,n||[],mf(e).constructor):t.apply(e,n))}function ff(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ff=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mf(e)}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pf(e,t)}function gf(e,t,n){return(t=yf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yf(e){var t=function(e,t){if("object"!=of(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==of(t)?t:t+""}var vf=function(e){return e.changedTouches&&!!e.changedTouches.length},xf=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),gf(t=hf(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),gf(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),gf(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),gf(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),gf(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),gf(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),gf(t,"handleSlideDragStart",function(e){var n=vf(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,s=this.props,o=s.gap,i=s.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===i?i:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,s=Ch(n[e],a,e);return je()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,s=this.props,o=s.x,i=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+i-l-a,o+i-l-r):h<0&&(h=Math.max(h,o-r,o-a));var f=this.getIndex({startX:r+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=vf(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,s=t.startX,o=this.state[r],i=this.props,l=i.x,c=i.width,u=i.travellerWidth,d=i.onChange,h=i.gap,f=i.data,m={startX:this.state.startX,endX:this.state.endX},p=e.pageX-n;p>0?p=Math.min(p,l+c-u-o):p<0&&(p=Math.max(p,l-o)),m[r]=o+p;var g=this.getIndex(m),y=g.startIndex,v=g.endIndex;this.setState(gf(gf({},r,o+p),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(a>s?y%h===0:v%h===0)||a<s&&v===e||"endX"===r&&(a>s?v%h===0:y%h===0)||a>s&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,s=r.startX,o=r.endX,i=this.state[t],l=a.indexOf(i);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=s||this.setState(gf({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.fill,i=e.stroke;return t.createElement("rect",{stroke:i,fill:o,x:n,y:r,width:a,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.data,i=e.children,l=e.padding,c=t.Children.only(i);return c?t.cloneElement(c,{x:n,y:r,width:a,height:s,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,s,o=this,i=this.props,l=i.y,c=i.travellerWidth,u=i.height,d=i.traveller,h=i.ariaLabel,f=i.data,m=i.startIndex,p=i.endIndex,g=Math.max(e,this.props.x),y=uf(uf({},$e(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=f[m])||void 0===a?void 0:a.name,", Max value: ").concat(null===(s=f[p])||void 0===s?void 0:s.name);return t.createElement(wt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,s=r.height,o=r.stroke,i=r.travellerWidth,l=Math.min(e,n)+i,c=Math.max(Math.abs(n-e)-i,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,s=e.height,o=e.travellerWidth,i=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:i};return t.createElement(wt,{className:"recharts-brush-texts"},t.createElement(ko,lf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+s/2},d),this.getTextOfTick(n)),t.createElement(ko,lf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+s/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,s=e.x,o=e.y,i=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,m=u.isSlideMoving,p=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!fe(s)||!fe(o)||!fe(i)||!fe(l)||i<=0||l<=0)return null;var y=J("recharts-brush",r),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=sf.reduce(function(e,r){return rf(rf({},e),{},af({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(wt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||m||p||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,s=e.height,o=e.stroke,i=Math.floor(r+s/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:s,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:i,x2:n+a-1,y2:i,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:i+2,x2:n+a-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):je()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,s=e.travellerWidth,o=e.updateId,i=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return uf({prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var i=t.length,l=Fs().domain(ct()(0,i)).range([a,a+s-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:s,startIndex:i,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+r-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&df(r.prototype,a),s&&df(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function bf(e){return bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(e)}function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach(function(t){kf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gf(xf,"displayName","Brush"),gf(xf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jf=Math.PI/180,_f=function(e){return 180*e/Math.PI},Nf=function(e,t,n,r){return{x:e+Math.cos(-jf*r)*n,y:t+Math.sin(-jf*r)*n}},Pf=function(e,t){var n=e.x,r=e.y,a=t.cx,s=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2))}({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o};var i=(n-a)/o,l=Math.acos(i);return r>s&&(l=2*Math.PI-l),{radius:o,angle:_f(l),angleInRadian:l}},Ef=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},Of=function(e,t){var n=e.x,r=e.y,a=Pf({x:n,y:r},t),s=a.radius,o=a.angle,i=t.innerRadius,l=t.outerRadius;if(s<i||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?Sf(Sf({},t),{},{radius:s,angle:Ef(f,t)}):null};function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}var Tf=["offset"];function If(e){return function(e){if(Array.isArray(e))return Cf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Df(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(n),!0).forEach(function(t){Lf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Af(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Af(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(this,arguments)}var Ff=function(e,n,r){var a,s,o=e.position,i=e.viewBox,l=e.offset,c=e.className,u=i,d=u.cx,h=u.cy,f=u.innerRadius,m=u.outerRadius,p=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+m)/2,x=function(e,t){return de(t-e)*Math.min(Math.abs(t-e),360)}(p,g),b=x>=0?1:-1;"insideStart"===o?(a=p+b*l,s=y):"insideEnd"===o?(a=g-b*l,s=!y):"end"===o&&(a=g+b*l,s=y),s=x<=0?s:!s;var w=Nf(d,h,v,a),S=Nf(d,h,v,a+359*(s?1:-1)),k="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(S.x,",").concat(S.y),j=ue()(e.id)?ge("recharts-radial-line-"):e.id;return t.createElement("text",Bf({},r,{dominantBaseline:"central",className:J("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:j,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(j)},n))};function Wf(e){var n,r=e.offset,a=Rf({offset:void 0===r?5:r},Df(e,Tf)),s=a.viewBox,o=a.position,i=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!s||ue()(i)&&ue()(l)&&!(0,t.isValidElement)(c)&&!je()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(je()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=ue()(e.children)?t:e.children;return je()(n)?n(r):r}(a);var f=function(e){return"cx"in e&&fe(e.cx)}(s),m=$e(a,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return Ff(a,n,m);var p=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,s=a.cx,o=a.cy,i=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=Nf(s,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=Nf(s,o,(i+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,s=t,o=s.x,i=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",m=l>=0?1:-1,p=m*r,g=m>0?"end":"start",y=m>0?"start":"end";if("top"===a)return Rf(Rf({},{x:o+l/2,y:i-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(i-n.y,0),width:l}:{});if("bottom"===a)return Rf(Rf({},{x:o+l/2,y:i+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(i+c),0),width:l}:{});if("left"===a){var v={x:o-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"};return Rf(Rf({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"};return Rf(Rf({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?Rf({x:o+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?Rf({x:o+l-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?Rf({x:o+l/2,y:i+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?Rf({x:o+l/2,y:i+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?Rf({x:o+p,y:i+d,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===a?Rf({x:o+l-p,y:i+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?Rf({x:o+p,y:i+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===a?Rf({x:o+l-p,y:i+c-d,textAnchor:g,verticalAnchor:h},b):Ne()(a)&&(fe(a.x)||he(a.x))&&(fe(a.y)||he(a.y))?Rf({x:o+ye(a.x,l),y:i+ye(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Rf({x:o+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(ko,Bf({className:J("recharts-label",d)},m,p,{breakAll:h}),n)}Wf.displayName="Label";var Uf=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,i=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,m=e.width,p=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(fe(m)&&fe(p)){if(fe(u)&&fe(d))return{x:u,y:d,width:m,height:p};if(fe(h)&&fe(f))return{x:h,y:f,width:m,height:p}}return fe(u)&&fe(d)?{x:u,y:d,width:0,height:0}:fe(t)&&fe(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||i||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};Wf.parseViewBox=Uf,Wf.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Uf(e),o=Ge(a,Wf).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||s,key:"label-".concat(r)})});if(!r)return o;var i=function(e,n){return e?!0===e?t.createElement(Wf,{key:"label-implicit",viewBox:n}):me(e)?t.createElement(Wf,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===Wf?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(Wf,{key:"label-implicit",content:e,viewBox:n}):je()(e)?t.createElement(Wf,{key:"label-implicit",content:e,viewBox:n}):Ne()(e)?t.createElement(Wf,Bf({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||s);return[i].concat(If(o))};var zf=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Vf=n(1733),Hf=n.n(Vf),Gf=n(7002),qf=n.n(Gf),Kf=function(e){return null};Kf.displayName="Cell";var Yf=n(4065),Qf=n.n(Yf);function Xf(e){return Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(e)}var $f=["valueAccessor"],Jf=["data","dataKey","clockWise","id","textBreakAll"];function Zf(e){return function(e){if(Array.isArray(e))return em(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return em(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tm.apply(this,arguments)}function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach(function(t){am(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function am(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var om=function(e){return Array.isArray(e.value)?Qf()(e.value):e.value};function im(e){var n=e.valueAccessor,r=void 0===n?om:n,a=sm(e,$f),s=a.data,o=a.dataKey,i=a.clockWise,l=a.id,c=a.textBreakAll,u=sm(a,Jf);return s&&s.length?t.createElement(wt,{className:"recharts-label-list"},s.map(function(e,n){var a=ue()(o)?r(e,n):Ch(e&&e.payload,o),s=ue()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(Wf,tm({},$e(e,!0),u,s,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:Wf.parseViewBox(ue()(i)?e:rm(rm({},e),{},{clockWise:i})),key:"label-".concat(n),index:n}))})):null}im.displayName="LabelList",im.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=Ge(e.children,im).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(im,{key:"labelList-implicit",data:n}):t.isValidElement(e)||je()(e)?t.createElement(im,{key:"labelList-implicit",data:n,content:e}):Ne()(e)?t.createElement(im,tm({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(Zf(a)):a};var lm=n(2322),cm=n.n(lm),um=n(6361),dm=n.n(um);function hm(e){return hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}function mm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach(function(t){vm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xm=function(e,t,n,r,a){var s,o=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-o/2,",").concat(t+a),s+="L ".concat(e+n-o/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},bm={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wm=function(e){var n=ym(ym({},bm),e),r=(0,t.useRef)(),a=mm((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,m=n.animationDuration,p=n.animationBegin,g=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=J("recharts-trapezoid",h);return g?t.createElement(gs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:i,y:l},duration:m,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,i=e.height,l=e.x,c=e.y;return t.createElement(gs,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},t.createElement("path",fm({},$e(n,!0),{className:y,d:xm(l,c,a,o,i),ref:r})))}):t.createElement("g",null,t.createElement("path",fm({},$e(n,!0),{className:y,d:xm(i,l,c,u,d)})))};function Sm(e){return Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(e)}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(this,arguments)}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(t){Nm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pm=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,s=e.sign,o=e.isExternal,i=e.cornerRadius,l=e.cornerIsExternal,c=i*(o?1:-1)+r,u=Math.asin(i/c)/jf,d=l?a:a+s*u,h=l?a-s*u:a;return{center:Nf(t,n,c,d),circleTangency:Nf(t,n,r,d),lineTangency:Nf(t,n,c*Math.cos(u*jf),h),theta:u}},Em=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=function(e,t){return de(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),i=s+o,l=Nf(t,n,a,s),c=Nf(t,n,a,i),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>i),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Nf(t,n,r,s),h=Nf(t,n,r,i);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=i),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Om={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Am=function(e){var n=_m(_m({},Om),e),r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,i=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<s||u===d)return null;var f,m=J("recharts-sector",h),p=o-s,g=ye(i,p,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,i=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=de(c-l),d=Pm({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:i}),h=d.circleTangency,f=d.lineTangency,m=d.theta,p=Pm({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:i}),g=p.circleTangency,y=p.lineTangency,v=p.theta,x=i?Math.abs(l-c):Math.abs(l-c)-m-v;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):Em({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=Pm({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),S=w.circleTangency,k=w.lineTangency,j=w.theta,_=Pm({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),N=_.circleTangency,P=_.lineTangency,E=_.theta,O=i?Math.abs(l-c):Math.abs(l-c)-j-E;if(O<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Em({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",km({},$e(n,!0),{className:m,d:f,role:"img"}))},Tm=["option","shapeType","propTransformer","activeClassName","isActive"];function Im(e){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Cm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dm(Object(n),!0).forEach(function(t){Rm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Im(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Im(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lm(e,t){return Mm(Mm({},t),e)}function Bm(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(Ps,r);case"trapezoid":return t.createElement(wm,r);case"sector":return t.createElement(Am,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(fr,r);break;default:return null}}function Fm(e){var n,r=e.option,a=e.shapeType,s=e.propTransformer,o=void 0===s?Lm:s,i=e.activeClassName,l=void 0===i?"recharts-active-shape":i,c=e.isActive,u=Cm(e,Tm);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,Mm(Mm({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(je()(r))n=r(u);else if(cm()(r)&&!dm()(r)){var d=o(r,u);n=t.createElement(Bm,{shapeType:a,elementProps:d})}else{var h=u;n=t.createElement(Bm,{shapeType:a,elementProps:h})}return c?t.createElement(wt,{className:l},n):n}function Wm(e,t){return null!=t&&"trapezoids"in e.props}function Um(e,t){return null!=t&&"sectors"in e.props}function zm(e,t){return null!=t&&"points"in e.props}function Vm(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&s}function Hm(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Gm(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function qm(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return Wm(e,t)?n="trapezoids":Um(e,t)?n="sectors":zm(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return Wm(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Um(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:zm(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=Id()(s,e),i=n.props[a].filter(function(e){var r=function(e,t){var n;return Wm(e,t)?n=Vm:Um(e,t)?n=Hm:zm(e,t)&&(n=Gm),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(i[i.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var Km=["x","y"];function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(this,arguments)}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach(function(t){Jm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ym(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ym(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ep(e,t){var n=e.x,r=e.y,a=Zm(e,Km),s="".concat(n),o=parseInt(s,10),i="".concat(r),l=parseInt(i,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return $m($m($m($m($m({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function tp(e){return t.createElement(Fm,Qm({shapeType:"rectangle",propTransformer:ep,activeClassName:"recharts-active-bar"},e))}var np,rp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=fe(n)||function(e){return ue()(e)}(n);return a?e(n,r):(a||ft(!1),t)}},ap=["value","background"];function sp(e){return sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(e)}function op(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach(function(t){pp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gp(r.key),r)}}function dp(e,t,n){return t=fp(t),function(e,t){if(t&&("object"===sp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hp()?Reflect.construct(t,n||[],fp(e).constructor):t.apply(e,n))}function hp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hp=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fp(e)}function mp(e,t){return mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mp(e,t)}function pp(e,t,n){return(t=gp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e){var t=function(e,t){if("object"!=sp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sp(t)?t:t+""}var yp=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return pp(e=dp(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),pp(e,"id",ge("recharts-bar-")),pp(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),pp(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mp(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.dataKey,o=r.activeIndex,i=r.activeBar,l=$e(this.props,!1);return e&&e.map(function(e,r){var c=r===o,u=c?i:a,d=cp(cp(cp({},l),e),{},{isActive:c,option:u,index:r,dataKey:s,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(wt,ip({className:"recharts-bar-rectangle"},Me(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(tp,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,s=n.isAnimationActive,o=n.animationBegin,i=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(gs,{begin:o,duration:i,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var s=n.t,o=r.map(function(e,t){var n=u&&u[t];if(n){var r=xe(n.x,e.x),o=xe(n.y,e.y),i=xe(n.width,e.width),l=xe(n.height,e.height);return cp(cp({},e),{},{x:r(s),y:o(s),width:i(s),height:l(s)})}if("horizontal"===a){var c=xe(0,e.height)(s);return cp(cp({},e),{},{y:e.y+e.height-c,height:c})}var d=xe(0,e.width)(s);return cp(cp({},e),{},{width:d})});return t.createElement(wt,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Id()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,s=n.activeIndex,o=$e(this.props.background,!1);return r.map(function(n,r){n.value;var i=n.background,l=op(n,ap);if(!i)return null;var c=cp(cp(cp(cp(cp({},l),{},{fill:"#eee"},i),o),Me(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(tp,ip({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ge(r.children,wh);if(!l)return null;var c="vertical"===i?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ch(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(wt,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,s=e.xAxis,o=e.yAxis,i=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,p=J("recharts-bar",a),g=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,x=ue()(f)?this.id:f;return t.createElement(wt,{className:p},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?i:i-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(wt,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||m)&&im.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&up(r.prototype,a),s&&up(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function vp(e){return vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(e)}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kp(r.key),r)}}function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach(function(t){Sp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sp(e,t,n){return(t=kp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kp(e){var t=function(e,t){if("object"!=vp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vp(t)?t:t+""}np=yp,pp(yp,"displayName","Bar"),pp(yp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),pp(yp,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var m=t.layout,p=n.type.defaultProps,g=void 0!==p?cp(cp({},p),n.props):n.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===m?o:s,w=c?b.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),k=Ge(v,Kf),j=d.map(function(e,t){var r,d,h,p,g,v;c?r=function(e,t){if(!t||2!==t.length||!fe(t[0])||!fe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<n)&&(a[0]=n),(!fe(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=Ch(e,y),Array.isArray(r)||(r=[S,r]));var b=rp(x,np.defaultProps.minPointSize)(r[1],t);if("horizontal"===m){var j,_=[o.scale(r[0]),o.scale(r[1])],N=_[0],P=_[1];d=Kh({axis:s,ticks:i,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(j=null!==P&&void 0!==P?P:N)&&void 0!==j?j:void 0,p=f.size;var E=N-P;if(g=Number.isNaN(E)?0:E,v={x:d,y:o.y,width:p,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var O=de(g||b)*(Math.abs(b)-Math.abs(g));h-=O,g+=O}}else{var A=[s.scale(r[0]),s.scale(r[1])],T=A[0],I=A[1];if(d=T,h=Kh({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),p=I-T,g=f.size,v={x:s.x,y:h,width:s.width,height:g},Math.abs(b)>0&&Math.abs(p)<Math.abs(b))p+=de(p||b)*(Math.abs(b)-Math.abs(p))}return cp(cp(cp({},e),{},{x:d,y:h,width:p,height:g,value:c?r:r[1],payload:e,background:v},k&&k[t]&&k[t].props),{},{tooltipPayload:[ef(n,e)],tooltipPosition:{x:d+p/2,y:h+g/2}})});return cp({data:j,layout:m},h)});var jp=function(t,n,r,a,s){var o=t.width,i=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},h=!!qe(c,yp);return u.reduce(function(o,i){var c,u,f,m,p,g=n[i],y=g.orientation,v=g.domain,x=g.padding,b=void 0===x?{}:x,w=g.mirror,S=g.reversed,k="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var j=v[1]-v[0],_=1/0,N=g.categoricalDomain.sort(we);if(N.forEach(function(e,t){t>0&&(_=Math.min((e||0)-(N[t-1]||0),_))}),Number.isFinite(_)){var P=_/j,E="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*E/2),"no-gap"===g.padding){var O=ye(t.barCategoryGap,P*E),A=P*E/2;c=A-O-(A-O)/E*O}}}u="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var T=function(t,n,r){var a=t.scale,s=t.type,o=t.layout,i=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===i?{scale:Ls(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:ll(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fs(),realScaleType:"point"}:"category"===s?{scale:Ls(),realScaleType:"band"}:{scale:ll(),realScaleType:"linear"};if(ne()(a)){var l="scale".concat(hn()(a));return{scale:(e[l]||Fs)(),realScaleType:e[l]?l:"point"}}return je()(a)?{scale:a}:{scale:Fs(),realScaleType:"point"}}(g,s,h),I=T.scale,C=T.realScaleType;I.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Vh,s=Math.max(r[0],r[1])+Vh,o=e(t[0]),i=e(t[n-1]);(o<a||o>s||i<a||i>s)&&e.domain([t[0],t[n-1]])}}(I);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,s=t.originalDomain,o=t.allowDecimals,i=n||t.scale;if("auto"!==i&&"linear"!==i)return null;if(a&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=oh(l,a,o);return e.domain([Ed()(c),Nd()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:ih(u,a,o)}}return null}(I,wp(wp({},g),{},{realScaleType:C}));"xAxis"===a?(p="top"===y&&!w||"bottom"===y&&w,f=r.left,m=d[k]-p*g.height):"yAxis"===a&&(p="left"===y&&!w||"right"===y&&w,f=d[k]-p*g.width,m=r.top);var M=wp(wp(wp({},g),D),{},{realScaleType:C,x:f,y:m,scale:I,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=Jh(M,D),g.hide||"xAxis"!==a?g.hide||(d[k]+=(p?-1:1)*M.width):d[k]+=(p?-1:1)*M.height,wp(wp({},o),{},Sp({},i,M))},{})},_p=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)}},Np=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&xp(t.prototype,n),r&&xp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Sp(Np,"EPS",1e-4);var Pp=function(e){var t=Object.keys(e).reduce(function(t,n){return wp(wp({},t),{},Sp({},n,Np.create(e[n])))},{});return wp(wp({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return Hf()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return qf()(e,function(e,n){return t[n].isInRange(e)})}})};function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(this,arguments)}function Op(e){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(e)}function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ap(Object(n),!0).forEach(function(t){Lp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bp(r.key),r)}}function Cp(e,t,n){return t=Mp(t),function(e,t){if(t&&("object"===Op(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dp()?Reflect.construct(t,n||[],Mp(e).constructor):t.apply(e,n))}function Dp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dp=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(e)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rp(e,t)}function Lp(e,t,n){return(t=Bp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bp(e){var t=function(e,t){if("object"!=Op(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Op(t)?t:t+""}var Fp=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Cp(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,s=e.r,o=e.alwaysShow,i=e.clipPathId,l=me(r),c=me(a);if(Se(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,s=Pp({x:r.scale,y:a.scale}),o=s.apply({x:t,y:n},{bandAware:!0});return zf(e,"discard")&&!s.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,m=f.shape,p=f.className,g=Tp(Tp({clipPath:zf(this.props,"hidden")?"url(#".concat(i,")"):void 0},$e(this.props,!0)),{},{cx:d,cy:h});return t.createElement(wt,{className:J("recharts-reference-dot",p)},n.renderDot(m,g),Wf.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],a&&Ip(r.prototype,a),s&&Ip(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);Lp(Fp,"displayName","ReferenceDot"),Lp(Fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Lp(Fp,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):je()(e)?e(n):t.createElement(Ur,Ep({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var Wp=n(4597),Up=n.n(Wp),zp=n(8990),Vp=n.n(zp),Hp=n(5797),Gp=n.n(Hp)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var qp=(0,t.createContext)(void 0),Kp=(0,t.createContext)(void 0),Yp=(0,t.createContext)(void 0),Qp=(0,t.createContext)({}),Xp=(0,t.createContext)(void 0),$p=(0,t.createContext)(0),Jp=(0,t.createContext)(0),Zp=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,s=n.offset,o=e.clipPathId,i=e.children,l=e.width,c=e.height,u=Gp(s);return t.createElement(qp.Provider,{value:r},t.createElement(Kp.Provider,{value:a},t.createElement(Qp.Provider,{value:s},t.createElement(Yp.Provider,{value:u},t.createElement(Xp.Provider,{value:o},t.createElement($p.Provider,{value:c},t.createElement(Jp.Provider,{value:l},i)))))))};var eg=function(e){var n=(0,t.useContext)(qp);null==n&&ft(!1);var r=n[e];return null==r&&ft(!1),r},tg=function(e){var n=(0,t.useContext)(Kp);null==n&&ft(!1);var r=n[e];return null==r&&ft(!1),r},ng=function(){return(0,t.useContext)(Jp)},rg=function(){return(0,t.useContext)($p)};function ag(e){return ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(e)}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fg(r.key),r)}}function og(e,t,n){return t=lg(t),function(e,t){if(t&&("object"===ag(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ig()?Reflect.construct(t,n||[],lg(e).constructor):t.apply(e,n))}function ig(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ig=function(){return!!e})()}function lg(e){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lg(e)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cg(e,t)}function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(n),!0).forEach(function(t){hg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hg(e,t,n){return(t=fg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fg(e){var t=function(e,t){if("object"!=ag(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ag(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ag(t)?t:t+""}function mg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function yg(e){var n=e.x,r=e.y,a=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(Xp),d=eg(s),h=tg(o),f=(0,t.useContext)(Yp);if(!u||!f)return null;Se(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,n,r,a,s,o,i,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var f=l.y,m=e.y.apply(f,{position:s});if(zf(l,"discard")&&!e.y.isInRange(m))return null;var p=[{x:c+d,y:m},{x:c,y:m}];return"left"===i?p.reverse():p}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(zf(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:s})});return zf(l,"discard")&&Up()(x,function(t){return!e.isInRange(t)})?null:x}return null}(Pp({x:d.scale,y:h.scale}),me(n),me(r),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!m)return null;var p=mg(m,2),g=p[0],y=g.x,v=g.y,x=p[1],b=x.x,w=x.y,S=dg(dg({clipPath:zf(e,"hidden")?"url(#".concat(u,")"):void 0},$e(e,!0)),{},{x1:y,y1:v,x2:b,y2:w});return t.createElement(wt,{className:J("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):je()(e)?e(n):t.createElement("line",gg({},n,{className:"recharts-reference-line-line"}))}(i,S),Wf.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return _p({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:b,y2:w})))}var vg=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),og(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(yg,this.props)}}])&&sg(r.prototype,a),s&&sg(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}function bg(e){return bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(e)}function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(n),!0).forEach(function(t){Eg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Og(r.key),r)}}function jg(e,t,n){return t=Ng(t),function(e,t){if(t&&("object"===bg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_g()?Reflect.construct(t,n||[],Ng(e).constructor):t.apply(e,n))}function _g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_g=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ng(e)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pg(e,t)}function Eg(e,t,n){return(t=Og(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Og(e){var t=function(e,t){if("object"!=bg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bg(t)?t:t+""}hg(vg,"displayName","ReferenceLine"),hg(vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Ag=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),jg(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,s=e.y1,o=e.y2,i=e.className,l=e.alwaysShow,c=e.clipPathId;Se(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=me(r),d=me(a),h=me(s),f=me(o),m=this.props.shape;if(!u&&!d&&!h&&!f&&!m)return null;var p=function(e,t,n,r,a){var s=a.x1,o=a.x2,i=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Pp({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(i,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!zf(a,"discard")||d.isInRange(h)&&d.isInRange(f)?_p(h,f):null}(u,d,h,f,this.props);if(!p&&!m)return null;var g=zf(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(wt,{className:J("recharts-reference-area",i)},n.renderRect(m,Sg(Sg({clipPath:g},$e(this.props,!0)),p)),Wf.renderCallByParent(this.props,p))}}])&&kg(r.prototype,a),s&&kg(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function Tg(e){return function(e){if(Array.isArray(e))return Ig(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ig(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ig(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Eg(Ag,"displayName","ReferenceArea"),Eg(Ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Eg(Ag,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):je()(e)?e(n):t.createElement(Ps,xg({},n,{className:"recharts-reference-area-rect"}))});var Cg=function(e,t,n,r,a){var s=Ge(e,vg),o=Ge(e,Fp),i=[].concat(Tg(s),Tg(o)),l=Ge(e,Ag),c="".concat(r,"Id"),u=r[0],d=t;if(i.length&&(d=i.reduce(function(e,t){if(t.props[c]===n&&zf(t.props,"extendDomain")&&fe(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&zf(t.props,"extendDomain")&&fe(t.props[h])&&fe(t.props[f])){var r=t.props[h],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return fe(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Dg=n(7283),Mg=new(n.n(Dg)()),Rg="recharts.syncMouseEvents";function Lg(e){return Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(e)}function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wg(r.key),r)}}function Fg(e,t,n){return(t=Wg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wg(e){var t=function(e,t){if("object"!=Lg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lg(t)?t:t+""}var Ug=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fg(this,"activeIndex",0),Fg(this,"coordinateList",[]),Fg(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,s=void 0===a?null:a,o=e.layout,i=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==i&&void 0!==i?i:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,s=n.height,o=this.coordinateList[this.activeIndex].coordinate,i=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+i,u=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Bg(e.prototype,t),n&&Bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function zg(){}function Vg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Hg(e){this._context=e}function Gg(e){this._context=e}function qg(e){this._context=e}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Gg.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Kg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Yg(e){this._context=e}function Qg(e){this._context=e}function Xg(e){return new Qg(e)}function $g(e){return e<0?-1:1}function Jg(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),i=(s*a+o*r)/(r+a);return($g(s)+$g(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(i))||0}function Zg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ey(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,i=(s-r)/3;e._context.bezierCurveTo(r+i,a+i*t,s-i,o-i*n,s,o)}function ty(e){this._context=e}function ny(e){this._context=new ry(e)}function ry(e){this._context=e}function ay(e){this._context=e}function sy(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function oy(e,t){this._context=e,this._t=t}function iy(e){return e[0]}function ly(e){return e[1]}function cy(e,t){var n=Mn(!0),r=null,a=Xg,s=null,o=rr(i);function i(i){var l,c,u,d=(i=wd(i)).length,h=!1;for(null==r&&(s=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=i[l],l,i))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,i),+t(c,l,i));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?iy:Mn(e),t="function"===typeof t?t:void 0===t?ly:Mn(t),i.x=function(t){return arguments.length?(e="function"===typeof t?t:Mn(+t),i):e},i.y=function(e){return arguments.length?(t="function"===typeof e?e:Mn(+e),i):t},i.defined=function(e){return arguments.length?(n="function"===typeof e?e:Mn(!!e),i):n},i.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),i):a},i.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),i):r},i}function uy(e,t,n){var r=null,a=Mn(!0),s=null,o=Xg,i=null,l=rr(c);function c(c){var u,d,h,f,m,p=(c=wd(c)).length,g=!1,y=new Array(p),v=new Array(p);for(null==s&&(i=o(m=l())),u=0;u<=p;++u){if(!(u<p&&a(f=c[u],u,c))===g)if(g=!g)d=u,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),h=u-1;h>=d;--h)i.point(y[h],v[h]);i.lineEnd(),i.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),i.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(m)return i=null,m+""||null}function u(){return cy().defined(a).curve(o).context(s)}return e="function"===typeof e?e:void 0===e?iy:Mn(+e),t="function"===typeof t?t:Mn(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?ly:Mn(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Mn(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Mn(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Mn(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Mn(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Mn(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Mn(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Mn(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=s&&(i=o(s)),c):o},c.context=function(e){return arguments.length?(null==e?s=i=null:i=o(s=e),c):s},c}function dy(e){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(this,arguments)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function py(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yg.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ey(this,this._t0,Zg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ey(this,Zg(this,n=Jg(this,e,t)),n);break;default:ey(this,this._t0,n=Jg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ny.prototype=Object.create(ty.prototype)).point=function(e,t){ty.prototype.point.call(this,t,e)},ry.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=sy(e),a=sy(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var gy={curveBasisClosed:function(e){return new Gg(e)},curveBasisOpen:function(e){return new qg(e)},curveBasis:function(e){return new Hg(e)},curveBumpX:function(e){return new Kg(e,!0)},curveBumpY:function(e){return new Kg(e,!1)},curveLinearClosed:function(e){return new Yg(e)},curveLinear:Xg,curveMonotoneX:function(e){return new ty(e)},curveMonotoneY:function(e){return new ny(e)},curveNatural:function(e){return new ay(e)},curveStep:function(e){return new oy(e,.5)},curveStepAfter:function(e){return new oy(e,1)},curveStepBefore:function(e){return new oy(e,0)}},yy=function(e){return e.x===+e.x&&e.y===+e.y},vy=function(e){return e.x},xy=function(e){return e.y},by=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,s=void 0===a?[]:a,o=e.baseLine,i=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(je()(e))return e;var n="curve".concat(hn()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?gy[n]||Xg:gy["".concat(n).concat("vertical"===t?"Y":"X")]}(r,i),d=c?s.filter(function(e){return yy(e)}):s;if(Array.isArray(o)){var h=c?o.filter(function(e){return yy(e)}):o,f=d.map(function(e,t){return my(my({},e),{},{base:h[t]})});return(t="vertical"===i?uy().y(xy).x1(vy).x0(function(e){return e.base.x}):uy().x(vy).y1(xy).y0(function(e){return e.base.y})).defined(yy).curve(u),t(f)}return(t="vertical"===i&&fe(o)?uy().y(xy).x1(vy).x0(o):fe(o)?uy().x(vy).y1(xy).y0(o):cy().x(vy).y(xy)).defined(yy).curve(u),t(d)},wy=function(e){var n=e.className,r=e.points,a=e.path,s=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?by(e):a;return t.createElement("path",hy({},$e(e,!1),De(e),{className:J("recharts-curve",n),d:o,ref:s}))};function Sy(e){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(e)}var ky=["x","y","top","left","width","height","className"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ny(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Py(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ey=function(e,t,n,r,a,s){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},Oy=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.top,i=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,m=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach(function(t){Ny(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:s,top:i,left:c,width:d,height:f},Py(e,ky));return fe(r)&&fe(s)&&fe(d)&&fe(f)&&fe(i)&&fe(c)?t.createElement("path",jy({},$e(p,!0),{className:J("recharts-cross",m),d:Ey(r,s,d,f,i,c)})):null};function Ay(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle;return{points:[Nf(t,n,r,a),Nf(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function Ty(e,t,n){var r,a,s,o;if("horizontal"===e)s=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Ay(t);var i=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Nf(i,l,c,d),f=Nf(i,l,u,d);r=h.x,a=h.y,s=f.x,o=f.y}return[{x:r,y:a},{x:s,y:o}]}function Iy(e){return Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(e)}function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cy(Object(n),!0).forEach(function(t){My(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function My(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Iy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ry(e){var n,r,a,s=e.element,o=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=null!==(n=s.props.cursor)&&void 0!==n?n:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!p||!i||!l||"ScatterChart"!==m&&"axis"!==o)return null;var g=wy;if("ScatterChart"===m)a=l,g=Oy;else if("BarChart"===m)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=Ps;else if("radial"===f){var y=Ay(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=Am}else a={points:Ty(f,l,u)},g=wy;var w=Dy(Dy(Dy(Dy({stroke:"#ccc",pointerEvents:"none"},u),a),$e(p,!1)),{},{payload:c,payloadIndex:d,className:J("recharts-tooltip-cursor",p.className)});return(0,t.isValidElement)(p)?(0,t.cloneElement)(p,w):(0,t.createElement)(g,w)}var Ly=["item"],By=["children","className","width","height","style","compact","title","desc"];function Fy(e){return Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(this,arguments)}function Uy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Qy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ev(r.key),r)}}function Hy(e,t,n){return t=qy(t),function(e,t){if(t&&("object"===Fy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gy()?Reflect.construct(t,n||[],qy(e).constructor):t.apply(e,n))}function Gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gy=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qy(e)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ky(e,t)}function Yy(e){return function(e){if(Array.isArray(e))return Xy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){if(e){if("string"===typeof e)return Xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xy(e,t):void 0}}function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$y(Object(n),!0).forEach(function(t){Zy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zy(e,t,n){return(t=ev(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e){var t=function(e,t){if("object"!=Fy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fy(t)?t:t+""}var tv={xAxis:["bottom","top"],yAxis:["left","right"]},nv={width:"100%",height:"100%"},rv={x:0,y:0};function av(e){return e}var sv=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Yy(e),Yy(n)):e},[]);return s.length>0?s:e&&e.length&&fe(r)&&fe(a)?e.slice(r,a+1):[]};function ov(e){return"number"===e?[0,"auto"]:void 0}var iv=function(e,t,n,r){var a=e.graphicalItems,s=e.tooltipAxis,o=sv(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,i){var l,c,u=null!==(l=i.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=be(void 0===u?o:u,s.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(Yy(a),[ef(i,c)]):a},[])},lv=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,i=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var i=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(de(u-c)!==de(d-u)){var f=[];if(de(d-u)===de(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+i[1]-i[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){s=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){s=n[x].index;break}return s}(s,o,l,i);if(c>=0&&l){var u=l[c]&&l[c].value,d=iv(e,t,c,u),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,o=r.radius;return Jy(Jy(Jy({},r),Nf(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var i=a.coordinate,l=r.angle;return Jy(Jy(Jy({},r),Nf(r.cx,r.cy,i,l)),{},{angle:l,radius:i})}return rv}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},cv=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Bh(c,a);return n.reduce(function(t,n){var f,m=void 0!==n.type.defaultProps?Jy(Jy({},n.type.defaultProps),n.props):n.props,p=m.type,g=m.dataKey,y=m.allowDataOverflow,v=m.allowDuplicatedCategory,x=m.scale,b=m.ticks,w=m.includeHidden,S=m[s];if(t[S])return t;var k,j,_,N=sv(e.data,{graphicalItems:r.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===S}),dataStartIndex:i,dataEndIndex:l}),P=N.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&fe(r)&&fe(a))return!0}return!1})(m.domain,y,p)&&(k=$h(m.domain,null,y),!h||"number"!==p&&"auto"===x||(_=Dh(N,g,"category")));var E=ov(p);if(!k||0===k.length){var O,A=null!==(O=m.domain)&&void 0!==O?O:E;if(g){if(k=Dh(N,g,p),"category"===p&&h){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);v&&T?(j=k,k=ct()(0,P)):v||(k=Zh(A,k,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Yy(e),[t])},[]))}else if("category"===p)k=v?k.filter(function(e){return""!==e&&!ue()(e)}):Zh(A,k,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ue()(t)?e:[].concat(Yy(e),[t])},[]);else if("number"===p){var I=function(e,t,n,r,a){var s=t.map(function(t){return Rh(e,t,n,a,r)}).filter(function(e){return!ue()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(N,r.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(w||!a)}),g,a,c);I&&(k=I)}!h||"number"!==p&&"auto"===x||(_=Dh(N,g,"category"))}else k=h?ct()(0,P):o&&o[S]&&o[S].hasStack&&"number"===p?"expand"===d?[0,1]:Yh(o[S].stackGroups,i,l):Lh(N,r.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(w||!n)}),p,c,!0);if("number"===p)k=Cg(u,k,S,a,b),A&&(k=$h(A,k,y));else if("category"===p&&A){var C=A;k.every(function(e){return C.indexOf(e)>=0})&&(k=C)}}return Jy(Jy({},t),{},Zy({},S,Jy(Jy({},m),{},{axisType:a,domain:k,categoricalDomain:_,duplicateDomain:j,originalDomain:null!==(f=m.domain)&&void 0!==f?f:E,isCategorical:h,layout:c})))},{})},uv=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Ge(c,a),h={};return d&&d.length?h=cv(e,{axes:d,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=sv(e.data,{graphicalItems:n,dataStartIndex:i,dataEndIndex:l}),h=d.length,f=Bh(c,a),m=-1;return n.reduce(function(e,t){var p,g=(void 0!==t.type.defaultProps?Jy(Jy({},t.type.defaultProps),t.props):t.props)[s],y=ov("number");return e[g]?e:(m++,f?p=ct()(0,h):o&&o[g]&&o[g].hasStack?(p=Yh(o[g].stackGroups,i,l),p=Cg(u,p,g,a)):(p=$h(y,Lh(d,n.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),p=Cg(u,p,g,a)),Jy(Jy({},e),{},Zy({},g,Jy(Jy({axisType:a},r.defaultProps),{},{hide:!0,orientation:oe()(tv,"".concat(a,".").concat(m%2),null),domain:p,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l})),h},dv=function(e){var t=e.children,n=e.defaultShowTooltip,r=qe(t,xf),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},hv=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fv=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,s=e.yAxisMap,o=void 0===s?{}:s,i=n.width,l=n.height,c=n.children,u=n.margin||{},d=qe(c,xf),h=qe(c,Fr),f=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:Jy(Jy({},e),{},Zy({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),m=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Jy(Jy({},e),{},Zy({},r,oe()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),p=Jy(Jy({},m),f),g=p.bottom;d&&(p.bottom+=d.props.height||xf.defaultProps.height),h&&t&&(p=function(e,t,n,r){var a=n.children,s=n.width,o=n.margin,i=s-(o.left||0)-(o.right||0),l=Nh({children:a,legendWidth:i});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===f)&&"center"!==h&&fe(e[h]))return Th(Th({},e),{},Ih({},h,e[h]+(u||0)));if(("horizontal"===m||"vertical"===m&&"center"===h)&&"middle"!==f&&fe(e[f]))return Th(Th({},e),{},Ih({},f,e[f]+(d||0)))}return e}(p,0,n,t));var y=i-p.left-p.right,v=l-p.top-p.bottom;return Jy(Jy({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(v,0)})},mv=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},pv=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,o=e.validateTooltipEventTypes,i=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,s=t.updateId,o=t.dataStartIndex,i=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,m=hv(u),p=m.numericAxisName,g=m.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Ue(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,m){var x=sv(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:i}),b=void 0!==n.type.defaultProps?Jy(Jy({},n.type.defaultProps),n.props):n.props,w=b.dataKey,S=b.maxBarSize,k=b["".concat(p,"Id")],j=b["".concat(g,"Id")],_=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||ft(!1);var s=r[a];return Jy(Jy({},e),{},Zy(Zy({},n.axisType,s),"".concat(n.axisType,"Ticks"),Wh(s)))},{}),N=_[g],P=_["".concat(g,"Ticks")],E=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props).stackId;if(me(r)){var a=t[r];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(n,r[k].stackGroups),O=Ue(n.type).indexOf("Bar")>=0,A=Jh(N,P),T=[],I=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var s={},o=Object.keys(a),i=0,l=o.length;i<l;i++)for(var c=a[o[i]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],m=f.items,p=f.cateAxisId,g=m.filter(function(e){return Ue(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Th(Th({},y),g[0].props):g[0].props,x=v.barSize,b=v[p];s[b]||(s[b]=[]);var w=ue()(x)?t:x;s[b].push({item:g[0],stackList:g.slice(1),barSize:ue()(w)?void 0:ye(w,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:mv(_,g)});if(O){var C,D,M=ue()(S)?f:S,R=null!==(C=null!==(D=Jh(N,P,!0))&&void 0!==D?D:M)&&void 0!==C?C:0;T=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,o=e.maxBarSize,i=s.length;if(i<1)return null;var l,c=ye(t,r,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=r/i,f=s.reduce(function(e,t){return e+t.barSize||0},0);(f+=(i-1)*c)>=r&&(f-=(i-1)*c,c=0),f>=r&&h>0&&(d=!0,f=i*(h*=.9));var m={offset:((r-f)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:m.offset+m.size+c,size:d?h:t.barSize}},r=[].concat(Eh(e),[n]);return m=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:m})}),r},u)}else{var p=ye(n,r,0,!0);r-2*p-(i-1)*c<=0&&(c=0);var g=(r-2*p-(i-1)*c)/i;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=s.reduce(function(e,t,n){var r=[].concat(Eh(e),[{item:t.item,position:{offset:p+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==A?R:A,sizeList:I[j],maxBarSize:M}),R!==A&&(T=T.map(function(e){return Jy(Jy({},e),{},{position:Jy(Jy({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,B,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:Jy(Jy({},F(Jy(Jy({},_),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:A,barPosition:T,offset:a,stackedData:E,layout:u,dataStartIndex:o,dataEndIndex:i}))),{},Zy(Zy(Zy({key:n.key||"item-".concat(m)},p,_[p]),g,_[g]),"animationId",s)),childIndex:(L=n,B=e.children,He(B).indexOf(L)),item:n})}),v},f=function(e,t){var a=e.props,s=e.dataStartIndex,o=e.dataEndIndex,i=e.updateId;if(!Ke({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,m=a.data,p=a.reverseStackOrder,g=hv(d),y=g.numericAxisName,v=g.cateAxisName,x=Ge(c,r),b=function(e,t,n,r,a,s){if(!e)return null;var o=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Th(Th({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(s.hide)return e;var i=s[n],l=e[i]||{hasStack:!1,stackGroups:{}};if(me(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[ge("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Th(Th({},e),{},Ih({},i,l))},{});return Object.keys(o).reduce(function(t,s){var i=o[s];return i.hasStack&&(i.stackGroups=Object.keys(i.stackGroups).reduce(function(t,s){var o=i.stackGroups[s];return Th(Th({},t),{},Ih({},s,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:Gh(e,o.items,a)}))},{})),Th(Th({},t),{},Ih({},s,i))},{})}(m,x,"".concat(y,"Id"),"".concat(v,"Id"),f,p),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Jy(Jy({},e),{},Zy({},n,uv(a,Jy(Jy({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:o}))))},{}),S=fv(Jy(Jy({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],S,e.replace("Map",""),n)});var k=function(e){var t=ve(e),n=Wh(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dt()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Jh(t,n)}}(w["".concat(v,"Map")]),j=h(a,Jy(Jy({},w),{},{dataStartIndex:s,dataEndIndex:o,updateId:i,graphicalItems:x,stackGroups:b,offset:S}));return Jy(Jy({formattedGraphicalItems:j,graphicalItems:x,offset:S,stackGroups:b},k),w)},m=function(e){function r(e){var a,s,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Zy(o=Hy(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Zy(o,"accessibilityManager",new Ug),Zy(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(Jy({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},Jy(Jy({},o.state),{},{legendBBox:e}))))}}),Zy(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),Zy(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return Jy({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),Zy(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=Jy(Jy({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;je()(r)&&r(n,e)}}),Zy(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?Jy(Jy({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;je()(r)&&r(n,e)}),Zy(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Zy(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),Zy(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),Zy(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;je()(n)&&n(t,e)}),Zy(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&We[t]?We[t]:null}(e),r=oe()(o.props,"".concat(n));n&&je()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),Zy(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=Jy(Jy({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;je()(r)&&r(n,e)}}),Zy(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;je()(t)&&t(o.getMouseInfo(e),e)}),Zy(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;je()(t)&&t(o.getMouseInfo(e),e)}),Zy(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Zy(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),Zy(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),Zy(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;je()(t)&&t(o.getMouseInfo(e),e)}),Zy(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;je()(t)&&t(o.getMouseInfo(e),e)}),Zy(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&Mg.emit(Rg,o.props.syncId,e,o.eventEmitterSymbol)}),Zy(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,s=e.dataStartIndex,i=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Jy({dataStartIndex:s,dataEndIndex:i},f({props:o.props,dataStartIndex:s,dataEndIndex:i,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,m=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(m,e);else if("value"===r){u=-1;for(var p=0;p<m.length;p++)if(m[p].value===e.activeLabel){u=p;break}}var g=Jy(Jy({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=m[u]&&m[u].value,b=iv(o.state,o.props.data,u),w=m[u]?{x:"horizontal"===n?m[u].coordinate:y,y:"horizontal"===n?v:m[u].coordinate}:rv;o.setState(Jy(Jy({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),Zy(o,"renderCursor",function(e){var r,a=o.state,s=a.isTooltipActive,i=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:s,m=o.props.layout,p=e.key||"_recharts-cursor";return t.createElement(Ry,{key:p,activeCoordinate:i,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:m,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),Zy(o,"renderPolarAxis",function(e,n,r){var a=oe()(e,"type.axisType"),s=oe()(o.state,"".concat(a,"Map")),i=e.type.defaultProps,l=void 0!==i?Jy(Jy({},i),e.props):e.props,c=s&&s[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,Jy(Jy({},c),{},{className:J(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:Wh(c,!0)}))}),Zy(o,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,s=n.polarRadius,i=o.state,l=i.radiusAxisMap,c=i.angleAxisMap,u=ve(l),d=ve(c),h=d.cx,f=d.cy,m=d.innerRadius,p=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:Wh(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:Wh(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:m,outerRadius:p,key:e.key||"polar-grid",radialLines:r})}),Zy(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,n=o.props,r=n.children,a=n.width,s=n.height,i=o.props.margin||{},l=a-(i.left||0)-(i.right||0),u=Nh({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=zy(u,Ly);return(0,t.cloneElement)(d,Jy(Jy({},h),{},{chartWidth:a,chartHeight:s,margin:i,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),Zy(o,"renderTooltip",function(){var e,n=o.props,r=n.children,a=n.accessibilityLayer,s=qe(r,un);if(!s)return null;var i=o.state,l=i.isTooltipActive,c=i.activeCoordinate,u=i.activePayload,d=i.activeLabel,h=i.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(s,{viewBox:Jy(Jy({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),Zy(o,"renderBrush",function(e){var n=o.props,r=n.margin,a=n.data,s=o.state,i=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:zh(o.handleBrushChange,e.props.onChange),data:a,x:fe(e.props.x)?e.props.x:i.left,y:fe(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:fe(e.props.width)?e.props.width:i.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),Zy(o,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=o.clipPathId,s=o.state,i=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,m=d.yAxisId,p=void 0===m?u.yAxisId:m;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:i[f],yAxis:l[p],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),Zy(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,s=e.childIndex,o=e.isRange,i=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Jy(Jy({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=Jy(Jy({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Mh(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},$e(u,!1)),De(u));return i.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),a?i.push(r.renderActiveDot(u,Jy(Jy({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):o&&i.push(null),i}),Zy(o,"renderGraphicChild",function(e,n,r){var a=o.filterFormatItem(e,n,r);if(!a)return null;var s=o.getTooltipEventType(),i=o.state,l=i.isTooltipActive,c=i.tooltipAxis,u=i.activeTooltipIndex,d=i.activeLabel,h=qe(o.props.children,un),f=a.props,m=f.points,p=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?Jy(Jy({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,S=Boolean(!x&&l&&h&&(v||b||w)),k={};"axis"!==s&&h&&"click"===h.props.trigger?k={onClick:zh(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(k={onMouseLeave:zh(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:zh(o.handleItemMouseEnter,e.props.onMouseEnter)});var j=(0,t.cloneElement)(e,Jy(Jy({},a.props),k));if(S){if(!(u>=0)){var _,N=(null!==(_=o.getItemByXY(o.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:j}).graphicalItem,P=N.item,E=void 0===P?e:P,O=N.childIndex,A=Jy(Jy(Jy({},a.props),k),{},{activeIndex:O});return[(0,t.cloneElement)(E,A),null,null]}var T,I;if(c.dataKey&&!c.allowDuplicatedCategory){var C="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=be(m,C,d),I=p&&g&&be(g,C,d)}else T=null===m||void 0===m?void 0:m[u],I=p&&g&&g[u];if(w||b){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,Jy(Jy(Jy({},a.props),k),{},{activeIndex:D})),null,null]}if(!ue()(T))return[j].concat(Yy(o.renderActivePoints({item:a,activePoint:T,basePoint:I,childIndex:u,isRange:p})))}return p?[j,null,null]:[j,null]}),Zy(o,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,Jy(Jy({key:"recharts-customized-".concat(r)},o.props),o.state))}),Zy(o,"renderMap",{CartesianGrid:{handler:av,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:av},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:av},YAxis:{handler:av},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:ge("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=ee()(o.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,s=qe(t,un);if(s){var o=s.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var i=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=iv(this.state,n,o,i),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=Jy(Jy({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:i,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Je([qe(e.children,un)],[qe(this.props.children,un)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=qe(this.props.children,un);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,i=this.inRange(s.chartX,s.chartY,o);if(!i)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=lv(this.state,this.props.data,this.props.layout,i);if("axis"!==d&&c&&u){var f=ve(c).scale,m=ve(u).scale,p=f&&f.invert?f.invert(s.chartX):null,g=m&&m.invert?m.invert(s.chartY):null;return Jy(Jy({},s),{},{xValue:p,yValue:g},h)}return h?Jy(Jy({},s),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&s>=o.top&&s<=o.top+o.height?{x:a,y:s}:null}var i=this.state,l=i.angleAxisMap,c=i.radiusAxisMap;if(l&&c){var u=ve(l);return Of({x:a,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=qe(e,un),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Jy(Jy({},De(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Mg.on(Rg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mg.removeListener(Rg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,s=r.length;a<s;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===Ue(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,s=n.height,o=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:s,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Uy(t,2),r=n[0],a=n[1];return Jy(Jy({},e),{},Zy({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Uy(t,2),r=n[0],a=n[1];return Jy(Jy({},e),{},Zy({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,s=n.length;a<s;a++){var o=n[a],i=o.props,l=o.item,c=void 0!==l.type.defaultProps?Jy(Jy({},l.type.defaultProps),l.props):l.props,u=Ue(l.type);if("Bar"===u){var d=(i.data||[]).find(function(t){return _s(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(i.data||[]).find(function(t){return Of(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(Wm(o,r)||Um(o,r)||zm(o,r)){var f=qm({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),m=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Jy(Jy({},o),{},{childIndex:m}),payload:zm(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Ke(this))return null;var n,r,a=this.props,s=a.children,o=a.className,i=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=zy(a,By),m=$e(f,!1);if(u)return t.createElement(Zp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(yt,Wy({},m,{width:i,height:l,title:d,desc:h}),this.renderClipPath(),et(s,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return t.createElement(Zp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",Wy({className:J("recharts-wrapper",o),style:Jy({position:"relative",cursor:"default",width:i,height:l},c)},p,{ref:function(t){e.container=t}}),t.createElement(yt,Wy({},m,{width:i,height:l,title:d,desc:h,style:nv}),this.renderClipPath(),et(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Vy(a.prototype,o),l&&Vy(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);Zy(m,"displayName",n),Zy(m,"defaultProps",Jy({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Zy(m,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,s=e.width,o=e.height,i=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=dv(e);return Jy(Jy(Jy({},h),{},{updateId:0},f(Jy(Jy({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||l!==t.prevStackOffset||!Ee(c,t.prevMargin)){var m=dv(e),p={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Jy(Jy({},lv(t,r,i)),{},{updateId:t.updateId+1}),y=Jy(Jy(Jy({},m),p),g);return Jy(Jy(Jy({},y),f(Jy({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Je(a,t.prevChildren)){var v,x,b,w,S=qe(a,xf),k=S&&null!==(v=null===(x=S.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,j=S&&null!==(b=null===(w=S.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,_=k!==u||j!==d,N=!ue()(r)&&!_?t.updateId:t.updateId+1;return Jy(Jy({updateId:N},f(Jy(Jy({props:e},t),{},{updateId:N,dataStartIndex:k,dataEndIndex:j}),t)),{},{prevChildren:a,dataStartIndex:k,dataEndIndex:j})}return null}),Zy(m,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):je()(e)?e(n):t.createElement(Ur,n),t.createElement(wt,{className:"recharts-active-dot",key:r},a)});var p=(0,t.forwardRef)(function(e,n){return t.createElement(m,Wy({},e,{ref:n}))});return p.displayName=m.displayName,p},gv=["type","layout","connectNulls","ref"],yv=["key"];function vv(e){return vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(e)}function xv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(this,arguments)}function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(n),!0).forEach(function(t){Av(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kv(e){return function(e){if(Array.isArray(e))return jv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tv(r.key),r)}}function Nv(e,t,n){return t=Ev(t),function(e,t){if(t&&("object"===vv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pv()?Reflect.construct(t,n||[],Ev(e).constructor):t.apply(e,n))}function Pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Pv=function(){return!!e})()}function Ev(e){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ev(e)}function Ov(e,t){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ov(e,t)}function Av(e,t,n){return(t=Tv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tv(e){var t=function(e,t){if("object"!=vv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vv(t)?t:t+""}var Iv=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Av(e=Nv(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Av(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),Av(e,"getStrokeDasharray",function(t,r,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,t);for(var o=Math.floor(t/s),i=t%s,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>i){c=[].concat(kv(a.slice(0,u)),[i-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(kv(n.repeat(a,o)),kv(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),Av(e,"id",ge("recharts-line-")),Av(e,"pathRef",function(t){e.mainCurve=t}),Av(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),Av(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ov(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ge(r.children,wh);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Ch(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(wt,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,c=$e(this.props,!1),u=$e(o,!0),d=i.map(function(e,t){var r=Sv(Sv(Sv({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:i});return n.renderDotItem(o,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(wt,bv({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls,c=(s.ref,xv(s,gv)),u=Sv(Sv(Sv({},$e(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:i,connectNulls:l});return t.createElement(wy,bv({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.strokeDasharray,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,m=a.height,p=this.state,g=p.prevPoints,y=p.totalLength;return t.createElement(gs,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var i=g.length/s.length,l=s.map(function(e,t){var n=Math.floor(t*i);if(g[n]){var r=g[n],s=xe(r.x,e.x),o=xe(r.y,e.y);return Sv(Sv({},e),{},{x:s(a),y:o(a)})}if(h){var l=xe(2*f,e.x),c=xe(m/2,e.y);return Sv(Sv({},e),{},{x:l(a),y:c(a)})}return Sv(Sv({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=xe(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(s,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return a&&r&&r.length&&(!o&&i>0||!Id()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,f=n.isAnimationActive,m=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=J("recharts-line",o),v=i&&i.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=ue()(m)?this.id:m,S=null!==(e=$e(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,j=void 0===k?3:k,_=S.strokeWidth,N=void 0===_?2:_,P=(Xe(a)?a:{}).clipDot,E=void 0===P||P,O=2*j+N;return t.createElement(wt,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-O/2,y:c-O/2,width:d+O,height:h+O}))):null,!g&&this.renderCurve(b,w),this.renderErrorBar(b,w),(g||a)&&this.renderDots(b,E,w),(!f||p)&&im.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(kv(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(kv(r),kv(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(je()(e))r=e(n);else{var a=n.key,s=xv(n,yv),o=J("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Ur,bv({key:a},s,{className:o}))}return r}}],a&&_v(r.prototype,a),s&&_v(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Cv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function Dv(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),o=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function Mv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function Rv(e){return Rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(e)}function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(n),!0).forEach(function(t){Fv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wv(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,i=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(fe(l)||Yt.isSsr)return function(e,t){return Cv(e,t+1)}(a,"number"===typeof l&&fe(l)?l:0);var h=[],f="top"===i||"bottom"===i?"width":"height",m=u&&"width"===f?Ks(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(e,r){var a=je()(c)?c(e.value,r):e.value;return"width"===f?Dv(Ks(a,{fontSize:t,letterSpacing:n}),m,d):Ks(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?de(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,s=e.y,o=e.width,i=e.height;return 1===t?{start:r?a:s,end:r?a+o:s+i}:{start:r?a+o:s+i,end:r?a:s}}(s,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var s,o=(r||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Cv(r,u)};var s,o=c,h=function(){return void 0===s&&(s=n(t,o)),s},f=t.coordinate,m=0===c||Mv(e,f,h,d,l);m||(c=0,d=i,u+=1),m&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(s=h())return s.v;return[]}(g,y,p,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,s){var o=(r||[]).slice(),i=o.length,l=t.start,c=t.end;if(s){var u=r[i-1],d=n(u,i-1),h=e*(u.coordinate+e*d/2-c);o[i-1]=u=Bv(Bv({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Mv(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[i-1]=Bv(Bv({},u),{},{isShow:!0}))}for(var f=s?i-1:i,m=function(t){var r,s=o[t],i=function(){return void 0===r&&(r=n(s,t)),r};if(0===t){var u=e*(s.coordinate-e*i()/2-l);o[t]=s=Bv(Bv({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else o[t]=s=Bv(Bv({},s),{},{tickCoord:s.coordinate});Mv(e,s.tickCoord,i,l,c)&&(l=s.tickCoord+e*(i()/2+a),o[t]=Bv(Bv({},s),{},{isShow:!0}))},p=0;p<f;p++)m(p);return o}(g,y,p,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,i=t.start,l=t.end,c=function(t){var r,c=s[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=Bv(Bv({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=Bv(Bv({},c),{},{tickCoord:c.coordinate});Mv(e,c.tickCoord,u,i,l)&&(l=c.tickCoord-e*(u()/2+a),s[t]=Bv(Bv({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}(g,y,p,a,o),h.filter(function(e){return e.isShow}))}Av(Iv,"displayName","Line"),Av(Iv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Yt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Av(Iv,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=Ch(e,o);return"horizontal"===u?{x:qh({axis:n,ticks:a,bandSize:i,entry:e,index:t}),y:ue()(l)?null:r.scale(l),value:l,payload:e}:{x:ue()(l)?null:n.scale(l),y:qh({axis:r,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}});return Sv({points:d,layout:u},c)});var Uv=["viewBox"],zv=["viewBox"],Vv=["ticks"];function Hv(e){return Hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qv(Object(n),!0).forEach(function(t){ex(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tx(r.key),r)}}function Xv(e,t,n){return t=Jv(t),function(e,t){if(t&&("object"===Hv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$v()?Reflect.construct(t,n||[],Jv(e).constructor):t.apply(e,n))}function $v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($v=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jv(e)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zv(e,t)}function ex(e,t,n){return(t=tx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tx(e){var t=function(e,t){if("object"!=Hv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hv(t)?t:t+""}var nx=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Xv(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Yv(e,Uv),a=this.props,s=a.viewBox,o=Yv(a,zv);return!Ee(n,s)||!Ee(r,o)||!Ee(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,s,o,i=this.props,l=i.x,c=i.y,u=i.width,d=i.height,h=i.orientation,f=i.tickSize,m=i.mirror,p=i.tickMargin,g=m?-1:1,y=e.tickSize||f,v=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(a=c+ +!m*d)-g*y)-g*p,s=v;break;case"left":r=a=e.coordinate,s=(t=(n=l+ +!m*u)-g*y)-g*p,o=v;break;case"right":r=a=e.coordinate,s=(t=(n=l+ +m*u)+g*y)+g*p,o=v;break;default:t=n=e.coordinate,o=(r=(a=c+ +m*d)+g*y)+g*p,s=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:s,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.orientation,i=e.mirror,l=e.axisLine,c=Kv(Kv(Kv({},$e(this.props,!1)),$e(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!i||"bottom"===o&&i);c=Kv(Kv({},c),{},{x1:n,y1:r+u*s,x2:n+a,y2:r+u*s})}else{var d=+("left"===o&&!i||"right"===o&&i);c=Kv(Kv({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+s})}return t.createElement("line",Gv({},c,{className:J("recharts-cartesian-axis-line",oe()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var s=this,o=this.props,i=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=Wv(Kv(Kv({},this.props),{},{ticks:e}),r,a),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=$e(this.props,!1),g=$e(c,!1),y=Kv(Kv({},p),{},{fill:"none"},$e(i,!1)),v=h.map(function(e,r){var a=s.getTickLineCoord(e),o=a.line,v=a.tick,x=Kv(Kv(Kv(Kv({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(wt,Gv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Me(s.props,e,r)),i&&t.createElement("line",Gv({},y,o,{className:J("recharts-cartesian-axis-tick-line",oe()(i,"className"))})),c&&n.renderTickItem(c,x,"".concat(je()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,s=n.height,o=n.ticksGenerator,i=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=Yv(l,Vv),d=c;return je()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||s<=0||!d||!d.length?null:t.createElement(wt,{className:J("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Wf.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,n,r){var a=J(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,Kv(Kv({},n),{},{className:a})):je()(e)?e(Kv(Kv({},n),{},{className:a})):t.createElement(ko,Gv({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&Qv(r.prototype,a),s&&Qv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function rx(e){return rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(e)}function ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ux(r.key),r)}}function sx(e,t,n){return t=ix(t),function(e,t){if(t&&("object"===rx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ox()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function ox(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ox=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ix(e)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lx(e,t)}function cx(e,t,n){return(t=ux(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ux(e){var t=function(e,t){if("object"!=rx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rx(t)?t:t+""}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(this,arguments)}function hx(e){var n=e.xAxisId,r=ng(),a=rg(),s=eg(n);return null==s?null:t.createElement(nx,dx({},s,{className:J("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Wh(e,!0)}}))}ex(nx,"displayName","CartesianAxis"),ex(nx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fx=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),sx(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(hx,this.props)}}])&&ax(r.prototype,a),s&&ax(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function mx(e){return mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(e)}function px(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wx(r.key),r)}}function gx(e,t,n){return t=vx(t),function(e,t){if(t&&("object"===mx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yx()?Reflect.construct(t,n||[],vx(e).constructor):t.apply(e,n))}function yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yx=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vx(e)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xx(e,t)}function bx(e,t,n){return(t=wx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wx(e){var t=function(e,t){if("object"!=mx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mx(t)?t:t+""}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(this,arguments)}cx(fx,"displayName","XAxis"),cx(fx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var kx=function(e){var n=e.yAxisId,r=ng(),a=rg(),s=tg(n);return null==s?null:t.createElement(nx,Sx({},s,{className:J("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Wh(e,!0)}}))},jx=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),gx(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(kx,this.props)}}])&&px(r.prototype,a),s&&px(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);bx(jx,"displayName","YAxis"),bx(jx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var _x=pv({chartName:"LineChart",GraphicalChild:Iv,axisComponents:[{axisType:"xAxis",AxisComp:fx},{axisType:"yAxis",AxisComp:jx}],formatAxisMap:jp}),Nx=["x1","y1","x2","y2","key"],Px=["offset"];function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ox(Object(n),!0).forEach(function(t){Tx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ex(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}function Cx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Dx=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.ry;return t.createElement("rect",{x:a,y:s,ry:l,width:o,height:i,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Mx(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(je()(e))r=e(n);else{var a=n.x1,s=n.y1,o=n.x2,i=n.y2,l=n.key,c=Cx(n,Nx),u=$e(c,!1),d=(u.offset,Cx(u,Px));r=t.createElement("line",Ix({},d,{x1:a,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function Rx(e){var n=e.x,r=e.width,a=e.horizontal,s=void 0===a||a,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=Ax(Ax({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return Mx(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Lx(e){var n=e.y,r=e.height,a=e.vertical,s=void 0===a||a,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=Ax(Ax({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return Mx(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Bx(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?s+i-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Fx(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?o+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:i,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wx=function(e,t){var n=e.xAxis,r=e.width,a=e.height,s=e.offset;return Fh(Wv(Ax(Ax(Ax({},nx.defaultProps),n),{},{ticks:Wh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},Ux=function(e,t){var n=e.yAxis,r=e.width,a=e.height,s=e.offset;return Fh(Wv(Ax(Ax(Ax({},nx.defaultProps),n),{},{ticks:Wh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},zx={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vx(e){var n,r,a,s,o,i,l=ng(),c=rg(),u=(0,t.useContext)(Qp),d=Ax(Ax({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:zx.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:zx.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:zx.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:zx.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:zx.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:zx.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,p=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(qp);return ve(e)}(),b=function(){var e=(0,t.useContext)(Kp);return Vp()(e,function(e){return qf()(e.domain,Number.isFinite)})||ve(e)}();if(!fe(m)||m<=0||!fe(p)||p<=0||!fe(h)||h!==+h||!fe(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||Wx,S=d.horizontalCoordinatesGenerator||Ux,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&je()(S)){var _=y&&y.length,N=S({yAxis:b?Ax(Ax({},b),{},{ticks:_?y:b.ticks}):void 0,width:l,height:c,offset:u},!!_||g);Se(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ex(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&je()(w)){var P=v&&v.length,E=w({xAxis:x?Ax(Ax({},x),{},{ticks:P?v:x.ticks}):void 0,width:l,height:c,offset:u},!!P||g);Se(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ex(E),"]")),Array.isArray(E)&&(j=E)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Dx,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(Rx,Ix({},d,{offset:u,horizontalPoints:k,xAxis:x,yAxis:b})),t.createElement(Lx,Ix({},d,{offset:u,verticalPoints:j,xAxis:x,yAxis:b})),t.createElement(Bx,Ix({},d,{horizontalPoints:k})),t.createElement(Fx,Ix({},d,{verticalPoints:j})))}Vx.displayName="CartesianGrid";const Hx=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:l,getTeamName:c,getTeamDetails:u}=X(),[d,f]=(0,t.useState)([]),[m,p]=(0,t.useState)("winPercentage"),[g,y]=(0,t.useState)("desc"),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)({}),[j,_]=(0,t.useState)([]),[N,P]=(0,t.useState)(!1),E=["#8884d8","#82ca9d","#ffc658","#f5222d","#fa8c16","#a0d911","#52c41a","#1890ff","#2f54eb","#722ed1","#eb2f96","#faad14","#13c2c2","#eb2f96","#fadb14","#52c41a"];(0,t.useEffect)(()=>{if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return f([]),x([]),w([]),k({}),void _([]);if("function"!==typeof c)return h.A.error("LeagueHistory: getDisplayTeamNameFromContext is not a function. Cannot process data."),f([]),x([]),w([]),k({}),void _([]);const{seasonalMetrics:e,careerDPRData:t}=s(o,0,c,l);h.A.debug("LeagueHistory: calculatedCareerDPRs after initial calculation:",t);const n=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),i={};t.forEach(e=>{const t=e.ownerId,n=c(t,null);n&&!n.startsWith("Unknown Team (ID:")?i[n]={totalWins:e.wins,totalLosses:e.losses,totalTies:e.ties,totalPointsFor:e.pointsFor,totalGames:e.totalGames,careerDPR:e.dpr,seasonsPlayed:new Set,awards:{championships:e.championships||0,runnerUps:e.runnerUps||0,thirdPlace:e.thirdPlaces||0,firstPoints:e.pointsChampionships||0,secondPoints:e.pointsRunnerUps||0,thirdPoints:e.thirdPlacePoints||0},ownerId:t}:h.A.warn("LeagueHistory: Skipping career stats for ownerId ".concat(t," due to unresolved team name."))}),h.A.debug("LeagueHistory: teamOverallStats after population:",i),Object.keys(o.rostersBySeason).forEach(e=>{const t=o.rostersBySeason[e];t&&t.forEach(t=>{const n=t.owner_id,r=c(n,null);i[r]&&i[r].seasonsPlayed.add(parseInt(e))})});const u={};n.forEach(t=>{var n;const r=e[t],a=(o.winnersBracketBySeason[t],null===(n=o.losersBracketBySeason)||void 0===n||n[t],o.rostersBySeason[t]||[]);new Map(a.map(e=>[String(e.roster_id),String(e.owner_id)]));u[t]={champion:"N/A",secondPlace:"N/A",thirdPlace:"N/A",pointsChamp:"N/A",pointsSecond:"N/A",pointsThird:"N/A"};let s=!1;if(r&&Object.values(r).forEach(e=>{e.isChampion&&(u[t].champion=c(e.ownerId,t),s=!0),e.isRunnerUp&&(u[t].secondPlace=c(e.ownerId,t),s=!0),e.isThirdPlace&&(u[t].thirdPlace=c(e.ownerId,t),s=!0)}),r){Object.values(r).map(e=>({ownerId:e.ownerId,points:e.pointsFor,isPointsChampion:e.isPointsChampion,isPointsRunnerUp:e.isPointsRunnerUp,isThirdPlacePoints:e.isThirdPlacePoints})).forEach(e=>{e.isPointsChampion&&(u[t].pointsChamp=c(e.ownerId,t)),e.isPointsRunnerUp&&(u[t].pointsSecond=c(e.ownerId,t)),e.isThirdPlacePoints&&(u[t].pointsThird=c(e.ownerId,t))})}else h.A.warn("LeagueHistory: No seasonal metrics found for year ".concat(t,". Cannot determine points awards."));const i=u[t];"N/A"!==i.champion||"N/A"!==i.secondPlace||"N/A"!==i.thirdPlace||"N/A"!==i.pointsChamp||"N/A"!==i.pointsSecond||"N/A"!==i.pointsThird||delete u[t]}),h.A.debug("LeagueHistory: newSeasonAwardsSummary after processing:",u);const d={},m={};Object.keys(o.rostersBySeason).forEach(e=>{(o.rostersBySeason[e]||[]).forEach(t=>{const n=String(t.owner_id),r=String(t.roster_id);d[n]||(d[n]=new Set),d[n].add(r),m[r]=String(e)})});const p=Object.keys(i).map(n=>{const r=i[n];if(0===r.seasonsPlayed.size)return null;const a=r.totalWins+r.totalLosses+r.totalTies,s=a>0?(r.totalWins+.5*r.totalTies)/a:0,o=Array.from(r.seasonsPlayed).sort((e,t)=>e-t),l=o.length>0?o[0]:"",c=o.length>0?o[o.length-1]:"",u=r.seasonsPlayed.size;let d=(0,G.jsx)(G.Fragment,{children:u>0?l===c?(0,G.jsxs)(G.Fragment,{children:[l," ",(0,G.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):(0,G.jsxs)(G.Fragment,{children:[l,"-",c," ",(0,G.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):""});const h=t.find(e=>e.ownerId===r.ownerId),f=t=>{const n=[];return Object.entries(e).forEach(e=>{let[a,s]=e;const o=Object.values(s).find(e=>e.ownerId===r.ownerId&&e[t]);o&&n.push(a)}),n},m=h?{championships:h.championships||0,championshipsYears:f("isChampion"),runnerUps:h.runnerUps||0,runnerUpsYears:f("isRunnerUp"),thirdPlace:h.thirdPlaces||0,thirdPlaceYears:f("isThirdPlace"),firstPoints:h.pointsChampionships||0,firstPointsYears:f("isPointsChampion"),secondPoints:h.pointsRunnerUps||0,secondPointsYears:f("isPointsRunnerUp"),thirdPoints:h.thirdPlacePoints||0,thirdPointsYears:f("isThirdPlacePoints")}:{championships:0,championshipsYears:[],runnerUps:0,runnerUpsYears:[],thirdPlace:0,thirdPlaceYears:[],firstPoints:0,firstPointsYears:[],secondPoints:0,secondPointsYears:[],thirdPoints:0,thirdPointsYears:[]};return{team:n,seasons:d,totalDPR:r.careerDPR,record:"".concat(r.totalWins,"-").concat(r.totalLosses,"-").concat(r.totalTies),totalWins:r.totalWins,winPercentage:s,awards:m,ownerId:r.ownerId}}).filter(Boolean).sort((e,t)=>t.winPercentage-e.winPercentage);f(p);const g=[],y=Object.keys(o.matchupsBySeason).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t),v=Array.from(new Set(t.map(e=>e.ownerId))),b=v.map(e=>c(e,null)).sort();w(b),y.forEach(e=>{const t={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(o.matchupsBySeason).forEach(n=>{parseInt(n)<=e&&(t.matchupsBySeason[n]=o.matchupsBySeason[n],t.rostersBySeason[n]=o.rostersBySeason[n],t.leaguesMetadataBySeason[n]=o.leaguesMetadataBySeason[n],t.winnersBracketBySeason[n]=o.winnersBracketBySeason[n],t.losersBracketBySeason[n]=o.losersBracketBySeason[n],t.usersBySeason[n]=o.usersBySeason[n])});const{careerDPRData:n}=s(t,0,c,l),r=v.map(e=>{var t;const r=null===(t=n.find(t=>t.ownerId===e))||void 0===t?void 0:t.dpr;return{ownerId:e,dpr:void 0!==r?r:-9999,teamName:c(e,null)}});r.sort((e,t)=>t.dpr-e.dpr),r.forEach((e,t)=>{e.rank=t+1});const a={year:e};r.forEach(e=>{a[e.teamName]=e.rank}),g.push(a)}),x(g),k(u),_(Object.keys(u).map(Number).sort((e,t)=>t-e))},[o,i,l,c,r,a]);const O=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return".000%"},A=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),T=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e="string"===typeof r?parseInt(r):r,t=v.find(t=>parseInt(t.year)===e);let a=[];if(o&&i&&c&&l&&b){const t=Array.from(new Set(Object.keys(o.rostersBySeason).flatMap(e=>(o.rostersBySeason[e]||[]).map(e=>e.owner_id)))),n={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(o.matchupsBySeason).forEach(t=>{parseInt(t)<=e&&(n.matchupsBySeason[t]=o.matchupsBySeason[t],n.rostersBySeason[t]=o.rostersBySeason[t],n.leaguesMetadataBySeason[t]=o.leaguesMetadataBySeason[t],n.winnersBracketBySeason[t]=o.winnersBracketBySeason[t],n.losersBracketBySeason[t]=o.losersBracketBySeason[t],n.usersBySeason[t]=o.usersBySeason[t])});const{careerDPRData:r}=s(n,0,c,l);a=t.map(e=>{const t=r.find(t=>t.ownerId===e);return{ownerId:e,dpr:t?t.dpr:void 0,teamName:c(e,null)}})}const u={};a.forEach(e=>{u[e.ownerId]=e.dpr});const d=n.map(e=>{let n;if(a&&a.length>0){const t=a.find(t=>t.teamName===e.name);t&&(n=t.ownerId)}return{team:e.name,rank:t?t[e.name]:void 0,color:e.color,ownerId:n}});return d.sort((e,t)=>e.rank-t.rank),(0,G.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,G.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:"Year: ".concat(r)}),d.map((e,t)=>(0,G.jsx)("p",{style:{color:e.color},children:e.team},"item-".concat(t)))]})}return null},I=b.length,C=[];for(let t=1;t<=I;t++)C.push(t);const D=()=>{const e=[...d];return e.sort((e,t)=>{let n=e[m],r=t[m];var a,s;if("team"===m)return n=(null===(a=n)||void 0===a?void 0:a.toLowerCase())||"",r=(null===(s=r)||void 0===s?void 0:s.toLowerCase())||"",n<r?"asc"===g?-1:1:n>r?"asc"===g?1:-1:0;if("seasons"===m){var o,i,l,c,u,d,h,f,p,y;const n=(null===(o=e.seasons)||void 0===o||null===(i=o.props)||void 0===i||null===(l=i.children)||void 0===l||null===(c=l[1])||void 0===c||null===(u=c.props)||void 0===u?void 0:u.children)||0,r=(null===(d=t.seasons)||void 0===d||null===(h=d.props)||void 0===h||null===(f=h.children)||void 0===f||null===(p=f[1])||void 0===p||null===(y=p.props)||void 0===y?void 0:y.children)||0;return"asc"===g?n-r:r-n}if("awards"===m){const n=e.awards||{},r=t.awards||{};return n.championships!==r.championships?"asc"===g?n.championships-r.championships:r.championships-n.championships:n.runnerUps!==r.runnerUps?"asc"===g?n.runnerUps-r.runnerUps:r.runnerUps-n.runnerUps:n.thirdPlace!==r.thirdPlace?"asc"===g?n.thirdPlace-r.thirdPlace:r.thirdPlace-n.thirdPlace:0}return n="string"===typeof n?parseFloat(n):n,r="string"===typeof r?parseFloat(r):r,isNaN(n)&&(n=0),isNaN(r)&&(r=0),"asc"===g?n-r:r-n}),e};return(0,G.jsxs)("div",{className:"w-full max-w-5xl mx-auto p-2 sm:p-4 md:p-8 font-inter",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"League History & Awards"}),r?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Loading league history data..."}):a?(0,G.jsx)("p",{className:"text-center text-red-500 font-semibold",children:a.message||String(a)}):0===d.length?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No historical matchup data found to display league history. Please check your Sleeper API configuration."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3 mb-8",children:D().map((e,t)=>{const n=u?u(e.ownerId,null):{name:e.team,avatar:void 0};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),n.avatar&&(0,G.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:e.team}),(0,G.jsxs)("p",{className:"text-xs text-gray-500",children:["Seasons: ",e.seasons]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:A(e.totalDPR)}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Career DPR"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:e.record})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold text-blue-700",children:O(e.winPercentage)})]})]}),(0,G.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.awards.championships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,G.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,G.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,G.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})]},e.team)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg mb-8",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Seasons"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Awards"})]})}),(0,G.jsx)("tbody",{children:D().map((e,t)=>{const n=u?u(e.ownerId,null):{name:e.team,avatar:void 0};return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[n.avatar&&(0,G.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm flex items-center gap-1",children:e.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.seasons}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:A(e.totalDPR)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.record}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:O(e.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:(0,G.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap",children:[e.awards.championships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,G.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,G.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,G.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})})]},e.team)})})]})}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season-by-Season Champions & Awards"}),Object.keys(S).length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"sm:hidden space-y-3 mb-4",children:[(N?j:j.slice(0,8)).map(e=>{const t=S[e];return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:e}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Awards"})]}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Champion"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.champion,children:t.champion})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"2nd Place"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.secondPlace,children:t.secondPlace})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"3rd Place"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.thirdPlace,children:t.thirdPlace})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points Champ"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsChamp,children:t.pointsChamp})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points 2nd"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsSecond,children:t.pointsSecond})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points 3rd"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsThird,children:t.pointsThird})]})]})]})]},"mobile-awards-".concat(e))}),j.length>8&&(0,G.jsx)("div",{className:"flex justify-center mt-2",children:(0,G.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>P(!N),children:N?"Show less":"Show all ".concat(j.length)})})]}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-2 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Year"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Champion"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"2nd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"3rd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points Champ"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points 2nd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points 3rd"})]})}),(0,G.jsxs)("tbody",{children:[(N?j:j.slice(0,8)).map((e,t)=>{const n=S[e];return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-800 font-semibold text-center whitespace-nowrap",children:e}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 font-medium truncate",title:n.champion,children:n.champion}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.secondPlace,children:n.secondPlace}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.thirdPlace,children:n.thirdPlace}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsChamp,children:n.pointsChamp}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsSecond,children:n.pointsSecond}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsThird,children:n.pointsThird})]},"desktop-awards-".concat(e))}),!N&&j.length>8&&(0,G.jsx)("tr",{children:(0,G.jsx)("td",{colSpan:7,className:"py-2 px-2 text-center",children:(0,G.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>P(!0),children:"Show all ".concat(j.length)})})})]})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No season-by-season award data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Total DPR Progression Over Seasons"}),v.length>0?(0,G.jsxs)(it,{width:"100%",aspect:1.5,children:[" ",(0,G.jsxs)(_x,{data:v,margin:{top:20,right:10,left:10,bottom:5},children:[(0,G.jsx)(Vx,{strokeDasharray:"3 3"}),(0,G.jsx)(fx,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:0}}),(0,G.jsx)(jx,{label:{value:"Rank (1 = Best)",angle:-90,position:"insideLeft",offset:0},domain:[1,I],tickFormatter:e=>"#".concat(e),ticks:C,reversed:!0,allowDataOverflow:!0,padding:{top:10,bottom:10}}),(0,G.jsx)(un,{content:(0,G.jsx)(T,{})}),(0,G.jsx)(Fr,{}),b.map((e,t)=>(0,G.jsx)(Iv,{type:"monotone",dataKey:e,stroke:E[t%E.length],activeDot:{r:8},dot:{r:4},strokeWidth:2},e))]})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No total DPR progression data available for charting."})]})]})]})},Gx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,o=s?e[a+1]:0,i=a+2<e.length,l=i?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;i||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const i=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==o||null==i)throw new Kx;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==i){const e=o<<6&192|i;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yx=function(e){return function(e){const t=Gx(e);return qx.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Qx=function(e){try{return qx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Xx=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,$x=()=>{try{return Xx()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Qx(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Jx=e=>{var t,n;return null===(n=null===(t=$x())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Zx=()=>{var e;return null===(e=$x())||void 0===e?void 0:e.config},eb=e=>{var t;return null===(t=$x())||void 0===t?void 0:t["_".concat(e)]};class tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function nb(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rb(){return!function(){var e;const t=null===(e=$x())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ab(){try{return"object"===typeof indexedDB}catch(e){return!1}}class sb extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,sb.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ob.prototype.create)}}class ob{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(ib,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new sb(n,s,t)}}const ib=/\{\$([^}]+)}/g;function lb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(cb(n)&&cb(s)){if(!lb(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function cb(e){return null!==e&&"object"===typeof e}function ub(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function db(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function hb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class fb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=mb),void 0===r.error&&(r.error=mb),void 0===r.complete&&(r.complete=mb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mb(){}function pb(e){return e&&e._delegate?e._delegate:e}class gb{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yb="[DEFAULT]";class vb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new tb;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yb})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===yb?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb;return this.component?this.component.multipleInstances?e:yb:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const bb=[];var wb;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wb||(wb={}));const Sb={debug:wb.DEBUG,verbose:wb.VERBOSE,info:wb.INFO,warn:wb.WARN,error:wb.ERROR,silent:wb.SILENT},kb=wb.INFO,jb={[wb.DEBUG]:"log",[wb.VERBOSE]:"log",[wb.INFO]:"info",[wb.WARN]:"warn",[wb.ERROR]:"error"},_b=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jb[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Nb{constructor(e){this.name=e,this._logLevel=kb,this._logHandler=_b,this._userLogHandler=null,bb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wb))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Sb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wb.DEBUG,...t),this._logHandler(this,wb.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wb.VERBOSE,...t),this._logHandler(this,wb.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wb.INFO,...t),this._logHandler(this,wb.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wb.WARN,...t),this._logHandler(this,wb.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wb.ERROR,...t),this._logHandler(this,wb.ERROR,...t)}}let Pb,Eb;const Ob=new WeakMap,Ab=new WeakMap,Tb=new WeakMap,Ib=new WeakMap,Cb=new WeakMap;let Db={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ab.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tb.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lb(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mb(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bb(this),n),Lb(Ob.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lb(e.apply(Bb(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(Bb(this),t,...r);return Tb.set(s,t.sort?t.sort():[t]),Lb(s)}}function Rb(e){return"function"===typeof e?Mb(e):(e instanceof IDBTransaction&&function(e){if(Ab.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Ab.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Db):e)}function Lb(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(Lb(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Ob.set(t,e)}).catch(()=>{}),Cb.set(t,e),t}(e);if(Ib.has(e))return Ib.get(e);const t=Rb(e);return t!==e&&(Ib.set(e,t),Cb.set(t,e)),t}const Bb=e=>Cb.get(e);const Fb=["get","getKey","getAll","getAllKeys","count"],Wb=["put","add","delete","clear"],Ub=new Map;function zb(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ub.get(t))return Ub.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Wb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Fb.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r&&(s=s.index(i.shift())),(await Promise.all([s[n](...i),a&&t.done]))[0]};return Ub.set(t,s),s}Db=(e=>u(u({},e),{},{get:(t,n,r)=>zb(t,n)||e.get(t,n,r),has:(t,n)=>!!zb(t,n)||e.has(t,n)}))(Db);class Vb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Hb="@firebase/app",Gb="0.10.13",qb=new Nb("@firebase/app"),Kb="@firebase/app-compat",Yb="@firebase/analytics-compat",Qb="@firebase/analytics",Xb="@firebase/app-check-compat",$b="@firebase/app-check",Jb="@firebase/auth",Zb="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",rw="@firebase/functions",aw="@firebase/functions-compat",sw="@firebase/installations",ow="@firebase/installations-compat",iw="@firebase/messaging",lw="@firebase/messaging-compat",cw="@firebase/performance",uw="@firebase/performance-compat",dw="@firebase/remote-config",hw="@firebase/remote-config-compat",fw="@firebase/storage",mw="@firebase/storage-compat",pw="@firebase/firestore",gw="@firebase/vertexai-preview",yw="@firebase/firestore-compat",vw="firebase",xw="[DEFAULT]",bw={[Hb]:"fire-core",[Kb]:"fire-core-compat",[Qb]:"fire-analytics",[Yb]:"fire-analytics-compat",[$b]:"fire-app-check",[Xb]:"fire-app-check-compat",[Jb]:"fire-auth",[Zb]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[rw]:"fire-fn",[aw]:"fire-fn-compat",[sw]:"fire-iid",[ow]:"fire-iid-compat",[iw]:"fire-fcm",[lw]:"fire-fcm-compat",[cw]:"fire-perf",[uw]:"fire-perf-compat",[dw]:"fire-rc",[hw]:"fire-rc-compat",[fw]:"fire-gcs",[mw]:"fire-gcs-compat",[pw]:"fire-fst",[yw]:"fire-fst-compat",[gw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"},ww=new Map,Sw=new Map,kw=new Map;function jw(e,t){try{e.container.addComponent(t)}catch(n){qb.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _w(e){const t=e.name;if(kw.has(t))return qb.debug("There were multiple attempts to register component ".concat(t,".")),!1;kw.set(t,e);for(const n of ww.values())jw(n,e);for(const n of Sw.values())jw(n,e);return!0}function Nw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pw(e){return void 0!==e.settings}const Ew=new ob("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ow{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gb("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ew.create("app-deleted",{appName:this._name})}}const Aw="10.14.1";function Tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:xw,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Ew.create("bad-app-name",{appName:String(a)});if(n||(n=Zx()),!n)throw Ew.create("no-options");const s=ww.get(a);if(s){if(lb(n,s.options)&&lb(r,s.config))return s;throw Ew.create("duplicate-app",{appName:a})}const o=new xb(a);for(const l of kw.values())o.addComponent(l);const i=new Ow(n,r,o);return ww.set(a,i),i}function Iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xw;const t=ww.get(e);if(!t&&e===xw&&Zx())return Tw();if(!t)throw Ew.create("no-app",{appName:e});return t}function Cw(e,t,n){var r;let a=null!==(r=bw[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qb.warn(e.join(" "))}_w(new gb("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const Dw="firebase-heartbeat-store";let Mw=null;function Rw(){return Mw||(Mw=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),i=Lb(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Lb(o.result),e.oldVersion,e.newVersion,Lb(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Dw)}catch(n){console.warn(n)}}}).catch(e=>{throw Ew.create("idb-open",{originalErrorMessage:e.message})})),Mw}async function Lw(e,t){try{const n=(await Rw()).transaction(Dw,"readwrite"),r=n.objectStore(Dw);await r.put(t,Bw(e)),await n.done}catch(n){if(n instanceof sb)qb.warn(n.message);else{const e=Ew.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});qb.warn(e.message)}}}function Bw(e){return"".concat(e.name,"!").concat(e.options.appId)}class Fw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Uw(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ww();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){qb.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ww(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),zw(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),zw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Yx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return qb.warn(t),""}}}function Ww(){return(new Date).toISOString().substring(0,10)}class Uw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ab()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rw()).transaction(Dw),n=await t.objectStore(Dw).get(Bw(e));return await t.done,n}catch(t){if(t instanceof sb)qb.warn(t.message);else{const e=Ew.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});qb.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zw(e){return Yx(JSON.stringify({version:2,heartbeats:e})).length}var Vw;Vw="",_w(new gb("platform-logger",e=>new Vb(e),"PRIVATE")),_w(new gb("heartbeat",e=>new Fw(e),"PRIVATE")),Cw(Hb,Gb,Vw),Cw(Hb,Gb,"esm2017"),Cw("fire-js","");Cw("firebase","10.14.1","app");var Hw,Gw,qw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kw={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var s=e.g[3],o=t+(s^n&(a^s))+r[0]+3614090360&4294967295;o=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^s&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(a^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=s+((o=a+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,a),s=0;break}}else for(;o<t;)if(a[s++]=e[o++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return i;if(0>e)return h(o(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var i=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(i,i);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(a=a.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=i;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=f(e,c)}return new p(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,s=[],o=0;o<a;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,s=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,s=0;s<=t;s++){var o=a+(65535&this.i(s))+(65535&e.i(s)),i=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);a=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return i;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var s=0;s<e.g.length;s++){var l=this.i(a)>>>16,f=65535&this.i(a),p=e.i(s)>>>16,g=65535&e.i(s);n[2*a+2*s]+=f*g,m(n,2*a+2*s),n[2*a+2*s+1]+=l*g,m(n,2*a+2*s+1),n[2*a+2*s+1]+=f*p,m(n,2*a+2*s+1),n[2*a+2*s+2]+=l*p,m(n,2*a+2*s+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gw=Kw.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),a=i,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),a=a.j(l).add(o(c))):a=(a=a.j(r)).add(o(c))}return a},Hw=Kw.Integer=r}).apply("undefined"!==typeof qw?qw:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yw,Qw,Xw,$w,Jw,Zw,eS,tS,nS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},rS={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nS&&nS];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in a))break e;a=a[o]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function i(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){a.setTimeout(()=>{throw e},0)}function j(){var e=O;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,E=!1,O=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=a.Promise.resolve(void 0);P=()=>{e.then(T)}};var T=()=>{for(var e;e=j();){try{e.h.call(e.g)}catch(An){k(An)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function I(){this.s=this.s,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(An){}return e}();function M(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(s){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,C);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),B=0;function F(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++B,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=0<=s)&&Array.prototype.splice.call(a,s,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var a=0;a<e.length;++a){var s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}U.prototype.add=function(e,t,n,r,a){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=V(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function q(e,t,n,r,a){if(r&&r.once)return Y(e,t,n,r,a);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");var i=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new U(e)),(n=l.add(t,n,r,i,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=i),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Q(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,a);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(s=e.g[t],n,r,a))&&(W(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):W(e)}}}function $(e){return e in G?G[e]:G[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var a=t;w(t=new C(r,e),a)}if(a=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];a=ae(o,r,!0,t)&&a}if(a=ae(o=t.g=e,r,!0,t)&&a,a=ae(o,r,!1,t)&&a,n)for(s=0;s<n.length;s++)a=ae(o=t.g=n[s],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var i=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),a=!1!==i.call(l,r)&&a}}return a&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)W(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ie extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){C.call(this,"d")}function xe(){C.call(this,"c")}d(ve,C),d(xe,C);var be={},we=null;function Se(){return we=we||new ne}function ke(e){C.call(this,be.La,e)}function je(e){const t=Se();re(t,new ke(t))}function _e(e,t){C.call(this,be.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Se();re(t,new _e(t,e))}function Pe(e,t){C.call(this,be.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<a.length;o++)a[o]=""}}}return de(n)}catch(i){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(ke,C),be.STAT_EVENT="statevent",d(_e,C),be.Ma="timingevent",d(Pe,C),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Te,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Te=new De;var Le={},Be={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,We(e,null)}function We(e,t){e.F=Date.now(),Ve(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var s=0;s<a.length;s++){var o=q(n,a[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),je(),function(e,t,n,r,a,s){e.info(function(){if(e.g)if(s)for(var o="",i=s.split("&"),l=0;l<i.length;l++){var c=i[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Be:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Be:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function Ge(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}nn(n),Ne(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!m(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var i=o,l=r.L;l&&(i.I=l),i.B&&(Ge(i),Ve(i)),r.g=o}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}je()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||je(),Ge(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Gt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var i="";break t}this.h.i=new a.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),qe(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<i.length;){if(e=ze(this,i),e==Be){4==h&&(this.s=4,Ne(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Ae(this.i,this.l,i,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ye(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<i.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),rn(d),d.M=!0,Ne(11))}}else Ae(this.i,this.l,i,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Ae(this.i,this.l,i,null),Ye(this,i);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),qe(this)}}}catch(aS){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(je(),Ne(17)),Ke(this),this.s=2,qe(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,it(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function it(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,xt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var s=e[n].substring(0,r);a=e[n].substring(r+1)}else s=e[n];t(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){wt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return wt(e),t=_t(e,t),e.g.has(t)}function jt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(s){}}function Pt(){this.g=new fe}function Et(e,t,n){const r=n||"";try{rt(e,function(e,n){let a=e;o(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Tt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,kt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var a=s;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")},d(Ot,me),Ot.prototype.g=function(){return new At(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Ct(this),3==this.readyState&&Tt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Bt=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),zt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),s=!Lt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var i=2<Ht(e)?e.g.statusText:""}catch(l){i=""}e.l=i+" ["+e.Z()+"]",Wt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function Vt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(iS){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(a.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||A(),E||(P(),E=!0),O.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const i=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{Et(i,e,"req"+n+"_")}catch(aS){r&&r(i)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||A(),E||(P(),E=!0),O.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,We(n,e)}function sn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Se(),new Pe(r,n)),$t(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||it(r,"https"),dt(r),t?function(e,t){const n=new Oe;if(a.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=a.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&it(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ot({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function pn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){xe.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?pe(this.o):pe(Te),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ft(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,i]of n)this.g.setRequestHeader(a,i);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ft(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(Cn){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Cn){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=x(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(a.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Fe(a,n,null)):Fe(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Yt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,pn.aa.N.call(this)},d(gn,ve),d(yn,xe),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,tS=rS.createWebChannelTransport=function(){return new mn},eS=rS.getStatEventTarget=function(){return Se()},Zw=rS.Event=be,Jw=rS.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,$w=rS.ErrorCode=Ie,Ce.COMPLETE="complete",Xw=rS.EventType=Ce,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Qw=rS.WebChannel=ge,rS.FetchXmlHttpFactory=Ot,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Yw=rS.XhrIo=Rt}).apply("undefined"!==typeof nS?nS:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const aS="@firebase/firestore";class sS{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sS.UNAUTHENTICATED=new sS(null),sS.GOOGLE_CREDENTIALS=new sS("google-credentials-uid"),sS.FIRST_PARTY=new sS("first-party-uid"),sS.MOCK_USER=new sS("mock-user");let oS="10.14.0";const iS=new Nb("@firebase/firestore");function lS(){return iS.logLevel}function cS(e){if(iS.logLevel<=wb.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(hS);iS.debug("Firestore (".concat(oS,"): ").concat(e),...a)}}function uS(e){if(iS.logLevel<=wb.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(hS);iS.error("Firestore (".concat(oS,"): ").concat(e),...a)}}function dS(e){if(iS.logLevel<=wb.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(hS);iS.warn("Firestore (".concat(oS,"): ").concat(e),...a)}}function hS(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(RA){return e}}function fS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(oS,") INTERNAL ASSERTION FAILED: ")+e;throw uS(t),new Error(t)}function mS(e,t){e||fS()}function pS(e,t){return e}const gS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yS extends sb{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vS{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sS.UNAUTHENTICATED))}shutdown(){}}class wS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SS{constructor(e){this.t=e,this.currentUser=sS.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mS(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new vS;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vS,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{cS("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(cS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vS)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(cS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mS("string"==typeof t.accessToken),new xS(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mS(null===e||"string"==typeof e),new sS(e)}}class kS{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sS.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jS{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new kS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sS.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){mS(void 0===this.o);const n=e=>{null!=e.error&&cS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,cS("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{cS("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):cS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(mS("string"==typeof e.token),this.R=e.token,new _S(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PS(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=PS(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function OS(e,t){return e<t?-1:e>t?1:0}function AS(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class TS{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yS(gS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yS(gS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yS(gS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yS(gS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return TS.fromMillis(Date.now())}static fromDate(e){return TS.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new TS(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?OS(this.nanoseconds,e.nanoseconds):OS(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class IS{constructor(e){this.timestamp=e}static fromTimestamp(e){return new IS(e)}static min(){return new IS(new TS(0,0))}static max(){return new IS(new TS(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class CS{constructor(e,t,n){void 0===t?t=0:t>e.length&&fS(),void 0===n?n=e.length-t:n>e.length-t&&fS(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===CS.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof CS?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class DS extends CS{construct(e,t,n){return new DS(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new yS(gS.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new DS(e)}static emptyPath(){return new DS([])}}const MS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class RS extends CS{construct(e,t,n){return new RS(e,t,n)}static isValidIdentifier(e){return MS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),RS.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new RS(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new yS(gS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yS(gS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yS(gS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new yS(gS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new RS(t)}static emptyPath(){return new RS([])}}class LS{constructor(e){this.path=e}static fromPath(e){return new LS(DS.fromString(e))}static fromName(e){return new LS(DS.fromString(e).popFirst(5))}static empty(){return new LS(DS.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===DS.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return DS.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new LS(new DS(e.slice()))}}class BS{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}BS.UNKNOWN_ID=-1;function FS(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=IS.fromTimestamp(1e9===r?new TS(n+1,0):new TS(n,r));return new US(a,LS.empty(),t)}function WS(e){return new US(e.readTime,e.key,-1)}class US{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new US(IS.min(),LS.empty(),-1)}static max(){return new US(IS.max(),LS.empty(),-1)}}function zS(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=LS.comparator(e.documentKey,t.documentKey),0!==n?n:OS(e.largestBatchId,t.largestBatchId))}const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function GS(e){if(e.code!==gS.FAILED_PRECONDITION||e.message!==VS)throw e;cS("LocalStore","Unexpectedly lost primary lease")}class qS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qS((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qS?t:qS.resolve(t)}catch(e){return qS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qS.reject(t)}static resolve(e){return new qS((t,n)=>{t(e)})}static reject(e){return new qS((t,n)=>{n(e)})}static waitFor(e){return new qS((t,n)=>{let r=0,a=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++a,s&&a===r&&t()},e=>n(e))}),s=!0,a===r&&t()})}static or(e){let t=qS.resolve(!1);for(const n of e)t=t.next(e=>e?qS.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new qS((n,r)=>{const a=e.length,s=new Array(a);let o=0;for(let i=0;i<a;i++){const l=i;t(e[l]).next(e=>{s[l]=e,++o,o===a&&n(s)},e=>r(e))}})}static doWhile(e,t){return new qS((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function KS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function YS(e){return"IndexedDbTransactionError"===e.name}class QS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function XS(e){return null==e}function $S(e){return 0===e&&1/e==-1/0}function JS(e){return"number"==typeof e&&Number.isInteger(e)&&!$S(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}QS.oe=-1;const ZS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ek=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tk=ek,nk=[...tk,"indexConfiguration","indexState","indexEntries"];function rk(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ak(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ok{constructor(e,t){this.comparator=e,this.root=t||lk.EMPTY}insert(e,t){return new ok(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lk.BLACK,null,null))}remove(e){return new ok(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lk.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ik(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ik(this.root,e,this.comparator,!1)}getReverseIterator(){return new ik(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ik(this.root,e,this.comparator,!0)}}class ik{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lk{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:lk.RED,this.left=null!=r?r:lk.EMPTY,this.right=null!=a?a:lk.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new lk(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lk.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lk.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lk.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lk.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fS();if(this.right.isRed())throw fS();const e=this.left.check();if(e!==this.right.check())throw fS();return e+(this.isRed()?0:1)}}lk.EMPTY=null,lk.RED=!0,lk.BLACK=!1,lk.EMPTY=new class{constructor(){this.size=0}get key(){throw fS()}get value(){throw fS()}get color(){throw fS()}get left(){throw fS()}get right(){throw fS()}copy(e,t,n,r,a){return this}insert(e,t,n){return new lk(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ck{constructor(e){this.comparator=e,this.data=new ok(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uk(this.data.getIterator())}getIteratorFrom(e){return new uk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ck))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ck(this.comparator);return t.data=e,t}}class uk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dk{constructor(e){this.fields=e,e.sort(RS.comparator)}static empty(){return new dk([])}unionWith(e){let t=new ck(RS.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dk(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return AS(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fk{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hk("Invalid base64 string: "+e):e}}(e);return new fk(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fk(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return OS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fk.EMPTY_BYTE_STRING=new fk("");const mk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pk(e){if(mS(!!e),"string"==typeof e){let t=0;const n=mk.exec(e);if(mS(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gk(e.seconds),nanos:gk(e.nanos)}}function gk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yk(e){return"string"==typeof e?fk.fromBase64String(e):fk.fromUint8Array(e)}function vk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xk(e){const t=e.mapValue.fields.__previous_value__;return vk(t)?xk(t):t}function bk(e){const t=pk(e.mapValue.fields.__local_write_time__.timestampValue);return new TS(t.seconds,t.nanos)}class wk{constructor(e,t,n,r,a,s,o,i,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=i,this.useFetchStreams=l}}class Sk{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sk("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sk&&e.projectId===this.projectId&&e.database===this.database}}const kk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vk(e)?4:Fk(e)?9007199254740991:Lk(e)?10:11:fS()}function _k(e,t){if(e===t)return!0;const n=jk(e);if(n!==jk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bk(e).isEqual(bk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pk(e.timestampValue),r=pk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yk(e.bytesValue).isEqual(yk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gk(e.geoPointValue.latitude)===gk(t.geoPointValue.latitude)&&gk(e.geoPointValue.longitude)===gk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gk(e.integerValue)===gk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gk(e.doubleValue),r=gk(t.doubleValue);return n===r?$S(n)===$S(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return AS(e.arrayValue.values||[],t.arrayValue.values||[],_k);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rk(n)!==rk(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!_k(n[a],r[a])))return!1;return!0}(e,t);default:return fS()}}function Nk(e,t){return void 0!==(e.values||[]).find(e=>_k(e,t))}function Pk(e,t){if(e===t)return 0;const n=jk(e),r=jk(t);if(n!==r)return OS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return OS(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gk(e.integerValue||e.doubleValue),r=gk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ek(e.timestampValue,t.timestampValue);case 4:return Ek(bk(e),bk(t));case 5:return OS(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yk(e),r=yk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=OS(n[a],r[a]);if(0!==e)return e}return OS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=OS(gk(e.latitude),gk(t.latitude));return 0!==n?n:OS(gk(e.longitude),gk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ok(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,s;const o=e.fields||{},i=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=i.value)||void 0===r?void 0:r.arrayValue,u=OS((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ok(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kk.mapValue&&t===kk.mapValue)return 0;if(e===kk.mapValue)return 1;if(t===kk.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=OS(r[o],s[o]);if(0!==e)return e;const t=Pk(n[r[o]],a[s[o]]);if(0!==t)return t}return OS(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fS()}}function Ek(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return OS(e,t);const n=pk(e),r=pk(t),a=OS(n.seconds,r.seconds);return 0!==a?a:OS(n.nanos,r.nanos)}function Ok(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Pk(n[a],r[a]);if(e)return e}return OS(n.length,r.length)}function Ak(e){return Tk(e)}function Tk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yk(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return LS.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Tk(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(Tk(e.fields[a]));return n+"}"}(e.mapValue):fS()}function Ik(e){return!!e&&"integerValue"in e}function Ck(e){return!!e&&"arrayValue"in e}function Dk(e){return!!e&&"nullValue"in e}function Mk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rk(e){return!!e&&"mapValue"in e}function Lk(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ak(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Bk(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wk{constructor(e){this.value=e}static empty(){return new Wk({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rk(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bk(t)}setAll(e){let t=RS.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Bk(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Rk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _k(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ak(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Wk(Bk(this.value))}}function Uk(e){const t=[];return ak(e.fields,(e,n)=>{const r=new RS([e]);if(Rk(n)){const e=Uk(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new dk(t)}class zk{constructor(e,t,n,r,a,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new zk(e,0,IS.min(),IS.min(),IS.min(),Wk.empty(),0)}static newFoundDocument(e,t,n,r){return new zk(e,1,t,IS.min(),n,r,0)}static newNoDocument(e,t){return new zk(e,2,t,IS.min(),IS.min(),Wk.empty(),0)}static newUnknownDocument(e,t){return new zk(e,3,t,IS.min(),IS.min(),Wk.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(IS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wk.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wk.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=IS.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zk&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zk(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Vk{constructor(e,t){this.position=e,this.inclusive=t}}function Hk(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],o=e.position[a];if(r=s.field.isKeyField()?LS.comparator(LS.fromName(o.referenceValue),n.key):Pk(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_k(e.position[n],t.position[n]))return!1;return!0}class qk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yk{}class Qk extends Yk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rj(e,t,n):"array-contains"===t?new ij(e,n):"in"===t?new lj(e,n):"not-in"===t?new cj(e,n):"array-contains-any"===t?new uj(e,n):new Qk(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new aj(e,n):new sj(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pk(t,this.value)):null!==t&&jk(this.value)===jk(t)&&this.matchesComparison(Pk(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fS()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xk extends Yk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xk(e,t)}matches(e){return $k(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $k(e){return"and"===e.op}function Jk(e){return Zk(e)&&$k(e)}function Zk(e){for(const t of e.filters)if(t instanceof Xk)return!1;return!0}function ej(e){if(e instanceof Qk)return e.field.canonicalString()+e.op.toString()+Ak(e.value);if(Jk(e))return e.filters.map(e=>ej(e)).join(",");{const t=e.filters.map(e=>ej(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function tj(e,t){return e instanceof Qk?function(e,t){return t instanceof Qk&&e.op===t.op&&e.field.isEqual(t.field)&&_k(e.value,t.value)}(e,t):e instanceof Xk?function(e,t){return t instanceof Xk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&tj(n,t.filters[r]),!0)}(e,t):void fS()}function nj(e){return e instanceof Qk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ak(e.value))}(e):e instanceof Xk?function(e){return e.op.toString()+" {"+e.getFilters().map(nj).join(" ,")+"}"}(e):"Filter"}class rj extends Qk{constructor(e,t,n){super(e,t,n),this.key=LS.fromName(n.referenceValue)}matches(e){const t=LS.comparator(e.key,this.key);return this.matchesComparison(t)}}class aj extends Qk{constructor(e,t){super(e,"in",t),this.keys=oj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sj extends Qk{constructor(e,t){super(e,"not-in",t),this.keys=oj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oj(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>LS.fromName(e.referenceValue))}class ij extends Qk{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ck(t)&&Nk(t.arrayValue,this.value)}}class lj extends Qk{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nk(this.value.arrayValue,t)}}class cj extends Qk{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nk(this.value.arrayValue,t)}}class uj extends Qk{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ck(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Nk(this.value.arrayValue,e))}}class dj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function hj(e){return new dj(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fj(e){const t=pS(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ej(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),XS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ak(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ak(e)).join(",")),t.ue=e}return t.ue}function mj(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gk(e.startAt,t.startAt)&&Gk(e.endAt,t.endAt)}function pj(e){return LS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=i,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yj(e,t,n,r,a,s,o,i){return new gj(e,t,n,r,a,s,o,i)}function vj(e){return new gj(e)}function xj(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bj(e){return null!==e.collectionGroup}function wj(e){const t=pS(e);if(null===t.ce){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ck(RS.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new qk(r,n))}),e.has(RS.keyField().canonicalString())||t.ce.push(new qk(RS.keyField(),n))}return t.ce}function Sj(e){const t=pS(e);return t.le||(t.le=kj(t,wj(e))),t.le}function kj(e,t){if("F"===e.limitType)return hj(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new qk(e.field,t)});const n=e.endAt?new Vk(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vk(e.startAt.position,e.startAt.inclusive):null;return hj(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function jj(e,t,n){return new gj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _j(e,t){return mj(Sj(e),Sj(t))&&e.limitType===t.limitType}function Nj(e){return"".concat(fj(Sj(e)),"|lt:").concat(e.limitType)}function Pj(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>nj(e)).join(", "),"]")),XS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ak(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ak(e)).join(",")),"Target(".concat(t,")")}(Sj(e)),"; limitType=").concat(e.limitType,")")}function Ej(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):LS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wj(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wj(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wj(e),t))}(e,t)}function Oj(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Aj(e){return(t,n)=>{let r=!1;for(const a of wj(e)){const e=Tj(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Tj(e,t,n){const r=e.field.isKeyField()?LS.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Pk(r,a):fS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fS()}}class Ij{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ak(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return sk(this.inner)}size(){return this.innerSize}}const Cj=new ok(LS.comparator);function Dj(){return Cj}const Mj=new ok(LS.comparator);function Rj(){let e=Mj;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function Lj(e){let t=Mj;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bj(){return Wj()}function Fj(){return Wj()}function Wj(){return new Ij(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uj=new ok(LS.comparator),zj=new ck(LS.comparator);function Vj(){let e=zj;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Hj=new ck(OS);function Gj(){return Hj}function qj(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$S(t)?"-0":t}}function Kj(e){return{integerValue:""+e}}function Yj(e,t){return JS(t)?Kj(t):qj(e,t)}class Qj{constructor(){this._=void 0}}function Xj(e,t,n){return e instanceof Zj?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vk(t)&&(t=xk(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof e_?t_(e,t):e instanceof n_?r_(e,t):function(e,t){const n=Jj(e,t),r=s_(n)+s_(e.Pe);return Ik(n)&&Ik(e.Pe)?Kj(r):qj(e.serializer,r)}(e,t)}function $j(e,t,n){return e instanceof e_?t_(e,t):e instanceof n_?r_(e,t):n}function Jj(e,t){return e instanceof a_?function(e){return Ik(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Zj extends Qj{}class e_ extends Qj{constructor(e){super(),this.elements=e}}function t_(e,t){const n=o_(t);for(const r of e.elements)n.some(e=>_k(e,r))||n.push(r);return{arrayValue:{values:n}}}class n_ extends Qj{constructor(e){super(),this.elements=e}}function r_(e,t){let n=o_(t);for(const r of e.elements)n=n.filter(e=>!_k(e,r));return{arrayValue:{values:n}}}class a_ extends Qj{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function s_(e){return gk(e.integerValue||e.doubleValue)}function o_(e){return Ck(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class i_{constructor(e,t){this.version=e,this.transformResults=t}}class l_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new l_}static exists(e){return new l_(void 0,e)}static updateTime(e){return new l_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class u_{}function d_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new w_(e.key,l_.none()):new g_(e.key,e.data,l_.none());{const n=e.data,r=Wk.empty();let a=new ck(RS.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new y_(e.key,r,new dk(a.toArray()),l_.none())}}function h_(e,t,n){e instanceof g_?function(e,t,n){const r=e.value.clone(),a=x_(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof y_?function(e,t,n){if(!c_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=x_(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(v_(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function f_(e,t,n,r){return e instanceof g_?function(e,t,n,r){if(!c_(e.precondition,t))return n;const a=e.value.clone(),s=b_(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof y_?function(e,t,n,r){if(!c_(e.precondition,t))return n;const a=b_(e.fieldTransforms,r,t),s=t.data;return s.setAll(v_(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return c_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function m_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Jj(r.transform,e||null);null!=a&&(null===n&&(n=Wk.empty()),n.set(r.field,a))}return n||null}function p_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&AS(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof e_&&t instanceof e_||e instanceof n_&&t instanceof n_?AS(e.elements,t.elements,_k):e instanceof a_&&t instanceof a_?_k(e.Pe,t.Pe):e instanceof Zj&&t instanceof Zj}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class g_ extends u_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class y_ extends u_{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function x_(e,t,n){const r=new Map;mS(e.length===n.length);for(let a=0;a<n.length;a++){const s=e[a],o=s.transform,i=t.data.field(s.field);r.set(s.field,$j(o,i,n[a]))}return r}function b_(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,Xj(e,s,t))}return r}class w_ extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S_ extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k_{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&h_(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=f_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=f_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fj();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=t.has(r.key)?null:o;const i=d_(s,o);null!==i&&n.set(r.key,i),s.isValidDocument()||s.convertToNoDocument(IS.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vj())}isEqual(e){return this.batchId===e.batchId&&AS(this.mutations,e.mutations,(e,t)=>p_(e,t))&&AS(this.baseMutations,e.baseMutations,(e,t)=>p_(e,t))}}class j_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mS(e.mutations.length===n.length);let r=Uj;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new j_(e,t,n,r)}}class __{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class N_{constructor(e,t){this.count=e,this.unchangedNames=t}}var P_,E_;function O_(e){switch(e){default:return fS();case gS.CANCELLED:case gS.UNKNOWN:case gS.DEADLINE_EXCEEDED:case gS.RESOURCE_EXHAUSTED:case gS.INTERNAL:case gS.UNAVAILABLE:case gS.UNAUTHENTICATED:return!1;case gS.INVALID_ARGUMENT:case gS.NOT_FOUND:case gS.ALREADY_EXISTS:case gS.PERMISSION_DENIED:case gS.FAILED_PRECONDITION:case gS.ABORTED:case gS.OUT_OF_RANGE:case gS.UNIMPLEMENTED:case gS.DATA_LOSS:return!0}}function A_(e){if(void 0===e)return uS("GRPC error has no .code"),gS.UNKNOWN;switch(e){case P_.OK:return gS.OK;case P_.CANCELLED:return gS.CANCELLED;case P_.UNKNOWN:return gS.UNKNOWN;case P_.DEADLINE_EXCEEDED:return gS.DEADLINE_EXCEEDED;case P_.RESOURCE_EXHAUSTED:return gS.RESOURCE_EXHAUSTED;case P_.INTERNAL:return gS.INTERNAL;case P_.UNAVAILABLE:return gS.UNAVAILABLE;case P_.UNAUTHENTICATED:return gS.UNAUTHENTICATED;case P_.INVALID_ARGUMENT:return gS.INVALID_ARGUMENT;case P_.NOT_FOUND:return gS.NOT_FOUND;case P_.ALREADY_EXISTS:return gS.ALREADY_EXISTS;case P_.PERMISSION_DENIED:return gS.PERMISSION_DENIED;case P_.FAILED_PRECONDITION:return gS.FAILED_PRECONDITION;case P_.ABORTED:return gS.ABORTED;case P_.OUT_OF_RANGE:return gS.OUT_OF_RANGE;case P_.UNIMPLEMENTED:return gS.UNIMPLEMENTED;case P_.DATA_LOSS:return gS.DATA_LOSS;default:return fS()}}(E_=P_||(P_={}))[E_.OK=0]="OK",E_[E_.CANCELLED=1]="CANCELLED",E_[E_.UNKNOWN=2]="UNKNOWN",E_[E_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E_[E_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E_[E_.NOT_FOUND=5]="NOT_FOUND",E_[E_.ALREADY_EXISTS=6]="ALREADY_EXISTS",E_[E_.PERMISSION_DENIED=7]="PERMISSION_DENIED",E_[E_.UNAUTHENTICATED=16]="UNAUTHENTICATED",E_[E_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E_[E_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E_[E_.ABORTED=10]="ABORTED",E_[E_.OUT_OF_RANGE=11]="OUT_OF_RANGE",E_[E_.UNIMPLEMENTED=12]="UNIMPLEMENTED",E_[E_.INTERNAL=13]="INTERNAL",E_[E_.UNAVAILABLE=14]="UNAVAILABLE",E_[E_.DATA_LOSS=15]="DATA_LOSS";let T_=null;function I_(){return new TextEncoder}const C_=new Hw([4294967295,4294967295],0);function D_(e){const t=I_().encode(e),n=new Gw;return n.update(t),new Uint8Array(n.digest())}function M_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hw([n,r],0),new Hw([a,s],0)]}class R_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new L_("Invalid padding: ".concat(t));if(n<0)throw new L_("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new L_("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new L_("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Hw.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Hw.fromNumber(n)));return 1===r.compare(C_)&&(r=new Hw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=D_(e),[n,r]=M_(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new R_(a,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=D_(e),[n,r]=M_(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class L_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class B_{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,F_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new B_(IS.min(),r,new ok(OS),Dj(),Vj())}}class F_{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new F_(n,t,Vj(),Vj(),Vj())}}class W_{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class U_{constructor(e,t){this.targetId=e,this.me=t}}class z_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fk.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class V_{constructor(){this.fe=0,this.ge=q_(),this.pe=fk.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Vj(),t=Vj(),n=Vj();return this.ge.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fS()}}),new F_(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=q_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mS(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H_{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dj(),this.qe=G_(),this.Qe=new ok(OS)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:fS()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const a=r.target;if(pj(a))if(0===n){const e=new LS(a.path);this.Ue(t,e,zk.newNoDocument(e,IS.min()))}else mS(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),a=n?this.Xe(n,e,r):1;if(0!==a){this.je(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==T_||T_.et(function(e,t,n,r,a){var s,o,i,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(i=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===i?void 0:i.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,a))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,o;try{s=yk(n).toUint8Array()}catch(e){if(e instanceof hk)return dS("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new R_(s,r,a)}catch(e){return dS(e instanceof L_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Le.tt(),s="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const a=this.Je(r);if(a){if(n.current&&pj(a.target)){const t=new LS(a.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zk.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Vj();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new B_(e,t,this.Qe,this.ke,n);return this.ke=Dj(),this.qe=G_(),this.Qe=new ok(OS),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new V_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ck(OS),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||cS("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new V_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function G_(){return new ok(LS.comparator)}function q_(){return new ok(LS.comparator)}const K_={asc:"ASCENDING",desc:"DESCENDING"},Y_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q_={and:"AND",or:"OR"};class X_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $_(e,t){return e.useProto3Json||XS(t)?t:{value:t}}function J_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function eN(e,t){return J_(e,t.toTimestamp())}function tN(e){return mS(!!e),IS.fromTimestamp(function(e){const t=pk(e);return new TS(t.seconds,t.nanos)}(e))}function nN(e,t){return rN(e,t).canonicalString()}function rN(e,t){const n=function(e){return new DS(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function aN(e){const t=DS.fromString(e);return mS(jN(t)),t}function sN(e,t){return nN(e.databaseId,t.path)}function oN(e,t){const n=aN(t);if(n.get(1)!==e.databaseId.projectId)throw new yS(gS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yS(gS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new LS(uN(n))}function iN(e,t){return nN(e.databaseId,t)}function lN(e){const t=aN(e);return 4===t.length?DS.emptyPath():uN(t)}function cN(e){return new DS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uN(e){return mS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dN(e,t,n){return{name:sN(e,t),fields:n.value.mapValue.fields}}function hN(e,t){let n;if(t instanceof g_)n={update:dN(e,t.key,t.value)};else if(t instanceof w_)n={delete:sN(e,t.key)};else if(t instanceof y_)n={update:dN(e,t.key,t.data),updateMask:kN(t.fieldMask)};else{if(!(t instanceof S_))return fS();n={verify:sN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Zj)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof e_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof n_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof a_)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw fS()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:eN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fS()}(e,t.precondition)),n}function fN(e,t){return{documents:[iN(e,t.path)]}}function mN(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iN(e,a);const s=function(e){if(0!==e.length)return SN(Xk.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:bN(e.field),direction:yN(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const i=$_(e,t.limit);return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:a}}function pN(e){let t=lN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){mS(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=gN(e);return t instanceof Xk&&Jk(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new qk(wN(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let i=null;n.limit&&(i=function(e){let t;return t="object"==typeof e?e.value:e,XS(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vk(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vk(n,t)}(n.endAt)),yj(t,a,o,s,i,"F",l,c)}function gN(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wN(e.unaryFilter.field);return Qk.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wN(e.unaryFilter.field);return Qk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wN(e.unaryFilter.field);return Qk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wN(e.unaryFilter.field);return Qk.create(a,"!=",{nullValue:"NULL_VALUE"});default:return fS()}}(e):void 0!==e.fieldFilter?function(e){return Qk.create(wN(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fS()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xk.create(e.compositeFilter.filters.map(e=>gN(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fS()}}(e.compositeFilter.op))}(e):fS()}function yN(e){return K_[e]}function vN(e){return Y_[e]}function xN(e){return Q_[e]}function bN(e){return{fieldPath:e.canonicalString()}}function wN(e){return RS.fromServerFormat(e.fieldPath)}function SN(e){return e instanceof Qk?function(e){if("=="===e.op){if(Mk(e.value))return{unaryFilter:{field:bN(e.field),op:"IS_NAN"}};if(Dk(e.value))return{unaryFilter:{field:bN(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mk(e.value))return{unaryFilter:{field:bN(e.field),op:"IS_NOT_NAN"}};if(Dk(e.value))return{unaryFilter:{field:bN(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bN(e.field),op:vN(e.op),value:e.value}}}(e):e instanceof Xk?function(e){const t=e.getFilters().map(e=>SN(e));return 1===t.length?t[0]:{compositeFilter:{op:xN(e.op),filters:t}}}(e):fS()}function kN(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _N{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:IS.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:IS.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fk.EMPTY_BYTE_STRING,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=i}withSequenceNumber(e){return new _N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _N(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.ct=e}}function PN(e){const t=pN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jj(t,t.limit,"L"):t}class EN{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gk(e.integerValue));else if("doubleValue"in e){const n=gk(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),$S(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=pk(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(yk(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Fk(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Lk(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fS()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const a=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=a[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(gk(o)),this.Vt(s,t),this.Tt(a[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),LS.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}EN.vt=new EN;class ON{constructor(){this.un=new AN}addToCollectionParentIndex(e,t){return this.un.add(t),qS.resolve()}getCollectionParents(e,t){return qS.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return qS.resolve()}deleteFieldIndex(e,t){return qS.resolve()}deleteAllFieldIndexes(e){return qS.resolve()}createTargetIndexes(e,t){return qS.resolve()}getDocumentsMatchingTarget(e,t){return qS.resolve(null)}getIndexType(e,t){return qS.resolve(0)}getFieldIndexes(e,t){return qS.resolve([])}getNextCollectionGroupToUpdate(e){return qS.resolve(null)}getMinOffset(e,t){return qS.resolve(US.min())}getMinOffsetFromCollectionGroup(e,t){return qS.resolve(US.min())}updateCollectionGroup(e,t,n){return qS.resolve()}updateIndexEntries(e,t){return qS.resolve()}}class AN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ck(DS.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ck(DS.comparator)).toArray()}}new Uint8Array(0);class TN{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new TN(e,TN.DEFAULT_COLLECTION_PERCENTILE,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}TN.DEFAULT_COLLECTION_PERCENTILE=10,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,TN.DEFAULT=new TN(41943040,TN.DEFAULT_COLLECTION_PERCENTILE,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),TN.DISABLED=new TN(-1,0,0);class IN{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new IN(0)}static kn(){return new IN(-1)}}class CN{constructor(){this.changes=new Ij(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zk.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class MN{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&f_(n.mutation,e,dk.empty(),TS.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Vj()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vj();const r=Bj();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Rj();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bj();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Vj()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Dj();const s=Wj(),o=Wj();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof y_)?a=a.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),f_(o.mutation,t,o.mutation.getFieldMask(),TS.now())):s.set(t.key,dk.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new DN(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Wj();let r=new ok((e,t)=>e-t),a=Vj();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||dk.empty();o=a.applyToLocalView(s,o),n.set(e,o);const i=(r.get(a.batchId)||Vj()).add(e);r=r.insert(a.batchId,i)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),i=r.key,l=r.value,c=Fj();l.forEach(e=>{if(!a.has(e)){const r=d_(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,i,c))}return qS.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return LS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):qS.resolve(Bj());let o=-1,i=a;return s.next(t=>qS.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?qS.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{i=i.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,i,t,Vj())).next(e=>({batchId:o,changes:Lj(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new LS(t)).next(e=>{let t=Rj();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=Rj();return this.indexManager.getCollectionParents(e,a).next(o=>qS.forEach(o,o=>{const i=function(e,t){return new gj(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,i,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zk.newInvalidDocument(r)))});let n=Rj();return e.forEach((e,r)=>{const s=a.get(e);void 0!==s&&f_(s.mutation,r,dk.empty(),TS.now()),Ej(t,r)&&(n=n.insert(e,r))}),n})}}class RN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return qS.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tN(e.createTime)}}(t)),qS.resolve()}getNamedQuery(e,t){return qS.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:PN(e.bundledQuery),readTime:tN(e.readTime)}}(t)),qS.resolve()}}class LN{constructor(){this.overlays=new ok(LS.comparator),this.Ir=new Map}getOverlay(e,t){return qS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bj();return qS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),qS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),qS.resolve()}getOverlaysForCollection(e,t,n){const r=Bj(),a=t.length+1,s=new LS(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new ok((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Bj(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Bj(),i=a.getIterator();for(;i.hasNext()&&(i.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return qS.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new __(t,n));let a=this.Ir.get(t);void 0===a&&(a=Vj(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}class BN{constructor(){this.sessionToken=fk.EMPTY_BYTE_STRING}getSessionToken(e){return qS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qS.resolve()}}class FN{constructor(){this.Tr=new ck(WN.Er),this.dr=new ck(WN.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new WN(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new WN(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new LS(new DS([])),n=new WN(t,e),r=new WN(t,e+1),a=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),a.push(e.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new LS(new DS([])),n=new WN(t,e),r=new WN(t,e+1);let a=Vj();return this.dr.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new WN(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class WN{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return LS.comparator(e.key,t.key)||OS(e.wr,t.wr)}static Ar(e,t){return OS(e.wr,t.wr)||LS.comparator(e.key,t.key)}}class UN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ck(WN.Er)}checkEmpty(e){return qS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new k_(a,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new WN(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return qS.resolve(s)}lookupMutationBatch(e,t){return qS.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),a=r<0?0:r;return qS.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return qS.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return qS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new WN(t,0),r=new WN(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);a.push(t)}),qS.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ck(OS);return t.forEach(e=>{const t=new WN(e,0),r=new WN(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),qS.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;LS.isDocumentKey(a)||(a=a.child(""));const s=new WN(new LS(a),0);let o=new ck(OS);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)},s),qS.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){mS(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return qS.forEach(t.mutations,r=>{const a=new WN(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new WN(t,0),r=this.br.firstAfterOrEqual(n);return qS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qS.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zN{constructor(e){this.Mr=e,this.docs=new ok(LS.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qS.resolve(n?n.document.mutableCopy():zk.newInvalidDocument(t))}getEntries(e,t){let n=Dj();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zk.newInvalidDocument(e))}),qS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Dj();const s=t.path,o=new LS(s.child("")),i=this.docs.getIteratorFrom(o);for(;i.hasNext();){const{key:e,value:{document:o}}=i.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||zS(WS(o),n)<=0||(r.has(o.key)||Ej(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return qS.resolve(a)}getAllFromCollectionGroup(e,t,n,r){fS()}Or(e,t){return qS.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new VN(this)}getSize(e){return qS.resolve(this.size)}}class VN extends CN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),qS.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class HN{constructor(e){this.persistence=e,this.Nr=new Ij(e=>fj(e),mj),this.lastRemoteSnapshotVersion=IS.min(),this.highestTargetId=0,this.Lr=0,this.Br=new FN,this.targetCount=0,this.kr=IN.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),qS.resolve()}getLastRemoteSnapshotVersion(e){return qS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qS.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),qS.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new IN(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,qS.resolve()}updateTargetData(e,t){return this.Kn(t),qS.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,qS.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),qS.waitFor(a).next(()=>r)}getTargetCount(e){return qS.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return qS.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),qS.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),qS.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),qS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return qS.resolve(n)}containsKey(e,t){return qS.resolve(this.Br.containsKey(t))}}class GN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new QS(0),this.Kr=!1,this.Kr=!0,this.$r=new BN,this.referenceDelegate=e(this),this.Ur=new HN(this),this.indexManager=new ON,this.remoteDocumentCache=function(e){return new zN(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new NN(t),this.Gr=new RN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new UN(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){cS("MemoryPersistence","Starting transaction:",e);const r=new qN(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return qS.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class qN extends HS{constructor(e){super(),this.currentSequenceNumber=e}}class KN{constructor(e){this.persistence=e,this.Jr=new FN,this.Yr=null}static Zr(e){return new KN(e)}get Xr(){if(this.Yr)return this.Yr;throw fS()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),qS.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),qS.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),qS.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qS.forEach(this.Xr,n=>{const r=LS.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,IS.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return qS.or([()=>qS.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class YN{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Vj(),r=Vj();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new YN(e,t.fromCache,n,r)}}class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=rb()?8:KS(nb())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.Yi(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.Zi(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new QN;return this.Xi(e,t,n).next(r=>{if(a.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>a.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(lS()<=wb.DEBUG&&cS("QueryEngine","SDK will not create cache indexes for query:",Pj(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qS.resolve()):(lS()<=wb.DEBUG&&cS("QueryEngine","Query:",Pj(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(lS()<=wb.DEBUG&&cS("QueryEngine","The SDK decides to create cache indexes for query:",Pj(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sj(t))):qS.resolve())}Yi(e,t){if(xj(t))return qS.resolve(null);let n=Sj(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jj(t,null,"F"),n=Sj(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=Vj(...r);return this.Ji.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,a,n.readTime)?this.Yi(e,jj(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return xj(t)||r.isEqual(IS.min())?qS.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(t,a);return this.ns(t,s,n,r)?qS.resolve(null):(lS()<=wb.DEBUG&&cS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pj(t)),this.rs(e,s,t,FS(r,-1)).next(e=>e))})}ts(e,t){let n=new ck(Aj(e));return t.forEach((t,r)=>{Ej(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,t,n){return lS()<=wb.DEBUG&&cS("QueryEngine","Using full collection scan to execute query:",Pj(t)),this.Ji.getDocumentsMatchingQuery(e,t,US.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class $N{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ok(OS),this._s=new Ij(e=>fj(e),mj),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function JN(e,t,n,r){return new $N(e,t,n,r)}async function ZN(e,t){const n=pS(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],s=[];let o=Vj();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({hs:e,removedBatchIds:a,addedBatchIds:s}))})})}function eP(e){const t=pS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function tP(e,t,n){let r=Vj(),a=Vj();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Dj();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(IS.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):cS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Ps:r,Is:a}})}function nP(e,t){const n=pS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function rP(e,t){const n=pS(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(a=>a?(r=a,qS.resolve(r)):n.Ur.allocateTargetId(e).next(a=>(r=new _N(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function aP(e,t,n){const r=pS(e),a=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!YS(e))throw e;cS("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(a.target)}function sP(e,t,n){const r=pS(e);let a=IS.min(),s=Vj();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=pS(e),a=r._s.get(n);return void 0!==a?qS.resolve(r.os.get(a)):r.Ur.getTargetData(t,n)}(r,e,Sj(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?a:IS.min(),n?s:Vj())).next(e=>(oP(r,Oj(t),e),{documents:e,Ts:s})))}function oP(e,t,n){let r=e.us.get(t)||IS.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class iP{constructor(){this.activeTargetIds=Gj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.so=new iP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iP,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cP{_o(e){}shutdown(){}}class uP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){cS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){cS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dP=null;function hP(){return null===dP?dP=268435456+Math.round(2147483648*Math.random()):dP++,"0x"+dP.toString(16)}const fP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const pP="WebChannelConnection";class gP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,a){const s=hP(),o=this.xo(e,t.toUriEncodedString());cS("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const i={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(i,r,a),this.No(e,o,i,n).then(t=>(cS("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw dS("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Lo(e,t,n,r,a,s){return this.Mo(e,t,n,r,a)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=fP[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const a=hP();return new Promise((s,o)=>{const i=new Yw;i.setWithCredentials(!0),i.listenOnce(Xw.COMPLETE,()=>{try{switch(i.getLastErrorCode()){case $w.NO_ERROR:const t=i.getResponseJson();cS(pP,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),s(t);break;case $w.TIMEOUT:cS(pP,"RPC '".concat(e,"' ").concat(a," timed out")),o(new yS(gS.DEADLINE_EXCEEDED,"Request time out"));break;case $w.HTTP_ERROR:const n=i.getStatus();if(cS(pP,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",i.getResponseText()),n>0){let e=i.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gS).indexOf(t)>=0?t:gS.UNKNOWN}(t.status);o(new yS(e,t.message))}else o(new yS(gS.UNKNOWN,"Server responded with status "+i.getStatus()))}else o(new yS(gS.UNAVAILABLE,"Connection failed."));break;default:fS()}}finally{cS(pP,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);cS(pP,"RPC '".concat(e,"' ").concat(a," sending request:"),r),i.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=hP(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tS(),o=eS(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(i.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(i.useFetchStreams=!0),this.Oo(i.initMessageHeaders,t,n),i.encodeInitMessageHeaders=!0;const c=a.join("");cS(pP,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),i);const u=s.createWebChannel(c,i);let d=!1,h=!1;const f=new mP({Io:t=>{h?cS(pP,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(cS(pP,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),cS(pP,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,Qw.EventType.OPEN,()=>{h||(cS(pP,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),m(u,Qw.EventType.CLOSE,()=>{h||(h=!0,cS(pP,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),m(u,Qw.EventType.ERROR,t=>{h||(h=!0,dS(pP,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new yS(gS.UNAVAILABLE,"The operation could not be completed")))}),m(u,Qw.EventType.MESSAGE,t=>{var n;if(!h){const a=t.data[0];mS(!!a);const s=a,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){cS(pP,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=P_[e];if(void 0!==t)return A_(t)}(t),a=o.message;void 0===n&&(n=gS.INTERNAL,a="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new yS(n,a)),u.close()}else cS(pP,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.bo(a)}}),m(o,Zw.STAT_EVENT,t=>{t.stat===Jw.PROXY?cS(pP,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Jw.NOPROXY&&cS(pP,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function yP(){return"undefined"!=typeof document?document:null}function vP(e){return new X_(e,!0)}class xP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&cS("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class bP{constructor(e,t,n,r,a,s,o,i){this.ui=e,this.Ho=n,this.Jo=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=i,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xP(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===gS.RESOURCE_EXHAUSTED?(uS(t.toString()),uS("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===gS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new yS(gS.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return cS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(cS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wP extends bP{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fS()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(mS(void 0===t||"string"==typeof t),fk.fromBase64String(t||"")):(mS(void 0===t||t instanceof Buffer||t instanceof Uint8Array),fk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,i=o&&function(e){const t=void 0===e.code?gS.UNKNOWN:A_(e.code);return new yS(t,e.message||"")}(o);n=new z_(r,a,s,i||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=oN(e,r.document.name),s=tN(r.document.updateTime),o=r.document.createTime?tN(r.document.createTime):IS.min(),i=new Wk({mapValue:{fields:r.document.fields}}),l=zk.newFoundDocument(a,s,o,i),c=r.targetIds||[],u=r.removedTargetIds||[];n=new W_(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=oN(e,r.document),s=r.readTime?tN(r.readTime):IS.min(),o=zk.newNoDocument(a,s),i=r.removedTargetIds||[];n=new W_([],i,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=oN(e,r.document),s=r.removedTargetIds||[];n=new W_([],s,a,null)}else{if(!("filter"in t))return fS();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new N_(r,a),o=e.targetId;n=new U_(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return IS.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?IS.min():t.readTime?tN(t.readTime):IS.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=cN(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=pj(r)?{documents:fN(e,r)}:{query:mN(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Z_(e,t.resumeToken);const r=$_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(IS.min())>0){n.readTime=J_(e,t.snapshotVersion.toTimestamp());const r=$_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fS()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=cN(this.serializer),t.removeTarget=e,this.a_(t)}}class SP extends bP{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return mS(!!e.streamToken),this.lastStreamToken=e.streamToken,mS(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){mS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(mS(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?tN(e.updateTime):tN(t);return n.isEqual(IS.min())&&(n=tN(t)),new i_(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tN(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=cN(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>hN(this.serializer,e))};this.a_(t)}}class kP extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new yS(gS.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Mo(e,rN(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gS.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yS(gS.UNKNOWN,e.toString())})}Lo(e,t,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,i]=s;return this.connection.Lo(e,rN(t,n),r,o,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gS.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yS(gS.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(uS(t),this.D_=!1):cS("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class _P{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(e=>{n.enqueueAndForget(async()=>{DP(this)&&(cS("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pS(e);t.L_.add(4),await PP(t),t.q_.set("Unknown"),t.L_.delete(4),await NP(t)}(this))})}),this.q_=new jP(n,r)}}async function NP(e){if(DP(e))for(const t of e.B_)await t(!0)}async function PP(e){for(const t of e.B_)await t(!1)}function EP(e,t){const n=pS(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),CP(n)?IP(n):ZP(n).r_()&&AP(n,t))}function OP(e,t){const n=pS(e),r=ZP(n);n.N_.delete(t),r.r_()&&TP(n,t),0===n.N_.size&&(r.r_()?r.o_():DP(n)&&n.q_.set("Unknown"))}function AP(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(IS.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ZP(e).A_(t)}function TP(e,t){e.Q_.xe(t),ZP(e).R_(t)}function IP(e){e.Q_=new H_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ZP(e).start(),e.q_.v_()}function CP(e){return DP(e)&&!ZP(e).n_()&&e.N_.size>0}function DP(e){return 0===pS(e).L_.size}function MP(e){e.Q_=void 0}async function RP(e){e.q_.set("Online")}async function LP(e){e.N_.forEach((t,n)=>{AP(e,t)})}async function BP(e,t){MP(e),CP(e)?(e.q_.M_(t),IP(e)):e.q_.set("Unknown")}async function FP(e,t,n){if(e.q_.set("Online"),t instanceof z_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){cS("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await WP(e,n)}else if(t instanceof W_?e.Q_.Ke(t):t instanceof U_?e.Q_.He(t):e.Q_.We(t),!n.isEqual(IS.min()))try{const t=await eP(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.N_.get(r);a&&e.N_.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(fk.EMPTY_BYTE_STRING,r.snapshotVersion)),TP(e,t);const a=new _N(r.target,t,n,r.sequenceNumber);AP(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cS("RemoteStore","Failed to raise snapshot:",t),await WP(e,t)}}async function WP(e,t,n){if(!YS(t))throw t;e.L_.add(1),await PP(e),e.q_.set("Offline"),n||(n=()=>eP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{cS("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await NP(e)})}function UP(e,t){return t().catch(n=>WP(e,n,t))}async function zP(e){const t=pS(e),n=eE(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;VP(t);)try{const e=await nP(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,HP(t,e)}catch(e){await WP(t,e)}GP(t)&&qP(t)}function VP(e){return DP(e)&&e.O_.length<10}function HP(e,t){e.O_.push(t);const n=eE(e);n.r_()&&n.V_&&n.m_(t.mutations)}function GP(e){return DP(e)&&!eE(e).n_()&&e.O_.length>0}function qP(e){eE(e).start()}async function KP(e){eE(e).p_()}async function YP(e){const t=eE(e);for(const n of e.O_)t.m_(n.mutations)}async function QP(e,t,n){const r=e.O_.shift(),a=j_.from(r,t,n);await UP(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await zP(e)}async function XP(e,t){t&&eE(e).V_&&await async function(e,t){if(function(e){return O_(e)&&e!==gS.ABORTED}(t.code)){const n=e.O_.shift();eE(e).s_(),await UP(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await zP(e)}}(e,t),GP(e)&&qP(e)}async function $P(e,t){const n=pS(e);n.asyncQueue.verifyOperationInProgress(),cS("RemoteStore","RemoteStore received new credentials");const r=DP(n);n.L_.add(3),await PP(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await NP(n)}async function JP(e,t){const n=pS(e);t?(n.L_.delete(2),await NP(n)):t||(n.L_.add(2),await PP(n),n.q_.set("Unknown"))}function ZP(e){return e.K_||(e.K_=function(e,t,n){const r=pS(e);return r.w_(),new wP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:RP.bind(null,e),Ro:LP.bind(null,e),mo:BP.bind(null,e),d_:FP.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),CP(e)?IP(e):e.q_.set("Unknown")):(await e.K_.stop(),MP(e))})),e.K_}function eE(e){return e.U_||(e.U_=function(e,t,n){const r=pS(e);return r.w_(),new SP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KP.bind(null,e),mo:XP.bind(null,e),f_:YP.bind(null,e),g_:QP.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await zP(e)):(await e.U_.stop(),e.O_.length>0&&(cS("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class tE{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new vS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,o=new tE(e,t,s,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yS(gS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nE(e,t){if(uS("AsyncQueue","".concat(t,": ").concat(e)),YS(e))return new yS(gS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class rE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||LS.comparator(t.key,n.key):(e,t)=>LS.comparator(e.key,t.key),this.keyedMap=Rj(),this.sortedSet=new ok(this.comparator)}static emptySet(e){return new rE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new rE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class aE{constructor(){this.W_=new ok(LS.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fS():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class sE{constructor(e,t,n,r,a,s,o,i,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=i,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new sE(e,t,rE.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_j(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class oE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iE{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=pS(e),r=n.queries;n.queries=lE(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new yS(gS.ABORTED,"Firestore shutting down"))}}function lE(){return new Ij(e=>Nj(e),_j)}async function cE(e,t){const n=pS(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.H_()&&t.J_()&&(r=2):(s=new oE,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(a,!0);break;case 1:s.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=nE(e,"Initialization of query '".concat(Pj(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&fE(n)}async function uE(e,t){const n=pS(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?a=t.J_()?0:1:!s.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dE(e,t){const n=pS(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(a)&&(r=!0);t.z_=a}}r&&fE(n)}function hE(e,t,n){const r=pS(e),a=r.queries.get(t);if(a)for(const s of a.j_)s.onError(n);r.queries.delete(t)}function fE(e){e.Y_.forEach(e=>{e.next()})}var mE,pE;(pE=mE||(mE={})).ea="default",pE.Cache="cache";class gE{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=sE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mE.Cache}}class yE{constructor(e){this.key=e}}class vE{constructor(e){this.key=e}}class xE{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Vj(),this.mutatedKeys=Vj(),this.Aa=Aj(e),this.Ra=new rE(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new aE,r=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const i="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ej(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(i&&this.Aa(u,i)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(i||l)&&(o=!0)),f&&(u?(s=s.add(u),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fS()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],i=0===this.da.size&&this.current&&!r?1:0,l=i!==this.Ea;return this.Ea=i,0!==s.length||l?{snapshot:new sE(this.query,e.Ra,a,s,e.mutatedKeys,0===i,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Vj(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new vE(e))}),this.da.forEach(n=>{e.has(n)||t.push(new yE(n))}),t}ba(e){this.Ta=e.Ts,this.da=Vj();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sE.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class bE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wE{constructor(e){this.key=e,this.va=!1}}class SE{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ij(e=>Nj(e),_j),this.Ma=new Map,this.xa=new Set,this.Oa=new ok(LS.comparator),this.Na=new Map,this.La=new FN,this.Ba={},this.ka=new Map,this.qa=IN.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function kE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=HE(e);let a;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Da()):a=await _E(r,t,n,!0),a}async function jE(e,t){const n=HE(e);await _E(n,t,!0,!1)}async function _E(e,t,n,r){const a=await rP(e.localStore,Sj(t)),s=a.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let i;return r&&(i=await NE(e,t,s,"current"===o,a.resumeToken)),e.isPrimaryClient&&n&&EP(e.remoteStore,a),i}async function NE(e,t,n,r,a){e.Ka=(t,n,r)=>async function(e,t,n,r){let a=t.view.ma(n);a.ns&&(a=await sP(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,a)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),i=t.view.applyChanges(a,e.isPrimaryClient,s,o);return BE(e,t.targetId,i.wa),i.snapshot}(e,t,n,r);const s=await sP(e.localStore,t,!0),o=new xE(t,s.Ts),i=o.ma(s.documents),l=F_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(i,e.isPrimaryClient,l);BE(e,n,c.wa);const u=new bE(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function PE(e,t,n){const r=pS(e),a=r.Fa.get(t),s=r.Ma.get(a.targetId);if(s.length>1)return r.Ma.set(a.targetId,s.filter(e=>!_j(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await aP(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&OP(r.remoteStore,a.targetId),RE(r,a.targetId)}).catch(GS)):(RE(r,a.targetId),await aP(r.localStore,a.targetId,!0))}async function EE(e,t){const n=pS(e),r=n.Fa.get(t),a=n.Ma.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OP(n.remoteStore,r.targetId))}async function OE(e,t){const n=pS(e);try{const e=await function(e,t){const n=pS(e),r=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((s,i)=>{const l=a.get(i);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,i).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,i)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(i)?c=c.withResumeToken(fk.EMPTY_BYTE_STRING,IS.min()).withLastLimboFreeSnapshotVersion(IS.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(i,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))});let i=Dj(),l=Vj();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(tP(e,s,t.documentUpdates).next(e=>{i=e.Ps,l=e.Is})),!r.isEqual(IS.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return qS.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,i,l)).next(()=>i)}).then(e=>(n.os=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(mS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?mS(r.va):e.removedDocuments.size>0&&(mS(r.va),r.va=!1))}),await UE(n,e,t)}catch(e){await GS(e)}}function AE(e,t,n){const r=pS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const a=r.view.Z_(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=pS(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.j_)a.Z_(t)&&(r=!0)}),r&&fE(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TE(e,t,n){const r=pS(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Na.get(t),s=a&&a.key;if(s){let e=new ok(LS.comparator);e=e.insert(s,zk.newNoDocument(s,IS.min()));const n=Vj().add(s),a=new B_(IS.min(),new Map,new ok(OS),e,n);await OE(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(t),WE(r)}else await aP(r.localStore,t,!1).then(()=>RE(r,t,n)).catch(GS)}async function IE(e,t){const n=pS(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let o=qS.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);mS(null!==s),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vj();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ME(n,r,null),DE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await UE(n,e)}catch(e){await GS(e)}}async function CE(e,t,n){const r=pS(e);try{const e=await function(e,t){const n=pS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(mS(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ME(r,t,n),DE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await UE(r,e)}catch(n){await GS(n)}}function DE(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function ME(e,t,n){const r=pS(e);let a=r.Ba[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ba[r.currentUser.toKey()]=a}}function RE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||LE(e,t)})}function LE(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(OP(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),WE(e))}function BE(e,t,n){for(const r of n)r instanceof yE?(e.La.addReference(r.key,t),FE(e,r)):r instanceof vE?(cS("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||LE(e,r.key)):fS()}function FE(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(cS("SyncEngine","New document in limbo: "+n),e.xa.add(r),WE(e))}function WE(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new LS(DS.fromString(t)),r=e.qa.next();e.Na.set(r,new wE(n)),e.Oa=e.Oa.insert(n,r),EP(e.remoteStore,new _N(Sj(vj(n.path)),r,"TargetPurposeLimboResolution",QS.oe))}}async function UE(e,t,n){const r=pS(e),a=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((e,i)=>{o.push(r.Ka(i,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(i.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(i.targetId,a?"current":"not-current")}if(e){a.push(e);const t=YN.Wi(i.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Ca.d_(a),await async function(e,t){const n=pS(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>qS.forEach(t,t=>qS.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>qS.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!YS(e))throw e;cS("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,a)}}}(r.localStore,s))}async function zE(e,t){const n=pS(e);if(!n.currentUser.isEqual(t)){cS("SyncEngine","User change. New user:",t.toKey());const e=await ZN(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new yS(gS.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await UE(n,e.hs)}}function VE(e,t){const n=pS(e),r=n.Na.get(t);if(r&&r.va)return Vj().add(r.key);{let e=Vj();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function HE(e){const t=pS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TE.bind(null,t),t.Ca.d_=dE.bind(null,t.eventManager),t.Ca.$a=hE.bind(null,t.eventManager),t}function GE(e){const t=pS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CE.bind(null,t),t}class qE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vP(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return JN(this.persistence,new XN,e.initialUser,this.serializer)}Ga(e){return new GN(KN.Zr,this.serializer)}Wa(e){return new lP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qE.provider={build:()=>new qE};class KE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>AE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zE.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iE}createDatastore(e){const t=vP(e.databaseInfo.databaseId),n=function(e){return new gP(e)}(e.databaseInfo);return function(e,t,n,r){return new kP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new _P(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>AE(this.syncEngine,e,0),uP.D()?new uP:new cP)}createSyncEngine(e,t){return function(e,t,n,r,a,s,o){const i=new SE(e,t,n,r,a,s);return o&&(i.Qa=!0),i}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=pS(e);cS("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await PP(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}KE.provider={build:()=>new KE};class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uS("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class QE{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sS.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{cS("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(cS("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(RA){const n=nE(RA,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function XE(e,t){e.asyncQueue.verifyOperationInProgress(),cS("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ZN(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function $E(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JE(e);cS("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>$P(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>$P(t.remoteStore,n)),e._onlineComponents=t}async function JE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cS("FirestoreClient","Using user provided OfflineComponentProvider");try{await XE(e,e._uninitializedComponentsProvider._offline)}catch(RA){const n=RA;if(!function(e){return"FirebaseError"===e.name?e.code===gS.FAILED_PRECONDITION||e.code===gS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;dS("Error using user provided cache. Falling back to memory cache: "+n),await XE(e,new qE)}}else cS("FirestoreClient","Using default OfflineComponentProvider"),await XE(e,new qE);return e._offlineComponents}async function ZE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cS("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(e,e._uninitializedComponentsProvider._online)):(cS("FirestoreClient","Using default OnlineComponentProvider"),await $E(e,new KE))),e._onlineComponents}function eO(e){return ZE(e).then(e=>e.syncEngine)}async function tO(e){const t=await ZE(e),n=t.eventManager;return n.onListen=kE.bind(null,t.syncEngine),n.onUnlisten=PE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EE.bind(null,t.syncEngine),n}function nO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vS;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new YE({next:i=>{s.Za(),t.enqueueAndForget(()=>uE(e,o));const l=i.docs.has(n);!l&&i.fromCache?a.reject(new yS(gS.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&i.fromCache&&r&&"server"===r.source?a.reject(new yS(gS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:e=>a.reject(e)}),o=new gE(vj(n.path),s,{includeMetadataChanges:!0,_a:!0});return cE(e,o)}(await tO(e),e.asyncQueue,t,n,r)),r.promise}function rO(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const aO=new Map;function sO(e,t,n){if(!n)throw new yS(gS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oO(e){if(!LS.isDocumentKey(e))throw new yS(gS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function iO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fS()}function lO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yS(gS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iO(e);throw new yS(gS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class cO{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yS(gS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yS(gS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yS(gS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rO(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yS(gS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yS(gS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yS(gS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uO{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yS(gS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yS(gS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bS;switch(e.type){case"firstParty":return new jS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yS(gS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aO.get(e);t&&(cS("ComponentProvider","Removing Datastore"),aO.delete(e),t.terminate())}(this),Promise.resolve()}}function dO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const s=(e=lO(e,uO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&dS("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sS.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yx(JSON.stringify({alg:"none",type:"JWT"})),Yx(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new yS(gS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sS(s)}e._authCredentials=new wS(new xS(t,n))}}class hO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hO(this.firestore,e,this._query)}}class fO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fO(this.firestore,e,this._key)}}class mO extends hO{constructor(e,t,n){super(e,t,vj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fO(this.firestore,null,new LS(e))}withConverter(e){return new mO(this.firestore,e,this._path)}}function pO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=pb(e),1===arguments.length&&(t=ES.newId()),sO("doc","path",t),e instanceof uO){const n=DS.fromString(t,...r);return oO(n),new fO(e,null,new LS(n))}{if(!(e instanceof fO||e instanceof mO))throw new yS(gS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(DS.fromString(t,...r));return oO(n),new fO(e.firestore,e instanceof mO?e.converter:null,new LS(n))}}class gO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xP(this,"async_queue_retry"),this.Vu=()=>{const e=yP();e&&cS("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=yP();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=yP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new vS;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!YS(e))throw e;cS("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uS("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=tE.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&fS()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function yO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class vO extends uO{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gO(e),this._firestoreClient=void 0,await e}}}function xO(e,t){const n="string"==typeof e?e:t||"(default)",r=Nw("object"==typeof e?e:Iw(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Jx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&dO(r,...e)}return r}function bO(e){if(e._terminated)throw new yS(gS.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wO(e),e._firestoreClient}function wO(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new wk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,rO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new QE(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class SO{constructor(e){this._byteString=e}static fromBase64String(e){try{return new SO(fk.fromBase64String(e))}catch(e){throw new yS(gS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new SO(fk.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kO{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yS(gS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new RS(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jO{constructor(e){this._methodName=e}}class _O{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yS(gS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yS(gS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return OS(this._lat,e._lat)||OS(this._long,e._long)}}class NO{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const PO=/^__.*__$/;class EO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new y_(e,this.data,this.fieldMask,t,this.fieldTransforms):new g_(e,this.data,t,this.fieldTransforms)}}function OO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fS()}}class AO{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new AO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return UO(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(OO(this.Cu)&&PO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vP(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AO({Cu:e,methodName:t,qu:n,path:RS.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IO(e){const t=e._freezeSettings(),n=vP(e._databaseId);return new TO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CO(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,a);LO("Data must be an object, but it was:",o,r);const i=MO(r,o);let l,c;if(s.merge)l=new dk(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=BO(t,r,n);if(!o.contains(a))throw new yS(gS.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));zO(e,a)||e.push(a)}l=new dk(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new EO(new Wk(i),l,c)}function DO(e,t){if(RO(e=pb(e)))return LO("Unsupported field value:",t,e),MO(e,t);if(e instanceof jO)return function(e,t){if(!OO(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=DO(a,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=pb(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yj(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=TS.fromDate(e);return{timestampValue:J_(t.serializer,n)}}if(e instanceof TS){const n=new TS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:J_(t.serializer,n)}}if(e instanceof _O)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SO)return{bytesValue:Z_(t.serializer,e._byteString)};if(e instanceof fO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nN(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof NO)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return qj(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(iO(e)))}(e,t)}function MO(e,t){const n={};return sk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ak(e,(e,r)=>{const a=DO(r,t.Mu(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function RO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof TS||e instanceof _O||e instanceof SO||e instanceof fO||e instanceof jO||e instanceof NO)}function LO(e,t,n){if(!RO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=iO(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function BO(e,t,n){if((t=pb(t))instanceof kO)return t._internalPath;if("string"==typeof t)return WO(e,t);throw UO("Field path arguments must be of type string or ",e,!1,void 0,n)}const FO=new RegExp("[~\\*/\\[\\]]");function WO(e,t,n){if(t.search(FO)>=0)throw UO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new kO(...t.split("."))._internalPath}catch($){throw UO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function UO(e,t,n,r,a){const s=r&&!r.isEmpty(),o=void 0!==a;let i="Function ".concat(t,"() called with invalid data");n&&(i+=" (via `toFirestore()`)"),i+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(a)),l+=")"),new yS(gS.INVALID_ARGUMENT,i+e+l)}function zO(e,t){return e.some(e=>e.isEqual(t))}class VO{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HO extends VO{data(){return super.data()}}function GO(e,t){return"string"==typeof t?WO(e,t):t instanceof kO?t._internalPath:t._delegate._internalPath}function qO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yS(gS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KO{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fS()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ak(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>gk(e.doubleValue));return new NO(a)}convertGeoPoint(e){return new _O(gk(e.latitude),gk(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bk(e));default:return null}}convertTimestamp(e){const t=pk(e);return new TS(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=DS.fromString(e);mS(jN(n));const r=new Sk(n.get(1),n.get(3)),a=new LS(n.popFirst(5));return r.isEqual(t)||uS("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function YO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class QO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XO extends VO{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $O(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(GO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $O extends XO{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class JO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new QO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new $O(this._firestore,this._userDataWriter,n.key,n,new QO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yS(gS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new $O(e._firestore,e._userDataWriter,n.doc.key,n.doc,new QO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new $O(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ZO(t.type),doc:r,oldIndex:a,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fS()}}class eA extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new SO(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fO(this.firestore,null,t)}}function tA(e,t,n){e=lO(e,fO);const r=lO(e.firestore,vO),a=YO(e.converter,t,n);return nA(r,[CO(IO(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,l_.none())])}function nA(e,t){return function(e,t){const n=new vS;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=GE(e);try{const e=await function(e,t){const n=pS(e),r=TS.now(),a=t.reduce((e,t)=>e.add(t.key),Vj());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let i=Dj(),l=Vj();return n.cs.getEntries(e,a).next(e=>{i=e,i.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,i)).next(a=>{s=a;const o=[];for(const e of t){const t=m_(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new y_(e.key,t,Uk(t.value.mapValue),l_.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Lj(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ok(OS)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await UE(r,e.changes),await zP(r.remoteStore)}catch(e){const t=nE(e,"Failed to persist write");n.reject(t)}}(await eO(e),t,n)),n.promise}(bO(e),t)}function rA(e,t,n){const r=n.docs.get(t._key),a=new eA(e);return new XO(e,a,t._key,r,new QO(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oS=e}(Aw),_w(new gb("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),o=new vO(new SS(e.getProvider("auth-internal")),new NS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yS(gS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sk(e.options.projectId,t)}(s,r),s);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Cw(aS,"4.7.3",e),Cw(aS,"4.7.3","esm2017")}();const aA={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"};let sA,oA;const iA=async e=>{h.A.debug("Fetching financial data for year: ".concat(e));try{const n=(sA||(window.firebaseApp?sA=window.firebaseApp:(sA=Tw(aA),window.firebaseApp=sA),oA=xO(sA)),oA);h.A.debug("Firebase initialized, attempting to fetch document...");const r=pO(n,"league_finances",e);h.A.debug("Document reference created:",r.path);const a=await function(e){e=lO(e,fO);const t=lO(e.firestore,vO);return nO(bO(t),e._key).then(n=>rA(t,e,n))}(r);if(h.A.debug("Document snapshot received:",a.exists()?"EXISTS":"DOES NOT EXIST"),a.exists()){var t;const n=a.data();return h.A.debug("Raw financial data for ".concat(e,":"),Object.keys(n||{})),h.A.debug("Transactions count for ".concat(e,":"),(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.length)||0),null!==n&&void 0!==n&&n.transactions&&n.transactions.length>0&&h.A.debug("Sample transaction for ".concat(e,":"),n.transactions[0]),n&&n.transactions?n:{transactions:[],potentialFees:[],potentialPayouts:[]}}return h.A.debug("No financial document found for year ".concat(e," in Firestore")),{transactions:[],potentialFees:[],potentialPayouts:[]}}catch(n){return h.A.error("Error fetching financial data for year ".concat(e,":"),n),h.A.error("Error details:",n.message,n.code),{transactions:[],potentialFees:[],potentialPayouts:[]}}},lA=async e=>{if(!e||!Array.isArray(e)||0===e.length)return h.A.debug("No years provided for financial data fetch"),{};h.A.debug("Fetching financial data for multiple years:",e);try{const t=e.map(e=>iA(e)),n=await Promise.all(t),r={};return e.forEach((e,t)=>{r[e]=n[t]}),h.A.debug("Final financial data by year:",r),r}catch(t){return h.A.error("Error fetching financial data for multiple years:",t),{}}},cA=e=>"Waiver/FA Fee"===e.category&&Array.isArray(e.team)||"Trade Fee"===e.category&&Array.isArray(e.team)?Number(e.amount||0)*Number(e.quantity||1)*e.team.length:Number(e.amount||0),uA=(e,t)=>{if(!e||!Array.isArray(e)||!t)return{tradeFees:0,waiverFees:0,totalTransactions:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&(e.team.includes(t)&&"Fee"===e.type)),r=n.filter(e=>"Trade Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0),a=n.filter(e=>"Waiver/FA Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0);return{tradeFees:r,waiverFees:a,totalTransactions:r+a}},dA=e=>"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toFixed(2)),hA=()=>{var e;const{historicalData:n,allDraftHistory:r,getTeamName:a,getTeamDetails:o,currentSeason:i,loading:l,error:c,nflState:d}=X(),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[w,S]=(0,t.useState)(!0),[k,j]=(0,t.useState)({}),[_,N]=(0,t.useState)(!1),P={highestDPR:{decimals:3,type:"decimal"},lowestDPR:{decimals:3,type:"decimal"},bestLuck:{decimals:3,type:"decimal"},worstLuck:{decimals:3,type:"decimal"},mostWins:{decimals:0,type:"count"},mostLosses:{decimals:0,type:"count"},bestWinPct:{decimals:3,type:"percentage"},bestAllPlayWinPct:{decimals:3,type:"percentage"},mostWeeklyHighScores:{decimals:0,type:"count"},mostWeeklyTop2Scores:{decimals:0,type:"count"},mostWinningSeasons:{decimals:0,type:"count"},mostLosingSeasons:{decimals:0,type:"count"},mostBlowoutWins:{decimals:0,type:"count"},mostBlowoutLosses:{decimals:0,type:"count"},mostSlimWins:{decimals:0,type:"count"},mostSlimLosses:{decimals:0,type:"count"},mostTotalPoints:{decimals:2,type:"points"},mostPointsAgainst:{decimals:2,type:"points"},mostTrades:{decimals:0,type:"count"},mostWaivers:{decimals:0,type:"count"}},E=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t>e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==-1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},O=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t<e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},A=(e,t,n)=>{const r=(e=>{const t={},n=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e[t]})).filter(e=>void 0!==e.value&&null!==e.value).sort((e,t)=>n?t.value-e.value:e.value-t.value).slice(0,5)};return t.highestDPR=n("dpr",!0),t.lowestDPR=n("dpr",!1),t.mostWins=n("wins",!0),t.mostLosses=n("losses",!0),t.bestWinPct=n("winPercentage",!0),t.bestAllPlayWinPct=n("allPlayWinPercentage",!0),t.mostWeeklyHighScores=n("topScoreWeeksCount",!0),t.mostWeeklyTop2Scores=n("weeklyTop2ScoresCount",!0),t.mostBlowoutWins=n("blowoutWins",!0),t.mostBlowoutLosses=n("blowoutLosses",!0),t.mostSlimWins=n("slimWins",!0),t.mostSlimLosses=n("slimLosses",!0),t.mostTotalPoints=n("pointsFor",!0),t.mostPointsAgainst=n("pointsAgainst",!0),t.bestLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>t.value-e.value).slice(0,5),t.worstLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>e.value-t.value).slice(0,5),e.map(e=>({name:e.teamName,ownerId:e.ownerId,winningSeasons:0,losingSeasons:0})),t})(e);e.forEach(e=>{const r=e.ownerId;let a=0,s=0;if(Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?a++:n.winPercentage<.5&&s++)}),e.winningSeasonsCount=a,e.losingSeasonsCount=s,Object.keys(n).length>0){const t=((e,t)=>{if(!e||!t)return{careerTradeFees:0,careerWaiverFees:0,careerTotalTransactions:0};let n=0,r=0;return Object.keys(e).forEach(a=>{if(e[a]&&e[a].transactions){const s=uA(e[a].transactions,t);n+=s.tradeFees,r+=s.waiverFees}}),{careerTradeFees:n,careerWaiverFees:r,careerTotalTransactions:n+r}})(n,r);e.careerTradeFees=t.careerTradeFees,e.careerWaiverFees=t.careerWaiverFees,h.A.debug("Transaction counts for ".concat(e.teamName,":"),t)}else e.careerTradeFees=0,e.careerWaiverFees=0}),r.mostWinningSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.winningSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostLosingSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.losingSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostTrades=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerTradeFees})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostWaivers=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerWaiverFees})).sort((e,t)=>t.value-e.value).slice(0,5),v(r);let a={value:-1/0,teams:[],key:"highestDPR"},s={value:1/0,teams:[],key:"lowestDPR"},o={value:-1/0,teams:[],key:"mostWins"},i={value:-1/0,teams:[],key:"mostLosses"},l={value:-1/0,teams:[],key:"bestWinPct"},c={value:-1/0,teams:[],key:"bestAllPlayWinPct"},u={value:-1/0,teams:[],key:"mostWeeklyHighScores"},d={value:-1/0,teams:[],key:"mostWeeklyTop2Scores"},f={value:-1/0,teams:[],key:"mostWinningSeasons"},p={value:-1/0,teams:[],key:"mostLosingSeasons"},g={value:-1/0,teams:[],key:"mostBlowoutWins"},y={value:-1/0,teams:[],key:"mostBlowoutLosses"},x={value:-1/0,teams:[],key:"mostSlimWins"},b={value:-1/0,teams:[],key:"mostSlimLosses"},w={value:-1/0,teams:[],key:"mostTotalPoints"},S={value:-1/0,teams:[],key:"mostPointsAgainst"},k={value:-1/0,teams:[],key:"bestLuck"},j={value:1/0,teams:[],key:"worstLuck"},_={value:-1/0,teams:[],key:"mostTrades"},N={value:-1/0,teams:[],key:"mostWaivers"};e.forEach(e=>{const n=e.teamName,r=e.ownerId;0!==e.dpr&&(E(a,e.dpr,{name:n,value:e.dpr,ownerId:r}),O(s,e.dpr,{name:n,value:e.dpr,ownerId:r})),"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||(E(k,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r}),O(j,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r})),e.totalGames>0&&(E(o,e.wins,{name:n,value:e.wins,ownerId:r}),E(i,e.losses,{name:n,value:e.losses,ownerId:r}),E(l,e.winPercentage,{name:n,value:e.winPercentage,ownerId:r}),E(w,e.pointsFor,{name:n,value:e.pointsFor,ownerId:r}),E(S,e.pointsAgainst,{name:n,value:e.pointsAgainst,ownerId:r}),E(g,e.blowoutWins,{name:n,value:e.blowoutWins,ownerId:r}),E(y,e.blowoutLosses,{name:n,value:e.blowoutLosses,ownerId:r}),E(x,e.slimWins,{name:n,value:e.slimWins,ownerId:r}),E(b,e.slimLosses,{name:n,value:e.slimLosses,ownerId:r}),E(d,e.weeklyTop2ScoresCount,{name:n,value:e.weeklyTop2ScoresCount,ownerId:r}),E(u,e.topScoreWeeksCount,{name:n,value:e.topScoreWeeksCount,ownerId:r}),E(c,e.allPlayWinPercentage,{name:n,value:e.allPlayWinPercentage,ownerId:r})),E(_,e.careerTradeFees,{name:n,value:e.careerTradeFees,ownerId:r}),E(N,e.careerWaiverFees,{name:n,value:e.careerWaiverFees,ownerId:r});let h=0,m=0;Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?h++:n.winPercentage<.5&&m++)}),E(f,h,{name:n,value:h,ownerId:r}),E(p,m,{name:n,value:m,ownerId:r})}),m({highestDPR:a,lowestDPR:s,bestLuck:k,worstLuck:j,mostWins:o,mostLosses:i,bestWinPct:l,bestAllPlayWinPct:c,mostWeeklyHighScores:u,mostWeeklyTop2Scores:d,mostWinningSeasons:f,mostLosingSeasons:p,mostBlowoutWins:g,mostBlowoutLosses:y,mostSlimWins:x,mostSlimLosses:b,mostTotalPoints:w,mostPointsAgainst:S,mostTrades:_,mostWaivers:N})};if((0,t.useEffect)(()=>{if(S(!0),l||c||!n||!n.matchupsBySeason||0===Object.keys(n.matchupsBySeason).length||!d)return m({}),g({}),void S(!1);try{const{seasonalMetrics:e,careerDPRData:t}=s(n,0,a,d),r=(e=>{const t={},n=Object.keys(e).sort((e,t)=>Number(e)-Number(t)),r={mostWeeklyHighScores:{value:-1/0,holders:[],history:[]},mostWins:{value:-1/0,holders:[],history:[]},bestWinPct:{value:-1/0,holders:[],history:[]},mostTotalPoints:{value:-1/0,holders:[],history:[]}};return n.forEach(t=>{const n=e[t];Object.entries(r).forEach(e=>{let[r,s]=e,o=!1;Object.values(n).forEach(e=>{if(!e.ownerId||0===e.totalGames)return;let n=0;switch(r){case"mostWeeklyHighScores":n=e.topScoreWeeksCount||0;break;case"mostWins":n=e.wins||0;break;case"bestWinPct":n=e.winPercentage||0;break;case"mostTotalPoints":n=e.pointsFor||0}if(n>s.value){const r=a(e.ownerId,t);s.history.push({year:t,week:"End of Season",previousValue:s.value===-1/0?0:s.value,newValue:n,previousHolder:s.holders.length>0?s.holders[s.holders.length-1].name:"N/A",newHolder:r,ownerId:e.ownerId}),s.value=n,s.holders.push({name:r,ownerId:e.ownerId,year:t,value:n,startYear:t}),o=!0}})})}),Object.entries(r).forEach(e=>{let[n,r]=e;t[n]={currentValue:r.value,currentHolders:r.holders.slice(-1),allTimeHolders:r.holders,recordHistory:r.history}}),t})(e);g(r),N(!0);const o=Object.keys(n.matchupsBySeason||{}),i=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.A.debug("League Records: Processing with financial data for",Object.keys(n).length,"years"),j(n),N(!1),A(t,e,n),S(!1)};o.length>0?lA(o).then(i).catch(e=>{h.A.warn("Could not load financial data for transaction counts:",e),i({})}):i({})}catch(c){h.A.error("Error calculating league records:",c),m({}),g({}),S(!1)}},[n,r,a,l,c,d]),w)return(0,G.jsx)("div",{className:"text-center py-8",children:"Loading all-time league records..."});if(0===Object.keys(f).length||(null===(e=f.highestDPR)||void 0===e?void 0:e.value)===-1/0)return(0,G.jsx)("div",{className:"text-center py-8",children:"No historical data available to calculate all-time records."});const T=e=>{if(e.ownerId)return a(e.ownerId,null);if(e.rosterId&&e.year){var t,r;const s=null===(t=n.rostersBySeason)||void 0===t||null===(r=t[e.year])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.rosterId));if(null!==s&&void 0!==s&&s.owner_id)return a(s.owner_id,null)}return"Unknown Team"};return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udf0d"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time League Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Career-spanning achievements and historical league data."})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:Object.entries(f).map((e,n)=>{let[r,a]=e;const s=P[a.key]||{decimals:2,type:"default"},o=()=>{let e=a.key.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};if(!a||a.value===-1/0||a.value===1/0||!a.teams||0===a.teams.length)return(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()})})}),(0,G.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]},r);const i=y[a.key]||[],l=x[a.key];return(0,G.jsxs)(t.Fragment,{children:[(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()}),i.length>0&&(0,G.jsx)("button",{onClick:()=>{return e=a.key,void b(t=>u(u({},t),{},{[e]:!t[e]}));var e},className:"text-blue-600 hover:text-blue-800 transition-colors",children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-teal-100 border border-green-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*a.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":a.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:a.teams.map((e,t)=>(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:T(e)})},t))})})]}),l&&i.length>0&&(0,G.jsx)("tr",{className:"bg-blue-50/50",children:(0,G.jsx)("td",{colSpan:"3",className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"bg-white rounded-lg p-3 sm:p-4 border border-blue-200",children:[(0,G.jsx)("h4",{className:"font-semibold text-gray-800 text-xs sm:text-sm mb-3",children:"Top 5 Rankings"}),(0,G.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("span",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm",children:e.name})]}),(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*e.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":e.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})]},t))})]})})})]},r)})})]})})})]})},fA=()=>{const{processedSeasonalRecords:e,getTeamName:n,loading:r,error:a}=X(),[s,o]=(0,t.useState)(()=>({mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"},highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"}})),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{if(r||a||!e||0===Object.keys(e).length)return o({highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"}}),void d({});const t={mostWinsSeason:[],mostLossesSeason:[],bestWinPctSeason:[],bestAllPlayWinPctSeason:[],mostWeeklyHighScoresSeason:[],mostWeeklyTop2ScoresSeason:[],mostBlowoutWinsSeason:[],mostBlowoutLossesSeason:[],mostSlimWinsSeason:[],mostSlimLossesSeason:[],mostPointsSeason:[],fewestPointsSeason:[],bestLuckRatingSeason:[],worstLuckRatingSeason:[],highestDPRSeason:[],lowestDPRSeason:[],mostTradesSeason:[],mostWaiversSeason:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),e);let l={value:-1/0,entries:[],key:"highestDPR"},c={value:1/0,entries:[],key:"lowestDPR"},f={value:-1/0,entries:[],key:"wins"},p={value:-1/0,entries:[],key:"losses"},y={value:-1/0,entries:[],key:"winPercentage"},v={value:-1/0,entries:[],key:"allPlayWinPercentage"},x={value:-1/0,entries:[],key:"topScoreWeeksCount"},b={value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},w={value:-1/0,entries:[],key:"blowoutWins"},S={value:-1/0,entries:[],key:"blowoutLosses"},k={value:-1/0,entries:[],key:"slimWins"},j={value:1/0,entries:[],key:"slimLosses"},_={value:-1/0,entries:[],key:"pointsFor"},N={value:1/0,entries:[],key:"pointsFor"},P={value:-1/0,entries:[],key:"luckRating"},E={value:1/0,entries:[],key:"luckRating"},O={value:-1/0,entries:[],key:"tradeCount"},A={value:-1/0,entries:[],key:"waiverCount"};const T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)))};g(!0);const I=Object.keys(i),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.A.debug("Season Records: Processing with financial data for",Object.keys(e).length,"years"),m(e),g(!1),Object.keys(i).forEach(t=>{const r=i[t];if(!r||"object"!==typeof r)return;Object.values(r).forEach(r=>{if(!r||"object"!==typeof r||!r.rosterId||!r.ownerId)return;if(0===r.totalGames)return;const a={teamName:n(r.ownerId,t),year:t,ownerId:r.ownerId,rosterId:r.rosterId};if(e[t]&&e[t].transactions){const n=uA(e[t].transactions,r.ownerId),o=n.tradeFees,i=n.waiverFees;"number"===typeof o&&o>=0&&(T(O,o,u(u({},a),{},{value:o})),s("mostTradesSeason",o,u(u({},a),{},{value:o}))),"number"===typeof i&&i>=0&&(T(A,i,u(u({},a),{},{value:i})),s("mostWaiversSeason",i,u(u({},a),{},{value:i})))}"number"===typeof r.wins&&(T(f,r.wins,u(u({},a),{},{value:r.wins})),s("mostWinsSeason",r.wins,u(u({},a),{},{value:r.wins}))),"number"===typeof r.losses&&(T(p,r.losses,u(u({},a),{},{value:r.losses})),s("mostLossesSeason",r.losses,u(u({},a),{},{value:r.losses}))),"number"===typeof r.winPercentage&&(T(y,r.winPercentage,u(u({},a),{},{value:r.winPercentage})),s("bestWinPctSeason",r.winPercentage,u(u({},a),{},{value:r.winPercentage}))),"number"===typeof r.allPlayWinPercentage&&(T(v,r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage})),s("bestAllPlayWinPctSeason",r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage}))),"number"===typeof r.topScoreWeeksCount&&(T(x,r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount})),s("mostWeeklyHighScoresSeason",r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount}))),"number"===typeof r.weeklyTop2ScoresCount&&(T(b,r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount})),s("mostWeeklyTop2ScoresSeason",r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount}))),"number"===typeof r.blowoutWins&&(T(w,r.blowoutWins,u(u({},a),{},{value:r.blowoutWins})),s("mostBlowoutWinsSeason",r.blowoutWins,u(u({},a),{},{value:r.blowoutWins}))),"number"===typeof r.blowoutLosses&&(T(S,r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses})),s("mostBlowoutLossesSeason",r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses}))),"number"===typeof r.slimWins&&(T(k,r.slimWins,u(u({},a),{},{value:r.slimWins})),s("mostSlimWinsSeason",r.slimWins,u(u({},a),{},{value:r.slimWins}))),"number"===typeof r.slimLosses&&(T(j,r.slimLosses,u(u({},a),{},{value:r.slimLosses})),s("mostSlimLossesSeason",r.slimLosses,u(u({},a),{},{value:r.slimLosses}))),"number"===typeof r.pointsFor&&(T(_,r.pointsFor,u(u({},a),{},{value:r.pointsFor})),T(N,r.pointsFor,u(u({},a),{},{value:r.pointsFor}),!0),s("mostPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor})),s("fewestPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor}))),"number"!==typeof r.luckRating||isNaN(r.luckRating)||(T(P,r.luckRating,u(u({},a),{},{value:r.luckRating})),T(E,r.luckRating,u(u({},a),{},{value:r.luckRating}),!0),s("bestLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating})),s("worstLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating}))),"number"!==typeof r.adjustedDPR||isNaN(r.adjustedDPR)||(T(l,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),T(c,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR}),!0),s("highestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),s("lowestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})))})}),[f,p,y,v,x,b,w,S,k,j,_,N,P,E,l,c,O,A].forEach(e=>{e&&e.entries.length>1&&e.entries.sort((e,t)=>e.year!==t.year?parseInt(e.year)-parseInt(t.year):(e.teamName||"").localeCompare(t.teamName||""))}),o({mostWinsSeason:f,mostLossesSeason:p,bestWinPctSeason:y,bestAllPlayWinPctSeason:v,mostWeeklyHighScoresSeason:x,mostWeeklyTop2ScoresSeason:b,mostBlowoutWinsSeason:w,mostBlowoutLossesSeason:S,mostSlimWinsSeason:k,mostSlimLossesSeason:j,mostPointsSeason:_,fewestPointsSeason:N,bestLuckRatingSeason:P,worstLuckRatingSeason:E,highestDPRSeason:l,lowestDPRSeason:c,mostTradesSeason:O,mostWaiversSeason:A}),h.A.debug("Season Records - Final transaction counts:"),h.A.debug("Most Trades Season:",O),h.A.debug("Most Waivers Season:",A),d(t)};I.length>0?lA(I).then(C).catch(e=>{h.A.warn("Could not load financial data for Season Records transaction counts:",e),C({})}):C({})},[e,n,r,a]),r)return(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading seasonal records..."});if(a)return(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading seasonal data: ",a.message]});if(!e||0===Object.keys(e).length)return(0,G.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available to display."});const y=[s.mostWinsSeason,s.mostLossesSeason,s.bestWinPctSeason,s.bestAllPlayWinPctSeason,s.mostWeeklyHighScoresSeason,s.mostWeeklyTop2ScoresSeason,s.mostBlowoutWinsSeason,s.mostBlowoutLossesSeason,s.mostSlimWinsSeason,s.mostSlimLossesSeason,s.mostPointsSeason,s.fewestPointsSeason,s.bestLuckRatingSeason,s.worstLuckRatingSeason,s.highestDPRSeason,s.lowestDPRSeason,s.mostTradesSeason,s.mostWaiversSeason].filter(e=>e&&e.value!==-1/0&&e.value!==1/0&&e.entries&&e.entries.length>0);return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udcc5"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Season Records Highlights"}),(0,G.jsxs)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:["Outstanding records achieved in a single season \u2022 Excludes current ",(new Date).getFullYear()," season"]})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team (Season)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:y.map((e,r)=>{const a=i[e.key],s=((e,t)=>{if("luckRating"===e)return t.value>0?"Best Luck Rating":"Worst Luck Rating";if("pointsFor"===e)return t.value>0?"Most Points For":"Fewest Points For";if("highestDPR"===e)return"Highest Season DPR";if("lowestDPR"===e)return"Lowest Season DPR";if("tradeCount"===e)return"Most Trades in a Season";if("waiverCount"===e)return"Most FA/Waivers in a Season";const n=e.replace(/Season$/,"").replace(/([A-Z])/g," $1").trim();return n.charAt(0).toUpperCase()+n.slice(1)})(e.key,e);return(0,G.jsxs)(t.Fragment,{children:[e.entries.map((t,o)=>{const i=t.teamName||n(t.ownerId,t.year);let c="";return 0===o&&"number"===typeof t.value&&(c=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["luckRating","highestDPR","lowestDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"pointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})+"%":t.value),(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(r%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===o?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:s}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void l(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(s),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===o?(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-blue-100 border border-green-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:c})}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:i}),t.year&&(0,G.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:t.year})]})})]},"".concat(e.key,"-").concat(i,"-").concat(o))}),a&&(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason"}[e.key];return t&&c[t]&&c[t].length>0})()&&(0,G.jsx)("tr",{className:"".concat(r%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"3",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",s]}),(0,G.jsx)("div",{className:"space-y-2",children:(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason"}[e.key],n=(e.key,["fewestPointsSeason","worstLuckRatingSeason","lowestDPRSeason"].includes(t));return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((t,n)=>{let r="";return r=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["luckRating","adjustedDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"pointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})+"%":t.value,(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.teamName})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900",children:r}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:t.year})]})]},"".concat(t.teamName,"-").concat(t.value,"-").concat(t.year,"-").concat(n))})})()})]})})})]},e.key)})})]})})})]})},mA=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o}=X(),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({});(0,t.useEffect)(()=>{if(s||o||!n||0===n.length)return void l({});const e={},t={};n.forEach(n=>{var a,s,o,i,l,c;if(!n||!n.matchup_id||!n.team1_roster_id||void 0===n.team1_score||!n.team2_roster_id||void 0===n.team2_score||void 0===n.season||void 0===n.week)return void h.A.warn("StreaksRecords: Skipping invalid or incomplete matchup. Missing data:",{matchup_id:null===n||void 0===n?void 0:n.matchup_id,team1_roster_id:null===n||void 0===n?void 0:n.team1_roster_id,team1_score:null===n||void 0===n?void 0:n.team1_score,team2_roster_id:null===n||void 0===n?void 0:n.team2_roster_id,team2_score:null===n||void 0===n?void 0:n.team2_score,season:null===n||void 0===n?void 0:n.season,week:null===n||void 0===n?void 0:n.week,fullMatch:n});const u=parseInt(n.season),d=parseInt(n.week),f=String(n.team1_roster_id),m=String(n.team2_roster_id),p=parseFloat(n.team1_score),g=parseFloat(n.team2_score);if(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(g))return void h.A.warn("StreaksRecords: Skipping matchup due to invalid numerical data. Match:",n);const y=null===(a=r.rostersBySeason)||void 0===a||null===(s=a[u])||void 0===s||null===(o=s.find(e=>String(e.roster_id)===f))||void 0===o?void 0:o.owner_id,v=null===(i=r.rostersBySeason)||void 0===i||null===(l=i[u])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===m))||void 0===c?void 0:c.owner_id;if(!y||!v)return void h.A.warn("StreaksRecords: Skipping matchup due to missing owner ID for year ".concat(u,". Team1Roster: ").concat(f,", Team2Roster: ").concat(m));if(0===p&&0===g&&u>=(new Date).getFullYear())return;const x=p===g;e[y]||(e[y]=[]),e[v]||(e[v]=[]),e[y].push({year:u,week:d,isWin:p>g,isLoss:p<g,isTie:x,score:p,opponentScore:g,rosterId:f}),e[v].push({year:u,week:d,isWin:g>p,isLoss:g<p,isTie:x,score:g,opponentScore:p,rosterId:m}),t[u]||(t[u]={}),t[u][d]||(t[u][d]=[]),t[u][d].push({rosterId:f,score:p}),t[u][d].push({rosterId:m,score:g})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week)});const i={};Object.keys(t).forEach(e=>{i[e]={},Object.keys(t[e]).forEach(n=>{const r=[...t[e][n]].sort((e,t)=>t.score-e.score);i[e][n]={highestScore:r.length>0?r[0].score:-1/0,lowestScore:r.length>0?r[r.length-1].score:1/0,top3Scores:r.slice(0,Math.min(3,r.length)).map(e=>e.score)}})});const c={longestWinStreak:{value:0,entries:[]},longestLosingStreak:{value:0,entries:[]},longestConsecutiveHighestScoreWeeks:{value:0,entries:[]},longestConsecutiveLowestScoreWeeks:{value:0,entries:[]},longestConsecutiveTop3Weeks:{value:0,entries:[]}},f={longestWinStreak:[],longestLosingStreak:[],longestConsecutiveHighestScoreWeeks:[],longestConsecutiveLowestScoreWeeks:[],longestConsecutiveTop3Weeks:[]},m=(e,t,n,r,a)=>{const s=a(r,n.startYear),o=u(u({},n),{},{team:s,ownerId:r});if(t>e.value)e.value=t,e.entries=[o];else if(t===e.value&&t>0){e.entries.some(e=>e.team===o.team&&e.startYear===o.startYear&&e.startWeek===o.startWeek&&e.endYear===o.endYear&&e.endWeek===o.endWeek)||e.entries.push(o)}},p=(e,t,n,r,a)=>{if(t>0){const s=a(r,n.startYear);f[e].push(u(u({},n),{},{team:s,ownerId:r,streak:t}))}};Object.keys(e).forEach(n=>{const r=e[n];let s=0,o=0,l=null,u=null,d=null,h=null;for(let e=0;e<r.length;e++){const t=r[e];if(t.isWin){if(0===s&&(l=t.year,u=t.week),s++,o>0){const t={streak:o,startYear:d,startWeek:h,endYear:r[e-1]?r[e-1].year:d,endWeek:r[e-1]?r[e-1].week:h};m(c.longestLosingStreak,o,t,n,a),p("longestLosingStreak",o,t,n,a)}o=0,d=null,h=null}else if(t.isLoss){if(0===o&&(d=t.year,h=t.week),o++,s>0){const t={streak:s,startYear:l,startWeek:u,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:u};m(c.longestWinStreak,s,t,n,a),p("longestWinStreak",s,t,n,a)}s=0,l=null,u=null}else t.isTie&&(s>0&&m(c.longestWinStreak,s,{streak:s,startYear:l,startWeek:u,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:l},n,a),s=0,l=null,u=null,o>0&&m(c.longestLosingStreak,o,{streak:o,startYear:d,startWeek:h,endYear:r[e-1]?r[e-1].year:d,endWeek:r[e-1]?r[e-1].week:d},n,a),o=0,d=null,h=null)}s>0&&m(c.longestWinStreak,s,{streak:s,startYear:l,startWeek:u,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),o>0&&m(c.longestLosingStreak,o,{streak:o,startYear:d,startWeek:h,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a);let f=0,g=0,y=0,v=null,x=null,b=null,w=null,S=null,k=null;for(let e=0;e<r.length;e++){var j,_,N;const s=r[e],o=null===(j=t[s.year])||void 0===j?void 0:j[s.week],l=null===o||void 0===o||null===(_=o.find(e=>e.rosterId===s.rosterId))||void 0===_?void 0:_.score;if(void 0===l||null===l){f>0&&m(c.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:v,startWeek:x,endYear:r[e-1]?r[e-1].year:v,endWeek:r[e-1]?r[e-1].week:v},n,a),f=0,v=null,x=null,g>0&&m(c.longestConsecutiveLowestScoreWeeks,g,{streak:g,startYear:b,startWeek:w,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),g=0,b=null,w=null,y>0&&m(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:S,startWeek:k,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),y=0,S=null,k=null;continue}const u=null===(N=i[s.year])||void 0===N?void 0:N[s.week];l===u.highestScore?(0===f&&(v=s.year,x=s.week),f++):(f>0&&m(c.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:v,startWeek:x,endYear:r[e-1]?r[e-1].year:v,endWeek:r[e-1]?r[e-1].week:v},n,a),f=0,v=null,x=null),l===u.lowestScore?(0===g&&(b=s.year,w=s.week),g++):(g>0&&m(c.longestConsecutiveLowestScoreWeeks,g,{streak:g,startYear:b,startWeek:w,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),g=0,b=null,w=null),u.top3Scores.includes(l)?(0===y&&(S=s.year,k=s.week),y++):(y>0&&m(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:S,startWeek:k,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),y=0,S=null,k=null)}if(f>0){const e={streak:f,startYear:v,startWeek:x,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveHighestScoreWeeks,f,e,n,a),p("longestConsecutiveHighestScoreWeeks",f,e,n,a)}if(g>0){const e={streak:g,startYear:b,startWeek:w,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveLowestScoreWeeks,g,e,n,a),p("longestConsecutiveLowestScoreWeeks",g,e,n,a)}if(y>0){const e={streak:y,startYear:S,startWeek:k,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveTop3Weeks,y,e,n,a),p("longestConsecutiveTop3Weeks",y,e,n,a)}}),Object.keys(c).forEach(e=>{const t=c[e];0===t.value&&0===t.entries.length&&(t.entries=[]),t.entries.sort((e,t)=>{const n=(e.team||"").localeCompare(t.team||"");return 0!==n?n:e.startYear!==t.startYear?e.startYear-t.startYear:e.startWeek-t.startWeek})}),l(c),d(f)},[n,r,a,s,o]);const p=[{key:"longestWinStreak",label:"Win Streak"},{key:"longestLosingStreak",label:"Losing Streak"},{key:"longestConsecutiveHighestScoreWeeks",label:"High Score Streak"},{key:"longestConsecutiveTop3Weeks",label:"Top 3 Score Streak"}];return s?(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading streak records..."}):o?(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading streak data: ",o.message]}):0===Object.keys(i).length||p.every(e=>{var t;return 0===(null===(t=i[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No streak data available to display records."}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udd25"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Streak Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Longest consecutive achievements in league history"})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Length"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfaf"})," Started"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc1"})," Ended"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:p.map((e,n)=>{const r=i[e.key],a=f[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[r.entries.map((t,r)=>(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===r?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void m(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===r?(0,G.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:t.streak}),(0,G.jsx)("span",{className:"text-gray-600 text-xs ml-1",children:"games"})]}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:t.team})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-green-100 text-green-800 rounded-lg text-xs font-medium",children:[(0,G.jsx)("span",{children:t.startYear}),(0,G.jsx)("span",{className:"text-green-600",children:"\u2022"}),(0,G.jsxs)("span",{children:["Week ",t.startWeek]})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-red-100 text-red-800 rounded-lg text-xs font-medium",children:[(0,G.jsx)("span",{children:t.endYear}),(0,G.jsx)("span",{className:"text-red-600",children:"\u2022"}),(0,G.jsxs)("span",{children:["Week ",t.endWeek]})]})})]},"".concat(e.key,"-").concat(t.team,"-").concat(t.startYear,"-").concat(t.startWeek,"-").concat(r))),a&&c[e.key]&&c[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"5",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label,"s"]}),(0,G.jsx)("div",{className:"space-y-2",children:c[e.key].sort((e,t)=>t.streak-e.streak).slice(0,5).map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:t+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.team})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsxs)("span",{className:"font-bold text-gray-900",children:[e.streak," games"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.startYear," Week ",e.startWeek," - ",e.endYear," Week ",e.endWeek]})]})]},"".concat(e.team,"-").concat(e.streak,"-").concat(e.startYear,"-").concat(e.startWeek,"-").concat(t)))})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,G.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},pA=()=>{const{historicalData:e,getTeamName:n,loading:r,error:a}=X(),[s,o]=(0,t.useState)({}),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({});function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("number"===typeof t&&!isNaN(t))if(r){if(t<e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}else if(t>e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}(0,t.useEffect)(()=>{if(r||a||!e||!e.matchupsBySeason)return o({}),void d({});const t={mostPointsScored:[],fewestPointsScored:[],mostPointsInLoss:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),[]);for(const n in e.matchupsBySeason){const t=e.matchupsBySeason[n];Array.isArray(t)&&i.push(...t)}if(0===i.length)return void o({});const l={mostPointsScored:{value:-1/0,entries:[]},fewestPointsScored:{value:1/0,entries:[]},mostPointsInLoss:{value:-1/0,entries:[]},fewestPointsInWin:{value:1/0,entries:[]},highestCombinedScore:{value:-1/0,entries:[]},lowestCombinedScore:{value:1/0,entries:[]},biggestBlowout:{value:-1/0,entries:[]},slimmestWin:{value:1/0,entries:[]}};i.forEach(t=>{var r,a,o,i;const c=parseInt(t.season),d=parseInt(t.week),m=String(t.team1_roster_id),p=String(t.team2_roster_id),g=parseFloat(t.team1_score),y=parseFloat(t.team2_score),v=null===(r=e.rostersBySeason)||void 0===r||null===(a=r[c])||void 0===a?void 0:a.find(e=>String(e.roster_id)===m),x=null===v||void 0===v?void 0:v.owner_id,b=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===p),w=null===b||void 0===b?void 0:b.owner_id,S=n(x,c),k=n(w,c);let j=[];if(x||j.push("Missing team1OwnerId for roster ".concat(m," in year ").concat(c)),w||j.push("Missing team2OwnerId for roster ".concat(p," in year ").concat(c)),(isNaN(c)||isNaN(d)||isNaN(g)||isNaN(y))&&j.push("Invalid data point (year: ".concat(c,", week: ").concat(d,", scores: ").concat(g,", ").concat(y,")")),j.length>0)return void h.A.warn("MatchupRecords: Skipping matchup due to:",j.join("; "),". Match:",t);const _=g+y,N=Math.abs(g-y),P=g===y&&g>0;let E="",O="";P||(E=g>y?S:k,O=g>y?k:S);const A={matchup:"".concat(S," vs ").concat(k),year:c,week:d,team1:S,team2:k,team1Score:g,team2Score:y,team1RosterId:m,team2RosterId:p},T=u(u({},A),{},{team:S,score:g}),I=u(u({},A),{},{team:k,score:y});if(f(l.mostPointsScored,g,T),f(l.mostPointsScored,y,I),s("mostPointsScored",g,T),s("mostPointsScored",y,I),g>0&&(f(l.fewestPointsScored,g,T,!0),s("fewestPointsScored",g,T)),y>0&&(f(l.fewestPointsScored,y,I,!0),s("fewestPointsScored",y,I)),!P){const e=g<y,t=e?S:k,n=e?g:y,r=e?k:S,a=e?y:g,o=u(u({},A),{},{team:t,score:n,opponent:r,opponentScore:a});f(l.mostPointsInLoss,n,o),s("mostPointsInLoss",n,o)}if(!P){const e=g>y,t=e?S:k,n=e?g:y,r=e?k:S,a=e?y:g;if(n>0){const e=u(u({},A),{},{team:t,score:n,opponent:r,opponentScore:a});f(l.fewestPointsInWin,n,e,!0),s("fewestPointsInWin",n,e)}}const C=u(u({},A),{},{combinedScore:_});if(f(l.highestCombinedScore,_,C),s("highestCombinedScore",_,C),_>0&&g>0&&y>0&&(f(l.lowestCombinedScore,_,C,!0),s("lowestCombinedScore",_,C)),!P){const e=u(u({},A),{},{margin:N,winner:E,loser:O});f(l.biggestBlowout,N,e),s("biggestBlowout",N,e)}if(!P&&N>0){const e=u(u({},A),{},{margin:N,winner:E,loser:O});f(l.slimmestWin,N,e,!0),s("slimmestWin",N,e)}}),Object.keys(l).forEach(e=>{const t=l[e];t.value!==-1/0&&t.value!==1/0||(t.value=0,t.entries=[]),t.entries.sort((t,n)=>t.year!==n.year?t.year-n.year:t.week!==n.week?t.week-n.week:t.team&&n.team&&("mostPointsScored"===e||"fewestPointsScored"===e||"mostPointsInLoss"===e||"fewestPointsInWin"===e)?t.team.localeCompare(n.team):t.team1&&n.team1&&("highestCombinedScore"===e||"lowestCombinedScore"===e)?t.team1.localeCompare(n.team1):t.winner&&n.winner&&("biggestBlowout"===e||"slimmestWin"===e)?t.winner.localeCompare(n.winner):0)}),o(l),d(t)},[e,n,r,a]);const m=(e,t)=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),p=[{key:"mostPointsScored",label:"Most Points Scored by a Team"},{key:"mostPointsInLoss",label:"Most Points Scored in a Loss"},{key:"fewestPointsScored",label:"Fewest Points Scored by a Team"},{key:"fewestPointsInWin",label:"Fewest Points Scored in a Win"},{key:"highestCombinedScore",label:"Highest Combined Score"},{key:"lowestCombinedScore",label:"Lowest Combined Score"},{key:"biggestBlowout",label:"Biggest Blowout"},{key:"slimmestWin",label:"Slimmest Win"}];return r?(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading matchup records..."}):a?(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading matchup data: ",a.message]}):0===Object.keys(s).length||p.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No matchup data available to display records."}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\u2694\ufe0f"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Game Record Holders"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Outstanding single-game performances across all seasons \u2022 Minimum scores required for some records"})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsx)("div",{className:"flex items-center gap-1 sm:gap-2",children:"Record Type"})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\u2694\ufe0f"})," Game Details"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcc5"})," Season"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udccd"})," Week"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:p.map((e,n)=>{const r=s[e.key],a=i[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[r.entries.map((t,s)=>{let o;const i=t.team1Score.toFixed(2),c=t.team2Score.toFixed(2),d=(t.winner===t.team1?t.team1Score:t.team2Score).toFixed(2),h=(t.loser===t.team1?t.team1Score:t.team2Score).toFixed(2);if("mostPointsScored"===e.key||"fewestPointsScored"===e.key||"mostPointsInLoss"===e.key||"fewestPointsInWin"===e.key){const e=t.team,n=t.score.toFixed(2),r=e===t.team1?t.team2:t.team1,a=(e===t.team1?t.team2Score:t.team1Score).toFixed(2);o=(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-2 sm:p-3 border border-blue-200",children:(0,G.jsxs)("div",{className:"space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:e}),(0,G.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:n})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:r}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:a})]})]})})})}else o="biggestBlowout"===e.key||"slimmestWin"===e.key?(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-2 sm:p-3 border border-orange-200",children:(0,G.jsxs)("div",{className:"space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:t.winner}),(0,G.jsx)("span",{className:"font-bold text-green-600 text-xs sm:text-sm text-right",children:d})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:t.loser}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:h})]})]})})}):(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-2 sm:p-3 border border-green-200",children:(0,G.jsx)("div",{className:"space-y-1",children:(()=>{const e=t.team1Score>=t.team2Score,n=e?t.team1:t.team2,r=e?i:c,a=e?t.team2:t.team1,s=e?c:i;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:n}),(0,G.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:r})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:a}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:s})]})]})})()})})});return(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===s?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void l(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):r.entries.length>1?(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"}):null}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===s?(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-orange-100 to-red-100 border border-orange-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:m(r.value,e.key)})}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"text-xs sm:text-sm",children:o})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-blue-100 text-blue-800 rounded-lg text-xs font-medium",children:t.year})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium",children:["Week ",t.week]})})]},"".concat(e.key,"-").concat(s))}),a&&c[e.key]&&c[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"5",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,G.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.key,n=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(t);return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((e,n)=>{let r="";return r="mostPointsScored"===t||"fewestPointsScored"===t||"mostPointsInLoss"===t||"fewestPointsInWin"===t?"".concat(e.team,": ").concat(e.value.toFixed(2)," pts"):"biggestBlowout"===t||"slimmestWin"===t?"".concat(e.winner," beat ").concat(e.loser," by ").concat(e.value.toFixed(2)," pts"):"".concat(e.team1," vs ").concat(e.team2,": ").concat(e.value.toFixed(2)," pts combined"),(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:r})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900",children:e.value.toFixed(2)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.year," Week ",e.week]})]})]},"".concat(e.year,"-").concat(e.week,"-").concat(n))})})()})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})})}),(0,G.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},gA=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o}=X(),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({});(0,t.useEffect)(()=>{if(s||o||!n||0===n.length||!r||!r.rostersBySeason)return l({}),void m({});const e={mostPlayoffAppearances:[],mostPlayoffWins:[],mostPlayoffLosses:[],bestPlayoffWinPercentage:[],worstPlayoffWinPercentage:[],mostPlayoffPointsFor:[],mostPlayoffPointsAgainst:[],mostChampionships:[],mostFirstPlaceFinishes:[],mostSecondPlaceFinishes:[],mostThirdPlaceFinishes:[]},t=(t,n,r)=>{"number"===typeof n&&!isNaN(n)&&e[t]&&e[t].push(u(u({},r),{},{value:n}))},i={};n.forEach((e,t)=>{var n,s,o,l;const c=parseInt(e.year),u=String(e.team1_roster_id),d=String(e.team2_roster_id),f=parseFloat(e.team1Score),m=parseFloat(e.team2Score),p=null===(n=r.rostersBySeason)||void 0===n||null===(s=n[c])||void 0===s?void 0:s.find(e=>String(e.roster_id)===u),g=null===p||void 0===p?void 0:p.owner_id,y=null===(o=r.rostersBySeason)||void 0===o||null===(l=o[c])||void 0===l?void 0:l.find(e=>String(e.roster_id)===d),v=null===y||void 0===y?void 0:y.owner_id;if(g&&v&&!isNaN(c)&&!isNaN(f)&&!isNaN(m)&&e.playoffs)if([g,v].forEach(e=>{i[e]||(i[e]={appearances:new Set,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,medals:{1:0,2:0,3:0},championships:0})}),e.isWinnersBracket?(i[g].appearances.add(c),i[v].appearances.add(c),h.A.debug("PlayoffRecords: Counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Winners Bracket). Match:"),e)):e.isLosersBracket&&h.A.debug("PlayoffRecords: NOT counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Losers Bracket). Match:"),e),e.isWinnersBracket){const t=f>m;if(f===m?(i[g].ties++,i[v].ties++):t?(i[g].wins++,i[v].losses++):(i[v].wins++,i[g].losses++),i[g].pointsFor+=f,i[g].pointsAgainst+=m,i[v].pointsFor+=m,i[v].pointsAgainst+=f,h.A.debug("PlayoffRecords: Processing winners bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),"). Match:"),e),"number"===typeof e.finalSeedingGame&&e.finalSeedingGame>0){let n="",r="";t?(n=g,r=v):m>f&&(n=v,r=g);const a=e.finalSeedingGame;1===a?n&&(i[n].medals[1]++,i[n].championships++,r&&i[r].medals[2]++):3===a&&n&&i[n].medals[3]++}}else e.isLosersBracket&&h.A.debug("PlayoffRecords: Skipping losers bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),") (only counting appearance). Match:"),e);else h.A.warn("PlayoffRecords useEffect: Skipping match ".concat(t," due to invalid data, not a playoff game, or missing owner IDs. Match:"),e,"Team1 Owner: ".concat(g,", Team2 Owner: ").concat(v))}),h.A.debug("PlayoffRecords: Aggregated Playoff Stats Per Team:"),Object.entries(i).forEach(e=>{let[t,n]=e;const r=a(t,null);h.A.debug("  Team: ".concat(r," (Owner ID: ").concat(t,")")),h.A.debug("    Playoff Appearances: ".concat(n.appearances.size," (Years: ").concat(Array.from(n.appearances).join(", "),")")),h.A.debug("    Wins: ".concat(n.wins)),h.A.debug("    Losses: ".concat(n.losses)),h.A.debug("    Ties: ".concat(n.ties)),h.A.debug("    Points For: ".concat(n.pointsFor.toFixed(2))),h.A.debug("    Points Against: ".concat(n.pointsAgainst.toFixed(2))),h.A.debug("    Championships: ".concat(n.championships)),h.A.debug("    2nd Place Finishes: ".concat(n.medals[2])),h.A.debug("    3rd Place Finishes: ".concat(n.medals[3]))});const c={mostPlayoffAppearances:{value:0,entries:[]},mostPlayoffWins:{value:0,entries:[]},totalPlayoffPoints:{value:0,entries:[]},mostPlayoffPointsAgainst:{value:0,entries:[]},mostChampionships:{value:0,entries:[]},most2ndPlaceFinishes:{value:0,entries:[]},most3rdPlaceFinishes:{value:0,entries:[]}},d=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)))};Object.keys(i).forEach(e=>{const n=i[e],r=a(e,null),s={team:r,appearances:n.appearances.size},o={team:r,wins:n.wins},l={team:r,points:n.pointsFor},u={team:r,pointsAgainst:n.pointsAgainst},h={team:r,championships:n.championships},f={team:r,place:n.medals[2]},m={team:r,place:n.medals[3]};d(c.mostPlayoffAppearances,n.appearances.size,s),d(c.mostPlayoffWins,n.wins,o),d(c.totalPlayoffPoints,n.pointsFor,l),d(c.mostPlayoffPointsAgainst,n.pointsAgainst,u),d(c.mostChampionships,n.championships,h),d(c.most2ndPlaceFinishes,n.medals[2],f),d(c.most3rdPlaceFinishes,n.medals[3],m),t("mostPlayoffAppearances",n.appearances.size,s),t("mostPlayoffWins",n.wins,o),t("mostPlayoffPointsFor",n.pointsFor,l),t("mostPlayoffPointsAgainst",n.pointsAgainst,u),t("mostChampionships",n.championships,h),t("mostFirstPlaceFinishes",n.championships,h),t("mostSecondPlaceFinishes",n.medals[2],f),t("mostThirdPlaceFinishes",n.medals[3],m)}),Object.keys(c).forEach(e=>{const t=c[e];t.value!==-1/0&&t.value!==1/0||0!==t.entries.length?t.value===1/0&&(t.value="N/A"):(t.value=0,t.entries=[]),t.entries.length>1&&t.entries.sort((t,n)=>{const r=(t.team||"").localeCompare(n.team||"");if(0!==r)return r;let a,s;return"mostPlayoffAppearances"===e?(a=t.appearances,s=n.appearances):"mostPlayoffWins"===e?(a=t.wins,s=n.wins):"totalPlayoffPoints"===e?(a=t.points,s=n.points):"mostPlayoffPointsAgainst"===e?(a=t.pointsAgainst,s=n.pointsAgainst):"mostChampionships"===e?(a=t.championships,s=n.championships):"most2ndPlaceFinishes"===e||"most3rdPlaceFinishes"===e?(a=t.place,s=n.place):(a=t.value,s=n.value),"number"===typeof a&&"number"===typeof s?s-a:0})}),l(c),m(e)},[n,r,a,s,o]);const p=(e,t)=>"number"===typeof e?"mostPlayoffAppearances"===t||"mostPlayoffWins"===t?e:"totalPlayoffPoints"===t||"mostPlayoffPointsAgainst"===t?e.toFixed(2):e:e,g=[{key:"mostPlayoffAppearances",label:"Most Playoff Appearances"},{key:"mostPlayoffWins",label:"Most Playoff Wins"},{key:"totalPlayoffPoints",label:"Total Playoff Points For"},{key:"mostPlayoffPointsAgainst",label:"Most Playoff Points Against Total"},{key:"mostChampionships",label:"Most Championships"},{key:"most2ndPlaceFinishes",label:"Most 2nd Place Finishes"},{key:"most3rdPlaceFinishes",label:"Most 3rd Place Finishes"}];return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udfc6"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time Playoff Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Historical playoff performance and championship accolades."})]})]})}),0===Object.keys(i).length||g.every(e=>{var t;return 0===(null===(t=i[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl sm:rounded-2xl border border-gray-200",children:[(0,G.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd37\u200d\u2642\ufe0f"}),(0,G.jsx)("h4",{className:"text-xl font-semibold text-gray-800",children:"No Playoff Data Available"}),(0,G.jsx)("p",{className:"text-gray-500",children:"Cannot display records without historical playoff data."})]}):(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ufffd"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:g.map((e,n)=>{const r=i[e.key],a=c[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void d(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:p(r.value,e.key)})})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:r.entries.map((e,t)=>(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:e.team})},t))})})]}),a&&f[e.key]&&f[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"3",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,G.jsx)("div",{className:"space-y-2",children:f[e.key].sort((e,t)=>t.value-e.value).slice(0,5).map((t,n)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.team})]}),(0,G.jsx)("div",{className:"flex items-center gap-4",children:(0,G.jsx)("span",{className:"font-bold text-gray-900",children:p(t.value,e.key)})})]},"".concat(t.team,"-").concat(t.value,"-").concat(n)))})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,G.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},yA=()=>{const{historicalData:e,nflPlayers:n,getTeamName:r,loading:a,error:s}=X(),[o,i]=(0,t.useState)("weekly"),l=(0,t.useMemo)(()=>{if(null===e||void 0===e||!e.matchupsBySeason||!n)return h.A.debug("Missing data for player records:",{hasMatchups:!(null===e||void 0===e||!e.matchupsBySeason),hasNflPlayers:!!n}),null;h.A.debug("Available seasons:",Object.keys(e.matchupsBySeason));const t={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},a={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},s={};for(const[l,c]of Object.entries(e.matchupsBySeason))c.forEach(e=>{[{rosterInfo:e.team1_details,players:e.team1_players,rosterId:e.team1_roster_id},{rosterInfo:e.team2_details,players:e.team2_players,rosterId:e.team2_roster_id}].forEach(a=>{let{rosterInfo:o,players:i,rosterId:c}=a;if(!i||!i.starters||!i.players_points||!o)return;const u=r(o.owner_id,parseInt(l));i.starters.forEach(r=>{if(!r||!i.players_points[r])return;const a=n[r];if(!a)return;let o=a.position;"DEF"===o&&(o="D/ST");const c="".concat(a.first_name," ").concat(a.last_name),d=i.players_points[r]||0;if(!t[o])return;t[o].push({playerName:c,points:d,week:e.week,season:l,teamName:u,playerId:r});const h="".concat(r,"-").concat(l);s[h]||(s[h]={playerName:c,position:o,points:0,games:0,season:l,teamName:u,playerId:r}),s[h].points+=d,s[h].games+=1})})});Object.values(s).forEach(e=>{a[e.position]&&a[e.position].push(e)});const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.sort((e,t)=>t.points-e.points).slice(0,t)},i={weekly:{},seasonal:{}};return Object.keys(t).forEach(e=>{i.weekly[e]=o(t[e]),i.seasonal[e]=o(a[e])}),h.A.debug("Generated player records:",i),i},[e,n,r]);if(a)return(0,G.jsx)("div",{className:"p-8 text-center",children:(0,G.jsx)("div",{className:"text-lg",children:"Loading player records..."})});if(s||!l)return(0,G.jsxs)("div",{className:"p-8 text-center",children:[(0,G.jsx)("div",{className:"text-lg text-red-600",children:"Unable to load player records"}),(0,G.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Please try refreshing the page or check back later."}),s&&(0,G.jsxs)("div",{className:"text-sm text-gray-500 mt-4",children:["Error: ",s.message]})]});const c=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&0!==e.length?(0,G.jsx)("div",{className:"space-y-3",children:e.map((e,n)=>(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:n+1}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.playerName}),(0,G.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:e.teamName})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"font-bold text-blue-600 text-lg",children:e.points.toFixed(1)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[t?"Week ".concat(e.week," "):"".concat(e.games||"N/A"," games "),e.season]})]})]})},"".concat(e.playerId,"-").concat(e.season,"-").concat(e.week||"season")))}):(0,G.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No records available for this position"})},u={QB:"\ud83c\udfc8",RB:"\ud83c\udfc3",WR:"\ud83d\ude4c",TE:"\ud83d\udcaa",K:"\ud83e\uddb5","D/ST":"\ud83d\udee1\ufe0f"};return(0,G.jsxs)("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6",children:[(0,G.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,G.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"\u2b50 Player Records"}),(0,G.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Individual player achievements and performances"}),(0,G.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Note: only players who were in the starting lineup are counted toward these records."})]}),(0,G.jsx)("div",{className:"flex justify-center mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1 flex w-full max-w-sm",children:[(0,G.jsx)("button",{onClick:()=>i("weekly"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("weekly"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Weekly"}),(0,G.jsx)("button",{onClick:()=>i("seasonal"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("seasonal"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Seasonal"})]})}),(0,G.jsx)("div",{className:"space-y-4 sm:space-y-6",children:["QB","RB","WR","TE","K","D/ST"].map(e=>{"".concat(o,"-").concat(e);const t=l[o][e]||[];return(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 sm:p-4 border-b border-gray-200",children:(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("span",{className:"text-xl sm:text-2xl",children:u[e]}),(0,G.jsx)("div",{children:(0,G.jsxs)("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:[e," - ","weekly"===o?"Best Weekly":"Best Seasonal"]})})]})})}),(0,G.jsx)("div",{className:"p-3 sm:p-4",children:c(t,"weekly"===o)})]},e)})})]})};function vA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(t){vA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const wA=()=>{};let SA={},kA={},jA=null,_A={mark:wA,measure:wA};try{"undefined"!==typeof window&&(SA=window),"undefined"!==typeof document&&(kA=document),"undefined"!==typeof MutationObserver&&(jA=MutationObserver),"undefined"!==typeof performance&&(_A=performance)}catch(PF){}const{userAgent:NA=""}=SA.navigator||{},PA=SA,EA=kA,OA=jA,AA=_A,TA=(PA.document,!!EA.documentElement&&!!EA.head&&"function"===typeof EA.addEventListener&&"function"===typeof EA.createElement),IA=~NA.indexOf("MSIE")||~NA.indexOf("Trident/");var CA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},DA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],MA="classic",RA="duotone",LA=[MA,RA,"sharp","sharp-duotone"],BA=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),FA=["fak","fa-kit","fakd","fa-kit-duotone"],WA={fak:"kit","fa-kit":"kit"},UA={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},zA=["fak","fakd"],VA={kit:"fak"},HA={"kit-duotone":"fakd"},GA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qA=["fak","fa-kit","fakd","fa-kit-duotone"],KA={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},YA=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],QA=[1,2,3,4,5,6,7,8,9,10],XA=QA.concat([11,12,13,14,15,16,17,18,19,20]),$A=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",GA.GROUP,GA.SWAP_OPACITY,GA.PRIMARY,GA.SECONDARY].concat(QA.map(e=>"".concat(e,"x"))).concat(XA.map(e=>"w-".concat(e)));const JA="___FONT_AWESOME___",ZA=16,eT="svg-inline--fa",tT="data-fa-i2svg",nT="data-fa-pseudo-element",rT="data-prefix",aT="data-icon",sT="fontawesome-i2svg",oT=["HTML","HEAD","STYLE","SCRIPT"],iT=(()=>{try{return!0}catch(e){return!1}})();function lT(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[MA]})}const cT=bA({},CA);cT[MA]=bA(bA(bA(bA({},{"fa-duotone":"duotone"}),CA[MA]),WA),UA);const uT=lT(cT),dT=bA({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});dT[MA]=bA(bA(bA(bA({},{duotone:"fad"}),dT[MA]),VA),HA);const hT=lT(dT),fT=bA({},KA);fT[MA]=bA(bA({},fT[MA]),{fak:"fa-kit"});const mT=lT(fT),pT=bA({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});pT[MA]=bA(bA({},pT[MA]),{"fa-kit":"fak"});lT(pT);const gT=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,yT="fa-layers-text",vT=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,xT=(lT(bA({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),bT={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},wT=["kit",...$A],ST=PA.FontAwesomeConfig||{};if(EA&&"function"===typeof EA.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=EA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(ST[n]=r)})}const kT={styleDefault:"solid",familyDefault:MA,cssPrefix:"fa",replacementClass:eT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ST.familyPrefix&&(ST.cssPrefix=ST.familyPrefix);const jT=bA(bA({},kT),ST);jT.autoReplaceSvg||(jT.observeMutations=!1);const _T={};Object.keys(kT).forEach(e=>{Object.defineProperty(_T,e,{enumerable:!0,set:function(t){jT[e]=t,NT.forEach(e=>e(_T))},get:function(){return jT[e]}})}),Object.defineProperty(_T,"familyPrefix",{enumerable:!0,set:function(e){jT.cssPrefix=e,NT.forEach(e=>e(_T))},get:function(){return jT.cssPrefix}}),PA.FontAwesomeConfig=_T;const NT=[];const PT=ZA,ET={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function OT(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function AT(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function TT(e){return e.classList?AT(e.classList):(e.getAttribute("class")||"").split(" ").filter(e=>e)}function IT(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function CT(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function DT(e){return e.size!==ET.size||e.x!==ET.x||e.y!==ET.y||e.rotate!==ET.rotate||e.flipX||e.flipY}function MT(){const e="fa",t=eT,n=_T.cssPrefix,r=_T.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");a=a.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(i,".".concat(r))}return a}let RT=!1;function LT(){_T.autoAddCss&&!RT&&(!function(e){if(!e||!TA)return;const t=EA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=EA.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}EA.head.insertBefore(t,r)}(MT()),RT=!0)}var BT={mixout:()=>({dom:{css:MT,insertCss:LT}}),hooks:()=>({beforeDOMElementCreation(){LT()},beforeI2svg(){LT()}})};const FT=PA||{};FT[JA]||(FT[JA]={}),FT[JA].styles||(FT[JA].styles={}),FT[JA].hooks||(FT[JA].hooks={}),FT[JA].shims||(FT[JA].shims=[]);var WT=FT[JA];const UT=[],zT=function(){EA.removeEventListener("DOMContentLoaded",zT),VT=1,UT.map(e=>e())};let VT=!1;function HT(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?IT(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(IT(e[n]),'" '),"").trim()}(n),">").concat(r.map(HT).join(""),"</").concat(t,">")}function GT(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}TA&&(VT=(EA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(EA.readyState),VT||EA.addEventListener("DOMContentLoaded",zT));var qT=function(e,t,n,r){var a,s,o,i=Object.keys(e),l=i.length,c=void 0!==r?function(e,t){return function(n,r,a,s){return e.call(t,n,r,a,s)}}(t,r):t;for(void 0===n?(a=1,o=e[i[0]]):(a=0,o=n);a<l;a++)o=c(o,e[s=i[a]],s,e);return o};function KT(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function YT(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function QT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=YT(t);"function"!==typeof WT.hooks.addPack||r?WT.styles[e]=bA(bA({},WT.styles[e]||{}),a):WT.hooks.addPack(e,YT(t)),"fas"===e&&QT("fa",t)}const{styles:XT,shims:$T}=WT,JT=Object.keys(mT),ZT=JT.reduce((e,t)=>(e[t]=Object.keys(mT[t]),e),{});let eI=null,tI={},nI={},rI={},aI={},sI={};function oI(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(s=a,~wT.indexOf(s))?null:a;var s}const iI=()=>{const e=e=>qT(XT,(t,n,r)=>(t[r]=qT(n,e,{}),t),{});tI=e((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter(e=>"number"===typeof e).forEach(t=>{e[t.toString(16)]=n})}return e}),nI=e((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter(e=>"string"===typeof e).forEach(t=>{e[t]=n})}return e}),sI=e((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach(t=>{e[t]=n}),e});const t="far"in XT||_T.autoFetchSvg,n=qT($T,(e,n)=>{const r=n[0];let a=n[1];const s=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:s}),e},{names:{},unicodes:{}});rI=n.names,aI=n.unicodes,eI=fI(_T.styleDefault,{family:_T.familyDefault})};var lI;function cI(e,t){return(tI[e]||{})[t]}function uI(e,t){return(sI[e]||{})[t]}function dI(e){return rI[e]||{prefix:null,iconName:null}}function hI(){return eI}lI=e=>{eI=fI(e.styleDefault,{family:_T.familyDefault})},NT.push(lI),iI();function fI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=MA}=t,r=uT[n][e];if(n===RA&&!e)return"fad";const a=hT[n][e]||hT[n][r],s=e in WT.styles?e:null;return a||s||null}function mI(e){return e.sort().filter((e,t,n)=>n.indexOf(e)===t)}function pI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=YA.concat(qA),s=mI(e.filter(e=>a.includes(e))),o=mI(e.filter(e=>!YA.includes(e))),i=s.filter(e=>(r=e,!DA.includes(e))),[l=null]=i,c=function(e){let t=MA;const n=JT.reduce((e,t)=>(e[t]="".concat(_T.cssPrefix,"-").concat(t),e),{});return LA.forEach(r=>{(e.includes(n[r])||e.some(e=>ZT[r].includes(e)))&&(t=r)}),t}(s),u=bA(bA({},function(e){let t=[],n=null;return e.forEach(e=>{const r=oI(_T.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:fI(l,{family:c})});return bA(bA(bA({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:s={},config:o={}}=e,i=n===RA,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===o.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!i&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&gI.includes(n)){if(Object.keys(s).find(e=>yI.includes(e))||o.autoFetchSvg){const e=BA.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=uI(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=hI()||"fas");return r}({values:e,family:c,styles:XT,config:_T,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const s="fa"===t?dI(a):{},o=uI(r,a);a=s.iconName||o||a,r=s.prefix||r,"far"!==r||XT.far||!XT.fas||_T.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,u))}const gI=LA.filter(e=>e!==MA||e!==RA),yI=Object.keys(KA).filter(e=>e!==MA).map(e=>Object.keys(KA[e])).flat();let vI=[],xI={};const bI={},wI=Object.keys(bI);function SI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(xI[e]||[]).forEach(e=>{t=e.apply(null,[t,...r])}),t}function kI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(xI[e]||[]).forEach(e=>{e.apply(null,n)})}function jI(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return bI[e]?bI[e].apply(null,t):void 0}function _I(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||hI();if(t)return t=uI(n,t)||t,GT(NI.definitions,n,t)||GT(WT.styles,n,t)}const NI=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(e=>{this.definitions[e]=bA(bA({},this.definitions[e]||{}),r[e]),QT(e,r[e]);const t=mT[MA][e];t&&QT(t,r[e]),iI()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(t=>{const{prefix:r,iconName:a,icon:s}=n[t],o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach(t=>{"string"===typeof t&&(e[r][t]=s)}),e[r][a]=s}),e}},PI={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return TA?(kI("beforeI2svg",e),jI("pseudoElements2svg",e),jI("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===_T.autoReplaceSvg&&(_T.autoReplaceSvg=!0),_T.observeMutations=!0,n=()=>{AI({autoReplaceSvgRoot:t}),kI("watch",e)},TA&&(VT?setTimeout(n,0):UT.push(n))}},EI={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:uI(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=fI(e[0]);return{prefix:n,iconName:uI(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(_T.cssPrefix,"-"))>-1||e.match(gT))){const t=pI(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||hI(),iconName:uI(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=hI();return{prefix:t,iconName:uI(t,e)||e}}}},OI={noAuto:()=>{_T.autoReplaceSvg=!1,_T.observeMutations=!1,kI("noAuto")},config:_T,dom:PI,parse:EI,library:NI,findIconDefinition:_I,toHtml:HT},AI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=EA}=e;(Object.keys(WT.styles).length>0||_T.autoFetchSvg)&&TA&&_T.autoReplaceSvg&&OI.dom.i2svg({node:t})};function TI(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(e=>HT(e))}}),Object.defineProperty(e,"node",{get:function(){if(!TA)return;const t=EA.createElement("div");return t.innerHTML=e.html,t.children}}),e}function II(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:s,symbol:o,title:i,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,m=zA.includes(r),p=[_T.replacementClass,a?"".concat(_T.cssPrefix,"-").concat(a):""].filter(e=>-1===u.classes.indexOf(e)).filter(e=>""!==e||!!e).concat(u.classes).join(" ");let g={children:[],attributes:bA(bA({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:p,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)})};const y=m&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[tT]=""),i&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||OT())},children:[i]}),delete g.attributes.title);const v=bA(bA({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:s,symbol:o,styles:bA(bA({},y),u.styles)}),{children:x,attributes:b}=n.found&&t.found?jI("generateAbstractMask",v)||{children:[],attributes:{}}:jI("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=x,v.attributes=b,o?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:s}=e;const o=!0===s?"".concat(t,"-").concat(_T.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:bA(bA({},a),{},{id:o}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:a,styles:s,transform:o}=e;if(DT(o)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=CT(bA(bA({},s),{},{"transform-origin":"".concat(r.x+o.x/16,"em ").concat(r.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(v)}function CI(e){const{content:t,width:n,height:r,transform:a,title:s,extra:o,watchable:i=!1}=e,l=bA(bA(bA({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});i&&(l[tT]="");const c=bA({},o.styles);DT(a)&&(c.transform=function(e){let{transform:t,width:n=ZA,height:r=ZA,startCentered:a=!1}=e,s="";return s+=a&&IA?"translate(".concat(t.x/PT-n/2,"em, ").concat(t.y/PT-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/PT,"em), calc(-50% + ").concat(t.y/PT,"em)) "):"translate(".concat(t.x/PT,"em, ").concat(t.y/PT,"em) "),s+="scale(".concat(t.size/PT*(t.flipX?-1:1),", ").concat(t.size/PT*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:a,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=CT(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}const{styles:DI}=WT;function MI(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_T.cssPrefix,"-").concat(bT.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_T.cssPrefix,"-").concat(bT.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_T.cssPrefix,"-").concat(bT.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const RI={found:!1,width:512,height:512};function LI(e,t){let n=t;return"fa"===t&&null!==_T.styleDefault&&(t=hI()),new Promise((r,a)=>{if("fa"===n){const n=dI(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&DI[t]&&DI[t][e]){return r(MI(DI[t][e]))}!function(e,t){iT||_T.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(bA(bA({},RI),{},{icon:_T.showMissingIcons&&e&&jI("missingIconAbstract")||{}}))})}const BI=()=>{},FI=_T.measurePerformance&&AA&&AA.mark&&AA.measure?AA:{mark:BI,measure:BI},WI='FA "6.7.2"',UI=e=>{FI.mark("".concat(WI," ").concat(e," ends")),FI.measure("".concat(WI," ").concat(e),"".concat(WI," ").concat(e," begins"),"".concat(WI," ").concat(e," ends"))};var zI=e=>(FI.mark("".concat(WI," ").concat(e," begins")),()=>UI(e));const VI=()=>{};function HI(e){return"string"===typeof(e.getAttribute?e.getAttribute(tT):null)}function GI(e){return EA.createElementNS("http://www.w3.org/2000/svg",e)}function qI(e){return EA.createElement(e)}function KI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?GI:qI)}=t;if("string"===typeof e)return EA.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])});return(e.children||[]).forEach(function(e){r.appendChild(KI(e,{ceFn:n}))}),r}const YI={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(e=>{t.parentNode.insertBefore(KI(e),t)}),null===t.getAttribute(tT)&&_T.keepOriginalSource){let e=EA.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~TT(t).indexOf(_T.replacementClass))return YI.replace(e);const r=new RegExp("".concat(_T.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce((e,t)=>(t===_T.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map(e=>HT(e)).join("\n");t.setAttribute(tT,""),t.innerHTML=a}};function QI(e){e()}function XI(e,t){const n="function"===typeof t?t:VI;if(0===e.length)n();else{let t=QI;"async"===_T.mutateApproach&&(t=PA.requestAnimationFrame||QI),t(()=>{const t=!0===_T.autoReplaceSvg?YI.replace:YI[_T.autoReplaceSvg]||YI.replace,r=zI("mutate");e.map(t),r(),n()})}}let $I=!1;function JI(){$I=!0}function ZI(){$I=!1}let eC=null;function tC(e){if(!OA)return;if(!_T.observeMutations)return;const{treeCallback:t=VI,nodeCallback:n=VI,pseudoElementsCallback:r=VI,observeMutationsRoot:a=EA}=e;eC=new OA(e=>{if($I)return;const a=hI();AT(e).forEach(e=>{if("childList"===e.type&&e.addedNodes.length>0&&!HI(e.addedNodes[0])&&(_T.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&_T.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&HI(e.target)&&~xT.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(rT):null,n=e.getAttribute?e.getAttribute(aT):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=pI(TT(e.target));e.target.setAttribute(rT,t||a),n&&e.target.setAttribute(aT,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(_T.replacementClass)&&n(e.target);var s})}),TA&&eC.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function nC(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=pI(TT(e));return a.prefix||(a.prefix=hI()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function(e,t){return(nI[e]||{})[t]}(a.prefix,e.innerText)||cI(a.prefix,KT(e.innerText))),!a.iconName&&_T.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function rC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=nC(e),s=function(e){const t=AT(e.attributes).reduce((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return _T.autoA11y&&(n?t["aria-labelledby"]="".concat(_T.replacementClass,"-title-").concat(r||OT()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=SI("parseNodeAttributes",{},e);let i=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e},{})),n}(e):[];return bA({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:ET,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:i,attributes:s}},o)}const{styles:aC}=WT;function sC(e){const t="nest"===_T.autoReplaceSvg?rC(e,{styleParser:!1}):rC(e);return~t.extra.classes.indexOf(yT)?jI("generateLayersText",e,t):jI("generateSvgReplacementMutation",e,t)}function oC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!TA)return Promise.resolve();const n=EA.documentElement.classList,r=e=>n.add("".concat(sT,"-").concat(e)),a=e=>n.remove("".concat(sT,"-").concat(e)),s=_T.autoFetchSvg?[...FA,...YA]:DA.concat(Object.keys(aC));s.includes("fa")||s.push("fa");const o=[".".concat(yT,":not([").concat(tT,"])")].concat(s.map(e=>".".concat(e,":not([").concat(tT,"])"))).join(", ");if(0===o.length)return Promise.resolve();let i=[];try{i=AT(e.querySelectorAll(o))}catch(u){}if(!(i.length>0))return Promise.resolve();r("pending"),a("complete");const l=zI("onTree"),c=i.reduce((e,t)=>{try{const n=sC(t);n&&e.push(n)}catch(u){iT||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise((e,n)=>{Promise.all(c).then(n=>{XI(n,()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()})}).catch(e=>{l(),n(e)})})}function iC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;sC(e).then(e=>{e&&XI([e],t)})}const lC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=ET,symbol:r=!1,mask:a=null,maskId:s=null,title:o=null,titleId:i=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return TI(bA({type:"icon"},e),()=>(kI("beforeDOMElementCreation",{iconDefinition:e,params:t}),_T.autoA11y&&(o?c["aria-labelledby"]="".concat(_T.replacementClass,"-title-").concat(i||OT()):(c["aria-hidden"]="true",c.focusable="false")),II({icons:{main:MI(f),mask:a?MI(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:bA(bA({},ET),n),symbol:r,title:o,maskId:s,titleId:i,extra:{attributes:c,styles:u,classes:l}})))};var cC={mixout(){return{icon:(e=lC,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:_I(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:_I(a||{})),e(r,bA(bA({},n),{},{mask:a}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=oC,e.nodeCallback=iC,e)}),provides(e){e.i2svg=function(e){const{node:t=EA,callback:n=()=>{}}=e;return oC(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:s,transform:o,symbol:i,mask:l,maskId:c,extra:u}=t;return new Promise((t,d)=>{Promise.all([LI(n,s),l.iconName?LI(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(l=>{let[d,h]=l;t([e,II({icons:{main:d,mask:h},prefix:s,iconName:n,transform:o,symbol:i,maskId:c,title:r,titleId:a,extra:u,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:s}=e;const o=CT(s);let i;return o.length>0&&(n.style=o),DT(a)&&(i=jI("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(i||r.icon),{children:t,attributes:n}}}},uC={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return TI({type:"layer"},()=>{kI("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(e=>{Array.isArray(e)?e.map(e=>{r=r.concat(e.abstract)}):r=r.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(_T.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},dC={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:s={}}=t;return TI({type:"counter",content:e},()=>(kI("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=bA(bA(bA({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=CT(r.styles);s.length>0&&(a.style=s);const o=[];return o.push({tag:"span",attributes:a,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:a,styles:s,classes:["".concat(_T.cssPrefix,"-layers-counter"),...r]}})))}})},hC={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=ET,title:r=null,classes:a=[],attributes:s={},styles:o={}}=t;return TI({type:"text",content:e},()=>(kI("beforeDOMElementCreation",{content:e,params:t}),CI({content:e,transform:bA(bA({},ET),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(_T.cssPrefix,"-layers-text"),...a]}})))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let s=null,o=null;if(IA){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,o=n.height/t}return _T.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,CI({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:a,watchable:!0})])}}};const fC=new RegExp('"',"ug"),mC=[1105920,1112319],pC=bA(bA(bA(bA({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),gC=Object.keys(pC).reduce((e,t)=>(e[t.toLowerCase()]=pC[t],e),{}),yC=Object.keys(gC).reduce((e,t)=>{const n=gC[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function vC(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((r,a)=>{if(null!==e.getAttribute(n))return r();const s=AT(e.children).filter(e=>e.getAttribute(nT)===t)[0],o=PA.getComputedStyle(e,t),i=o.getPropertyValue("font-family"),l=i.match(vT),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(gC[n]||{})[a]||yC[n]}(i,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(fC,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=mC[0]&&n<=mC[1],a=2===t.length&&t[0]===t[1];return{value:KT(a?t[0]:t),isSecondary:r||a}}(u),m=l[0].startsWith("FontAwesome");let p=cI(d,h),g=p;if(m){const e=function(e){const t=aI[e],n=cI("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(p=e.iconName,d=e.prefix)}if(!p||f||s&&s.getAttribute(rT)===d&&s.getAttribute(aT)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const o={iconName:null,title:null,titleId:null,prefix:null,transform:ET,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:i}=o;i.attributes[nT]=t,LI(p,d).then(a=>{const s=II(bA(bA({},o),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:i,watchable:!0})),l=EA.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map(e=>HT(e)).join("\n"),e.removeAttribute(n),r()}).catch(a)}}else r()})}function xC(e){return Promise.all([vC(e,"::before"),vC(e,"::after")])}function bC(e){return e.parentNode!==document.head&&!~oT.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(nT)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function wC(e){if(TA)return new Promise((t,n)=>{const r=AT(e.querySelectorAll("*")).filter(bC).map(xC),a=zI("searchPseudoElements");JI(),Promise.all(r).then(()=>{a(),ZI(),t()}).catch(()=>{a(),ZI(),n()})})}var SC={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=wC,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=EA}=e;_T.searchPseudoElements&&wC(t)}}};let kC=!1;var jC={mixout:()=>({dom:{unwatch(){JI(),kC=!0}}}),hooks:()=>({bootstrap(){tC(SI("mutationObserverCallbacks",{}))},noAuto(){eC&&eC.disconnect()},watch(e){const{observeMutationsRoot:t}=e;kC?ZI():tC(SI("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const _C=e=>e.toLowerCase().split(" ").reduce((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var NC={mixout:()=>({parse:{transform:e=>_C(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=_C(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),i="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:s,inner:{transform:"".concat(o," ").concat(i," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:bA({},c.outer),children:[{tag:"g",attributes:bA({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:bA(bA({},t.icon.attributes),c.path)}]}]}}}};const PC={x:0,y:0,width:"100%",height:"100%"};function EC(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var OC={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?pI(n.split(" ").map(e=>e.trim())):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=hI()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:s,transform:o}=e;const{width:i,icon:l}=r,{width:c,icon:u}=a,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),i="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(i)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:i}),h={tag:"rect",attributes:bA(bA({},PC),{},{fill:"white"})},f=l.children?{children:l.children.map(EC)}:{},m={tag:"g",attributes:bA({},d.inner),children:[EC(bA({tag:l.tag,attributes:bA(bA({},l.attributes),d.path)},f))]},p={tag:"g",attributes:bA({},d.outer),children:[m]},g="mask-".concat(s||OT()),y="clip-".concat(s||OT()),v={tag:"mask",attributes:bA(bA({},PC),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(b=u,"g"===b.tag?b.children:[b])},v]};var b;return t.push(x,{tag:"rect",attributes:bA({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},PC)}),{children:t,attributes:n}}}},AC={provides(e){let t=!1;PA.matchMedia&&(t=PA.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:bA(bA({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=bA(bA({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:bA(bA({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:bA(bA({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:bA(bA({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:bA(bA({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:bA(bA({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:bA(bA({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:bA(bA({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;vI=e,xI={},Object.keys(bI).forEach(e=>{-1===wI.indexOf(e)&&delete bI[e]}),vI.forEach(e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach(r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){const t=e.hooks();Object.keys(t).forEach(e=>{xI[e]||(xI[e]=[]),xI[e].push(t[e])})}e.provides&&e.provides(bI)})}([BT,cC,uC,dC,hC,SC,jC,NC,OC,AC,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:OI});const TC=OI.parse,IC=OI.icon;function CC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function DC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(t){DC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||WC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(e){return function(e){if(Array.isArray(e))return CC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||WC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FC(e){return FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FC(e)}function WC(e,t){if(e){if("string"==typeof e)return CC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CC(e,t):void 0}}var UC;try{var zC=n(5900);UC=zC.version}catch(PF){UC="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FA_VERSION||"7.0.0"}function VC(e){var t=e.beat,n=e.fade,r=e.beatFade,a=e.bounce,s=e.shake,o=e.flash,i=e.spin,l=e.spinPulse,c=e.spinReverse,u=e.pulse,d=e.fixedWidth,h=e.inverse,f=e.border,m=e.listItem,p=e.flip,g=e.size,y=e.rotation,v=e.pull,x=e.swapOpacity,b=e.rotateBy,w=e.widthAuto,S=function(e,t){for(var n=LC(e.split("-"),2),r=n[0],a=n[1],s=LC(t.split("-"),2),o=s[0],i=s[1],l=r.split("."),c=o.split("."),u=0;u<Math.max(l.length,c.length);u++){var d=l[u]||"0",h=c[u]||"0",f=parseInt(d,10),m=parseInt(h,10);if(f!==m)return f>m}for(var p=0;p<Math.max(l.length,c.length);p++){var g=l[p]||"0",y=c[p]||"0";if(g!==y&&g.length!==y.length)return g.length<y.length}return!(a&&!i)}(UC,"7.0.0"),k=DC(DC(DC(DC(DC(DC({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":u,"fa-fw":d,"fa-inverse":h,"fa-border":f,"fa-li":m,"fa-flip":!0===p,"fa-flip-horizontal":"horizontal"===p||"both"===p,"fa-flip-vertical":"vertical"===p||"both"===p},"fa-".concat(g),"undefined"!==typeof g&&null!==g),"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),"fa-swap-opacity",x),"fa-rotate-by",S&&b),"fa-width-auto",S&&w);return Object.keys(k).map(function(e){return k[e]?e:null}).filter(function(e){return e})}function HC(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var GC=["style"];var qC=!1;try{qC=!0}catch(PF){}function KC(e){return e&&"object"===FC(e)&&e.prefix&&e.iconName&&e.icon?e:TC.icon?TC.icon(e):null===e?null:e&&"object"===FC(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function YC(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?DC({},e,t):{}}var QC={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},XC=t.forwardRef(function(e,t){var n=RC(RC({},QC),e),r=n.icon,a=n.mask,s=n.symbol,o=n.className,i=n.title,l=n.titleId,c=n.maskId,u=KC(r),d=YC("classes",[].concat(BC(VC(n)),BC((o||"").split(" ")))),h=YC("transform","string"===typeof n.transform?TC.transform(n.transform):n.transform),f=YC("mask",KC(a)),m=IC(u,RC(RC(RC(RC({},d),h),f),{},{symbol:s,title:i,titleId:l,maskId:c}));if(!m)return function(){var e;!qC&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=m.abstract,g={ref:t};return Object.keys(n).forEach(function(e){QC.hasOwnProperty(e)||(g[e]=n[e])}),$C(p[0],g)});XC.displayName="FontAwesomeIcon",XC.propTypes={beat:Vr().bool,border:Vr().bool,beatFade:Vr().bool,bounce:Vr().bool,className:Vr().string,fade:Vr().bool,flash:Vr().bool,mask:Vr().oneOfType([Vr().object,Vr().array,Vr().string]),maskId:Vr().string,fixedWidth:Vr().bool,inverse:Vr().bool,flip:Vr().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Vr().oneOfType([Vr().object,Vr().array,Vr().string]),listItem:Vr().bool,pull:Vr().oneOf(["right","left"]),pulse:Vr().bool,rotation:Vr().oneOf([0,90,180,270]),rotateBy:Vr().bool,shake:Vr().bool,size:Vr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Vr().bool,spinPulse:Vr().bool,spinReverse:Vr().bool,symbol:Vr().oneOfType([Vr().bool,Vr().string]),title:Vr().string,titleId:Vr().string,transform:Vr().oneOfType([Vr().string,Vr().object]),swapOpacity:Vr().bool,widthAuto:Vr().bool};var $C=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map(function(n){return e(t,n)}),s=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),a=HC(t.slice(0,r)),s=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[a]=s,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[HC(t)]=r}return e},{attrs:{}}),o=r.style,i=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,GC);return s.attrs.style=RC(RC({},s.attrs.style),i),t.apply(void 0,[n.tag,RC(RC({},s.attrs),l)].concat(BC(a)))}.bind(null,t.createElement);const JC={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},ZC={prefix:"fas",iconName:"repeat",icon:[512,512,[128257],"f363","M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"]},eD={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},tD={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0L176 0c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8L24 64C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9L192 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-26.1 0C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24L446.4 64c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112l84.4 0c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6l84.4 0c-5.1 66.3-31.1 111.2-63 142.3z"]};const nD=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,currentSeason:a,nflState:o,loading:i,error:l}=X(),[c,d]=(0,t.useState)("totalWins"),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)({}),w={totalWins:{title:"Total Wins",description:"Career victory milestones celebrating the most successful franchises in league history. Every win counts toward these legendary achievements.",icon:"\ud83c\udfc6",thresholds:[25,50,75,100,150],color:"green"},totalLosses:{title:"Total Losses",description:"Career loss milestones that track the journey through adversity. Sometimes the path to greatness includes learning from defeat.",icon:"\ud83d\udc80",thresholds:[25,50,75,100,150],color:"red"},allPlayWins:{title:"All-Play Wins",description:"All-Play wins show how often your score would beat every other team that week. This milestone celebrates consistent high-level performance.",icon:"\u26a1",thresholds:[50,100,200,300,500],color:"blue"},allPlayLosses:{title:"All-Play Losses",description:"All-Play losses track how many teams would have beaten you each week. This milestone shows the journey through challenging performances.",icon:"\ud83d\udcb8",thresholds:[50,100,200,300,500],color:"purple"},totalPoints:{title:"Total Points",description:"Career scoring milestones recognizing the highest cumulative point totals in league history. These achievements showcase offensive consistency and excellence.",icon:"\ud83d\udcca",thresholds:[1e3,2500,5e3,7500,1e4],color:"yellow"},highScores:{title:"High Scores",description:"Milestones for achieving the most high-scoring weeks (top 3 performances each week). Recognition for explosive offensive performances.",icon:"\ud83d\ude80",thresholds:[5,10,25,50,75],color:"orange"}},S=e=>{const t=JSON.parse(JSON.stringify(w)),n=Object.keys(e||{}).length;return Object.keys(t).forEach(r=>{const a=t[r],s=[...a.thresholds];let o=0,i=0;Object.values(e).forEach(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}o=Math.max(o,t)});const l=Math.max(...s);if(n>0&&(i=Object.values(e).filter(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}return t>=l}).length),o>=l){const e=k(r,l,o);a.thresholds=[...new Set([...s,...e])].sort((e,t)=>e-t)}}),t},k=(e,t,n)=>{const r=[];let a=t;const s={totalWins:[25,50,25,25,50],totalLosses:[25,50,25,25,50],allPlayWins:[100,200,200,300,500],allPlayLosses:[100,200,200,300,500],totalPoints:[2500,2500,5e3,5e3,1e4],highScores:[25,25,50,50,100]}[e]||[50,100,100,200,500];let o=0;for(;a<=n+2*s[o%s.length]&&(a+=s[o%s.length],r.push(a),o++,!(r.length>=10)););return r},j=Object.keys(p).length>0?p:w;(0,t.useEffect)(()=>{if(!i&&e)try{_()}catch(t){h.A.error("Error calculating milestones:",t)}finally{v(!1)}else v(!0)},[e,i]);const _=()=>{h.A.debug("=== SIMPLE MILESTONE TRACKER START ===");const{careerDPRData:t}=s(e,0,n,o);if(!t||0===t.length)return void h.A.warn("No career data found");const i={},l={},c={};t.forEach(e=>{const t=e.ownerId,s=r(t,a);i[t]={wins:0,losses:0,ties:0,points:0,allPlayWins:0,allPlayLosses:0,highScores:0,finalWins:e.wins||0,finalLosses:e.losses||0,finalTies:e.ties||0,finalPoints:e.pointsFor||0,finalAllPlayWins:e.allPlayWins||0,finalAllPlayLosses:e.allPlayLosses||0,finalHighScores:e.topScoreWeeksCount||0},l[t]={name:e.teamName||n(t,a),avatar:null===s||void 0===s?void 0:s.avatar}});let u=S(i);Object.keys(u).forEach(e=>{c[e]={},u[e].thresholds.forEach(t=>{c[e][t]=[]})});const d=Object.keys(e.matchupsBySeason||{}).sort((e,t)=>parseInt(e)-parseInt(t));let f=0;h.A.debug("Processing ".concat(d.length," seasons chronologically")),d.forEach(t=>{var n,r;const a=(null===(n=e.matchupsBySeason)||void 0===n?void 0:n[t])||[],s=(null===(r=e.rostersBySeason)||void 0===r?void 0:r[t])||[],o={};a.forEach(e=>{const t=e.week;o[t]||(o[t]=[]),o[t].push(e)});const d=Object.keys(o).sort((e,t)=>parseInt(e)-parseInt(t));d.forEach(e=>{f++;const n=o[e],r=[];n.forEach(e=>{const t=s.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=null!==e.team2_roster_id&&void 0!==e.team2_roster_id?s.find(t=>String(t.roster_id)===String(e.team2_roster_id)):null;if(!t)return;const a=String(t.owner_id),o=n?String(n.owner_id):null,l=parseFloat(e.team1_score)||0,c=parseFloat(e.team2_score)||0;i[a]&&(i[a].points+=l,o&&i[o]&&(i[o].points+=c),o&&i[o]&&(l>c?(i[a].wins++,i[o].losses++):c>l?(i[o].wins++,i[a].losses++):(i[a].ties++,i[o].ties++)),r.push({ownerId:a,score:l}),o&&r.push({ownerId:o,score:c}))}),r.forEach(e=>{r.forEach(t=>{e.ownerId!==t.ownerId&&(e.score>t.score?i[e.ownerId].allPlayWins++:e.score<t.score&&i[e.ownerId].allPlayLosses++)})});const a=[...r].sort((e,t)=>t.score-e.score);for(let t=0;t<Math.min(3,a.length);t++)i[a[t].ownerId].highScores++;u=S(i),Object.keys(u).forEach(e=>{c[e]||(c[e]={}),u[e].thresholds.forEach(t=>{void 0===c[e][t]&&(c[e][t]=[])})}),Object.keys(i).forEach(n=>{const r=i[n],a={totalWins:r.wins,totalLosses:r.losses,allPlayWins:r.allPlayWins,allPlayLosses:r.allPlayLosses,totalPoints:r.points,highScores:r.highScores};Object.keys(a).forEach(r=>{const s=a[r];(u[r]||w[r]).thresholds.forEach(a=>{if(s>=a){var o,i;if(!c[r][a].some(e=>e.ownerId===n))c[r][a].push({ownerId:n,season:parseInt(t),week:parseInt(e),globalWeek:f,value:s,teamName:(null===(o=l[n])||void 0===o?void 0:o.name)||"Team ".concat(n)}),h.A.info("\ud83c\udfc6 ".concat(r," ").concat(a,": ").concat(null===(i=l[n])||void 0===i?void 0:i.name," achieved in S").concat(t,"W").concat(e," (value: ").concat(s,")"))}})})})})});const p={};Object.keys(i).forEach(e=>{p[e]={},Object.keys(w).forEach(t=>{p[e][t]={};const n=i[e]["totalWins"===t?"finalWins":"totalLosses"===t?"finalLosses":"allPlayWins"===t?"finalAllPlayWins":"allPlayLosses"===t?"finalAllPlayLosses":"totalPoints"===t?"finalPoints":"finalHighScores"];w[t].thresholds.forEach(r=>{p[e][t][r]={achieved:n>=r,currentValue:n,remaining:Math.max(0,r-n),progress:Math.min(100,n/r*100)}})})}),Object.keys(i).forEach(e=>{i[e].achievements=p[e]}),g(u),m({teamStats:i,allRosters:l,achievementHistory:c}),h.A.debug("=== MILESTONE TRACKING COMPLETE ==="),h.A.debug("Achievement timeline summary:",Object.keys(c).map(e=>({milestone:e,achievements:Object.keys(c[e]).map(t=>{var n;return{threshold:t,count:c[e][t].length,firstAchiever:(null===(n=c[e][t][0])||void 0===n?void 0:n.teamName)||"None"}})})))},N=(e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];if(null!==s&&void 0!==s&&s.achieved){var o,i,l;const a=null===(o=f.achievementHistory)||void 0===o||null===(i=o[e])||void 0===i||null===(l=i[t])||void 0===l?void 0:l.find(e=>e.ownerId===r);n.push(u(u({ownerId:r},f.allRosters[r]),{},{currentValue:s.currentValue,timingInfo:a||null}))}}),n.sort((e,t)=>e.timingInfo&&t.timingInfo?e.timingInfo.globalWeek-t.timingInfo.globalWeek:t.currentValue-e.currentValue)},P=(e,t)=>{const n=N(e,t),r=Object.keys(f.teamStats||{}).length;return n.length===r&&r>0},E=(e,t)=>"totalPoints"===t?e.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}):e.toString();return l?(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsxs)("p",{className:"text-red-600",children:["Error loading data: ",l]})}):y?(0,G.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,G.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading milestones..."})]}):(0,G.jsxs)("div",{className:"space-y-6",children:[(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 bg-gray-50 p-4 rounded-lg",children:Object.keys(j).map(e=>(0,G.jsxs)("button",{onClick:()=>d(e),className:"p-3 rounded-lg text-sm font-medium transition-all duration-200 ".concat(c===e?"bg-".concat(j[e].color,"-100 text-").concat(j[e].color,"-800 border-2 border-").concat(j[e].color,"-300"):"bg-white text-gray-600 border-2 border-transparent hover:bg-gray-100"),children:[(0,G.jsx)("div",{className:"text-lg mb-1",children:j[e].icon}),(0,G.jsx)("div",{className:"text-xs leading-tight",children:j[e].title})]},e))}),c&&j[c]&&(0,G.jsxs)("div",{className:"space-y-6",children:[(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,G.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,G.jsx)("div",{className:"text-4xl sm:text-5xl",children:j[c].icon}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:j[c].title}),(0,G.jsx)("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:j[c].description})]})]})}),(0,G.jsx)("div",{className:"space-y-4",children:((e=>{var t;const n=(null===(t=(Object.keys(p).length>0?p:w)[e])||void 0===t?void 0:t.thresholds)||[];if(null===f||void 0===f||!f.teamStats)return n.slice().sort((e,t)=>t-e);let r=0;Object.keys(f.teamStats).forEach(t=>{const n=f.teamStats[t];if(!n)return;let a=0;switch(e){case"totalWins":a=n.finalWins||0;break;case"totalLosses":a=n.finalLosses||0;break;case"allPlayWins":a=n.finalAllPlayWins||0;break;case"allPlayLosses":a=n.finalAllPlayLosses||0;break;case"totalPoints":a=n.finalPoints||0;break;case"highScores":a=n.finalHighScores||0;break;default:a=0}r=Math.max(r,a)});const a=n.slice().sort((e,t)=>e-t);let s=a.findIndex(e=>e>r);if(-1===s)return a.slice().sort((e,t)=>t-e);return a.slice(0,s+1).sort((e,t)=>t-e)})(c)||[]).map(e=>{const t=N(c,e),n=((e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];(null===s||void 0===s||!s.achieved)&&(null===s||void 0===s?void 0:s.remaining)<=10&&(null===s||void 0===s?void 0:s.remaining)>0&&n.push(u(u({ownerId:r},f.allRosters[r]),{},{remaining:s.remaining,currentValue:s.currentValue}))}),n.sort((e,t)=>e.remaining-t.remaining)})(c,e),r=((e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];s&&n.push(u(u({ownerId:r},f.allRosters[r]),{},{currentValue:s.currentValue,remaining:s.remaining,progress:s.progress||0,achieved:s.achieved}))}),n.sort((e,t)=>e.achieved&&!t.achieved?-1:!e.achieved&&t.achieved?1:t.currentValue-e.currentValue)})(c,e),a=((e,t)=>{var n,r;if(null===(n=f.achievementHistory)||void 0===n||null===(r=n[e])||void 0===r||!r[t])return null;const a=f.achievementHistory[e][t];if(0===a.length)return null;const s=[...a].sort((e,t)=>e.globalWeek-t.globalWeek),o=s[0];return{firstAchiever:{ownerId:o.ownerId,name:o.teamName,globalWeek:o.globalWeek,season:o.season,week:o.week},allAchievements:s.map(e=>({ownerId:e.ownerId,name:e.teamName,globalWeek:e.globalWeek,weeksAfterFirst:e.globalWeek-o.globalWeek,season:e.season,week:e.week,achievedIn:e.globalWeek}))}})(c,e),s=P(c,e),o=((e,t)=>{const n="".concat(e,"-").concat(t),r=P(e,t);return void 0!==x[n]?x[n]:!r})(c,e);return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,G.jsx)("div",{className:"p-3 sm:p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>((e,t)=>{const n="".concat(e,"-").concat(t);b(e=>u(u({},e),{},{[n]:!e[n]}))})(c,e),children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-3 h-3 rounded-full bg-".concat(j[c].color,"-500")}),(0,G.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[E(e,c)," ",j[c].title]}),t.length>0&&(0,G.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-".concat(j[c].color,"-100 text-").concat(j[c].color,"-800"),children:[t.length," achieved"]})]}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,G.jsx)("span",{className:"text-xs text-gray-500 hidden sm:inline",children:"All teams achieved"}),o?(0,G.jsx)(XC,{icon:JC,className:"h-5 w-5 text-gray-400"}):(0,G.jsx)(XC,{icon:eD,className:"h-5 w-5 text-gray-400"})]})]})}),o&&(0,G.jsxs)("div",{className:"border-t border-gray-200 p-4 sm:p-6 space-y-4",children:[t.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,G.jsx)(XC,{icon:tD,className:"h-4 w-4 text-yellow-500 mr-2"}),"Achievement Timeline (",t.length,")"]}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,G.jsx)("thead",{className:"bg-".concat(j[c].color,"-50"),children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Team"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Season"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Week"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Weeks"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Difference"})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-200",children:null!==a&&void 0!==a&&a.allAchievements?a.allAchievements.map((e,t)=>{var n;const r=0===t;return(0,G.jsxs)("tr",{className:r?"bg-yellow-50":"hover:bg-gray-50",children:[(0,G.jsx)("td",{className:"px-3 py-2",children:(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===(n=f.allRosters[e.ownerId])||void 0===n?void 0:n.avatar)&&(0,G.jsx)("img",{src:f.allRosters[e.ownerId].avatar,alt:e.name,className:"w-6 h-6 rounded-full"}),(0,G.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-900":"text-gray-900"),children:e.name}),r&&(0,G.jsx)("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-1 py-0.5 rounded",children:"1st"})]})}),(0,G.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.season}),(0,G.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.week}),(0,G.jsx)("td",{className:"px-3 py-2",children:(0,G.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-700":"text-gray-700"),children:e.achievedIn})}),(0,G.jsx)("td",{className:"px-3 py-2",children:r?(0,G.jsx)("span",{className:"text-sm font-medium text-yellow-700",children:"First"}):(0,G.jsxs)("span",{className:"text-sm text-red-600",children:["+",e.weeksAfterFirst," weeks"]})})]},e.ownerId)}):(0,G.jsx)("tr",{children:(0,G.jsx)("td",{colSpan:"5",className:"px-3 py-4 text-center text-sm text-gray-500",children:"No timing data available for this milestone"})})})]})})]}),n.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,G.jsx)("span",{className:"text-orange-500 mr-2",children:"\ud83d\udc40"}),"Close to Achievement (",n.length,")"]}),(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map(e=>(0,G.jsx)("div",{className:"p-3 rounded-lg bg-orange-50 border border-orange-200",children:(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar&&(0,G.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,G.jsxs)("p",{className:"text-xs text-orange-600",children:[e.remaining," away (",E(e.currentValue,c),")"]})]})]})},e.ownerId))})]}),r.filter(e=>!e.achieved&&e.remaining>10).length>0&&(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Progress Tracker"}),(0,G.jsx)("div",{className:"space-y-2",children:r.filter(e=>!e.achieved&&e.remaining>10).slice(0,5).map(t=>(0,G.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[t.avatar&&(0,G.jsx)("img",{src:t.avatar,alt:t.name,className:"w-6 h-6 rounded-full"}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.name})]}),(0,G.jsxs)("span",{className:"text-xs text-gray-600",children:[E(t.currentValue,c)," / ",E(e,c)]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("div",{className:"flex-1 w-full bg-gray-200 rounded-full h-2",children:(0,G.jsx)("div",{className:"bg-".concat(j[c].color,"-500 h-2 rounded-full transition-all duration-300"),style:{width:"".concat(Math.min(100,t.progress),"%")}})}),(0,G.jsx)("div",{className:"w-12 text-right",children:(0,G.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[Math.min(100,Math.round(t.progress)),"%"]})})]})]},t.ownerId))})]})]})]},e)})})]})]})},rD=()=>{const[e,n]=(0,t.useState)("overall"),{historicalData:r,processedSeasonalRecords:a,getTeamName:o,loading:i,error:l}=X();if(i)return(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading league data..."});if(l)return(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading data: ",l.message]});const c=[],d=new Set;if(null!==r&&void 0!==r&&r.matchupsBySeason)for(const t in r.matchupsBySeason){const e=parseInt(t),n=r.matchupsBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="".concat(n.matchup_id,"-").concat(n.season,"-").concat(n.week,"-").concat(n.team1_roster_id,"-").concat(n.team2_roster_id);if(!d.has(a)){var s,i,l,h;const f=String(n.team1_roster_id),m=String(n.team2_roster_id),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{year:e,team1:o(y,e),team2:o(v,e),team1Score:n.team1_score,team2Score:n.team2_score,playoffs:!1,finalSeedingGame:null,isWinnersBracket:!1,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.winnersBracketBySeason)for(const t in r.winnersBracketBySeason){const e=parseInt(t),n=r.winnersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const f=String(n.t1),m=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:m,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!0,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.losersBracketBySeason)for(const t in r.losersBracketBySeason){const e=parseInt(t),n=r.losersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-loser-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const f=String(n.t1),m=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:m,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!1,isLosersBracket:!0})),d.add(a)}})}const h=r&&Object.keys(r).length>0&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0,f=a&&Object.keys(a).length>0,m=c.length>0,p=r&&r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).length>0;return(0,G.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,G.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[(0,G.jsxs)("div",{className:"text-center mb-12",children:[(0,G.jsx)("h1",{className:"text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"\ud83c\udfc6 League Record Book"}),(0,G.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover the greatest achievements and records in our league's history"})]}),(0,G.jsx)("div",{className:"mb-10",children:(0,G.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-2 border border-gray-200",children:(0,G.jsxs)("nav",{className:"flex flex-col sm:flex-row gap-2 sm:gap-1",children:[(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("overall"===e?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("overall"),"aria-current":"overall"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Overall Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Leaders"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("seasonal"===e?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("seasonal"),"aria-current":"seasonal"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Seasonal Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Season"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("streaks"===e?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("streaks"),"aria-current":"streaks"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Streak Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Consecutive"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("matchup"===e?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("matchup"),"aria-current":"matchup"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Game Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Game"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("playoffs"===e?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("playoffs"),"aria-current":"playoffs"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Playoff Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Postseason"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("players"===e?"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("players"),"aria-current":"players"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Player Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Individual Stars"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("milestones"===e?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("milestones"),"aria-current":"milestones"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Milestones"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Milestones"})]})]})})}),(0,G.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:["overall"===e&&(h?(0,G.jsx)(hA,{historicalData:r,getTeamName:o,calculateAllLeagueMetrics:s}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Overall Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No overall league data available yet."})]})),"seasonal"===e&&(f?(0,G.jsx)(fA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Seasonal Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No seasonal data available for display."})]})),"streaks"===e&&(m?(0,G.jsx)(mA,{historicalMatchups:c}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Streak Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate streaks."})]})),"matchup"===e&&(m?(0,G.jsx)(pA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\u2694\ufe0f"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Matchup Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate matchup records."})]})),"playoffs"===e&&(p?(0,G.jsx)(gA,{historicalMatchups:c,getDisplayTeamName:o}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Playoff Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical playoff data available."})]})),"players"===e&&(r?(0,G.jsx)(yA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\u2b50"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Player Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical player data available."})]})),"milestones"===e&&(r?(0,G.jsx)(nD,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Milestone Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical data available to compute milestones."})]}))]})]})})},aD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(t)};function sD(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}function oD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n.filter(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id,r=void 0!==t.t2?t.t2:t.team2_roster_id;return String(n)===String(e)||String(r)===String(e)});r&&(a=a.slice(-r));const s=a.map(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id;return String(n)===String(e)?void 0!==t.t1_score?t.t1_score:t.team1_score:void 0!==t.t2_score?t.t2_score:t.team2_score}).filter(e=>"number"===typeof e);if(0===s.length)return{mean:0,variance:0,count:0,recentMean:0};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=s.slice(-3),c=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:o;return{mean:o,variance:i,count:s.length,recentMean:c}}const iD=e=>"number"!==typeof e||isNaN(e)?"N/A":aD(e,3),lD=(e,t,n)=>n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),cD=e=>"number"!==typeof e||isNaN(e)?"N/A":aD(e,2),uD=e=>"number"!==typeof e||isNaN(e)?"N/A":aD(e,3),dD=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,loading:a,error:o,currentSeason:i,nflState:l}=X(),[c,d]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(0),x=e&&e.rostersBySeason&&e.rostersBySeason[i]?e.rostersBySeason[i].length:c&&c.length?c.length:12;(0,t.useEffect)(()=>{if(a||!e||!e.matchupsBySeason)return m(!0),void g(o||null);let t=i;if(!t){const n=Object.keys(e.matchupsBySeason);n.length>0&&(t=Math.max(...n.map(Number)).toString())}const r=e.matchupsBySeason[t];if(!r||0===r.length)return d([]),m(!1),void g("No games have been played for the current season yet. Please check back after the first week's games have been completed.");const c=l&&l.week?parseInt(l.week):1,f=c>1?c-1:1;v(f);const p=e.matchupsBySeason[t]||[],y=e.rostersBySeason[t]||[],x={};y.forEach(e=>{x[String(e.roster_id)]=e.owner_id});const b={};y.forEach(e=>{b[e.owner_id]=0}),p.filter(e=>parseInt(e.week)<=f&&parseInt(e.week)<=14).forEach(e=>{const t=void 0!==e.t1?e.t1:e.team1_roster_id,n=void 0!==e.t2?e.t2:e.team2_roster_id,r=x[String(t)]||t,a=x[String(n)]||n,s=void 0!==e.t1_score?e.t1_score:e.team1_score,o=void 0!==e.t2_score?e.t2_score:e.team2_score;s>o?b[r]=(b[r]||0)+1:o>s&&(b[a]=(b[a]||0)+1)});const w={},S={};y.forEach(e=>{w[e.owner_id]=0,S[e.owner_id]=[]});const k={};y.forEach(e=>{const t=p.filter(t=>(t.t1===e.roster_id||t.team1_roster_id===e.roster_id||t.t2===e.roster_id||t.team2_roster_id===e.roster_id)&&parseInt(t.week)<=f);let n=0,r=0;t.forEach(t=>{t.t1===e.roster_id||t.team1_roster_id===e.roster_id?(n+=void 0!==t.t1_score?t.t1_score:t.team1_points,r++):t.t2!==e.roster_id&&t.team2_roster_id!==e.roster_id||(n+=void 0!==t.t2_score?t.t2_score:t.team2_points,r++)}),k[e.owner_id]=r>0?n/r:0});for(let e=f+1;e<=14;e++){const n=p.filter(t=>parseInt(t.week)===e),r=p.filter(e=>parseInt(e.week)<=f);n.forEach(e=>{const n=void 0!==e.t1?e.t1:e.team1_roster_id,a=void 0!==e.t2?e.t2:e.team2_roster_id,s=x[String(n)]||n,o=x[String(a)]||a,i=oD(n,t,r,4),l=oD(a,t,r,4),c=i.mean,u=l.mean,d=i.variance,h=l.variance,f=i.count>=2?i.count:1,m=l.count>=2?l.count:1,p=c-u,g=Math.sqrt(d/f+h/m);let y=.5;g>0&&(y=.5+.5*sD(p/(Math.sqrt(2)*g))),y=Math.max(.05,Math.min(.95,y));let v=1-y;v=Math.max(.05,Math.min(.95,v)),w[s]+=y,w[o]+=v,S[s].push(k[o]),S[o].push(k[s])})}try{const r=s(e,0,n,l),a=(((null===r||void 0===r?void 0:r.seasonalMetrics)||{})[t],r=>{const a=JSON.parse(JSON.stringify(e));a.matchupsBySeason&&a.matchupsBySeason[t]&&(a.matchupsBySeason[t]=a.matchupsBySeason[t].filter(e=>parseInt(e.week)<=r));const o=s(a,0,n,l),i=((null===o||void 0===o?void 0:o.seasonalMetrics)||{})[t]||{};return Object.keys(i).map(e=>{const r=i[e];return{ownerId:r.ownerId,team:n(r.ownerId,t),dpr:r.adjustedDPR,wins:r.wins,losses:r.losses,ties:r.ties,pointsFor:r.pointsFor,pointsAgainst:r.pointsAgainst,luckRating:r.luckRating,year:t}}).filter(e=>e.wins+e.losses+e.ties>0).sort((e,t)=>t.dpr-e.dpr).map((e,t)=>u(u({},e),{},{rank:t+1}))});h.A.debug("DEBUG actualWins:",b),h.A.debug("DEBUG projectedFutureWins:",w);const o=a(f);h.A.debug("DEBUG currentRankings ownerIds:",o.map(e=>e.ownerId));const i=f>1?a(f-1):[],c={};i.forEach(e=>{c[e.ownerId]=e.rank});let p=[],y=1;p.push(y);for(let e=1;e<o.length;e++){const t=o[e-1].dpr,n=o[e].dpr;1-n/t>.0455&&y++,p.push(y)}const v={};Object.keys(S).forEach(e=>{const t=S[e];v[e]=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0});const x=Object.entries(v).sort((e,t)=>t[1]-e[1]),k={};x.forEach((e,t)=>{let[n]=e;k[n]=t+1});const j=o.map((e,t)=>{const n=c[e.ownerId];let r=0;void 0!==n&&(r=n-e.rank);const a=b[e.ownerId]||0,s=w[e.ownerId]||0,o=Math.round(a+s),i=14-o,l="".concat(o,"-").concat(i),d=k[e.ownerId]||1;return u(u({},e),{},{tier:p[t],movement:r,projectedWins:o,projectedLosses:i,projectedRecord:l,sosRank:d})});d(j),m(!1),g(null)}catch(j){d([]),m(!1),g("Failed to calculate power rankings: "+j.message)}},[a,o,e,n,i,l]);return(0,G.jsxs)("div",{className:"w-full max-w-5xl mx-auto p-2 sm:p-4 md:p-8 font-inter",children:[(0,G.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-800 mb-4 sm:mb-6 md:mb-8 text-center tracking-tight px-2",children:c.length>0?"Power Rankings (DPR) - ".concat(c[0].year," Season (Week ").concat(y,")"):"Current Power Rankings"}),f?(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 animate-pulse",children:"Calculating power rankings..."})}):p?(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-red-500 font-semibold text-center px-4",children:p})}):c.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,G.jsxs)(t.Fragment,{children:[o&&(0,G.jsxs)("div",{className:"flex items-center justify-center py-3",children:[(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,G.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e.rank}),(0,G.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:[n(e.ownerId,e.year),e.movement>=3&&(0,G.jsx)("span",{title:"Hot team",className:"ml-1",children:"\ud83d\udd25"}),e.movement<=-3&&(0,G.jsx)("span",{title:"Cold team",className:"ml-1",children:"\u2744\ufe0f"})]}),(0,G.jsxs)("p",{className:"text-xs text-gray-500",children:["Tier ",e.tier]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:iD(e.dpr)}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"DPR"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:lD(e.wins,e.losses,e.ties)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points For"}),(0,G.jsx)("div",{className:"font-semibold text-green-700",children:cD(e.pointsFor)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points Against"}),(0,G.jsx)("div",{className:"font-semibold text-red-700",children:cD(e.pointsAgainst)})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-3",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Proj. Record"}),(0,G.jsx)("div",{className:"font-semibold text-blue-700",children:e.projectedRecord})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Luck"}),(0,G.jsx)("div",{className:"font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:uD(e.luckRating)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Rem. SOS"}),(()=>{const t=x||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,G.jsx)("div",{className:"font-bold",style:{color:o},children:e.sosRank})})()]})]})]})]},e.ownerId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Change"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PA"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Luck"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Proj. Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rem. SOS"})]})}),(0,G.jsx)("tbody",{children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,G.jsxs)(t.Fragment,{children:[o&&(0,G.jsx)("tr",{className:"bg-blue-50",children:(0,G.jsx)("td",{colSpan:"10",className:"py-1 px-3 md:px-4 text-center",children:(0,G.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,G.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]})})}),(0,G.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors touch-friendly",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:e.rank}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-center border-b border-gray-200",children:(i=e.movement,0===i?(0,G.jsx)("span",{className:"text-gray-500",children:"\u2014"}):i>0?(0,G.jsxs)("span",{className:"flex items-center justify-center gap-1 text-green-600",children:[(0,G.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),(0,G.jsx)("span",{className:"text-green-600 font-bold",children:i})]}):(0,G.jsxs)("span",{className:"flex items-center justify-center gap-1 text-red-600",children:[(0,G.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),(0,G.jsx)("span",{className:"text-red-600 font-bold",children:Math.abs(i)})]}))}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("span",{className:"truncate font-semibold text-xs md:text-sm flex items-center gap-1",children:[n(e.ownerId,e.year),e.movement>=3&&(0,G.jsx)("span",{title:"Hot team",className:"ml-1",children:"\ud83d\udd25"}),e.movement<=-3&&(0,G.jsx)("span",{title:"Cold team",className:"ml-1",children:"\u2744\ufe0f"})]})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:iD(e.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:lD(e.wins,e.losses,e.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:cD(e.pointsFor)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-red-700",children:cD(e.pointsAgainst)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:uD(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:e.projectedRecord}),(()=>{const t=x||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-bold",style:{color:o},children:e.sosRank})})()]})]},e.ownerId);var i})})]})})]}):(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 text-center px-4",children:p})}),(0,G.jsx)("p",{className:"mt-4 sm:mt-6 md:mt-8 text-xs sm:text-sm text-gray-500 text-center px-2",children:"Power Rankings are calculated based on DPR (Dominance Power Ranking) for the newest season available. Teams are automatically grouped into tiers based on significant performance gaps."})]})};let hD={},fD={},mD=[];const pD=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,getTeamName:l,nflState:c,getTeamDetails:d}=X(),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e,t;if(hD=s(o,0,l,c),fD=(null===(e=hD)||void 0===e?void 0:e.seasonalMetrics)||{},mD=(null===(t=hD)||void 0===t?void 0:t.careerDPRData)||[],r)return void v(!0);if(a)return void v(!1);if(!o||0===Object.keys(o.matchupsBySeason||{}).length)return m([]),g([]),void v(!1);if("function"!==typeof l)return h.A.error("DPRAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),v(!1),m([]),void g([]);v(!0);let n=[];const i=new Set([...Object.keys(fD||{}),...Object.keys((null===o||void 0===o?void 0:o.matchupsBySeason)||{}),...Object.keys((null===o||void 0===o?void 0:o.rostersBySeason)||{})].map(Number));let d=null;i.size>0&&(d=Math.max(...Array.from(i))),Object.keys(fD).sort((e,t)=>parseInt(t)-parseInt(e)).forEach(e=>{const t=[];Object.keys(fD[e]).forEach(r=>{const a=fD[e][r];if(a&&a.totalGames>0){var s;let i=a.ownerId;if(!i&&null!==o&&void 0!==o&&null!==(s=o.rostersBySeason)&&void 0!==s&&s[e]){const t=o.rostersBySeason[e].find(e=>String(e.roster_id)===String(r));t&&(i=t.owner_id)}const c=a.averageScore||0,u=a.highScore||0,h=a.lowScore||0,f=a.winPercentage||0,m=(6*c+2*(u+h)+200*f*2)/10;t.push(m),n.push({year:parseInt(e),team:l(i,e),rosterId:r,ownerId:i,rawDPR:m,wins:a.wins,losses:a.losses,ties:a.ties,winPercentage:f,pointsPerGame:c,highestPointsGame:u,lowestPointsGame:h,isCurrentSeason:null!==d&&parseInt(e)===d})}});const r=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:1;n.forEach(t=>{t.year===parseInt(e)&&(t.dpr=r>0?t.rawDPR/r:1)})}),n.sort((e,t)=>t.dpr-e.dpr);const f={year:null,team:"----------------Average Season 1.000 DPR----------------",dpr:1,wins:null,losses:null,ties:null,winPercentage:null,pointsPerGame:null,highestPointsGame:null,lowestPointsGame:null,isAverageRow:!0};let p=n.findIndex(e=>e.dpr<1);-1===p?n.push(f):n.splice(p,0,f);const y=mD.map(e=>{const t=e.wins+e.losses+e.ties,n=t>0?(e.wins+.5*e.ties)/t:0,r=t>0?e.pointsFor/t:0;let a=0,s=1/0,o=0;return Object.keys(fD).forEach(t=>{const n=Object.values(fD[t]).find(t=>t.ownerId===e.ownerId);if(n){const e=n.totalGames;if(e>0){const t=n.pointsFor/e;t>a&&(a=t),t<s&&(s=t),o++}}}),0===o&&(s=0),u(u({},e),{},{winPercentage:n,pointsPerGame:r,highestSeasonalPointsAvg:a,lowestSeasonalPointsAvg:s})});m(y),g(n),v(!1)},[o,i,l,r,a]);const w=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return""},S=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),k=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),j=(e,t,n)=>null===e?"":n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),_=(()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=8?t:t-1})();let N;const P=(e=>{const t=e=>"".concat(e.rosterId,"-").concat(e.year),n=new Set,r=[];for(const a of e)n.has(t(a))||(r.push(a),n.add(t(a)));return r})(p);if(P.sort((e,t)=>t.dpr-e.dpr),x)N=P;else{const e=P.findIndex(e=>e.isAverageRow);if(e>=0&&e<20)N=P.slice(0,20);else{const e=P.filter(e=>!e.isAverageRow);N=e.slice(0,20)}}const E=(()=>{try{const e=p.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):_}catch(PF){return _}})();return(0,G.jsxs)("div",{className:"w-full",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"DPR Analysis (Career & Seasonal)"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Detailed breakdown of team performance using the DPR (Dominance Performance Rating) metric."}),y?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Calculating DPR data..."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career DPR Rankings"}),f.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:f.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var r;return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,null),className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,null)),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:l(e.ownerId,null)}):l(e.ownerId,null)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Record: ",j(e.wins,e.losses,e.ties)]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:S(e.dpr)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["DPR \u2022 ",k(e.pointsPerGame)]})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points Avg"}),(0,G.jsx)("div",{className:"font-semibold text-green-700",children:k(e.pointsPerGame)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"High / Low"}),(0,G.jsxs)("div",{className:"font-semibold",children:[k(e.highestSeasonalPointsAvg)," / ",k(e.lowestSeasonalPointsAvg)]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold",children:w(e.winPercentage)})]})]})]},e.ownerId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Avg"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Avg"})]})}),(0,G.jsx)("tbody",{children:f.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var r;return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,null),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,null)),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:l(e.ownerId,null)}):l(e.ownerId,null)})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:S(e.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(e.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(e.wins,e.losses,e.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:k(e.pointsPerGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(e.highestSeasonalPointsAvg)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(e.lowestSeasonalPointsAvg)})]},e.ownerId)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No career DPR data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Best Seasons by DPR"}),p.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:N.map((e,t)=>{var r;if(e.isAverageRow)return(0,G.jsx)("div",{className:"bg-yellow-100 rounded-lg p-3 text-center font-bold",children:e.team},"avg-".concat(t));const a=e.year&&Number(e.year)===Number(E);return(0,G.jsxs)("div",{className:"rounded-lg shadow p-4 ".concat(a?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,e.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,e.year),className:"w-10 h-10 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,e.year)),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:l(e.ownerId,e.year)}):l(e.ownerId,e.year)}),a&&(0,G.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold",children:"Current"})]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Season: ",e.year]})]})]}),(0,G.jsxs)("div",{className:"text-right min-w-[88px]",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-green-800",children:S(e.dpr)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["DPR \u2022 ",k(e.pointsPerGame)]})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-3 text-sm",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:j(e.wins,e.losses,e.ties)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold",children:w(e.winPercentage)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"High / Low"}),(0,G.jsxs)("div",{className:"font-semibold",children:[k(e.highestPointsGame)," / ",k(e.lowestPointsGame)]})]})]})]},"".concat(e.rosterId,"-").concat(e.year))})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Highest"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest"})]})}),(0,G.jsx)("tbody",{children:(()=>{let e=0;return N.map((t,r)=>{var a;t.isAverageRow||e++;const s=t.year&&Number(t.year)===Number(E)&&!t.isAverageRow,o=t.isAverageRow?"bg-yellow-100 font-bold":s?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,G.jsx)("tr",{className:o,children:t.isAverageRow?(0,G.jsx)("td",{colSpan:9,className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap text-center",children:t.team}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,G.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(s?"bg-green-500":"bg-transparent")}),(0,G.jsx)("span",{className:"",children:e})]}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:d&&(null===(a=d(t.ownerId,t.year))||void 0===a?void 0:a.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(t.ownerId,t.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(l(t.ownerId,t.year)),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:l(t.ownerId,t.year)}):l(t.ownerId,t.year)})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-800",children:S(t.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(t.wins,t.losses,t.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:k(t.pointsPerGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(t.highestPointsGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(t.lowestPointsGame)})]})},"".concat(t.rosterId,"-").concat(t.year))})})()})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal DPR data available."}),p.length>20&&(0,G.jsx)("div",{className:"text-center mt-4",children:(0,G.jsx)("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:x?"Show Less":"Show All Seasons"})})]})]})]})},gD=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,getTeamName:l,getTeamDetails:c,nflState:u}=X(),[d,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0),[v,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(r)return void y(!0);if(a)return void y(!1);if(!o||0===Object.keys(o.matchupsBySeason||{}).length)return f([]),p([]),void y(!1);if("function"!==typeof l)return h.A.error("LuckRatingAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),y(!1),f([]),void p([]);y(!0);const{seasonalMetrics:e,careerDPRData:t}=s(o,0,l,u),n=[],i=null!==u&&void 0!==u&&u.season?parseInt(u.season):(new Date).getFullYear();Object.keys(e).forEach(t=>{const r=parseInt(t);if(r===i){var a,s;const e=null===(a=o.matchupsBySeason)||void 0===a||null===(s=a[r])||void 0===s?void 0:s[1];if(!e||0===e.length)return void h.A.debug("LuckRatingAnalysis: Skipping year ".concat(r," (current season) as Week 1 data is not available."))}Object.keys(e[r]).forEach(t=>{const a=e[r][t];!a||"number"!==typeof a.luckRating||isNaN(a.luckRating)||"number"!==typeof a.actualWinsRecord||isNaN(a.actualWinsRecord)||"number"!==typeof a.seasonalExpectedWinsSum||isNaN(a.seasonalExpectedWinsSum)||n.push({year:parseInt(r),team:l(a.ownerId,r),ownerId:a.ownerId,luckRating:a.luckRating,actualWins:a.actualWinsRecord,projectedWins:a.seasonalExpectedWinsSum})})}),n.sort((e,t)=>t.luckRating-e.luckRating),p(n);const c=[];t.forEach(e=>{!e||"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||"number"!==typeof e.actualCareerWinsRecord||isNaN(e.actualCareerWinsRecord)||"number"!==typeof e.careerExpectedWinsSum||isNaN(e.careerExpectedWinsSum)||c.push({team:l(e.ownerId,null),ownerId:e.ownerId,luckRating:e.totalLuckRating,actualWins:e.actualCareerWinsRecord,projectedWins:e.careerExpectedWinsSum})}),c.sort((e,t)=>t.luckRating-e.luckRating),f(c),y(!1)},[o,i,l,u,r,a]);const b=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),w=v?m:m.slice(0,20),S=null!==u&&void 0!==u&&u.season?parseInt(u.season):(new Date).getFullYear(),k=(()=>{try{const e=m.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):S}catch(PF){return S}})();return(0,G.jsxs)("div",{className:"w-full",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"Luck Rating Analysis"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:'This analysis indicates how much "luckier" or "unluckier" a team was compared to their projected wins if every possible matchup against other teams in their league week-by-week were played. A positive score means luckier, negative means unluckier. Calculation includes regular season games only.'}),g?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Calculating luck ratings..."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career Luck Rankings"}),d.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:d.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var r;return(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:e.team}):e.team}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Actual: ",e.actualWins]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Projected \u2022 ",b(e.projectedWins)]})]})]})},e.team)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career Luck"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,G.jsx)("tbody",{children:d.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var r;return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:e.team}):e.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.actualWins}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:b(e.projectedWins)})]},e.team)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No career luck data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Seasonal Luck Rankings"}),m.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:w.map((e,t)=>{var r;return(0,G.jsx)("div",{className:"rounded-lg shadow p-4 ".concat(Number(e.year)===Number(k)?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,e.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-10 h-10 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:e.team}):e.team}),Number(e.year)===Number(k)&&(0,G.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold",children:"Current"})]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Season: ",e.year]})]})]}),(0,G.jsxs)("div",{className:"text-right min-w-[88px]",children:[(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Luck \u2022 Actual ",e.actualWins]})]})]})},"".concat(e.team,"-").concat(e.year))})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Rating"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,G.jsx)("tbody",{children:(()=>{let e=0;return w.map((t,r)=>{var a;e++;const s=t.year&&Number(t.year)===Number(k),o=s?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,G.jsxs)("tr",{className:o,children:[(0,G.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,G.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(s?"bg-green-500":"bg-transparent")}),(0,G.jsx)("span",{className:"",children:e})]}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:c&&(null===(a=c(t.ownerId,t.year))||void 0===a?void 0:a.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:t.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(t.team),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:t.team}):t.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(t.luckRating>0?"text-green-600":t.luckRating<0?"text-red-600":"text-gray-700"),children:b(t.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:t.actualWins}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:b(t.projectedWins)})]},"".concat(t.team,"-").concat(t.year))})})()})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal luck data available."}),m.length>20&&(0,G.jsx)("div",{className:"text-center mt-4",children:(0,G.jsx)("button",{onClick:()=>x(!v),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:v?"Show Less":"Show All Seasons"})})]})]})]})};function yD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;const r=Array.from({length:t},()=>Array.from({length:n},()=>({sum:0,count:0})));return e.forEach(e=>{if(!e||e.is_keeper)return;const a=e.round||Math.ceil((e.pick_no||1)/n),s=e.pick_in_round||(e.pick_no-1)%n+1;if(a<1||a>t)return;const o=a-1,i=s-1,l="number"===typeof e.scaled_vorp_delta?e.scaled_vorp_delta:"number"===typeof e.vorp_delta?e.vorp_delta:null;null!==l&&(r[o][i].sum+=l,r[o][i].count+=1)}),r.map(e=>e.map(e=>({avg:e.count>0?e.sum/e.count:null,count:e.count})))}function vD(){const e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{if(!t||t.is_keeper)return;const n=t.picked_by||"unknown";e[n]||(e[n]={total:0,count:0,picks:[]});const r="number"===typeof t.scaled_vorp_delta?t.scaled_vorp_delta:"number"===typeof t.vorp_delta?t.vorp_delta:0;e[n].total+=r,e[n].count+=1,e[n].picks.push(u(u({},t),{},{value:r}))}),Object.keys(e).forEach(t=>{const n=e[t];n.picks.sort((e,t)=>t.value-e.value),n.best=n.picks[0]||null,n.worst=n.picks[n.picks.length-1]||null,n.avg=n.count>0?n.total/n.count:0}),e}var xD=pv({chartName:"BarChart",GraphicalChild:yp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fx},{axisType:"yAxis",AxisComp:jx}],formatAxisMap:jp});const bD=e=>{let{ownerId:n,allDraftHistory:r=[],totalRounds:a=12,totalTeams:s=12}=e;const{historicalData:o,nflPlayers:i}=X(),l=(0,t.useMemo)(()=>{const e={};return o&&o.rostersBySeason&&Object.keys(o.rostersBySeason).forEach(t=>{const n=o.rostersBySeason[t]||[];e[t]={},n.forEach(n=>{n&&n.roster_id&&(e[t][String(n.roster_id)]=String(n.owner_id))})}),e},[o]),c=(0,t.useMemo)(()=>Array.isArray(r)?r.filter(e=>{if(!e)return!1;if(e.picked_by&&String(e.picked_by)===String(n))return!0;if(e.owner_id&&String(e.owner_id)===String(n))return!0;const t=e.season||e.year||e.draft_season||e.draft&&e.draft.season||null,r=e.roster_id||e.rosterId||e.picked_from_roster_id||null;if(r&&t&&l[t]){const e=l[t][String(r)];if(e&&String(e)===String(n))return!0}return!1}):[],[r,n,l]),u=(0,t.useMemo)(()=>vD(c),[c]),d=((0,t.useMemo)(()=>yD(c,a,s),[c,a,s]),Object.entries(u.roundCounts||{}).sort((e,t)=>t[1]-e[1]).slice(0,3).map(e=>{let[t,n]=e;return"".concat(t," (").concat(n,")")}).join(", "),["QB","RB","WR","TE","K","DEF"]),h={QB:"#ef4444",RB:"#f59e0b",WR:"#34d399",TE:"#60a5fa",K:"#a78bfa",DEF:"#f97316"},f=(0,t.useMemo)(()=>{const e=c.reduce((e,t)=>{const n=Number(t.round)||Number(t.draft_round)||0;return Math.max(e,isFinite(n)?n:0)},0),t=Math.max(a||0,e||0)||0,n=Array.from({length:t},(e,t)=>({round:t+1}));return c.forEach(e=>{var r;const a=Number(e.round)||Number(e.draft_round)||null;let s=e.position||e.player_position||(null===(r=e.metadata)||void 0===r?void 0:r.position)||null;if(!s&&e.player_id&&i&&i[e.player_id]){const t=i[e.player_id]||{};s=t.position||t.primary_position||null}s=s||"OTHER",s="string"===typeof s?s.toUpperCase():"OTHER";const o=d.includes(s)?s:null;if(!a||a<1||a>t)return;const l=a-1;o?(n[l][o]=(n[l][o]||0)+1,n[l].__total=(n[l].__total||0)+1):n[l].__unknown=(n[l].__unknown||0)+1}),n.map(e=>{const t=e.__total||0,n={round:e.round};return d.forEach(r=>{n[r]=t>0?(e[r]||0)/t*100:0}),n.__unknown=e.__unknown||0,n})},[c,a]);return(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Draft Habits"}),(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,G.jsx)("p",{className:"text-sm text-gray-600",children:"Round-by-Round Position Mix (percent)"}),(0,G.jsx)("div",{className:"w-full h-64 mt-2",children:(0,G.jsx)(it,{width:"100%",height:"100%",children:(0,G.jsxs)(xD,{data:f,margin:{top:8,right:16,left:8,bottom:4},children:[(0,G.jsx)(fx,{dataKey:"round",tick:{fontSize:12}}),(0,G.jsx)(jx,{domain:[0,100],tick:{fontSize:12},unit:"%"}),(0,G.jsx)(un,{formatter:(e,t)=>["".concat(Number(e).toFixed(1),"%"),t]}),(0,G.jsx)(Fr,{}),d.map(e=>(0,G.jsx)(yp,{dataKey:e,stackId:"a",fill:h[e]},e))]})})}),(0,G.jsx)("div",{className:"mt-3"})]})]})};var wD,SD=["layout","type","stroke","connectNulls","isRange","ref"],kD=["key"];function jD(e){return jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jD(e)}function _D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ND(){return ND=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ND.apply(this,arguments)}function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(t){DD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MD(r.key),r)}}function AD(e,t,n){return t=ID(t),function(e,t){if(t&&("object"===jD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TD()?Reflect.construct(t,n||[],ID(e).constructor):t.apply(e,n))}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TD=function(){return!!e})()}function ID(e){return ID=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ID(e)}function CD(e,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CD(e,t)}function DD(e,t,n){return(t=MD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e){var t=function(e,t){if("object"!=jD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jD(t)?t:t+""}var RD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return DD(e=AD(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),DD(e,"id",ge("recharts-area-")),DD(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),je()(t)&&t()}),DD(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),je()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CD(e,t)}(n,e),r=n,a=[{key:"renderDots",value:function(e,r,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,u=i.dataKey,d=$e(this.props,!1),h=$e(l,!0),f=c.map(function(e,t){var r=ED(ED(ED({key:"dot-".concat(t),r:3},d),h),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)}),m={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(wt,ND({className:"recharts-area-dots"},m),f)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].x,i=a[a.length-1].x,l=e*Math.abs(o-i),c=Nd()(a.map(function(e){return e.y||0}));return fe(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Nd()(r.map(function(e){return e.y||0})),c)),fe(c)?t.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].y,i=a[a.length-1].y,l=e*Math.abs(o-i),c=Nd()(a.map(function(e){return e.x||0}));return fe(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Nd()(r.map(function(e){return e.x||0})),c)),fe(c)?t.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,r,a){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,u=s.isRange,d=(s.ref,_D(s,SD));return t.createElement(wt,{clipPath:r?"url(#clipPath-".concat(a,")"):null},t.createElement(wy,ND({},$e(d,!0),{points:e,connectNulls:c,type:i,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(wy,ND({},$e(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&t.createElement(wy,ND({},$e(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.baseLine,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevPoints,m=h.prevBaseLine;return t.createElement(gs,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(f){var l,c=f.length/s.length,u=s.map(function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=xe(r.x,e.x),s=xe(r.y,e.y);return ED(ED({},e),{},{x:a(i),y:s(i)})}return e});return l=fe(o)&&"number"===typeof o?xe(m,o)(i):ue()(o)||ae()(o)?xe(m,0)(i):o.map(function(e,t){var n=Math.floor(t*c);if(m[n]){var r=m[n],a=xe(r.x,e.x),s=xe(r.y,e.y);return ED(ED({},e),{},{x:a(i),y:s(i)})}return e}),r.renderAreaStatically(u,l,e,n)}return t.createElement(wt,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(i))),t.createElement(wt,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(s,o,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,s=n.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&r&&r.length&&(!i&&c>0||!Id()(i,r)||!Id()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.top,l=n.left,c=n.xAxis,u=n.yAxis,d=n.width,h=n.height,f=n.isAnimationActive,m=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=J("recharts-area",o),v=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,w=ue()(m)?this.id:m,S=null!==(e=$e(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,j=void 0===k?3:k,_=S.strokeWidth,N=void 0===_?2:_,P=(Xe(a)?a:{}).clipDot,E=void 0===P||P,O=2*j+N;return t.createElement(wt,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?l:l-d/2,y:x?i:i-h/2,width:v?d:2*d,height:x?h:2*h})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:l-O/2,y:i-O/2,width:d+O,height:h+O}))):null,g?null:this.renderArea(b,w),(a||g)&&this.renderDots(b,E,w),(!f||p)&&im.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&OD(r.prototype,a),s&&OD(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function LD(e){return LD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LD(e)}function BD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HD(r.key),r)}}function FD(e,t,n){return t=UD(t),function(e,t){if(t&&("object"===LD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WD()?Reflect.construct(t,n||[],UD(e).constructor):t.apply(e,n))}function WD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(WD=function(){return!!e})()}function UD(e){return UD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UD(e)}function zD(e,t){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zD(e,t)}function VD(e,t,n){return(t=HD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HD(e){var t=function(e,t){if("object"!=LD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LD(t)?t:t+""}wD=RD,DD(RD,"displayName","Area"),DD(RD,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),DD(RD,"getBaseValue",function(e,t,n,r){var a=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!==o&&void 0!==o?o:s;if(fe(i)&&"number"===typeof i)return i;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===i?d:"dataMax"===i||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),DD(RD,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=n.layout,p=u&&u.length,g=wD.getBaseValue(n,r,a,s),y="horizontal"===m,v=!1,x=h.map(function(e,t){var n;p?n=u[d+t]:(n=Ch(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||p&&null==Ch(e,c);return y?{x:qh({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:s.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:qh({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=p||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?s.scale(g):a.scale(g),ED({points:x,baseLine:t,layout:m,isRange:v},f)}),DD(RD,"renderDotItem",function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(je()(e))r=e(n);else{var a=J("recharts-area-dot","boolean"!==typeof e?e.className:""),s=n.key,o=_D(n,kD);r=t.createElement(Ur,ND({},o,{key:s,className:a}))}return r});var GD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FD(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zD(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&BD(n.prototype,r),a&&BD(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(t.Component);VD(GD,"displayName","ZAxis"),VD(GD,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var qD=["option","isActive"];function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KD.apply(this,arguments)}function YD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QD(e){var n=e.option,r=e.isActive,a=YD(e,qD);return"string"===typeof n?t.createElement(Fm,KD({option:t.createElement(fr,KD({type:n},a)),isActive:r,shapeType:"symbols"},a)):t.createElement(Fm,KD({option:n,isActive:r,shapeType:"symbols"},a))}function XD(e){return XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(e)}function $D(){return $D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$D.apply(this,arguments)}function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(t){sM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oM(r.key),r)}}function tM(e,t,n){return t=rM(t),function(e,t){if(t&&("object"===XD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nM()?Reflect.construct(t,n||[],rM(e).constructor):t.apply(e,n))}function nM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nM=function(){return!!e})()}function rM(e){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rM(e)}function aM(e,t){return aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aM(e,t)}function sM(e,t,n){return(t=oM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oM(e){var t=function(e,t){if("object"!=XD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XD(t)?t:t+""}var iM=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return sM(e=tM(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),sM(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),sM(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),sM(e,"id",ge("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aM(e,t)}(n,e),r=n,a=[{key:"renderSymbolsStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.activeShape,o=r.activeIndex,i=$e(this.props,!1);return e.map(function(e,r){var l=o===r,c=l?s:a,u=ZD(ZD({},i),e);return t.createElement(wt,$D({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},Me(n.props,e,r),{role:"img"}),t.createElement(QD,$D({option:c,isActive:l,key:"symbol-".concat(r)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,n=this.props,r=n.points,a=n.isAnimationActive,s=n.animationBegin,o=n.animationDuration,i=n.animationEasing,l=n.animationId,c=this.state.prevPoints;return t.createElement(gs,{begin:s,duration:o,isActive:a,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t,s=r.map(function(e,t){var n=c&&c[t];if(n){var r=xe(n.cx,e.cx),s=xe(n.cy,e.cy),o=xe(n.size,e.size);return ZD(ZD({},e),{},{cx:r(a),cy:s(a),size:o(a)})}var i=xe(0,e.size);return ZD(ZD({},e),{},{size:i(a)})});return t.createElement(wt,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&Id()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,n=e.points,r=e.xAxis,a=e.yAxis,s=Ge(e.children,wh);return s?s.map(function(e,s){var o=e.props,i=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(i,"-").concat(l,"-").concat(n[s]),data:n,xAxis:r,yAxis:a,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:Ch(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,n,r=this.props,a=r.points,s=r.line,o=r.lineType,i=r.lineJointType,l=$e(this.props,!1),c=$e(s,!1);if("joint"===o)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,s=0,o=1/0,i=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,s+=l*l,o=Math.min(o,l),i=Math.max(i,l);var d=t*s!==n*n?(t*a-n*r)/(t*s-n*n):0;return{xmin:o,xmax:i,a:d,b:(r-d*n)/t}}(a),d=u.xmin,h=u.xmax,f=u.a,m=u.b,p=function(e){return f*e+m};e=[{x:d,y:p(d)},{x:h,y:p(h)}]}var g=ZD(ZD(ZD({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return n=t.isValidElement(s)?t.cloneElement(s,g):je()(s)?s(g):t.createElement(wy,$D({},g,{type:i})),t.createElement(wt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},n)}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.points,a=e.line,s=e.className,o=e.xAxis,i=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,h=e.id,f=e.isAnimationActive;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,p=J("recharts-scatter",s),g=o&&o.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=ue()(h)?this.id:h;return t.createElement(wt,{className:p,clipPath:v?"url(#clipPath-".concat(x,")"):null},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,a&&this.renderLine(),this.renderErrorBar(),t.createElement(wt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||m)&&im.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&eM(r.prototype,a),s&&eM(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);sM(iM,"displayName","Scatter"),sM(iM,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Yt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),sM(iM,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,o=e.xAxisTicks,i=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=Ge(a.props.children,Kf),d=ue()(t.dataKey)?a.props.dataKey:t.dataKey,h=ue()(n.dataKey)?a.props.dataKey:n.dataKey,f=r&&r.dataKey,m=r?r.range:GD.defaultProps.range,p=m&&m[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=s.map(function(e,s){var l=Ch(e,d),m=Ch(e,h),v=!ue()(f)&&Ch(e,f)||"-",x=[{name:ue()(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:ue()(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:m,payload:e,dataKey:h,type:c}];"-"!==v&&x.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:f,type:c});var b=qh({axis:t,ticks:o,bandSize:g,entry:e,index:s,dataKey:d}),w=qh({axis:n,ticks:i,bandSize:y,entry:e,index:s,dataKey:h}),S="-"!==v?r.scale(v):p,k=Math.sqrt(Math.max(S,0)/Math.PI);return ZD(ZD({},e),{},{cx:b,cy:w,x:b-k,y:w-k,xAxis:t,yAxis:n,zAxis:r,width:2*k,height:2*k,size:S,node:{x:l,y:m,z:v},tooltipPayload:x,tooltipPosition:{x:b,y:w},payload:e},u&&u[s]&&u[s].props)});return ZD({points:v},l)});var lM=pv({chartName:"ComposedChart",GraphicalChild:[Iv,RD,yp,iM],axisComponents:[{axisType:"xAxis",AxisComp:fx},{axisType:"yAxis",AxisComp:jx},{axisType:"zAxis",AxisComp:GD}],formatAxisMap:jp});const cM=e=>{if("number"!==typeof e||isNaN(e))return"";const t=["th","st","nd","rd"],n=e%100;return t[n-20]||t[n]||t[0]},uM=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=t.filter(e=>"number"===typeof e&&!isNaN(e));if(0===r.length)return"N/A";const a=[...new Set(r)].sort((e,t)=>n?t-e:e-t);let s=1;for(let o=0;o<a.length;o++){const t=a[o];if(t===e){const t=r.filter(t=>t===e).length;return t>1&&e>0?"T-".concat(s).concat(cM(s)):"".concat(s).concat(cM(s))}s+=r.filter(e=>e===t).length}return"N/A"},dM=e=>"number"===typeof e?"".concat(e.toFixed(3).substring(1),"%"):"N/A",hM=e=>"number"===typeof e?aD(e,3):"N/A",fM=e=>"number"!==typeof e||isNaN(e)?"N/A":aD(Number(e),3),mM=e=>{let{title:t,value:n,rank:r}=e;return(0,G.jsxs)("div",{className:"bg-blue-50 p-1.5 sm:p-2 rounded-lg shadow-sm flex flex-col items-center justify-center text-center border border-blue-200 min-w-[90px]",children:[r&&"N/A"!==r&&(0,G.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:r}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[t," (",(0,G.jsx)("span",{className:"font-semibold text-gray-600",children:n}),")"]})]})},pM=e=>{let{teamName:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:l,getTeamName:c,usersData:d}=X(),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,S]=(0,t.useState)(!0),[k,j]=(0,t.useState)({career:[],playoff:[],streak:[],season:[]}),[_,N]=(0,t.useState)("game"),[P,E]=(0,t.useState)({}),[O,A]=(0,t.useState)(!0),[T,I]=(0,t.useState)("year"),[C,D]=(0,t.useState)("desc"),M=(e,t,n)=>{try{var r;if(n){const t=c(n,e);if(t&&!String(t).startsWith("Unknown Team"))return t}const a=null===o||void 0===o||null===(r=o.rostersBySeason)||void 0===r?void 0:r[e],s=Array.isArray(a)?a.find(e=>String(null===e||void 0===e?void 0:e.roster_id)===String(t)):null,i=(null===s||void 0===s?void 0:s.metadata)||{},l=i.team_name||i.nickname||(null===s||void 0===s?void 0:s.display_name)||null;return l||"Roster ".concat(null!==t&&void 0!==t?t:"?")}catch(PF){return"Roster ".concat(null!==t&&void 0!==t?t:"?")}},R=e=>null===e||void 0===e||"null"===String(e)||"undefined"===String(e);(0,t.useEffect)(()=>{const e=String(n||"");if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return void S(!1);if("function"!==typeof c)return h.A.error("TeamDetailPage: getTeamNameFromContext is not a function. Cannot process data."),void S(!1);S(!0);const{seasonalMetrics:t,careerDPRData:i}=s(o,0,c,l);let d=null;const f=i.find(t=>c(t.ownerId,null)===e);if(f&&(d=f.ownerId),!d)return h.A.warn("TeamDetailPage: Could not find ownerId for teamName: ".concat(e,". Displaying no data.")),S(!1),m(null),void g([]);const p={totalWins:0,totalLosses:0,totalTies:0,totalPointsFor:0,totalGamesPlayed:0,overallTopScoreWeeksCount:0,playoffAppearancesCount:0,avgDPR:0,totalChampionships:0,totalRunnerUps:0,totalThirdPlaces:0,totalPointsChampionships:0,totalPointsRunnerUps:0,totalThirdPlacePoints:0,winRank:"N/A",winPercentageRank:"N/A",pointsForRank:"N/A",topScoreWeeksRank:"N/A",playoffRank:"N/A",championshipRank:"N/A",luckRank:"N/A",ownerId:d},y=[],x={},w=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),k=w.length>0?Math.max(...w):null;let _=!1;if(k&&o.winnersBracketBySeason[k]){const e=o.winnersBracketBySeason[k].find(e=>1===e.p);e&&e.w&&e.l&&(_=!0)}h.A.debug("TeamDetailPage: Latest season is ".concat(k,". Playoff completion status: ").concat(_?"COMPLETE":"IN PROGRESS/INCOMPLETE")),Object.keys(t).forEach(e=>{const n=parseInt(e),r=t[n];r&&Object.values(r).forEach(e=>{const t=e.ownerId,r=c(t,null);if(!r||r.startsWith("Unknown Team (ID:"))return;x[r]||(x[r]={wins:0,losses:0,ties:0,pointsFor:0,totalGamesPlayed:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,topScoreWeeksCount:0,playoffAppearancesCount:0,totalLuckRating:0,ownerId:t});const a=x[r];a.wins+=e.wins,a.losses+=e.losses,a.ties+=e.ties,a.pointsFor+=e.pointsFor,a.totalGamesPlayed+=e.totalGames;(n<k||n===k&&_)&&(a.topScoreWeeksCount+=e.topScoreWeeksCount||0,a.totalLuckRating+=e.luckRating||0,"number"===typeof e.rank&&e.rank<=6&&a.playoffAppearancesCount++,e.isChampion&&a.championships++,e.isRunnerUp&&a.runnerUps++,e.isThirdPlace&&a.thirdPlaces++,e.isPointsChampion&&a.firstPoints++,e.isPointsRunnerUp&&a.secondPoints++,e.isThirdPlacePoints&&a.thirdPoints++)})});const N=x[e];if(!N)return S(!1),m(null),void g([]);{Object.assign(p,{totalWins:N.wins,totalLosses:N.losses,totalTies:N.ties,totalPointsFor:N.pointsFor,totalGamesPlayed:N.totalGamesPlayed,overallTopScoreWeeksCount:N.topScoreWeeksCount,playoffAppearancesCount:N.playoffAppearancesCount,avgDPR:f&&"number"===typeof f.dpr?f.dpr:null,totalChampionships:N.championships,totalRunnerUps:N.runnerUps,totalThirdPlaces:N.thirdPlaces,totalPointsChampionships:N.firstPoints,totalPointsRunnerUps:N.secondPoints,totalThirdPlacePoints:N.thirdPoints,luckRating:N.totalLuckRating});const e=Object.values(x).map(e=>e.wins),t=Object.values(x).map(e=>(e.wins+(e.ties>0?.5*e.ties:0))/e.totalGamesPlayed),n=Object.values(x).map(e=>e.pointsFor),r=Object.values(x).map(e=>e.topScoreWeeksCount),a=Object.values(x).map(e=>e.playoffAppearancesCount),s=Object.values(x).map(e=>e.championships),o=Object.values(x).map(e=>e.totalLuckRating);p.winRank=uM(p.totalWins,e),p.winPercentageRank=uM((p.totalWins+(p.totalTies>0?.5*p.totalTies:0))/p.totalGamesPlayed,t),p.pointsForRank=uM(p.totalPointsFor,n),p.topScoreWeeksRank=uM(p.overallTopScoreWeeksCount,r),p.playoffRank=uM(p.playoffAppearancesCount,a),p.championshipRank=uM(p.totalChampionships,s),p.luckRank=uM(p.luckRating,o,!1)}w.forEach(e=>{const n=t[e];if(n){const t=Object.values(n).find(e=>e.ownerId===d);if(t&&t.totalGames>0){const n=c(d,e);y.push({year:e,team:n,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,luckRating:t.luckRating,adjustedDPR:"number"===typeof t.adjustedDPR?t.adjustedDPR:null,allPlayWinPercentage:t.allPlayWinPercentage,winPercentage:t.winPercentage,finish:(e!==k||_)&&t.rank?"".concat(t.rank).concat(cM(t.rank)):"N/A",pointsFinish:(e!==k||_)&&t.pointsRank?"".concat(t.pointsRank).concat(cM(t.pointsRank)):"N/A"})}}});const P=[],E=parseInt(null===l||void 0===l?void 0:l.season)||null,O=parseInt(null===l||void 0===l?void 0:l.week)||null;Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t,n;const r=parseInt(e),a=o.matchupsBySeason[e],s=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.find(e=>String(e.owner_id)===String(d));if(!s)return;const i=String(s.roster_id);a.forEach(e=>{var t,n,a;const s=String(e.team1_roster_id),l=String(e.team2_roster_id);if(R(s)||R(l))return;if(s!==i&&l!==i)return;const c=parseInt(e.week),u=Number(e.team1_score),d=Number(e.team2_score);if(isNaN(u)||isNaN(d))return;if(0===u&&0===d)return;if(E&&O&&(r>E||r===E&&c>=O))return;const h=s===i,f=h?u:d,m=h?d:u,p=h?l:s;if(R(p))return;const g=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n||null===(a=n.find(e=>String(e.roster_id)===String(p)))||void 0===a?void 0:a.owner_id,y=M(r,p,g),v=f===m?"T":f>m?"W":"L",x=Math.abs(f-m);P.push({year:r,week:c,opponent:y,myScore:f,oppScore:m,result:v,margin:x})})}),P.sort((e,t)=>t.year-e.year||t.week-e.week),v(P.slice(0,5));const A={mostPointsScored:[],mostPointsInLoss:[],fewestPointsScored:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]};Object.keys(o.matchupsBySeason||{}).forEach(e=>{const t=parseInt(e);o.matchupsBySeason[e].forEach(e=>{var n,r,a,s,i,l;const c=parseInt(e.week),u=String(e.team1_roster_id),d=String(e.team2_roster_id);if(R(u)||R(d))return;const h=Number(e.team1_score),f=Number(e.team2_score);if([h,f,c,t].some(e=>"number"!==typeof e||isNaN(e)))return;const m=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,p=null===(s=o.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i||null===(l=i.find(e=>String(e.roster_id)===d))||void 0===l?void 0:l.owner_id,g=M(t,u,m),y=M(t,d,p),v=h+f,x=h===f&&h>0,b=x?null:h>f?g:y,w=x?null:h>f?y:g,S=Math.abs(h-f);if(A.mostPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:m,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),A.mostPointsScored.push({year:t,week:c,team:y,score:f,opponent:g,ownerId:p,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),h>0&&A.fewestPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:m,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),f>0&&A.fewestPointsScored.push({year:t,week:c,team:y,score:f,opponent:g,ownerId:p,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),!x){const e=h<f?g:y,n=Math.min(h,f),r=h<f?m:p,a=h>f?g:y;A.mostPointsInLoss.push({year:t,week:c,team:e,score:n,opponent:a,ownerId:r,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f});const s=Math.max(h,f),o=h>f?m:p,i=h<f?g:y,l=a;A.fewestPointsInWin.push({year:t,week:c,team:l,score:s,opponent:i,ownerId:o,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),A.biggestBlowout.push({year:t,week:c,winner:b,loser:w,value:S,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),S>0&&A.slimmestWin.push({year:t,week:c,winner:b,loser:w,value:S,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f})}v>0&&h>0&&f>0&&A.lowestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:m,owner2Id:p,team1Score:h,team2Score:f}),(h>0||f>0)&&A.highestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:m,owner2Id:p,team1Score:h,team2Score:f})})});const T={mostPointsScored:"Most Points Scored by a Team",mostPointsInLoss:"Most Points Scored in a Loss",fewestPointsScored:"Fewest Points Scored by a Team",fewestPointsInWin:"Fewest Points Scored in a Win",highestCombinedScore:"Highest Combined Score",lowestCombinedScore:"Lowest Combined Score",biggestBlowout:"Biggest Blowout",slimmestWin:"Slimmest Win"},I=[];Object.keys(A).forEach(e=>{const t=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(e),n=A[e];if(!Array.isArray(n)||0===n.length)return;const r=n.map(e=>u(u({},e),{},{value:"number"===typeof e.value?e.value:"number"===typeof e.score?e.score:Number.NEGATIVE_INFINITY})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,n)=>t?e.value-n.value:n.value-e.value).slice(0,5);r.forEach((t,n)=>{let r="";const a=t.ownerId&&String(t.ownerId)===String(d),s=t.owner1Id&&String(t.owner1Id)===String(d),o=t.owner2Id&&String(t.owner2Id)===String(d);if(a||s||o){r=a?"Record Holder":s||o?"Opponent":"";const i=t.team?"".concat(t.team," vs ").concat(t.opponent):"".concat(t.team1," vs ").concat(t.team2);I.push({recordKey:e,label:T[e],rank:n+1,value:t.value,year:t.year,week:t.week,teamsText:i,role:r})}})}),m(p),g(y),b(I),(async(e,t)=>{const{seasonalMetrics:n,careerDPRData:r}=s(o,0,c,l),a=[];if(r&&Array.isArray(r)){const e=[{key:"dpr",label:"Highest DPR",isMax:!0},{key:"wins",label:"Total Wins",isMax:!0},{key:"losses",label:"Total Losses",isMax:!0},{key:"winPercentage",label:"Best Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"allPlayWinPercentage",label:"Best All-Play Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"topScoreWeeksCount",label:"Most Weekly High Scores",isMax:!0},{key:"weeklyTop2ScoresCount",label:"Most Weekly Top 2 Scores",isMax:!0},{key:"blowoutWins",label:"Most Blowout Wins",isMax:!0},{key:"blowoutLosses",label:"Most Blowout Losses",isMax:!0},{key:"slimWins",label:"Most Slim Wins",isMax:!0},{key:"slimLosses",label:"Most Slim Losses",isMax:!0},{key:"pointsFor",label:"Most Total Points",isMax:!0,format:e=>aD(e,2)},{key:"pointsAgainst",label:"Most Points Against",isMax:!0,format:e=>aD(e,2)},{key:"totalLuckRating",label:"Best Luck",isMax:!0,format:e=>aD(e,3)}];e.forEach(e=>{let n=e.isMax?-1/0:1/0,s=[];if(r.forEach(t=>{const r=t[e.key];"number"!==typeof r||isNaN(r)||(e.isMax&&r>n||!e.isMax&&r<n?(n=r,s=[t.ownerId]):r===n&&s.push(t.ownerId))}),s.includes(t)){const n=r.find(e=>e.ownerId===t);let s=n[e.key];e.format&&(s=e.format(s)),a.push({label:e.label,value:s,details:"",year:""})}})}const i={};Object.keys(o.winnersBracketBySeason||{}).forEach(e=>{const t=parseInt(e);o.winnersBracketBySeason[e].forEach(e=>{var n,r,a,s,l,c;const u=String(e.team1_roster_id),d=String(e.team2_roster_id),h=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,f=null===(s=o.rostersBySeason)||void 0===s||null===(l=s[t])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===d))||void 0===c?void 0:c.owner_id;[h,f].forEach(e=>{e&&(i[e]||(i[e]={appearances:0,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,championships:0,runnerUps:0,thirdPlaces:0}))}),h&&i[h].appearances++,f&&i[f].appearances++;const m=Number(e.team1_score),p=Number(e.team2_score);isNaN(m)||isNaN(p)||(m>p?(i[h].wins++,i[f].losses++):p>m?(i[f].wins++,i[h].losses++):m===p&&m>0&&(i[h].ties++,i[f].ties++),i[h].pointsFor+=m,i[h].pointsAgainst+=p,i[f].pointsFor+=p,i[f].pointsAgainst+=m),1===e.p&&e.w&&(1===e.w&&h&&i[h].championships++,2===e.w&&f&&i[f].championships++),1===e.p&&e.l&&(1===e.l&&h&&i[h].runnerUps++,2===e.l&&f&&i[f].runnerUps++),3===e.p&&e.w&&(1===e.w&&h&&i[h].thirdPlaces++,2===e.w&&f&&i[f].thirdPlaces++)})});const u=[{key:"appearances",label:"Playoff Appearances",isMax:!0},{key:"wins",label:"Playoff Wins",isMax:!0},{key:"losses",label:"Playoff Losses",isMax:!0},{key:"pointsFor",label:"Playoff Points For",isMax:!0,format:e=>aD(e,2)},{key:"pointsAgainst",label:"Playoff Points Against",isMax:!0,format:e=>aD(e,2)},{key:"championships",label:"Championships",isMax:!0},{key:"runnerUps",label:"Runner-Ups",isMax:!0},{key:"thirdPlaces",label:"Third Places",isMax:!0}],d=[];u.forEach(e=>{let n=e.isMax?-1/0:1/0,r=[];if(Object.entries(i).forEach(t=>{let[a,s]=t;const o=s[e.key];"number"!==typeof o||isNaN(o)||(e.isMax&&o>n||!e.isMax&&o<n?(n=o,r=[a]):o===n&&r.push(a))}),r.includes(String(t))){let n=i[t][e.key];if(e.format&&(n=e.format(n)),("pointsFor"===e.key||"pointsAgainst"===e.key)&&0===Number(n))return;if("appearances"===e.key){const e=Object.keys(o.winnersBracketBySeason||{}).length;n=Math.min(Number(n),e)}d.push({label:e.label,value:n})}});const h={};Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t;const n=parseInt(e),r=o.matchupsBySeason[e];Object.values((null===(t=o.rostersBySeason)||void 0===t?void 0:t[n])||{}).forEach(e=>{const t=e.owner_id;if(!t)return;h[t]||(h[t]={win:0,loss:0});let n=0,a=0,s=r.filter(t=>String(t.team1_roster_id)===String(e.roster_id)||String(t.team2_roster_id)===String(e.roster_id));s=s.sort((e,t)=>parseInt(e.week)-parseInt(t.week)),s.forEach(r=>{const s=String(r.team1_roster_id)===String(e.roster_id),o=Number(s?r.team1_score:r.team2_score),i=Number(s?r.team2_score:r.team1_score);isNaN(o)||isNaN(i)||(o>i?(n++,a>h[t].loss&&(h[t].loss=a),a=0):o<i?(a++,n>h[t].win&&(h[t].win=n),n=0):(n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a),n=0,a=0))}),n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a)})});let f=-1/0,m=-1/0,p=[],g=[];Object.entries(h).forEach(e=>{let[t,n]=e;n.win>f?(f=n.win,p=[t]):n.win===f&&p.push(t),n.loss>m?(m=n.loss,g=[t]):n.loss===m&&g.push(t)});const y=[];p.includes(String(t))&&y.push({label:"Longest Win Streak",value:f,details:"",year:""}),g.includes(String(t))&&y.push({label:"Longest Losing Streak",value:m,details:"",year:""});const v=[],x=[{key:"wins",label:"Most Wins in a Season",isMax:!0},{key:"losses",label:"Most Losses in a Season",isMax:!0},{key:"winPercentage",label:"Best Win % in a Season",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"pointsFor",label:"Most Points For in a Season",isMax:!0,format:e=>aD(e,2)},{key:"luckRating",label:"Best Luck Rating in a Season",isMax:!0,format:e=>aD(e,3)},{key:"adjustedDPR",label:"Highest DPR in a Season",isMax:!0,format:e=>aD(e,3)}];return x.forEach(e=>{let r=e.isMax?-1/0:1/0,a=[];Object.keys(n).forEach(t=>{const s=parseInt(t);Object.values(n[s]).forEach(t=>{const n=t[e.key];"number"!==typeof n||isNaN(n)||(e.isMax&&n>r||!e.isMax&&n<r?(r=n,a=[{ownerId:t.ownerId,year:s}]):n===r&&a.push({ownerId:t.ownerId,year:s}))})}),a.forEach(r=>{if(r.ownerId===t){let a=null;Object.keys(n).forEach(s=>{const o=parseInt(s);if(o!==r.year)return;const i=Object.values(n[o]).find(e=>e.ownerId===t);i&&(a=i[e.key])}),e.format&&(a=e.format(a)),v.push({label:e.label,value:a,year:r.year,details:""})}})}),{career:a,playoff:d,streak:y,season:v}})(0,d).then(j),S(!1),h.A.debug("TeamDetailPage: Final teamOverallStats for ".concat(e,":"),p)},[n,o,i,l,c,r,a]),(0,t.useEffect)(()=>{(async()=>{if(!o||!o.matchupsBySeason)return h.A.debug("No historical data available for financial fetch"),void A(!1);h.A.debug("Starting financial data fetch..."),A(!0);try{const e=Object.keys(o.matchupsBySeason).map(String);if(h.A.debug("Available years for financial data:",e),0===e.length)return h.A.debug("No years found in historical data"),E({}),void A(!1);h.A.debug("Fetching financial data for years:",e);const t=await lA(e);h.A.debug("Received financial data:",t),E(t)}catch(e){h.A.error("Error fetching financial data:",e),E({})}finally{A(!1)}})()},[o]);const L=(e,t)=>P[e]&&P[e].transactions&&t?((e,t)=>{if(!e||!Array.isArray(e)||!t)return{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&e.team.includes(t)),r=n.filter(e=>"Fee"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+cA(t)/n},0),a=n.filter(e=>"Payout"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+Number(t.amount||0)/n},0);return{totalFees:r,totalPayouts:a,netTotal:a-r,transactionCount:n.length}})(P[e].transactions,t):{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0},B=(e,t)=>P[e]&&P[e].transactions&&t?uA(P[e].transactions,t):{tradeFees:0,waiverFees:0,totalTransactions:0},F=(0,t.useMemo)(()=>{const e=[...p],t=e=>{var t;return"N/A"===e?1/0:parseInt((null===(t=e.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0")};return e.sort((e,n)=>{let r,a;if("record"===T)r=(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties),a=(n.wins+.5*n.ties)/(n.wins+n.losses+n.ties);else if("finish"===T||"pointsFinish"===T)r=t(e[T]),a=t(n[T]);else if("tradeCount"===T){const t=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=B(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.tradeFees,a=s.tradeFees}else if("waiverCount"===T){const t=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=B(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.waiverFees,a=s.waiverFees}else if("netFinancial"===T){const t=L(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=L(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.netTotal,a=s.netTotal}else r=e[T],a=n[T];return(r<a?-1:r>a?1:0)*("asc"===C?1:-1)})},[p,T,C,P,null===f||void 0===f?void 0:f.ownerId]),W=e=>{T===e?D("asc"===C?"desc":"asc"):(I(e),D("asc"))};return w?(0,G.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-gray-600",children:["Loading ",n,"'s historical data..."]}):f?(0,G.jsxs)("div",{className:"w-full bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-md mt-4 sm:mt-8",children:[(0,G.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-blue-700 mb-4 sm:mb-6 text-center border-b pb-2 sm:pb-3",children:[n,(0,G.jsxs)("span",{className:"block text-base sm:text-lg font-medium text-gray-600 mt-1 sm:mt-2",children:["Record: ",f.totalWins,"-",f.totalLosses,"-",f.totalTies," | Career DPR: ",fM(f.avgDPR),(0,G.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap mt-1",children:[f.totalChampionships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Champion (".concat(f.totalChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalChampionships,"x"]})]}),f.totalRunnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up (".concat(f.totalRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalRunnerUps,"x"]})]}),f.totalThirdPlaces>0&&(0,G.jsxs)("span",{title:"3rd Place Finish (".concat(f.totalThirdPlaces,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalThirdPlaces,"x"]})]}),f.totalPointsChampionships>0&&(0,G.jsxs)("span",{title:"1st Place - Points (".concat(f.totalPointsChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalPointsChampionships,"x"]})]}),f.totalPointsRunnerUps>0&&(0,G.jsxs)("span",{title:"2nd Place - Points (".concat(f.totalPointsRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalPointsRunnerUps,"x"]})]}),f.totalThirdPlacePoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points (".concat(f.totalThirdPlacePoints,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalThirdPlacePoints,"x"]})]})]})]})]})," ",(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"League Ranks"}),(0,G.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[(0,G.jsx)(mM,{title:"Total Wins",value:f.totalWins,rank:f.winRank}),(0,G.jsx)(mM,{title:"Win %",value:dM((f.totalWins+.5*f.totalTies)/f.totalGamesPlayed),rank:f.winPercentageRank}),(0,G.jsx)(mM,{title:"Total Points",value:aD(f.totalPointsFor),rank:f.pointsForRank}),(0,G.jsx)(mM,{title:"Weekly Top Scores",value:void 0!==f.overallTopScoreWeeksCount?"".concat(f.overallTopScoreWeeksCount):"N/A",rank:f.topScoreWeeksRank}),(0,G.jsx)(mM,{title:"Playoff Appearances",value:f.playoffAppearancesCount,rank:f.playoffRank}),(0,G.jsx)(mM,{title:"Championships",value:f.totalChampionships,rank:f.championshipRank})]})]}),(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Season History"}),p.length>0?(0,G.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,G.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("year"),children:["Year ","year"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("record"),children:["Record (W-L-T) ","record"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsFor"),children:["Points For ","pointsFor"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-red-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsAgainst"),children:["Points Against ","pointsAgainst"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("luckRating"),children:["Luck Rating ","luckRating"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-purple-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("finish"),children:["Finish ","finish"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsFinish"),children:["Points Finish ","pointsFinish"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("adjustedDPR"),children:["Adjusted DPR ","adjustedDPR"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("allPlayWinPercentage"),children:["All-Play Win % ","allPlayWinPercentage"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-indigo-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("tradeCount"),children:["Trades ","tradeCount"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-cyan-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("waiverCount"),children:["FA/Waivers ","waiverCount"===T&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-orange-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("netFinancial"),children:["Net Financial ","netFinancial"===T&&("asc"===C?"\u25b2":"\u25bc")]})]})}),(0,G.jsx)("tbody",{children:F.map((e,t)=>{const n=L(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),r=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId);return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.ties>0?"".concat(e.wins,"-").concat(e.losses,"-").concat(e.ties):"".concat(e.wins,"-").concat(e.losses)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:aD(e.pointsFor)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:aD(e.pointsAgainst)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:hM(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.finish}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.pointsFinish}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:fM(e.adjustedDPR)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:dM(e.allPlayWinPercentage)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:O?"...":r.tradeFees}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:O?"...":r.waiverFees}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat(O?"text-gray-400":n.netTotal>0?"text-green-600":n.netTotal<0?"text-red-600":"text-gray-700"),children:O?"...":dA(n.netTotal)})]},e.year)})})]})}):(0,G.jsxs)("p",{className:"text-gray-600",children:["No season-by-season data available for ",n," for completed seasons."]})]}),(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Previous 5 Games"}),y.length>0?(0,G.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,G.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Result"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Team"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Margin"})]})}),(0,G.jsx)("tbody",{children:y.map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:[e.year," \u2022 W",e.week]}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.opponent}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat("W"===e.result?"text-green-700":"L"===e.result?"text-red-700":"text-gray-700"),children:e.result}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:aD(e.myScore)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:aD(e.oppScore)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:aD(e.margin)})]},"".concat(e.year,"-").concat(e.week,"-").concat(t)))})]})}):(0,G.jsx)("p",{className:"text-gray-600",children:"No recent games available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"DPR & Finish by Season"}),p.length>0?(()=>{const e=p.map(e=>"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null).filter(e=>"number"===typeof e&&!isNaN(e));let t=Math.min(...e),n=Math.max(...e);if(isFinite(t)&&isFinite(n)){const e=Math.max(.03,.12*(n-t));t=Math.floor(1e3*(t-e))/1e3,n=Math.ceil(1e3*(n+e))/1e3,t=Math.max(.5,t),n=Math.min(1.5,n)}else t=.6,n=1.3;return(0,G.jsx)("div",{className:"w-full h-[220px] xs:h-[260px] sm:h-[340px] md:h-[400px] px-0 xs:px-1 sm:px-2",children:(0,G.jsx)(it,{width:"100%",height:"100%",children:(0,G.jsxs)(lM,{data:p.map(e=>{var t;return{season:e.year,dpr:"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null,finish:"string"===typeof e.finish&&"N/A"!==e.finish?parseInt((null===(t=e.finish.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0"):null}}),margin:{top:10,right:20,left:0,bottom:10},children:[(0,G.jsx)(Vx,{strokeDasharray:"3 3",vertical:!1}),(0,G.jsx)(fx,{dataKey:"season",tick:{fontSize:10},padding:{left:8,right:8},children:(0,G.jsx)(Wf,{value:"Season",offset:-6,position:"insideBottom",style:{fontSize:11}})}),(0,G.jsx)(jx,{yAxisId:"left",orientation:"left",domain:[t,n],tickCount:8,tick:{fontSize:10},width:32,allowDecimals:!0,allowDataOverflow:!0,children:(0,G.jsx)(Wf,{value:"DPR",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:11}})}),(0,G.jsx)(jx,{yAxisId:"right",orientation:"right",domain:[1,12],reversed:!0,tick:{fontSize:10},width:32,allowDecimals:!1,allowDataOverflow:!0,ticks:[1,2,3,4,5,6,7,8,9,10,11,12],children:(0,G.jsx)(Wf,{value:"Finish",angle:90,position:"insideRight",style:{textAnchor:"middle",fontSize:11}})}),(0,G.jsx)(un,{wrapperStyle:{fontSize:12},formatter:(e,t,n)=>"dpr"===t&&"number"===typeof e?[Number(e).toFixed(3),"DPR"]:"finish"===t&&"number"===typeof e?[Math.round(e),"Finish"]:[e,t]}),(0,G.jsx)(Fr,{verticalAlign:"top",height:28,iconSize:14,wrapperStyle:{fontSize:12,paddingBottom:2}}),(0,G.jsx)(yp,{yAxisId:"left",dataKey:"dpr",name:"DPR",fill:"#2563eb",barSize:18,radius:[5,5,0,0]}),(0,G.jsx)(Iv,{yAxisId:"right",type:"monotone",dataKey:"finish",name:"Finish",stroke:"#f59e42",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})})})():(0,G.jsx)("p",{className:"text-gray-600",children:"No season-by-season data available for this team."})]}),(0,G.jsxs)("section",{children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Game Records"}),(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-x-auto",children:x.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Role"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Record"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Rank"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Value"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Game"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Week"})]})}),(0,G.jsx)("tbody",{children:x.sort((e,t)=>e.label.localeCompare(t.label)||e.rank-t.rank).map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.role}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.label}),(0,G.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:["#",e.rank]}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:aD(e.value)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.teamsText}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.week})]},"".concat(e.recordKey,"-").concat(e.year,"-").concat(e.week,"-").concat(t)))})]})}):(0,G.jsx)("p",{className:"text-gray-600 p-4",children:"No record book involvements found for this team."})})]}),(0,G.jsx)(bD,{ownerId:f.ownerId,allDraftHistory:i,totalRounds:12,totalTeams:12})]}):(0,G.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-red-500",children:["No data found for ",n,"."]})},gM=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=[...new Set(t.filter(e=>null!==e&&"undefined"!==typeof e&&!isNaN(e)))].sort((e,t)=>n?t-e:e-t),a=r.indexOf(e)+1;return a>0?"".concat(a).concat((e=>{const t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"})(a)):"N/A"},yM=()=>{const{loading:e,error:n,historicalData:r,getTeamName:a,getTeamDetails:s,careerDPRData:o,nflState:i}=X(),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)({});(0,t.useEffect)(()=>{if(e||n)return void m(!0);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return c({}),g({}),void m(!1);m(!0);const t={},s={},o=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,l=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;Object.entries(r.matchupsBySeason).forEach(e=>{let[t,n]=e;const a={};n.forEach(e=>{const n=parseInt(e.week),r=parseInt(t);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),Object.entries(a).forEach(e=>{var n;let[a,o]=e;const i=(null===(n=r.rostersBySeason)||void 0===n?void 0:n[t])||[],l=[];if(o.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=i.find(t=>String(t.roster_id)===String(e.team2_roster_id)),r=null===t||void 0===t?void 0:t.owner_id,a=null===n||void 0===n?void 0:n.owner_id,s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);r&&!isNaN(s)&&l.push({ownerId:r,score:s}),a&&!isNaN(o)&&l.push({ownerId:a,score:o})}),0===l.length)return;const c=Math.max(...l.map(e=>e.score)),u=l.filter(e=>e.score===c).map(e=>e.ownerId);u.forEach(e=>{s[e]=(s[e]||0)+1})})}),Object.entries(r.matchupsBySeason).forEach(e=>{var n,s,i,c;let[u,d]=e;const h=r.leaguesMetadataBySeason[u],f=null!==h&&void 0!==h&&null!==(n=h.settings)&&void 0!==n&&n.championship_week?parseInt(h.settings.championship_week):null,m=(null===(s=r.rostersBySeason)||void 0===s?void 0:s[u])||[],p=(null===(i=r.winnersBracketBySeason)||void 0===i?void 0:i[u])||[],g=(null===(c=r.losersBracketBySeason)||void 0===c?void 0:c[u])||[];d.forEach(e=>{const n=parseInt(e.week),r=parseInt(u);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}const s=String(e.team1_roster_id),i=String(e.team2_roster_id),c=parseFloat(e.team1_score),d=parseFloat(e.team2_score);if(!s||!i||s===i||isNaN(c)||isNaN(d))return;const h=m.find(e=>String(e.roster_id)===s),y=m.find(e=>String(e.roster_id)===i),v=null===h||void 0===h?void 0:h.owner_id,x=null===y||void 0===y?void 0:y.owner_id;if(!v||!x)return;const b=a(v,u),w=a(x,u);if(b.startsWith("Unknown Team")||w.startsWith("Unknown Team"))return;const S=c===d,k=c>d;let j="Reg. Season";const _=String(e.team1_roster_id),N=String(e.team2_roster_id),P=e=>e.find(e=>{const t=[String(e.t1),String(e.t2)].filter(Boolean);return parseInt(e.week)===n&&t.includes(_)&&t.includes(N)}),E=P(p),O=P(g);if(E)if(E.p){const e=E.p;j=1===e?"Championship Game":3===e?"3rd Place Game":5===e?"5th Place Game":7===e?"7th Place Game":9===e?"9th Place Game":11===e?"11th Place Game":"".concat(e,"th Place Game")}else j=f&&n===f?"Championship Game":"Playoffs";else if(O)if(O.p){const e=O.p;j=1===e?"7th Place Game":3===e?"9th Place Game":5===e?"11th Place Game":"Placement Game"}else j="Consolation";else e.playoff&&(j="Playoffs (Uncategorized)");const A=[v,x].sort(),T="".concat(A[0]," vs ").concat(A[1]);t[T]||(t[T]={owners:A,[A[0]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},[A[1]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},allMatches:[]});const I=t[T];let C="Tie",D="Tie";k?(C=v,D=x):d>c&&(C=x,D=v);const M=v===A[0]?I[A[0]]:I[A[1]],R=x===A[0]?I[A[0]]:I[A[1]],L=j.includes("Playoff")||j.includes("Championship")||j.includes("Consolation");S?(M.ties++,R.ties++,L&&(M.playoffTies++,R.playoffTies++)):k?(M.wins++,R.losses++,L&&(M.playoffWins++,R.playoffLosses++)):(R.wins++,M.losses++,L&&(R.playoffWins++,M.playoffLosses++)),I.allMatches.push({year:parseInt(u),week:e.week,matchupId:e.match_id,team1RosterId:s,team2RosterId:i,team1OwnerId:v,team2OwnerId:x,team1Score:c,team2Score:d,winnerOwnerId:C,loserOwnerId:D,winnerDisplayName:C===v?b:w,loserDisplayName:D===v?b:w,winnerScore:C===v?c:d,loserScore:D===v?c:d,isTie:S,matchType:j})})}),c(t),g(s),m(!1)},[r,a,e,n]);const y=(0,t.useMemo)(()=>{const e=new Set;Object.values(l).forEach(t=>{t.owners.forEach(t=>e.add(t))});return Array.from(e).map(e=>({ownerId:e,displayName:a(e,null)})).sort((e,t)=>e.displayName.localeCompare(t.displayName))},[l,a]),v=(0,t.useCallback)(()=>{var e,t;const n=l[u];if(!n)return null;const r=n.owners[0],c=n.owners[1],f=a(r,null),m=a(c,null),g=n[r];n[c];let y={value:null,year:null,week:null,ownerId:null},v={value:null,year:null,week:null,winningOwnerId:null},x={value:1/0,year:null,week:null,winningOwnerId:null},b=0,w=0,S=null,k=0;const j=[...n.allMatches].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week),_=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,N=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;let P=0;const E=j.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&((0!==e.team1Score||0!==e.team2Score)&&("number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score))))}),O=E.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week),r="number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&((0!==e.team1Score||0!==e.team2Score)&&r))}).map(e=>{let t,n;e.team1OwnerId===r?(t=e.team1Score,n=e.team2Score):(t=e.team2Score,n=e.team1Score);const a=t-n;return P+=a,{name:"".concat(e.year," W").concat(e.week),netPoints:a,cumulativeNetPoints:P,positiveCumulativeNetPoints:P>=0?P:0,negativeCumulativeNetPoints:P<0?P:0,mainTeamScore:t,oppTeamScore:n,week:e.week,year:e.year}});h.A.debug("Net Points Data for chart:",O),E.forEach(e=>{let t,n;if(e.team1OwnerId===r)t=e.team1Score,n=e.team2Score;else{if(e.team1OwnerId!==c)return;t=e.team2Score,n=e.team1Score}if(!isNaN(t)&&!isNaN(n)){if(b+=t,w+=n,t>(y.value||0)&&(y={value:t,year:e.year,week:e.week,ownerId:e.team1OwnerId}),n>(y.value||0)&&(y={value:n,year:e.year,week:e.week,ownerId:e.team2OwnerId}),!e.isTie){const a=Math.abs(t-n);a>(v.value||0)&&(v={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(!e.isTie){const a=Math.abs(t-n);a<x.value&&(x={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(e.isTie)S=null,k=0;else{const e=t>n?r:c;S===e?k++:(S=e,k=1)}}});S&&"".concat(a(S,null)," ").concat(k,"-game W streak");const A=o?o.map(e=>e.wins):[],T=o?o.map(e=>e.winPercentage):[],I=o?o.map(e=>e.dpr):[],C=o?o.map(e=>e.pointsFor):[],D=o?o.map(e=>e.highScore):[];return(0,G.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md border border-gray-200",children:[(0,G.jsx)("button",{onClick:()=>d(null),className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"\u2190 Back to All Rivalries"}),(0,G.jsxs)("div",{className:"text-center mb-6 flex flex-col items-center",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(r,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(f," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("h3",{className:"text-2xl font-extrabold text-gray-800 mb-2",children:[f," ",(0,G.jsx)("span",{className:"text-lg font-normal",children:"vs"})," ",m]}),(0,G.jsx)("img",{src:s&&(null===(t=s(c,null))||void 0===t?void 0:t.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(m," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}})]}),(0,G.jsx)("p",{className:"text-sm text-gray-600",children:"Performance, stats, and records"})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-6 items-center",children:[(e=>{const t=r,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=c,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,f=i?i.dpr:null,m=p[t]||0,g=i?i.highScore:null,y=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=gM(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let S="bg-blue-50";v>w?S="bg-green-100 text-green-800":v<w?S="bg-red-100 text-red-800":v===w&&0!==v&&(S="bg-yellow-100 text-yellow-800");const k=u?u.wins:null,j=u?u.winPercentage:null,_=u?u.dpr:null,N=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},E=gM(d,A,!0),O=gM(h,T,!0),M=gM(f,I,!0),R=(gM(g,D,!0),gM(y,C,!0)),L=p[l]||0;let B="p-2 rounded-md ";B+=m>L?"bg-green-100 text-green-800":m<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=P(h,j,!0),W=(e,t,n,r)=>(0,G.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,G.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,G.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,G.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,G.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(E,"Total Wins",null!==d?d:"N/A",P(d,k)),W(O,"Win %",null!==h?h.toFixed(3)+"%":"N/A",F),W(M,"Career DPR",null!==f?aD(f,3):"N/A",P(f,_)),W(gM(m,Object.values(p),!0),"Weekly High Score",m,B),W(R,"Total Points",null!==y?aD(y,2):"N/A",P(y,N)),W(b,"Medal Score",v,S)]})]})})(),(0,G.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,G.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-xl shadow-lg border border-blue-600 text-center w-full max-w-xs mx-auto",children:[(0,G.jsx)("h4",{className:"text-2xl font-extrabold mb-3 tracking-wide",children:"\u2605 VERSUS \u2605"}),(0,G.jsxs)("p",{className:"text-xl font-semibold mb-2",children:["Record: ",(0,G.jsx)("span",{className:"font-bold",children:g.ties&&g.ties>0?(M=g,M?"".concat(M.wins||0,"-").concat(M.losses||0,"-").concat(M.ties||0):"0-0-0"):"".concat(g.wins||0,"-").concat(g.losses||0)})]}),S?(0,G.jsxs)("p",{className:"text-lg mb-2",children:["Streak: ",S===r?"W-".concat(k):"L-".concat(k)]}):(0,G.jsx)("div",{className:"mb-2 h-6"}),(0,G.jsxs)("p",{className:"text-lg",children:["Playoff Record: ",(0,G.jsx)("span",{className:"font-bold",children:(()=>{const e=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.winnerOwnerId===r).length,t=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.loserOwnerId===r).length,n=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.isTie).length;return n>0?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(t)})()})]})]})}),(e=>{const t=c,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=r,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,f=i?i.dpr:null,m=p[t]||0,g=i?i.highScore:null,y=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=gM(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let S="bg-blue-50";v>w?S="bg-green-100 text-green-800":v<w?S="bg-red-100 text-red-800":v===w&&0!==v&&(S="bg-yellow-100 text-yellow-800");const k=u?u.wins:null,j=u?u.winPercentage:null,_=u?u.dpr:null,N=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},E=gM(d,A,!0),O=gM(h,T,!0),M=gM(f,I,!0),R=(gM(g,D,!0),gM(y,C,!0)),L=p[l]||0;let B="p-2 rounded-md ";B+=m>L?"bg-green-100 text-green-800":m<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=P(h,j,!0),W=(e,t,n,r)=>(0,G.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,G.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,G.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,G.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,G.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(E,"Total Wins",null!==d?d:"N/A",P(d,k)),W(O,"Win %",null!==h?h.toFixed(3)+"%":"N/A",F),W(M,"Career DPR",null!==f?aD(f,3):"N/A",P(f,_)),W(gM(m,Object.values(p),!0),"Weekly High Score",m,B),W(R,"Total Points",null!==y?aD(y,2):"N/A",P(y,N)),W(b,"Medal Score",v,S)]})]})})()]}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-2 border-b pb-2",children:"Net Points Over Time"}),(0,G.jsxs)("div",{className:"w-full h-64 mb-8",children:[(0,G.jsx)(it,{width:"100%",height:"100%",children:(0,G.jsxs)(xD,{data:O,margin:{top:10,right:30,left:0,bottom:0},children:[(0,G.jsx)(Vx,{strokeDasharray:"3 3"}),(0,G.jsx)(fx,{dataKey:"name",fontSize:12,angle:-30,textAnchor:"end",height:50,interval:0,tickFormatter:(e,t)=>e,ticks:O.map(e=>e.name)}),(0,G.jsx)(jx,{domain:["auto","auto"],fontSize:12}),(0,G.jsx)(un,{formatter:(e,t)=>["number"===typeof e?aD(e,2):e,"Cumulative Net Points"]}),(0,G.jsx)(vg,{y:0,stroke:"#374151",strokeWidth:2}),(0,G.jsx)(yp,{dataKey:"cumulativeNetPoints",children:O.map((e,t)=>(0,G.jsx)(Kf,{fill:e.cumulativeNetPoints>=0?"#10b981":"#ef4444"},"cell-".concat(t)))})]})}),(0,G.jsxs)("div",{className:"text-xs text-center mt-2 text-gray-600",children:["Green area: ",f," outscored ",m,". Red area: ",m," outscored ",f,"."]})]}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-4 border-b pb-2",children:"Matchup Highlights"}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Highest Score"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==y.value?aD(y.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:null!==y.value&&y.ownerId?"".concat(a(y.ownerId,null)," (").concat(y.year," Week ").concat(y.week,")"):""})]}),(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Biggest Win Margin"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==v.value?aD(v.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:null!==v.value&&v.winningOwnerId?"".concat(a(v.winningOwnerId,null)," (").concat(v.year," Week ").concat(v.week,")"):""})]}),(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Slimmest Win Margin"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:x.value!==1/0?aD(x.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:x.value!==1/0&&x.winningOwnerId?"".concat(a(x.winningOwnerId,null)," (").concat(x.year," Week ").concat(x.week,")"):""})]})]}),(0,G.jsx)("h4",{className:"text-lg font-bold text-gray-800 mt-6 mb-3 border-b pb-2",children:"Match History"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Year"}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Week"}),(0,G.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[f," Score"]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[m," Score"]}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Winner"}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Type"})]})}),(0,G.jsx)("tbody",{children:n.allMatches.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&(0!==e.team1Score||0!==e.team2Score))}).sort((e,t)=>t.year-e.year||t.week-e.week).map((e,t)=>{let n=e.team1OwnerId===r?e.team1Score:e.team2Score,a=e.team1OwnerId===c?e.team1Score:e.team2Score;return(0,G.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,G.jsx)("td",{className:"py-2 px-3",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3",children:e.week}),(0,G.jsx)("td",{className:"py-2 px-3",children:aD(n,2)}),(0,G.jsx)("td",{className:"py-2 px-3",children:aD(a,2)}),(0,G.jsx)("td",{className:"py-2 px-3",children:"Tie"===e.winnerDisplayName?"Tie":e.winnerDisplayName}),(0,G.jsx)("td",{className:"py-2 px-3 text-xs text-gray-500",children:e.matchType})," "]},t)})})]})})]});var M},[u,l,o,a,s,r,i]);return f?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,G.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,G.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,G.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,G.jsx)("p",{className:"text-lg font-medium",children:"Loading Head-to-Head data..."})]}):n?(0,G.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,G.jsxs)("p",{children:["Error loading historical data: ",n.message||String(n)]}),(0,G.jsx)("p",{children:"Please check your Sleeper API configuration and network connection."})]}):r&&0!==Object.keys(r.matchupsBySeason||{}).length?(0,G.jsx)("div",{className:"w-full",children:u?v():(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Head-to-Head Rivalries"}),(0,G.jsxs)("div",{className:"overflow-x-auto relative",children:[" ",(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 sticky left-0 bg-blue-50 z-20 shadow-sm"}),y.map(e=>(0,G.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 min-w-[90px] sticky top-0 bg-blue-50 z-10",children:[" ",e.displayName]},e.ownerId))]})}),(0,G.jsx)("tbody",{children:y.map(e=>(0,G.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,G.jsxs)("td",{className:"py-2 px-3 text-left text-sm text-gray-800 font-semibold sticky left-0 bg-white z-20 border-r border-gray-200 shadow-sm",children:[" ",e.displayName]}),y.map(t=>{if(e.ownerId===t.ownerId)return(0,G.jsx)("td",{className:"py-2 px-3 text-center text-sm text-gray-400 bg-gray-100 border-b border-gray-200",children:"---"},"".concat(e.ownerId,"-").concat(t.ownerId));const n=[e.ownerId,t.ownerId].sort().join(" vs "),r=l[n];let a="0-0",s="py-2 px-3 text-center text-sm border-b border-gray-200 cursor-pointer ";if(r){const t=r[e.ownerId];t.wins+t.losses+t.ties>0?(a="".concat(t.wins,"-").concat(t.losses),t.wins>t.losses?s+="bg-green-100 text-green-800 hover:bg-green-200":t.losses>t.wins?s+="bg-red-100 text-red-800 hover:bg-red-200":s+="bg-yellow-100 text-yellow-800 hover:bg-yellow-200"):s+="text-gray-600 bg-white hover:bg-gray-50"}else s+="text-gray-600 bg-white hover:bg-gray-50";return(0,G.jsx)("td",{className:s,onClick:()=>r&&d(n),children:a},"".concat(e.ownerId,"-").concat(t.ownerId))})]},e.ownerId))})]})]}),(0,G.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Click on any record in the grid for more detailed head-to-head statistics."})]})}):(0,G.jsx)("div",{className:"text-center text-orange-600 text-lg p-4",children:"No historical matchup data available to build Head-to-Head grid."})};function vM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function xM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bM=xM,wM=new ob("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),SM=new Nb("@firebase/auth");function kM(e){if(SM.logLevel<=wb.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];SM.error("Auth (".concat(Aw,"): ").concat(e),...n)}}function jM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw EM(e,...n)}function _M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return EM(e,...n)}function NM(e,t,n){const r=Object.assign(Object.assign({},bM()),{[t]:n});return new ob("auth","Firebase",r).create(t,{appName:e.name})}function PM(e){return NM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return wM.create(e,...n)}function OM(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw EM(t,...r)}}function AM(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kM(t),new Error(t)}function TM(e,t){e||AM(t)}function IM(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function CM(){return"http:"===DM()||"https:"===DM()}function DM(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function MM(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(CM()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class RM{constructor(e,t){this.shortDelay=e,this.longDelay=t,TM(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nb())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return MM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LM(e,t){TM(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class BM{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void AM("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void AM("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void AM("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},WM=new RM(3e4,6e4);function UM(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zM(e,t,n,r){return VM(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const o=ub(Object.assign({key:e.config.apiKey},s)).slice(1),i=await e._getAdditionalHeaders();i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:i},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),BM.fetch()(GM(e,e.config.apiHost,n,o),l)})}async function VM(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},FM),t);try{const t=new KM(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw YM(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw YM(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw YM(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw YM(e,"user-disabled",s);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw NM(e,i,o);jM(e,i)}}catch(PF){if(PF instanceof sb)throw PF;jM(e,"network-request-failed",{message:String(PF)})}}async function HM(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zM(e,t,n,r,a);return"mfaPendingCredential"in s&&jM(e,"multi-factor-auth-required",{_serverResponse:s}),s}function GM(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?LM(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}function qM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(_M(this.auth,"network-request-failed")),WM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function YM(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=_M(e,t,r);return a.customData._tokenResponse=n,a}function QM(e){return void 0!==e&&void 0!==e.enterprise}class XM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qM(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function $M(e,t){return zM(e,"GET","/v2/recaptchaConfig",UM(e,t))}async function JM(e,t){return zM(e,"POST","/v1/accounts:lookup",t)}function ZM(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(PF){}}function eR(e){return 1e3*Number(e)}function tR(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kM("JWT malformed, contained fewer than 3 sections"),null;try{const e=Qx(n);return e?JSON.parse(e):(kM("Failed to decode base64 JWT payload"),null)}catch(PF){return kM("Caught error parsing JWT payload as JSON",null===PF||void 0===PF?void 0:PF.toString()),null}}function nR(e){const t=tR(e);return OM(t,"internal-error"),OM("undefined"!==typeof t.exp,"internal-error"),OM("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function rR(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(PF){throw PF instanceof sb&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(PF)&&e.auth.currentUser===e&&await e.auth.signOut(),PF}}class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(PF){return void((null===PF||void 0===PF?void 0:PF.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sR{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ZM(this.lastLoginAt),this.creationTime=ZM(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oR(e){var t;const n=e.auth,r=await e.getIdToken(),a=await rR(e,JM(n,{idToken:r}));OM(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?iR(s.providerUserInfo):[],i=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===i||void 0===i?void 0:i.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function iR(e){return e.map(e=>{var{providerId:t}=e,n=vM(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class lR{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){OM(e.idToken,"internal-error"),OM("undefined"!==typeof e.idToken,"internal-error"),OM("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):nR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){OM(0!==e.length,"internal-error");const t=nR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(OM(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await VM(e,{},async()=>{const n=ub({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=GM(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",BM.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new lR;return n&&(OM("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(OM("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(OM("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lR,this.toJSON())}_performRefresh(){return AM("not implemented")}}function cR(e,t){OM("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class uR{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=vM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sR(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await rR(this,this.stsTokenManager.getToken(this.auth,e));return OM(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=pb(e),r=await n.getIdToken(t),a=tR(r);OM(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:ZM(eR(a.auth_time)),issuedAtTime:ZM(eR(a.iat)),expirationTime:ZM(eR(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=pb(e);await oR(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(OM(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new uR(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){OM(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await oR(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pw(this.auth.app))return Promise.reject(PM(this.auth));const e=await this.getIdToken();return await rR(this,async function(e,t){return zM(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,o,i,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:S}=t;OM(v&&S,e,"internal-error");const k=lR.fromJSON(this.name,S);OM("string"===typeof v,e,"internal-error"),cR(u,e.name),cR(d,e.name),OM("boolean"===typeof x,e,"internal-error"),OM("boolean"===typeof b,e,"internal-error"),cR(h,e.name),cR(f,e.name),cR(m,e.name),cR(p,e.name),cR(g,e.name),cR(y,e.name);const j=new uR({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(j.providerData=w.map(e=>Object.assign({},e))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new lR;r.updateFromServerResponse(t);const a=new uR({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await oR(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];OM(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?iR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),o=new lR;o.updateFromIdToken(n);const i=new uR({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new sR(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(i,l),i}}const dR=new Map;function hR(e){TM(e instanceof Function,"Expected a class definition");let t=dR.get(e);return t?(TM(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dR.set(e,t),t)}class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fR.type="NONE";const mR=fR;function pR(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gR{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=pR(this.userKey,r.apiKey,a),this.fullPersistenceKey=pR("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?uR._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gR(hR(mR),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||hR(mR);const s=pR(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=uR._fromJSON(e,t);c!==a&&(o=n),a=c;break}}catch(l){}const i=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&i.length?(a=i[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(s)}catch(l){}})),new gR(a,e,n)):new gR(a,e,n)}}function yR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kR(t))return"Blackberry";if(jR(t))return"Webos";if(xR(t))return"Safari";if((t.includes("chrome/")||bR(t))&&!t.includes("edge/"))return"Chrome";if(SR(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/firefox\//i.test(e)}function xR(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/crios\//i.test(e)}function wR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/iemobile/i.test(e)}function SR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/android/i.test(e)}function kR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/blackberry/i.test(e)}function jR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/webos/i.test(e)}function _R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NR(){return function(){const e=nb();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function PR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb();return _R(e)||SR(e)||jR(e)||kR(e)||/windows phone/i.test(e)||wR(e)}function ER(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yR(nb());break;case"Worker":t="".concat(yR(nb()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Aw,"/").concat(r)}class OR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(PF){r(PF)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(PF){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===PF||void 0===PF?void 0:PF.message})}}}class AR{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,o;const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=null===(t=i.meetsMinPasswordLength)||void 0===t||t),i.isValid&&(i.isValid=null===(n=i.meetsMaxPasswordLength)||void 0===n||n),i.isValid&&(i.isValid=null===(r=i.containsLowercaseLetter)||void 0===r||r),i.isValid&&(i.isValid=null===(a=i.containsUppercaseLetter)||void 0===a||a),i.isValid&&(i.isValid=null===(s=i.containsNumericCharacter)||void 0===s||s),i.isValid&&(i.isValid=null===(o=i.containsNonAlphanumericCharacter)||void 0===o||o),i}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class TR{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CR(this),this.idTokenSubscription=new CR(this),this.beforeStateQueue=new OR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hR(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await gR.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(PF){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await JM(this,{idToken:e}),n=await uR._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pw(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(PF){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(PF))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return OM(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(PF){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oR(e)}catch(PF){if((null===PF||void 0===PF?void 0:PF.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pw(this.app))return Promise.reject(PM(this));const t=e?pb(e):null;return t&&OM(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&OM(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pw(this.app)?Promise.reject(PM(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pw(this.app)?Promise.reject(PM(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hR(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zM(e,"GET","/v2/passwordPolicy",UM(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new AR(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ob("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zM(e,"POST","/v2/accounts:revokeToken",UM(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hR(e)||this._popupRedirectResolver;OM(t,this,"argument-error"),this.redirectPersistenceManager=await gR.create(this,[hR(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(OM(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return OM(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ER(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(SM.logLevel<=wb.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];SM.warn("Auth (".concat(Aw,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function IR(e){return pb(e)}class CR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new fb(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return OM(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let DR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MR(e){return DR.loadJS(e)}function RR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class LR{constructor(e){this.type="recaptcha-enterprise",this.auth=IR(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;QM(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{$M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new XM(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&QM(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=DR.recaptchaEnterpriseScript;0!==t.length&&(t+=a),MR(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function BR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new LR(e);let s;try{s=await a.verify(n)}catch(i){s=await a.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function FR(e,t,n,r){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BR(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await BR(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}function WR(e,t,n){const r=IR(e);OM(r._canInitEmulator,r,"emulator-config-failed"),OM(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=UR(t),{host:o,port:i}=function(e){const t=UR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:zR(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zR(t)}}}(t),l=null===i?"":":".concat(i);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function UR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class VR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return AM("not implemented")}_getIdTokenResponse(e){return AM("not implemented")}_linkToIdToken(e,t){return AM("not implemented")}_getReauthenticationResolver(e){return AM("not implemented")}}async function HR(e,t){return zM(e,"POST","/v1/accounts:signUp",t)}async function GR(e,t){return HM(e,"POST","/v1/accounts:signInWithPassword",UM(e,t))}class qR extends VR{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qR(e,t,"password")}static _fromEmailAndCode(e,t){return new qR(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return FR(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",GR);case"emailLink":return async function(e,t){return HM(e,"POST","/v1/accounts:signInWithEmailLink",UM(e,t))}(e,{email:this._email,oobCode:this._password});default:jM(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return FR(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HR);case"emailLink":return async function(e,t){return HM(e,"POST","/v1/accounts:signInWithEmailLink",UM(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jM(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function KR(e,t){return HM(e,"POST","/v1/accounts:signInWithIdp",UM(e,t))}class YR extends VR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new YR(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jM("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=vM(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new YR(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return KR(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,KR(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,KR(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ub(t)}return e}}const QR={USER_NOT_FOUND:"user-not-found"};class XR extends VR{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new XR({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new XR({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return HM(e,"POST","/v1/accounts:signInWithPhoneNumber",UM(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await HM(e,"POST","/v1/accounts:signInWithPhoneNumber",UM(e,t));if(n.temporaryProof)throw YM(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return HM(e,"POST","/v1/accounts:signInWithPhoneNumber",UM(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),QR)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new XR({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class $R{constructor(e){var t,n,r,a,s,o;const i=db(hb(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,c=null!==(n=i.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);OM(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=i.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=i.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=i.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=db(hb(e)).link,n=t?db(hb(t)).deep_link_id:null,r=db(hb(e)).deep_link_id;return(r?db(hb(r)).link:null)||r||n||t||e}(e);try{return new $R(t)}catch(n){return null}}}class JR{constructor(){this.providerId=JR.PROVIDER_ID}static credential(e,t){return qR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$R.parseLink(t);return OM(n,"argument-error"),qR._fromEmailAndCode(e,n.code,n.tenantId)}}JR.PROVIDER_ID="password",JR.EMAIL_PASSWORD_SIGN_IN_METHOD="password",JR.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ZR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eL extends ZR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tL extends eL{constructor(){super("facebook.com")}static credential(e){return YR._fromParams({providerId:tL.PROVIDER_ID,signInMethod:tL.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tL.credentialFromTaggedObject(e)}static credentialFromError(e){return tL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tL.credential(t.oauthAccessToken)}catch(n){return null}}}tL.FACEBOOK_SIGN_IN_METHOD="facebook.com",tL.PROVIDER_ID="facebook.com";class nL extends eL{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return YR._fromParams({providerId:nL.PROVIDER_ID,signInMethod:nL.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nL.credentialFromTaggedObject(e)}static credentialFromError(e){return nL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return nL.credential(n,r)}catch(a){return null}}}nL.GOOGLE_SIGN_IN_METHOD="google.com",nL.PROVIDER_ID="google.com";class rL extends eL{constructor(){super("github.com")}static credential(e){return YR._fromParams({providerId:rL.PROVIDER_ID,signInMethod:rL.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rL.credentialFromTaggedObject(e)}static credentialFromError(e){return rL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rL.credential(t.oauthAccessToken)}catch(n){return null}}}rL.GITHUB_SIGN_IN_METHOD="github.com",rL.PROVIDER_ID="github.com";class aL extends eL{constructor(){super("twitter.com")}static credential(e,t){return YR._fromParams({providerId:aL.PROVIDER_ID,signInMethod:aL.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return aL.credentialFromTaggedObject(e)}static credentialFromError(e){return aL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return aL.credential(n,r)}catch(a){return null}}}aL.TWITTER_SIGN_IN_METHOD="twitter.com",aL.PROVIDER_ID="twitter.com";class sL{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await uR._fromIdTokenResponse(e,n,r),s=oL(n);return new sL({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=oL(n);return new sL({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function oL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class iL extends sb{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,iL.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new iL(e,t,n,r)}}function lL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw iL._fromErrorAndOperation(e,n,t,r);throw n})}async function cL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await rR(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sL._forOperation(e,"link",r)}async function uL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Pw(r.app))return Promise.reject(PM(r));const a="reauthenticate";try{const s=await rR(e,lL(r,a,t,e),n);OM(s.idToken,r,"internal-error");const o=tR(s.idToken);OM(o,r,"internal-error");const{sub:i}=o;return OM(e.uid===i,r,"user-mismatch"),sL._forOperation(e,a,s)}catch(PF){throw(null===PF||void 0===PF?void 0:PF.code)==="auth/".concat("user-not-found")&&jM(r,"user-mismatch"),PF}}async function dL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pw(e.app))return Promise.reject(PM(e));const r="signIn",a=await lL(e,r,t),s=await sL._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function hL(e,t){return dL(IR(e),t)}async function fL(e){const t=IR(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const mL="__sak";class pL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mL,"1"),this.storage.removeItem(mL),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gL extends pL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);NR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gL.type="LOCAL";const yL=gL;class vL extends pL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vL.type="SESSION";const xL=vL;class bL{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new bL(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,a)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bL.receivers=[];class SL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,i)=>{const l=wL("",20);r.port1.start();const c=setTimeout(()=>{i(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),i(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function kL(){return window}function jL(){return"undefined"!==typeof kL().WorkerGlobalScope&&"function"===typeof kL().importScripts}const _L="firebaseLocalStorageDb",NL="firebaseLocalStorage",PL="fbase_key";class EL{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function OL(e,t){return e.transaction([NL],t?"readwrite":"readonly").objectStore(NL)}function AL(){const e=indexedDB.open(_L,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(NL,{keyPath:PL})}catch(PF){n(PF)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(NL)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_L);return new EL(e).toPromise()}(),t(await AL()))})})}async function TL(e,t,n){const r=OL(e,!0).put({[PL]:t,value:n});return new EL(r).toPromise()}function IL(e,t){const n=OL(e,!0).delete(t);return new EL(n).toPromise()}class CL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await AL()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(PF){if(t++>3)throw PF;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bL._getInstance(jL()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new SL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AL();return await TL(e,mL,"1"),await IL(e,mL),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TL(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=OL(e,!1).get(t),r=await new EL(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IL(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=OL(e,!1).getAll();return new EL(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}CL.type="LOCAL";const DL=CL;RR("rcb"),new RM(3e4,6e4);const ML="recaptcha";async function RL(e,t,n){var r;const a=await n.verify();try{let s;if(OM("string"===typeof a,e,"argument-error"),OM(n.type===ML,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){OM("enroll"===t.type,e,"internal-error");const n=await function(e,t){return zM(e,"POST","/v2/accounts/mfaEnrollment:start",UM(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{OM("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;OM(n,e,"missing-multi-factor-info");const o=await function(e,t){return zM(e,"POST","/v2/accounts/mfaSignIn:start",UM(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return zM(e,"POST","/v1/accounts:sendVerificationCode",UM(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class LL{constructor(e){this.providerId=LL.PROVIDER_ID,this.auth=IR(e)}verifyPhoneNumber(e,t){return RL(this.auth,e,pb(t))}static credential(e,t){return XR._fromVerification(e,t)}static credentialFromResult(e){const t=e;return LL.credentialFromTaggedObject(t)}static credentialFromError(e){return LL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?XR._fromTokenResponse(n,r):null}}function BL(e,t){return t?hR(t):(OM(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}LL.PROVIDER_ID="phone",LL.PHONE_SIGN_IN_METHOD="phone";class FL extends VR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return KR(e,this._buildIdpRequest())}_linkToIdToken(e,t){return KR(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return KR(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WL(e){return dL(e.auth,new FL(e),e.bypassAuthState)}function UL(e){const{auth:t,user:n}=e;return OM(n,t,"internal-error"),uL(n,new FL(e),e.bypassAuthState)}async function zL(e){const{auth:t,user:n}=e;return OM(n,t,"internal-error"),cL(n,new FL(e),e.bypassAuthState)}class VL{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(PF){this.reject(PF)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=e;if(s)return void this.reject(s);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(i))}catch(PF){this.reject(PF)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WL;case"linkViaPopup":case"linkViaRedirect":return zL;case"reauthViaPopup":case"reauthViaRedirect":return UL;default:jM(this.auth,"internal-error")}}resolve(e){TM(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){TM(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HL=new RM(2e3,1e4);class GL extends VL{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,GL.currentPopupAction&&GL.currentPopupAction.cancel(),GL.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return OM(e,this.auth,"internal-error"),e}async onExecution(){TM(1===this.filter.length,"Popup operations only handle one event");const e=wL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_M(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(_M(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,GL.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_M(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,HL.get())};e()}}GL.currentPopupAction=null;const qL=new Map;class KL extends VL{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=qL.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=XL(t),r=QL(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(PF){e=()=>Promise.reject(PF)}qL.set(this.auth._key(),e)}return this.bypassAuthState||qL.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function YL(e,t){qL.set(e._key(),t)}function QL(e){return hR(e._redirectPersistence)}function XL(e){return pR("pendingRedirect",e.config.apiKey,e.name)}async function $L(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pw(e.app))return Promise.reject(PM(e));const r=IR(e),a=BL(r,t),s=new KL(r,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class JL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eB(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!eB(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_M(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZL(e))}saveEventToCache(e){this.cachedEventUids.add(ZL(e)),this.lastProcessedEventTime=Date.now()}}function ZL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function eB(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const tB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nB=/^https?/;async function rB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return zM(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(aB(r))return}catch(n){}jM(e,"unauthorized-domain")}function aB(e){const t=IM(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!nB.test(n))return!1;if(tB.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const sB=new RM(3e4,6e4);function oB(){const e=kL().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function iB(e){return new Promise((t,n)=>{var r,a,s;function o(){oB(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oB(),n(_M(e,"network-request-failed"))},timeout:sB.get()})}if(null===(a=null===(r=kL().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=kL().gapi)||void 0===s?void 0:s.load)){const t=RR("iframefcb");return kL()[t]=()=>{gapi.load?o():n(_M(e,"network-request-failed"))},MR("".concat(DR.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw lB=null,e})}let lB=null;const cB=new RM(5e3,15e3),uB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hB(e){const t=e.config;OM(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?LM(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Aw},a=dB.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ub(r).slice(1))}async function fB(e){const t=await function(e){return lB=lB||iB(e),lB}(e),n=kL().gapi;return OM(n,e,"internal-error"),t.open({where:document.body,url:hB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uB,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=_M(e,"network-request-failed"),s=kL().setTimeout(()=>{r(a)},cB.get());function o(){kL().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(a)})}))}const mB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(PF){}}}function gB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},mB),{width:r.toString(),height:a.toString(),top:s,left:o}),c=nb().toLowerCase();n&&(i=bR(c)?"_blank":n),vR(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return _R(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",i),new pB(null);const d=window.open(t||"",i,u);OM(d,e,"popup-blocked");try{d.focus()}catch(PF){}return new pB(d)}const yB="__/auth/handler",vB="emulator/auth/handler",xB=encodeURIComponent("fac");async function bB(e,t,n,r,a,s){OM(e.config.authDomain,e,"auth-domain-config-required"),OM(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Aw,eventId:a};if(t instanceof ZR){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof eL){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const u of Object.keys(i))void 0===i[u]&&delete i[u];const l=await e._getAppCheckToken(),c=l?"#".concat(xB,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yB);return LM(t,vB)}(e),"?").concat(ub(i).slice(1)).concat(c)}const wB="webStorageSupport";const SB=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xL,this._completeRedirectFn=$L,this._overrideRedirectResult=YL}async _openPopup(e,t,n,r){var a;TM(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return gB(e,await bB(e,t,n,IM(),r),wL())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kL().location.href=e}(await bB(e,t,n,IM(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(TM(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await fB(e),n=new JL(e);return t.register("authEvent",t=>{OM(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wB,{type:wB},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[wB];void 0!==a&&t(!!a),jM(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PR()||xR()||_R()}};var kB="@firebase/auth",jB="1.7.9";class _B{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){OM(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const NB=eb("authIdTokenMaxAge")||300;let PB=null;function EB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iw();const t=Nw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Nw(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(lb(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jM(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:SB,persistence:[DL,yL,xL]}),r=eb("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>NB)return;const r=null===t||void 0===t?void 0:t.token;PB!==r&&(PB=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){pb(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){pb(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=Jx("auth");return s&&WR(n,"http://".concat(s)),n}var OB;!function(e){DR=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=_M("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),OB="Browser",_w(new gb("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:i}=r.options;OM(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:i,clientPlatform:OB,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ER(OB)},c=new TR(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),_w(new gb("auth-internal",e=>(e=>new _B(e))(IR(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Cw(kB,jB,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(OB)),Cw(kB,jB,"esm2017");const AB={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"},TB=()=>{var e,n,r;const{loading:a,error:s,usersData:o,historicalData:i}=X(),[l,c]=(0,t.useState)(null),[d,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,y]=(0,t.useState)({email:"",password:""}),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),[j,_]=(0,t.useState)({text:"",type:""}),[N,P]=(0,t.useState)(null),[E,O]=(0,t.useState)(!1),[A,T]=(0,t.useState)({type:"ALL",team:"ALL"}),[I,C]=(0,t.useState)({key:"date",direction:"desc"}),[D,M]=(0,t.useState)(1),[R,L]=(0,t.useState)([]),[B,F]=(0,t.useState)({description:"",amount:""}),[W,U]=(0,t.useState)(null),[z,V]=(0,t.useState)(""),[H,q]=(0,t.useState)({transactions:[],potentialFees:[],potentialPayouts:[]}),[K,Y]=(0,t.useState)(!0),[Q,$]=(0,t.useState)(null),J=!!l&&"QzIJSZWBHgSzhmC6pOOiuJNxbI83"===l.uid,Z=o?o.map(e=>({userId:e.user_id,displayName:e.display_name||e.username||e.user_id})):[],ee=Object.keys((null===i||void 0===i?void 0:i.rostersBySeason)||{}).sort((e,t)=>t-e),te=(0,t.useMemo)(()=>{const e={};return i?(Object.entries(i.matchupsBySeason||{}).forEach(t=>{let[n,r]=t;const a={};r.forEach(e=>{e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),e[n]={},Object.entries(a).forEach(t=>{let[r,a]=t,s=[];a.forEach(e=>{var t,r,a,o;const l=null===(t=i.rostersBySeason)||void 0===t||null===(r=t[n])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.team1_roster_id)),c=null===(a=i.rostersBySeason)||void 0===a||null===(o=a[n])||void 0===o?void 0:o.find(t=>String(t.roster_id)===String(e.team2_roster_id));l&&!isNaN(e.team1_score)&&s.push({userId:l.owner_id,score:e.team1_score}),c&&!isNaN(e.team2_score)&&s.push({userId:c.owner_id,score:e.team2_score})}),s.sort((e,t)=>t.score-e.score);const o=s.slice(0,2).map(e=>e.userId);e[n][r]=o})}),e):e},[i]),ne=(0,t.useMemo)(()=>{const e={};return i&&i.matchupsBySeason&&i.rostersBySeason?(Object.keys(i.matchupsBySeason).forEach(t=>{const n={},r=i.rostersBySeason[t];if(!r)return;r.forEach(e=>{e.owner_id&&(n[e.owner_id]=0)});i.matchupsBySeason[t].forEach(e=>{const t=r.find(t=>String(t.roster_id)===String(e.team1_roster_id));t&&t.owner_id&&!isNaN(e.team1_score)&&(n[t.owner_id]+=e.team1_score);const a=r.find(t=>String(t.roster_id)===String(e.team2_roster_id));a&&a.owner_id&&!isNaN(e.team2_score)&&(n[a.owner_id]+=e.team2_score)});const a=Object.entries(n).map(e=>{let[t,n]=e;return{userId:t,score:n}}).sort((e,t)=>t.score-e.score);e[t]=a}),e):e},[i]),re=(0,t.useMemo)(()=>{let e=H.transactions.filter(e=>{const t="ALL"===A.type||e.type===A.type,n="ALL"===A.team||(Array.isArray(e.team)?e.team.includes(A.team):e.team===A.team);return t&&n});return I.key&&(e=((e,t,n,r)=>{const a=[...e].sort((e,a)=>{let s=e[t],o=a[t];if("amount"===t)s=Number(s),o=Number(o);else if("date"===t)s=new Date(s),o=new Date(o);else if("team"===t){const t=e=>{var t;return(null===(t=r.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e};s=Array.isArray(e.team)?e.team.map(t).join(", "):t(e.team),o=Array.isArray(a.team)?a.team.map(t).join(", "):t(a.team)}return s<o?"asc"===n?-1:1:s>o?"asc"===n?1:-1:0});return a})(e,I.key,I.direction,Z)),e},[H,A,I,Z]),ae=Math.ceil(re.length/10),se=re.slice(10*(D-1),10*D);(0,t.useEffect)(()=>{window.firebaseApp||(window.firebaseApp=Tw(AB));const e=window.firebaseApp,t=EB(e),n=xO(e);p(t),f(n);const r=function(e,t,n,r){return pb(e).onAuthStateChanged(t,n,r)}(t,e=>{c(e)});return()=>{r()}},[]),(0,t.useEffect)(()=>{ee.length>0&&!z&&V(ee[0])},[ee,z]),(0,t.useEffect)(()=>{if(!z||!d)return;Y(!0);const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s,o;e=pb(e);let i={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||yO(n[l])||(i=n[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yO(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof fO)d=lO(e.firestore,vO),h=vj(e._key.path),u={next:t=>{n[l]&&n[l](rA(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=lO(e,hO);d=lO(t.firestore,vO),h=t._query;const r=new eA(d);u={next:e=>{n[l]&&n[l](new JO(d,r,t,e))},error:n[l+1],complete:n[l+2]},qO(e._query)}return function(e,t,n,r){const a=new YE(r),s=new gE(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>cE(await tO(e),s)),()=>{a.Za(),e.asyncQueue.enqueueAndForget(async()=>uE(await tO(e),s))}}(bO(d),h,c,u)}(pO(d,"league_finances",z),e=>{if(e.exists()){const t=e.data();q(t&&t.transactions?t:{transactions:[],potentialFees:[],potentialPayouts:[]})}else q({transactions:[],potentialFees:[],potentialPayouts:[]});Y(!1)},e=>{h.A.error("Error fetching Firestore data:",e),Y(!1)});return()=>e()},[z,d]);const oe=H.transactions.filter(e=>"Fee"===e.type&&("Trade Fee"===e.category||"Waiver/FA Fee"===e.category)).reduce((e,t)=>e+cA(t),0),ie=H.transactions.filter(e=>"Fee"===e.type).reduce((e,t)=>e+cA(t),0),le=H.transactions.filter(e=>"Payout"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),ce=ie-le;if(a||K)return(0,G.jsx)("div",{className:"p-4 text-blue-600",children:"Loading financial tracker..."});if(s)return(0,G.jsxs)("div",{className:"p-4 text-red-600",children:["Error loading data: ",s.message]});if(!o||!i)return(0,G.jsx)("div",{className:"p-4 text-orange-600",children:"No data available."});const ue=e=>{let t="asc";I.key===e&&"asc"===I.direction&&(t="desc"),C({key:e,direction:t})},de=async e=>{if(!J||!d)return;const t=new Set(e.map(e=>e.id)),n=H.transactions.filter(e=>!t.has(e.id));try{const e=pO(d,"league_finances",z);await tA(e,u(u({},H),{},{transactions:n}),{merge:!0}),_({text:"Transaction(s) deleted successfully!",type:"success"})}catch(PF){h.A.error("Error deleting transaction: ",PF),_({text:"Error deleting transaction.",type:"error"})}L([])},he=R.length>0&&R.length===se.length,fe=async(e,t)=>{if(!J||!d)return;const n=H["fees"===t?"potentialFees":"potentialPayouts"].filter(t=>t.id!==e);try{const e=pO(d,"league_finances",z);await tA(e,u(u({},H),{},{["fees"===t?"potentialFees":"potentialPayouts"]:n}),{merge:!0}),_({text:"Potential ".concat(t.slice(0,-1)," deleted successfully!"),type:"success"})}catch(PF){h.A.error("Error deleting potential transaction: ",PF),_({text:"Error deleting potential ".concat(t.slice(0,-1),"."),type:"error"})}},me=(e,t,n,r,a)=>{var s;const o=Array.isArray(t)?t.map(e=>{var t;return(null===(t=n.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}):[(null===(s=n.find(e=>e.userId===t))||void 0===s?void 0:s.displayName)||t];return o.length>3&&r!==e?(0,G.jsxs)("div",{className:"flex flex-col items-start",children:[(0,G.jsxs)("span",{children:[o.slice(0,3).join(", ")," ..."]}),(0,G.jsxs)("button",{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 text-xs mt-1",children:["(+",o.length-3," more)"]})]}):(0,G.jsxs)("div",{className:"flex flex-col items-start",children:[(0,G.jsx)("span",{children:o.join(", ")}),o.length>3&&(0,G.jsx)("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-xs mt-1",children:"Show less"})]})};return(0,G.jsxs)("div",{className:"p-4 max-w-5xl mx-auto font-sans",children:[(0,G.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"League Financial Tracker"}),(0,G.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:(0,G.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,G.jsx)("span",{children:"League Year:"}),(0,G.jsx)("select",{className:"border rounded px-2 py-1 bg-gray-50",value:z,onChange:e=>{V(e.target.value),M(1)},children:ee.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]})}),(0,G.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,G.jsxs)("div",{className:"flex flex-col items-center bg-blue-50 rounded-lg px-6 py-3 shadow-md text-blue-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"League Bank"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",ce.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-red-50 rounded-lg px-6 py-3 shadow-md text-red-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Fees"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",ie.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-green-50 rounded-lg px-6 py-3 shadow-md text-green-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Payouts"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",le.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-yellow-50 rounded-lg px-6 py-3 shadow-md text-yellow-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Transaction Bank"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",oe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,G.jsx)("div",{className:"flex flex-col md:flex-row md:justify-center md:items-center mb-6 gap-4",children:l?(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsxs)("span",{className:"text-green-700 font-semibold",children:["Logged in as ",l.email]}),J&&(0,G.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold",children:"Commissioner"}),(0,G.jsx)("button",{onClick:()=>{m&&function(e){pb(e).signOut()}(m)},className:"ml-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm",children:"Logout"})]}):(0,G.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,G.jsxs)("button",{onClick:()=>w(!b),className:"w-full text-center py-2 px-4 rounded-lg bg-blue-500 text-white font-semibold mb-4 flex items-center justify-center gap-2 hover:bg-blue-600 transition duration-200",children:["Commissioner Login",(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat(b?"rotate-180":"rotate-0"),children:"\u25bc"})]}),b&&(0,G.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-full mx-auto animate-fadeIn",children:[(0,G.jsxs)("div",{className:"text-center mb-6",children:[(0,G.jsx)("h1",{className:"text-xl font-bold text-slate-800 mb-2",children:"Commish Login"}),(0,G.jsx)("p",{className:"text-slate-500 text-sm",children:"Sign in to manage league finances."})]}),(0,G.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m){x("");try{await function(e,t,n){return Pw(e.app)?Promise.reject(PM(e)):hL(pb(e),JR.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&fL(e),t})}(m,g.email,g.password)}catch(t){x("Login failed. Please check your credentials.")}}},className:"flex flex-col gap-4 items-center",children:[(0,G.jsx)("input",{type:"email",required:!0,placeholder:"Commish Email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:g.email,onChange:e=>y(t=>u(u({},t),{},{email:e.target.value}))}),(0,G.jsx)("input",{type:"password",required:!0,placeholder:"Password",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:g.password,onChange:e=>y(t=>u(u({},t),{},{password:e.target.value}))}),(0,G.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Log In"}),v&&(0,G.jsx)("span",{className:"text-red-600 text-xs mt-2",children:v})]})]})]})}),J&&(0,G.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[(0,G.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end bg-blue-50 p-4 rounded-lg",onSubmit:async e=>{if(e.preventDefault(),!J||!d)return;if(0===S.team.length)return void _({text:"Please select at least one team.",type:"error"});let t,n;if(N)t=H.transactions.map(e=>e.id===N.id?u(u({},S),{},{id:N.id,date:(new Date).toISOString()}):e),n="Transaction updated successfully!",P(null);else{const e=[];"Entry Fee"===S.category?S.team.forEach(t=>{e.push(u(u({},S),{},{id:crypto.randomUUID(),quantity:1,team:[t],date:(new Date).toISOString()}))}):e.push(u(u({},S),{},{id:crypto.randomUUID(),team:S.team,date:(new Date).toISOString()})),t=[...H.transactions,...e],n="Transaction saved successfully!"}try{const e=pO(d,"league_finances",z);await tA(e,u(u({},H),{},{transactions:t}),{merge:!0}),_({text:n,type:"success"})}catch(e){h.A.error("Error saving transaction: ",e),_({text:"Error saving transaction.",type:"error"})}setTimeout(()=>_({text:"",type:""}),3e3),O(!1)},children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Type"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.type,onChange:e=>{const t=e.target.value;k(e=>u(u({},e),{},{type:t,description:"",category:"",team:[]}))},disabled:N,children:[(0,G.jsx)("option",{value:"Fee",children:"Fee"}),(0,G.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Amount ($)"}),(0,G.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.amount,onChange:e=>k(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Category"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.category,onChange:e=>{const t=e.target.value;let n=S.team,r=S.description;if("Trade Fee"===t&&(n=[]),"Payout"===S.type&&t.startsWith("Weekly")&&S.week){var a,s;const e="Weekly 1st"===t?0:1,u=null===(a=te[z])||void 0===a||null===(s=a[S.week])||void 0===s?void 0:s[e];if(u){var o,l;n=[u];const e=null===(o=i.matchupsBySeason)||void 0===o||null===(l=o[z])||void 0===l?void 0:l.filter(e=>String(e.week)===String(S.week));let a=null;if(e)for(const t of e){var c;null!==(c=i.rostersBySeason)&&void 0!==c&&c[z]&&(String(t.team1_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(t.team1_roster_id)&&e.owner_id===u)&&(a=t.team1_score),String(t.team2_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(t.team2_roster_id)&&e.owner_id===u)&&(a=t.team2_score))}var d;if(null!==a&&!isNaN(a))r="".concat(t," (").concat(aD(Number(null!==(d=a)&&void 0!==d?d:0),2)," pts)")}}if("Payout"===S.type&&t.startsWith("Total Points")){const e=ne[z];let a=-1;if("Total Points 1st"===t&&(a=0),"Total Points 2nd"===t&&(a=1),"Total Points 3rd"===t&&(a=2),e&&e[a]){var h;const s=e[a];n=[s.userId],r="".concat(t," (").concat(aD(Number(null!==(h=s.score)&&void 0!==h?h:0),2)," pts)")}}k(e=>u(u({},e),{},{category:t,team:n,description:r}))},required:!0,children:[(0,G.jsx)("option",{value:"",children:"Select..."}),("Fee"===S.type?["Entry Fee","Trade Fee","Waiver/FA Fee","Other"]:["Weekly 1st","Weekly 2nd","Playoff 1st","Playoff 2nd","Playoff 3rd","Total Points 1st","Total Points 2nd","Total Points 3rd","Bonus","Other"]).map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),(0,G.jsxs)("div",{className:"relative",children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Team(s)"}),(0,G.jsx)("button",{type:"button",onClick:()=>O(!E),className:"w-full border rounded-lg px-2 py-2 text-left bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.team.length===Z.length?"All Teams":S.team.length>3?"".concat((null===(e=Z.find(e=>e.userId===S.team[0]))||void 0===e?void 0:e.displayName)||"Team",", ").concat((null===(n=Z.find(e=>e.userId===S.team[1]))||void 0===n?void 0:n.displayName)||"Team",", ").concat((null===(r=Z.find(e=>e.userId===S.team[2]))||void 0===r?void 0:r.displayName)||"Team","... (+").concat(S.team.length-3," more)"):S.team.length>0?S.team.map(e=>{var t;return null===(t=Z.find(t=>t.userId===e))||void 0===t?void 0:t.displayName}).join(", "):"Select Team(s)"}),E&&(0,G.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[(0,G.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:S.team.length===Z.length,onChange:e=>{const t=e.target.checked;k(e=>u(u({},e),{},{team:t?Z.map(e=>e.userId):[]}))}}),(0,G.jsx)("span",{children:"All Teams"})]},"all"),Z.map(e=>(0,G.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:S.team.includes(e.userId),onChange:t=>{const n=t.target.checked;k(t=>{const r=n?[...t.team,e.userId]:t.team.filter(t=>t!==e.userId);return u(u({},t),{},{team:r})})}}),(0,G.jsx)("span",{children:e.displayName})]},e.userId))]})]}),("Waiver/FA Fee"===S.category||"Trade Fee"===S.category)&&(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Quantity"}),(0,G.jsx)("input",{type:"number",min:"1",step:"1",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.quantity,onChange:e=>k(t=>u(u({},t),{},{quantity:parseInt(e.target.value)||1}))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Description"}),(0,G.jsx)("input",{type:"text",className:"w-full border rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat("Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-white"),value:S.description,onChange:e=>{"Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))||k(t=>u(u({},t),{},{description:e.target.value}))},placeholder:"e.g. Paid for entry, Weekly winner, etc.",disabled:"Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Week #"}),(0,G.jsx)("input",{type:"number",min:"0",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.week,onChange:e=>{var t;const n=e.target.value;let r=S.team,a=S.description;if(n){if("Payout"===S.type&&("Weekly 1st"===S.category||"Weekly 2nd"===S.category)&&null!==(t=te[z])&&void 0!==t&&t[n]){const e="Weekly 1st"===S.category?0:1,t=te[z][n][e];if(t){var s,o;r=[t];const e=null===(s=i.matchupsBySeason)||void 0===s||null===(o=s[z])||void 0===o?void 0:o.filter(e=>String(e.week)===String(n));let u=null;if(e)for(const n of e){var l;null!==(l=i.rostersBySeason)&&void 0!==l&&l[z]&&(String(n.team1_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(n.team1_roster_id)&&e.owner_id===t)&&(u=n.team1_score),String(n.team2_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(n.team2_roster_id)&&e.owner_id===t)&&(u=n.team2_score))}var c;if(null!==u&&!isNaN(u))a="".concat(S.category," (").concat(aD(Number(null!==(c=u)&&void 0!==c?c:0),2)," pts)")}}}else r=[],a="";k(e=>u(u({},e),{},{week:n,team:r,description:a}))},placeholder:"e.g. 1, 2, ..."})]}),(0,G.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-2",children:[N&&(0,G.jsx)("button",{type:"button",className:"bg-gray-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-200",onClick:()=>{P(null),k({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),_({text:"Cancelled edit.",type:"info"})},children:"Cancel"}),(0,G.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-200",children:N?"Update Transaction":"Submit Transaction"})]})]}),j.text&&(0,G.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm font-medium ".concat("success"===j.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:j.text})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:"League Members & Dues"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Member"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Fees"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Transaction Fees"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Payouts"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Net Total"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Final Dues"})]})}),(0,G.jsx)("tbody",{children:Z.map(e=>{const t=H.transactions.filter(t=>"Fee"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+cA(t)/n},0),n=H.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+cA(t)/n},0),r=H.transactions.filter(t=>"Payout"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),a=r-t,s=a<0?"text-red-600":"text-green-600",o=r-n,i=o<0?"text-red-600":"text-green-600";return(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.displayName}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(s),children:["$",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(i),children:["$",o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.userId)})})]})}),!J&&(0,G.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Login as commissioner to edit dues."})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-lg font-semibold text-blue-800",children:["All Transactions (",z,")"]}),(0,G.jsxs)("div",{className:"flex gap-2",children:[J&&(0,G.jsxs)("button",{onClick:()=>{R.length>0&&de(R)},disabled:0===R.length,className:"px-3 py-1 rounded-lg text-sm font-semibold transition duration-200 ".concat(R.length>0?"bg-red-500 text-white hover:bg-red-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Delete Selected (",R.length,")"]}),(0,G.jsx)("button",{onClick:()=>{const e=re.map(e=>{var t;const n=Array.isArray(e.team)?e.team.map(e=>{var t;return(null===(t=Z.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}).join(", "):(null===(t=Z.find(t=>t.userId===e.team))||void 0===t?void 0:t.displayName)||e.team;return[e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"",n,e.type,Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e.category,e.description,e.week,e.quantity||1]}),t=[["Date","Team","Type","Amount","Category","Description","Week","Quantity"].join(","),...e.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","league_finances_".concat(z,".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-600 transition duration-200",children:"Export to CSV"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Type"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.type,onChange:e=>{T(t=>u(u({},t),{},{type:e.target.value})),M(1)},children:[(0,G.jsx)("option",{value:"ALL",children:"All Types"}),(0,G.jsx)("option",{value:"Fee",children:"Fees"}),(0,G.jsx)("option",{value:"Payout",children:"Payouts"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Team"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.team,onChange:e=>{T(t=>u(u({},t),{},{team:e.target.value})),M(1)},children:[(0,G.jsx)("option",{value:"ALL",children:"All Teams"}),Z.map(e=>(0,G.jsx)("option",{value:e.userId,children:e.displayName},e.userId))]})]})]}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",onChange:e=>{e.target.checked?L(se):L([])},checked:he})}),(0,G.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("date"),children:(0,G.jsxs)("div",{className:"flex items-center",children:["Date","date"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("team"),children:(0,G.jsxs)("div",{className:"flex items-center",children:["Team","team"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("type"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Type","type"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Qty"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("amount"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Amount","amount"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("category"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Category","category"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("description"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Description","description"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("week"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Week","week"===I.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===I.direction?"\u25b2":"\u25bc"})]})}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:se.map(e=>{const t=e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"";return(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:R.some(t=>t.id===e.id),onChange:t=>((e,t)=>{L(t?t=>[...t,e]:t=>t.filter(t=>t.id!==e.id))})(e,t.target.checked)})}),(0,G.jsx)("td",{className:"py-2 px-3 whitespace-nowrap",children:t}),(0,G.jsx)("td",{className:"py-2 px-3",children:me(e.id,e.team,Z,Q,$)}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.type}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:"Waiver/FA Fee"===e.category||"Trade Fee"===e.category?e.quantity||1:""}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.category}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.description}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.week}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,G.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-bold text-lg",title:"Edit transaction",onClick:()=>{return t=e,void(J&&(P(t),k(u(u({},t),{},{team:Array.isArray(t.team)?t.team:[t.team],quantity:t.quantity||1})),_({text:"Editing transaction...",type:"info"})));var t},children:"\u270e"}),(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>de([e]),children:"\u2716"})]})})]},e.id)})})]})}),(0,G.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:Array.from({length:ae},(e,t)=>(0,G.jsx)("button",{className:"px-3 py-1 rounded-lg transition duration-200 ".concat(D===t+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>M(t+1),disabled:D===t+1,children:t+1},t))})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-semibold text-red-800",children:["Fees (",z,")"]}),J&&(0,G.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>U("fees"),title:"Add Fee",children:"+"})]}),H.potentialFees.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-red-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:H.potentialFees.map(e=>(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"fees"),children:"\u2716"})})]},e.id))})]})}):(0,G.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No fees for this year."})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-semibold text-green-800",children:["Payouts (",z,")"]}),J&&(0,G.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>U("payouts"),title:"Add Payout",children:"+"})]}),H.potentialPayouts.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-green-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:H.potentialPayouts.map(e=>(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"payouts"),children:"\u2716"})})]},e.id))})]})}):(0,G.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No payouts for this year."})]}),W&&(0,G.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,G.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-sm mx-auto",children:[(0,G.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Add ","fees"===W?"Fee":"Payout"]}),(0,G.jsxs)("form",{onSubmit:e=>(async(e,t)=>{if(e.preventDefault(),!J||!d)return;const n=u({id:(new Date).toISOString()},B);let r;r="fees"===t?[...H.potentialFees,n]:[...H.potentialPayouts,n];try{const e=pO(d,"league_finances",z);await tA(e,u(u({},H),{},{["fees"===t?"potentialFees":"potentialPayouts"]:r}),{merge:!0}),_({text:"Potential ".concat(t.slice(0,-1)," added successfully!"),type:"success"})}catch(e){h.A.error("Error saving potential transaction: ",e),_({text:"Error saving potential ".concat(t.slice(0,-1),"."),type:"error"})}U(null),F({description:"",amount:""})})(e,W),children:[(0,G.jsxs)("div",{className:"mb-4",children:[(0,G.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,G.jsx)("input",{type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.description,onChange:e=>F(t=>u(u({},t),{},{description:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{className:"mb-4",children:[(0,G.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Amount ($)"}),(0,G.jsx)("input",{type:"number",min:"0",step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.amount,onChange:e=>F(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,G.jsx)("button",{type:"button",className:"bg-gray-400 text-white font-bold py-2 px-4 rounded hover:bg-gray-500 transition duration-200",onClick:()=>{U(null),F({description:"",amount:""})},children:"Cancel"}),(0,G.jsx)("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600 transition duration-200",children:"Save"})]})]})]})})]})},IB=()=>{const{historicalData:e,processedSeasonalRecords:n,currentSeason:r,nflState:a,getTeamName:s,getTeamDetails:o}=X(),i=r?String(r):null,l=(0,t.useMemo)(()=>{var t,i,l,c,d;if(!e||!n||!r)return null;const h=String(r),f=(null===(t=e.rostersBySeason)||void 0===t?void 0:t[h])||[],m=null===(i=e.leaguesMetadataBySeason)||void 0===i?void 0:i[h],p=parseInt(null===m||void 0===m||null===(l=m.settings)||void 0===l?void 0:l.playoff_start_week)||15,g=null!==a&&void 0!==a&&a.week?parseInt(a.week):1,y=Math.max(0,p-g),v=(null===n||void 0===n?void 0:n[h])||{},x=(null===(c=e.matchupsBySeason)||void 0===c?void 0:c[h])||[],b=new Map;f.forEach(e=>{b.set(String(e.roster_id),{wins:0,losses:0,ties:0,pointsFor:0,games:0})}),x.forEach(e=>{const t=parseInt(e.week);if(!t||t>=p||t>=g)return;const n=e.team1_roster_id?String(e.team1_roster_id):null,r=e.team2_roster_id?String(e.team2_roster_id):null;if(!n||!r)return;const a=Number(e.team1_score)||0,s=Number(e.team2_score)||0,o=b.get(n),i=b.get(r);o&&i&&(o.pointsFor+=a,i.pointsFor+=s,o.games+=1,i.games+=1,a>s?(o.wins+=1,i.losses+=1):s>a?(i.wins+=1,o.losses+=1):a===s&&a>0&&(o.ties+=1,i.ties+=1))});const w=x.filter(e=>{const t=parseInt(e.week);return t&&t>=g&&t<p&&e.team1_roster_id&&e.team2_roster_id}).map(e=>({week:parseInt(e.week),t1:String(e.team1_roster_id),t2:String(e.team2_roster_id)})),S=new Map;f.forEach(e=>S.set(String(e.roster_id),[])),w.forEach(e=>{var t,n;null===(t=S.get(e.t1))||void 0===t||t.push({opponentId:e.t2,week:e.week}),null===(n=S.get(e.t2))||void 0===n||n.push({opponentId:e.t1,week:e.week})});const k=e=>{const t=v[e]||{},n="number"===typeof t.allPlayWinPercentage?t.allPlayWinPercentage:void 0,r="number"===typeof t.adjustedDPR?t.adjustedDPR:void 0;return r&&r>0?r:void 0!==n?Math.max(.1,2*n):1},j=f.map(e=>{var t;const n=String(e.roster_id),r=String(e.owner_id),a=v[n]||{},i=b.get(n)||{wins:0,losses:0,ties:0,pointsFor:0,games:0},l=S.get(n)||[],c="number"===typeof a.allPlayWinPercentage&&!isNaN(a.allPlayWinPercentage)&&a.allPlayWinPercentage>0?a.allPlayWinPercentage:i.games>0?(i.wins+(i.ties>0?.5*i.ties:0))/i.games:.5,u=a.averageScore&&!isNaN(a.averageScore)&&a.averageScore>0?a.averageScore:i.games>0?i.pointsFor/i.games:100;let d=0;const f=k(n);l.forEach(e=>{let{opponentId:t}=e;const n=k(t),r=f+n;d+=r>0?f/r:.5});const m=l.length,p=Math.max(0,y-m);d+=p*c;const g=i.wins+d,x=i.pointsFor+(m+p)*u;return{rosterId:n,ownerId:r,name:s(r,h),avatar:null===(t=o(r,h))||void 0===t?void 0:t.avatar,currentWins:i.wins,currentLosses:i.losses,currentTies:i.ties,currentPoints:i.pointsFor,projectedWins:g,projectedPoints:x,remainingOpponents:l,avgScore:u,allPlayWinPct:c}}),_=[...j].sort((e,t)=>t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:e.name.localeCompare(t.name)),N=_.slice(0,4),P=j.filter(e=>!N.find(t=>t.rosterId===e.rosterId)),E=P.sort((e,t)=>t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:e.name.localeCompare(t.name)),O=E.slice(0,2),A=[...N,...O].slice(0,6).map((e,t)=>u({seed:t+1},e)).sort((e,t)=>e.seed-t.seed);let T=[{higher:A.find(e=>3===e.seed),lower:A.find(e=>6===e.seed)},{higher:A.find(e=>4===e.seed),lower:A.find(e=>5===e.seed)}];const I=[A.find(e=>1===e.seed),A.find(e=>2===e.seed)],C=(null===(d=e.winnersBracketBySeason)||void 0===d?void 0:d[h])||[];if(g>=p&&C.some(e=>1===parseInt(e.r)&&(e.t1||e.team1_roster_id)&&(e.t2||e.team2_roster_id))){const e=C.filter(e=>1===parseInt(e.r)),t=new Map(A.map(e=>[String(e.rosterId),e])),n=e=>t.get(String(e))||null,r=e.map(e=>{const t=String(e.t1||e.team1_roster_id),r=String(e.t2||e.team2_roster_id),a=n(t),s=n(r);if(!a||!s)return null;return{higher:a.seed<s.seed?a:s,lower:a.seed<s.seed?s:a}}).filter(Boolean).sort((e,t)=>e.higher.seed-t.higher.seed);2===r.length&&(T=r)}return{seeded:A,round1:T,byes:I,playoffStartWeek:p,isPlayoffs:g>=p}},[e,n,r,a,s,o]);if(!l)return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-2",children:"Projected Playoff Bracket"}),(0,G.jsx)("div",{className:"text-gray-500 text-sm",children:"Not enough data to project the bracket yet."})]});const{seeded:c,round1:d,byes:h,playoffStartWeek:f,isPlayoffs:m}=l,p=t=>{var n,r,a,o,l,c;let{seed:u,team:d}=t;return(0,G.jsxs)("div",{className:"group relative",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 shadow-sm",children:[(0,G.jsxs)("div",{className:"text-xs font-semibold text-blue-700 w-6",children:["#",u]}),(0,G.jsx)("img",{src:(null===d||void 0===d?void 0:d.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:(null===d||void 0===d?void 0:d.name)||"Team",className:"w-8 h-8 rounded-full border border-gray-300 object-cover",onError:e=>{e.currentTarget.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("div",{className:"min-w-0 flex-1",children:(0,G.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate max-w-[180px]",children:(null===d||void 0===d?void 0:d.name)||"TBD"})})]}),d&&(0,G.jsxs)("div",{className:"pointer-events-none absolute z-10 hidden group-hover:block bg-white border border-gray-200 shadow-lg rounded-md p-3 w-72 -left-2 top-10",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:d.name}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[(0,G.jsx)("div",{children:"Current Record"}),(0,G.jsxs)("div",{className:"text-right",children:[d.currentWins,"-",d.currentLosses,d.currentTies>0?"-".concat(d.currentTies):""]}),(0,G.jsx)("div",{children:"Current Points"}),(0,G.jsx)("div",{className:"text-right",children:aD(Number(null!==(n=d.currentPoints)&&void 0!==n?n:0),1)}),(0,G.jsx)("div",{children:"Avg Score"}),(0,G.jsx)("div",{className:"text-right",children:aD(Number(null!==(r=d.avgScore)&&void 0!==r?r:0),1)}),(0,G.jsx)("div",{children:"All-Play Win%"}),(0,G.jsxs)("div",{className:"text-right",children:[aD(null!==(a=100*d.allPlayWinPct)&&void 0!==a?a:0,1),"%"]}),(0,G.jsx)("div",{children:"Projected Wins"}),(0,G.jsx)("div",{className:"text-right",children:aD(Number(null!==(o=d.projectedWins)&&void 0!==o?o:0),2)}),(0,G.jsx)("div",{children:"Projected Points"}),(0,G.jsx)("div",{className:"text-right",children:aD(Number(null!==(l=d.projectedPoints)&&void 0!==l?l:0),1)})]}),(null===(c=d.remainingOpponents)||void 0===c?void 0:c.length)>0&&(0,G.jsxs)("div",{className:"mt-2",children:[(0,G.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Remaining Opponents"}),(0,G.jsx)("ul",{className:"text-xs text-gray-700 max-h-24 overflow-auto space-y-1",children:d.remainingOpponents.slice().sort((e,t)=>e.week-t.week).map((t,n)=>{var r,a,o;return(0,G.jsxs)("li",{className:"flex justify-between",children:[(0,G.jsxs)("span",{children:["Week ",t.week]}),(0,G.jsx)("span",{className:"truncate ml-2",children:s(i?null===(r=e.rostersBySeason)||void 0===r||null===(a=r[i])||void 0===a||null===(o=a.find(e=>String(e.roster_id)===String(t.opponentId)))||void 0===o?void 0:o.owner_id:void 0,i||void 0)})]},n)})})]})]})]})};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,G.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800",children:m?"Playoff Bracket":"Projected Playoff Bracket"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Playoffs start Week ",f]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Round 1"}),d.map((e,t)=>{var n,r;return(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:null===(n=e.higher)||void 0===n?void 0:n.seed,team:e.higher}),(0,G.jsx)("div",{className:"text-center text-xs text-gray-400",children:"vs"}),(0,G.jsx)(p,{seed:null===(r=e.lower)||void 0===r?void 0:r.seed,team:e.lower})]})},t)})]}),(0,G.jsxs)("div",{className:"space-y-10",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Semifinals"}),(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:1,team:h[0]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:"vs lowest remaining seed"})]})}),(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:2,team:h[1]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:"vs highest remaining seed"})]})})]})]}),(0,G.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Seeding: 1-4 by record (tiebreaker points); 5-6 by points among remaining. Semifinals reseed: 1 vs lowest remaining, 2 vs highest remaining."})]})},CB=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,transactions:a,nflPlayers:s,loading:o,error:i,currentSeason:l,nflState:c}=X(),d=(0,t.useMemo)(()=>{var t,a;if(!e||!l||!c)return[];const s=c.week?parseInt(c.week):1;let o=l;if(!o){const t=Object.keys(e.matchupsBySeason||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===(t=e.matchupsBySeason)||void 0===t?void 0:t[o])||[],u=(null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[];return i.filter(e=>parseInt(e.week)===s).map(e=>{var t,a;const s=u.find(t=>String(t.roster_id)===String(e.team1_roster_id)),i=u.find(t=>String(t.roster_id)===String(e.team2_roster_id)),l=null===s||void 0===s?void 0:s.owner_id,c=null===i||void 0===i?void 0:i.owner_id;return{team1:{ownerId:l,name:n(l,o),score:e.team1_score||0,avatar:null===(t=r(l,o))||void 0===t?void 0:t.avatar},team2:{ownerId:c,name:n(c,o),score:e.team2_score||0,avatar:null===(a=r(c,o))||void 0===a?void 0:a.avatar},week:e.week,isCompleted:(e.team1_score||0)>0||(e.team2_score||0)>0}})},[e,l,c,n,r]),h=(0,t.useMemo)(()=>a&&0!==a.length?[...a].filter(e=>"failed"!==e.status&&"commissioner"!==e.creator&&"commissioner"!==e.type).sort((e,t)=>t.created-e.created).slice(0,10).map(t=>{var a;let o=l;if(!o){const t=Object.keys((null===e||void 0===e?void 0:e.rostersBySeason)||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===e||void 0===e||null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[],c=[];t.roster_ids&&t.roster_ids.length>0&&t.roster_ids.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e));var a;t&&c.push({ownerId:t.owner_id,name:n(t.owner_id,o),avatar:null===(a=r(t.owner_id,o))||void 0===a?void 0:a.avatar})});let d=null;"trade"===t.type&&(d=c.map(e=>{const n=t.roster_ids.find(t=>{const n=i.find(e=>String(e.roster_id)===String(t));return(null===n||void 0===n?void 0:n.owner_id)===e.ownerId}),r=[],a=[];return t.adds&&Object.keys(t.adds).forEach(e=>{if(String(t.adds[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];r.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}}),t.drops&&Object.keys(t.drops).forEach(e=>{if(String(t.drops[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];a.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}}),u(u({},e),{},{receives:r,sends:a})}));const h=Object.keys(t.adds||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}}),f=Object.keys(t.drops||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}});return{id:t.transaction_id,type:t.type,status:t.status,created:new Date(t.created),teamDetails:c,addedPlayers:h,droppedPlayers:f,tradeDetails:d,waiver_budget:t.waiver_budget||[]}}):[],[a,e,l,n]),f=e=>{switch(e){case"waiver":return"Waiver";case"free_agent":return"Free Agent";case"trade":return"Trade";default:return e}},m=e=>{const{addedPlayers:t,droppedPlayers:n}=e;if("trade"===e.type){const e=t.length+n.length;return"Trade involving ".concat(e," player").concat(1!==e?"s":"")}return t.length>0&&n.length>0?"Added ".concat(t[0].name,", dropped ").concat(n[0].name):t.length>0?"Added ".concat(t[0].name):n.length>0?"Dropped ".concat(n[0].name):"Transaction processed"};return o?(0,G.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-blue-50 to-gray-100 py-8",children:(0,G.jsx)("div",{className:"text-xl text-gray-500 animate-pulse",children:"Loading dashboard..."})}):i?(0,G.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-red-50 to-gray-100 py-8",children:(0,G.jsxs)("div",{className:"text-xl text-red-500",children:["Error: ",i]})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("style",{children:"\n                @keyframes scroll {\n                    0% { transform: translateX(0%); }\n                    100% { transform: translateX(-100%); }\n                }\n                .animate-scroll {\n                    animation: scroll 90s linear infinite;\n                }\n            "}),(0,G.jsxs)("div",{className:"w-full max-w-7xl mx-auto p-2 sm:p-4 md:p-8 font-inter space-y-4 sm:space-y-6 md:space-y-8",children:[(0,G.jsxs)("div",{className:"text-center px-2",children:[(0,G.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mb-2",children:"TLOED Dashboard"}),(0,G.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:[l?"".concat(l," Season"):"Fantasy Football League",null!==c&&void 0!==c&&c.week?" \u2022 Week ".concat(c.week):""]})]}),(0,G.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:(0,G.jsx)("div",{className:"xl:col-span-3",children:(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[(0,G.jsxs)("div",{className:"flex items-center py-2 px-4 bg-gray-50 border-b border-gray-200",children:[(0,G.jsx)("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,G.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Week ",(null===c||void 0===c?void 0:c.week)||1," Matchups"]})]}),(0,G.jsx)("div",{className:"relative h-20 overflow-hidden",children:(0,G.jsx)("div",{className:"absolute whitespace-nowrap flex items-center h-full animate-scroll",children:d.length>0?(0,G.jsxs)(G.Fragment,{children:[d.map((e,t)=>{const n=Number(e.team1.score||0),r=Number(e.team2.score||0),a=0===n&&0===r;return(0,G.jsx)("div",{className:"mx-6 bg-gray-50 rounded-lg px-4 py-3 border border-gray-200 min-w-[260px]",children:a?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:n>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:aD(n)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:r>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:aD(r)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"first-".concat(t))}),d.map((e,t)=>{const n=Number(e.team1.score||0),r=Number(e.team2.score||0),a=0===n&&0===r;return(0,G.jsx)("div",{className:"mx-6 bg-gray-50 rounded-lg px-4 py-3 border border-gray-200 min-w-[260px]",children:a?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:n>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:aD(n)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team2.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:r>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:aD(r)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"second-".concat(t))})]}):(0,G.jsx)("div",{className:"text-sm text-gray-500 mx-4",children:"No matchups available for this week"})})})]})})}),(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-lg mobile-card",children:(0,G.jsx)(dD,{})}),(0,G.jsx)(IB,{}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,G.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),(0,G.jsx)("span",{className:"mobile-text-lg",children:"Recent Transactions"})]}),(0,G.jsx)("div",{className:"space-y-4",children:h.length>0?h.map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-2 sm:gap-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,G.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:f(e.type)}),(0,G.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("complete"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,G.jsxs)("div",{className:"text-left sm:text-right",children:[(0,G.jsx)("div",{className:"text-xs text-gray-600",children:e.created.toLocaleDateString()}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:e.created.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),"trade"===e.type&&e.tradeDetails?(0,G.jsx)("div",{className:"space-y-3",children:e.tradeDetails.map((e,t)=>(0,G.jsxs)("div",{className:"bg-white rounded-lg p-3 border",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 mb-3 pb-2 border-b",children:[(0,G.jsx)("img",{src:e.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.name,className:"w-8 h-8 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("div",{children:(0,G.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name})})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.sends&&e.sends.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),(0,G.jsx)("span",{className:"font-medium text-red-700 text-sm",children:"Sends"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.sends.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-2 bg-red-50 rounded p-2",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-8 h-8 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]}),e.receives&&e.receives.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),(0,G.jsx)("span",{className:"font-medium text-green-700 text-sm",children:"Receives"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.receives.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 rounded p-2",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-8 h-8 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]})]})]},t))}):(0,G.jsxs)("div",{className:"space-y-3",children:[e.teamDetails&&e.teamDetails.length>0&&(0,G.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,G.jsx)("img",{src:e.teamDetails[0].avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.teamDetails[0].name,className:"w-10 h-10 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"font-semibold text-gray-800",children:e.teamDetails[0].name}),(0,G.jsx)("p",{className:"text-sm text-gray-500",children:m(e)})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.addedPlayers.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,G.jsx)("span",{className:"font-medium text-green-700",children:"Added"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.addedPlayers.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-10 h-10 rounded-full border border-green-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,G.jsx)("div",{className:"text-sm text-green-700",children:e.position}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.team})]})]},t))})]}),e.droppedPlayers.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})}),(0,G.jsx)("span",{className:"font-medium text-red-700",children:"Dropped"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.droppedPlayers.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-red-50 rounded-lg p-3 border border-red-200",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-10 h-10 rounded-full border border-red-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,G.jsx)("div",{className:"text-sm text-red-700",children:e.position}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.team})]})]},t))})]})]})]})]},e.id)):(0,G.jsx)("div",{className:"text-center text-gray-500 py-8 text-base",children:"No recent transactions"})})]})]})]})},DB=e=>{let{selectedTeamName:n}=e;const{loading:r,error:a,careerDPRData:s,getTeamName:o}=X(),[i,l]=(0,t.useState)(""),[c,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!r&&!a&&s){const e=s.map(e=>o(e.ownerId,null)).filter(e=>e&&!e.startsWith("Unknown Team (ID:")).sort((e,t)=>e.localeCompare(t));u(e),e.length>0&&(n&&e.includes(n)?l(n):i||l(e[0]))}},[r,a,s,o,n,i]);return r?(0,G.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"Loading league data for teams..."}):a?(0,G.jsxs)("div",{className:"w-full p-8 text-center text-red-500 font-semibold",children:["Error loading league data: ",a.message||String(a)]}):0===c.length?(0,G.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"No teams found or data is not yet available."}):(0,G.jsxs)("div",{className:"container mx-auto p-4",children:[(0,G.jsxs)("div",{className:"mb-6 text-center",children:[(0,G.jsx)("label",{htmlFor:"team-select",className:"block text-lg font-medium text-gray-700 mb-2",children:"Select a Team:"}),(0,G.jsx)("select",{id:"team-select",value:i,onChange:e=>{l(e.target.value)},className:"mt-1 block w-full md:w-1/2 lg:w-1/3 mx-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm",children:c.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]}),i&&(0,G.jsx)(pM,{teamName:i})]})},MB=()=>{var e,n;const{loading:r,error:a,historicalData:o,getTeamName:i,getTeamDetails:l,currentSeason:c,nflState:u}=X(),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)("N/A"),[x,b]=(0,t.useState)("N/A"),[w,S]=(0,t.useState)("N/A"),[k,j]=(0,t.useState)(""),[_,N]=(0,t.useState)([]),{seasonalMetrics:P,careerDPRData:E}=(0,t.useMemo)(()=>!o||!u||r||a?{seasonalMetrics:{},careerDPRData:[]}:s(o,0,i,u),[o,u,r,a,i]);if((0,t.useEffect)(()=>{if(!r&&!a&&o){const e=new Set;P&&Object.keys(P).length>0?Object.keys(P).forEach(t=>e.add(Number(t))):(o.matchupsBySeason&&Object.keys(o.matchupsBySeason).forEach(t=>e.add(Number(t))),o.seasonAwardsSummary&&Object.keys(o.seasonAwardsSummary).forEach(t=>e.add(Number(t))),o.winnersBracketBySeason&&Object.keys(o.winnersBracketBySeason).forEach(t=>e.add(Number(t))));const t=Array.from(e).sort((e,t)=>t-e);if(m(t),t.length>0){const e=c&&t.includes(Number(c))?Number(c):t[0];h(e)}}},[r,a,o,P,c]),(0,t.useEffect)(()=>{if(d&&o&&P[d]){const e=P[d],t=o.rostersBySeason[d];if(!e||!t)return g([]),v("N/A"),b("N/A"),void S("N/A");const n=Object.values(e).map(e=>({teamName:e.teamName,wins:e.wins,losses:e.losses,ties:e.ties,pointsFor:e.pointsFor,pointsAgainst:e.pointsAgainst,rosterId:e.rosterId,ownerId:e.ownerId})).sort((e,t)=>t.wins!==e.wins?t.wins-e.wins:e.losses!==t.losses?e.losses-t.losses:t.pointsFor-e.pointsFor);g(n);let r="N/A",a="N/A",s="N/A";if(o.winnersBracketBySeason&&o.winnersBracketBySeason[d]){const e=o.winnersBracketBySeason[d],n=e.find(e=>1===e.p&&e.w&&e.l);if(n){const e=String(n.w).trim(),s=String(n.l).trim(),o=t.find(t=>String(t.roster_id)===e),l=t.find(e=>String(e.roster_id)===s);o&&o.owner_id&&(r=i(o.owner_id,d)),l&&l.owner_id&&(a=i(l.owner_id,d))}const l=e.find(e=>3===e.p&&e.w);if(l){const e=String(l.w).trim(),n=t.find(t=>String(t.roster_id)===e);n&&n.owner_id&&(s=i(n.owner_id,d))}}if("N/A"===r&&o.seasonAwardsSummary&&o.seasonAwardsSummary[d]){const e=o.seasonAwardsSummary[d];if(e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()){const t=e.champion.trim(),n=i(t,d);r="Unknown Team"!==n?n:t}}if("N/A"===r&&o.awardsSummary&&o.awardsSummary[d]){const e=o.awardsSummary[d],t=e.champion||e.Champion;if(t&&"N/A"!==t&&""!==String(t).trim()){const e=String(t).trim(),n=i(e,d);r="Unknown Team"!==n?n:e}}v(r),b(a),S(s)}else d||(g([]),v("N/A"),b("N/A"),S("N/A"))},[d,o,P,i]),r)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading season data..."})]})});if(a)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load season data: ",a.message||String(a)]})]})});const O=e=>{const t=p.find(t=>String(t.rosterId)===String(e));return t?t.teamName:"Unknown"},A=e=>{if("number"===typeof e&&!isNaN(e)){const t=e.toFixed(3);return e<1?t.replace(/^0/,""):t}return"N/A"};let T=null;if(d&&P[d]){const e=Object.values(P[d]),t=e.reduce((e,t)=>e.pointsFor>t.pointsFor?e:t,{}),n=e.reduce((e,t)=>e.wins>t.wins?e:t,{}),r=e.reduce((e,t)=>e.luckRating>t.luckRating?e:t,{}),a=e.reduce((e,t)=>e.luckRating<t.luckRating?e:t,{}),s=e.reduce((e,t)=>e.allPlayWinPercentage>t.allPlayWinPercentage?e:t,{}),i=e.reduce((e,t)=>e.blowoutWins>t.blowoutWins?e:t,{}),l=e.reduce((e,t)=>e.slimWins>t.slimWins?e:t,{}),c=e.reduce((e,t)=>e.topScoreWeeksCount>t.topScoreWeeksCount?e:t,{});let u={score:-1/0,team:null,week:null},h={score:1/0,team:null,week:null};o.matchupsBySeason&&o.matchupsBySeason[d]&&o.matchupsBySeason[d].forEach(e=>{"number"===typeof e.team1_score&&e.team1_score>u.score&&(u={score:e.team1_score,team:O(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>u.score&&(u={score:e.team2_score,team:O(e.team2_roster_id),week:e.week}),"number"===typeof e.team1_score&&e.team1_score>0&&e.team1_score<h.score&&(h={score:e.team1_score,team:O(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>0&&e.team2_score<h.score&&(h={score:e.team2_score,team:O(e.team2_roster_id),week:e.week})}),h.score===1/0&&(h={score:"N/A",team:"N/A",week:"N/A"}),T={pointsChampion:t,bestRecord:n,luckiest:r,unluckiest:a,allPlayChamp:s,blowoutKing:i,slimMaster:l,topScorer:c,highestWeek:u,lowestWeek:h}}const{allPlayStandings:I,weeklyPointsMap:C,scheduleMap:D}=(0,t.useMemo)(()=>{var e;const t={allPlayStandings:[],weeklyPointsMap:{},scheduleMap:{}};if(!d||!o||!o.matchupsBySeason||!o.matchupsBySeason[d])return t;const n=o.matchupsBySeason[d]||[],r=[],a=new Set;n.forEach(e=>{const t=String(e.week),n=String(e.team1_roster_id),s=String(e.team2_roster_id);if(n===s)return;const o="".concat(t,":").concat([n,s].sort().join("-"));a.has(o)||(a.add(o),r.push(e))});const s=(null===(e=o.rostersBySeason)||void 0===e?void 0:e[d])||[],l=s.map(e=>String(e.roster_id)),h=new Set(l),f={},m={};s.forEach(e=>{const t=String(e.roster_id);f[t]=e.owner_id,m[t]=i?i(e.owner_id,d):e.team_name||"Roster ".concat(t)});const p={},g={},y={},v=[];l.forEach(e=>{p[e]={},g[e]={},y[e]=0}),r.forEach(e=>{const t=Number(e.week);if(isNaN(t)||t<1||t>14)return;const n="number"===typeof e.team1_score&&!isNaN(e.team1_score),r="number"===typeof e.team2_score&&!isNaN(e.team2_score);if(!n||!r)return;const a=String(t),s=String(e.team1_roster_id),o=String(e.team2_roster_id),i=Number(e.team1_score),l=Number(e.team2_score);h.has(s)&&(p[s][a]=i),h.has(o)&&(p[o][a]=l),h.has(s)&&(g[s][a]={opponentId:o,opponentPoints:l}),h.has(o)&&(g[o][a]={opponentId:s,opponentPoints:i}),h.has(s)&&h.has(o)&&i===l&&(y[s]=(y[s]||0)+1,y[o]=(y[o]||0)+1,v.push({week:a,roster1:s,roster2:o,score:i}))});const x={};l.forEach(e=>{x[e]={wins:0,losses:0,ties:0,pointsFor:0}});const b=new Set;l.forEach(e=>{Object.keys(p[e]||{}).forEach(e=>{const t=Number(e);!isNaN(t)&&t>=1&&t<=14&&b.add(String(t))})});const w=Array.from(b).sort((e,t)=>Number(e)-Number(t)),S=w.filter(e=>l.every(t=>p[t]&&Object.prototype.hasOwnProperty.call(p[t],e)));let k=S;const j=u&&u.week?Number(u.week):null;Number(d)===Number(c)&&j&&!isNaN(j)&&(k=k.filter(e=>Number(e)<j)),k.forEach(e=>{const t=l.map(t=>{var n;return{rid:t,pts:null!==(n=p[t][e])&&void 0!==n?n:0}});t.forEach(e=>{const n=e.pts;let r=0,a=0,s=0;t.forEach(t=>{t.rid!==e.rid&&(n>t.pts?r++:n<t.pts?a++:s++)}),x[e.rid].wins+=r,x[e.rid].losses+=a,x[e.rid].ties+=s,x[e.rid].pointsFor+=n})});const _=v.filter(e=>k.includes(String(e.week))),N={};l.forEach(e=>{N[e]=0}),_.forEach(e=>{h.has(e.roster1)&&(N[e.roster1]=(N[e.roster1]||0)+1),h.has(e.roster2)&&(N[e.roster2]=(N[e.roster2]||0)+1)});const P=l.map(e=>{const t=m[e]||O(e)||e,n=x[e],r=n.wins+n.losses+n.ties,a=r>0?(n.wins+.5*n.ties)/r:0,s=k.length||14,o=N[e]||0,i=Math.max(0,Math.min(o,s));return{rosterId:e,teamName:t,wins:n.wins,losses:n.losses,ties:i,pointsFor:n.pointsFor,pct:a}}).sort((e,t)=>t.pct-e.pct||t.pointsFor-e.pointsFor);return t.allPlayStandings=P,t.weeklyPointsMap=p,t.scheduleMap=g,t.headToHeadTies=N,t.weeksUsed=k,t.tieMatchups=_,t},[d,o,u,i,p,c]),M=(0,t.useCallback)((e,t)=>{if(!e||!t)return null;const n=D[t]?Object.keys(D[t]):[];let r=0,a=0,s=0,o=0,i=0,l=0;const h=u&&u.week?Number(u.week):null,f=Number(d)===Number(c);n.forEach(n=>{var c,u,d,m;const p=Number(n);if(f&&!isNaN(h)&&h&&p>=h)return;const g=D[t][n];if(g&&String(g.opponentId)===String(e))return;const y=null===(c=C[e])||void 0===c?void 0:c[n],v=g&&null!==(u=null!==(d=null===(m=C[g.opponentId])||void 0===m?void 0:m[n])&&void 0!==d?d:g.opponentPoints)&&void 0!==u?u:null,x="number"===typeof y&&!isNaN(y),b="number"===typeof v&&!isNaN(v);x&&b&&(o+=y,i+=v,l++,y>v?r++:y<v?a++:s++)});const m=r+a+s;return{wins:r,losses:a,ties:s,pointsFor:o,pointsAgainst:i,pct:m>0?(r+.5*s)/m:0,totalWeeks:l}},[C,D,u,d,c]),R="N/A"!==y||"N/A"!==x||"N/A"!==w,L=(p.some(e=>e.ties&&e.ties>0),(I||[]).some(e=>e.ties&&e.ties>0));return(0,G.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,G.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Season Breakdown"}),(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"text-lg font-semibold text-gray-700",children:"Select Season:"}),(0,G.jsxs)("select",{id:"season-select",value:d||"",onChange:e=>h(Number(e.target.value)),className:"p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-800 text-lg",children:[0===f.length&&(0,G.jsx)("option",{value:"",children:"No Seasons Available"}),f.map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),d&&(0,G.jsxs)("div",{className:"mt-8",children:[(0,G.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-20 text-center",children:[d," Season Summary"]}),R&&(0,G.jsxs)("div",{className:"relative flex justify-center items-end h-56 gap-2 md:gap-4 mb-8",children:["N/A"!==x&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-4/5 bg-gray-300 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,G.jsx)("i",{className:"fas fa-trophy text-gray-500 text-5xl"})}),(0,G.jsx)("span",{className:"text-xl md:text-2xl font-bold text-gray-700",children:"2nd Place"}),(0,G.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800",children:x})]}),"N/A"!==y&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-full bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2",children:(0,G.jsx)("span",{className:"text-7xl",children:"\ud83c\udfc6"})}),(0,G.jsx)("span",{className:"text-2xl md:text-3xl font-bold text-white",children:"SWEEN BOWL CHAMPION"}),(0,G.jsx)("p",{className:"text-lg md:text-xl font-semibold text-white",children:y})]}),"N/A"!==w&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-3/5 bg-amber-700 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center text-white transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-5xl"})}),(0,G.jsx)("span",{className:"text-xl md:text-2xl font-bold",children:"3rd Place"}),(0,G.jsx)("p",{className:"text-base md:text-lg font-semibold",children:w})]})]}),T&&(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[(0,G.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-blue-700 mb-1",children:"Points Champion"}),(0,G.jsxs)("div",{children:[T.pointsChampion.teamName," (",aD(Number(null!==(e=T.pointsChampion.pointsFor)&&void 0!==e?e:0),2)," pts)"]})]}),(0,G.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-green-700 mb-1",children:"Best Record"}),(0,G.jsxs)("div",{children:[T.bestRecord.teamName," (",T.bestRecord.wins,"-",T.bestRecord.losses,"-",T.bestRecord.ties,")"]})]}),(0,G.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-yellow-700 mb-1",children:"Luckiest Team"}),(0,G.jsxs)("div",{children:[T.luckiest.teamName," (","number"===typeof T.luckiest.luckRating?aD(T.luckiest.luckRating,3):"N/A",")"]})]}),(0,G.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-red-700 mb-1",children:"Unluckiest Team"}),(0,G.jsxs)("div",{children:[T.unluckiest.teamName," (","number"===typeof T.unluckiest.luckRating?aD(T.unluckiest.luckRating,3):"N/A",")"]})]}),(0,G.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-purple-700 mb-1",children:"All-Play Champion"}),(0,G.jsxs)("div",{children:[T.allPlayChamp.teamName," (",aD(null!==(n=100*T.allPlayChamp.allPlayWinPercentage)&&void 0!==n?n:0,1),"%)"]})]}),(0,G.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-pink-700 mb-1",children:"Blowout King"}),(0,G.jsxs)("div",{children:[T.blowoutKing.teamName," (",T.blowoutKing.blowoutWins," blowout wins)"]})]}),(0,G.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-orange-700 mb-1",children:"Slim Margin Master"}),(0,G.jsxs)("div",{children:[T.slimMaster.teamName," (",T.slimMaster.slimWins," slim wins)"]})]}),(0,G.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-indigo-700 mb-1",children:"Weekly Top Scorer"}),(0,G.jsxs)("div",{children:[T.topScorer.teamName," (",T.topScorer.topScoreWeeksCount," times)"]})]}),(0,G.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-teal-700 mb-1",children:"Highest Single-Week Score"}),(0,G.jsxs)("div",{children:[T.highestWeek.team," (",aD("number"===typeof T.highestWeek.score?T.highestWeek.score:NaN,2)," pts, Week ",T.highestWeek.week,")"]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-gray-700 mb-1",children:"Lowest Single-Week Score"}),(0,G.jsxs)("div",{children:[T.lowestWeek.team," (",aD("number"===typeof T.lowestWeek.score?T.lowestWeek.score:NaN,2)," pts, Week ",T.lowestWeek.week,")"]})]})]}),(0,G.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Season Standings"}),p.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===P||void 0===P||null===(n=P[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,f=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,m="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?aD(c.luckRating,3):"N/A";return(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Record: ",m," \u2022 DPR: ",u?aD(Number(u),3):"N/A"]})]})]}),(0,G.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,G.jsxs)("div",{children:["PF: ",aD(Number(h),2)]}),(0,G.jsxs)("div",{children:["PA: ",aD(Number(f),2)]}),(0,G.jsxs)("div",{children:["Luck: ",p]})]})]})},e.rosterId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-50 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Team"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"DPR"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Record"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PF"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PA"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Luck"})]})}),(0,G.jsx)("tbody",{children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===P||void 0===P||null===(n=P[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,f=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,m="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?aD(c.luckRating,3):"N/A";return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-3 px-4 font-medium",children:t+1}),(0,G.jsx)("td",{className:"py-3 px-4",children:e.teamName}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:u?aD(Number(u),3):"N/A"}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:m}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:aD(Number(h),2)}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:aD(Number(f),2)}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:p})]},e.rosterId)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No standings data available for this season."}),(0,G.jsxs)("div",{className:"mt-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"All-Play Standings"}),I&&I.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3 mb-4",children:I.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 border-l-4 border-purple-600",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["W/L: ",e.wins,"/",e.losses]})]})]}),(0,G.jsxs)("div",{className:"text-sm text-gray-600",children:["Pct: ",A(e.pct)]})]})},e.rosterId))}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mb-6",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,G.jsx)("thead",{className:"bg-purple-50 text-gray-700 uppercase text-sm",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-4 text-left",children:"Rank"}),(0,G.jsx)("th",{className:"py-2 px-4 text-left",children:"Team"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Wins"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Losses"}),L&&(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Ties"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Pct"})]})}),(0,G.jsx)("tbody",{children:I.map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-4 font-semibold",children:t+1}),(0,G.jsx)("td",{className:"py-2 px-4",children:e.teamName}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.wins}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.losses}),L&&(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.ties}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:A(e.pct)})]},e.rosterId))})]})})]}):(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"All-play data is not available for this season."}),(0,G.jsxs)("div",{className:"mt-4 bg-green-50 p-4 rounded-lg shadow",children:[(0,G.jsx)("h4",{className:"font-semibold mb-2",children:"Hypothetical Schedule"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select a subject team below to simulate hypothetical W/L results against each other team's schedules."}),(0,G.jsxs)("div",{className:"mb-3",children:[(0,G.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Subject Team"}),(0,G.jsxs)("select",{className:"w-full p-2 border rounded",value:k,onChange:e=>j(e.target.value),children:[(0,G.jsx)("option",{value:"",children:"Select team"}),I.map(e=>(0,G.jsx)("option",{value:e.rosterId,children:e.teamName},e.rosterId))]})]}),(0,G.jsx)("div",{id:"hypo-results",children:k?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-2 mt-3",children:I.filter(e=>e.rosterId!==k).map((e,t)=>{const n=M(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 flex items-center justify-between border-l-4 border-green-600",children:[(0,G.jsx)("div",{className:"font-semibold truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-sm text-gray-600",children:[n.wins," - ",n.losses," \u2022 ",A(n.pct)]})]},e.rosterId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mt-3",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,G.jsx)("thead",{className:"bg-green-50 text-gray-700 uppercase text-sm",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"W"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"L"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Win %"})]})}),(0,G.jsx)("tbody",{children:I.filter(e=>e.rosterId!==k).map((e,t)=>{const n=M(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold",children:e.teamName}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:n.wins}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:n.losses}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:A(n.pct)})]},e.rosterId)})})]})})]}):(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a subject team to see hypothetical results vs the other schedules."})})]})]})]}),!d&&!r&&!a&&(0,G.jsx)("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Please select a season from the dropdown to view its breakdown."})]})},RB=()=>{var e;const{loading:n,error:r,historicalData:a,usersData:s,getTeamName:o,allDraftHistory:i,processedSeasonalRecords:l}=X(),[c,d]=(0,t.useState)([]),[f,m]=(0,t.useState)(null),[p,y]=(0,t.useState)(null),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)(null),[j,_]=(0,t.useState)(null),[N,P]=(0,t.useState)([]),[O,A]=(0,t.useState)({}),[I,z]=(0,t.useState)("board"),[V,H]=(0,t.useState)(null);h.A.debug("--- DraftAnalysis Component Render ---"),h.A.debug("Loading:",n),h.A.debug("Error:",r),h.A.debug("Historical Data (raw):",a),h.A.debug("Users Data (raw):",s),h.A.debug("------------------------------------");const q=(0,t.useCallback)((e,t,n)=>{const r=null===n||void 0===n?void 0:n[t],a=null===r||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e));return a?a.owner_id:null},[]);(0,t.useEffect)(()=>{if(h.A.debug("useEffect: Populating seasons and setting default season."),h.A.debug("Current loading status:",n),h.A.debug("Current error status:",r),h.A.debug("Historical Data in season useEffect:",a),!n&&!r&&a&&a.draftsBySeason){const e=Object.keys(a.draftsBySeason).map(Number).sort((e,t)=>t-e);d(e),e.length>0&&!f&&m("Overview")}},[n,r,a,f]),(0,t.useEffect)(()=>{(async()=>{if(f&&"number"===typeof f&&a&&a.draftsBySeason){const e=a.draftsBySeason[f];if(e&&e.league_id){h.A.debug("Fetching league settings for league ID: ".concat(e.league_id));const t=await L(e.league_id);k(t);const n=await B(e.league_id);_(n)}else h.A.debug("No league ID found for season ".concat(f," to fetch league settings.")),k(null),_(null)}else k(null),_(null)})()},[f,a]),(0,t.useEffect)(()=>{h.A.debug("useEffect: Processing draft data for selected season and board structure."),h.A.debug("Current selectedSeason:",f),h.A.debug("Historical Data in draft processing useEffect:",a),h.A.debug("Users Data in draft processing useEffect:",s),h.A.debug("League Scoring Settings:",S),h.A.debug("League Roster Settings:",j);(async()=>{var e,t,n,r;if(!f||"Overview"===f||!a||!a.draftsBySeason||!a.draftPicksBySeason||!s)return h.A.debug("Missing data dependencies for draft processing or Overview selected (selectedSeason, historicalData.draftsBySeason, historicalData.draftPicksBySeason, usersData, leagueScoringSettings, or leagueRosterSettings are not fully loaded or available)."),y(null),x([]),P([]),A({}),void w([]);const i=a.draftsBySeason[f],l=a.draftPicksBySeason[f],c=null===(e=a.leaguesMetadataBySeason)||void 0===e||null===(t=e[f])||void 0===t?void 0:t.league_id;let d=[];if(c){var m;const e=(null===(m=a.leaguesMetadataBySeason[f])||void 0===m?void 0:m.settings)||{},t=e.playoff_start_week?parseInt(e.playoff_start_week,10)+3:18;d=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;const n=await T(e)||[];let r=[];const a=[];for(let s=1;s<=t;s++)a.push(E(e,s).then(e=>e?e.filter(e=>{var t;return"trade"===e.type&&Array.isArray(null===(t=e.metadata)||void 0===t?void 0:t.traded_picks)}).flatMap(e=>e.metadata.traded_picks.map(t=>u(u({},t),{},{trade_transaction_id:e.transaction_id,trade_week:s,source:"transaction"}))):[]));return r=(await Promise.all(a)).flat(),[...(n||[]).map(e=>u(u({},e),{},{source:"endpoint"})),...r]}(c,t)}w(d),y(i);const v=i.draft_order,b=(null===(n=i.settings)||void 0===n?void 0:n.rounds)||0,k=(null===(r=i.settings)||void 0===r?void 0:r.teams)||12,_=Object.entries(v).reduce((e,t)=>{let[n,r]=t;return e[r]=n,e},{}),N=[];for(let a=1;a<=b;a++){let e=Array.from({length:k},(e,t)=>t+1);a%2===0&&(e=e.reverse()),N.push(e.map(e=>_[e]))}const O=N[0].map(e=>{var t,n,r;const i=s.find(t=>t.user_id===e),l=null===(t=a.rostersBySeason)||void 0===t||null===(n=t[f])||void 0===n?void 0:n.find(t=>String(t.owner_id)===String(e));return{userId:e,teamName:l&&(null===(r=l.metadata)||void 0===r?void 0:r.team_name)||o(e,f),teamAvatar:g(i?i.avatar:null)}});P(O);const I={},L=l.map(async e=>{var t,n;const r=C(e,s,a,f,o);r.pick_in_round=e.draft_slot;let l=null,c=0;if(!e.is_keeper&&e.player_id){var u,d;const t="DEF"===r.player_position?"".concat((null===(u=r.metadata)||void 0===u?void 0:u.first_name)||""," ").concat((null===(d=r.metadata)||void 0===d?void 0:d.last_name)||"").trim():r.player_name;l=await R(e.player_id,f,"regular",t),l&&S&&(c=F(l,S,r.player_position))}r.player_stats=l,r.fantasy_points=c;const m=(e=>"number"===typeof e.fantasy_points?e.fantasy_points:0)(r),p=((e,t,n)=>e<=0?0:5*(t*n-e+1))(r.pick_no,null===(t=i.settings)||void 0===t?void 0:t.rounds,null===(n=i.settings)||void 0===n?void 0:n.teams);return r.calculated_player_value=m,r.calculated_pick_slot_value=p,h.A.debug("Processed Pick ".concat(e.pick_no," (").concat(r.player_name,"):")),h.A.debug("  Fantasy Points: ".concat(r.fantasy_points)),h.A.debug("  Calculated Player Value: ".concat(r.calculated_player_value)),r}),B=await Promise.all(L),z=B.filter(e=>!e.is_keeper);let V={overall:[],positional:{}},G={},q=[],K=new Map,Y=0;if(z.length>0&&j){if(V=W(z),Object.keys(V.positional).length>0){G=U(V.positional,j);for(const e in G)q.push(...G[e]);q.sort((e,t)=>t.vorp-e.vorp)}const e=l.length;K=D(e);let t=0,n=0;z.forEach(e=>{const r=q.find(t=>t.player_id===e.player_id),a=r?r.vorp:0,s=K.get(e.pick_no)||0,o=M(a,s);t+=o,n++}),Y=n>0?t/n:0}let Q=B.map(e=>{let t=0,n=0,r=0,a=0;if(!e.is_keeper){const s=q.find(t=>t.player_id===e.player_id);t=s?s.vorp:0,n=K.get(e.pick_no)||0,r=M(t,n),a=(r-Y)/10}return u(u({},e),{},{player_actual_vorp:t,draft_pick_assigned_vorp:n,vorp_delta:r,scaled_vorp_delta:a})});try{const e={},t=Object.keys(a.draftPicksBySeason||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const n of t){const t=(a.draftPicksBySeason[n]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const n of t){const t=n.player_id;t&&(n.is_keeper?e[t]?(e[t].yearsKept=(e[t].yearsKept||0)+1,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null):e[t]={yearsKept:1,lastPickedBy:n.picked_by||null}:(e[t]=e[t]||{yearsKept:0,lastPickedBy:n.picked_by||null},e[t].yearsKept=0,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null))}}Q=Q.map(t=>{const n=t.player_id;if(!n)return t;const r=(e[n]||{yearsKept:0}).yearsKept||0,a=Math.max(0,3-r);return u(u({},t),{},{keeper_years:r,keeper_remaining:a})})}catch(J){h.A.warn("Error computing keeper history:",J)}const X={};Q.forEach(e=>{X[e.round]||(X[e.round]={}),X[e.round][e.pick_in_round]=e});for(let a=1;a<=b;a++){let e=Array.from({length:k},(e,t)=>t+1);a%2===0&&(e=e.reverse()),I[a]||(I[a]=Array(k).fill(null));for(let t=0;t<k;t++){const n=e[t];_[n];let r=null;r=X[a]&&X[a][t+1]?X[a][t+1]:Q.find(e=>e.round===a&&e.pick_in_round===t+1),I[a][t]=r||null}}A(I),x(Q.sort((e,t)=>e.pick_no-t.pick_no));try{const e=Q.filter(e=>!e.is_keeper&&"number"===typeof e.scaled_vorp_delta);if(e&&0!==e.length){var $;const t=e.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],n=e.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],r={};e.forEach(e=>{const t=e.picked_by||"unknown";r[t]||(r[t]={total:0,count:0,teamName:e.picked_by_team_name||"Unknown"}),r[t].total+=e.scaled_vorp_delta,r[t].count+=1,e.season&&(!r[t].latestSeason||e.season>r[t].latestSeason)&&(r[t].teamName=e.picked_by_team_name||r[t].teamName,r[t].latestSeason=e.season)});const a=Object.entries(r).map(e=>{let[t,n]=e;return{ownerId:t,team:n.teamName,totalScaledVorp:n.total}});a.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp);const s=a[0]||{team:"Unknown",totalScaledVorp:0},o=a[a.length-1]||{team:"Unknown",totalScaledVorp:0},i=[],l=(null===p||void 0===p||null===($=p.settings)||void 0===$?void 0:$.rounds)||b||0;for(let c=1;c<=l;c++){const t=e.filter(e=>{var t;return(e.round||Math.ceil(e.pick_no/((null===p||void 0===p||null===(t=p.settings)||void 0===t?void 0:t.teams)||12)))===c});if(!t||0===t.length){i.push(null);continue}const n=t.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],r=t.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],a=t.reduce((e,t)=>e+(t.scaled_vorp_delta||0),0)/t.length;i.push({round:c,best:n,worst:r,avgScaledVorp:a})}H({bestTeam:s,worstTeam:o,bestPick:t,worstPick:n,roundSummaries:i})}else H(null)}catch(Z){h.A.warn("Error computing draftYearSummary:",Z),H(null)}})()},[f,a,s,o,q,S,j]);const[K,Y]=(0,t.useState)(null),[Q,$]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{(async()=>{if(h.A.debug("Computing overview data..."),h.A.debug("allDraftHistory:",i),h.A.debug("usersData:",s),h.A.debug("historicalData:",a),"Overview"===f&&null!==a&&void 0!==a&&a.draftsBySeason&&null!==a&&void 0!==a&&a.draftPicksBySeason&&s){$(!0);try{const e=Object.keys(a.draftsBySeason).map(async e=>{const t=Number(e),n=a.draftsBySeason[e],r=a.draftPicksBySeason[e];if(!n||!r||!r.length)return[];try{const i=await L(n.league_id),l=await B(n.league_id);if(!i||!l)return h.A.debug("Missing league settings for season ".concat(e)),[];const c=r.map(async e=>{const n=C(e,s,a,t,o);n.pick_in_round=e.draft_slot,n.season=t;let r=null,l=0;if(!e.is_keeper&&e.player_id){var c,u;const a="DEF"===n.player_position?"".concat((null===(c=n.metadata)||void 0===c?void 0:c.first_name)||""," ").concat((null===(u=n.metadata)||void 0===u?void 0:u.last_name)||"").trim():n.player_name;r=await R(e.player_id,t,"regular",a),r&&i&&(l=F(r,i,n.player_position))}return n.player_stats=r,n.fantasy_points=l,n}),d=await Promise.all(c),f=d.filter(e=>!e.is_keeper);let m=[],p=new Map,g=0;if(f.length>0&&l){const e=W(f);if(Object.keys(e.positional).length>0){const t=U(e.positional,l);for(const e in t)m.push(...t[e]);m.sort((e,t)=>t.vorp-e.vorp)}const t=r.length;p=D(t);let n=0,a=0;f.forEach(e=>{const t=m.find(t=>t.player_id===e.player_id),r=t?t.vorp:0,s=p.get(e.pick_no)||0,o=M(r,s);n+=o,a++}),g=a>0?n/a:0}const y=d.map(e=>{let n=0,r=0,a=0,s=0;if(!e.is_keeper){const t=m.find(t=>t.player_id===e.player_id);n=t?t.vorp:0,r=p.get(e.pick_no)||0,a=M(n,r),s=(a-g)/10}return u(u({},e),{},{player_actual_vorp:n,draft_pick_assigned_vorp:r,vorp_delta:a,scaled_vorp_delta:s,season:t})});return y}catch(i){return h.A.error("Error processing season ".concat(e,":"),i),[]}}),t=(await Promise.all(e)).flat().filter(Boolean);if(h.A.debug("Total processed picks with real VORP:",t.length),h.A.debug("Sample processed pick:",t[0]),0===t.length)return void Y({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]});const n=t.map(e=>{const t=e.round||Math.ceil(e.pick_no/12),n=e.draft_slot||(e.pick_no-1)%12+1;return u(u({},e),{},{round:t,pick_in_round:n,team:e.picked_by_team_name||"Unknown Team",player_name:e.player_name||"Unknown Player",position:e.player_position||"NA",team_abbrev:e.player_team||""})}),r=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta).slice(0,5),i=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta).slice(0,5),l={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t=e.picked_by||"unknown";l[t]||(l[t]={total:0,count:0,latestTeamName:e.team||"Unknown",latestSeason:e.season||0}),l[t].total+=e.scaled_vorp_delta,l[t].count+=1,e.season>l[t].latestSeason&&(l[t].latestTeamName=e.team||"Unknown",l[t].latestSeason=e.season)});const c=Object.entries(l).map(e=>{let[t,n]=e;return{ownerId:t,team:n.latestTeamName,value:n.count>0?n.total/n.count:0}}).sort((e,t)=>t.value-e.value),d=[],f={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t="".concat(e.season,"_").concat(e.picked_by);f[t]||(f[t]={season:e.season,ownerId:e.picked_by,team:e.team,totalScaledVorp:0,picks:[]}),f[t].totalScaledVorp+=e.scaled_vorp_delta,f[t].picks.push(e)}),Object.values(f).forEach(e=>{d.push(e)}),d.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp),h.A.debug("Overview data computed with real VORP values:",{topPicks:r.length,worstPicks:i.length,teamRankings:c.length,draftsSummaries:d.length}),Y({topPicks:r,worstPicks:i,teamRankings:c,draftsSummaries:d})}catch(e){h.A.error("Overview computation error:",e),Y({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]})}finally{$(!1)}}})()},[i,s,a,o,f]),h.A.debug("Rendering: Main content"),h.A.debug("Current seasons state:",c),h.A.debug("Current selectedSeason state:",f),h.A.debug("Current draftSummary state:",p),h.A.debug("Current draftPicks state (flat):",v.length),h.A.debug("Current orderedTeamColumns state:",N.length),h.A.debug("Current picksGroupedByRound state (rounds):",Object.keys(O).length),h.A.debug("Current tradedPicksData state:",b.length),h.A.debug("Current leagueScoringSettings state:",S),h.A.debug("Current leagueRosterSettings state:",j),h.A.debug("Current activeTab state:",I),n)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-300",children:"Loading draft data..."})]})});if(r)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-800 border border-red-600 text-red-100 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load draft data: ",r.message||String(r)]})]})});const J=(null===p||void 0===p||null===(e=p.settings)||void 0===e?void 0:e.rounds)||0,Z=Array.from({length:J},(e,t)=>t+1),ee=(0,t.useMemo)(()=>{const e=new Map;return b.forEach(t=>{e.has(t.round)||e.set(t.round,new Map),e.get(t.round).set(String(t.roster_id),t)}),e},[b]),te={RB:"bg-green-700",QB:"bg-red-700",WR:"bg-blue-700",TE:"bg-yellow-700",K:"bg-purple-700",DEF:"bg-zinc-700",DL:"bg-zinc-700",LB:"bg-zinc-700",DB:"bg-zinc-700",IDP:"bg-zinc-700",DP:"bg-gray-700",NA:"bg-gray-700"},ne=e=>{const t="string"===typeof e?e.toUpperCase():"";return te[t]||"bg-gray-700"};return(0,G.jsxs)("div",{className:"container mx-auto p-4 bg-gray-900 text-white min-h-screen",children:[(0,G.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:"Draft Analysis"}),(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row justify-center items-center sm:space-x-4 space-y-3 sm:space-y-0",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"text-lg",children:"Select Season:"}),(0,G.jsxs)("select",{id:"season-select",className:"p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500 w-44",value:f||"",onChange:e=>{const t=e.target.value;m("Overview"===t?"Overview":Number(t)),z("board")},disabled:0===c.length,children:[(0,G.jsx)("option",{value:"Overview",children:"Overview"}),c.length>0?c.map(e=>(0,G.jsx)("option",{value:e,children:e},e)):(0,G.jsx)("option",{value:"",children:"No Seasons Available"})]})]}),"Overview"===f&&(0,G.jsxs)("div",{className:"p-6 mb-8",children:[(0,G.jsx)("h2",{className:"text-3xl font-semibold mb-6 text-center text-yellow-400",children:"All-Time Draft Overview"}),Q?(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsx)("p",{className:"text-gray-400",children:"Computing all-time draft data with real Draft Value..."})}):K?(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-blue-300 mb-4",children:"Top Picks All-Time"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Top draft picks by value all-time."}),(0,G.jsx)("div",{className:"space-y-4",children:K.topPicks.map((e,t)=>(0,G.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-green-400",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,G.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,G.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,G.jsxs)("div",{className:"text-sm text-gray-200",children:[(0,G.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,G.jsx)("div",{className:"text-2xl font-bold text-green-400",children:aD(e.scaled_vorp_delta,2)})]}),(0,G.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Worst Picks All-Time"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Worst draft picks by value all-time."}),(0,G.jsx)("div",{className:"space-y-4",children:K.worstPicks.map((e,t)=>(0,G.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-red-400",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,G.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,G.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,G.jsxs)("div",{className:"text-sm text-gray-200",children:[(0,G.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,G.jsx)("div",{className:"text-2xl font-bold text-red-400",children:aD(e.scaled_vorp_delta,2)})]}),(0,G.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-4",children:"All-Time Draft Rankings"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Members ranked by all-time avg. draft pick value."}),(0,G.jsx)("div",{className:"space-y-2",children:K.teamRankings.map((e,t)=>(0,G.jsxs)("div",{className:"flex justify-between items-center bg-gray-600 p-3 rounded",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsxs)("span",{className:"text-gray-400 font-medium",children:["#",t+1]}),(0,G.jsx)("span",{className:"text-white font-medium",children:e.team})]}),(0,G.jsx)("span",{className:"font-bold ".concat(e.value>=0?"text-green-400":"text-red-400"),children:aD(e.value,2)})]},t))})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-green-300 mb-4",children:"Best & Worst All-Time Drafts"}),(0,G.jsxs)("div",{className:"mb-6",children:[(0,G.jsx)("h4",{className:"text-lg font-semibold text-blue-300 mb-3",children:"Best All-Time Drafts"}),(0,G.jsx)("div",{className:"space-y-2",children:K.draftsSummaries.slice(0,3).map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-green-400",children:[(0,G.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,G.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,G.jsx)("div",{className:"text-lg font-bold text-green-400",children:aD(e.totalScaledVorp,2)})]},t))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-3",children:"Worst All-Time Drafts"}),(0,G.jsx)("div",{className:"space-y-2",children:K.draftsSummaries.slice(-3).reverse().map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-red-400",children:[(0,G.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,G.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,G.jsx)("div",{className:"text-lg font-bold text-red-400",children:aD(e.totalScaledVorp,2)})]},t))})]})]})]}),(0,G.jsx)("div",{className:"mt-6"})]}):(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsx)("p",{className:"text-gray-400",children:"No all-time draft data available."})})]}),"Overview"!==f&&f&&p?(0,G.jsxs)("div",{className:"p-6 mb-8",children:[(0,G.jsxs)("h2",{className:"text-3xl font-semibold mb-4 text-center text-green-400",children:[f," Draft Summary"]}),(0,G.jsxs)("div",{className:"flex justify-center mb-6 border-b border-gray-600",children:[(0,G.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("board"===I?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-gray-200"),onClick:()=>z("board"),children:"Draft Board"}),(0,G.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("summary"===I?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-gray-200"),onClick:()=>z("summary"),children:"Draft Summary"})]}),"board"===I&&(0,G.jsxs)("div",{className:"mt-6",children:[(0,G.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-purple-400",children:"Draft Board"}),N.length>0&&J>0?(0,G.jsx)("div",{className:"w-full overflow-auto",children:(0,G.jsxs)("div",{className:"grid gap-1 p-2",style:{gridTemplateColumns:"auto repeat(".concat(N.length,", minmax(100px, 1fr))"),minWidth:"".concat(Math.max(100*(N.length+1),480),"px")},children:[(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-2 text-center rounded-tl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:"Round"}),N.map(e=>(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-1 text-center flex flex-col items-center justify-center rounded-t-md min-h-[40px] sticky top-0 z-10",children:(0,G.jsx)("span",{className:"text-xs leading-tight break-words text-center max-w-full block",style:{wordBreak:"break-word",hyphens:"auto"},children:e.teamName})},e.userId)),Z.map(e=>(0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-2 px-2 text-center flex items-center justify-center rounded-bl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:e}),N.map((t,n)=>{var r,s;const i=null===(r=O[e])||void 0===r?void 0:r[n],l=(null===(s=p.settings)||void 0===s?void 0:s.teams)||12,c=e%2!==0?n+1:l-n;let u=null;for(const e in p.draft_order)if(p.draft_order[e]===c){u=e;break}let d=null;if(u&&i&&i.picked_by!==u){var h,m;const t=null===(h=a.rostersBySeason)||void 0===h||null===(m=h[f])||void 0===m?void 0:m.find(e=>String(e.owner_id)===String(u)),n=t?String(t.roster_id):null;var g;if(n)d=null===(g=ee.get(e))||void 0===g?void 0:g.get(n)}const y=i&&u&&i.picked_by!==u&&!!d;let v="",x="";var b,w;if(i&&"DEF"===i.player_position)v=(null===(b=i.metadata)||void 0===b?void 0:b.first_name)||"",x=(null===(w=i.metadata)||void 0===w?void 0:w.last_name)||"";else if(i){const e=i.player_name.split(" ");v=e[0],x=e.slice(1).join(" ")}const S=x.length>12?"text-base":"text-lg";return(0,G.jsx)("div",{className:"relative p-1 border border-gray-700 text-xs min-h-[60px] sm:min-h-[70px]\n                                                                        ".concat(i?ne(i.player_position):"bg-gray-900"),children:i?i.is_keeper?(0,G.jsx)("div",{className:"flex items-center justify-center h-full text-sm font-bold text-green-300",children:"KEEPER"}):(0,G.jsxs)("div",{className:"flex flex-col h-full w-full p-1",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-200 mb-1",children:[(0,G.jsx)("div",{className:"font-medium",children:i.player_position}),(0,G.jsx)("div",{className:"font-medium",children:i.player_team})]}),(0,G.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center min-w-0 text-center px-1",children:[(0,G.jsx)("div",{className:"w-full truncate text-xs text-white font-medium leading-tight",children:v}),(0,G.jsx)("div",{className:"w-full truncate text-sm font-bold text-white leading-tight ".concat(S),children:x})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2 w-full",children:["number"===typeof i.scaled_vorp_delta?(0,G.jsx)("div",{className:"flex-shrink-0 inline-flex items-center justify-center text-[10px] font-bold text-white px-1.5 py-0.5 rounded ".concat(i.scaled_vorp_delta>=0?"bg-green-500":"bg-red-500"),style:{minWidth:"28px",maxWidth:"48px"},title:"Draft Value: ".concat(aD(i.scaled_vorp_delta,2)),children:aD(parseFloat(i.scaled_vorp_delta),1)}):(0,G.jsx)("div",{className:"text-xs text-gray-400 w-6",children:"\xa0"}),y?(0,G.jsx)("div",{className:"flex-shrink-0 cursor-help ml-2",title:"Pick acquired by: ".concat(i.picked_by_team_name),children:(0,G.jsx)(XC,{icon:ZC,className:"w-3 h-3 text-yellow-400"})}):(0,G.jsx)("div",{className:"w-3"})]})]}):d?(0,G.jsx)("div",{className:"absolute bottom-0.5 right-0.5 cursor-help",title:"Pick acquired by: ".concat(o(q(d.owner_id,f,a.rostersBySeason),f)),children:(0,G.jsx)(XC,{icon:ZC,className:"w-3 h-3 text-yellow-400"})}):(0,G.jsx)("span",{className:"text-gray-600 text-xs",children:"Empty"})},"".concat(e,"-").concat(n))})]},e))]})}):(0,G.jsx)("p",{className:"text-center text-gray-400",children:"No draft board data available for this season."})]}),"summary"===I&&(0,G.jsxs)("div",{className:"mt-6",children:[(0,G.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-green-400",children:"Draft Year Summary"}),V?(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Team by Total Draft Value"}),(0,G.jsxs)("p",{className:"text-lg",children:[V.bestTeam.team," ",(0,G.jsxs)("span",{className:"text-green-400 font-semibold",children:["(",aD(V.bestTeam.totalScaledVorp,2),")"]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Team by Total Draft Value"}),(0,G.jsxs)("p",{className:"text-lg",children:[V.worstTeam.team," ",(0,G.jsxs)("span",{className:"text-red-400 font-semibold",children:["(",aD(V.worstTeam.totalScaledVorp,2),")"]})]})]})]}),(0,G.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Pick (Draft Value)"}),(0,G.jsxs)("p",{className:"text-lg",children:[V.bestPick.player_name," (",V.bestPick.player_position,")",(0,G.jsx)("span",{className:"ml-2 text-green-400 font-semibold",children:aD("number"===typeof V.bestPick.scaled_vorp_delta?V.bestPick.scaled_vorp_delta:V.bestPick.vorp_delta,2)}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",V.bestPick.picked_by_team_name," | Pick: ",V.bestPick.pick_no]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Pick (Draft Value)"}),(0,G.jsxs)("p",{className:"text-lg",children:[V.worstPick.player_name," (",V.worstPick.player_position,")",(0,G.jsx)("span",{className:"ml-2 text-red-400 font-semibold",children:aD("number"===typeof V.worstPick.scaled_vorp_delta?V.worstPick.scaled_vorp_delta:V.worstPick.vorp_delta,2)}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",V.worstPick.picked_by_team_name," | Pick: ",V.worstPick.pick_no]})]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-purple-300 mb-4",children:"Round-by-Round Summary"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full text-sm text-gray-200",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gray-800",children:[(0,G.jsx)("th",{className:"py-2 px-4",children:"Round"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Best Pick (Draft Value)"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Worst Pick (Draft Value)"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Avg Draft Value"})]})}),(0,G.jsx)("tbody",{children:V.roundSummaries.map((e,n)=>{var r,a,s,o;return e&&(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"border-b border-gray-600 align-top",children:[(0,G.jsx)("td",{className:"py-2 px-4 text-center font-bold align-top",children:e.round}),(0,G.jsx)("td",{className:"py-2 px-4 align-top",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,G.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.best.player_name," ",(0,G.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.best.player_position,")"]})]}),(0,G.jsxs)("div",{className:"text-sm font-bold text-green-400",children:["Draft Value: ","number"===typeof(null===(r=e.best)||void 0===r?void 0:r.scaled_vorp_delta)?aD(e.best.scaled_vorp_delta,2):"number"===typeof(null===(a=e.best)||void 0===a?void 0:a.vorp_delta)?aD(e.best.vorp_delta,2):"\u2014"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.best.picked_by_team_name||"Unknown"," | Pick: ",e.best.pick_no||"\u2014"]})]})}),(0,G.jsx)("td",{className:"py-2 px-4 align-top",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,G.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.worst.player_name," ",(0,G.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.worst.player_position,")"]})]}),(0,G.jsxs)("div",{className:"text-sm font-bold text-red-400",children:["Draft Value: ","number"===typeof(null===(s=e.worst)||void 0===s?void 0:s.scaled_vorp_delta)?aD(e.worst.scaled_vorp_delta,2):"number"===typeof(null===(o=e.worst)||void 0===o?void 0:o.vorp_delta)?aD(e.worst.vorp_delta,2):"\u2014"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.worst.picked_by_team_name||"Unknown"," | Pick: ",e.worst.pick_no||"\u2014"]})]})}),(0,G.jsx)("td",{className:"py-2 px-4 text-center align-top",children:"number"===typeof e.avgScaledVorp?aD(e.avgScaledVorp,2):"\u2014"})]})},n)})})]})})]})]}):(0,G.jsx)("p",{className:"text-center text-gray-400",children:"No draft summary data available for this season."})]})]}):"Overview"!==f?(0,G.jsx)("p",{className:"text-center text-gray-400",children:"Select a season to view draft analysis."}):null]})},LB=()=>{const{historicalData:e,getTeamName:r,getTeamDetails:a,nflPlayers:s}=X(),[o,i]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)(!1),[w,S]=(0,t.useState)(null),k={2023:n(3225),2022:n(2714),2021:n(891)},j=e=>{try{return k[e]||null}catch(t){return null}},_=t=>{const n=(t=>{var n,s,o;if(null===e||void 0===e||null===(n=e.winnersBracketBySeason)||void 0===n||!n[t])return null;const i=e.winnersBracketBySeason[t],l=(null===(s=e.losersBracketBySeason)||void 0===s?void 0:s[t])||[],c=(null===(o=e.rostersBySeason)||void 0===o?void 0:o[t])||[];let u=[];return c&&Array.isArray(c)&&(u=c.map(e=>{var n;return{rosterId:e.roster_id,ownerId:e.owner_id,name:r(e.owner_id,t),avatar:null===(n=a(e.owner_id,t))||void 0===n?void 0:n.avatar}})),{year:t,winnersBracket:i,losersBracket:l,rosters:c,teams:u}})(t);n&&(h(t),g(n),m(!0))},N=(e,t)=>r(e,t)||"Unknown Champion";(0,t.useEffect)(()=>{const t=e&&e.winnersBracketBySeason&&e.rostersBySeason;if(c(t),t){const t=[],o=Object.keys(e.winnersBracketBySeason).sort((e,t)=>t-e);for(const i of o){const o=Number(i);let l=null;const c=e.winnersBracketBySeason[o],u=null===c||void 0===c?void 0:c.find(e=>1===e.p&&e.w);if(u){var n;const t=String(u.w),r=null===(n=e.rostersBySeason)||void 0===n?void 0:n[o];if(r&&Array.isArray(r)){const e=r.find(e=>String(e.roster_id)===t);e&&e.owner_id&&(l=e.owner_id)}}if(!l){var r;const t=null===(r=e.seasonAwardsSummary)||void 0===r?void 0:r[o];if(null!==t&&void 0!==t&&t.champion&&"N/A"!==t.champion)l=t.champion;else{var s;const t=null===(s=e.awardsSummary)||void 0===s?void 0:s[o],n=(null===t||void 0===t?void 0:t.champion)||(null===t||void 0===t?void 0:t.Champion);n&&"N/A"!==n&&(l=n)}}if(l){const e=N(l,o),n=a(l,o);t.push({year:o,name:"Unknown Champion"!==e?e:l,championId:l,avatar:null===n||void 0===n?void 0:n.avatar,image:j(o),hasBracket:!!c&&c.length>0})}}i(t)}},[e,r,a]),(0,t.useEffect)(()=>{if(!e||!o||0===o.length)return;const t={};o.forEach(n=>{var r,a;const o=n.year,i=n.championId,l=n.name,c=(t=>{var n;const r=null===(n=e.winnersBracketBySeason)||void 0===n?void 0:n[t];if(r&&Array.isArray(r)){const e=r.find(e=>1===e.p&&e.w);if(e&&e.w)return String(e.w)}return null})(o);let u=null;const d=(null===(r=e.rostersBySeason)||void 0===r?void 0:r[o])||(null===(a=e.rostersBySeason)||void 0===a?void 0:a[String(o)]);if(d&&Array.isArray(d)){const e=d.find(e=>String(e.roster_id)===String(c));u=(e=>{if(!e)return null;if(Array.isArray(e.players)&&e.players.length>0)return e.players;if(Array.isArray(e.starters)&&e.starters.length>0)return e.starters;if(e.players_by_week&&"object"===typeof e.players_by_week){const t=Object.keys(e.players_by_week).sort((e,t)=>parseInt(t)-parseInt(e));if(t.length>0)return e.players_by_week[t[0]]}return null})(e)}if((!u||0===u.length)&&e.matchupsBySeason&&e.matchupsBySeason[o]){var h;const t=e.matchupsBySeason[o],n=((null===(h=e.winnersBracketBySeason)||void 0===h?void 0:h[o])||[]).find(e=>1===e.p&&e.w),r=(null===n||void 0===n?void 0:n.week)||(null===n||void 0===n?void 0:n.weekNumber)||null,a=e=>{for(let t=e.length-1;t>=0;t--){const n=e[t];if(String(n.team1_roster_id)===String(c)){if(n.team1_players)return n.team1_players;if(n.team1_details&&n.team1_details.starters)return n.team1_details.starters}if(String(n.team2_roster_id)===String(c)){if(n.team2_players)return n.team2_players;if(n.team2_details&&n.team2_details.starters)return n.team2_details.starters}}return null};if(r){u=a(t.filter(e=>String(e.week)===String(r)||e.weekNumber===r))||u}u&&0!==u.length||(u=a(t)||u)}const f=[];if(Array.isArray(u)){var m,p;const t=((null===(m=e.winnersBracketBySeason)||void 0===m?void 0:m[o])||[]).find(e=>1===e.p&&e.w),n=(null===t||void 0===t?void 0:t.week)||(null===t||void 0===t?void 0:t.weekNumber)||null;let r=null;const a=(null===(p=e.matchupsBySeason)||void 0===p?void 0:p[o])||[];if(n){r=a.filter(e=>String(e.week)===String(n)||e.weekNumber===n||e.playoffs).find(e=>String(e.team1_roster_id)===String(c)||String(e.team2_roster_id)===String(c))||null}if(!r&&Array.isArray(a)&&a.length>0)for(let e=a.length-1;e>=0;e--){const t=a[e];if(String(t.team1_roster_id)===String(c)||String(t.team2_roster_id)===String(c)){r=t;break}}const i=r?((e,t)=>{if(!e)return null;const n=String(e.team1_roster_id)===String(t)?e.team1_players||e.team1_details||{}:e.team2_players||e.team2_details||{};return{playersPoints:n.players_points||n.players_points_map||n.players_points_by_id||null,starters:n.starters||null}})(r,c):null,l=i&&Array.isArray(i.starters)?new Set(i.starters.map(e=>String(e))):null;u.forEach(t=>{const r=s&&s[t]||null;let a=null;const c=String(t),u=!!l&&l.has(c);if(i&&i.playersPoints){const e=i.playersPoints;if(Array.isArray(i.starters)&&i.starters.length>0){const n=new Set(i.starters.map(e=>String(e))),r=String(t);n.has(r)&&"number"===typeof e[r]&&(a=e[r])}else{const n=e[String(t)];"number"===typeof n&&(a=n)}}const d=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=(null===(r=e.matchupsBySeason)||void 0===r?void 0:r[t])||[],o=new Set;a&&o.add(String(a)),s.slice(-6).map(e=>String(e.week||e.weekNumber||"")).forEach(e=>{e&&o.add(e)});const i=(e,t)=>{if(!e)return null;if("object"===typeof e){if(e.hasOwnProperty(t)&&e[t]&&"object"===typeof e[t]){if(e[t].team)return e[t].team;if(e[t].player_team)return e[t].player_team}if(Array.isArray(e))for(const n of e){const e=i(n,t);if(e)return e}else for(const n of Object.keys(e)){const r=e[n];if("team"===n&&"string"===typeof r)return r;if(("player_id"===n||"player"===n||"playerId"===n)&&String(e[n])===String(t)&&e.team)return e.team;const a=i(r,t);if(a)return a}}return null};for(const e of s){const t=String(e.week||e.weekNumber||"");if(o.size>0&&!o.has(t))continue;const r=[e.team1_players,e.team2_players,e.team1_details,e.team2_details,e.team1_players_points,e.team2_players_points,e.players,e.players_points,e.players_points_map];for(const e of r){const t=i(e,String(n));if(t)return t}const a=i(e,String(n));if(a)return a}return null}(o,t,n),h=d||(null===r||void 0===r?void 0:r.team)||null;f.push({playerId:t,name:r?"".concat(r.first_name," ").concat(r.last_name):t,position:r?r.position:null,nflMeta:r||null,teamAtChampionship:h,starterPoints:a,isStarter:u})})}t[o]={year:o,championId:i,championName:l,rosterId:c||null,players:f}}),console.debug("HallOfChampions: built championPlayersByYear",t),v(t)},[e,o,s]);const P=e=>{var n,r,a,s,o;let{p:i,size:l=40,className:c=""}=e;const u=(null===i||void 0===i||null===(n=i.nflMeta)||void 0===n?void 0:n.headshot)||(null===i||void 0===i||null===(r=i.nflMeta)||void 0===r?void 0:r.headshot_url)||(null===i||void 0===i||null===(a=i.nflMeta)||void 0===a?void 0:a.img)||null,d=null!==i&&void 0!==i&&i.playerId?(h=i.playerId)?"https://sleepercdn.com/content/nfl/players/thumb/".concat(h,".jpg"):null:null;var h;const f=u||d,[m,p]=(null!==i&&void 0!==i&&i.nflMeta?"".concat((null===(s=i.nflMeta.first_name)||void 0===s?void 0:s[0])||"").concat((null===(o=i.nflMeta.last_name)||void 0===o?void 0:o[0])||"").toUpperCase():(i.playerId||"").slice(0,2).toUpperCase(),(0,t.useState)(!1));return f&&!m?(0,G.jsxs)("div",{style:{width:l,height:l},className:"relative rounded-full flex-shrink-0 ".concat(c),children:[(0,G.jsx)("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 0 4px rgba(250,204,21,0.95)"}}),(0,G.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,G.jsx)("img",{src:f,alt:i.name||i.playerId,style:{width:l-8,height:l-8,borderRadius:"50%"},className:"object-cover",onError:e=>{console.debug("PlayerAvatar: headshot failed to load for",i.playerId,f),p(!0)}})})]}):(0,G.jsx)("div",{style:{width:l,height:l},className:"relative rounded-full overflow-hidden flex-shrink-0 ".concat(c),children:(0,G.jsx)("div",{className:"w-full h-full rounded-full bg-amber-100 text-amber-800 flex items-center justify-center font-semibold text-sm border",children:(0,G.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 text-amber-800",fill:"currentColor","aria-hidden":!0,children:(0,G.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})})},E=e=>{let{bracket:t,onClose:n}=e;if(!t)return null;const{year:r,winnersBracket:a,losersBracket:s,teams:o}=t;if(!a||!Array.isArray(a))return(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"No Bracket Data"}),(0,G.jsxs)("p",{className:"text-gray-600 mb-4",children:["Bracket data is not available for ",r,"."]}),(0,G.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})});const i=e=>{if(!o||!Array.isArray(o))return{name:"Unknown Team",avatar:null};const t=o.find(t=>String(t.rosterId)===String(e));return t||{name:"Unknown Team",avatar:null}},l=[];a.forEach(e=>{e.p&&1!==e.p||l.push(e)});const c={};l.forEach(e=>{const t=e.r||1;c[t]||(c[t]=[]),c[t].push(e)});const u=Object.keys(c).sort((e,t)=>parseInt(e)-parseInt(t)),d=e=>{const t=i(e.t1),n=i(e.t2);return(0,G.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden shadow-sm w-48 h-20",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 border-b border-gray-200 ".concat(String(e.w)===String(e.t1)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,G.jsx)("img",{src:t.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:t.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"font-medium text-xs truncate",children:t.name})]}),(0,G.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t1_score?parseFloat(e.t1_score).toFixed(1):"-"})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 ".concat(String(e.w)===String(e.t2)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,G.jsx)("img",{src:n.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:n.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"font-medium text-xs truncate",children:n.name})]}),(0,G.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t2_score?parseFloat(e.t2_score).toFixed(1):"-"})]})]})};return(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[(0,G.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:[r," Tournament Bracket"]}),(0,G.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,G.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,G.jsx)("div",{className:"flex justify-center",children:(0,G.jsx)("div",{className:"flex items-center space-x-16 overflow-x-auto pb-4",children:u.map((e,t)=>{const n=c[e],r=((e,t)=>{const n=parseInt(e),r=t.filter(e=>e.p);if(r.length>0){const e=r.find(e=>1===e.p);if(e)return"Championship"}const a=Math.max(...u.map(e=>parseInt(e)));return n===a?"Championship":n===a-1?"Semifinals":n===a-2?"Quarterfinals":1===n?"First Round":"Round ".concat(n)})(e,n),a="Championship"===r;return(0,G.jsxs)("div",{className:"flex flex-col items-center min-w-max",children:[(0,G.jsx)("div",{className:"mb-6 text-center",children:(0,G.jsx)("h4",{className:"font-bold ".concat(a?"text-lg text-yellow-600":"text-sm text-gray-600"),children:r})}),(0,G.jsx)("div",{className:"flex flex-col justify-center space-y-12",children:n.map((e,n)=>(0,G.jsxs)("div",{className:"relative flex items-center",children:[d(e),t<u.length-1&&(0,G.jsx)("div",{className:"absolute top-1/2 left-full w-8 h-0.5 bg-gray-300 transform -translate-y-1/2"})]},"".concat(e.r,"-").concat(e.m,"-").concat(n)))})]},e)})})}),0===u.length&&(0,G.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,G.jsxs)("p",{className:"text-lg",children:["No playoff games found for ",r]}),(0,G.jsx)("p",{className:"text-sm mt-2",children:"The bracket data may be incomplete or unavailable."})]})]})]})})};return l?0===o.length?(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md font-inter",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"No Champion Data Found"}),(0,G.jsx)("p",{className:"text-base",children:"Could not find any historical champions in the provided data."})]}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 bg-gradient-to-b from-gray-50 to-white rounded-lg shadow-xl font-inter",children:[(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,t)=>{var n;return(0,G.jsxs)("div",{className:"relative p-6 bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-2xl flex flex-col items-center text-center transition-transform transform hover:-translate-y-1 hover:scale-102 border border-yellow-200",children:[(0,G.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-amber-400 to-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-md border border-amber-300",children:e.year}),(0,G.jsx)("div",{className:"mb-4 p-1 bg-white rounded-lg shadow-inner inline-flex items-center justify-center",style:{border:"6px solid rgba(250, 204, 21, 0.15)"},children:e.image?(0,G.jsx)("img",{src:e.image,alt:"".concat(e.year," Champion"),className:"max-w-full max-h-40 sm:max-h-44 md:max-h-48 object-contain rounded-md",onError:e=>{e.target.style.display="none"}}):(0,G.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-amber-200 to-yellow-300 rounded-md flex items-center justify-center text-xl font-bold text-amber-800",children:null===(n=(e.name||"").split(" ")[0])||void 0===n?void 0:n.slice(0,2)})}),(0,G.jsx)("div",{className:"text-gray-800 text-lg font-semibold mb-1",children:e.name}),(0,G.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[e.hasBracket&&(0,G.jsx)("button",{onClick:()=>_(e.year),className:"px-3 py-1 bg-amber-600 text-white text-sm rounded shadow",children:"View Bracket"}),(0,G.jsx)("button",{onClick:()=>{return t=e.year,S(t),void b(!0);var t},className:"px-3 py-1 bg-white border border-gray-200 text-sm rounded shadow-sm",children:"View Roster"})]})]},t)})}),(0,G.jsxs)("div",{className:"mt-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,G.jsx)("h3",{className:"text-2xl font-extrabold text-gray-800",children:"Multi-Time Champions"})}),(0,G.jsx)("div",{className:"space-y-3",children:0===Object.keys(y).length?(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Champion roster player data not available or still processing."}):(()=>{const e={};Object.values(y).forEach(t=>{(t.players||[]).forEach(n=>{n&&n.playerId&&(e[n.playerId]||(e[n.playerId]=u(u({},n),{},{count:0,years:[]})),e[n.playerId].count+=1,e[n.playerId].years.push(t.year))})});const t=Object.values(e).filter(e=>e.count>1).sort((e,t)=>t.count-e.count||e.name.localeCompare(t.name));return 0===t.length?(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"No multi-time champions found in the current dataset."}):(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,G.jsxs)("div",{className:"flex flex-col items-center gap-3 bg-white p-4 rounded shadow-md",children:[(0,G.jsx)(P,{p:e,size:64}),(0,G.jsxs)("div",{className:"text-center",children:[(0,G.jsx)("div",{className:"font-semibold text-lg",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Championships: ",(0,G.jsx)("span",{className:"font-medium text-amber-600",children:e.count})]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:e.years.join(", ")})]})]},"multi-".concat(e.playerId)))})})})()})]}),(0,G.jsx)("div",{className:"mt-2",children:(0,G.jsx)("div",{id:"champion-gif-container",className:"relative flex justify-center mb-1",children:(0,G.jsx)("div",{className:"w-full max-w-2xl sm:max-w-3xl px-2",children:(0,G.jsx)("img",{src:"/hall-of-champions/tom-brady-rings.gif",alt:"celebration",className:"w-full h-auto object-contain max-h-56 sm:max-h-64",onError:e=>{e.target.style.display="none"}})})})}),x&&w&&(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-auto p-6",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-bold",children:[w," Champion Roster"]}),(0,G.jsx)("button",{onClick:()=>{b(!1),S(null)},className:"text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:(e=>{const t=(null===(e=y[w])||void 0===e?void 0:e.players)||[]||0,n=["QB","RB","RB","FLEX","WR","WR","TE","K","DEF"],r=t.filter(e=>e.isStarter),a=t.filter(e=>!e.isStarter),s=e=>(e||"").toUpperCase(),o={};r.forEach(e=>{const t=s(e.position)||"FLEX";o[t]||(o[t]=[]),o[t].push(e)});const i=[],l=new Set;for(const d of n){if("FLEX"===d){const e=r.filter(e=>!l.has(e.playerId)),t=e.find(e=>["RB","WR","TE"].includes(s(e.position))),n=t||e[0];n&&(i.push(n),l.add(n.playerId));continue}const e=o[d];if(e&&e.length>0){const t=e.find(e=>!l.has(e.playerId));t&&(i.push(t),l.add(t.playerId))}}r.forEach(e=>{l.has(e.playerId)||(i.push(e),l.add(e.playerId))});const c={QB:1,RB:2,WR:3,TE:4,K:5,DEF:6},u=a.slice().sort((e,t)=>{const n=c[s(e.position)]||99,r=c[s(t.position)]||99;return n!==r?n-r:(e.name||"").localeCompare(t.name||"")});i.concat(u);return(0,G.jsxs)(G.Fragment,{children:[i.map(e=>(0,G.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded h-20",children:[(0,G.jsx)(P,{p:e,size:44}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"}),"number"===typeof e.starterPoints&&(0,G.jsxs)("div",{className:"text-xs text-amber-600 font-semibold",children:["Starter points: ",e.starterPoints]})]})]},"modal-".concat(w,"-starter-").concat(e.playerId))),u.length>0&&(0,G.jsx)("div",{className:"col-span-full my-1",children:(0,G.jsx)("div",{className:"border-t border-dashed border-gray-300 w-full"})}),u.map(e=>(0,G.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-white rounded h-18",children:[(0,G.jsx)(P,{p:e,size:40}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"})]})]},"modal-".concat(w,"-bench-").concat(e.playerId)))]})})()})]})}),f&&(0,G.jsx)(E,{bracket:p,onClose:()=>{m(!1),h(null),g(null)}})]}):(0,G.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md font-inter",children:[(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading historical champion data..."}),(0,G.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment to process the league history."})]})},BB=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:s,loading:o,nflPlayers:i}=X(),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null);(0,t.useEffect)(()=>{var e;h.A.debug("Gamecenter useEffect 1 - loading:",o,"leagueData:",n,"nflState:",s),!o&&n&&Array.isArray(n)&&null!==(e=n[0])&&void 0!==e&&e.season&&null!==s&&void 0!==s&&s.week&&(h.A.debug("Setting selectedSeason to:",n[0].season,"and selectedWeek to:",s.week),c(n[0].season),d(s.week))},[o,n,s]),(0,t.useEffect)(()=>{var t;if(l&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[l]){const t=new Set(e.matchupsBySeason[l].map(e=>e.week));m(Array.from(t).sort((e,t)=>e-t))}},[l,e]),(0,t.useEffect)(()=>{var t;if(l&&u&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[l]){const t=e.matchupsBySeason[l].filter(e=>e.week==u);g(t)}},[l,u,e]);const w=(0,t.useMemo)(()=>(t,n)=>{var r,o,i,l;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n]||!s)return null!==(o=null===a||void 0===a||null===(i=a[n])||void 0===i||null===(l=i[t])||void 0===l?void 0:l.averageScore)&&void 0!==o?o:0;const c=parseInt(s.season),u=parseInt(s.week),d=parseInt(n);var h,f,m;if(d<c)return null!==(h=null===a||void 0===a||null===(f=a[n])||void 0===f||null===(m=f[t])||void 0===m?void 0:m.averageScore)&&void 0!==h?h:0;const p=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t));let g=0,y=0;return p.forEach(e=>{const n=parseInt(e.week),r=String(e.team1_roster_id)===String(t),a=r?e.team1_score:e.team2_score,s=r?e.team2_score:e.team1_score;(d<c||d===c&&n<u)&&(a>0||s>0)&&(g+=a,y++)}),y>0?g/y:0},[e,a,s]),S=(0,t.useMemo)(()=>null!==e&&void 0!==e&&e.matchupsBySeason?Object.keys(e.matchupsBySeason).sort((e,t)=>t-e):[],[e]),k=(0,t.useMemo)(()=>{const t={};return e&&e.matchupsBySeason&&e.rostersBySeason?(Object.keys(e.matchupsBySeason).forEach(n=>{const r=e.rostersBySeason[n];if(!r)return;const a=r.reduce((e,t)=>(e[t.roster_id]=t.owner_id,e),{});e.matchupsBySeason[n].forEach(e=>{if(e.team1_score>0||e.team2_score>0){const r=a[e.team1_roster_id],s=a[e.team2_roster_id];if(r&&s){t[r]||(t[r]=[]),t[s]||(t[s]=[]);let a="T";e.team1_score>e.team2_score&&(a="W"),e.team1_score<e.team2_score&&(a="L");let o="T";e.team2_score>e.team1_score&&(o="W"),e.team2_score<e.team1_score&&(o="L"),t[r].push({season:n,week:e.week,result:a,opponent:s}),t[s].push({season:n,week:e.week,result:o,opponent:r})}}})}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>e.season!==t.season?e.season-t.season:e.week-t.week)}),t):t},[e]),j=(0,t.useMemo)(()=>{if(!a||!l||!a[l])return{};const e={},t=a[l];return Object.keys(t).forEach(n=>{const r=t[n];r.weeklyLuck&&(e[n]=r.weeklyLuck)}),e},[a,l]),_=async(e,t)=>{const n=[],r=[],a=["QB","RB","RB","WR","WR","TE","FLEX","K","DEF"];if(e.starters&&Array.isArray(e.starters))for(let l=0;l<e.starters.length;l++){var s;const t=e.starters[l],r=null===i||void 0===i?void 0:i[t],o=(null===(s=e.players_points)||void 0===s?void 0:s[t])||0;r&&n.push({playerId:t,name:"".concat(r.first_name," ").concat(r.last_name),position:r.position,team:r.team,points:o,isStarter:!0,lineupPosition:a[l]||"FLEX"})}if(e.players&&Array.isArray(e.players)){const t=new Set(e.starters||[]),n=e.players.filter(e=>!t.has(e));for(const a of n){var o;const t=null===i||void 0===i?void 0:i[a],n=(null===(o=e.players_points)||void 0===o?void 0:o[a])||0;t&&r.push({playerId:a,name:"".concat(t.first_name," ").concat(t.last_name),position:t.position,team:t.team,points:n,isStarter:!1})}}return{lineup:n,bench:r,totalPoints:e.points||0}},N=t=>{(t.team1_score>0||t.team2_score>0)&&(v(t),(async(t,r,a)=>{try{b(null);let o=null;if(r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))o=n&&Array.isArray(n)?n[0].league_id:null===n||void 0===n?void 0:n.league_id;else{var s;const t=null===e||void 0===e||null===(s=e.leaguesMetadataBySeason)||void 0===s?void 0:s[r];o=null===t||void 0===t?void 0:t.league_id}if(!o)return h.A.warn("No league ID available for season ".concat(r)),void b({error:!0,message:"Detailed roster data is not available for the ".concat(r," season. This may be from a previous platform or the data is no longer accessible.")});h.A.debug("Fetching roster data for season ".concat(r,", week ").concat(a,", league ").concat(o));const i=await fetch("https://api.sleeper.app/v1/league/".concat(o,"/matchups/").concat(a));if(!i.ok)throw new Error("API request failed with status ".concat(i.status));const l=await i.json();if(l&&Array.isArray(l)&&l.length>0){const e=l.find(e=>e.roster_id===parseInt(t.team1_roster_id)),n=l.find(e=>e.roster_id===parseInt(t.team2_roster_id));if(e&&n){const r={team1:await _(e,t.team1_roster_id),team2:await _(n,t.team2_roster_id)};b(r)}else h.A.warn("Could not find roster data for teams ".concat(t.team1_roster_id," and ").concat(t.team2_roster_id," in week ").concat(a," of season ").concat(r)),b({error:!0,message:"Roster details for this matchup are not available. The teams may not have been active in week ".concat(a," of the ").concat(r," season.")})}else h.A.warn("No roster data returned for season ".concat(r,", week ").concat(a)),b({error:!0,message:"No roster data available for week ".concat(a," of the ").concat(r," season. The data may not be accessible or this week may not have occurred yet.")})}catch(o){h.A.error("Error fetching matchup roster data:",o),b({error:!0,message:"Failed to load detailed roster data: ".concat(o.message,". This may be due to data not being available for historical seasons or network issues.")})}})(t,l,u))},P=(e,t)=>{const n=k[e];if(!n)return"N/A";const r=n.filter(e=>e.season===t);if(0===r.length)return"N/A";let a=0,s="";for(let o=r.length-1;o>=0;o--){const e=r[o];if(o===r.length-1)s=e.result,a=1;else{if(e.result!==s)break;a++}}return"".concat(a).concat(s)},E=(e,t)=>{const n=k[e];if(!n||!e||!t)return"0-0";let r=0,a=0,s=0;return n.forEach(e=>{e.opponent===t&&("W"===e.result?r++:"L"===e.result?a++:"T"===e.result&&s++)}),s>0?"".concat(r,"-").concat(a,"-").concat(s):"".concat(r,"-").concat(a)};return o?(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,G.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Gamecenter..."})}):l&&u?(0,G.jsx)("div",{className:"p-2 sm:p-4 bg-gray-50 min-h-screen",children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-6 px-2",children:"Gamecenter"}),(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6 bg-white p-3 sm:p-4 rounded-lg shadow mobile-card",children:[(0,G.jsxs)("div",{className:"flex-1",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Season"}),(0,G.jsx)("select",{id:"season-select",value:l,onChange:t=>{const r=t.target.value;var a;if(c(r),r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))d(s.week);else if(null!==e&&void 0!==e&&null!==(a=e.matchupsBySeason)&&void 0!==a&&a[r]){const t=new Set(e.matchupsBySeason[r].map(e=>e.week)),n=Array.from(t).sort((e,t)=>e-t)[0];d(n)}},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:S.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]}),(0,G.jsxs)("div",{className:"flex-1",children:[(0,G.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Week"}),(0,G.jsx)("select",{id:"week-select",value:u,onChange:e=>{d(parseInt(e.target.value))},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:f.map(e=>(0,G.jsxs)("option",{value:e,children:["Week ",e]},e))})]})]}),(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:p.map(t=>{var n,a,o,i,c,d,h,f,m,p,g,y;const v=String(t.team1_roster_id),x=String(t.team2_roster_id),b=null===(n=e.rostersBySeason)||void 0===n||null===(a=n[l])||void 0===a?void 0:a.find(e=>String(e.roster_id)===v),S=null===b||void 0===b?void 0:b.owner_id,k=r(S,l),_=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[l])||void 0===i?void 0:i.find(e=>String(e.roster_id)===x),O=null===_||void 0===_?void 0:_.owner_id,A=r(O,l),T=t.team1_score>0||t.team2_score>0,I=parseInt((null===s||void 0===s?void 0:s.season)||(new Date).getFullYear()),C=parseInt((null===s||void 0===s?void 0:s.week)||1),D=parseInt(l),M=parseInt(u),R=D<I||D===I&&M<C,L=null!==(c=null===(d=j[v])||void 0===d?void 0:d[u-1])&&void 0!==c?c:0,B=null!==(h=null===(f=j[x])||void 0===f?void 0:f[u-1])&&void 0!==h?h:0,F=w(v,l),W=w(x,l),U=(E(S,O),P(S,l)),z=P(O,l);return(0,G.jsx)("div",{className:"bg-white rounded-xl shadow-md mobile-card overflow-hidden transition-all duration-300 hover:shadow-lg touch-friendly ".concat(T?"cursor-pointer hover:bg-gray-50 active:bg-gray-100":""),onClick:()=>N(t),children:(0,G.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,G.jsxs)("div",{className:"space-y-3 sm:space-y-0",children:[(0,G.jsxs)("div",{className:"sm:hidden",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:k.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[U," \u2022 Avg: ",aD(Number(null!==F&&void 0!==F?F:0),1)]})]})]}),(0,G.jsx)("div",{className:"text-right flex-shrink-0",children:(0,G.jsx)("div",{className:"font-bold text-lg ".concat(T&&R&&t.team1_score>t.team2_score?"text-green-600":"text-gray-800"),children:T?aD(Number(null!==(m=t.team1_score)&&void 0!==m?m:0),1):"-"})})]}),(0,G.jsxs)("div",{className:"text-center py-1",children:[(0,G.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:"VS"}),(()=>{const e=E(S,O);return"0-0"!==e&&(0,G.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["H2H: ",e]})})()]}),(0,G.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:A.avatar,alt:"".concat(A.name," avatar")}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:A.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[z," \u2022 Avg: ",aD(Number(null!==W&&void 0!==W?W:0),1)]})]})]}),(0,G.jsx)("div",{className:"text-right flex-shrink-0",children:(0,G.jsx)("div",{className:"font-bold text-lg ".concat(T&&R&&t.team2_score>t.team1_score?"text-green-600":"text-gray-800"),children:T?aD(Number(null!==(p=t.team2_score)&&void 0!==p?p:0),1):"-"})})]})]}),(0,G.jsxs)("div",{className:"hidden sm:flex items-center justify-between gap-3",children:[(0,G.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,G.jsxs)("div",{className:"text-center w-full",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:k.name}),(0,G.jsx)("div",{className:"font-bold text-lg ".concat(T&&R&&t.team1_score>t.team2_score?"text-green-600":"text-gray-800"),children:T?aD(Number(null!==(g=t.team1_score)&&void 0!==g?g:0),2):"-"})]})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-gray-400 font-medium text-sm px-2",children:"vs"}),(0,G.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:A.avatar,alt:"".concat(A.name," avatar")}),(0,G.jsxs)("div",{className:"text-center w-full",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:A.name}),(0,G.jsx)("div",{className:"font-bold text-lg ".concat(T&&R&&t.team2_score>t.team1_score?"text-green-600":"text-gray-800"),children:T?aD(Number(null!==(y=t.team2_score)&&void 0!==y?y:0),2):"-"})]})]})]})]}),(0,G.jsxs)("div",{className:"border-t border-gray-200 mt-3 pt-3",children:[T?(0,G.jsx)(G.Fragment,{children:(()=>{const e=parseInt((null===s||void 0===s?void 0:s.season)||(new Date).getFullYear()),n=parseInt((null===s||void 0===s?void 0:s.week)||1),r=parseInt(l),a=parseInt(u),o=r<e||r===e&&a<n,i=t.team1_score>0&&t.team2_score>0;return o&&i?(0,G.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,G.jsxs)("div",{className:"sm:hidden text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Luck Factor"}),(0,G.jsxs)("div",{className:"flex justify-between items-center",children:[(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(L>0?"text-green-500":"text-red-500"),children:aD(Number(null!==L&&void 0!==L?L:0),2)}),(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(B>0?"text-green-500":"text-red-500"),children:aD(Number(null!==B&&void 0!==B?B:0),2)})]})]}),(0,G.jsx)("div",{className:"hidden sm:block",children:(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(L>0?"text-green-500":"text-red-500"),children:aD(Number(null!==L&&void 0!==L?L:0),2)})}),(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Luck"})}),(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(B>0?"text-green-500":"text-red-500"),children:aD(Number(null!==B&&void 0!==B?B:0),2)})})]})})]}):(0,G.jsx)("div",{className:"text-center text-xs text-gray-500",children:"Game in progress or incomplete"})})()}):(0,G.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,G.jsx)("div",{className:"sm:hidden space-y-1",children:(0,G.jsx)("div",{className:"text-center text-xs text-gray-500 font-medium",children:"Pre-Game Stats"})}),(0,G.jsxs)("div",{className:"hidden sm:block",children:[(0,G.jsx)("div",{className:"text-center mb-2",children:(0,G.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["H2H: ",E(S,O)]})}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs font-semibold",children:U}),(0,G.jsx)("div",{className:"text-xs font-semibold",children:aD(Number(null!==F&&void 0!==F?F:0),1)})]}),(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Streak"}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Avg Pts"})]}),(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs font-semibold",children:z}),(0,G.jsx)("div",{className:"text-xs font-semibold",children:aD(Number(null!==W&&void 0!==W?W:0),1)})]})]})]})]}),T&&(0,G.jsx)("div",{className:"text-center mt-2",children:(0,G.jsx)("span",{className:"text-xs text-blue-500 font-medium",children:"Tap for details"})})]})]})},t.matchup_id)})}),y&&(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:(0,G.jsxs)("div",{className:"bg-white w-full h-full sm:h-auto sm:rounded-xl sm:max-w-6xl sm:w-full sm:max-h-[90vh] overflow-y-auto mobile-scroll",children:[(0,G.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10 safe-area-top",children:[(0,G.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:[(0,G.jsxs)("span",{className:"sm:hidden",children:[l," W",u]}),(0,G.jsxs)("span",{className:"hidden sm:inline",children:[l," Week ",u," Details"]})]}),(0,G.jsx)("button",{onClick:()=>{v(null),b(null)},className:"text-gray-500 hover:text-gray-700 text-2xl sm:text-3xl font-bold p-2 touch-friendly rounded-full hover:bg-gray-100","aria-label":"Close modal",children:"\xd7"})]}),(0,G.jsx)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 safe-area-bottom",children:((t,n,s,o,i,c,d,h,f,m,p,g,v,b,S,k,_,N,O,A,T,I,C,D,M,R)=>{const L=String(y.team1_roster_id),B=String(y.team2_roster_id),F=null===(t=e.rostersBySeason)||void 0===t||null===(n=t[l])||void 0===n?void 0:n.find(e=>String(e.roster_id)===L),W=null===F||void 0===F?void 0:F.owner_id,U=r(W,l),z=null===(s=e.rostersBySeason)||void 0===s||null===(o=s[l])||void 0===o?void 0:o.find(e=>String(e.roster_id)===B),V=null===z||void 0===z?void 0:z.owner_id,H=r(V,l),q=null!==(i=null===(c=j[L])||void 0===c?void 0:c[u-1])&&void 0!==i?i:0,K=null!==(d=null===(h=j[B])||void 0===h?void 0:h[u-1])&&void 0!==d?d:0,Y=w(L,l),Q=w(B,l),X=E(W,V),$=P(W,l),J=P(V,l),Z=y.team1_score>y.team2_score,ee=y.team2_score>y.team1_score,te=e=>{if(!e)return new Set;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});const a=new Set;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{i.find(t=>t.playerId===e.playerId)&&a.add(e.playerId)})}),a},ne=e=>{if(!e)return 0;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});let a=0;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position)),o=o.concat(t.filter(e=>["RB","WR","TE"].includes(e.position)))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{a+=e.points||0})}),a},re=te(null===x||void 0===x?void 0:x.team1),ae=te(null===x||void 0===x?void 0:x.team2),se=ne(null===x||void 0===x?void 0:x.team1),oe=ne(null===x||void 0===x?void 0:x.team2),ie=null!==(f=null!==(m=null===x||void 0===x||null===(p=x.team1)||void 0===p?void 0:p.totalPoints)&&void 0!==m?m:y.team1_score)&&void 0!==f?f:0,le=null!==(g=null!==(v=null===x||void 0===x||null===(b=x.team2)||void 0===b?void 0:b.totalPoints)&&void 0!==v?v:y.team2_score)&&void 0!==g?g:0,ce=se>0?ie/se*100:0,ue=oe>0?le/oe*100:0;try{const e=(e,t)=>{if(!e)return;const n="coachScore:".concat(e),r=localStorage.getItem(n);let a=r?JSON.parse(r):[];a.push({ts:Date.now(),score:t}),a.length>200&&(a=a.slice(a.length-200)),localStorage.setItem(n,JSON.stringify(a))},t=e=>{if(!e)return null;const t=localStorage.getItem("coachScore:".concat(e));if(!t)return null;const n=JSON.parse(t);if(!Array.isArray(n)||0===n.length)return null;const r=n.reduce((e,t)=>e+(t.score||0),0);return r/n.length},n=(null===F||void 0===F?void 0:F.roster_id)||L,r=(null===z||void 0===z?void 0:z.roster_id)||B;n&&e(n,ce),r&&e(r,ue);t(n),t(r)}catch(PF){}return(0,G.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,G.jsxs)("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-8",children:[(0,G.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,G.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:U.avatar,alt:"".concat(U.name," avatar")}),(0,G.jsxs)("div",{className:"text-left",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:U.name}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[l," Week ",u]})]})]}),(0,G.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(Z?"text-green-600":"text-gray-600"),children:aD(Number(null!==(S=y.team1_score)&&void 0!==S?S:0),2)}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,G.jsx)("span",{className:"font-semibold text-gray-800",children:se>0?"".concat(aD(Number(null!==ce&&void 0!==ce?ce:0),1),"%"):"N/A"})]})]}),(0,G.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,G.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:H.avatar,alt:"".concat(H.name," avatar")}),(0,G.jsxs)("div",{className:"text-left",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:H.name}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[l," Week ",u]})]})]}),(0,G.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(ee?"text-green-600":"text-gray-600"),children:aD(Number(null!==(k=y.team2_score)&&void 0!==k?k:0),2)}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,G.jsx)("span",{className:"font-semibold text-gray-800",children:oe>0?"".concat(aD(Number(null!==ue&&void 0!==ue?ue:0),1),"%"):"N/A"})]})]})]}),(0,G.jsxs)("div",{className:"space-y-4 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,G.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[U.name," Stats"]}),(0,G.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Record:"}),(0,G.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(_=a[l])||void 0===_||null===(N=_[L])||void 0===N?void 0:N.wins)||0,"-",(null===a||void 0===a||null===(O=a[l])||void 0===O||null===(A=O[L])||void 0===A?void 0:A.losses)||0]})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Current Streak:"}),(0,G.jsx)("span",{className:"font-medium",children:$})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Avg:"}),(0,G.jsx)("span",{className:"font-medium",children:aD(Number(null!==Y&&void 0!==Y?Y:0),2)})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Luck Factor:"}),(0,G.jsxs)("span",{className:"font-medium ".concat(q>0?"text-green-600":"text-red-600"),children:[q>0?"+":"",aD(Number(null!==q&&void 0!==q?q:0),2)]})]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,G.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[H.name," Stats"]}),(0,G.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Record:"}),(0,G.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(T=a[l])||void 0===T||null===(I=T[B])||void 0===I?void 0:I.wins)||0,"-",(null===a||void 0===a||null===(C=a[l])||void 0===C||null===(D=C[B])||void 0===D?void 0:D.losses)||0]})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Current Streak:"}),(0,G.jsx)("span",{className:"font-medium",children:J})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Avg:"}),(0,G.jsx)("span",{className:"font-medium",children:aD(Number(null!==Q&&void 0!==Q?Q:0),2)})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Luck Factor:"}),(0,G.jsxs)("span",{className:"font-medium ".concat(K>0?"text-green-600":"text-red-600"),children:[K>0?"+":"",aD(Number(null!==K&&void 0!==K?K:0),2)]})]})]})]})]}),(0,G.jsx)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:(0,G.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"H2H Record"}),(0,G.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:X})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Point Difference"}),(0,G.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:aD(Math.abs(Number(null!==(M=y.team1_score)&&void 0!==M?M:0)-Number(null!==(R=y.team2_score)&&void 0!==R?R:0)),2)})]}),(0,G.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Matchup Type"}),(0,G.jsx)("div",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Regular Season"})]})]})}),x?x.error?(0,G.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,G.jsx)("div",{className:"text-gray-500 mb-2",children:(0,G.jsx)("svg",{className:"mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,G.jsx)("p",{className:"text-gray-600 max-w-md mx-auto text-sm sm:text-base px-4",children:x.message})]}):(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,G.jsxs)("div",{className:"space-y-3",children:[(0,G.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[U.name," Roster"]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,G.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,G.jsx)("div",{className:"space-y-1 sm:space-y-2",children:x.team1.lineup.map((e,t)=>{var n,r;const a=x.team2.lineup[t],s=null!==(n=null===a||void 0===a?void 0:a.points)&&void 0!==n?n:0,o=null!==(r=null===e||void 0===e?void 0:e.points)&&void 0!==r?r:0,i=o>s?"win":o<s?"loss":"tie";return(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:(0,G.jsx)("span",{children:e.name})}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)}),"win"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-600","aria-label":"scored more"}):"loss"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-red-600","aria-label":"scored less"}):(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-300","aria-label":"tied"})]})]},e.playerId)})})]}),(0,G.jsxs)("details",{className:"bg-gray-50 rounded-lg mobile-card",children:[(0,G.jsxs)("summary",{className:"font-semibold text-gray-700 p-3 sm:p-4 text-sm sm:text-base cursor-pointer hover:bg-gray-100 rounded-lg touch-friendly",children:["Bench (",x.team1.bench.length," players)"]}),(0,G.jsx)("div",{className:"p-3 sm:p-4 pt-0 space-y-1",children:x.team1.bench.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"}),re.has(e.playerId)&&(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-yellow-400","aria-label":"optimal start"})]})]},e.playerId))})]})]}),(0,G.jsxs)("div",{className:"space-y-3",children:[(0,G.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[H.name," Roster"]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,G.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,G.jsx)("div",{className:"space-y-1 sm:space-y-2",children:x.team2.lineup.map((e,t)=>{var n,r;const a=x.team1.lineup[t],s=null!==(n=null===a||void 0===a?void 0:a.points)&&void 0!==n?n:0,o=null!==(r=null===e||void 0===e?void 0:e.points)&&void 0!==r?r:0,i=o>s?"win":o<s?"loss":"tie";return(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:(0,G.jsx)("span",{className:"truncate",children:e.name})}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)}),"win"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-600","aria-label":"scored more"}):"loss"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-red-600","aria-label":"scored less"}):(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-300","aria-label":"tied"})]})]},e.playerId)})})]}),(0,G.jsxs)("details",{className:"bg-gray-50 rounded-lg mobile-card",children:[(0,G.jsxs)("summary",{className:"font-semibold text-gray-700 p-3 sm:p-4 text-sm sm:text-base cursor-pointer hover:bg-gray-100 rounded-lg touch-friendly",children:["Bench (",x.team2.bench.length," players)"]}),(0,G.jsx)("div",{className:"p-3 sm:p-4 pt-0 space-y-1",children:x.team2.bench.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"}),ae.has(e.playerId)&&(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-yellow-400","aria-label":"optimal start"})]})]},e.playerId))})]})]})]}):(0,G.jsx)("div",{className:"text-center py-6 sm:py-8",children:(0,G.jsx)("div",{className:"text-gray-500 text-sm sm:text-base",children:"Loading roster details..."})})]})})()})]})})]})}):(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Gamecenter"}),(0,G.jsx)("div",{className:"text-center text-gray-500",children:(0,G.jsx)("p",{children:"Setting up Gamecenter..."})})]})})};let FB={data:{},timestamp:null,season:null,cacheKey:null};const WB=(e,t,n,r)=>{if(!e||!t)return{};const a=(null===r||void 0===r?void 0:r.week)||1,o="".concat(t,"-").concat(a),i=Date.now();if(FB.cacheKey===o&&FB.timestamp&&i-FB.timestamp<3e4)return FB.data;try{h.A.debug("Calculating DPR values for season ".concat(t,", week ").concat(a));const{seasonalMetrics:l}=s(e,0,n,r),c=l[t]||{},u={};return Object.keys(c).forEach(e=>{const t=c[e];if(t){const n=t.adjustedDPR||1,r=t.totalGames||0;let a=1;r<=3?a=.6:r<=6?a=.8:r<=10&&(a=.9),u[e]={adjustedDPR:n,rawDPR:t.rawDPR||0,gamesPlayed:r,confidenceMultiplier:a,averageScore:t.averageScore||0,winPercentage:t.winPercentage||0,allPlayWinPercentage:t.allPlayWinPercentage||0,luckRating:t.luckRating||0,highScore:t.highScore||0,lowScore:t.lowScore||0}}}),FB={data:u,timestamp:i,season:t,cacheKey:o},h.A.debug("DPR calculation complete. Cached ".concat(Object.keys(u).length," teams.")),u}catch(l){return h.A.error("Error calculating team DPR values:",l),{}}},UB=function(e,t,n,r,a,s){var o,i;let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;!u&&a&&s&&l&&c&&(u=WB(a,s,l,c));const d=null===(o=u)||void 0===o?void 0:o[e],h=null===(i=u)||void 0===i?void 0:i[t],f=n[e],m=n[t];if(!d&&!f||!h&&!m)return.5;const p=d||{adjustedDPR:1,averageScore:(null===f||void 0===f?void 0:f.averageScore)||100,gamesPlayed:(null===f||void 0===f?void 0:f.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},g=h||{adjustedDPR:1,averageScore:(null===m||void 0===m?void 0:m.averageScore)||100,gamesPlayed:(null===m||void 0===m?void 0:m.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},y=Math.max(p.gamesPlayed,g.gamesPlayed),v=p.adjustedDPR-g.adjustedDPR,x=.5*Math.tanh(2*v),b=(r[e]||1500)-(r[t]||1500),w=.2*Math.tanh(b/200),S=.15*(KB(e,s,a,4)-KB(t,s,a,4)),k=.1*zB(e,t,a,s),j=(p.allPlayWinPercentage||.5)-(g.allPlayWinPercentage||.5);let _=x+w+S+k+.05*Math.tanh(2*j),N=Math.min(p.confidenceMultiplier,g.confidenceMultiplier);y<=3?N*=.7:y<=6?N*=.85:y<=10&&(N*=.95),_*=N;let P=.12;y<=3?P=.25:y<=6?P=.18:y<=10&&(P=.15);const E=.5+_+((9301*(7*parseInt(e)+11*parseInt(t))+49297)%233280/233280-.5)*P;return Math.max(.05,Math.min(.95,E))},zB=(e,t,n,r)=>{if(null===n||void 0===n||!n.matchupsBySeason)return 0;const a=[r,(parseInt(r)-1).toString()];let s=0,o=0;if(a.forEach(r=>{(n.matchupsBySeason[r]||[]).filter(n=>String(n.team1_roster_id)===String(e)&&String(n.team2_roster_id)===String(t)||String(n.team1_roster_id)===String(t)&&String(n.team2_roster_id)===String(e)).forEach(t=>{if(t.team1_score>0||t.team2_score>0){o++;const n=String(t.team1_roster_id)===String(e);(n?t.team1_score:t.team2_score)>(n?t.team2_score:t.team1_score)?s++:0}})}),0===o)return 0;return 2*(s/o-.5)},VB=(e,t)=>{var n,r;const a={};if(((null===e||void 0===e||null===(n=e.rostersBySeason)||void 0===n?void 0:n[t])||[]).forEach(e=>{a[e.roster_id]=1500}),null!==e&&void 0!==e&&null!==(r=e.matchupsBySeason)&&void 0!==r&&r[t]){const n=e.matchupsBySeason[t].filter(e=>e.team1_score>0||e.team2_score>0).sort((e,t)=>parseInt(e.week)-parseInt(t.week));n.forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id);if(!a[t]||!a[n])return;const r=a[t],s=a[n],o=1/(1+Math.pow(10,(s-r)/400)),i=1-o;let l,c;e.team1_score>e.team2_score?(l=1,c=0):e.team2_score>e.team1_score?(l=0,c=1):(l=.5,c=.5),a[t]=r+32*(l-o),a[n]=s+32*(c-i)})}return a},HB=(e,t,n,r)=>{const a=t[e];if(!a)return{strategy:"unknown",confidence:0,metrics:{}};const s=a.gamesPlayed||0,o=a.wins||0,i=(a.losses,a.averageScore||0),l=a.powerScore||0,c=s>0?o/s:0,u=a.pointsFor||0,d=a.pointsAgainst||0,h=KB(e,r,n,4),f=Object.values(t).map(e=>e.powerScore||0),m=f.reduce((e,t)=>e+t,0)/f.length,p=f.filter(e=>e<l).length/f.length,g={winPct:c,avgScore:i,powerScore:l,powerScorePercentile:p,recentMomentum:h,pointsDifferential:u-d,gamesPlayed:s};let y="middle",v=.5;c>=.7&&p>=.75&&h>.2?(y="contender",v=.9):c>=.6&&p>=.7?(y="contender",v=.7):p>=.8&&i>1.15*m?(y="contender",v=.6):c<=.3&&p<=.25&&h<-.2?(y="rebuilding",v=.9):c<=.4&&p<=.3?(y="rebuilding",v=.7):p<=.2&&i<.85*m?(y="rebuilding",v=.6):h>.1&&c>.45?(y="rising",v=.6):h<-.1&&c<.55?(y="declining",v=.6):(y="middle",v=.8);return v*=Math.min(1,s/6),{strategy:y,confidence:v,metrics:g,description:GB(y,v)}},GB=(e,t)=>{const n=t>.8?"Very":t>.6?"Moderately":"Somewhat";switch(e){case"contender":return"".concat(n," likely championship contender - selling out to win now");case"rebuilding":return"".concat(n," likely rebuilding - tanking for future assets");case"rising":return"".concat(n," likely on the rise - building momentum");case"declining":return"".concat(n," likely declining - losing momentum");case"middle":return"".concat(n," likely stuck in the middle - mediocre performance");default:return"Unknown strategy - insufficient data"}},qB=(e,t,n,r)=>{var a;if(!t[e])return{consistency:.5,variance:0,reliability:.5};let s=[];if(null!==n&&void 0!==n&&null!==(a=n.matchupsBySeason)&&void 0!==a&&a[r]){const t=n.matchupsBySeason[r].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(e.week)-parseInt(t.week));s=t.map(t=>String(t.team1_roster_id)===String(e)?t.team1_score:t.team2_score)}if(s.length<3)return{consistency:.5,variance:0,reliability:.5,sampleSize:s.length};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=Math.sqrt(i),c=o>0?l/o:1,u=Math.max(0,Math.min(1,1-c/.4));let d=[];for(let p=1;p<s.length;p++)d.push(Math.abs(s[p]-s[p-1]));const h=d.length>0?d.reduce((e,t)=>e+t,0)/d.length:0,f=Math.max(0,Math.min(1,1-h/(.4*o)));let m=.5;if(s.length>=4){const e=s.slice(0,Math.floor(s.length/2)),t=s.slice(Math.floor(s.length/2)),n=e.reduce((e,t)=>e+t,0)/e.length,r=t.reduce((e,t)=>e+t,0)/t.length,a=Math.abs(r-n);m=Math.max(0,Math.min(1,1-a/(.3*o)))}return{consistency:u,variance:i,reliability:f,trendStability:m,coefficientOfVariation:c,avgScore:o,standardDeviation:l,sampleSize:s.length,weeklyScores:s}},KB=function(e,t,n){var r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;if(null===n||void 0===n||null===(r=n.matchupsBySeason)||void 0===r||!r[t])return 0;const s=n.matchupsBySeason[t].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return 0;let o=0,i=0;const l=[];s.forEach((t,n)=>{const r=String(t.team1_roster_id)===String(e),a=r?t.team1_score:t.team2_score,s=r?t.team2_score:t.team1_score;l.push({teamScore:a,opponentScore:s,week:t.week});const c=Math.pow(.7,n),u=a-s;let d=Math.tanh(u/50);u>30||u<-30?d*=1.2:Math.abs(u)<10&&(d*=.8),o+=d*c,i+=c});let c=i>0?o/i:0,u=0,d="none";if(l.length>=3){const e=l.slice(0,3).map(e=>e.teamScore>e.opponentScore);e.every(e=>!0===e)?(d="win",u=e.length):e.every(e=>!1===e)&&(d="loss",u=e.length);const t=l.reduce((e,t)=>e+t.teamScore,0)/l.length,n=l.slice(0,3),r=n.reduce((e,t)=>e+t.teamScore,0)/n.length;r>1.15*t?(d="none"===d?"hot":d,u=Math.max(u,2)):r<.85*t&&(d="none"===d?"cold":d,u=Math.max(u,2))}let h=0;if(u>=3)switch(d){case"win":case"hot":h=.2*Math.min(u/3,2);break;case"loss":case"cold":h=-.2*Math.min(u/3,2)}let f=0;if(l.length>=4){const e=l.slice(-Math.floor(l.length/2)),t=l.slice(0,Math.floor(l.length/2)),n=e.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/e.length,r=t.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/t.length,a=(r-n)/50;f=.15*Math.tanh(a)}const m=c+h+f;return Math.max(-1,Math.min(1,m))},YB=(e,t,n,r)=>{var a;if(null===n||void 0===n||null===(a=n.matchupsBySeason)||void 0===a||!a[t])return 0;const s=n.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e));if(0===s.length)return 0;let o=0,i=0;return s.forEach(t=>{const n=String(t.team1_roster_id)===String(e),a=String(n?t.team2_roster_id:t.team1_roster_id);r[a]&&(o+=r[a],i++)}),i>0?o/i:0},QB=function(e){const t=e*(1+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)),n=Math.max(.01,Math.min(.99,t));let r,a;return r=n>=.5?Math.round(-100*n/(1-n)):Math.round(100*(1-n)/n),a=r<0?-r/(100-r):100/(r+100),{americanOdds:r,impliedProbability:a,originalProbability:e,edge:a-e}},XB=e=>{const t=Object.keys(e).map(t=>({rosterId:t,wins:e[t].wins||0,losses:e[t].losses||0,pointsFor:e[t].pointsFor||0,gamesPlayed:e[t].gamesPlayed||0}));t.forEach(e=>{e.winPercentage=e.gamesPlayed>0?e.wins/e.gamesPlayed:0});const n=[...t].sort((e,t)=>e.winPercentage!==t.winPercentage?t.winPercentage-e.winPercentage:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor),r=n.slice(0,4).map((e,t)=>u(u({},e),{},{seed:t+1,qualifyMethod:"record"})),a=new Set(r.map(e=>e.rosterId)),s=t.filter(e=>!a.has(e.rosterId)).sort((e,t)=>t.pointsFor-e.pointsFor),o=s.slice(0,2).map((e,t)=>u(u({},e),{},{seed:t+5,qualifyMethod:"wildcard"})),i=[...r,...o].sort((e,t)=>e.seed-t.seed);return i},$B=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;if(0===n){return XB(t).some(t=>t.rosterId===e)?1:0}let a=0;Object.keys(t).length;const s=Object.keys(t);for(let o=0;o<r;o++){const r={};Object.keys(t).forEach(e=>{r[e]={wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100,powerScore:t[e].powerScore||0}});const o={};Object.keys(r).forEach(e=>{const t=r[e],n=t.gamesPlayed||1,a=Math.max(0,(14-n)/14),s=1-a,i=(t.powerScore||0)/5*.15,l=n>0?t.wins/n:.5;let c;c=n<=2?.5+.05*i+.1*(l-.5):n<=5?.5+.15*i+.25*(l-.5):a*i+s*l;const u=.3*(Math.random()-.5);o[e]=Math.max(.25,Math.min(.75,c+u))});for(let e=0;e<n;e++){const e=[...s],t=[];for(;e.length>=2;){const n=Math.floor(Math.random()*e.length),r=e.splice(n,1)[0],a=Math.floor(Math.random()*e.length),s=e.splice(a,1)[0];t.push([r,s])}if(1===e.length){const t=e[0],n=r[t],a=n.averageScore||100;Math.random()<.5?(n.wins++,n.pointsFor+=a+20*(Math.random()-.5)):(n.losses++,n.pointsFor+=.9*a+20*(Math.random()-.5)),n.gamesPlayed++,n.averageScore=n.pointsFor/n.gamesPlayed}t.forEach(e=>{let[t,n]=e;const a=r[t],s=r[n],i=o[t],l=o[n],c=.5+.4*(i-l),u=.2*(Math.random()-.5),d=Math.max(.15,Math.min(.85,c+u)),h=Math.random()<d,f=a.averageScore+30*(i-.5),m=s.averageScore+30*(l-.5),p=Math.max(40,f+50*(Math.random()-.5)),g=Math.max(40,m+50*(Math.random()-.5));h?(a.wins++,s.losses++,a.pointsFor+=Math.max(p,g+5),s.pointsFor+=Math.min(p-5,g)):(s.wins++,a.losses++,s.pointsFor+=Math.max(p,g+5),a.pointsFor+=Math.min(p,g-5)),a.gamesPlayed++,s.gamesPlayed++,a.averageScore=a.pointsFor/a.gamesPlayed,s.averageScore=s.pointsFor/s.gamesPlayed;const y=h?.02:-.02;o[t]=Math.max(.1,Math.min(.9,o[t]+y)),o[n]=Math.max(.1,Math.min(.9,o[n]-y))})}XB(r).some(t=>t.rosterId===e)&&a++}return a/r},JB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l={};a&&s&&o&&i&&r>=500&&(l=WB(a,s,o,i));const c=$B(e,t,n,r),u=t[e],d=l[e];if(!u)return{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:0,momentum:0,recentForm:.5,dprAdjustedRating:1,odds:{american:5e4,decimal:501,implied:.002}};const f=a&&r>=500?YB(e,s,a,t):50,m=a&&r>=500?KB(e,s,a,4):0,p=r>=500?ZB(e,s,4,a):.5,g=(null===d||void 0===d?void 0:d.adjustedDPR)||1,y=(null===d||void 0===d?void 0:d.confidenceMultiplier)||.5,v=u.gamesPlayed||0,x=u.wins||0,b=(u.losses,u.pointsFor||0),w=u.averageScore||100,S=14-v,k=x+S,j=Object.keys(t).map(e=>({rosterId:e,wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100})).sort((e,t)=>{const n=e.gamesPlayed>0?e.wins/e.gamesPlayed:0,r=t.gamesPlayed>0?t.wins/t.gamesPlayed:0;return n!==r?r-n:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor});let _=!1,N=!1;if(v>=8){const e=j.slice(0,4),t=e[3],n=k/14>=(t.gamesPlayed>0?t.wins/t.gamesPlayed:0),r=(t.wins,14-t.gamesPlayed),a=t.wins+r;if(_=!n||k<a,_){const t=new Set(e.map(e=>e.rosterId)),n=j.filter(e=>!t.has(e.rosterId));if(n.sort((e,t)=>t.pointsFor-e.pointsFor),n.length>=2){const e=n[1],t=e.pointsFor;N=b+S*Math.max(1.5*w,150)<t+(14-e.gamesPlayed)*Math.max(.7*e.averageScore,60)}else N=!1}}const P=_&&N;if(P)return h.A.debug("Team ".concat(e," mathematically eliminated: Record path blocked: ").concat(_,", Points path blocked: ").concat(N)),{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:f,momentum:m,recentForm:p,dprAdjustedRating:g,eliminationStatus:{isEliminated:!0,eliminatedFromRecord:_,eliminatedFromPoints:N,maxPossibleWins:k,remainingGames:S},odds:{american:null,decimal:null,implied:0}};v>0&&u.wins,(null===d||void 0===d?void 0:d.averageScore)||u.averageScore;let E=0,O=0,A={1:0,2:0,3:0,4:0,5:0,6:0};if(c>0){const n=u.averageScore||100,a=t._leagueAvgScore||(()=>{const e=Object.values(t).reduce((e,t)=>e+(t.averageScore||100),0)/Object.keys(t).length;return t._leagueAvgScore=e,e})(),s=n/a,o=c*(1/6*Math.max(.5,Math.min(2,s))*(g>0?g:1)*(1+.2*m)*(1+.3*(p-.5)));if(O=Math.round(c*r),O>0){const n=Object.keys(t),r=u.averageScore||100,s=u.wins||0,o=u.losses||0,i=r/a*.7+.3*(s+o>0?s/(s+o):.5);let l=0;for(const u of n){if(u===e)continue;const n=t[u],r=n.averageScore||100,s=n.wins||0,o=n.losses||0;r/a*.7+.3*(s+o>0?s/(s+o):.5)>i&&l++}const c=l+1;c<=2?(A[1]=Math.round(.6*O),A[2]=Math.round(.25*O),A[3]=Math.round(.1*O),A[4]=Math.round(.05*O)):c<=4?(A[1]=Math.round(.2*O),A[2]=Math.round(.35*O),A[3]=Math.round(.3*O),A[4]=Math.round(.15*O)):c<=6?(A[2]=Math.round(.15*O),A[3]=Math.round(.25*O),A[4]=Math.round(.3*O),A[5]=Math.round(.2*O),A[6]=Math.round(.1*O)):c<=8?(A[4]=Math.round(.2*O),A[5]=Math.round(.4*O),A[6]=Math.round(.4*O)):(A[5]=Math.round(.6*O),A[6]=Math.round(.4*O))}E=Math.round(o*r)}const T=r>0?E/r:0,I=O>0?Object.keys(A).reduce((e,t)=>e+parseInt(t)*A[t],0)/O:null;let C={american:null,decimal:null,implied:T},D=T;if(D=T,D<.005&&c>.05?D=Math.max(.005,.12*c):0!==D||P||(D=.001),D>0){const e=Math.min(.95,1.1*D);C.american=e>=.5?Math.round(-100*e/(1-e)):Math.round(100*(1-e)/e),C.decimal=e>0?1/e:null,C.implied=e}return{championshipProbability:T,playoffProbability:c,expectedSeed:I,strengthOfSchedule:f,momentum:m,recentForm:p,dprAdjustedRating:g,dprConfidence:y,seedDistribution:A,eliminationStatus:{isEliminated:!1,eliminatedFromRecord:!1,eliminatedFromPoints:!1,maxPossibleWins:k,remainingGames:S},odds:C}},ZB=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null===a||void 0===a||null===(n=a.matchupsBySeason)||void 0===n||!n[t])return.5;const s=a.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,r);if(0===s.length)return.5;return s.filter(t=>String(t.team1_roster_id)===String(e)?parseFloat(t.team1_score)>parseFloat(t.team2_score):parseFloat(t.team2_score)>parseFloat(t.team1_score)).length/s.length},eF=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.045;const r=Math.abs(e);if(0===r){return-110+Math.round(10*(Math.random()-.5))}if(r>=20)return t?-1500:800;let a,s;r<=1.5?(a=-115-10*r,s=100+10*r):r<=3?(a=-130-20*(r-1.5),s=110+20*(r-1.5)):r<=4.5?(a=-160-30*(r-3),s=140+25*(r-3)):r<=6.5?(a=-205-50*(r-4.5),s=175+35*(r-4.5)):r<=10?(a=-305-70*(r-6.5),s=245+55*(r-6.5)):r<=14?(a=-550-100*(r-10),s=435+90*(r-10)):(a=-950-75*(r-14),s=795+60*(r-14));const o=1+.5*n;return a=Math.round(a*o),s=Math.round(s*o),a=Math.max(-2e3,a),s=Math.min(2e3,Math.max(100,s)),t?a:s},tF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e-.5;let r;const a=Math.abs(n);if(a<=.05)r=60*-n;else if(a<=.15){r=-(3+40*(a-.05))*Math.sign(n)}else if(a<=.3){r=-(7+30*(a-.15))*Math.sign(n)}else{r=-(14+20*(a-.3))*Math.sign(n)}return r-=.2*t,Math.round(2*r)/2},nF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e+t;r<150&&(r=200+60*Math.random());const a=r/5.2,{pace:s=1,defensive:o=1,weather:i=1,variance:l=.06,weekNumber:c=3}=n;let u=a*s*o*i;c<=4&&(u*=1.03);u*=1+(Math.random()-.5)*l;let d=5.2*u;return d=Math.max(205,Math.min(290,d)),Math.round(2*d)/2},rF=function(e){const t=Math.abs(e);if(t<=1.5){return{favoriteJuice:-115-Math.round(10*Math.random()),underdogJuice:-105-Math.round(10*Math.random())}}if(t>=10){const e=-108-Math.round(8*Math.random());return{favoriteJuice:e,underdogJuice:e}}{const e=Math.round(16*(Math.random()-.5)),t=-110+e,n=-110-e;return{favoriteJuice:Math.max(-125,Math.min(-100,t)),underdogJuice:Math.max(-125,Math.min(-100,n))}}},aF=function(e){const t=Math.round(12*(Math.random()-.5)),n=-110+t,r=-110-t;return{overJuice:Math.max(-120,Math.min(-105,n)),underJuice:Math.max(-120,Math.min(-105,r))}},sF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{powerScore:50,pointsComponent:0,consistencyComponent:0,momentumComponent:0};const{averageScore:r=100,scores:a=[],gamesPlayed:s=0,wins:o=0,losses:i=0}=e,l=Object.values(n).map(e=>e.averageScore||100),c=l.reduce((e,t)=>e+t,0)/l.length,u=(r-c)/c,d=60*Math.tanh(3*u);let h=0;if(a.length>=2){const e=a.reduce((e,t)=>e+Math.pow(t-r,2),0)/a.length,t=Math.sqrt(e)/r;h=25*Math.max(0,1-t/.3)}let f=0;if(a.length>=2){const e=Math.min(3,a.length),t=a.slice(-e),n=a.slice(0,-e);if(n.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length,r=n.reduce((e,t)=>e+t,0)/n.length,a=(e-r)/r;f=15*Math.tanh(2*a)}}const m=50+d+h+f;return{powerScore:Math.max(0,Math.min(100,m)),pointsComponent:d,consistencyComponent:h,momentumComponent:f,details:{averageScore:r,leagueAverage:c,pointsAdvantage:100*u,consistency:h/25,momentum:f/15}}},oF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=sF(e,null===e||void 0===e?void 0:e.rosterId,n),a=sF(t,null===t||void 0===t?void 0:t.rosterId,n);return{powerDiff:(r.powerScore-a.powerScore)/10,team1Power:r.powerScore,team2Power:a.powerScore,team1Details:r.details,team2Details:a.details}},iF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{team1RosterId:r,team2RosterId:a,team1Name:s,team2Name:o,winProbability:i=.5}=e,{vig:l=.045,includePropBets:c=!0,includeSpecialMarkets:u=!1,weekNumber:d=3}=n,h=t[r]||{averageScore:120,gamesPlayed:0,scores:[],rosterId:r},f=t[a]||{averageScore:120,gamesPlayed:0,scores:[],rosterId:a},m=oF(h,f,t),p=.02*m.powerDiff,g=Math.max(.1,Math.min(.9,i+p));let y=tF(g,m.powerDiff);const v=y<0,x=Math.abs(y),b=0===x;let w,S;b?(w=eF(0,!0,l),S=eF(0,!1,l)):(w=eF(x,v,l),S=eF(x,!v,l));const k=nF(h.averageScore,f.averageScore,{weekNumber:d,variance:.06,pace:1+.01*m.powerDiff,defensive:1}),j=rF(y,.6),_=aF(k,.5),N=(e,t)=>b?"PK":t?e>0?"+".concat(e):e.toString():e>0?(-e).toString():"+".concat(Math.abs(e)),P={spread:{team1:{name:s,line:N(y,!0),odds:b||v?j.favoriteJuice:j.underdogJuice},team2:{name:o,line:N(y,!1),odds:b||v?j.underdogJuice:j.favoriteJuice}},moneyline:{team1:{name:s,odds:w},team2:{name:o,odds:S}},total:{over:{line:k,odds:_.overJuice},under:{line:k,odds:_.underJuice}},powerAnalysis:{team1Power:m.team1Power,team2Power:m.team2Power,powerDiff:m.powerDiff,team1Details:m.team1Details,team2Details:m.team2Details,originalWinProb:i,adjustedWinProb:g,isPick:b}};return c&&(P.props=lF(h,f,s,o)),P},lF=(e,t,n,r)=>{const a=e.averageScore||100,s=t.averageScore||100;return{teamTotals:{team1:{name:n,over:{line:Math.round(2*(a-5))/2,odds:-115},under:{line:Math.round(2*(a-5))/2,odds:-105}},team2:{name:r,over:{line:Math.round(2*(s-5))/2,odds:-115},under:{line:Math.round(2*(s-5))/2,odds:-105}}},marginOfVictory:{under7:{odds:140},"7to14":{odds:180},over14:{odds:250}}}},cF=e=>{const t=Math.max(.01,Math.min(.99,e));return t>=.5?Math.round(-100*t/(1-t)):Math.round(100*(1-t)/t)},uF=e=>e>0?"+".concat(e):"".concat(e),dF=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:s,loading:o,rostersWithDetails:i}=X(),[l,c]=(0,t.useState)("gameLines"),[d,h]=(0,t.useState)("playoffs"),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,S]=(0,t.useState)({}),[k,j]=(0,t.useState)([]),[_,N]=(0,t.useState)(""),[P,E]=(0,t.useState)([]),[O,A]=(0,t.useState)(!1),T=(0,t.useMemo)(()=>{var e;return n&&Array.isArray(n)?null===(e=n[0])||void 0===e?void 0:e.season:null===n||void 0===n?void 0:n.season},[n]);(0,t.useEffect)(()=>{if(null!==s&&void 0!==s&&s.week&&!f&&m(parseInt(s.week)),T&&e){const t=VB(e,T);S(t)}},[s,f,T,e]);const I=e=>{if(!e)return"";let t=e;if(Object.entries({"The ":"","Team ":""," FC":""," United":""," City":"",Dynasty:"Dyn",Champions:"Champs",Destroyers:"Dest",Crushers:"Crush",Warriors:"War",Titans:"Tit",Thunder:"Thund",Lightning:"Light",Hurricanes:"Hurr",Tornadoes:"Torn",Blizzard:"Bliz",Avalanche:"Aval",Storm:"Storm",Fire:"Fire",Ice:"Ice",Steel:"Steel",Iron:"Iron",Gold:"Gold",Silver:"Silv",Diamond:"Diam",Platinum:"Plat",Elite:"Elite",Power:"Pow",Force:"Force",Impact:"Imp",Explosion:"Exp",Revolution:"Rev",Evolution:"Evo",Domination:"Dom",Destruction:"Dest",Annihilation:"Ann",Obliteration:"Obl",Decimation:"Dec",Devastation:"Dev"}).forEach(e=>{let[n,r]=e;t=t.replace(new RegExp(n,"gi"),r)}),t.length>12){const e=t.split(" ");if(e.length>1){const n=e[0],r=e.slice(1).map(e=>e.charAt(0)).join("");t=n+r}}return t.length>12&&(t=t.substring(0,10)+"..."),t},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();E(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>{E(e=>e.filter(e=>e.id!==n))},3e3)},D=e=>{const t="".concat(e.matchupId,"-").concat(e.type,"-").concat(e.selection),n=k.findIndex(e=>e.id===t);if(n>=0)return j(e=>e.filter(e=>e.id!==t)),void C("Bet removed from slip","info");k.filter(t=>{if(t.matchupId===e.matchupId){if("spread"===e.type&&"spread"===t.type)return!0;if("total"===e.type&&"total"===t.type)return!0;if("moneyline"===e.type&&"moneyline"===t.type)return!0;if(("spread"===e.type&&"moneyline"===t.type||"moneyline"===e.type&&"spread"===t.type)&&e.team===t.team)return!0}return!1}).length>0?C("Cannot add conflicting bets from the same game","error"):(j(n=>[...n,u(u({},e),{},{id:t})]),C("Bet added to slip","success"))},M=()=>{j([]),N(""),C("Bet slip cleared","info")},R=()=>{if(!_||0===k.length)return 0;const e=parseFloat(_);if(isNaN(e)||e<=0)return 0;if(1===k.length){const t=k[0].odds;return e+(t>0?e*t/100:100*e/Math.abs(t))}{const t=(e=>{if(0===e.length)return 0;let t=1;e.forEach(e=>{const n=e.odds>0?e.odds/100+1:100/Math.abs(e.odds)+1;t*=n});const n=t>=2?100*(t-1):-100/(t-1);return Math.round(n)})(k);return e+(t>0?e*t/100:100*e/Math.abs(t))}},L=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return.5;const s=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return.5;return s.filter(e=>{const n=String(e.team1_roster_id)===String(t);return(n?e.team1_score:e.team2_score)>(n?e.team2_score:e.team1_score)}).length/s.length},B=(0,t.useMemo)(()=>{if(!a||!T||!a[T])return{};const t=a[T],n=Object.keys(t).map(n=>{const r=t[n],a=((t,n,r)=>{const a=t.gamesPlayed>0?t.wins/t.gamesPlayed:0,s=t.averageScore||0,o=t.pointsFor||0,i=t.pointsAgainst||0,l=t.luckRating||0,c=t.strengthOfSchedule||0,u=100*a*.25+s/10*.2+10*L(n,r,4)*.15+(o-i)/100*.15+20*KB(n,r,e,6)*.1+.1*(w[n]?(w[n]-1500)/10:0)+50*l*.03+10*c*.02;return Math.max(0,u)})(r,n,T),s=HB(n,t,e,T),o=qB(n,t,e,T),i=KB(n,T,e,6);return u(u({rosterId:n},r),{},{powerScore:a,classification:s,consistency:o,momentum:i})}).sort((e,t)=>t.powerScore-e.powerScore),r={};return n.forEach((e,t)=>{r[e.rosterId]=u(u({},e),{},{rank:t+1,powerScore:e.powerScore})}),r},[a,T,w,e]),F=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return{mean:0,variance:0,count:0};let s=e.matchupsBySeason[n].filter(e=>e.t1===t||e.t2===t);a&&(s=s.slice(-a));const o=s.map(e=>e.t1===t?e.t1_score:e.t2_score).filter(e=>"number"===typeof e);if(0===o.length)return{mean:0,variance:0,count:0};const i=o.reduce((e,t)=>e+t,0)/o.length,l=o.reduce((e,t)=>e+Math.pow(t-i,2),0)/o.length;return{mean:i,variance:l,count:o.length}};const W=t=>{if(!a||!e)return[];return e.matchupsBySeason[T].filter(e=>parseInt(e.week)===t).map(n=>{const a=n.t1,o=n.t2,i=F(a,T,4),l=F(o,T,4),c=F(a,T),u=F(o,T),d=i.count>=2?i.mean:c.mean,h=l.count>=2?l.mean:u.mean,f=i.count>=2?i.variance:c.variance,m=l.count>=2?l.variance:u.variance,p=i.count>=2?i.count:c.count,g=l.count>=2?l.count:u.count,y=d-h,v=Math.sqrt(f/p+m/g);let x=.5;v>0&&(x=.5+.5*function(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}(y/(Math.sqrt(2)*v)));const b=y;let S=x>.5?-Math.round(100*x/(1-x)):Math.round(100*(1-x)/x),k=x<.5?-Math.round(100*(1-x)/x):Math.round(100*x/(1-x));S=S>0?S+15:S-15,k=k>0?k+15:k-15;try{var j,_,N,P,E,O,A,I,C,D,M,R;const i=String(n.team1_roster_id),l=String(n.team2_roster_id);if(!B[i]||!B[l])return null;const c=null!==s&&void 0!==s&&s.week?parseInt(s.week):null,u=(n.team1_score>0||n.team2_score>0)&&(!c||t<c),d=null===(j=e.rostersBySeason)||void 0===j||null===(_=j[T])||void 0===_?void 0:_.find(e=>String(e.roster_id)===i),h=null===d||void 0===d?void 0:d.owner_id,f=r(h,T),m=null===(N=e.rostersBySeason)||void 0===N||null===(P=N[T])||void 0===P?void 0:P.find(e=>String(e.roster_id)===l),p=null===m||void 0===m?void 0:m.owner_id,g=r(p,T),y=UB(i,l,B,w,e,T),v=1-y,L=QB(y),F=QB(v),W={matchupId:n.matchup_id,week:t,isCompleted:u,team1:{rosterId:i,name:f.name,avatar:f.avatar,record:"".concat((null===(E=B[i])||void 0===E?void 0:E.wins)||0,"-").concat((null===(O=B[i])||void 0===O?void 0:O.losses)||0),avgPoints:(null===(A=B[i])||void 0===A?void 0:A.averageScore)||0,powerScore:(null===(I=B[i])||void 0===I?void 0:I.powerScore)||0,eloRating:w[i]||1500,momentum:KB(i,T,e),probability:y,odds:L.americanOdds},team2:{rosterId:l,name:g.name,avatar:g.avatar,record:"".concat((null===(C=B[l])||void 0===C?void 0:C.wins)||0,"-").concat((null===(D=B[l])||void 0===D?void 0:D.losses)||0),avgPoints:(null===(M=B[l])||void 0===M?void 0:M.averageScore)||0,powerScore:(null===(R=B[l])||void 0===R?void 0:R.powerScore)||0,eloRating:w[l]||1500,momentum:KB(l,T,e),probability:v,odds:F.americanOdds},spread:b,moneyline:{[a]:S,[o]:k},winProb:x},U=iF({team1RosterId:i,team2RosterId:l,team1Name:f.name,team2Name:g.name,winProbability:y},B,{vig:.045,includePropBets:!0});u&&(W.actualScores={team1Score:n.team1_score,team2Score:n.team2_score,team1Won:n.team1_score>n.team2_score,totalPoints:n.team1_score+n.team2_score,team1CoveredSpread:null!==U&&void 0!==U&&U.spread?(()=>{const e=U.spread.team1.line,t="PK"===e?0:parseFloat(e);return n.team1_score-n.team2_score>-t})():null,overHit:null!==U&&void 0!==U&&U.total?(()=>{const e=U.total.over.line;return n.team1_score+n.team2_score>e})():null});const z=U;return W.markets=z,W}catch(L){return logger.error("Error generating matchup odds:",L),null}}).filter(Boolean)},U=e=>{const t=B[e];if(!t)return 0;const n=t.gamesPlayed||0,r=Math.max(0,14-n);return $B(e,B,r,3e3)},z=(e,t)=>{const n=e.gamesPlayed||0;if(n<3)return!1;const r=n>0?(e.wins||0)/n:0,a=e.averageScore||0,s=Object.values(B),o=s.reduce((e,t)=>e+(t.averageScore||0),0)/s.length,i=s.reduce((e,t)=>{const n=t.gamesPlayed||0;return e+(n>0?(t.wins||0)/n:0)},0)/s.length;return r<i&&a>1.05*o};return(0,t.useEffect)(()=>{"gameLines"===l&&f&&B&&Object.keys(B).length>0?g(W(f)):"futures"===l&&B&&Object.keys(B).length>0&&(y&&0!==y.length||v(B?Object.keys(B).map(t=>{var n,a;const s=B[t],o=null===(n=e.rostersBySeason)||void 0===n||null===(a=n[T])||void 0===a?void 0:a.find(e=>String(e.roster_id)===t),i=null===o||void 0===o?void 0:o.owner_id,l=r(i,T),c=U(t),u=cF(c);return{rosterId:t,name:l.name,avatar:l.avatar,record:"".concat(s.wins||0,"-").concat(s.losses||0),powerScore:s.powerScore,rank:s.rank,probability:c,odds:u}}).sort((e,t)=>t.probability-e.probability):[]),x&&0!==x.length||b((()=>{if(!B)return[];const t=Math.max(...Object.values(B).map(e=>e.gamesPlayed||0)),n=Math.max(0,14-t);return Object.keys(B).map(t=>{var a,o;const i=B[t],l=null===(a=e.rostersBySeason)||void 0===a||null===(o=a[T])||void 0===o?void 0:o.find(e=>String(e.roster_id)===t),c=null===l||void 0===l?void 0:l.owner_id,u=r(c,T),d=JB(t,B,n,250,e,T,(e,t)=>{const n=r(e,t);return(null===n||void 0===n?void 0:n.name)||"Team ".concat(e)},s);return{rosterId:t,name:u.name,avatar:u.avatar,record:"".concat(i.wins||0,"-").concat(i.losses||0),powerScore:i.powerScore,rank:i.rank,probability:d.championshipProbability,odds:d.odds.american,playoffProb:d.playoffProbability,expectedSeed:d.expectedSeed,strengthOfSchedule:d.strengthOfSchedule,momentum:d.momentum,isWildcardContender:z(i,t),gamesPlayed:i.gamesPlayed||0}}).sort((e,t)=>t.probability-e.probability)})()))},[l,f,B,T,w,e]),o?(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,G.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Sportsbook..."})}):(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen ".concat(k.length>0?"pb-24":""),children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6",children:[(0,G.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Fantasy Sportsbook"}),(0,G.jsx)("p",{className:"text-blue-100",children:"Odds based on team performance, power rankings, and statistical analysis"})]}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[(0,G.jsxs)("div",{className:"flex border-b",children:[(0,G.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("gameLines"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("gameLines"),children:"Game Lines"}),(0,G.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("futures"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("futures"),children:"Futures"})]}),"gameLines"===l&&(0,G.jsx)("div",{className:"p-4 border-b flex flex-wrap gap-4",children:(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week"}),(0,G.jsx)("select",{id:"week-select",value:f||"",onChange:e=>m(parseInt(e.target.value)),className:"block w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:Array.from({length:18},(e,t)=>t+1).map(e=>(0,G.jsxs)("option",{value:e,children:["Week ",e," ",e>=15?"(Playoffs)":""]},e))})]})})]}),"gameLines"===l&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Week ",f," ",f>=15?"Playoffs":"Betting Odds"]}),f>=15?(0,G.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[(0,G.jsx)("div",{className:"text-blue-600 mb-2",children:(0,G.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,G.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Playoff Week"}),(0,G.jsx)("p",{className:"text-blue-700 mb-4",children:15===f?"Wildcard Round":16===f?"Semifinals":"Championship Game"}),(0,G.jsx)("p",{className:"text-sm text-blue-600",children:"Playoff matchups are determined by regular season standings. Regular season betting is available for weeks 1-14."})]}):p.length>0?(0,G.jsx)("div",{className:"grid gap-6",children:p.map(e=>{var t,n,r,a,s,o,i,l,c,u,d,h,f,m,p,g,y,v,x,b;return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,G.jsx)("div",{className:"p-6",children:(0,G.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center text-sm font-semibold text-gray-700 mb-4",children:"Teams"}),(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team1.avatar,alt:e.team1.name}),(0,G.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,G.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team1.name}),(0,G.jsx)("span",{className:"sm:hidden text-sm",children:I(e.team1.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team1.record})]})}),(0,G.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team2.avatar,alt:e.team2.name}),(0,G.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,G.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team2.name}),(0,G.jsx)("span",{className:"sm:hidden text-sm",children:I(e.team2.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team2.record})]})})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Spread"}),null!==(t=e.markets)&&void 0!==t&&t.spread?(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(n=e.actualScores)||void 0===n?void 0:n.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-spread-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&"PK"!==e.markets.spread.team1.line&&D({matchupId:e.matchupId,type:"spread",selection:"team1",team:e.team1.name,line:e.markets.spread.team1.line,odds:e.markets.spread.team1.odds,description:"".concat(e.team1.name," ").concat(e.markets.spread.team1.line)}),children:[(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(r=e.actualScores)||void 0===r?void 0:r.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-green-600":"text-red-600":"text-blue-600"),children:e.markets.spread.team1.line}),"PK"!==e.markets.spread.team1.line&&(0,G.jsx)("div",{className:"text-sm text-blue-600",children:uF(e.markets.spread.team1.odds)})]}),(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(a=e.actualScores)||void 0===a?void 0:a.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-spread-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&"PK"!==e.markets.spread.team2.line&&D({matchupId:e.matchupId,type:"spread",selection:"team2",team:e.team2.name,line:e.markets.spread.team2.line,odds:e.markets.spread.team2.odds,description:"".concat(e.team2.name," ").concat(e.markets.spread.team2.line)}),children:[(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(s=e.actualScores)||void 0===s?void 0:s.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-red-600":"text-green-600":"text-blue-600"),children:e.markets.spread.team2.line}),"PK"!==e.markets.spread.team2.line&&(0,G.jsx)("div",{className:"text-sm text-blue-600",children:uF(e.markets.spread.team2.odds)})]})]}):(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Total"}),null!==(o=e.markets)&&void 0!==o&&o.total?(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(i=e.actualScores)||void 0===i?void 0:i.overHit)?e.actualScores.overHit?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-total-over"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&D({matchupId:e.matchupId,type:"total",selection:"over",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.over.line,odds:e.markets.total.over.odds,description:"Over ".concat(e.markets.total.over.line)}),children:[(0,G.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"OVER"}),(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(l=e.actualScores)||void 0===l?void 0:l.overHit)?e.actualScores.overHit?"text-green-600":"text-red-600":"text-blue-600"),children:e.markets.total.over.line}),(0,G.jsx)("div",{className:"text-sm text-blue-600",children:uF(e.markets.total.over.odds)})]}),(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(c=e.actualScores)||void 0===c?void 0:c.overHit)?e.actualScores.overHit?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-total-under"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&D({matchupId:e.matchupId,type:"total",selection:"under",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.under.line,odds:e.markets.total.under.odds,description:"Under ".concat(e.markets.total.under.line)}),children:[(0,G.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"UNDER"}),(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(u=e.actualScores)||void 0===u?void 0:u.overHit)?e.actualScores.overHit?"text-red-600":"text-green-600":"text-blue-600"),children:e.markets.total.under.line}),(0,G.jsx)("div",{className:"text-sm text-blue-600",children:uF(e.markets.total.under.odds)})]})]}):(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Moneyline"}),(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(d=e.actualScores)||void 0===d?void 0:d.team1Won)?e.actualScores.team1Won?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{var t,n,r;return!e.isCompleted&&D({matchupId:e.matchupId,type:"moneyline",selection:"team1",team:e.team1.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team1)||void 0===r?void 0:r.odds)||e.team1.odds,description:"".concat(e.team1.name," ML")})},children:(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(h=e.actualScores)||void 0===h?void 0:h.team1Won)?e.actualScores.team1Won?"text-green-600":"text-red-600":"text-blue-600"),children:uF((null===(f=e.markets)||void 0===f||null===(m=f.moneyline)||void 0===m||null===(p=m.team1)||void 0===p?void 0:p.odds)||e.team1.odds)})}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(g=e.actualScores)||void 0===g?void 0:g.team1Won)?e.actualScores.team1Won?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{var t,n,r;return!e.isCompleted&&D({matchupId:e.matchupId,type:"moneyline",selection:"team2",team:e.team2.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team2)||void 0===r?void 0:r.odds)||e.team2.odds,description:"".concat(e.team2.name," ML")})},children:(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(y=e.actualScores)||void 0===y?void 0:y.team1Won)?e.actualScores.team1Won?"text-red-600":"text-green-600":"text-blue-600"),children:uF((null===(v=e.markets)||void 0===v||null===(x=v.moneyline)||void 0===x||null===(b=x.team2)||void 0===b?void 0:b.odds)||e.team2.odds)})})]})]})]})}),!1]},e.matchupId)})}):(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,G.jsxs)("div",{className:"text-gray-500",children:[(0,G.jsxs)("p",{className:"text-lg mb-2",children:["No upcoming matchups found for Week ",f]}),(0,G.jsx)("p",{className:"text-sm",children:"Games may have already been played or the schedule isn't available yet."})]})})]}),"futures"===l&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsxs)("div",{className:"flex border-b mb-4",children:[(0,G.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("playoffs"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("playoffs"),children:"Playoff Appearance"}),(0,G.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("championship"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("championship"),children:"Championship"})]}),"playoffs"===d&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Playoff Appearance Odds"}),(0,G.jsx)("div",{className:"grid gap-4",children:y.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,G.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,G.jsx)("span",{className:"sm:hidden",children:I(e.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record})]})]}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(k.some(t=>t.id==="playoff-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>D({matchupId:"playoff-".concat(e.rosterId),type:"futures",selection:"playoffs",team:e.name,line:"Make Playoffs",odds:e.odds,description:"".concat(e.name," Make Playoffs")}),children:(0,G.jsx)("div",{className:"text-lg font-bold text-blue-600",children:uF(e.odds)})})]})},e.rosterId))})]}),"championship"===d&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Championship Odds"}),(0,G.jsx)("div",{className:"grid gap-4",children:x.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,G.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,G.jsx)("span",{className:"sm:hidden",children:I(e.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record}),e.isWildcardContender&&(0,G.jsx)("div",{className:"text-xs text-blue-600",children:"\ud83c\udfaf Wildcard Contender"})]})]}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(k.some(t=>t.id==="championship-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>D({matchupId:"championship-".concat(e.rosterId),type:"futures",selection:"championship",team:e.name,line:"Win Championship",odds:e.odds,description:"".concat(e.name," Win Championship")}),children:(0,G.jsx)("div",{className:"text-lg font-bold text-blue-600",children:uF(e.odds)})})]})},e.rosterId))})]})]}),P.length>0&&(0,G.jsx)("div",{className:"fixed top-4 right-4 space-y-2 z-50",children:P.map(e=>(0,G.jsx)("div",{className:"px-4 py-2 rounded-lg shadow-lg text-white ".concat("success"===e.type?"bg-green-500":"error"===e.type?"bg-red-500":"bg-blue-500"),children:e.message},e.id))}),k.length>0&&(0,G.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg transform transition-transform duration-300 z-40 ".concat(O?"translate-y-0":"translate-y-[calc(100%-60px)]"),children:[(0,G.jsxs)("div",{className:"px-4 py-3 border-b cursor-pointer flex justify-between items-center bg-gray-50",onClick:()=>A(!O),children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsxs)("span",{className:"font-bold text-gray-800",children:["Bet Slip (",k.length,")"]}),_&&parseFloat(_)>0&&(0,G.jsxs)("span",{className:"text-green-600 font-semibold text-sm",children:["$",aD(Number(R()),2)]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("button",{onClick:e=>{e.stopPropagation(),M()},className:"text-red-500 hover:text-red-700 text-sm font-medium px-2 py-1",children:"Clear"}),(0,G.jsx)("svg",{className:"w-4 h-4 text-gray-500 transform transition-transform ".concat(O?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,G.jsxs)("div",{className:"max-h-[50vh] overflow-y-auto",children:[(0,G.jsx)("div",{className:"p-3 space-y-2",children:k.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-sm font-medium text-gray-800",children:e.description}),(0,G.jsx)("div",{className:"text-xs text-gray-600",children:uF(e.odds)})]}),(0,G.jsx)("button",{onClick:()=>{return t=e.id,j(e=>e.filter(e=>e.id!==t)),void C("Bet removed from slip","info");var t},className:"text-red-500 hover:text-red-700 text-lg leading-none",children:"\xd7"})]},e.id))}),(0,G.jsxs)("div",{className:"p-3 border-t bg-gray-50 space-y-3",children:[(0,G.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,G.jsx)("input",{type:"number",min:"1",step:"1",value:_,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm",placeholder:"Bet $"}),k.length>1&&(0,G.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:[k.length,"-leg parlay"]})]}),_&&parseFloat(_)>0&&(0,G.jsxs)("div",{className:"flex justify-between items-center",children:[(0,G.jsxs)("div",{className:"text-sm",children:[(0,G.jsx)("span",{className:"text-gray-600",children:"To Win: "}),(0,G.jsx)("span",{className:"font-semibold text-green-600",children:aD(Number(R()-parseFloat(_)),2)})]}),(0,G.jsx)("button",{className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors text-sm font-medium",onClick:()=>{C("Bet placed: $".concat(_," to win $").concat(aD(Number(R()-parseFloat(_)),2)),"success"),M(),A(!1)},children:"Place Bet"})]})]})]})]}),(0,G.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,G.jsx)("div",{className:"flex",children:(0,G.jsxs)("div",{className:"ml-3",children:[(0,G.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"For Entertainment Purposes Only"}),(0,G.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,G.jsx)("p",{children:"These odds are calculated using historical performance, team statistics, and power rankings. They are for entertainment and analytical purposes only. Fantasy football involves elements of skill and chance - actual results may vary significantly from projections."})})]})})})]})})};const hF=function(e,t,n,r){if(!e||!e.draftPicksBySeason)return{resolved:!1,label:"Round Cost: R".concat(r)};const a=e.draftPicksBySeason[String(n)]||e.draftPicksBySeason[n];if(!a||!a.length)return{resolved:!1,label:"Round Cost: R".concat(r)};let s=null;try{const r=e.rostersBySeason&&(e.rostersBySeason[String(n)]||e.rostersBySeason[n]);if(r&&null!=t){const e=r.find(e=>String(e.roster_id)===String(t));if(e&&(s=String(e.roster_id)),!s){const e=r.find(e=>String(e.owner_id)===String(t));e&&(s=String(e.roster_id))}}}catch(PF){}const o=e.tradedPicksBySeason&&(e.tradedPicksBySeason[String(n)]||e.tradedPicksBySeason[n])||[],i=new Map;Array.isArray(o)&&o.forEach(e=>{const t=Number(e.round||e.round_number||e.draft_round||0)||Number(e.round);i.has(t)||i.set(t,new Map);const n=null!=e.roster_id?String(e.roster_id):null!=e.original_roster_id?String(e.original_roster_id):null;n&&i.get(t).set(n,e)});const l=e=>{const n=a.find(n=>Number(n.round)===Number(e)&&(e=>{var n,r,a,o;if(!e)return!1;const i=[e.roster_id,e.picked_by,e.owner_id,null===(n=e.metadata)||void 0===n?void 0:n.owner_id,null===(r=e.metadata)||void 0===r?void 0:r.owner,null===(a=e.metadata)||void 0===a?void 0:a.original_owner_id,null===(o=e.metadata)||void 0===o?void 0:o.original_owner];for(const l of i)if(null!=l){if(String(l)===String(t))return!0;if(s&&String(l)===String(s))return!0}return!1})(n));if(n)return n;if(s&&i.has(Number(e))){const t=i.get(Number(e));for(const[n,r]of t.entries()){const t=null!=r.owner_id?String(r.owner_id):null!=r.owner?String(r.owner):null;if(t&&String(t)===String(s)){const t=a.find(t=>{var r,a,s;return Number(t.round)===Number(e)&&(String(t.roster_id)===String(n)||String(null===(r=t.metadata)||void 0===r?void 0:r.original_roster_id)===String(n)||String(null===(a=t.metadata)||void 0===a?void 0:a.original_owner_roster_id)===String(n)||String(null===(s=t.metadata)||void 0===s?void 0:s.original_owner)===String(n))});if(t)return t;if(null!=r.pick_no){const t=a.find(t=>Number(t.round)===Number(e)&&Number(t.pick_no)===Number(r.pick_no));if(t)return t}}}}return null};let c=l(r),u=r;if(!c)for(let d=r-1;d>=1;d--){const e=l(d);if(e){c=e,u=d;break}}if(c){const e=(e=>{if(null!=e.pick_in_round)return Number(e.pick_in_round);if(null!=e.pick_no&&a&&a.length){const t=a.filter(t=>Number(t.round)===Number(e.round)).slice().sort((e,t)=>Number(e.pick_no||0)-Number(t.pick_no||0)),n=t.findIndex(t=>String(t.pick_no)===String(e.pick_no));if(n>=0)return n+1}return null})(c),t=null!=c.pick_no?Number(c.pick_no):null;return{resolved:!0,round:u,pick_in_round:e,pick_no:t,label:"R".concat(u," \u2022 Pick ").concat(e||t||"\u2014")}}return{resolved:!1,label:"Round Cost: R".concat(r)}};function fF(){const{historicalData:e,usersData:n,currentSeason:r,nflPlayers:a,getTeamDetails:s}=X(),o=(0,t.useMemo)(()=>{const t={};if(!e||!e.draftPicksBySeason)return t;const n={},r=Object.keys(e.draftPicksBySeason).map(e=>Number(e)).sort((e,t)=>e-t);for(const i of r){const t=(e.draftPicksBySeason[i]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const e of t){var a,s;if(!e.player_id)continue;const t=String(e.player_id);n[t]||(n[t]=[]),n[t].push({season:i,is_keeper:!!e.is_keeper,picked_by:e.picked_by,roster_id:e.roster_id,player_name:e.player_name||"".concat((null===(a=e.metadata)||void 0===a?void 0:a.first_name)||""," ").concat((null===(s=e.metadata)||void 0===s?void 0:s.last_name)||"").trim(),round:e.round||null,pick_in_round:e.pick_in_round||null,pick_no:e.pick_no||null})}}for(const[e,i]of Object.entries(n)){var o;const n=i.length?i[0].season:null;let r=null,a=null,s=null,l=null,c=null;for(const e of i)r=e.season,a=e.picked_by||a,s=s||e.player_name,e.is_keeper||(l=e.season),e.is_keeper&&(c=e.season);const u=null!==l?l:n,d=null===u?[]:i.filter(e=>e.season>=u),h=d.filter(e=>e.is_keeper).length,f=d.slice().reverse().find(e=>e.is_keeper),m=f?f.season:null,p=!(null===(o=i[i.length-1])||void 0===o||!o.is_keeper),g=d&&d.length?d[0]:i.length?i[0]:null,y=g&&g.round||null,v=g&&g.pick_in_round||null,x=g&&g.pick_no||null;t[e]={player_name:s||"Unknown",lastOwner:a,yearsKept:h,lastSeasonSeen:r,firstSeasonSeen:u,originalDraftSeason:n,originalDraftRound:y,originalPickInRound:v,originalPickNo:x,lastKeeperSeason:m,isKeeper:p}}return t},[e]),[i,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)("all"),[h,f]=(0,t.useState)("position"),{currentPlayersMap:m,rosterOptions:p,positionOptions:g,rosterLookup:y}=(0,t.useMemo)(()=>{var t,a;const s=new Map,o={},i=new Set;if(r&&null!==e&&void 0!==e&&null!==(t=e.draftPicksBySeason)&&void 0!==t&&t[r])for(const n of e.draftPicksBySeason[r]){var l,c,u;if(!n.player_id)continue;const e=String(n.player_id);n.roster_id?s.set(e,{roster_id:String(n.roster_id),position:n.player_position||(null===(l=n.metadata)||void 0===l?void 0:l.position)||null}):s.set(e,{roster_id:null,position:n.player_position||(null===(c=n.metadata)||void 0===c?void 0:c.position)||null});const t=n.player_position||(null===(u=n.metadata)||void 0===u?void 0:u.position);t&&i.add(t)}if(r&&null!==e&&void 0!==e&&null!==(a=e.rostersBySeason)&&void 0!==a&&a[r])for(const v of e.rostersBySeason[r]){var d;const e=String(v.roster_id);let t=null===(d=v.metadata)||void 0===d?void 0:d.team_name;if(!t&&v.owner_id&&n){const e=n.find(e=>String(e.user_id)===String(v.owner_id));var h;if(e)t=(null===(h=e.metadata)||void 0===h?void 0:h.team_name)||e.display_name||String(v.owner_id)}o[e]=t||v.owner_id||e}const f=Object.entries(o).map(t=>{var n;let[a,s]=t,o=null;if(r&&null!==e&&void 0!==e&&null!==(n=e.rostersBySeason)&&void 0!==n&&n[r]){const t=e.rostersBySeason[r].find(e=>String(e.roster_id)===String(a));t&&(o=t.owner_id||null)}return{id:a,name:s,ownerId:o}}),m=["QB","RB","WR","TE","K","DEF"],p=Array.from(i).map(e=>(e||"").toUpperCase()),g=m.filter(e=>p.includes(e)),y=p.filter(e=>!m.includes(e)).sort();return{currentPlayersMap:s,rosterOptions:f,positionOptions:[...g,...y],rosterLookup:o}},[e,r]),v=(0,t.useMemo)(()=>{const e=new Set;for(const[t,n]of Object.entries(o)){if(!m.get(String(t)))continue;const r=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,a=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,s=n.yearsKept||0;let o=null;if(a){o=a+Math.max(0,3-s)}else r&&(o=r+3);o&&e.add(o)}return Array.from(e).sort((e,t)=>e-t)},[o,m]),[x,b]=(0,t.useState)("all"),w=(0,t.useMemo)(()=>Object.entries(o).map(e=>{let[t,n]=e;return u({player_id:t},n)}).filter(e=>{const t=m.get(String(e.player_id));if(!t)return!1;if(i&&"all"!==i&&(!t.roster_id||String(t.roster_id)!==String(i)))return!1;if(c&&"all"!==c){const n=t.position||e.position||null;if(!n||String(n).toUpperCase()!==String(c).toUpperCase())return!1}const n=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,r=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,a=e.yearsKept||0;let s=null;if(r){s=r+Math.max(0,3-a)}else n&&(s=n+3);if(x&&"all"!==x){if(!s)return!1;if(String(s)!==String(x))return!1}return!0}),[o,m,i,c,x]);(0,t.useEffect)(()=>{if("all"!==i){const e=p.find(e=>String(e.id)===String(i));e||l("all")}},[p,i]),(0,t.useEffect)(()=>{if("all"!==c){const e=g.find(e=>String(e).toUpperCase()===String(c).toUpperCase());e||d("all")}},[g,c]),(0,t.useEffect)(()=>{if("all"!==x){v.find(e=>String(e)===String(x))||b("all")}},[v,x]);const[S,k]=(0,t.useState)("");return(0,G.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg shadow-lg",children:[(0,G.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-yellow-300",children:"Keepers"}),(0,G.jsxs)("p",{className:"text-sm text-gray-200 mb-4",children:["Rules: 3 players are to be kept from 3 different positions. Draft year + 2 keeper years for a total of 3 years max. Starting in 2028, ",(0,G.jsx)("span",{className:"underline decoration-dotted decoration-gray-400 cursor-help",title:"2026 = 1 player kept at round value\n2027 = 2 players kept at round value\n2028 = 3 players kept at round value\nIf you do not have a pick in the assigned round, it will cost -1 round.\nFree Agent keepers are assigned the 10th round.",children:"F Jon"})," Rule will be completely implemented with draft pick values assigned to players."]}),(0,G.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Roster:"}),(0,G.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),p.map(e=>(0,G.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Position:"}),(0,G.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),g.map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Sort by:"}),(0,G.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"position",children:"Position order"}),(0,G.jsx)("option",{value:"draftYear",children:"Draft-eligible year"}),(0,G.jsx)("option",{value:"round",children:"Round cost"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Year:"}),(0,G.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),v.map(e=>(0,G.jsx)("option",{value:String(e),children:e},e))]})]}),(0,G.jsxs)("div",{className:"mt-2 sm:mt-0",children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Search:"}),(0,G.jsx)("input",{value:S,onChange:e=>k(e.target.value),placeholder:"Player name",className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),(0,G.jsx)("div",{className:"overflow-x-auto bg-gray-800 rounded-lg p-3",children:0===w.length?(0,G.jsx)("div",{className:"py-8 text-center text-gray-300",children:"No keeper data available for current season."}):(0,G.jsx)("div",{className:"w-full",children:(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.filter(e=>"all"===i||String(e.id)===String(i)).map(t=>{const n=w.filter(e=>{const n=m.get(String(e.player_id));if(!n||String(n.roster_id)!==String(t.id))return!1;if(S&&S.trim()){const t=S.trim().toLowerCase();return(e.player_name||"").toLowerCase().includes(t)}return!0});return(0,G.jsxs)("div",{className:"bg-white/5 border border-gray-700 rounded p-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[t.ownerId&&s?(()=>{const e=s(t.ownerId,r),n=(null===e||void 0===e?void 0:e.avatar)||"/LeagueLogo.PNG";return(0,G.jsx)("img",{src:n,alt:"".concat((null===e||void 0===e?void 0:e.name)||t.name," logo"),className:"w-6 h-6 mr-2 object-contain",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}})})():(0,G.jsx)("img",{src:"/LeagueLogo.PNG",alt:"league logo",className:"w-6 h-6 mr-2 object-contain"}),(0,G.jsx)("div",{className:"font-semibold text-yellow-300 text-center text-gray-100 text-sm",children:t.name})]}),(0,G.jsx)("div",{className:"space-y-1",children:0===n.length?(0,G.jsx)("div",{className:"text-sm text-gray-400",children:"No players"}):(()=>{const r=["QB","RB","WR","TE","K","DEF"],s=n.slice().sort((e,t)=>{var n,s,o,i;if("draftYear"===h){const n=e=>{const t=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,n=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,r=e.yearsKept||0;let a=null;if(n){a=n+Math.max(0,3-r)}else t&&(a=t+3);return null===a?9999:Number(a)},r=n(e),a=n(t);if(r!==a)return r-a}if("round"===h){const n=e.originalDraftRound?Number(e.originalDraftRound):null,r=t.originalDraftRound?Number(t.originalDraftRound):null,a=n?Math.max(1,n-(e.yearsKept||0)):9999,s=r?Math.max(1,r-(t.yearsKept||0)):9999;if(a!==s)return a-s}const l=((null===(n=m.get(String(e.player_id)))||void 0===n?void 0:n.position)||a&&(null===(s=a[e.player_id])||void 0===s?void 0:s.position)||"").toUpperCase(),c=((null===(o=m.get(String(t.player_id)))||void 0===o?void 0:o.position)||a&&(null===(i=a[t.player_id])||void 0===i?void 0:i.position)||"").toUpperCase(),u=-1===r.indexOf(l)?999:r.indexOf(l),d=-1===r.indexOf(c)?999:r.indexOf(c);return u!==d?u-d:(e.player_name||"").localeCompare(t.player_name||"")});return s.map(n=>{var r;const s=m.get(String(n.player_id)),o=((null===s||void 0===s?void 0:s.position)||a&&(null===(r=a[n.player_id])||void 0===r?void 0:r.position)||"").toUpperCase(),i=a&&a[n.player_id]?a[n.player_id].team:"";let l=n.player_name||"";if((!l||l.toLowerCase().includes("unknown"))&&"DEF"===o)if(i)l="".concat(i," DEF");else{let t=null;const r=Object.keys((null===e||void 0===e?void 0:e.draftPicksBySeason)||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const a of r){const r=(e.draftPicksBySeason[a]||[]).find(e=>String(e.player_id)===String(n.player_id));var c;if(r)if(t=(null===(c=r.metadata)||void 0===c?void 0:c.team)||r.player_team||null,t)break}l=t?"".concat(t," DEF"):"Unknown Defense"}const u=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,d=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,h=n.yearsKept||0;let f=null;if(d){const e=Math.max(0,3-h);f=d+e}else u&&(f=u+3);const p=n.originalDraftRound?Number(n.originalDraftRound):null,g=p?Math.max(1,p-(n.yearsKept||0)):null;let y="bg-gray-900 border-gray-800",v="text-gray-100",x="text-gray-200";h>=2?(y="bg-red-900/10 border-red-500",v="text-red-200 font-medium",x="text-red-300"):1===h&&(y="bg-yellow-900/10 border-yellow-500",v="text-yellow-200 font-medium",x="text-yellow-300");const b=a?a[n.player_id]:null,w=(null===b||void 0===b?void 0:b.position)||(null===s||void 0===s?void 0:s.position)||"",S=i||(null===b||void 0===b?void 0:b.team)||"";return(0,G.jsxs)("div",{className:"flex justify-between items-center p-1 rounded border ".concat(y),children:[(0,G.jsx)("div",{className:"min-w-0 flex-1 text-sm text-left ".concat(v),children:(0,G.jsxs)("div",{className:"break-words sm:truncate",children:[(0,G.jsx)("span",{className:"block",children:l}),(w||S)&&(0,G.jsxs)("span",{className:"block mt-1 text-[10px] text-gray-400 dark:text-gray-500",children:[w?"".concat(w):"",w&&S?" \u2022 ".concat(S):S?"".concat(S):""]})]})}),(0,G.jsxs)("div",{className:"ml-3 flex-shrink-0 w-16 text-xs text-right",children:[(0,G.jsx)("div",{className:"font-semibold ".concat(x),children:f||"\u2014"}),f&&g?e&&e.draftPicksBySeason&&e.draftPicksBySeason[f]&&e.draftPicksBySeason[f].length>0?(()=>{const n=(e.draftPicksBySeason[f]||[]).find(e=>Number(e.round)===Number(g)&&(String(e.roster_id)===String(t.id)||String(e.picked_by)===String(t.id)||String(e.picked_by)===String(t.ownerId)||String(e.roster_id)===String(t.ownerId)));if(n){const n=hF(e,t.ownerId||t.id,f,g);return(0,G.jsx)("div",{className:"text-[10px] text-gray-300 mt-1 break-words",children:n.label})}return(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(g)})})():(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(g)}):(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: \u2014"})]})]},n.player_id)})})()})]},t.id)})})})})]})}const mF={blue:{bg:"#eaf2ff",border:"#2563eb",icon:"#1e40af"},diamond:{bg:"#eef6ff",border:"#2b6cf6",icon:"#1e40af"},championAccent:{bg:"#fff8e6",border:"#EFBF04",icon:"#b36b00"},yellow:{bg:"#07122b",border:"#d4a017",icon:"#d4a017"},gray:{bg:"#f3f4f6",border:"#9ca3af",icon:"#374151"},green:{bg:"#ecfdf5",border:"#10b981",icon:"#059669"},red:{bg:"#fff5f5",border:"#ef4444",icon:"#b91c1c"},purple:{bg:"#f5f3ff",border:"#7c3aed",icon:"#6d28d9"},orange:{bg:"#fff7ed",border:"#f97316",icon:"#c2410c"},brown:{bg:"#fffbeb",border:"#c08400",icon:"#92400e"},matchupAccent:{bg:"#f7f3ff",border:"#B069DB",icon:"#6b21a8"}},pF={"bronze-season":"/badges/achievement/season-score-bronze.svg","season-bronze":"/badges/achievement/season-score-bronze.svg","season-score-bronze":"/badges/achievement/season-score-bronze.svg","season-score-bronze.svg":"/badges/achievement/season-score-bronze.svg","silver-season":"/badges/achievement/season-score-silver.svg","season-silver":"/badges/achievement/season-score-silver.svg","season-score-silver":"/badges/achievement/season-score-silver.svg","season-score-silver.svg":"/badges/achievement/season-score-silver.svg","gold-season":"/badges/achievement/season-score-gold.svg","season-gold":"/badges/achievement/season-score-gold.svg","season-score-gold":"/badges/achievement/season-score-gold.svg","season-score-gold.svg":"/badges/achievement/season-score-gold.svg","diamond-season":"/badges/achievement/season-score-diamond.svg","season-diamond":"/badges/achievement/season-score-diamond.svg","season-score-diamond":"/badges/achievement/season-score-diamond.svg","season-score-diamond.svg":"/badges/achievement/season-score-diamond.svg","season-all-play-title":"/badges/achievement/season-all-play-champion.svg","season-all-play-champion":"/badges/achievement/season-all-play-champion.svg","all-play-title":"/badges/achievement/season-all-play-champion.svg","allplay-title":"/badges/achievement/season-all-play-champion.svg","regular-season-champion":"/badges/achievement/regular-season-champion.svg","season-title":"/badges/achievement/regular-season-champion.svg","season-title.svg":"/badges/achievement/regular-season-champion.svg","league-champion":"/badges/achievement/league-champion.svg",champion:"/badges/achievement/league-champion.svg","points-title":"/badges/achievement/points-champion.svg","points-title.svg":"/badges/achievement/points-champion.svg","points-champion":"/badges/achievement/points-champion.svg","triple-crown":"/badges/achievement/triple-crown.svg","triple-crown.svg":"/badges/achievement/triple-crown.svg","heavyweight-champion":"/badges/achievement/heavyweight-champion.svg","heavyweight-champion.svg":"/badges/achievement/heavyweight-champion.svg"};["peak-performance","peak-performance.svg","the-shootout","shootout","massacre","massacre.svg","firing-squad","firing-squad.svg","a-small-victory","a-small-victory.svg","a-micro-victory","a-nano-victory","micro-victory","small-victory","nano-victory","double-up","double-up.svg","bully","thread-the-needle","thread-the-needle.svg"].forEach(e=>{pF[e]="/badges/achievement/matchup-icon.svg"}),pF["lucky-duck"]="/badges/achievement/season-lucky-duck.svg",pF["lucky-duck.svg"]="/badges/achievement/season-lucky-duck.svg",pF.lucky_duck="/badges/achievement/season-lucky-duck.svg",pF["season-lucky-duck"]="/badges/achievement/season-lucky-duck.svg",pF["action-king"]="/badges/achievement/season-action-king.svg",pF["action-king.svg"]="/badges/achievement/season-action-king.svg",pF.action_king="/badges/achievement/season-action-king.svg",pF["season-action-king"]="/badges/achievement/season-action-king.svg",pF["season-action-king.svg"]="/badges/achievement/season-action-king.svg";const gF={"Season Title":"Awarded to the team with the best regular season record (most wins).","Points Title":"Awarded to the team with the most total points scored in the regular season (full season weeks).","Season All-Play Title":"Awarded to the team with the best all-play win percentage across the season.","Triple Crown":"Won Season Title, Points Title, and All-Play Title in the same year.",Champion:"Playoff champion for the season.","Runner Up":"Playoff runner-up (2nd place).","3rd Place":"Playoff third-place finisher.","Heavyweight Champion":"Champion who defeated a schedule at or above the 75th percentile of difficulty.","Comeback Kid":"Champion who started 0-5 and still won the title.","Against All Odds":"Champion who had a very low luck rating (<=25th percentile).","Silverback-To-Back":"Runner-up in consecutive seasons.","Bronze Season":"Season performance ranked in the Bronze percentile tier for DPR.","Silver Season":"Season performance ranked in the Silver percentile tier for DPR.","Gold Season":"Season performance ranked in the Gold percentile tier for DPR.","Diamond Season":"Season performance ranked in the Diamond percentile tier for DPR.","The Gauntlet":"Award for sustained excellence across a difficult run of opponents.","Peak Performance":"Highest single-game score recorded by any team that season.","The Shootout":"The single matchup with the highest combined score in the season.",Massacre:"A dominant win by a large margin in a single matchup.","Firing Squad":"Awarded for achieving the highest points share in a matchup in a season.","A Small Victory":"A narrow, hard-fought win.","A Micro Victory":"A win by a very small margin.","A Nano Victory":"An extremely narrow win (fractions of a point).","Double Up":"Won twice in a single matchup window or achieved two identical outcomes in a season.","Perfectly Peaked":"Team peaked perfectly for the playoffs with ideal matchups/performance.",Bully:"Consistently large-margin wins vs weaker opponents.","Thread The Needle":"A risky lineup move that paid off dramatically in a matchup.","Lucky Duck":"Recognizes the team who had the most amount of luck in a season (highest luck rating).","Draft King":"Team with the highest combined draft pick value (best draft) for the season.","Worst Draft Pick":"The single draft selection with the largest negative return relative to expectation.","The Mastermind":"A particularly shrewd or valuable draft strategy executed by a team.","Top Draft Pick":"The single highest-valued draft pick for that roster.","Action King":"Team with the most transactions in the season year (adds/drops/trades).","Top QB Roster":"Roster with the highest combined QB value for the season.","Top RB Roster":"Roster with the highest combined RB value for the season.","Top WR Roster":"Roster with the highest combined WR value for the season.","Top TE Roster":"Roster with the highest combined TE value for the season.","Top K Roster":"Roster with the highest combined kicker value for the season.","Top DEF Roster":"Roster with the highest combined defense/special teams value for the season.","Veteran Presence":"Team/user with long-term participation in the league.","Total Wins - 25":"Reached 25 total wins across career.","Total Wins - 50":"Reached 50 total wins across career.","Total Wins - 100":"Reached 100 total wins across career.","All-Play Wins - 250":"Reached 250 all-play wins across career.","All-Play Wins - 500":"Reached 500 all-play wins across career.","All-Play Wins - 1000":"Reached 1000 all-play wins across career.","Total Points - 10000":"Accumulated 10,000 points across the team career.","The Worst":"A catastrophic season or play that earns a special blunder badge.","Trash Trifecta":"Series of poor outcomes across multiple categories in the same season.","Flawless Garbage":"Consistently poor performance with particularly bad outcomes.","Champion Drought - 5":"Has not won a championship in 5+ seasons.","Champion Drought - 10":"Has not won a championship in 10+ seasons.","Champion Drought - 15":"Has not won a championship in 15+ seasons.","The Cupcake":"Lost many games to significantly weaker opponents.","Season Worst Scores -5":"Recorded among the bottom single-game scores in a season.","Iron Season":'Consistently low variance but poor results\u2014an "iron" level season.',"Wood Season":"A lower-tier season classification for poor performance.","Clay Season":"A bottom-tier season classification for very poor performance.","Bye Week":"A season where an important week (bye) damaged season outcomes.",Heartbreaker:"Lost multiple games by extremely small margins.","The Snoozer":"Low scoring, unexciting season.","Doubled Up":"Suffered repeated losses that compound into a blunder.","True Lowlight":"A painfully bad highlight that stands out in league history.","Spoiled Goods":"Drafted players who severely underperformed relative to expectations.",Bullied:"Consistently got beaten by other teams in the league.","The Madman":"Made an unorthodox series of moves that backfired spectacularly."},yF=e=>{let{text:t,children:n}=e;return(0,G.jsx)("div",{title:t,className:"relative inline-block",children:n})},vF=e=>{var n;let{badge:r,count:a=1,years:s=[]}=e;const o=r.displayName||r.name||r.id,i=(r.metadata&&r.metadata.pick&&"Pick: ".concat(r.metadata.pick.overall_pick||r.metadata.pick.pick_no||""),r.accent||"blue"),l=mF[i]||mF.blue,c=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),u=c(r.displayName||o),d=c(r.id||""),h=new Set;[u,d].forEach(e=>{e&&(h.add(e),h.add(e.replace(/-/g,"_")),h.add(e.replace(/-/g,"")),h.add(e.replace(/_/g,"-")))});const f=Array.from(h).filter(e=>e&&-1!==e.indexOf(u)),m=Array.from(h).filter(e=>e&&-1!==e.indexOf(d)&&e!==u),p=[];"matchup-icon"===r.icon&&p.push("/badges/achievement/matchup-icon.svg"),p.push(...f.flatMap(e=>["/badges/".concat(e,".svg"),"/badges/".concat(e,".png"),"/badges/achievement/".concat(e,".svg"),"/badges/achievement/".concat(e,".png")])),p.push(...m.flatMap(e=>["/badges/".concat(e,".svg"),"/badges/".concat(e,".png"),"/badges/achievement/".concat(e,".svg"),"/badges/achievement/".concat(e,".png")]));const g=c(r.displayName||o),y=pF[g]||null,v=t.useMemo(()=>y?"".concat(y).concat(-1===y.indexOf("?")?"?":"&","cb=").concat(Date.now()):null,[y,r.id,r.displayName]);let x=!1;try{const e="undefined"!==typeof window&&window.location&&window.location.search;x=!(!e||-1===e.indexOf("badgeDebug=1")),x&&console.debug("Badge candidateSources for",r.displayName||r.id,p)}catch(j){}const b={backgroundColor:l.bg,border:"4px solid ".concat(l.border),color:l.icon,width:80,height:80},[w,S]=t.useState([]);t.useEffect(()=>{S([])},[r.id,r.displayName]);const k=(()=>{if(v&&!w.includes(v))return v;if(y&&!w.includes(y))return y;for(let e=0;e<p.length;e++){const t=p[e];if(!w.includes(t))return t}return null})();encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">\n            <circle cx="32" cy="28" r="20" fill="#e6b800" stroke="#2563eb" stroke-width="4" />\n            <text x="32" y="36" font-size="12" text-anchor="middle" fill="#fff" font-family="Arial">BR</text>\n        </svg>'),c(r.displayName||o);return(0,G.jsx)(yF,{text:r.description||(null===(n=r.metadata)||void 0===n?void 0:n.description)||o,children:(0,G.jsxs)("div",{className:"relative flex flex-col items-center text-center p-2",children:[a>1&&(0,G.jsxs)("div",{className:"absolute -top-1 -right-1 px-2 py-0.5 bg-gray-800 text-white text-xs rounded",children:["x",a]}),k?(0,G.jsxs)("div",{style:{backgroundColor:"transparent",width:80,height:80,position:"relative"},className:"rounded-full overflow-hidden",children:[(0,G.jsx)("img",{src:k,alt:o,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},onLoad:e=>{try{console.debug("Badge image loaded:",k)}catch(j){}},onError:e=>{e.target.onerror=null,(e=>{try{console.debug("Badge image failed to load:",e)}catch(j){}S(t=>t.concat([e]))})(k)}}),(0,G.jsx)("div",{style:{position:"absolute",inset:0,borderRadius:"9999px",border:"4px solid ".concat(l.border),boxSizing:"border-box",pointerEvents:"none"}})]}):(0,G.jsx)("div",{style:b,className:"rounded-full flex items-center justify-center",children:(0,G.jsx)("div",{style:{color:l.icon,fontSize:28},children:r.icon&&!r.icon.startsWith("/")?r.icon:"\ud83c\udfc6"})}),x&&(0,G.jsxs)("div",{className:"mt-2 text-xs text-left text-red-600 bg-white bg-opacity-80 px-2 py-1 rounded max-w-xs break-words",children:[(0,G.jsx)("div",{className:"font-semibold",children:"Attempting:"}),(0,G.jsx)("div",{className:"text-xs text-gray-700",children:k||"none"}),(0,G.jsx)("div",{className:"mt-1 font-semibold",children:"Candidates:"}),(0,G.jsx)("div",{className:"text-xs text-gray-600",children:p.join(", ")})]}),(0,G.jsx)("div",{className:"mt-2 text-sm font-semibold text-gray-800",children:o}),s&&s.length>0&&(0,G.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:s.join(", ")})]})})},xF=e=>{let{title:t}=e;return(0,G.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-md mb-4",children:(0,G.jsx)("h3",{className:"text-lg font-semibold",children:t})})},bF=()=>{var e,n;const r=X(),{historicalData:a,usersData:s,getTeamName:o,getTeamDetails:i,processedSeasonalRecords:l,careerDPRData:c,badgesByTeam:u,recentBadges:d,currentSeason:h}=r||{},[f,m]=(0,t.useState)("overview"),[p,g]=(0,t.useState)(!1),y=t.useMemo(()=>{try{if(!h||!l)return!1;const e=l[h]||{};return Object.values(e).some(e=>!!e.isChampion)}catch(PF){return!1}},[h,l]),v=(0,t.useMemo)(()=>{const e=[{key:"overview",label:"Overview"}];return s&&Array.isArray(s)&&s.forEach(t=>{var n;const r=(null===(n=t.metadata)||void 0===n?void 0:n.team_name)||t.display_name||"User ".concat(t.user_id);e.push({key:t.user_id,label:r})}),e},[a,s]);return(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Achievements"}),(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Trophy Room, Champion badges, Season badges, Matchup badges, Draft & Transaction badges, Roster badges, League badges and Blunders."})]}),(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("label",{htmlFor:"team-select",className:"text-sm text-gray-600",children:"View:"}),(0,G.jsx)("select",{id:"team-select",value:f,onChange:e=>{m(e.target.value)},className:"px-3 py-2 border rounded-md bg-white",children:v.map(e=>(0,G.jsx)("option",{value:e.key,children:e.label},e.key))}),(0,G.jsx)("button",{onClick:()=>g(e=>!e),className:"ml-3 px-3 py-2 bg-gray-100 border rounded-md text-sm","aria-pressed":p,children:p?"Hide full catalog":"Show all badges"})]})]}),f&&"overview"!==f&&(0,G.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-md border border-gray-100 flex items-center gap-4",children:[(0,G.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:(0,G.jsx)("img",{src:i?null===(e=i(f))||void 0===e?void 0:e.avatar:"",alt:"avatar",className:"w-full h-full object-cover"})}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:i?null===(n=i(f))||void 0===n?void 0:n.name:"Team"}),(()=>{const e=u&&u[f]||[],t=e.filter(e=>"blunder"!==e.category).length,n=e.filter(e=>"blunder"===e.category).length;return(0,G.jsxs)("div",{className:"text-sm text-gray-500",children:["Badge Count: ",t," \u2022 Blunders: ",n]})})()]})]}),"overview"===f&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(xF,{title:"Overview: Team Achievements Heatmap"}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:(()=>{const e=Object.keys(u||{});if(0===e.length)return(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No team badge data available for overview."});const t=e.map(e=>{var t;const n=u[e]||[],r=n.filter(e=>"blunder"!==e.category).length,a=n.filter(e=>"blunder"===e.category).length;return{ownerId:e,name:i?null===(t=i(e))||void 0===t?void 0:t.name:e,achievements:r,blunders:a}}),n=t.reduce((e,t)=>Math.max(e,t.achievements),0)||1,r=t.reduce((e,t)=>Math.max(e,t.blunders),0)||1;return t.map(e=>{const t=e.achievements/n,a=e.blunders/r,s=Math.min(.95,.15+.85*t),o=Math.min(.95,.15+.85*a);return(0,G.jsxs)("div",{className:"p-3 rounded-md border border-gray-100 bg-white",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsx)("div",{className:"text-sm font-medium truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["A: ",e.achievements," \u2022 B: ",e.blunders]})]}),(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"w-full h-3 rounded-md bg-gray-200 overflow-hidden",children:(0,G.jsx)("div",{style:{width:"".concat(Math.round(100*t),"%"),backgroundColor:"rgba(16,185,129, ".concat(s,")"),height:"100%"}})}),(0,G.jsx)("div",{className:"w-full h-3 rounded-md bg-gray-200 overflow-hidden",children:(0,G.jsx)("div",{style:{width:"".concat(Math.round(100*a),"%"),backgroundColor:"rgba(239,68,68, ".concat(o,")"),height:"100%"}})})]})]},e.ownerId)})})()}),(0,G.jsx)(xF,{title:"Recently Earned Badges"}),(0,G.jsx)("div",{className:"mb-6",children:d&&d.length>0?(0,G.jsx)("div",{className:"space-y-2",children:d.slice(0,8).map((e,t)=>{const n=e.year===Number(h)||e.year===h,r="champion"===e.category||"season"===e.category||"season-tier"===e.category;return n&&r&&!y?null:(0,G.jsx)(vF,{badge:e},t)})}):(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No recent badges"})}),(0,G.jsx)(xF,{title:"Badge Catalog (icons & descriptions)"}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:["Season Title","Points Title","Season All-Play Title","Triple Crown","Champion","Runner Up","3rd Place","Bronze Season","Silver Season","Gold Season","Diamond Season","Peak Performance","The Shootout","Massacre","Firing Squad","A Small Victory","A Micro Victory","A Nano Victory","Double Up","Draft King","Worst Draft Pick","Action King","Season Transactions","Lucky Duck"].map(e=>{const t=String(e).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),n=pF[t]||pF[t+".svg"]||null,r=Date.now(),a=n?"".concat(n).concat(-1===n.indexOf("?")?"?":"&","cb=").concat(r):"/badges/achievement/".concat(t,".svg?cb=").concat(r),s=gF&&gF[e]?gF[e]:"";return(0,G.jsxs)("div",{className:"p-3 rounded-md border border-gray-100 bg-white text-center",children:[(0,G.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,G.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden relative mx-auto",children:(0,G.jsx)("img",{src:a,alt:e,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="/badges/default.svg"}})})}),(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:e}),(0,G.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:s})]},t)})})]}),("overview"!==f||p)&&(()=>{if(!f||"overview"===f)return null;const e=u&&u[f]||[];if(!e||0===e.length)return(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No badges found for this team."});const n=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g," ").trim(),r=e=>new Set((e||[]).map(e=>n(e))),a=[{title:"Trophy Room",set:r(["Playoff 1st","Champion","Playoff 2nd","Runner Up","Playoff 3rd","3rd Place","Points 1st","Top Scoring","Points 2nd","2nd Scoring","Points 3rd","3rd Scoring"])},{title:"Champion Badges",set:r(["Season Title","Points Title","Season All-Play Title","Triple Crown","Champion","Heavyweight Champion","Comeback Kid","Against All Odds","Draft King","Silverback-To-Back","Lucky Duck"])},{title:"Season Badges",set:r(["Bronze Season","Silver Season","Gold Season","Diamond Season","The Gauntlet","Season Top-Half Scoring - 75%","Lucky Duck","Action King"])},{title:"Matchup Badges",set:r(["Peak Performance","The Shootout","Massacre","Firing Squad","A Small Victory","A Micro Victory","A Nano Victory","Double Up","Perfectly Peaked","Bully","Thread The Needle"])},{title:"Draft & Transaction Badges",set:r(["The Mastermind","Top Draft Pick","Top QB Draft","Top RB Draft","Top WR Draft","Top TE Draft","Top K Draft","Top DEF Draft","Draft King","Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst K Draft","Worst DL Draft","Worst DB Draft","Worst LB Draft","Worst WR Draft","Worst TE Draft"])},{title:"Roster Badges",set:r(["Top QB Roster","Top RB Roster","Top WR Roster","Top TE Roster","Top K Roster","Top DEF Roster"])},{title:"League Badges",set:r(["Veteran Presence","Total Wins - 25","Total Wins - 50","All-Play Wins - 250","All-Play Wins - 500","Total Points - 10000","All-Play Wins - 1000","Total Wins - 100"])},{title:"Blunders",set:r(["The Worst","Trash Trifecta","Flawless Garbage","Champion Drought - 5","Champion Drought - 10","Champion Drought - 15","The Cupcake","Season Worst Scores -5","Iron Season","Wood Season","Clay Season","Season Bottom-Half Scoring - 75%","Bye Week","Heartbreaker","The Snoozer","Doubled Up","True Lowlight","Spoiled Goods","Bullied","The Madman","Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst K Draft","Worst DL Draft","Worst DB Draft","Worst LB Draft","Worst WR Draft","Worst TE Draft","Worst QB Roster","Worst RB Roster","Worst WR Roster","Worst TE Roster","Worst K Roster","Worst DEF Roster","Worst DL Roster","Worst LB Roster","Worst DB Roster"])},{title:"League Blunders",set:r(["Total Losses - 25","Total Losses - 50","Total Losses - 100","All-Play Losses - 250","All-Play Losses - 500","All-Play Losses - 1000","Total Opponent Points - 10000"])}];let s=Array.from(e);const o=[];if(a.forEach(e=>{const r=e.set,a=s.filter(e=>r.has(n(e.displayName)));if(!a||0===a.length)return;const i={};a.forEach(e=>{const t=e.displayName||e.name||e.id;i[t]=i[t]||{badge:e,years:[],count:0},i[t].count+=1;const n=(e=>{if(!e)return"";const t=e.year?String(e.year):"",n=e.metadata&&(e.metadata.week||0===e.metadata.week)?e.metadata.week:e.week||null;return n?"".concat(t," W").concat(n):t})(e);n&&i[t].years.push(n)}),o.push((0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)(xF,{title:e.title}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:Object.keys(i).map(e=>{var t;const n=i[e];return n.badge.description||(n.badge.description=gF[n.badge.displayName]||(null===(t=n.badge.metadata)||void 0===t?void 0:t.description)||n.badge.displayName),(0,G.jsx)(vF,{badge:n.badge,count:n.count,years:Array.from(new Set(n.years))},e)})})]},e.title));const l=new Set(a.map(e=>e.id||"".concat(e.displayName,"-").concat(e.year||"","-").concat(Math.random())));s=s.filter(e=>!l.has(e.id))}),p&&s.length>0){const e={},n=e=>{if(!e)return"";const t=e.year?String(e.year):"",n=e.metadata&&(e.metadata.week||0===e.metadata.week)?e.metadata.week:e.week||null;return n?"".concat(t," W").concat(n):t};s.forEach(t=>{const r=t.displayName||t.name||t.id;e[r]=e[r]||{badge:t,years:[],count:0},e[r].count+=1;const a=n(t);a&&e[r].years.push(a)}),o.push((0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)(xF,{title:"Other Badges"}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:Object.keys(e).map(t=>{var n;const r=e[t];return r.badge.description||(r.badge.description=gF[r.badge.displayName]||(null===(n=r.badge.metadata)||void 0===n?void 0:n.description)||r.badge.displayName),(0,G.jsx)(vF,{badge:r.badge,count:r.count,years:Array.from(new Set(r.years))},t)})})]},"other"))}return(0,G.jsx)(G.Fragment,{children:o})})()]})};function wF(e){let{handleTabClick:t,handleSubTabClick:n,openSubMenu:r,toggleSubMenu:a,NAV_CATEGORIES:s}=e;return(0,G.jsxs)("ul",{className:"hidden md:flex md:flex-row md:justify-center py-2",children:[(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t(s.HOME.tab),children:s.HOME.label}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("games"),children:["Games ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"games"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.GAMECENTER.tab)},children:s.GAMECENTER.label}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.SPORTSBOOK.tab)},children:s.SPORTSBOOK.label}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.HEAD_TO_HEAD.tab)},children:s.HEAD_TO_HEAD.label})]})]}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("league"),children:["League ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"league"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-56 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("hallOfChampions")},children:"Hall of Champions"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("keepers")},children:"Keepers"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("leagueHistory")},children:"League History"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("recordBook")},children:"Record Book"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("seasonBreakdown")},children:"Season Breakdown"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("financials")},children:"Finances"})]})]}),(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t("teamsOverview"),children:"Teams"}),(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t("achievements"),children:"Achievements"}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("analysis"),children:["Analysis ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"analysis"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("draftAnalysis")},children:"Draft"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("dprAnalysis")},children:"DPR Analysis"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("luckRating")},children:"Luck Rating"})]})]})]})}const SF={HOME:{label:"Dashboard",tab:"dashboard"},GAMECENTER:{label:"Gamecenter",tab:"gamecenter"},SPORTSBOOK:{label:"Sportsbook",tab:"sportsbook"},HEAD_TO_HEAD:{label:"Head-to-Head",tab:"headToHead"},LEAGUE_DATA:{label:"League Data",subTabs:[{label:"League History",tab:"leagueHistory"},{label:"Hall of Champions",tab:"hallOfChampions"},{label:"Keepers",tab:"keepers"},{label:"Record Book",tab:"recordBook"},{label:"Head-to-Head",tab:"headToHead"},{label:"DPR Analysis",tab:"dprAnalysis"},{label:"Luck Rating",tab:"luckRating"}]},TEAMS:{label:"Teams",tab:"teamsOverview"},SEASON_BREAKDOWN:{label:"Season Breakdown",tab:"seasonBreakdown"},DRAFT:{label:"Draft",tab:"draftAnalysis"},FINANCIALS:{label:"Financials",tab:"financials"},ACHIEVEMENTS:{label:"Achievements",tab:"achievements"}},kF={HOME:"dashboard",GAMECENTER:"gamecenter",SPORTSBOOK:"sportsbook",LEAGUE_HISTORY:"leagueHistory",HALL_OF_CHAMPIONS:"hallOfChampions",RECORD_BOOK:"recordBook",HEAD_TO_HEAD:"headToHead",DPR_ANALYSIS:"dprAnalysis",LUCK_RATING:"luckRating",TEAMS_OVERVIEW:"teamsOverview",TEAMS:"teams",ROSTER:"roster",FINANCIALS:"financials",TRANSACTIONS:"transactions",SEASON_BREAKDOWN:"seasonBreakdown",DRAFT_ANALYSIS:"draftAnalysis",KEEPERS:"keepers",ACHIEVEMENTS:"achievements"},jF=()=>{const{loading:e,error:n,historicalData:r,usersData:s}=X(),[o,i]=(0,t.useState)(kF.HOME),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[y,v]=(0,t.useState)([]);(0,t.useEffect)(()=>{let t;return e?t=setTimeout(()=>{m(!0)},15e3):m(!1),()=>{t&&clearTimeout(t)}},[e]),(0,t.useEffect)(()=>{if(e){const e=a[Math.floor(Math.random()*a.length)];k(e)}else k("")},[e]),(0,t.useEffect)(()=>{const e={tab:o,selectedTeamName:p};window.history.replaceState(e,"",window.location.pathname);const t=e=>{h.A.debug("Pop state event:",e.state),e.state?(i(e.state.tab||kF.DASHBOARD),g(e.state.selectedTeamName||""),v(e=>e.slice(0,-1))):(i(kF.DASHBOARD),g(""),v([]))};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]);const x=(0,t.useCallback)((e,t)=>{if(!e||!t)return"Unknown Champion";const n=t.find(t=>t.user_id===e);if(n){var r;return(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name}return"Unknown Champion"},[s]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)("");(0,t.useEffect)(()=>{const t=null===r||void 0===r?void 0:r.rostersBySeason;if(!e&&!n&&r&&s&&t){if(r.seasonAwardsSummary||r.awardsSummary||r.winnersBracketBySeason){let e=[],n=!1;const a=new Set;r.seasonAwardsSummary&&Object.keys(r.seasonAwardsSummary).forEach(e=>a.add(Number(e))),r.awardsSummary&&Object.keys(r.awardsSummary).forEach(e=>a.add(Number(e))),r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).forEach(e=>a.add(Number(e)));const o=Array.from(a).sort((e,t)=>t-e);for(const i of o){if(r.winnersBracketBySeason&&r.winnersBracketBySeason[i]){const a=r.winnersBracketBySeason[i],o=a.find(e=>1===e.p&&e.w);let l=a.find(e=>2===e.p&&e.w);if(l||(l=a.find(e=>3===e.p&&e.w)),l||(l=a.find(e=>e.w&&e.p>1&&e.p<=3)),o&&t[i]){const r=e=>{const n=t[i].find(t=>String(t.roster_id)===String(e));return n&&n.owner_id?x(n.owner_id,s):null},a=r(o.w),c=r(o.l),u=l?r(l.w):null;if(a){e=[{place:1,name:a,emoji:"\ud83e\udd47"},...c?[{place:2,name:c,emoji:"\ud83e\udd48"}]:[],...u?[{place:3,name:u,emoji:"\ud83e\udd49"}]:[]],n=!0;break}}}if(!n){let t="";if(r.seasonAwardsSummary&&r.seasonAwardsSummary[i]){const e=r.seasonAwardsSummary[i];e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()&&(t=e.champion.trim())}if(!t&&r.awardsSummary&&r.awardsSummary[i]){const e=r.awardsSummary[i],n=e.champion||e.Champion;n&&"N/A"!==n&&""!==String(n).trim()&&(t=String(n).trim())}if(t){const r=x(t,s);e=[{place:1,name:"Unknown Champion"!==r?r:t,emoji:"\ud83e\udd47"}],n=!0;break}}}w(e)}}},[e,n,r,s,x]);const j=e=>{i(e),c(!1),d(null)},_=e=>{d(u===e?null:e)},N=()=>{window.location.reload()},P=e=>{const t={tab:o,selectedTeamName:p};window.history.pushState(t,"",window.location.pathname),v(e=>[...e,{tab:o,teamName:p}]),g(e),i(kF.TEAMS_OVERVIEW),c(!1),d(null);const n={tab:kF.TEAMS_OVERVIEW,selectedTeamName:e};window.history.pushState(n,"",window.location.pathname)};return(0,G.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col font-inter overflow-x-hidden",children:[(0,G.jsx)("header",{className:"bg-gray-800 text-white shadow-md safe-area-top relative",children:(0,G.jsxs)("div",{className:"flex items-center justify-between px-4 py-1 md:px-6 md:py-2 max-w-6xl w-full mx-auto",children:[(0,G.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 md:h-24 md:w-24 mr-2 md:mr-4 object-contain flex-shrink-0 transition-all duration-200"}),(0,G.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,G.jsxs)("h1",{className:"text-sm sm:text-base md:text-2xl font-bold truncate",children:[(0,G.jsx)("span",{className:"sm:hidden",children:"TLOED"}),(0,G.jsx)("span",{className:"hidden sm:inline",children:"The League of Extraordinary Douchebags"})]}),b.length>0&&(0,G.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 mt-1",children:b.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(1===e.place?"Champion":2===e.place?"Runner-up":"3rd Place"),children:[(0,G.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.emoji}),(0,G.jsx)("span",{className:"font-medium text-white text-xs sm:text-sm md:text-base max-w-16 sm:max-w-24 md:max-w-none truncate",children:e.name})]},t))})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[y.length>0&&(0,G.jsx)("button",{className:"text-white text-xl touch-friendly flex items-center justify-center hover:text-gray-300",onClick:()=>{window.history.back(),y.length>0&&v(e=>e.slice(0,-1))},"aria-label":"Go back to previous page",title:"Go back",children:"\u2190"}),(0,G.jsx)("button",{className:"md:hidden text-white text-2xl touch-friendly flex items-center justify-center",onClick:()=>{c(!l)},"aria-label":l?"Close navigation menu":"Open navigation menu",children:l?"\u2715":"\u2630"})]})]})}),(0,G.jsx)("nav",{className:"bg-gray-700 text-white shadow-lg transition-all duration-300 md:block relative z-50 ".concat(l?"block max-h-screen":"hidden max-h-0"," md:max-h-none"),children:(0,G.jsxs)("div",{className:"max-w-6xl w-full mx-auto",children:[(0,G.jsxs)("ul",{className:"md:hidden flex flex-col",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j(SF.HOME.tab),children:(0,G.jsxs)("span",{className:"text-base font-medium",children:["\ud83c\udfe0 ",SF.HOME.label]})})}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("games"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfae Games"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("games"===u?"rotate-180":""),children:"\u25bc"})]}),"games"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(SF.GAMECENTER.tab)},children:SF.GAMECENTER.label})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(SF.SPORTSBOOK.tab)},children:SF.SPORTSBOOK.label})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(SF.HEAD_TO_HEAD.tab)},children:SF.HEAD_TO_HEAD.label})})]})]}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("league"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfc6 League"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("league"===u?"rotate-180":""),children:"\u25bc"})]}),"league"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("hallOfChampions")},children:"Hall of Champions"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("keepers")},children:"Keepers"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("leagueHistory")},children:"League History"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("recordBook")},children:"Record Book"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("seasonBreakdown")},children:"Season Breakdown"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("financials")},children:"Finances"})})]})]}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j("achievements"),children:(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfc6 Achievements"})})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j(SF.TEAMS.tab),children:(0,G.jsxs)("span",{className:"text-base font-medium",children:["\ufffd ",SF.TEAMS.label]})})}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("analysis"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83d\udcca Analysis"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("analysis"===u?"rotate-180":""),children:"\u25bc"})]}),"analysis"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("draftAnalysis")},children:"Draft"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("dprAnalysis")},children:"DPR Analysis"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("luckRating")},children:"Luck Rating"})})]})]})]}),(0,G.jsx)(wF,{handleTabClick:j,handleSubTabClick:e=>{i(e),c(!1),d(null)},openSubMenu:u,toggleSubMenu:_,NAV_CATEGORIES:SF})]})}),(0,G.jsx)("main",{className:"flex-grow w-full max-w-6xl mx-auto p-3 sm:p-4 md:p-6 safe-area-bottom",children:(0,G.jsx)("div",{className:"mobile-scroll",children:(()=>{if(e)return(0,G.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:[(0,G.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md max-w-md w-full mx-4",children:[(0,G.jsxs)("div",{className:"mb-6",children:[(0,G.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 mx-auto mb-4 object-contain"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-white mb-2",children:"Loading Sleeper fantasy data..."})]}),(0,G.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-4 overflow-hidden",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full animate-progress shadow-sm"})}),S&&(0,G.jsx)("div",{className:"text-sm text-gray-200 italic mb-4",children:S}),f&&(0,G.jsxs)("div",{className:"bg-yellow-600 text-yellow-100 p-4 rounded-lg border border-yellow-500 mb-4",children:[(0,G.jsxs)("div",{className:"flex items-center mb-2",children:[(0,G.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,G.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,G.jsx)("span",{className:"font-semibold",children:"Taking longer than usual?"})]}),(0,G.jsx)("p",{className:"text-sm mb-3",children:"If the app seems stuck loading, try refreshing the page. The Sleeper API might be experiencing delays."}),(0,G.jsx)("button",{onClick:N,className:"bg-yellow-500 hover:bg-yellow-400 text-yellow-900 px-4 py-2 rounded font-medium text-sm transition-colors duration-200",children:"Refresh Page"})]})]}),(0,G.jsx)("style",{jsx:!0,children:"\n                        @keyframes progress {\n                            0% {\n                                width: 0%;\n                                transform: translateX(-100%);\n                            }\n                            50% {\n                                width: 100%;\n                                transform: translateX(0%);\n                            }\n                            100% {\n                                width: 100%;\n                                transform: translateX(100%);\n                            }\n                        }\n                        .animate-progress {\n                            animation: progress 2s ease-in-out infinite;\n                        }\n                    "})]});if(n)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load historical data: ",n.message||String(n)]}),(0,G.jsx)("p",{className:"text-sm mt-2",children:"Please check your internet connection or the Sleeper API configuration in `config.js` and `sleeperApi.js`."})]})});const t=r&&r.matchupsBySeason?Object.values(r.matchupsBySeason).flat():[];switch(o){case kF.DASHBOARD:return(0,G.jsx)(CB,{});case kF.GAMECENTER:return(0,G.jsx)(BB,{});case kF.SPORTSBOOK:return(0,G.jsx)(dF,{});case kF.LEAGUE_HISTORY:return(0,G.jsx)(Hx,{onTeamNameClick:P});case kF.HALL_OF_CHAMPIONS:return(0,G.jsx)(LB,{onTeamNameClick:P});case kF.RECORD_BOOK:return(0,G.jsx)(rD,{historicalMatchups:t,onTeamNameClick:P});case kF.HEAD_TO_HEAD:return(0,G.jsx)(yM,{historicalMatchups:t,getDisplayTeamName:x,onTeamNameClick:P});case kF.DPR_ANALYSIS:return(0,G.jsx)(pD,{onTeamNameClick:P});case kF.LUCK_RATING:return(0,G.jsx)(gD,{onTeamNameClick:P});case kF.KEEPERS:return(0,G.jsx)(fF,{});case kF.TEAMS_OVERVIEW:return(0,G.jsx)(DB,{selectedTeamName:p});case kF.FINANCIALS:return(0,G.jsx)(TB,{});case kF.SEASON_BREAKDOWN:return(0,G.jsx)(MB,{});case kF.DRAFT_ANALYSIS:return(0,G.jsx)(RB,{});case kF.ACHIEVEMENTS:return(0,G.jsx)(bF,{});default:return(0,G.jsx)(CB,{})}})()})})]})},_F=()=>(0,G.jsx)(Q,{children:(0,G.jsx)(jF,{})}),NF=document.getElementById("root");r.createRoot(NF).render((0,G.jsx)(t.StrictMode,{children:(0,G.jsx)(_F,{})}))})()})();
//# sourceMappingURL=main.66040ca8.js.map