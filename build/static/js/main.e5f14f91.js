/*! For license information please see main.e5f14f91.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,o,i].join("|")+")"+c+l+")*"),d="(?:"+[s+r+"?",r,o,i,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,s,o,i){var l=-1,c=t.length;for(s||(s=a),i||(i=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,i):r(i,u):o||(i[i.length]=u)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),s=n(9841),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},891:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2021-champion.34e6429006ec20666e61.jpg"},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),s=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),s=n(6832),o=s&&s.isTypedArray,i=o?a(o):r;e.exports=i},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),a(e,function(e,a,s){r(n,a,t(e,a,s))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),s=n(2761),o=Function.prototype,i=Object.prototype,l=o.toString,c=i.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),s=n(9140),o=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var l=null==n?0:s(n);return l<0&&(l=o(i+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),s=n(9096),o=n(8883),i=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(s));var m=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return i(m,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2714:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2022-champion.89c19b30c0f504290fe9.jpg"},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function p(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(m,e)&&(h.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),P=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case j:return"Portal";case k:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Se=null,Ne=null;function ke(e){if(e=xa(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function _e(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Ee(){}var Oe=!1;function Ie(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ae(e,t,n)}finally{Oe=!1,(null!==Se||null!==Ne)&&(Ee(),Pe())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ce=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ce=!1}function De(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Be=null,We={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,a,s,o,i,l){Re=!1,Le=null,De.apply(We,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=dt(i):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~a)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,St,Nt,kt,_t=!1,Pt=[],At=null,Et=null,Ot=null,It=new Map,Tt=new Map,Ct=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Wt(){_t=!1,null!==At&&Ft(At)&&(At=null),null!==Et&&Ft(Et)&&(Et=null),null!==Ot&&Ft(Ot)&&(Ot=null),It.forEach(Bt),Tt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Et&&Ut(Et,e),null!==Ot&&Ut(Ot,e),It.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ct.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function qt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function Kt(e,t,n,r){if(Ht){var a=Qt(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return At=Rt(At,e,t,n,r,a),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,a),!0;case"mouseover":return Ot=Rt(Ot,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return It.set(s,Rt(It.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Rt(Tt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=va(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),mn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(mn),pn=an(L({},mn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Nn}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(_n),An=an(L({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(In),Cn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Dn,Ln=u&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Ie(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function kr(e){if(Sr[e])return Sr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var _r=kr("animationend"),Pr=kr("animationiteration"),Ar=kr("animationstart"),Er=kr("transitionend"),Or=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Or.set(e,t),l(t,[e])}for(var Cr=0;Cr<Ir.length;Cr++){var Mr=Ir[Cr];Tr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Tr(_r,"onAnimationEnd"),Tr(Pr,"onAnimationIteration"),Tr(Ar,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Wr(t,!1,e),Wr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=va(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Ie(function(){var r=s,a=we(n),o=[];e:{var i=Or.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case _r:case Pr:case Ar:l=yn;break;case Er:l=On;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var m,f=r;null!==f;){var p=(m=f).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=Te(f,h))&&u.push(Gr(f,p,m)))),d)break;f=f.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,p="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?i:ba(l),m=null==c?i:ba(c),(i=new u(p,f+"leave",l,n,a)).target=d,i.relatedTarget=m,p=null,va(a)===r&&((u=new u(h,f+"enter",c,n,a)).target=m,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,f=0,m=u=l;m;m=Kr(m))f++;for(m=0,p=h;p;p=Kr(p))m++;for(;0<f-m;)u=Kr(u),f--;for(;0<m-f;)h=Kr(h),m--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,i,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Hn(i))if($n)g=or;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?ba(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,a)}var v;if(Mn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Wn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,zn=!0)),0<(y=qr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Wn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Fr(o,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=Te(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Te(n,s))&&o.unshift(Gr(n,l,i)):a||null!=(l=Te(n,s))&&o.push(Gr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,ma="__reactProps$"+da,fa="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ma]||null}var ja=[],Sa=-1;function Na(e){return{current:e}}function ka(e){0>Sa||(e.current=ja[Sa],ja[Sa]=null,Sa--)}function _a(e,t){Sa++,ja[Sa]=e.current,e.current=t}var Pa={},Aa=Na(Pa),Ea=Na(!1),Oa=Pa;function Ia(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ca(){ka(Ea),ka(Aa)}function Ma(e,t,n){if(Aa.current!==Pa)throw Error(s(168));_a(Aa,t),_a(Ea,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Oa=Aa.current,_a(Aa,e),_a(Ea,Ea.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,ka(Ea),ka(Aa),_a(Aa,e)):ka(Ea),_a(Ea,n)}var Fa=null,Ba=!1,Wa=!1;function Ua(e){null===Fa?Fa=[e]:Fa.push(e)}function za(){if(!Wa&&null!==Fa){Wa=!0;var e=0,t=xt;try{var n=Fa;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,za),a}finally{xt=t,Wa=!1}}return null}var Va=[],Ha=0,Ga=null,qa=0,Ka=[],Ya=0,Qa=null,Xa=1,$a="";function Ja(e,t){Va[Ha++]=qa,Va[Ha++]=Ga,Ga=e,qa=t}function Za(e,t,n){Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Qa=e;var r=Xa;e=$a;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,$a=s+e}else Xa=1<<s|n<<a|r,$a=e}function es(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ts(e){for(;e===Ga;)Ga=Va[--Ha],Va[Ha]=null,qa=Va[--Ha],Va[Ha]=null;for(;e===Qa;)Qa=Ka[--Ya],Ka[Ya]=null,$a=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Xa,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function ms(){rs=ns=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ps=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case T:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function p(a,s,i,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=m(a,d,i[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=o(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===i.length)return n(a,d),as&&Ja(a,p),c;if(null===d){for(;p<i.length;p++)null!==(d=h(a,i[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&Ja(a,p),c}for(d=r(a,d);p<i.length;p++)null!==(g=f(d,a,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Ja(a,p),c}function g(a,i,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=i,g=i=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var x=m(a,p,v.value,c);if(null===x){null===p&&(p=y);break}e&&p&&null===x.alternate&&t(a,p),i=o(x,i,g),null===d?u=x:d.sibling=x,d=x,p=y}if(v.done)return n(a,p),as&&Ja(a,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return as&&Ja(a,g),u}for(p=r(a,p);!v.done;g++,v=l.next())null!==(v=f(p,a,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),as&&Ja(a,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&vs(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Dc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return i(r);case j:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return i(r);case T:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(D(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Lc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),js=Na(null),Ss=null,Ns=null,ks=null;function _s(){ks=Ns=Ss=null}function Ps(e){var t=js.current;ka(js),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){Ss=e,ks=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===Ss)throw Error(s(308));Ns=e,Ss.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Is=null;function Ts(e){null===Is?Is=[e]:Is.push(e)}function Cs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ts(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ms(e,n)}return null===(a=r.interleaved)?(t.next=t,Ts(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ms(e,n)}function Ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,m=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(h=t,m=n,p.tag){case 1:if("function"===typeof(f=p.payload)){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=p.payload)?f.call(m,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Ds=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Gs=Na(Hs),qs=Na(Hs),Ks=Na(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(_a(Ks,t),_a(qs,e),_a(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Gs),_a(Gs,t)}function Xs(){ka(Gs),ka(qs),ka(Ks)}function $s(e){Ys(Ks.current);var t=Ys(Gs.current),n=le(t,e.type);t!==n&&(_a(qs,e),_a(Gs,n))}function Js(e){qs.current===e&&(ka(Gs),ka(qs))}var Zs=Na(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,mo=0;function fo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,a)}while(uo)}if(ro.current=Jo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=io,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(xi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function No(e,t){var n=oo,r=xo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,xi=!0),r=r.queue,Ro(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,_o.bind(null,n,r,a,t),void 0,null),null===El)throw Error(s(349));0!==(30&so)||ko(n,t,a)}return a}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Eo(e)}function Po(e,t,n){return n(function(){Ao(t)&&Eo(e)})}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Eo(e){var t=Ms(e,1);null!==t&&nc(t,e,1,-1)}function Oo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return xo().memoizedState}function Co(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var a=xo();r=void 0===r?null:r;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(a.memoizedState=Io(t,n,s,r))}oo.flags|=e,a.memoizedState=Io(1|t,n,s,r)}function Do(e,t){return Co(8390656,8,e,t)}function Ro(e,t){return Mo(2048,8,e,t)}function Lo(e,t){return Mo(4,2,e,t)}function Fo(e,t){return Mo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Bo.bind(null,t,e),n)}function Uo(){}function zo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Go(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function qo(){return xo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Cs(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ts(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Cs(e,t,a,r))&&(nc(n,e,r,a=ec()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Os,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Os,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Co(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Oo,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Go.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===El)throw Error(s(349));0!==(30&so)||ko(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Do(Po.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,_o.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=El.identifierPrefix;if(as){var n=$a;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Os,useCallback:zo,useContext:Os,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Vo,useReducer:wo,useRef:To,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(xo(),io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:No,useId:qo,unstable_isNewReconciler:!1},ti={readContext:Os,useCallback:zo,useContext:Os,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Vo,useReducer:jo,useRef:To,useState:function(){return jo(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[jo(bo)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:No,useId:qo,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bs(e,a,r))&&(nc(t,e,r,n),Ws(t,e,r))}};function si(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function oi(e,t,n){var r=!1,a=Pa,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(a=Ta(t)?Oa:Aa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ia(e,a):Pa),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Os(s):(s=Ta(t)?Oa:Aa.current,a.context=Ia(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),zs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),di(0,t)},n}function fi(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=b.ReactCurrentOwner,xi=!1;function bi(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wi(e,t,n,r,a){n=n.render;var s=t.ref;return Es(t,a),r=go(e,t,n,r,s,a),n=yo(),null===e||xi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function ji(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Si(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Cc(s,r)).ref=t.ref,e.return=t,t.child=e}function Si(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(xi=!0)}}return _i(e,t,n,r,a)}function Ni(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Cl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Cl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Cl,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Cl,Tl),Tl|=r;return bi(e,t,a,n),t.child}function ki(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,n,r,a){var s=Ta(n)?Oa:Aa.current;return s=Ia(t,s),Es(t,a),n=go(e,t,n,r,s,a),r=yo(),null===e||xi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Pi(e,t,n,r,a){if(Ta(n)){var s=!0;Ra(t)}else s=!1;if(Es(t,a),null===t.stateNode)Vi(e,t),oi(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Ia(t,c=Ta(n)?Oa:Aa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Ds=!1;var h=t.memoizedState;o.state=h,zs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Ea.current||Ds?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ds||si(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Os(l):l=Ia(t,l=Ta(n)?Oa:Aa.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Ds=!1,h=t.memoizedState,o.state=h,zs(t,r,o,a);var f=t.memoizedState;i!==d||h!==f||Ea.current||Ds?("function"===typeof m&&(ri(t,n,m,r),f=t.memoizedState),(c=Ds||si(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ai(e,t,n,r,s,a)}function Ai(e,t,n,r,a,s){ki(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Hi(e,t,s);r=t.stateNode,vi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),Qs(e,t.containerInfo)}function Oi(e,t,n,r,a){return ms(),fs(a),t.flags|=256,bi(e,t,n,r),t.child}var Ii,Ti,Ci,Mi,Di={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_a(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Rc(l,a,0,null),e=Dc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(n),t.memoizedState=Di,e):Fi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Bi(e,t,i,r=ui(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Dc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Di,o);if(0===(1&t.mode))return Bi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bi(e,t,i,r=ui(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=El)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ms(e,a),nc(r,e,a,-1))}return pc(),Bi(e,t,i,r=ui(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Xa=e.id,$a=e.overflow,Qa=t),t=Fi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Cc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Cc(r,i):(i=Dc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ri(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Di,a}return e=(i=e.child).sibling,a=Cc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bi(e,t,n,r){return null!==r&&fs(r),bs(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function zi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(bi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return Ta(t.type)&&Ca(),qi(t),null;case 3:return r=t.stateNode,Xs(),ka(Ea),ka(Aa),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ti(e,t),qi(t),null;case 5:Js(t);var a=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ci(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qi(t),null}if(e=Ys(Gs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[ma]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ae(r,o),Br("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[ma]=r,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":X(e,r),a=Q(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Br("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Mi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return qi(t),null;case 13:if(ka(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ml&&(Ml=3):pc())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Xs(),Ti(e,t),null===e&&zr(t.stateNode.containerInfo),qi(t),null;case 10:return Ps(t.type._context),qi(t),null;case 19:if(ka(Zs),null===(o=t.memoizedState))return qi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gi(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Gi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return qi(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Gi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,_a(Zs,r?1&n|2:1&n),t):(qi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yi(e,t){switch(ts(t),t.tag){case 1:return Ta(t.type)&&Ca(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),ka(Ea),ka(Aa),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ka(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Zs),null;case 4:return Xs(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},Ci=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ys(Gs.current);var s,o=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Mi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qi=!1,Xi=!1,$i="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[ma],delete t[pa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Xi||Zi(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Nc(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xi=(r=Xi)||null!==n.memoizedState,hl(e,t,n),Xi=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach(function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));ml(o,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Nc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(a,o),xe(l,i);var u=xe(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":J(a,o);break;case"textarea":se(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(a,!!o.multiple,f,!1):m!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ma]=o}catch(g){Nc(e,e.return,g)}}break;case 6:if(pl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Nc(e,e.return,g)}}break;case 3:if(pl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:pl(t,e),yl(e);break;case 13:pl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(u=Xi)||d,pl(t,e),Xi=u):pl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(h=Ji=d;null!==Ji;){switch(f=(m=Ji).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zi(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Zi(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==f?(f.return=m,Ji=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ji=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var a=Ji,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Qi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xi;i=Qi;var c=Xi;if(Qi=o,(Xi=l)&&!c)for(Ji=a;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Ji=l):jl(a);for(;null!==s;)Ji=s,xl(s,t,n),s=s.sibling;Ji=a,Qi=i,Xi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Ji=s):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xi||512&t.flags&&al(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function wl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function jl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Nc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Nc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Nc(t,o,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var Sl,Nl=Math.ceil,kl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Al=0,El=null,Ol=null,Il=0,Tl=0,Cl=Na(0),Ml=0,Dl=null,Rl=0,Ll=0,Fl=0,Bl=null,Wl=null,Ul=0,zl=1/0,Vl=null,Hl=!1,Gl=null,ql=null,Kl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Al)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Il?Il&-Il:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===El||(e===El&&(0===(2&Al)&&(Ll|=n),4===Ml&&ic(e,Il)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(zl=$e()+500,Ba&&za()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=mt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=ht(e,e===El?Il:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&Al)&&za()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Al;Al|=2;var o=fc();for(El===e&&Il===t||(Vl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){mc(e,l)}_s(),kl.current=o,Al=a,null!==Ol?t=0:(El=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t)throw n=Dl,hc(e,0),ic(e,r),rc(e,$e()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t))throw n=Dl,hc(e,0),ic(e,r),rc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Wl,Vl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),t);break}wc(e,Wl,Vl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),r);break}wc(e,Wl,Vl);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=n,null!==t&&oc(t)),e}function oc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function ic(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),ic(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Vl),rc(e,$e()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(zl=$e()+500,Ba&&za())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&jc();var t=Al;Al|=1;var n=Pl.transition,r=xt;try{if(Pl.transition=null,xt=1,e)return e()}finally{xt=r,Pl.transition=n,0===(6&(Al=t))&&za()}}function dc(){Tl=Cl.current,ka(Cl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ca();break;case 3:Xs(),ka(Ea),ka(Aa),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:ka(Zs);break;case 10:Ps(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Ol=e=Cc(e.current,null),Il=Tl=t,Ml=0,Dl=null,Fl=Ll=Rl=0,Wl=Bl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Is=null}return e}function mc(e,t){for(;;){var n=Ol;try{if(_s(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,_l.current=null,null===n||null===n.return){Ml=1,Dl=t,Ol=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,yi(f,i,l,0,t),1&f.mode&&pi(o,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pi(o,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),fs(ci(c,l));break e}}o=c=ci(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[o]:Bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,mi(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,fi(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=Jo,null===e?Jo:e}function pc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===El||0===(268435455&Rl)&&0===(268435455&Ll)||ic(El,Il)}function gc(e,t){var n=Al;Al|=2;var r=fc();for(El===e&&Il===t||(Vl=null,hc(e,t));;)try{yc();break}catch(a){mc(e,a)}if(_s(),Al=n,kl.current=r,null!==Ol)throw Error(s(261));return El=null,Il=0,Ml}function yc(){for(;null!==Ol;)xc(Ol)}function vc(){for(;null!==Ol&&!Qe();)xc(Ol)}function xc(e){var t=Sl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,_l.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Tl)))return void(Ol=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var r=xt,a=Pl.transition;try{Pl.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===El&&(Ol=El=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,function(){return jc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var i=xt;xt=1;var l=Al;Al|=4,_l.current=null,function(e,t){if(ea=Ht,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(l=i),m===o&&++d===r&&(c=i),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}p=tl,tl=!1}(e,n),gl(n,e),fr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),Al=l,xt=i,Pl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Ql)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,za()}(e,t,n,r)}finally{Pl.transition=a,xt=r}return null}function jc(){if(null!==Yl){var e=bt(Ql),t=Pl.transition,n=xt;try{if(Pl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Al))throw Error(s(331));var a=Al;for(Al|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ji=u;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ji=h;else for(;null!==Ji;){var m=(d=Ji).sibling,f=d.return;if(sl(d),d===u){Ji=null;break}if(null!==m){m.return=f,Ji=m;break}Ji=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ji=v;break e}Ji=o.return}}var x=e.current;for(Ji=x;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=x;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===i){Ji=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ji=w;break e}Ji=l.return}}if(Al=a,za(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{xt=n,Pl.transition=t}}return!1}function Sc(e,t,n){e=Bs(e,t=mi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bs(t,e=fi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>$e()-Ul?hc(e,0):Fl|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ms(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Ec(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Oc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return Dc(n.children,a,o,t);case N:i=8,a|=8;break;case k:return(e=Ic(12,n,t,2|a)).elementType=k,e.lanes=o,e;case E:return(e=Ic(13,n,t,a)).elementType=E,e.lanes=o,e;case O:return(e=Ic(19,n,t,a)).elementType=O,e.lanes=o,e;case C:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case P:i=9;break e;case A:i=11;break e;case I:i=14;break e;case T:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=C,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,a,s,o,i,l){return e=new Bc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uc(e){if(!e)return Pa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Da(e,n,t)}return t}function zc(e,t,n,r,a,s,o,i,l){return(e=Wc(n,r,!0,e,0,s,0,i,l)).context=Uc(null),n=e.current,(s=Fs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Vc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(a,t,o))&&(nc(e,a,o,s),Ws(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),ms();break;case 5:$s(t);break;case 1:Ta(t.type)&&Ra(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(_a(Zs,1&Zs.current),null!==(e=Hi(e,t,n))?e.sibling:null);_a(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,n)}return Hi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,as&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var a=Ia(t,Aa.current);Es(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ai(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),bi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(r),e=ni(r,e),a){case 0:t=_i(null,t,r,e,n);break e;case 1:t=Pi(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Pi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Ei(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oi(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=Oi(e,t,r,n,a=ci(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===a){t=Hi(e,t,n);break e}bi(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),ki(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,_a(js,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Ea.current){t=Hi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),As(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),As(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Es(t,n),r=r(a=Os(a)),t.flags|=1,bi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),ji(e,t,r,a=ni(r.type,a),n);case 15:return Si(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Vi(e,t),t.tag=1,Ta(r)?(e=!0,Ra(t)):e=!1,Es(t,n),oi(t,r,a),li(t,r,a,n),Ai(null,t,r,!0,e,n);case 19:return zi(e,t,n);case 22:return Ni(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}Vc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[fa]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fa]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[fa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Al)&&(zl=$e()+500,za()))}break;case 13:uc(function(){var t=Ms(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ms(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Nt=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),J(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,_e,Pe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,o,i),e[fa]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[a(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),s=n(4052),o=n(4543),i=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&a(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),m=n||u||d||h,f=m?r(e.length,String):[],p=f.length;for(var g in e)!t&&!c.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3225:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2023-champion.1abe39833d904b2f85f0.jpg"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),s=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),s=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:s)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),s=n(8114);e.exports=function(e,t,n,o,i,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),m=l.get(t);if(h&&m)return h==t&&m==e;var f=-1,p=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var y=e[f],v=t[f];if(o)var x=c?o(v,y,f,t,e,l):o(y,v,f,e,t,l);if(void 0!==x){if(x)continue;p=!1;break}if(g){if(!a(t,function(e,t){if(!s(g,t)&&(y===e||i(y,e,n,o,l)))return g.push(t)})){p=!1;break}}else if(y!==v&&!i(y,v,n,o,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),s=n(2597),o=n(914);e.exports=function(e){return s(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),s=n(801),o=Math.max,i=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,m,f=0,p=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function x(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-f>=u}function b(){var e=a();if(x(e))return w(e);h=setTimeout(b,function(e){var n=t-(e-m);return g?i(n,u-(e-f)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),n=x(e);if(l=arguments,c=this,m=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(b,t),p?v(e):d}(m);if(g)return clearTimeout(h),h=setTimeout(b,t),v(m)}return void 0===h&&(h=setTimeout(b,t)),d}return t=s(t)||0,r(n)&&(p=!!n.leading,u=(g="maxWait"in n)?o(s(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=m=c=h=void 0},j.flush=function(){return void 0===h?d:w(a())},j}},4016:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2022-ceedee-lamb-dal.54d46a8ec1c8d36d334b.png"},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!N.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),E(o,t,a,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+A(i=e[c],c);l+=E(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=E(i=i.value,t,a,u=s+A(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},C={transition:null},M={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:C,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),s=n(1558),o=n(8114),i=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,m=[],f=m;if(n)h=!1,u=s;else if(d>=200){var p=t?null:i(e);if(p)return l(p);h=!1,u=o,f=new r}else f=t?[]:m;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue e;t&&f.push(y),m.push(g)}else u(f,y,n)||(f!==m&&f.push(y),m.push(g))}return m}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),s=n(2165),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:s;return n&&i(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),s=n(438),o=n(9394),i=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),s=n(3366),o=n(2597),i=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&i(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?s(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),s=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[r(e)]}},5452:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const r=()=>{},a={debug:r,info:r,warn:r,error:r}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),s=n(793),o=n(7760),i=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,i=a(s.length-t,0),l=Array(i);++o<i;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),s=n(6350);e.exports=function(e,t){return s(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,i){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var m=i.get(e),f=i.get(t);if(m&&f)return m==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var x=l?s(v,y,h,t,e,i):s(y,v,h,e,t,i);if(!(void 0===x?y===v||o(y,v,n,s,i):x)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(e),i.delete(t),p}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,o=t.criteria,i=s.length,l=n.length;++a<i;){var c=r(s[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5900:e=>{"use strict";e.exports=JSON.parse('{"description":"The iconic font, CSS, and SVG framework","keywords":["font","awesome","fontawesome","icon","svg","bootstrap"],"homepage":"https://fontawesome.com","bugs":{"url":"https://github.com/FortAwesome/Font-Awesome/issues"},"author":"The Font Awesome Team (https://github.com/orgs/FortAwesome/people)","repository":{"type":"git","url":"https://github.com/FortAwesome/Font-Awesome"},"engines":{"node":">=6"},"dependencies":{"@fortawesome/fontawesome-common-types":"6.7.2"},"version":"6.7.2","name":"@fortawesome/fontawesome-svg-core","main":"index.js","module":"index.mjs","jsnext:main":"index.mjs","style":"styles.css","license":"MIT","types":"./index.d.ts","exports":{".":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","style":"./styles.css","default":"./index.js"},"./index":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./index.js":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./plugins":{"types":"./index.d.ts","module":"./plugins.mjs","import":"./plugins.mjs","default":"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},"sideEffects":["./index.js","./index.mjs","./styles.css"]}')},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case i:case o:case h:case m:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case p:case f:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),s=n(9987),o=n(5752),i=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",m="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,y){var v=l(e),x=l(t),b=v?h:i(e),w=x?h:i(t),j=(b=b==d?m:b)==m,S=(w=w==d?m:w)==m,N=b==w;if(N&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(N&&!j)return y||(y=new r),v||u(e)?a(e,t,n,p,g,y):s(e,t,b,n,p,g,y);if(!(1&n)){var k=j&&f.call(e,"__wrapped__"),_=S&&f.call(t,"__wrapped__");if(k||_){var P=k?e.value():e,A=_?t.value():t;return y||(y=new r),g(P,A,n,p,y)}}return!!N&&(y||(y=new r),o(e,t,n,p,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,o=t?s:-1,i=Object(n);(t?o--:++o<s)&&!1!==a(i[o],o,i););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,s){var o=n.length,i=o,l=!s;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var m=new r;if(s)var f=s(d,h,u,e,t,m);if(!(void 0===f?a(h,d,3,s,m):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e===e,o=r(e),i=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||a&&i&&c||!n&&c||!s)return 1;if(!a&&!o&&!u&&e<t||u&&n&&s&&!a&&!o||l&&n&&s||!i&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&r.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),s=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),s=n(5387),o=n(2070),i=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",f="[object DataView]",p=c(r),g=c(a),y=c(s),v=c(o),x=c(i),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||a&&b(new a)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=h||i&&b(new i)!=m)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return f;case g:return u;case y:return d;case v:return h;case x:return m}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),s=n(6686),o=n(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?h:i).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,s,o,i){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),s=n(9096),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&i(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),s=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),s=n(4190),o=n(1946),i=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,C(j);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function j(e,n){p=!1,g&&(g=!1,v(_),_=-1),f=!0;var s=m;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,m=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{h=null,m=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,k=null,_=-1,P=5,A=-1;function E(){return!(t.unstable_now()-A<P)}function O(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?S():(N=!1,k=null)}}else N=!1}if("function"===typeof x)S=function(){x(O)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=O,S=function(){T.postMessage(null)}}else S=function(){y(O,0)};function C(e){k=e,N||(N=!0,S())}function M(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,C(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(_),_=-1):g=!0,M(w,s-o))):(e.sortIndex=i,n(c,e),p||f||(p=!0,C(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var i=new a(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],i]:e._events[l].push(i):(e._events[l]=i,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,o=new Array(s);a<s;a++)o[a]=r[a].fn;return o},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,a,s,o){var i=n?n+e:e;if(!this._events[i])return!1;var l,c,u=this._events[i],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,s),!0;case 6:return u.fn.call(u.context,t,r,a,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,m=u.length;for(c=0;c<m;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||a&&!i.once||r&&i.context!==r||o(this,s);else{for(var l=0,c=[],u=i.length;l<u;l++)(i[l].fn!==t||a&&!i[l].once||r&&i[l].context!==r)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),s=n(5647),o=n(929),i=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=i},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7598:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2024-saquon-barkley-phi.4091e65b4d1651d4be87.png"},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),s=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?s(t):void 0,i=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return i[e]()+l}}},7677:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2023-joe-flacco-cle.61f98e59d32097bda184.png"},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8073:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2024-champion.25dbec73a1263b7d76bc.JPG"},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),s=n(2074),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,m=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,p=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),i?A(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),s>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/f|0,c[s]%=f;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,i?A(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=k(n)),s+=r;(n=7-(r=(o=e[t])+"").length)&&(s+=k(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return A(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(i=!1,t=w(_(n,o),_(e,o),o),i=!0,A(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(i=!1,t=w(n,e,0,1).times(e),i=!0,n.minus(t)):A(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return _(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):E(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),i=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,o+2)).times(.5),b(s.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(A(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;o+=4}return i=!0,A(r,n)},y.times=y.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=m.length)<(u=p.length)&&(s=m,m=p,p=s,o=c,c=u,u=o),s=[],r=o=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+p[r]*m[a-r-1]+t,s[a--]=l%f|0,t=l/f|0;s[a]=(s[a]+t)%f|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,i?A(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,s),void 0===t?t=r.rounding:x(t,0,8),A(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=O(r,!0):(x(e,0,s),void 0===t?t=a.rounding:x(t,0,8),n=O(r=A(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?O(a):(x(e,0,s),void 0===t?t=o.rounding:x(t,0,8),n=O((r=A(new o(a),e+S(a)+1,t)).abs(),!1,e+S(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return A(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,s,o,c,u=this,h=u.constructor,m=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return A(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=m<0?-m:m)<=p){for(s=new h(a),t=Math.ceil(r/7+4),i=!1;n%2&&I((s=s.times(u)).d,t),0!==(n=d(n/2));)I((u=u.times(u)).d,t);return i=!0,e.s<0?new h(a).div(s):A(s,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,i=!1,s=e.times(_(u,r+12)),i=!0,(s=j(s)).s=o,s},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=O(a,(n=S(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,s),void 0===t?t=o.rounding:x(t,0,8),r=O(a=A(new o(a),e,t),e<=(n=S(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,s),void 0===t?t=n.rounding:x(t,0,8)),A(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,o){var i,c,u,d,h,m,p,g,y,v,x,b,w,j,N,k,_,P,E=r.constructor,O=r.s==a.s?1:-1,I=r.d,T=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,_=T.length,N=I.length,g=(p=new E(O)).d=[],u=0;T[u]==(I[u]||0);)++u;if(T[u]>(I[u]||0)&&--c,(b=null==s?s=E.precision:o?s+(S(r)-S(a))+1:s)<0)return new E(0);if(b=b/7+2|0,u=0,1==_)for(d=0,T=T[0],b++;(u<N||d)&&b--;u++)w=d*f+(I[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=f/(T[0]+1)|0)>1&&(T=e(T,d),I=e(I,d),_=T.length,N=I.length),j=_,v=(y=I.slice(0,_)).length;v<_;)y[v++]=0;(P=T.slice()).unshift(0),k=T[0],T[1]>=f/2&&++k;do{d=0,(i=t(T,y,_,v))<0?(x=y[0],_!=v&&(x=x*f+(y[1]||0)),(d=x/k|0)>1?(d>=f&&(d=f-1),1==(i=t(h=e(T,d),y,m=h.length,v=y.length))&&(d--,n(h,_<m?P:T,m))):(0==d&&(i=d=1),h=T.slice()),(m=h.length)<v&&h.unshift(0),n(y,h,v),-1==i&&(i=t(T,y,_,v=y.length))<1&&(d++,n(y,_<v?P:T,v)),v=y.length):0===i&&(d++,y=[0]),g[u++]=d,i&&y[0]?y[v++]=I[j]||0:(y=[I[j]],v=1)}while((j++<N||void 0!==y[0])&&b--)}return g[0]||g.shift(),p.e=c,A(p,o?s+S(p)+1:s)}}();function j(e,t){var n,r,s,o,l,c=0,d=0,m=e.constructor,f=m.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new m(a);for(null==t?(i=!1,l=f):l=t,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new m(a),m.precision=l;;){if(r=A(r.times(e),l),n=n.times(++c),b((o=s.plus(w(r,n,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;d--;)s=A(s.times(s),l);return m.precision=f,null==t?(i=!0,A(s,f)):s}s=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function N(e,t,n){if(t>e.LN10.sd())throw i=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function _(e,t){var n,r,s,o,c,u,d,h,m,f=1,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(a))return new y(0);if(null==t?(i=!1,h=v):h=t,p.eq(10))return null==t&&(i=!0),N(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),o=S(p),!(Math.abs(o)<15e14))return d=N(y,h+2,v).times(o+""),p=_(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(i=!0,A(p,v)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),f++;for(o=S(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1)),u=c=p=w(p.minus(a),p.plus(a),h),m=A(p.times(p),h),s=3;;){if(c=A(c.times(m),h),b((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(N(y,h+2,v).times(o+""))),u=w(u,new y(f),h),y.precision=v,null==t?(i=!0,A(u,v)):u;u=d,s+=2}}function P(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),i&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,a,s,o,l,c,m,p,y=e.d;for(o=1,s=y[0];s>=10;s/=10)o++;if((r=t-o)<0)r+=7,a=t,m=y[p=0];else{if((p=Math.ceil((r+1)/7))>=(s=y.length))return e;for(m=s=y[p],o=1;s>=10;s/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=m/(s=h(10,o-a-1))%10|0,c=t<0||void 0!==y[p+1]||m%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?m/h(10,o-a):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(s=S(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,s=1,p--):(y.length=p+1,s=h(10,7-r),y[p]=a>0?(m/h(10,o-a)%h(10,a)|0)*s:0),c)for(;;){if(0==p){(y[0]+=s)==f&&(y[0]=1,++e.e);break}if(y[p]+=s,y[p]!=f)break;y[p--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(i&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function E(e,t){var n,r,a,s,o,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),i?A(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(p/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=f-1;--c[s],c[a]+=f}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,i?A(t,p):t):new m(0)}function O(e,t,n){var r,a=S(e),s=b(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+k(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+k(-a-1)+s,n&&(r=n-o)>0&&(s+=k(r))):a>=o?(s+=k(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+k(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=k(r))),e.s<0?"-"+s:s}function I(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!m.test(e))throw Error(c+e);P(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),s=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),s=n(4052),o=n(9841),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),s=n(2154),o=n(8734),i=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),s=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),s=n(4052),o=n(9194),i=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&i(u)&&o(h,u)&&(s(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),s=n(3279),o=n(4052),i=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):i(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),s=n(715);e.exports=function(e){return a(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),s=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9330:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2021-josh-allen-buf.e91ae76c1d093a79d34c.png"},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),s=n(8673);e.exports=function(e){return r(e,s,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:a;e.exports=i},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,s){for(var o=-1,i=n(t((r-e)/(a||1)),0),l=Array(i);i--;)l[s?i:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,s=e.length;++a<s;){var o=e[a],i=t(o);if(null!=i&&(void 0===l?i===i&&!r(i):n(i,l)))var l=i,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:s,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),s=n(3211),o=n(3668),i=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=i;case"[object Set]":var f=1&r;if(m||(m=l),e.size!=t.size&&!f)return!1;var p=h.get(e);if(p)return p==t;r|=2,h.set(e,t);var g=o(m(e),m(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),s=n(8673);e.exports=function(e){return function(t,n,o){var i=Object(t);if(!a(t)){var l=r(n,3);t=s(t),n=function(e){return l(i[e],e,i)}}var c=e(t,n,o);return c>-1?i[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>og,scaleDiverging:()=>Lw,scaleDivergingLog:()=>Fw,scaleDivergingPow:()=>Ww,scaleDivergingSqrt:()=>Uw,scaleDivergingSymlog:()=>Bw,scaleIdentity:()=>Iv,scaleImplicit:()=>ag,scaleLinear:()=>Ov,scaleLog:()=>Wv,scaleOrdinal:()=>sg,scalePoint:()=>lg,scalePow:()=>Qv,scaleQuantile:()=>ix,scaleQuantize:()=>lx,scaleRadial:()=>Jv,scaleSequential:()=>Ow,scaleSequentialLog:()=>Iw,scaleSequentialPow:()=>Cw,scaleSequentialQuantile:()=>Dw,scaleSequentialSqrt:()=>Mw,scaleSequentialSymlog:()=>Tw,scaleSqrt:()=>Xv,scaleSymlog:()=>Hv,scaleThreshold:()=>cx,scaleTime:()=>_w,scaleUtc:()=>Pw,tickFormat:()=>Av});var t=n(5043),r=n(4391);const a=["Loading collusion logs\u2026","Simulating 14 different ways to screw over the commish","Rebalancing the league to favor whoever complains loudest\u2026","Finalizing another lopsided trade no one will admit was rigged","Sacrificing league integrity for one more win\u2026","Filing formal complaints\u2026 directly into the trash","Backstabbing in progress. Please wait\u2026","Checking if that \u2018fair trade\u2019 passed the smell test. (It didn\u2019t.","Reading league bylaws... oh wait, you guys don\u2019t follow those","Injecting drama into your matchup\u2026 please hold","Identifying the next trade rape in progress\u2026","Plotting against the commish...","Rewriting the rules mid-season...","Engineering a trade so bad it starts a group chat war...","Screwing over the league in 4K...","Making Power Rankings just to trigger people...","Refusing trades out of pure pettiness...","Rejected the trade just because I don\u2019t like you...","Approving it \u201cjust to watch the league burn\u201d...","The commish is on mute for league safety...","Called a league-wide vote, ignored the results...","Faking civility while plotting social warfare...","Editing messages mid-fight like a gaslighting wizard...","Plotting against the commish...."],s=(e,t,r,a)=>{const s={},o={};if(!e||0===Object.keys(e).length)return{seasonalMetrics:{},careerDPRData:[]};const i=Object.keys(e.matchupsBySeason||{}).map(Number).sort((e,t)=>e-t);if(0===i.length)return{seasonalMetrics:{},careerDPRData:[]};const l=null!==a&&void 0!==a&&a.season?parseInt(a.season):(new Date).getFullYear(),c=null!==a&&void 0!==a&&a.week?parseInt(a.week):1;let u=!1;const d=i.length>0?Math.max(...i):null;if(d&&e.winnersBracketBySeason[d]){const t=e.winnersBracketBySeason[d].find(e=>1===e.p);t&&t.w&&t.l&&(u=!0)}i.forEach(t=>{var a;const i=e.matchupsBySeason[t],u=e.leaguesMetadataBySeason[t],d=e.rostersBySeason[t],h=e.usersBySeason[t],m=e.winnersBracketBySeason[t],f=e.losersBracketBySeason[t];if(!i||!u||!d||!h){try{n(5452).A.error("calculateAllLeagueMetrics: Missing critical data for year ".concat(t,". Skipping this year."))}catch(O){}return}const p=parseInt(null===(a=u.settings)||void 0===a?void 0:a.playoff_start_week)||15;let g=!1;if(t<l)g=!0;else if(t===l){const e=null===m||void 0===m?void 0:m.find(e=>1===e.p);e&&e.w&&e.l&&(g=!0)}const y={};d.forEach(e=>{const a=e.owner_id,s=e.roster_id;if(!a||!s){try{n(5452).A.warn("Roster entry in year ".concat(t," is missing owner_id or roster_id. Skipping initialization. Roster:"),e)}catch(O){}return}const i=r(a,t);y[s]={teamName:i,ownerId:a,rosterId:s,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,weeklyScores:[],weeklyLuck:[],weeklyPointsShares:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualWinsRecord:0,seasonalExpectedWinsSum:0,regularSeasonWins:0,regularSeasonLosses:0,regularSeasonTies:0,regularSeasonGames:0,rank:"N/A",pointsRank:"N/A",isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isRegularSeasonChampion:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1},o[a]||(o[a]={teamName:r(a,null),ownerId:a,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,careerWeeklyScores:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualCareerWinsRecord:0,careerExpectedWinsSum:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,playoffAppearancesCount:0,totalLuckRating:0,totalDPRSum:0,seasonsWithDPRData:0})});const v=Math.max((m||[]).reduce((e,t)=>Math.max(e,t.r||0),0),(f||[]).reduce((e,t)=>Math.max(e,t.r||0),0)),x=p-1+v,b=new Map,w=new Map;i.forEach(e=>{const t=parseInt(e.week),n=t<p&&!isNaN(t);if(e.team1_roster_id&&e.team2_roster_id){const r=String(e.team1_roster_id),a=String(e.team2_roster_id),s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,s),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:o,isRegularSeasonMatch:n,hasOpponent:!0}),b.has(a)||b.set(a,new Map),b.get(a).set(t,o),w.has(a)||w.set(a,new Map),w.get(a).set(t,{opponentScore:s,isRegularSeasonMatch:n,hasOpponent:!0})}else if(e.team1_roster_id&&null===e.team2_roster_id){const r=String(e.team1_roster_id),a=parseFloat(e.team1_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,a),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:0,isRegularSeasonMatch:n,hasOpponent:!1})}});const j=new Map;i.forEach(e=>{const t=parseInt(e.week);j.has(t)||j.set(t,[]),e.team1_roster_id&&void 0!==e.team1_score&&!isNaN(e.team1_score)&&j.get(t).push({roster_id:String(e.team1_roster_id),score:parseFloat(e.team1_score)}),e.team2_roster_id&&void 0!==e.team2_score&&!isNaN(e.team2_score)&&j.get(t).push({roster_id:String(e.team2_roster_id),score:parseFloat(e.team2_score)})}),Object.keys(y).forEach(e=>{const n=y[e],r=n.ownerId;for(let i=1;i<=x;i++){var a,s;const u=null===(a=b.get(e))||void 0===a?void 0:a.get(i),d=null===(s=w.get(e))||void 0===s?void 0:s.get(i),h="number"===typeof u&&!isNaN(u),m=null===d||void 0===d?void 0:d.opponentScore,f=null===d||void 0===d?void 0:d.isRegularSeasonMatch,p=null===d||void 0===d?void 0:d.hasOpponent,g=h?u:0,y=t<l||t===l&&i<c;if(y&&(n.weeklyScores.push(g),n.pointsFor+=g),h&&y&&u>0&&(n.highScore=Math.max(n.highScore,u),n.lowScore=Math.min(n.lowScore,u)),y&&o[r]&&o[r].careerWeeklyScores.push(g),y&&p&&(u>0||m>0)&&(n.pointsAgainst+=m,n.totalGames++,u>m?(n.wins++,f&&n.regularSeasonWins++):u<m?(n.losses++,f&&n.regularSeasonLosses++):(n.ties++,f&&n.regularSeasonTies++),f&&n.regularSeasonGames++,f)){const t=j.get(i)||[];let a=0,s=0,l=0;t.forEach(t=>{String(t.roster_id)!==String(e)&&(l++,u>t.score?(n.allPlayWins++,o[r]&&o[r].allPlayWins++,a++):u<t.score?(n.allPlayLosses++,o[r]&&o[r].allPlayLosses++):(n.allPlayTies++,o[r]&&o[r].allPlayTies++,s++))});let c=0;l>0&&(c=(a+.5*s)/l,n.seasonalExpectedWinsSum+=c);const d=u>m?1:u===m?.5:0;n.actualWinsRecord+=d;const h=d-c;n.weeklyLuck.push(h);const f=t.reduce((e,t)=>e+t.score,0);if(f>0){const e=u/f*100;n.weeklyPointsShares||(n.weeklyPointsShares=[]),n.weeklyPointsShares.push(e)}const p=t.reduce((e,t)=>Math.max(e,t.score),-1/0),g=[...t].sort((e,t)=>t.score-e.score),y=[];g[0]&&y.push(g[0].score),g[1]&&y.push(g[1].score),u===p&&n.topScoreWeeksCount++,y.includes(u)&&n.weeklyTop2ScoresCount++,m>0&&(u>1.4*m?n.blowoutWins++:u<.6*m?n.blowoutLosses++:u>m&&u-m<.025*m?n.slimWins++:u<m&&m-u<.025*m&&n.slimLosses++)}}}),s[t]={};Object.keys(y).forEach(e=>{const n=y[e],r=(n.ownerId,n.totalGames>0?n.pointsFor/n.totalGames:0),a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=((e,t,n,r)=>(6*e+2*(t+n)+200*r*2)/10)(r,n.highScore!==-1/0?n.highScore:0,n.lowScore!==1/0?n.lowScore:0,a),i=n.actualWinsRecord-n.seasonalExpectedWinsSum,l=n.allPlayWins+n.allPlayLosses+n.allPlayTies,c=l>0?(n.allPlayWins+.5*n.allPlayTies)/l:0;s[t][e]={teamName:n.teamName,rosterId:e,ownerId:n.ownerId,wins:n.wins,losses:n.losses,ties:n.ties,pointsFor:n.pointsFor,pointsAgainst:n.pointsAgainst,averageScore:r,winPercentage:a,rawDPR:o,luckRating:i,actualWinsRecord:n.actualWinsRecord,regularSeasonWins:n.regularSeasonWins,regularSeasonLosses:n.regularSeasonLosses,regularSeasonTies:n.regularSeasonTies,regularSeasonGames:n.regularSeasonGames,seasonalExpectedWinsSum:n.seasonalExpectedWinsSum,allPlayWins:n.allPlayWins,allPlayLosses:n.allPlayLosses,allPlayTies:n.allPlayTies,allPlayWinPercentage:c,topScoreWeeksCount:n.topScoreWeeksCount,blowoutWins:n.blowoutWins,blowoutLosses:n.blowoutLosses,slimWins:n.slimWins,slimLosses:n.slimLosses,weeklyTop2ScoresCount:n.weeklyTop2ScoresCount,weeklyLuck:n.weeklyLuck,adjustedDPR:0,totalGames:n.totalGames,highScore:n.highScore,lowScore:n.lowScore,isPlayoffTeam:!1,isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isRegularSeasonChampion:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1,rank:"N/A",pointsRank:"N/A"}});const S=Object.values(s[t]).map(e=>e.rawDPR).filter(e=>0!==e),N=S.length>0?S.reduce((e,t)=>e+t,0)/S.length:0;Object.keys(s[t]).forEach(e=>{s[t][e].adjustedDPR=N>0?s[t][e].rawDPR/N:0});const k=Object.values(s[t]).reduce((e,t)=>e+t.pointsFor,0),_=[];Object.keys(s[t]).forEach(e=>{const n=s[t][e],r=k>0?n.pointsFor/k:0;n.seasonalPointsShare=r,_.push(r)});const P=_.length>0?Math.max(..._):0,A=_.length>0?Math.min(..._):0;Object.keys(s[t]).forEach(e=>{const n=s[t][e];n.seasonalPointsShare===P&&(n.seasonalHighestPointsShare=P),n.seasonalPointsShare===A&&(n.seasonalLowestPointsShare=A)});if(t<l||t===l&&c>=p){const e=Object.values(s[t]).filter(e=>e.wins+e.losses+e.ties>0);if(e.length>0){const n=e.sort((e,t)=>{const n=e.wins+e.losses+e.ties>0?(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties):0,r=t.wins+t.losses+t.ties>0?(t.wins+.5*t.ties)/(t.wins+t.losses+t.ties):0;return r!==n?r-n:t.wins!==e.wins?t.wins-e.wins:t.pointsFor-e.pointsFor}),r=n[0];r&&s[t][r.rosterId]&&(s[t][r.rosterId].isRegularSeasonChampion=!0)}}const E=Object.values(s[t]).filter(e=>"number"===typeof e.pointsFor&&!isNaN(e.pointsFor)).sort((e,t)=>t.pointsFor-e.pointsFor);if(E.length>0&&E.forEach((e,n)=>{const r=n+1;e&&s[t][e.rosterId]&&(s[t][e.rosterId].pointsRank=r,1===r?s[t][e.rosterId].isPointsChampion=!0:2===r?s[t][e.rosterId].isPointsRunnerUp=!0:3===r&&(s[t][e.rosterId].isThirdPlacePoints=!0))}),g)if(m&&f&&(m.length>0||f.length>0)){const e=new Map(d.map(e=>[String(e.roster_id),String(e.owner_id)])),a=((e,t,r,a,s)=>{const{winnersBracket:o,losersBracket:i}=e,l=new Map,c=e=>{const n=t.get(String(e));return{roster_id:e,owner_id:n,teamName:r(n,a)}},u=o.filter(e=>1===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(u){const e=String(u.w),t=String(u.l);if(!l.has(e)){l.set(e,1);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Champion: ").concat(c(e).teamName))}catch(O){}}if(!l.has(t)){l.set(t,2);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Runner-Up: ").concat(c(t).teamName))}catch(O){}}}const d=o.filter(e=>3===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(d){const e=String(d.w),t=String(d.l);if(!l.has(e)||l.get(e)>3){l.set(e,3);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 3rd Place: ").concat(c(e).teamName))}catch(O){}}if(!l.has(t)||l.get(t)>4){l.set(t,4);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 4th Place: ").concat(c(t).teamName))}catch(O){}}}const h=[...o,...i].filter(e=>e.w&&e.l&&"number"===typeof e.p&&1!==e.p&&3!==e.p).sort((e,t)=>e.p-t.p);h.forEach(e=>{const t=String(e.w),n=String(e.l);if(5===e.p&&i.includes(e))(!l.has(t)||l.get(t)>11)&&l.set(t,11),(!l.has(n)||l.get(n)>12)&&l.set(n,12);else{const r=e.p,a=e.p+1;(!l.has(t)||l.get(t)>r)&&l.set(t,r),(!l.has(n)||l.get(n)>a)&&l.set(n,a)}});const m=Array.from(t.keys());let f=m.filter(e=>!l.has(e));const p=new Map;[...o,...i].forEach(e=>{e.t1&&p.set(String(e.t1),Math.max(e.r,p.get(String(e.t1))||0)),e.t2&&p.set(String(e.t2),Math.max(e.r,p.get(String(e.t2))||0)),e.w&&p.set(String(e.w),Math.max(e.r,p.get(String(e.w))||0)),e.l&&p.set(String(e.l),Math.max(e.r,p.get(String(e.l))||0))});const g=f.filter(e=>p.has(e));g.sort((e,t)=>{const n=p.get(e)||0,r=p.get(t)||0;if(n!==r)return r-n;const a=s[e],o=s[t];if(!a&&!o)return 0;if(!a)return 1;if(!o)return-1;const i=a.totalGames>0?(a.wins+.5*a.ties)/a.totalGames:0,l=o.totalGames>0?(o.wins+.5*o.ties)/o.totalGames:0;return l!==i?l-i:o.pointsFor!==a.pointsFor?o.pointsFor-a.pointsFor:parseInt(e)-parseInt(t)});let y=1;const v=new Set(Array.from(l.values()).filter(e=>"number"===typeof e));for(;v.has(y);)y++;for(const n of g)if(!l.has(n))for(l.set(n,y),v.add(y),y++;v.has(y);)y++;const x=m.filter(e=>!l.has(e));x.sort((e,t)=>{const n=s[e],r=s[t];if(!n&&!r)return 0;if(!n)return 1;if(!r)return-1;const a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=r.totalGames>0?(r.wins+.5*r.ties)/r.totalGames:0;return o!==a?o-a:r.pointsFor!==n.pointsFor?r.pointsFor-n.pointsFor:parseInt(e)-parseInt(t)});let b=1;for(const n of l.values())"number"===typeof n&&(b=Math.max(b,n+1));for(;v.has(b);)b++;for(const n of x)if(!l.has(n))for(l.set(n,b),v.add(b),b++;v.has(b);)b++;const w=Array.from(l.entries()).map(e=>{let[t,n]=e;return{roster_id:t,playoffFinish:n}});return w.sort((e,t)=>("number"===typeof e.playoffFinish?e.playoffFinish:1/0)-("number"===typeof t.playoffFinish?t.playoffFinish:1/0)),w})({winnersBracket:m,losersBracket:f},e,r,parseInt(t),y);a.forEach(e=>{const n=e.roster_id,r=e.playoffFinish;s[t][n]&&(s[t][n].rank=r,s[t][n].isChampion=!1,s[t][n].isRunnerUp=!1,s[t][n].isThirdPlace=!1,1===r?s[t][n].isChampion=!0:2===r?s[t][n].isRunnerUp=!0:3===r&&(s[t][n].isThirdPlace=!0))})}else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].rank="N/A"});else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].isPointsChampion=!1,s[t][e].isPointsRunnerUp=!1,s[t][e].isThirdPlacePoints=!1,s[t][e].rank="N/A",s[t][e].pointsRank="N/A"})});const h=[],m=[];Object.keys(o).forEach(e=>{const t=o[e];t.wins=0,t.losses=0,t.ties=0,t.pointsFor=0,t.pointsAgainst=0,t.totalGames=0,t.allPlayWins=0,t.allPlayLosses=0,t.allPlayTies=0,t.careerWeeklyScores=[],t.topScoreWeeksCount=0,t.blowoutWins=0,t.blowoutLosses=0,t.slimWins=0,t.slimLosses=0,t.weeklyTop2ScoresCount=0,t.actualCareerWinsRecord=0,t.careerExpectedWinsSum=0,t.championships=0,t.runnerUps=0,t.thirdPlaces=0,t.regularSeasonTitles=0,t.firstPoints=0,t.secondPoints=0,t.thirdPoints=0,t.mostPointsTitles=0,t.playoffAppearancesCount=0,t.totalLuckRating=0,t.totalDPRSum=0,t.seasonsWithDPRData=0,Object.keys(s).forEach(n=>{const r=parseInt(n),a=s[r];if(a){const n=Object.values(a).find(t=>t.ownerId===e);n&&(t.wins+=n.wins,t.losses+=n.losses,t.ties+=n.ties,t.pointsFor+=n.pointsFor,t.pointsAgainst+=n.pointsAgainst,t.totalGames+=n.totalGames,t.actualCareerWinsRecord+=n.actualWinsRecord,t.allPlayWins+=n.allPlayWins,t.allPlayLosses+=n.allPlayLosses,t.allPlayTies+=n.allPlayTies,t.careerWeeklyScores.push(...n.weeklyScores||[]),t.topScoreWeeksCount+=n.topScoreWeeksCount||0,t.blowoutWins+=n.blowoutWins||0,t.blowoutLosses+=n.blowoutLosses||0,t.slimWins+=n.slimWins||0,t.slimLosses+=n.slimLosses||0,t.weeklyTop2ScoresCount+=n.weeklyTop2ScoresCount||0,t.totalLuckRating+=n.luckRating||0,t.careerExpectedWinsSum+=n.seasonalExpectedWinsSum||0,"number"===typeof n.rank&&n.rank<=6&&t.playoffAppearancesCount++,n.isChampion&&t.championships++,n.isRunnerUp&&t.runnerUps++,n.isThirdPlace&&t.thirdPlaces++,n.isRegularSeasonChampion&&t.regularSeasonTitles++,n.isPointsChampion&&(t.firstPoints++,t.mostPointsTitles++),n.isPointsRunnerUp&&t.secondPoints++,n.isThirdPlacePoints&&t.thirdPoints++,void 0!==n.adjustedDPR&&null!==n.adjustedDPR&&n.totalGames>0&&(t.totalDPRSum+=n.adjustedDPR,t.seasonsWithDPRData++))}});let n=0;Object.values(s).forEach(t=>{const r={};Object.values(t).forEach(e=>{Array.isArray(e.weeklyScores)&&e.weeklyScores.forEach((t,n)=>{const a=n+1;r[a]||(r[a]=[]),r[a].push({ownerId:e.ownerId,score:t})})}),Object.entries(r).forEach(t=>{let[r,a]=t,s=-1/0;a.forEach(e=>{let{score:t}=e;"number"!==typeof t||isNaN(t)||t>s&&(s=t)}),a.forEach(t=>{let{ownerId:r,score:a}=t;r!==e||"number"!==typeof a||isNaN(a)||a!==s||s===-1/0||n++})})});let r=-1/0,a=1/0;Object.keys(s).forEach(t=>{const n=parseInt(t),o=Object.values(s[n]).find(t=>t.ownerId===e);if(o&&o.totalGames>0){const e=o.pointsFor/o.totalGames;e>r&&(r=e),e<a&&(a=e)}}),r===-1/0&&(r=0),a===1/0&&(a=0);const i=t.totalGames>0?t.pointsFor/t.totalGames:0,l=t.totalGames>0?(t.wins+.5*t.ties)/t.totalGames:0;let c=0;t.totalGames>0&&(c=(6*i+2*(r+a)+200*l*2)/10,m.push(c));const u=t.allPlayWins+t.allPlayLosses+t.allPlayTies,d=u>0?(t.allPlayWins+.5*t.allPlayTies)/u:0;t.actualCareerWinsRecord,t.careerExpectedWinsSum;h.push({ownerId:e,teamName:t.teamName,dpr:c,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,averageScore:i,winPercentage:l,totalGames:t.totalGames,allPlayWins:t.allPlayWins,allPlayLosses:t.allPlayLosses,allPlayTies:t.allPlayTies,allPlayWinPercentage:d,topScoreWeeksCount:t.topScoreWeeksCount,blowoutWins:t.blowoutWins,blowoutLosses:t.blowoutLosses,slimWins:t.slimWins,slimLosses:t.slimLosses,weeklyTop2ScoresCount:t.weeklyTop2ScoresCount,highScore:t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,lowScore:t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,weeklyHighScoreCount:n,totalLuckRating:t.totalLuckRating,highestSeasonalPointsAvg:r,lowestSeasonalPointsAvg:a,championships:t.championships,runnerUps:t.runnerUps,thirdPlaces:t.thirdPlaces,regularSeasonTitles:t.regularSeasonTitles,pointsChampionships:t.firstPoints,mostPointsTitles:t.mostPointsTitles,pointsRunnerUps:t.secondPoints,thirdPlacePoints:t.thirdPoints,playoffAppearancesCount:t.playoffAppearancesCount,actualCareerWinsRecord:t.actualCareerWinsRecord,careerExpectedWinsSum:t.careerExpectedWinsSum})});let f=0;Object.keys(o).forEach(e=>{f+=o[e].pointsFor}),h.forEach(e=>{const t=e.pointsFor;e.pointsShare=f>0?t/f:0});const p=[];Object.keys(s).forEach(e=>{const t=Object.values(s[e]).map(e=>"number"===typeof e.rawDPR?e.rawDPR:0).filter(e=>e>0);if(t.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length;p.push(e)}});const g=p.length>0?p.reduce((e,t)=>e+t,0)/p.length:0;return h.forEach(e=>{e.dpr=g>0?e.dpr/g:0}),h.sort((e,t)=>t.dpr-e.dpr),{seasonalMetrics:s,careerDPRData:h}};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d="1181984921049018368",h=(new Set([]),"2025-11-10T20:15:00-05:00"),m="2026-09-05T18:00:00-04:00";var f=n(5452);const p="https://api.sleeper.app/v1",g=new Map;async function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=g.get(t),a=Date.now(),s=60*n*60*1e3;if(r&&a-r.timestamp<s)return f.A.debug("[Cache Hit] Returning cached data for ".concat(t)),r.data;if("nfl_players"===t)try{const e="sleeper_nfl_players_cache",r=localStorage.getItem(e);if(r){const e=JSON.parse(r);if(e&&a-e.timestamp<s)return f.A.debug("[localStorage Hit] Returning persistent cached NFL players data"),g.set(t,e,n),e.data}}catch(o){f.A.warn("Failed to read from localStorage:",o)}try{f.A.debug("[Cache Miss] Fetching from ".concat(e," for ").concat(t));const r=await fetch(e);if(!r.ok){if(404===r.status)return f.A.warn("[API Error] 404 Not Found for ".concat(e,". Returning null.")),null;throw new Error("HTTP error! status: ".concat(r.status," for ").concat(e))}const s=await r.json(),i={data:s,timestamp:a,expirationHours:n};if(g.set(t,i),"nfl_players"===t)try{localStorage.setItem("sleeper_nfl_players_cache",JSON.stringify(i)),f.A.debug("[localStorage Set] NFL players data persisted to localStorage")}catch(o){f.A.warn("Failed to persist NFL players to localStorage:",o)}return f.A.debug("[Cache Set] Data fetched and cached for ".concat(t,".")),s}catch(i){throw f.A.error("Error fetching ".concat(e,":"),i),i}}function v(e){return e?"https://sleepercdn.com/avatars/thumb/".concat(e):"https://sleeper.app/_next/static/images/default_avatar-e314631317c0a0c20a46960d705a2046.png"}async function x(e){return y("".concat(p,"/league/").concat(e),"league_details_".concat(e),1)}async function b(e){let t=[],n=e;if(!e||"0"===e||""===e)return f.A.error("CURRENT_LEAGUE_ID is invalid. Please ensure it's set correctly in config.js."),[];const r="league_chain_".concat(e),a=Date.now(),s=g.get(r);if(s&&a-s.timestamp<864e5)return f.A.debug("[Cache Hit] Returning cached league chain for ".concat(r)),s.data;try{for(;n;){const e=await x(n);e?(t.push(e),n=e.previous_league_id&&"0"!==e.previous_league_id&&""!==e.previous_league_id?e.previous_league_id:null):(f.A.warn("Could not fetch details for league ID ".concat(n,". Terminating historical league chain fetch.")),n=null)}}catch(o){f.A.error("Error fetching historical league chain:",o)}return g.set(r,{data:t,timestamp:a,expirationHours:24}),t}async function w(e){return y("".concat(p,"/league/").concat(e,"/users"),"users_".concat(e),24)}async function j(){return y("https://api.sleeper.app/v1/players/nfl","nfl_players",168)}async function S(){return y("".concat(p,"/state/nfl"),"nfl_state",.5)}async function N(e){return y("".concat(p,"/league/").concat(e,"/rosters"),"rosters_".concat(e),1)}async function k(e){const[t,n]=await Promise.all([N(e),w(e)]);if(!t||!n)return f.A.warn("Could not fetch rosters or users for league ".concat(e,".")),[];const r=new Map(n.map(e=>[e.user_id,e]));return t.map(e=>{var t;const n=r.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})})}async function _(e,t,n){let r=[];if("number"===typeof t)r=[t];else{if(!Array.isArray(t))return f.A.error("Invalid 'weeks' argument for fetchMatchupsForLeague. Must be a number or array of numbers."),{};r=t}const a={},s=await k(e),o=new Map(s.map(e=>[String(e.roster_id),e])),i=r.map(async t=>{try{const r=await y("".concat(p,"/league/").concat(e,"/matchups/").concat(t),"matchups_".concat(e,"_").concat(t),.5);r&&(a[t]=function(e,t,n,r){const a=[],s=new Set;return e?(e.forEach(o=>{const i=String(o.roster_id),l=parseFloat(o.points),c=o.matchup_id;if(isNaN(l))f.A.warn("[processRawMatchups] Skipping raw matchup entry for roster ".concat(i," in week ").concat(r," due to invalid points: ").concat(o.points));else if(null!==c){const u="".concat(c,"_").concat(r);if(!s.has(u)){const d=e.find(e=>e.matchup_id===c&&String(e.roster_id)!==i);if(d){const e=String(d.roster_id),h=parseFloat(d.points);if(isNaN(h))return void f.A.warn("[processRawMatchups] Skipping paired matchup for roster ".concat(i," in week ").concat(r," due to invalid opponent points: ").concat(d.points));const m=l,p=h,g=o.starters&&o.players_points?{starters:o.starters,players_points:o.players_points}:null,y=d.starters&&d.players_points?{starters:d.starters,players_points:d.players_points}:null,v={matchup_id:c,season:n,week:r,team1_roster_id:i,team1_score:m,team1_details:t.get(i),team1_players:g,team2_roster_id:e,team2_score:p,team2_details:t.get(e),team2_players:y};m>p?(v.winner_roster_id=i,v.loser_roster_id=e):p>m?(v.winner_roster_id=e,v.loser_roster_id=i):(v.winner_roster_id=null,v.loser_roster_id=null),a.push(v),s.add(u)}else f.A.warn("[processRawMatchups] Matchup ID ".concat(c," for roster ").concat(i," in week ").concat(r," has no apparent opponent. Treating as a bye.")),a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add("".concat(i,"_").concat(r,"_bye"))}}else{const e="".concat(i,"_").concat(r,"_bye");s.has(e)||(a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add(e))}}),a):[]}(r,o,n,t))}catch(r){f.A.error("Error fetching matchups for league ".concat(e,", week ").concat(t,":"),r)}});return await Promise.all(i),a}async function P(e){try{return await y("".concat(p,"/league/").concat(e,"/winners_bracket"),"winners_bracket_".concat(e),24)}catch(t){return f.A.error("Failed to fetch winners bracket for league ID ".concat(e,":"),t),[]}}async function A(e){try{return await y("".concat(p,"/league/").concat(e,"/losers_bracket"),"losers_bracket_".concat(e),24)}catch(t){return f.A.error("Failed to fetch losers bracket for league ID ".concat(e,":"),t),[]}}function E(e,t,n,r,a,s){if(f.A.debug("[enrichBracketWithScores] Starting for ".concat(a," bracket, season: ").concat(s,", raw data count: ").concat(e.length)),!e||0===e.length||!t||!n)return f.A.warn("[enrichBracketWithScores] Returning empty array due to missing input data for ".concat(a," bracket, season ").concat(s,".")),[];const o=[...e].sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m),i=new Map,l=e=>{if("number"===typeof e||"string"===typeof e)return String(e);if("object"===typeof e&&null!==e){if(e.w){const t=i.get(String(e.w));return t&&String(t.w)||null}if(e.l){const t=i.get(String(e.l));return t&&String(t.l)||null}}return null};return o.forEach(e=>{const o=String(e.m);f.A.debug("[enrichBracketWithScores] Processing ".concat(a," match M").concat(o," R").concat(e.r,", Season ").concat(s,":"),e);const c=u({},e),d=r+(e.r-1);c.week=d,c.playoffs=!0;const h=l(e.t1||e.t1_from),m=l(e.t2||e.t2_from);c.team1_roster_id=h,c.team2_roster_id=m,c.team1_details=n.get(h),c.team2_details=n.get(m),1===e.p?c.finalSeedingGame=1:3===e.p&&(c.finalSeedingGame=3),c.w=e.w?String(e.w):null,c.l=e.l?String(e.l):null;let p=null;const g=t[d];if(f.A.debug("[enrichBracketWithScores] Looking for matchups in week ".concat(d," for season ").concat(s,". Found ").concat(g?g.length:0," matchups.")),g&&g.length>0){if(h&&m&&(p=g.find(e=>String(e.team1_roster_id)===h&&String(e.team2_roster_id)===m||String(e.team1_roster_id)===m&&String(e.team2_roster_id)===h),p&&f.A.debug("[enrichBracketWithScores] Found matchup by resolved T1/T2 for M".concat(o," R").concat(e.r,"."))),!p&&(null===h||null===m)){const t=h||m;t&&(p=g.find(e=>String(e.team1_roster_id)===t&&null===e.team2_roster_id),p&&f.A.debug("[enrichBracketWithScores] Found bye matchup for ".concat(t," for M").concat(o," R").concat(e.r,".")))}!p&&e.m&&(p=g.find(t=>String(t.matchup_id)===String(e.m)),p&&f.A.debug("[enrichBracketWithScores] Found matchup by matchup_id for M".concat(o," R").concat(e.r,".")))}else f.A.warn("[enrichBracketWithScores] No weekly scores data found for playoff week ".concat(d," in season ").concat(s,"."));p?(String(p.team1_roster_id)===h?(c.t1_score=p.team1_score,c.t2_score=p.team2_score):String(p.team2_roster_id)===h?(c.t1_score=p.team2_score,c.t2_score=p.team1_score):(c.t1_score=p.team1_score,c.t2_score=p.team2_score),p.winner_roster_id&&(c.w=String(p.winner_roster_id)),p.loser_roster_id&&(c.l=String(p.loser_roster_id)),f.A.debug("[enrichBracketWithScores] Scores and W/L assigned for M".concat(o," R").concat(e.r,", Season ").concat(s,". Winner: ").concat(c.w,", Loser: ").concat(c.l,", T1 Score: ").concat(c.t1_score,", T2 Score: ").concat(c.t2_score))):(c.t1_score=null,c.t2_score=null,null===h&&null===m?f.A.debug("[enrichBracketWithScores] No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with both teams unresolved. Scores set to null.")):f.A.warn("[enrichBracketWithScores] WARNING: No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with resolved teams T1:").concat(h,", T2:").concat(m,". Scores will be null."))),i.set(o,c)}),Array.from(i.values()).sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m)}async function O(){const e="all_historical_matchups_details",t=g.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return f.A.debug("[Cache Hit] Returning cached historical data for ".concat(e)),t.data;const r={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};try{const t=await b(d);if(!t||0===t.length)return f.A.error("No league data found for historical matchup fetching. Check CURRENT_LEAGUE_ID in config.js."),r;const s=await S(),o=(null===s||void 0===s?void 0:s.season)||(new Date).getFullYear().toString();for(const e of t){var a;const t=e.league_id,n=e.season;f.A.debug("[fetchAllHistoricalMatchups] Processing league ".concat(t," for season ").concat(n,".")),r.leaguesMetadataBySeason[n]=e;const s=await w(t);r.usersBySeason[n]=s;const i=await N(t),l=new Map(s.map(e=>[e.user_id,e])),c=i.map(e=>{var t;const n=l.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})});r.rostersBySeason[n]=c;const d=new Map(c.map(e=>[String(e.roster_id),e]));let h=null===(a=e.settings)||void 0===a?void 0:a.playoff_start_week;h||(h=15),h=Math.max(1,h);let m=h-1,p={};if(parseInt(n)<=parseInt(o)){const e=Array.from({length:m},(e,t)=>t+1);f.A.debug("[fetchAllHistoricalMatchups] Fetching regular season matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await _(t,e,n);Object.assign(p,r),0===Object.keys(r).length&&parseInt(n)===parseInt(o)&&f.A.warn("[fetchAllHistoricalMatchups] No regular season matchups found for current season ".concat(n,"."))}else f.A.debug("[fetchAllHistoricalMatchups] Skipping regular season matchup fetch for future season ".concat(n,"."));let g=[],y=[];if(parseInt(n)<=parseInt(o)){[g,y]=await Promise.all([P(t),A(t)]);const e=g.reduce((e,t)=>Math.max(e,t.r||0),0),a=y.reduce((e,t)=>Math.max(e,t.r||0),0),s=Math.max(e,a);if(f.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Max playoff round: ").concat(s,", Playoff start week: ").concat(h)),s>0){const e=Array.from({length:s},(e,t)=>h+t);f.A.debug("[fetchAllHistoricalMatchups] Fetching playoff matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await _(t,e,n);Object.assign(p,r),f.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Playoff matchups fetched. Total weeks in seasonMatchupsData: ").concat(Object.keys(p).length))}else f.A.debug("[fetchAllHistoricalMatchups] No playoff rounds found for season ".concat(n,"."));r.winnersBracketBySeason[n]=E(g,p,d,h,"winners",n),r.losersBracketBySeason[n]=E(y,p,d,h,"losers",n)}else f.A.debug("[fetchAllHistoricalMatchups] Skipping playoff bracket fetch for future season ".concat(n,".")),r.winnersBracketBySeason[n]=[],r.losersBracketBySeason[n]=[];r.matchupsBySeason[n]=p,f.A.debug("[fetchAllHistoricalMatchups] Final seasonMatchupsData for season ".concat(n,":"),p)}return g.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(s){return f.A.error("Critical error in fetchAllHistoricalMatchups:",s),g.delete(e),{matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}}}}async function I(e,t){return y("".concat(p,"/league/").concat(e,"/transactions/").concat(t),"transactions_".concat(e,"_").concat(t),1)}async function T(e){return y("".concat(p,"/league/").concat(e,"/drafts"),"drafts_".concat(e),24)}async function C(e){return y("".concat(p,"/draft/").concat(e,"/picks"),"draft_picks_".concat(e),24)}async function M(e){return y("".concat(p,"/league/").concat(e,"/traded_picks"),"traded_picks_".concat(e),24)}async function D(){const e="all_draft_history",t=g.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return f.A.debug("[Cache Hit] Returning cached draft history for ".concat(e)),t.data;const r={};try{const t=await b(d),a=await j();for(const e of t){const t=e.season,n=e.league_id;f.A.debug("[fetchAllDraftHistory] Processing league ".concat(n," for season ").concat(t,"."));const s=await T(n),o=await M(n),i=[];for(const e of s){const t=(await C(e.draft_id)).map(e=>{var t,n,r;return u(u({},e),{},{player_name:(null===(t=a[e.player_id])||void 0===t?void 0:t.full_name)||"Unknown Player",player_position:(null===(n=a[e.player_id])||void 0===n?void 0:n.position)||"",player_team:(null===(r=a[e.player_id])||void 0===r?void 0:r.team)||""})});i.push(u(u({},e),{},{picks:t}))}r[t]={drafts:i,tradedPicks:o},f.A.debug("[fetchAllDraftHistory] Draft data for season ".concat(t,":"),r[t])}return g.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(a){return f.A.error("Critical error in fetchAllDraftHistory:",a),g.delete(e),{}}}const R=(e,t,n,r,a)=>{var s,o,i,l,c;let d=e.player_name||"Unknown Player";"DEF"===(null===(s=e.metadata)||void 0===s?void 0:s.position)&&(d="".concat(e.metadata.first_name||""," ").concat(e.metadata.last_name||"").trim(),d||(d="Unknown Defense"));const h=t.find(t=>t.user_id===e.picked_by),m=null===(o=n.rostersBySeason)||void 0===o||null===(i=o[r])||void 0===i?void 0:i.find(t=>String(t.owner_id)===String(e.picked_by));return u(u({},e),{},{player_name:d,player_position:e.player_position||"",player_team:(null===(l=e.metadata)||void 0===l?void 0:l.team)||e.player_team||"",picked_by_display_name:h&&h.display_name||"Unknown User",picked_by_team_name:m&&(null===(c=m.metadata)||void 0===c?void 0:c.team_name)||a(e.picked_by,r)})},L=e=>"number"===typeof e.fantasy_points?e.fantasy_points:0,F=e=>{const t=new Map;if(0===e){try{n(5452).A.warn("generateExpectedVorpByPickSlot: No picks to assign expected VORP values.")}catch(a){}return t}const r=27.1/Math.log(10);for(let n=1;n<=e;n++){const e=27.1-r*Math.log(Math.max(1,n));t.set(n,e)}return t},B=(e,t)=>e-t,W=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"regular",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Unknown Player";if(!e||!t)return f.A.warn("fetchPlayerStats: Player ID and season are required."),null;const a="https://api.sleeper.app/stats/nfl/player/".concat(e,"?season_type=").concat(n,"&season=").concat(t,"&grouping=week");try{const n=await fetch(a);if(!n.ok){f.A.error("Error fetching stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,": HTTP Status ").concat(n.status," - ").concat(n.statusText));try{const t=await n.text();f.A.error("Error response body for ".concat(r," (ID: ").concat(e,"):"),t)}catch(s){f.A.error("Could not read error response body for ".concat(r," (ID: ").concat(e,"):"),s)}return null}const o=await n.json();return f.A.debug("Successfully fetched stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,":"),o),o}catch(o){return f.A.error("Failed to fetch stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t," (network or JSON parse error):"),o),null}},U=async e=>{if(!e)return f.A.error("fetchLeagueScoringSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return f.A.error("Error fetching league settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json();return f.A.debug("Successfully fetched league settings for league ".concat(e,":"),r.scoring_settings),r.scoring_settings||null}catch(n){return f.A.error("Failed to fetch league settings for league ".concat(e,":"),n),null}},z=async e=>{if(!e)return f.A.error("fetchLeagueRosterSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return f.A.error("Error fetching league roster settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json(),a={roster_positions:r.roster_positions||[],total_rosters:r.total_rosters||0};return f.A.debug("Successfully fetched league roster settings for league ".concat(e,":"),a),a}catch(n){return f.A.error("Failed to fetch league roster settings for league ".concat(e,":"),n),null}},V=(e,t,n)=>{if(!e||!t)return 0;let r=0;for(const a in e)if(e[a]&&e[a].stats){const s=e[a].stats;for(const e in t){if(e.startsWith("pts_allow_")||e.startsWith("yds_allow_"))continue;const n=s[e],a=t[e];"number"===typeof n&&"number"===typeof a&&(r+=n*a)}if("string"===typeof n&&"DEF"===n.toUpperCase()){const e=s.pts_allow,n=s.yds_allow;"number"===typeof e&&(0===e&&"number"===typeof t.pts_allow_0?r+=t.pts_allow_0:e>=1&&e<=6&&"number"===typeof t.pts_allow_1_6?r+=t.pts_allow_1_6:e>=7&&e<=13&&"number"===typeof t.pts_allow_7_13?r+=t.pts_allow_7_13:e>=14&&e<=20&&"number"===typeof t.pts_allow_14_20?r+=t.pts_allow_14_20:e>=21&&e<=27&&"number"===typeof t.pts_allow_21_27?r+=t.pts_allow_21_27:e>=28&&e<=34&&"number"===typeof t.pts_allow_28_34?r+=t.pts_allow_28_34:e>=35&&"number"===typeof t.pts_allow_35p&&(r+=t.pts_allow_35p)),"number"===typeof n&&(n>=0&&n<=100&&"number"===typeof t.yds_allow_0_100?r+=t.yds_allow_0_100:n>=101&&n<=199&&"number"===typeof t.yds_allow_100_199?r+=t.yds_allow_100_199:n>=200&&n<=299&&"number"===typeof t.yds_allow_200_299?r+=t.yds_allow_200_299:n>=300&&n<=349&&"number"===typeof t.yds_allow_300_349?r+=t.yds_allow_300_349:n>=350&&n<=399&&"number"===typeof t.yds_allow_350_399?r+=t.yds_allow_350_399:n>=400&&n<=449&&"number"===typeof t.yds_allow_400_449?r+=t.yds_allow_400_449:n>=450&&n<=499&&"number"===typeof t.yds_allow_450_499?r+=t.yds_allow_450_499:n>=500&&n<=549&&"number"===typeof t.yds_allow_500_549?r+=t.yds_allow_500_549:n>=550&&"number"===typeof t.yds_allow_550p&&(r+=t.yds_allow_550p))}}return r},H=e=>{const t={},n=[],r=e.filter(e=>"number"===typeof e.fantasy_points&&"string"===typeof e.player_position&&e.player_position);n.push(...r),r.forEach(e=>{const n="string"===typeof e.player_position?e.player_position.toUpperCase():"";t[n]||(t[n]=[]),t[n].push(e)}),n.sort((e,t)=>t.fantasy_points-e.fantasy_points),n.forEach((e,t)=>{e.overall_rank=t+1});for(const a in t)t[a].sort((e,t)=>t.fantasy_points-e.fantasy_points),t[a].forEach((e,t)=>{e.positional_rank=t+1});return{positional:t,overall:n}},G=(e,t)=>{if(!e||!t||!Array.isArray(t.roster_positions)||"number"!==typeof t.total_rosters)return f.A.warn("calculateVORP: Missing or invalid positional rankings or league roster settings."),{};const n={},r={QB:18,RB:36,WR:48,TE:12,K:12,DEF:12};f.A.debug("VORP Calculation - Fixed Replacement Ranks:",r);for(const a in e){const t=e[a],s=a.toUpperCase(),o=r[s]||0,i=o>0?o-1:-1;let l=0,c="N/A";if(i>=0&&i<t.length){const e=t[i];l=e.fantasy_points,c=e.player_name,f.A.debug("Replacement player for ".concat(s," (rank ").concat(i+1,"): ").concat(c," with ").concat(l.toFixed(2)," points."))}else f.A.warn("Could not find a valid replacement player for ".concat(s," at calculated rank ").concat(o,". Not enough players ranked or rank is 0. Setting replacement points to 0."));n[s]=t.map(e=>u(u({},e),{},{vorp:e.fantasy_points-l}))}return n};const q={computeBadges:function(){return{badgesByTeam:{},recentBadges:[]}}};var K=n(579);const Y=(0,t.createContext)(),Q="1074092015093413888",X=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0;const r=new Array(e.length);let a=0;const s=new Array(Math.min(t,e.length)).fill(null).map(async()=>{for(;a<e.length;){const s=a++;try{r[s]=await n(e[s],s)}catch(t){r[s]=void 0}}});return await Promise.all(s),r},$=e=>{var r;let{children:a}=e;const[o,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),[x,k]=(0,t.useState)(null),[_,P]=(0,t.useState)({}),[A,E]=(0,t.useState)({}),[I,T]=(0,t.useState)({}),[C,M]=(0,t.useState)(null),[R,L]=(0,t.useState)({}),[F,B]=(0,t.useState)([]),[U,z]=(0,t.useState)([]),[H,G]=(0,t.useState)(!0),[$,J]=(0,t.useState)(null),Z={matchupsBySeason:[{team1_roster_id:"1",team1_score:155.04,team2_roster_id:"7",team2_score:175.4,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:123.47,team2_roster_id:"10",team2_score:121.27,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:141.71,team2_roster_id:"12",team2_score:135.24,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:151.61,team2_roster_id:"5",team2_score:183.29,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:136.88,team2_roster_id:"11",team2_score:168.74,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:135.89,team2_roster_id:"9",team2_score:119.19,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:128.19,team2_roster_id:"3",team2_score:179.42,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:125.49,team2_roster_id:"8",team2_score:135.28,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:95.71,team2_roster_id:"6",team2_score:128.81,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:142.02,team2_roster_id:"11",team2_score:136.58,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:147.1,team2_roster_id:"12",team2_score:139.7,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:182.01,team2_roster_id:"10",team2_score:124.79,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.72,team2_roster_id:"12",team2_score:117.53,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:153.86,team2_roster_id:"9",team2_score:137.5,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:126.72,team2_roster_id:"7",team2_score:118.27,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:126.08,team2_roster_id:"11",team2_score:80.37,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.67,team2_roster_id:"6",team2_score:165.55,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:132.49,team2_roster_id:"10",team2_score:134.76,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:95.22,team2_roster_id:"8",team2_score:139.42,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:110.04,team2_roster_id:"4",team2_score:151.08,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:134.74,team2_roster_id:"7",team2_score:153.16,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:176.2,team2_roster_id:"10",team2_score:110.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:131.12,team2_roster_id:"9",team2_score:142.27,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"11",team1_score:131.74,team2_roster_id:"12",team2_score:168.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:141.51,team2_roster_id:"12",team2_score:114.22,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:189.6,team2_roster_id:"7",team2_score:111.37,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:168.61,team2_roster_id:"10",team2_score:112.88,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:189.37,team2_roster_id:"9",team2_score:170.56,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:135.89,team2_roster_id:"11",team2_score:118.72,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:182.28,team2_roster_id:"8",team2_score:141.35,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:165.57,team2_roster_id:"9",team2_score:147.1,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:156.76,team2_roster_id:"8",team2_score:150.17,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:176.81,team2_roster_id:"6",team2_score:115.06,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:98.65,team2_roster_id:"5",team2_score:167.96,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:96.52,team2_roster_id:"12",team2_score:120.88,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:119.58,team2_roster_id:"11",team2_score:158.65,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:102.87,team2_roster_id:"2",team2_score:102.36,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:161.6,team2_roster_id:"9",team2_score:127.68,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:131.19,team2_roster_id:"11",team2_score:148.13,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:128.2,team2_roster_id:"12",team2_score:100.82,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:123.52,team2_roster_id:"10",team2_score:166.75,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:123.8,team2_roster_id:"8",team2_score:136.57,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:122.39,team2_roster_id:"10",team2_score:162.99,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:120.4,team2_roster_id:"9",team2_score:135.55,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:85.95,team2_roster_id:"8",team2_score:138,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:93.82,team2_roster_id:"12",team2_score:153.63,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:123.2,team2_roster_id:"7",team2_score:114.23,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:133.31,team2_roster_id:"11",team2_score:147.93,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:77.36,team2_roster_id:"11",team2_score:144.56,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:104.29,team2_roster_id:"3",team2_score:119.83,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:169.03,team2_roster_id:"6",team2_score:103.37,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.32,team2_roster_id:"9",team2_score:119.24,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:107.79,team2_roster_id:"10",team2_score:89.49,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:194.81,team2_roster_id:"12",team2_score:84.42,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.35,team2_roster_id:"5",team2_score:164.05,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:136.31,team2_roster_id:"6",team2_score:134.48,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:114.71,team2_roster_id:"4",team2_score:101.82,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:108.14,team2_roster_id:"11",team2_score:102.18,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:92.51,team2_roster_id:"10",team2_score:119.01,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.42,team2_roster_id:"12",team2_score:107.53,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:107.51,team2_roster_id:"3",team2_score:173.96,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:132.54,team2_roster_id:"10",team2_score:94.17,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:110.36,team2_roster_id:"7",team2_score:145.77,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:154.05,team2_roster_id:"8",team2_score:199.61,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:119.34,team2_roster_id:"12",team2_score:122.8,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:142.6,team2_roster_id:"11",team2_score:103.52,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:175.69,team2_roster_id:"7",team2_score:90.75,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:158.17,team2_roster_id:"11",team2_score:104.14,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:159.93,team2_roster_id:"12",team2_score:78.49,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:111.52,team2_roster_id:"8",team2_score:144.08,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:171.34,team2_roster_id:"6",team2_score:116,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.64,team2_roster_id:"10",team2_score:114.13,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:103.23,team2_roster_id:"4",team2_score:106.89,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:138.67,team2_roster_id:"5",team2_score:127.8,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:163.2,team2_roster_id:"11",team2_score:87.06,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:110.88,team2_roster_id:"7",team2_score:103.77,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:142.74,team2_roster_id:"9",team2_score:167.3,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:124.58,team2_roster_id:"12",team2_score:141.24,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.16,team2_roster_id:"6",team2_score:123.3,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:167.62,team2_roster_id:"12",team2_score:125.51,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:143.5,team2_roster_id:"5",team2_score:163.4,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:105.78,team2_roster_id:"10",team2_score:132.44,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:102.73,team2_roster_id:"9",team2_score:154.67,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:156.33,team2_roster_id:"11",team2_score:122.83,week:"14",year:"2021",regSeason:!0}],rostersBySeason:[{roster_id:"1",owner_id:"783790952367169536",metadata:{team_name:"Ainsworth"}},{roster_id:"2",owner_id:"783761299275382784",metadata:{team_name:"Bjarnar"}},{roster_id:"3",owner_id:"783789717920534528",metadata:{team_name:"Blumbergs"}},{roster_id:"4",owner_id:"783789669597999104",metadata:{team_name:"Boilard"}},{roster_id:"5",owner_id:"783767734491127808",metadata:{team_name:"Dembski"}},{roster_id:"6",owner_id:"467074573125283840",metadata:{team_name:"Irwin"}},{roster_id:"7",owner_id:"783778036578418688",metadata:{team_name:"Meer"}},{roster_id:"8",owner_id:"783763304463147008",metadata:{team_name:"Neufeglise"}},{roster_id:"9",owner_id:"783758716272009216",metadata:{team_name:"O'Donoghue"}},{roster_id:"10",owner_id:"783754997035876352",metadata:{team_name:"Randall"}},{roster_id:"11",owner_id:"783761892693905408",metadata:{team_name:"Schmitt"}},{roster_id:"12",owner_id:"787044291066380288",metadata:{team_name:"Tomczak"}}],usersBySeason:[{user_id:"783790952367169536",display_name:"Kurt's WAP"},{user_id:"783761299275382784",display_name:"Bohan's Bitches"},{user_id:"783789717920534528",display_name:"Hangin' With Hernandez"},{user_id:"783789669597999104",display_name:"Camel Toe Hounds"},{user_id:"783767734491127808",display_name:"Balls Mafia"},{user_id:"467074573125283840",display_name:"No Romo"},{user_id:"783778036578418688",display_name:"Christian McCockherpussy"},{user_id:"783763304463147008",display_name:"The Wolf of Waller Street"},{user_id:"783758716272009216",display_name:"O'D's Danglers"},{user_id:"783754997035876352",display_name:"The Team of Constant Sorrow"},{user_id:"783761892693905408",display_name:"Matt's O'DUI"},{user_id:"787044291066380288",display_name:"Michael Vick's Vet Clinic"}],leaguesMetadataBySeason:{settings:{playoff_start_week:15,scoring_settings:{pass_yd:.04,pass_td:4,pass_int:-1,rush_yd:.1,rush_td:6,rec_yd:.1,rec:.5,rec_td:6,fum_lost:-2},roster_positions:["QB","RB","RB","WR","WR","TE","FLEX","K","DEF","BN","BN","BN","BN","BN","BN","BN"]},season:"2021"},winnersBracketBySeason:[{m:1,r:1,w:"8",l:"9",t1:"8",t2:"9",t1_score:123.49,t2_score:113.36,week:15,playoffs:!0},{m:2,r:1,w:"1",l:"2",t1:"2",t2:"1",t1_score:142.05,t2_score:148.61,week:15,playoffs:!0},{m:3,r:2,w:"5",l:"8",t1:"5",t2:"8",t1_score:174.09,t2_score:114.7,week:16,playoffs:!0},{m:4,r:2,w:"1",l:"3",t1:"1",t2:"3",t1_score:163.38,t2_score:142.81,week:16,playoffs:!0},{m:5,r:3,p:1,w:"1",l:"5",t1:"5",t2:"1",t1_score:96.58,t2_score:134.51,week:17,playoffs:!0},{m:6,r:3,p:3,w:"3",l:"8",t1:"8",t2:"3",t1_score:159.89,t2_score:163.1,week:17,playoffs:!0},{m:7,r:2,p:5,w:"2",l:"9",t1:"9",t2:"2",t1_score:113.09,t2_score:143.89,week:16,playoffs:!0}],losersBracketBySeason:[{m:2,r:1,w:"11",l:"4",t1:"11",t2:"4",t1_score:97.93,t2_score:86.3,week:15,playoffs:!0},{m:3,r:1,w:"6",l:"7",t1:"7",t2:"6",t1_score:76.62,t2_score:81.32,week:15,playoffs:!0},{m:4,r:2,w:"10",l:"11",t1:"10",t2:"11",t1_score:83.46,t2_score:26.22,week:16,playoffs:!0},{m:5,r:2,w:"12",l:"6",t1:"6",t2:"12",t1_score:37.26,t2_score:49.31,week:16,playoffs:!0},{m:6,r:2,p:11,w:"7",l:"4",t1:"7",t2:"4",t1_score:111.27,t2_score:102.74,week:16,playoffs:!0},{m:7,r:3,p:7,w:"12",l:"10",t1:"10",t2:"12",t1_score:13.66,t2_score:47.98,week:17,playoffs:!0},{m:8,r:3,p:9,w:"6",l:"11",t1:"11",t2:"6",t1_score:9.4,t2_score:51.56,week:17,playoffs:!0}]},ee=(0,t.useMemo)(()=>{var e,t;const n=new Map,r=(new Map,u(u({},(null===x||void 0===x?void 0:x.usersBySeason)||{}),{},{2021:(null===(e=Z)||void 0===e?void 0:e.usersBySeason)||[]})),a=u(u({},(null===x||void 0===x?void 0:x.rostersBySeason)||{}),{},{2021:(null===(t=Z)||void 0===t?void 0:t.rostersBySeason)||[]});r&&Object.entries(r).forEach(e=>{let[t,r]=e;const a=new Map;Array.isArray(r)&&r.forEach(e=>{a.set(e.user_id,e)}),n.set(t,a)}),a&&Object.entries(a).forEach(e=>{let[t,n]=e;const r=new Map;Array.isArray(n)&&n.forEach(e=>{r.set(e.roster_id,e)}),r.set(t,r)});const s=new Map;return l&&l.forEach(e=>{s.set(e.user_id,e)}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.team_name?e.metadata.team_name:null!==e&&void 0!==e&&e.display_name?e.display_name:null};let a="Unknown Team (ID: ".concat(e,")");if(null===t){const t=r(s.get(e));if(t)a=t;else{const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=null===C||void 0===C?void 0:C.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}else{if(n.has(String(t))){const s=r(n.get(String(t)).get(e));s&&(a=s)}if(a.startsWith("Unknown Team (ID:")){const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=r(s.get(e));t&&(a=t)}if(a.startsWith("Unknown Team (ID:")){const t=null===C||void 0===C?void 0:C.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}return a}},[l,x,C]),te=(0,t.useMemo)(()=>(e,t)=>{let n=null;var r,a;return x&&x.usersBySeason&&x.usersBySeason[t]&&e&&(n=x.usersBySeason[t].find(t=>t.user_id===e)),!n&&l&&e&&(n=l.find(t=>t.user_id===e)),n?{name:(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name,avatar:(null===(a=n.metadata)||void 0===a?void 0:a.avatar)||(n.avatar?"https://sleepercdn.com/avatars/".concat(n.avatar):"https://sleepercdn.com/avatars/default_avatar.png")}:"string"!==typeof e||/^\d+$/.test(e)?{name:"Team (ID: ".concat(e,")"),avatar:"https://sleepercdn.com/avatars/default_avatar.png"}:{name:e,avatar:"https://sleepercdn.com/avatars/default_avatar.png"}},[l,x]);(0,t.useEffect)(()=>{(async()=>{G(!0),J(null);try{var e,t,n,r,a,o;const p=d||Q;if(!p)return J(new Error("No league ID provided or fallback ID is invalid. Please set CURRENT_LEAGUE_ID in config.js or ensure FALLBACK_LEAGUE_ID is valid.")),void G(!1);0;const[y,x,_,A,I,C,R]=await Promise.all([b(p),w(p),N(p),j(),S(),O(),D()]);if(!y)return J(new Error("Failed to fetch initial league data for ID: ".concat(p,". Please check the league ID in config.js or the fallback ID."))),void G(!1);i(y),c(x),m(_),g(A),v(I);let F=[];if(I&&I.week){const e=Array.from({length:I.week},(e,t)=>t+1),t=await X(e,4,async e=>{try{return await(async(e,t)=>{const n="https://api.sleeper.app/v1/league/".concat(e,"/transactions/").concat(t);try{const e=await fetch(n);if(!e.ok)throw new Error("Failed to fetch transactions for week ".concat(t,". Status: ").concat(e.status));return await e.json()}catch($){return f.A.error("Error fetching transactions for week ".concat(t,":"),$),[]}})(p,e)}catch(t){return[]}});F=t.flat().filter(Boolean)}z(F),f.A.debug("SleeperDataContext: Fetched transactions (count):",F.length);const W={},U={};if(R)for(const e in R)if(R.hasOwnProperty(e)){var l,h;const t=R[e],n=(null===(l=t.drafts)||void 0===l?void 0:l.find(e=>"complete"===e.status))||(null===(h=t.drafts)||void 0===h?void 0:h[0]);n&&(W[e]=n,U[e]=n.picks||[])}P(W),E(U);const V={};null!==C&&void 0!==C&&C.matchupsBySeason&&Object.entries(C.matchupsBySeason).forEach(e=>{let[t,n]=e;"object"!==typeof n||null===n||Array.isArray(n)?Array.isArray(n)?V[t]=n:V[t]=[]:V[t]=Object.values(n).flat()});const H={matchupsBySeason:u(u({},V||{}),{},{2021:(null===(e=Z)||void 0===e?void 0:e.matchupsBySeason)||[]}),rostersBySeason:u(u({},(null===C||void 0===C?void 0:C.rostersBySeason)||{}),{},{2021:(null===(t=Z)||void 0===t?void 0:t.rostersBySeason)||[]}),usersBySeason:u(u({},(null===C||void 0===C?void 0:C.usersBySeason)||{}),{},{2021:(null===(n=Z)||void 0===n?void 0:n.usersBySeason)||[]}),leaguesMetadataBySeason:u(u({},(null===C||void 0===C?void 0:C.leaguesMetadataBySeason)||{}),{},{2021:(null===(r=Z)||void 0===r?void 0:r.leaguesMetadataBySeason)||{}}),winnersBracketBySeason:u(u({},(null===C||void 0===C?void 0:C.winnersBracketBySeason)||{}),{},{2021:(null===(a=Z)||void 0===a?void 0:a.winnersBracketBySeason)||[]}),losersBracketBySeason:u(u({},(null===C||void 0===C?void 0:C.losersBracketBySeason)||{}),{},{2021:(null===(o=Z)||void 0===o?void 0:o.losersBracketBySeason)||[]}),draftsBySeason:W,draftPicksBySeason:U,tradedPicksBySeason:(()=>{const e={};if(R)for(const t in R){if(!R.hasOwnProperty(t))continue;const n=R[t];e[t]=n.tradedPicks||n.traded_picks||[]}return e})()};if(k(H),H&&Object.keys(H.matchupsBySeason).length>0){const{seasonalMetrics:e,careerDPRData:t}=s(H,0,ee,I);T(e),M(t),L({}),B([])}else T({}),M(null);G(!1),f.A.debug("SleeperDataContext: Final nflPlayers state:",A),f.A.debug("SleeperDataContext: Final draftsBySeason state:",W),f.A.debug("SleeperDataContext: Final draftPicksBySeason state:",U),f.A.debug("SleeperDataContext: Final historicalMatchups (merged historicalData) state:",H)}catch(p){f.A.error("Failed to load initial Sleeper data:",p),J(p),G(!1)}})()},[]);const ne=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!x||!x.matchupsBySeason||0===Object.keys(x.matchupsBySeason).length)return{badgesByTeam:{},recentBadges:[]};try{const r=x,a={};r.playerSeasonPoints=a;const s=Object.keys(A||{});for(const e of s){const t=String(e),s=A[t]||[],i=Array.from(new Set(s.map(e=>e&&(e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id))).filter(Boolean)));a[t]=a[t]||{},await X(i,5,async i=>{try{const e=s.find(e=>{const t=e&&(e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id));return String(t)===String(i)})||{},n=e.player_name||e.metadata&&(e.metadata.name||"".concat(e.metadata.first_name||""," ").concat(e.metadata.last_name||""))||"Unknown Player",l=(e.player_position||e.player_pos||e.metadata&&e.metadata.position||"").toString().toUpperCase();let c=r.leaguesMetadataBySeason&&r.leaguesMetadataBySeason[t]&&r.leaguesMetadataBySeason[t].settings&&r.leaguesMetadataBySeason[t].settings.scoring_settings||o&&o.settings&&o.settings.scoring_settings||{};if(!c||0===Object.keys(c).length){const e={fgm:3,fg:3,fg_0_19:3,fg_20_29:3,fg_30_39:3,fg_40_49:3,fg_50p:4,xp:1,xpmade:1,xp_made:1};c=Object.assign({},e,c||{})}const u=await W(i,t,"regular",n),d=u?V(u,c,l):0;a[t][i]={playerId:i,playerName:n,position:l,totalPoints:d}}catch(l){try{n(5452).A.warn("Failed to fetch/calc points for player ".concat(i," in season ").concat(e,":"),l)}catch(c){}}})}const{badgesByTeam:i,recentBadges:c}=q.computeBadges(u({historicalData:r,processedSeasonalRecords:I,draftPicksBySeason:A,transactions:U,usersData:l,getTeamName:ee},e));L(i||{}),B(c||[]);try{"undefined"!==typeof window&&(window.__computedBadges={badgesByTeam:i||{},recentBadges:c||{},historicalData:r})}catch(t){}return{badgesByTeam:i||{},recentBadges:c||[]}}catch(r){try{n(5452).A.error("computeBadgesNow failed:",r)}catch(t){}return L({}),B([]),{badgesByTeam:{},recentBadges:[]}}},re=(0,t.useMemo)(()=>({draftsBySeason:_,draftPicksBySeason:A,tradedPicksBySeason:(()=>{const e={};return _&&Object.keys(_).forEach(t=>{var n;e[t]=(null===(n=_[t])||void 0===n?void 0:n.tradedPicks)||[]}),x&&x.tradedPicksBySeason&&Object.assign(e,x.tradedPicksBySeason),e})()}),[_,A,x]),ae=(0,t.useMemo)(()=>{try{const e=Object.values(A||{});return(Array.isArray(e)?e.flat():[])||[]}catch(e){return[]}},[A]),se=Array.isArray(o)&&o.length>0?o[0]:o,oe=(null===se||void 0===se?void 0:se.season)||(Array.isArray(o)&&o.length>0?null===(r=o[0])||void 0===r?void 0:r.season:null),ie=(0,t.useMemo)(()=>({leagueData:o,usersData:l,rostersWithDetails:h,nflPlayers:p,nflState:y,historicalData:x,draftsBySeason:_,draftPicksBySeason:A,draftHistoryBySeason:re,allDraftHistory:ae,processedSeasonalRecords:I,badgesByTeam:R,recentBadges:F,careerDPRData:C,transactions:U,loading:H,error:$,currentSeason:oe,getTeamName:ee,getTeamDetails:te,computeBadgesNow:ne}),[o,l,h,p,y,x,_,A,re,ae,I,C,U,H,$,oe,ee,te,ne]);return(0,K.jsx)(Y.Provider,{value:ie,children:a})},J=()=>{const e=(0,t.useContext)(Y);if(void 0===e)throw new Error("useSleeperData must be used within a SleeperDataProvider");return e},Z=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,o=s?e[a+1]:0,i=a+2<e.length,l=i?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;i||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Z(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const i=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==o||null==i)throw new te;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==i){const e=o<<6&192|i;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ne=function(e){return function(e){const t=Z(e);return ee.encodeByteArray(t,!0)}(e).replace(/\./g,"")},re=function(e){try{return ee.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const ae=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,se=()=>{try{return ae()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&re(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},oe=e=>{var t,n;return null===(n=null===(t=se())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ie=()=>{var e;return null===(e=se())||void 0===e?void 0:e.config},le=e=>{var t;return null===(t=se())||void 0===t?void 0:t["_".concat(e)]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ue(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function de(){return!function(){var e;const t=null===(e=se())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"===typeof indexedDB}catch(e){return!1}}class me extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(pe,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new me(n,s,t)}}const pe=/\{\$([^}]+)}/g;function ge(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(ye(n)&&ye(s)){if(!ge(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function ye(e){return null!==e&&"object"===typeof e}function ve(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xe(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function be(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class we{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=je),void 0===r.error&&(r.error=je),void 0===r.complete&&(r.complete=je);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function je(){}function Se(e){return e&&e._delegate?e._delegate:e}class Ne{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ke="[DEFAULT]";class _e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ce;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ke})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===ke?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.component?this.component.multipleInstances?e:ke:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ae=[];var Ee;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ee||(Ee={}));const Oe={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Ie=Ee.INFO,Te={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Ce=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Te[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Me{constructor(e){this.name=e,this._logLevel=Ie,this._logHandler=Ce,this._userLogHandler=null,Ae.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Oe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}}let De,Re;const Le=new WeakMap,Fe=new WeakMap,Be=new WeakMap,We=new WeakMap,Ue=new WeakMap;let ze={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Be.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ge(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qe(this),n),Ge(Le.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(e.apply(qe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(qe(this),t,...r);return Be.set(s,t.sort?t.sort():[t]),Ge(s)}}function He(e){return"function"===typeof e?Ve(e):(e instanceof IDBTransaction&&function(e){if(Fe.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Fe.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ze):e)}function Ge(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(Ge(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Le.set(t,e)}).catch(()=>{}),Ue.set(t,e),t}(e);if(We.has(e))return We.get(e);const t=He(e);return t!==e&&(We.set(e,t),Ue.set(t,e)),t}const qe=e=>Ue.get(e);const Ke=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Qe=new Map;function Xe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Qe.get(t))return Qe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Ye.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Ke.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r&&(s=s.index(i.shift())),(await Promise.all([s[n](...i),a&&t.done]))[0]};return Qe.set(t,s),s}ze=(e=>u(u({},e),{},{get:(t,n,r)=>Xe(t,n)||e.get(t,n,r),has:(t,n)=>!!Xe(t,n)||e.has(t,n)}))(ze);class $e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Je="@firebase/app",Ze="0.10.13",et=new Me("@firebase/app"),tt="@firebase/app-compat",nt="@firebase/analytics-compat",rt="@firebase/analytics",at="@firebase/app-check-compat",st="@firebase/app-check",ot="@firebase/auth",it="@firebase/auth-compat",lt="@firebase/database",ct="@firebase/data-connect",ut="@firebase/database-compat",dt="@firebase/functions",ht="@firebase/functions-compat",mt="@firebase/installations",ft="@firebase/installations-compat",pt="@firebase/messaging",gt="@firebase/messaging-compat",yt="@firebase/performance",vt="@firebase/performance-compat",xt="@firebase/remote-config",bt="@firebase/remote-config-compat",wt="@firebase/storage",jt="@firebase/storage-compat",St="@firebase/firestore",Nt="@firebase/vertexai-preview",kt="@firebase/firestore-compat",_t="firebase",Pt="[DEFAULT]",At={[Je]:"fire-core",[tt]:"fire-core-compat",[rt]:"fire-analytics",[nt]:"fire-analytics-compat",[st]:"fire-app-check",[at]:"fire-app-check-compat",[ot]:"fire-auth",[it]:"fire-auth-compat",[lt]:"fire-rtdb",[ct]:"fire-data-connect",[ut]:"fire-rtdb-compat",[dt]:"fire-fn",[ht]:"fire-fn-compat",[mt]:"fire-iid",[ft]:"fire-iid-compat",[pt]:"fire-fcm",[gt]:"fire-fcm-compat",[yt]:"fire-perf",[vt]:"fire-perf-compat",[xt]:"fire-rc",[bt]:"fire-rc-compat",[wt]:"fire-gcs",[jt]:"fire-gcs-compat",[St]:"fire-fst",[kt]:"fire-fst-compat",[Nt]:"fire-vertex","fire-js":"fire-js",[_t]:"fire-js-all"},Et=new Map,Ot=new Map,It=new Map;function Tt(e,t){try{e.container.addComponent(t)}catch(n){et.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ct(e){const t=e.name;if(It.has(t))return et.debug("There were multiple attempts to register component ".concat(t,".")),!1;It.set(t,e);for(const n of Et.values())Tt(n,e);for(const n of Ot.values())Tt(n,e);return!0}function Mt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Dt(e){return void 0!==e.settings}const Rt=new fe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Lt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ne("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const Ft="10.14.1";function Bt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Rt.create("bad-app-name",{appName:String(a)});if(n||(n=ie()),!n)throw Rt.create("no-options");const s=Et.get(a);if(s){if(ge(n,s.options)&&ge(r,s.config))return s;throw Rt.create("duplicate-app",{appName:a})}const o=new Pe(a);for(const l of It.values())o.addComponent(l);const i=new Lt(n,r,o);return Et.set(a,i),i}function Wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;const t=Et.get(e);if(!t&&e===Pt&&ie())return Bt();if(!t)throw Rt.create("no-app",{appName:e});return t}function Ut(e,t,n){var r;let a=null!==(r=At[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void et.warn(e.join(" "))}Ct(new Ne("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const zt="firebase-heartbeat-store";let Vt=null;function Ht(){return Vt||(Vt=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),i=Ge(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Ge(o.result),e.oldVersion,e.newVersion,Ge(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(zt)}catch(n){console.warn(n)}}}).catch(e=>{throw Rt.create("idb-open",{originalErrorMessage:e.message})})),Vt}async function Gt(e,t){try{const n=(await Ht()).transaction(zt,"readwrite"),r=n.objectStore(zt);await r.put(t,qt(e)),await n.done}catch(n){if(n instanceof me)et.warn(n.message);else{const e=Rt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});et.warn(e.message)}}}function qt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Kt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){et.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Yt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Xt(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=ne(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return et.warn(t),""}}}function Yt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!he()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ht()).transaction(zt),n=await t.objectStore(zt).get(qt(e));return await t.done,n}catch(t){if(t instanceof me)et.warn(t.message);else{const e=Rt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});et.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Xt(e){return ne(JSON.stringify({version:2,heartbeats:e})).length}var $t;$t="",Ct(new Ne("platform-logger",e=>new $e(e),"PRIVATE")),Ct(new Ne("heartbeat",e=>new Kt(e),"PRIVATE")),Ut(Je,Ze,$t),Ut(Je,Ze,"esm2017"),Ut("fire-js","");Ut("firebase","10.14.1","app");var Jt,Zt,en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var s=e.g[3],o=t+(s^n&(a^s))+r[0]+3614090360&4294967295;o=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^s&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(a^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=s+((o=a+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,a),s=0;break}}else for(;o<t;)if(a[s++]=e[o++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return i;if(0>e)return h(o(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var i=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(i,i);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(a=a.add(n),s=c),r=v(r,1),n=v(n,1)}return t=m(e,a.j(t)),new p(a,t)}for(a=i;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=m(e,c)}return new p(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,s=[],o=0;o<a;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,s=((0<(n=m(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,s=0;s<=t;s++){var o=a+(65535&this.i(s))+(65535&e.i(s)),i=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);a=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return i;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var s=0;s<e.g.length;s++){var l=this.i(a)>>>16,m=65535&this.i(a),p=e.i(s)>>>16,g=65535&e.i(s);n[2*a+2*s]+=m*g,f(n,2*a+2*s),n[2*a+2*s+1]+=l*g,f(n,2*a+2*s+1),n[2*a+2*s+1]+=m*p,f(n,2*a+2*s+1),n[2*a+2*s+2]+=l*p,f(n,2*a+2*s+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Zt=tn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),a=i,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),a=a.j(l).add(o(c))):a=(a=a.j(r)).add(o(c))}return a},Jt=tn.Integer=r}).apply("undefined"!==typeof en?en:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var nn,rn,an,sn,on,ln,cn,un,dn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof dn&&dn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in a))break e;a=a[o]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function i(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){a.setTimeout(()=>{throw e},0)}function N(){var e=E;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _,e=>e.reset());class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,A=!1,E=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=a.Promise.resolve(void 0);P=()=>{e.then(I)}};var I=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(Jh){S(Jh)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function T(){this.s=this.s,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(Jh){}return e}();function D(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(s){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,C);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=0<=s)&&Array.prototype.splice.call(a,s,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var a=0;a<e.length;++a){var s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}U.prototype.add=function(e,t,n,r,a){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=V(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function q(e,t,n,r,a){if(r&&r.once)return Y(e,t,n,r,a);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");var i=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new U(e)),(n=l.add(t,n,r,i,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(a=i),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Q(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,a);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(s=e.g[t],n,r,a))&&(W(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):W(e)}}}function $(e){return e in G?G[e]:G[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){T.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var a=t;w(t=new C(r,e),a)}if(a=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];a=ae(o,r,!0,t)&&a}if(a=ae(o=t.g=e,r,!0,t)&&a,a=ae(o,r,!1,t)&&a,n)for(s=0;s<n.length;s++)a=ae(o=t.g=n[s],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var i=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),a=!1!==i.call(l,r)&&a}}return a&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,T),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)W(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ie extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){T.call(this),this.h=e,this.g={}}d(le,T);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,me=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function fe(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){C.call(this,"d")}function xe(){C.call(this,"c")}d(ve,C),d(xe,C);var be={},we=null;function je(){return we=we||new ne}function Se(e){C.call(this,be.La,e)}function Ne(e){const t=je();re(t,new Se(t))}function ke(e,t){C.call(this,be.STAT_EVENT,e),this.stat=t}function _e(e){const t=je();re(t,new ke(t,e))}function Pe(e,t){C.call(this,be.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function Oe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<a.length;o++)a[o]=""}}}return de(n)}catch(i){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(Se,C),be.STAT_EVENT="statevent",d(ke,C),be.Ma="timingevent",d(Pe,C),Ee.prototype.xa=function(){this.g=!1},Ee.prototype.info=function(){};var Ie,Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(Me,fe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ie=new Me;var Le={},Fe={};function Be(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,We(e,null)}function We(e,t){e.F=Date.now(),Ve(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=Nn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var s=0;s<a.length;s++){var o=q(n,a[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,a,s){e.info(function(){if(e.g)if(s)for(var o="",i=s.split("&"),l=0;l<i.length;l++){var c=i[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function Ge(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||xn(e.j,e)}function Ke(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),Qt(n)}fn(n),_e(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&vn(n),!f(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var i=o,l=r.L;l&&(i.I=l),i.B&&(Ge(i),Ve(i)),r.g=o}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Ne(),Ge(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Gt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var i="";break t}this.h.i=new a.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),Ke(this),qe(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<i.length;){if(e=ze(this,i),e==Fe){4==h&&(this.s=4,_e(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,_e(15),Oe(this.i,this.l,i,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Ye(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<i.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),pn(d),d.M=!0,_e(11))}}else Oe(this.i,this.l,i,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Oe(this.i,this.l,i,null),Ye(this,i);4==h&&Ke(this),this.o&&!this.J&&(4==h?xn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=j(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Ke(this),qe(this)}}}catch(mn){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),_e(17)),Ke(this),this.s=2,qe(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,it(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function it(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Nt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=mt(t,vt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mt(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(mt(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mt(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",mt(n,xt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,xt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var s=e[n].substring(0,r);a=e[n].substring(r+1)}else s=e[n];t(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){wt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=kt(e,t),e.g.has(t)}function Nt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(s){}}function Pt(){this.g=new me}function At(e,t,n){const r=n||"";try{rt(e,function(e,n){let a=e;o(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Et(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var a=s;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")},d(Et,fe),Et.prototype.g=function(){return new Ot(this.l,this.j)},Et.prototype.i=function(e){return function(){return e}}({}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Ct(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Qa=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),zt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),s=!Lt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var i=2<Ht(e)?e.g.statusText:""}catch(l){i=""}e.l=i+" ["+e.Z()+"]",Wt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function Vt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gn){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}jn(e)}function Qt(e){e.g&&(pn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(a.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||O(),A||(P(),A=!0),E.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const i=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{At(i,e,"req"+n+"_")}catch(mn){r&&r(i)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||O(),A||(P(),A=!0),E.add(t,e),e.v=0}}function fn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function pn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,We(n,e)}function vn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function xn(e,t){var n=null;if(e.g==t){vn(e),pn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=je(),new Pe(r,n)),$t(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&fn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||it(r,"https"),dt(r),t?function(e,t){const n=new Ee;if(a.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),jn(e),Xt(e)}function jn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=a.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&it(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function Nn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Et({eb:n})):new Rt(e.pa)).Ha(e.J),t}function kn(){}function _n(){}function Pn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new On(this)}function An(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){xe.call(this),this.status=1}function On(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?pe(this.o):pe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Bt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,i]of n)this.g.setRequestHeader(a,i);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Bt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(tm){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(tm){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=x(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(a.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Be(a,n,null)):Be(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Qt(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),fn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},_n.prototype.g=function(e,t){return new Pn(e,t)},d(Pn,ne),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Yt(this.g)},Pn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,Pn.aa.N.call(this)},d(An,ve),d(En,xe),d(On,kn),On.prototype.ua=function(){re(this.g,"a")},On.prototype.ta=function(e){re(this.g,new An(e))},On.prototype.sa=function(e){re(this.g,new En)},On.prototype.ra=function(){re(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,un=hn.createWebChannelTransport=function(){return new _n},cn=hn.getStatEventTarget=function(){return je()},ln=hn.Event=be,on=hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,sn=hn.ErrorCode=Te,Ce.COMPLETE="complete",an=hn.EventType=Ce,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,rn=hn.WebChannel=ge,hn.FetchXmlHttpFactory=Et,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,nn=hn.XhrIo=Rt}).apply("undefined"!==typeof dn?dn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const mn="@firebase/firestore";class fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let pn="10.14.0";const gn=new Me("@firebase/firestore");function yn(){return gn.logLevel}function vn(e){if(gn.logLevel<=Ee.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(wn);gn.debug("Firestore (".concat(pn,"): ").concat(e),...a)}}function xn(e){if(gn.logLevel<=Ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(wn);gn.error("Firestore (".concat(pn,"): ").concat(e),...a)}}function bn(e){if(gn.logLevel<=Ee.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(wn);gn.warn("Firestore (".concat(pn,"): ").concat(e),...a)}}function wn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(AI){return e}}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(pn,") INTERNAL ASSERTION FAILED: ")+e;throw xn(t),new Error(t)}function Sn(e,t){e||jn()}function Nn(e,t){return e}const kn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends me{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class An{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class En{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class On{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class In{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sn(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pn,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pn)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sn("string"==typeof t.accessToken),new An(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new fn(e)}}class Tn{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cn{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Tn(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Sn(void 0===this.o);const n=e=>{null!=e.error&&vn("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,vn("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Sn("string"==typeof e.token),this.R=e.token,new Mn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Rn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ln{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Rn(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function Fn(e,t){return e<t?-1:e>t?1:0}function Bn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(kn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(kn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n(kn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(kn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Wn(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Wn(0,0))}static max(){return new Un(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zn{constructor(e,t,n){void 0===t?t=0:t>e.length&&jn(),void 0===n?n=e.length-t:n>e.length-t&&jn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===zn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends zn{construct(e,t,n){return new Vn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new _n(kn.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new Vn(e)}static emptyPath(){return new Vn([])}}const Hn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends zn{construct(e,t,n){return new Gn(e,t,n)}static isValidIdentifier(e){return Hn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new _n(kn.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _n(kn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _n(kn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new _n(kn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class qn{constructor(e){this.path=e}static fromPath(e){return new qn(Vn.fromString(e))}static fromName(e){return new qn(Vn.fromString(e).popFirst(5))}static empty(){return new qn(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qn(new Vn(e.slice()))}}class Kn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Kn.UNKNOWN_ID=-1;function Yn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Un.fromTimestamp(1e9===r?new Wn(n+1,0):new Wn(n,r));return new Xn(a,qn.empty(),t)}function Qn(e){return new Xn(e.readTime,e.key,-1)}class Xn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xn(Un.min(),qn.empty(),-1)}static max(){return new Xn(Un.max(),qn.empty(),-1)}}function $n(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=qn.comparator(e.documentKey,t.documentKey),0!==n?n:Fn(e.largestBatchId,t.largestBatchId))}const Jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function er(e){if(e.code!==kn.FAILED_PRECONDITION||e.message!==Jn)throw e;vn("LocalStore","Unexpectedly lost primary lease")}class tr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tr?t:tr.resolve(t)}catch(e){return tr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tr.reject(t)}static resolve(e){return new tr((t,n)=>{t(e)})}static reject(e){return new tr((t,n)=>{n(e)})}static waitFor(e){return new tr((t,n)=>{let r=0,a=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++a,s&&a===r&&t()},e=>n(e))}),s=!0,a===r&&t()})}static or(e){let t=tr.resolve(!1);for(const n of e)t=t.next(e=>e?tr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new tr((n,r)=>{const a=e.length,s=new Array(a);let o=0;for(let i=0;i<a;i++){const l=i;t(e[l]).next(e=>{s[l]=e,++o,o===a&&n(s)},e=>r(e))}})}static doWhile(e,t){return new tr((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function nr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rr(e){return"IndexedDbTransactionError"===e.name}class ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function sr(e){return null==e}function or(e){return 0===e&&1/e==-1/0}function ir(e){return"number"==typeof e&&Number.isInteger(e)&&!or(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ar.oe=-1;const lr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ur=cr,dr=[...ur,"indexConfiguration","indexState","indexEntries"];function hr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pr{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gr(this.root,e,this.comparator,!1)}getReverseIterator(){return new gr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gr(this.root,e,this.comparator,!0)}}class gr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:yr.RED,this.left=null!=r?r:yr.EMPTY,this.right=null!=a?a:yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new yr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jn();if(this.right.isRed())throw jn();const e=this.left.check();if(e!==this.right.check())throw jn();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw jn()}get value(){throw jn()}get color(){throw jn()}get left(){throw jn()}get right(){throw jn()}copy(e,t,n,r,a){return this}insert(e,t,n){return new yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xr(this.data.getIterator())}getIteratorFrom(e){return new xr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof vr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class xr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new br([])}unionWith(e){let t=new vr(Gn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class wr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wr("Invalid base64 string: "+e):e}}(e);return new jr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const Sr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(e){if(Sn(!!e),"string"==typeof e){let t=0;const n=Sr.exec(e);if(Sn(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kr(e.seconds),nanos:kr(e.nanos)}}function kr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _r(e){return"string"==typeof e?jr.fromBase64String(e):jr.fromUint8Array(e)}function Pr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ar(e){const t=e.mapValue.fields.__previous_value__;return Pr(t)?Ar(t):t}function Er(e){const t=Nr(e.mapValue.fields.__local_write_time__.timestampValue);return new Wn(t.seconds,t.nanos)}class Or{constructor(e,t,n,r,a,s,o,i,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=i,this.useFetchStreams=l}}class Ir{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ir("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ir&&e.projectId===this.projectId&&e.database===this.database}}const Tr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pr(e)?4:Yr(e)?9007199254740991:qr(e)?10:11:jn()}function Mr(e,t){if(e===t)return!0;const n=Cr(e);if(n!==Cr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Er(e).isEqual(Er(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nr(e.timestampValue),r=Nr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _r(e.bytesValue).isEqual(_r(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kr(e.geoPointValue.latitude)===kr(t.geoPointValue.latitude)&&kr(e.geoPointValue.longitude)===kr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kr(e.integerValue)===kr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kr(e.doubleValue),r=kr(t.doubleValue);return n===r?or(n)===or(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bn(e.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hr(n)!==hr(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Mr(n[a],r[a])))return!1;return!0}(e,t);default:return jn()}}function Dr(e,t){return void 0!==(e.values||[]).find(e=>Mr(e,t))}function Rr(e,t){if(e===t)return 0;const n=Cr(e),r=Cr(t);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kr(e.integerValue||e.doubleValue),r=kr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lr(e.timestampValue,t.timestampValue);case 4:return Lr(Er(e),Er(t));case 5:return Fn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_r(e),r=_r(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=Fn(n[a],r[a]);if(0!==e)return e}return Fn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Fn(kr(e.latitude),kr(t.latitude));return 0!==n?n:Fn(kr(e.longitude),kr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Fr(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,s;const o=e.fields||{},i=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=i.value)||void 0===r?void 0:r.arrayValue,u=Fn((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Fr(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Tr.mapValue&&t===Tr.mapValue)return 0;if(e===Tr.mapValue)return 1;if(t===Tr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Fn(r[o],s[o]);if(0!==e)return e;const t=Rr(n[r[o]],a[s[o]]);if(0!==t)return t}return Fn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw jn()}}function Lr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fn(e,t);const n=Nr(e),r=Nr(t),a=Fn(n.seconds,r.seconds);return 0!==a?a:Fn(n.nanos,r.nanos)}function Fr(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Rr(n[a],r[a]);if(e)return e}return Fn(n.length,r.length)}function Br(e){return Wr(e)}function Wr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _r(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return qn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(Wr(e.fields[a]));return n+"}"}(e.mapValue):jn()}function Ur(e){return!!e&&"integerValue"in e}function zr(e){return!!e&&"arrayValue"in e}function Vr(e){return!!e&&"nullValue"in e}function Hr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gr(e){return!!e&&"mapValue"in e}function qr(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Kr(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Yr(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kr(t)}setAll(e){let t=Gn.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Kr(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Gr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){mr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Qr(Kr(this.value))}}function Xr(e){const t=[];return mr(e.fields,(e,n)=>{const r=new Gn([e]);if(Gr(n)){const e=Xr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new br(t)}class $r{constructor(e,t,n,r,a,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $r(e,0,Un.min(),Un.min(),Un.min(),Qr.empty(),0)}static newFoundDocument(e,t,n,r){return new $r(e,1,t,Un.min(),n,r,0)}static newNoDocument(e,t){return new $r(e,2,t,Un.min(),Un.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new $r(e,3,t,Un.min(),Un.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Jr{constructor(e,t){this.position=e,this.inclusive=t}}function Zr(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],o=e.position[a];if(r=s.field.isKeyField()?qn.comparator(qn.fromName(o.referenceValue),n.key):Rr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ea(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mr(e.position[n],t.position[n]))return!1;return!0}class ta{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function na(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ra{}class aa extends ra{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ha(e,t,n):"array-contains"===t?new ga(e,n):"in"===t?new ya(e,n):"not-in"===t?new va(e,n):"array-contains-any"===t?new xa(e,n):new aa(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ma(e,n):new fa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rr(t,this.value)):null!==t&&Cr(this.value)===Cr(t)&&this.matchesComparison(Rr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends ra{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sa(e,t)}matches(e){return oa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oa(e){return"and"===e.op}function ia(e){return la(e)&&oa(e)}function la(e){for(const t of e.filters)if(t instanceof sa)return!1;return!0}function ca(e){if(e instanceof aa)return e.field.canonicalString()+e.op.toString()+Br(e.value);if(ia(e))return e.filters.map(e=>ca(e)).join(",");{const t=e.filters.map(e=>ca(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ua(e,t){return e instanceof aa?function(e,t){return t instanceof aa&&e.op===t.op&&e.field.isEqual(t.field)&&Mr(e.value,t.value)}(e,t):e instanceof sa?function(e,t){return t instanceof sa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ua(n,t.filters[r]),!0)}(e,t):void jn()}function da(e){return e instanceof aa?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Br(e.value))}(e):e instanceof sa?function(e){return e.op.toString()+" {"+e.getFilters().map(da).join(" ,")+"}"}(e):"Filter"}class ha extends aa{constructor(e,t,n){super(e,t,n),this.key=qn.fromName(n.referenceValue)}matches(e){const t=qn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ma extends aa{constructor(e,t){super(e,"in",t),this.keys=pa("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fa extends aa{constructor(e,t){super(e,"not-in",t),this.keys=pa("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>qn.fromName(e.referenceValue))}class ga extends aa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zr(t)&&Dr(t.arrayValue,this.value)}}class ya extends aa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dr(this.value.arrayValue,t)}}class va extends aa{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dr(this.value.arrayValue,t)}}class xa extends aa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Dr(this.value.arrayValue,e))}}class ba{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function wa(e){return new ba(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ja(e){const t=Nn(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ca(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),sr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Br(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Br(e)).join(",")),t.ue=e}return t.ue}function Sa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!na(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ua(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ea(e.startAt,t.startAt)&&ea(e.endAt,t.endAt)}function Na(e){return qn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ka{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=i,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _a(e,t,n,r,a,s,o,i){return new ka(e,t,n,r,a,s,o,i)}function Pa(e){return new ka(e)}function Aa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ea(e){return null!==e.collectionGroup}function Oa(e){const t=Nn(e);if(null===t.ce){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vr(Gn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ta(r,n))}),e.has(Gn.keyField().canonicalString())||t.ce.push(new ta(Gn.keyField(),n))}return t.ce}function Ia(e){const t=Nn(e);return t.le||(t.le=Ta(t,Oa(e))),t.le}function Ta(e,t){if("F"===e.limitType)return wa(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ta(e.field,t)});const n=e.endAt?new Jr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jr(e.startAt.position,e.startAt.inclusive):null;return wa(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ca(e,t,n){return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ma(e,t){return Sa(Ia(e),Ia(t))&&e.limitType===t.limitType}function Da(e){return"".concat(ja(Ia(e)),"|lt:").concat(e.limitType)}function Ra(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>da(e)).join(", "),"]")),sr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Br(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Br(e)).join(",")),"Target(".concat(t,")")}(Ia(e)),"; limitType=").concat(e.limitType,")")}function La(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Oa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Oa(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Oa(e),t))}(e,t)}function Fa(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ba(e){return(t,n)=>{let r=!1;for(const a of Oa(e)){const e=Wa(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Wa(e,t,n){const r=e.field.isKeyField()?qn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Rr(r,a):jn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jn()}}class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return fr(this.inner)}size(){return this.innerSize}}const za=new pr(qn.comparator);function Va(){return za}const Ha=new pr(qn.comparator);function Ga(){let e=Ha;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function qa(e){let t=Ha;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ka(){return Qa()}function Ya(){return Qa()}function Qa(){return new Ua(e=>e.toString(),(e,t)=>e.isEqual(t))}const Xa=new pr(qn.comparator),$a=new vr(qn.comparator);function Ja(){let e=$a;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Za=new vr(Fn);function es(){return Za}function ts(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:or(t)?"-0":t}}function ns(e){return{integerValue:""+e}}function rs(e,t){return ir(t)?ns(t):ts(e,t)}class as{constructor(){this._=void 0}}function ss(e,t,n){return e instanceof ls?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pr(t)&&(t=Ar(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cs?us(e,t):e instanceof ds?hs(e,t):function(e,t){const n=is(e,t),r=fs(n)+fs(e.Pe);return Ur(n)&&Ur(e.Pe)?ns(r):ts(e.serializer,r)}(e,t)}function os(e,t,n){return e instanceof cs?us(e,t):e instanceof ds?hs(e,t):n}function is(e,t){return e instanceof ms?function(e){return Ur(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ls extends as{}class cs extends as{constructor(e){super(),this.elements=e}}function us(e,t){const n=ps(t);for(const r of e.elements)n.some(e=>Mr(e,r))||n.push(r);return{arrayValue:{values:n}}}class ds extends as{constructor(e){super(),this.elements=e}}function hs(e,t){let n=ps(t);for(const r of e.elements)n=n.filter(e=>!Mr(e,r));return{arrayValue:{values:n}}}class ms extends as{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function fs(e){return kr(e.integerValue||e.doubleValue)}function ps(e){return zr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gs{constructor(e,t){this.version=e,this.transformResults=t}}class ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xs{}function bs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Os(e.key,ys.none()):new ks(e.key,e.data,ys.none());{const n=e.data,r=Qr.empty();let a=new vr(Gn.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new _s(e.key,r,new br(a.toArray()),ys.none())}}function ws(e,t,n){e instanceof ks?function(e,t,n){const r=e.value.clone(),a=As(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _s?function(e,t,n){if(!vs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=As(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Ps(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function js(e,t,n,r){return e instanceof ks?function(e,t,n,r){if(!vs(e.precondition,t))return n;const a=e.value.clone(),s=Es(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof _s?function(e,t,n,r){if(!vs(e.precondition,t))return n;const a=Es(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ps(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return vs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ss(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=is(r.transform,e||null);null!=a&&(null===n&&(n=Qr.empty()),n.set(r.field,a))}return n||null}function Ns(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cs&&t instanceof cs||e instanceof ds&&t instanceof ds?Bn(e.elements,t.elements,Mr):e instanceof ms&&t instanceof ms?Mr(e.Pe,t.Pe):e instanceof ls&&t instanceof ls}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ks extends xs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _s extends xs{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ps(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function As(e,t,n){const r=new Map;Sn(e.length===n.length);for(let a=0;a<n.length;a++){const s=e[a],o=s.transform,i=t.data.field(s.field);r.set(s.field,os(o,i,n[a]))}return r}function Es(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,ss(e,s,t))}return r}class Os extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Is extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ts{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ws(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=js(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=js(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ya();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=t.has(r.key)?null:o;const i=bs(s,o);null!==i&&n.set(r.key,i),s.isValidDocument()||s.convertToNoDocument(Un.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ja())}isEqual(e){return this.batchId===e.batchId&&Bn(this.mutations,e.mutations,(e,t)=>Ns(e,t))&&Bn(this.baseMutations,e.baseMutations,(e,t)=>Ns(e,t))}}class Cs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sn(e.mutations.length===n.length);let r=Xa;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new Cs(e,t,n,r)}}class Ms{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ds{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rs,Ls;function Fs(e){switch(e){default:return jn();case kn.CANCELLED:case kn.UNKNOWN:case kn.DEADLINE_EXCEEDED:case kn.RESOURCE_EXHAUSTED:case kn.INTERNAL:case kn.UNAVAILABLE:case kn.UNAUTHENTICATED:return!1;case kn.INVALID_ARGUMENT:case kn.NOT_FOUND:case kn.ALREADY_EXISTS:case kn.PERMISSION_DENIED:case kn.FAILED_PRECONDITION:case kn.ABORTED:case kn.OUT_OF_RANGE:case kn.UNIMPLEMENTED:case kn.DATA_LOSS:return!0}}function Bs(e){if(void 0===e)return xn("GRPC error has no .code"),kn.UNKNOWN;switch(e){case Rs.OK:return kn.OK;case Rs.CANCELLED:return kn.CANCELLED;case Rs.UNKNOWN:return kn.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return kn.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return kn.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return kn.INTERNAL;case Rs.UNAVAILABLE:return kn.UNAVAILABLE;case Rs.UNAUTHENTICATED:return kn.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return kn.INVALID_ARGUMENT;case Rs.NOT_FOUND:return kn.NOT_FOUND;case Rs.ALREADY_EXISTS:return kn.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return kn.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return kn.FAILED_PRECONDITION;case Rs.ABORTED:return kn.ABORTED;case Rs.OUT_OF_RANGE:return kn.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return kn.UNIMPLEMENTED;case Rs.DATA_LOSS:return kn.DATA_LOSS;default:return jn()}}(Ls=Rs||(Rs={}))[Ls.OK=0]="OK",Ls[Ls.CANCELLED=1]="CANCELLED",Ls[Ls.UNKNOWN=2]="UNKNOWN",Ls[Ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ls[Ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ls[Ls.NOT_FOUND=5]="NOT_FOUND",Ls[Ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ls[Ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ls[Ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ls[Ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ls[Ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ls[Ls.ABORTED=10]="ABORTED",Ls[Ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ls[Ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ls[Ls.INTERNAL=13]="INTERNAL",Ls[Ls.UNAVAILABLE=14]="UNAVAILABLE",Ls[Ls.DATA_LOSS=15]="DATA_LOSS";let Ws=null;function Us(){return new TextEncoder}const zs=new Jt([4294967295,4294967295],0);function Vs(e){const t=Us().encode(e),n=new Zt;return n.update(t),new Uint8Array(n.digest())}function Hs(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Jt([n,r],0),new Jt([a,s],0)]}class Gs{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qs("Invalid padding: ".concat(t));if(n<0)throw new qs("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qs("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qs("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Jt.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Jt.fromNumber(n)));return 1===r.compare(zs)&&(r=new Jt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Vs(e),[n,r]=Hs(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Gs(a,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=Vs(e),[n,r]=Hs(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ks{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ys.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ks(Un.min(),r,new pr(Fn),Va(),Ja())}}class Ys{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ys(n,t,Ja(),Ja(),Ja())}}class Qs{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Xs{constructor(e,t){this.targetId=e,this.me=t}}class $s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Js{constructor(){this.fe=0,this.ge=to(),this.pe=jr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ja(),t=Ja(),n=Ja();return this.ge.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jn()}}),new Ys(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=to()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zs{constructor(e){this.Le=e,this.Be=new Map,this.ke=Va(),this.qe=eo(),this.Qe=new pr(Fn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:jn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const a=r.target;if(Na(a))if(0===n){const e=new qn(a.path);this.Ue(t,e,$r.newNoDocument(e,Un.min()))}else Sn(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),a=n?this.Xe(n,e,r):1;if(0!==a){this.je(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Ws||Ws.et(function(e,t,n,r,a){var s,o,i,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(i=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===i?void 0:i.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,a))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,o;try{s=_r(n).toUint8Array()}catch(e){if(e instanceof wr)return bn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Gs(s,r,a)}catch(e){return bn(e instanceof qs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Le.tt(),s="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const a=this.Je(r);if(a){if(n.current&&Na(a.target)){const t=new qn(a.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,$r.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Ja();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Ks(e,t,this.Qe,this.ke,n);return this.ke=Va(),this.qe=eo(),this.Qe=new pr(Fn),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Js,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new vr(Fn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||vn("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Js),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function eo(){return new pr(qn.comparator)}function to(){return new pr(qn.comparator)}const no={asc:"ASCENDING",desc:"DESCENDING"},ro={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ao={and:"AND",or:"OR"};class so{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oo(e,t){return e.useProto3Json||sr(t)?t:{value:t}}function io(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function co(e,t){return io(e,t.toTimestamp())}function uo(e){return Sn(!!e),Un.fromTimestamp(function(e){const t=Nr(e);return new Wn(t.seconds,t.nanos)}(e))}function ho(e,t){return mo(e,t).canonicalString()}function mo(e,t){const n=function(e){return new Vn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fo(e){const t=Vn.fromString(e);return Sn(Mo(t)),t}function po(e,t){return ho(e.databaseId,t.path)}function go(e,t){const n=fo(t);if(n.get(1)!==e.databaseId.projectId)throw new _n(kn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _n(kn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qn(bo(n))}function yo(e,t){return ho(e.databaseId,t)}function vo(e){const t=fo(e);return 4===t.length?Vn.emptyPath():bo(t)}function xo(e){return new Vn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bo(e){return Sn(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wo(e,t,n){return{name:po(e,t),fields:n.value.mapValue.fields}}function jo(e,t){let n;if(t instanceof ks)n={update:wo(e,t.key,t.value)};else if(t instanceof Os)n={delete:po(e,t.key)};else if(t instanceof _s)n={update:wo(e,t.key,t.data),updateMask:Co(t.fieldMask)};else{if(!(t instanceof Is))return jn();n={verify:po(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ls)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ds)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ms)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw jn()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:co(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jn()}(e,t.precondition)),n}function So(e,t){return{documents:[yo(e,t.path)]}}function No(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yo(e,a);const s=function(e){if(0!==e.length)return To(sa.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Oo(e.field),direction:Po(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const i=oo(e,t.limit);return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:a}}function ko(e){let t=vo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Sn(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=_o(e);return t instanceof sa&&ia(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new ta(Io(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let i=null;n.limit&&(i=function(e){let t;return t="object"==typeof e?e.value:e,sr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jr(n,t)}(n.endAt)),_a(t,a,o,s,i,"F",l,c)}function _o(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Io(e.unaryFilter.field);return aa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Io(e.unaryFilter.field);return aa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Io(e.unaryFilter.field);return aa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Io(e.unaryFilter.field);return aa.create(a,"!=",{nullValue:"NULL_VALUE"});default:return jn()}}(e):void 0!==e.fieldFilter?function(e){return aa.create(Io(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jn()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sa.create(e.compositeFilter.filters.map(e=>_o(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jn()}}(e.compositeFilter.op))}(e):jn()}function Po(e){return no[e]}function Ao(e){return ro[e]}function Eo(e){return ao[e]}function Oo(e){return{fieldPath:e.canonicalString()}}function Io(e){return Gn.fromServerFormat(e.fieldPath)}function To(e){return e instanceof aa?function(e){if("=="===e.op){if(Hr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(Vr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(Vr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:Ao(e.op),value:e.value}}}(e):e instanceof sa?function(e){const t=e.getFilters().map(e=>To(e));return 1===t.length?t[0]:{compositeFilter:{op:Eo(e.op),filters:t}}}(e):jn()}function Co(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Mo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Do{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Un.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Un.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jr.EMPTY_BYTE_STRING,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=i}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ro{constructor(e){this.ct=e}}function Lo(e){const t=ko({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ca(t,t.limit,"L"):t}class Fo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(kr(e.integerValue));else if("doubleValue"in e){const n=kr(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),or(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Nr(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_r(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Yr(e)?this.dt(t,Number.MAX_SAFE_INTEGER):qr(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):jn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const a=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=a[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(kr(o)),this.Vt(s,t),this.Tt(a[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),qn.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Fo.vt=new Fo;class Bo{constructor(){this.un=new Wo}addToCollectionParentIndex(e,t){return this.un.add(t),tr.resolve()}getCollectionParents(e,t){return tr.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return tr.resolve()}deleteFieldIndex(e,t){return tr.resolve()}deleteAllFieldIndexes(e){return tr.resolve()}createTargetIndexes(e,t){return tr.resolve()}getDocumentsMatchingTarget(e,t){return tr.resolve(null)}getIndexType(e,t){return tr.resolve(0)}getFieldIndexes(e,t){return tr.resolve([])}getNextCollectionGroupToUpdate(e){return tr.resolve(null)}getMinOffset(e,t){return tr.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,t){return tr.resolve(Xn.min())}updateCollectionGroup(e,t,n){return tr.resolve()}updateIndexEntries(e,t){return tr.resolve()}}class Wo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vr(Vn.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vr(Vn.comparator)).toArray()}}new Uint8Array(0);class Uo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Uo(e,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Uo.DEFAULT_COLLECTION_PERCENTILE=10,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uo.DEFAULT=new Uo(41943040,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uo.DISABLED=new Uo(-1,0,0);class zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zo(0)}static kn(){return new zo(-1)}}class Vo{constructor(){this.changes=new Ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?tr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ho{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Go{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&js(n.mutation,e,br.empty(),Wn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ja()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ja();const r=Ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ga();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ka();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ja()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Va();const s=Qa(),o=Qa();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _s)?a=a.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),js(o.mutation,t,o.mutation.getFieldMask(),Wn.now())):s.set(t.key,br.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Ho(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Qa();let r=new pr((e,t)=>e-t),a=Ja();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||br.empty();o=a.applyToLocalView(s,o),n.set(e,o);const i=(r.get(a.batchId)||Ja()).add(e);r=r.insert(a.batchId,i)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),i=r.key,l=r.value,c=Ya();l.forEach(e=>{if(!a.has(e)){const r=bs(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,i,c))}return tr.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return qn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ea(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):tr.resolve(Ka());let o=-1,i=a;return s.next(t=>tr.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?tr.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{i=i.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,i,t,Ja())).next(e=>({batchId:o,changes:qa(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qn(t)).next(e=>{let t=Ga();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=Ga();return this.indexManager.getCollectionParents(e,a).next(o=>tr.forEach(o,o=>{const i=function(e,t){return new ka(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,i,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,$r.newInvalidDocument(r)))});let n=Ga();return e.forEach((e,r)=>{const s=a.get(e);void 0!==s&&js(s.mutation,r,br.empty(),Wn.now()),La(t,r)&&(n=n.insert(e,r))}),n})}}class qo{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return tr.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:uo(e.createTime)}}(t)),tr.resolve()}getNamedQuery(e,t){return tr.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Lo(e.bundledQuery),readTime:uo(e.readTime)}}(t)),tr.resolve()}}class Ko{constructor(){this.overlays=new pr(qn.comparator),this.Ir=new Map}getOverlay(e,t){return tr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ka();return tr.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),tr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),tr.resolve()}getOverlaysForCollection(e,t,n){const r=Ka(),a=t.length+1,s=new qn(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return tr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new pr((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Ka(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ka(),i=a.getIterator();for(;i.hasNext()&&(i.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return tr.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ms(t,n));let a=this.Ir.get(t);void 0===a&&(a=Ja(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}class Yo{constructor(){this.sessionToken=jr.EMPTY_BYTE_STRING}getSessionToken(e){return tr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tr.resolve()}}class Qo{constructor(){this.Tr=new vr(Xo.Er),this.dr=new vr(Xo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Xo(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Xo(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new qn(new Vn([])),n=new Xo(t,e),r=new Xo(t,e+1),a=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),a.push(e.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new qn(new Vn([])),n=new Xo(t,e),r=new Xo(t,e+1);let a=Ja();return this.dr.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new Xo(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xo{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return qn.comparator(e.key,t.key)||Fn(e.wr,t.wr)}static Ar(e,t){return Fn(e.wr,t.wr)||qn.comparator(e.key,t.key)}}class $o{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new vr(Xo.Er)}checkEmpty(e){return tr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ts(a,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new Xo(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return tr.resolve(s)}lookupMutationBatch(e,t){return tr.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),a=r<0?0:r;return tr.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return tr.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return tr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xo(t,0),r=new Xo(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);a.push(t)}),tr.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vr(Fn);return t.forEach(e=>{const t=new Xo(e,0),r=new Xo(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),tr.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;qn.isDocumentKey(a)||(a=a.child(""));const s=new Xo(new qn(a),0);let o=new vr(Fn);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)},s),tr.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Sn(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return tr.forEach(t.mutations,r=>{const a=new Xo(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Xo(t,0),r=this.br.firstAfterOrEqual(n);return tr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tr.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jo{constructor(e){this.Mr=e,this.docs=new pr(qn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tr.resolve(n?n.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(e,t){let n=Va();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$r.newInvalidDocument(e))}),tr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Va();const s=t.path,o=new qn(s.child("")),i=this.docs.getIteratorFrom(o);for(;i.hasNext();){const{key:e,value:{document:o}}=i.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||$n(Qn(o),n)<=0||(r.has(o.key)||La(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return tr.resolve(a)}getAllFromCollectionGroup(e,t,n,r){jn()}Or(e,t){return tr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Zo(this)}getSize(e){return tr.resolve(this.size)}}class Zo extends Vo{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),tr.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class ei{constructor(e){this.persistence=e,this.Nr=new Ua(e=>ja(e),Sa),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qo,this.targetCount=0,this.kr=zo.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),tr.resolve()}getLastRemoteSnapshotVersion(e){return tr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tr.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),tr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),tr.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,tr.resolve()}updateTargetData(e,t){return this.Kn(t),tr.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,tr.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),tr.waitFor(a).next(()=>r)}getTargetCount(e){return tr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return tr.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),tr.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),tr.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),tr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return tr.resolve(n)}containsKey(e,t){return tr.resolve(this.Br.containsKey(t))}}class ti{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ar(0),this.Kr=!1,this.Kr=!0,this.$r=new Yo,this.referenceDelegate=e(this),this.Ur=new ei(this),this.indexManager=new Bo,this.remoteDocumentCache=function(e){return new Jo(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Ro(t),this.Gr=new qo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ko,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new $o(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){vn("MemoryPersistence","Starting transaction:",e);const r=new ni(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return tr.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class ni extends Zn{constructor(e){super(),this.currentSequenceNumber=e}}class ri{constructor(e){this.persistence=e,this.Jr=new Qo,this.Yr=null}static Zr(e){return new ri(e)}get Xr(){if(this.Yr)return this.Yr;throw jn()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),tr.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),tr.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),tr.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tr.forEach(this.Xr,n=>{const r=qn.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,Un.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return tr.or([()=>tr.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class ai{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Ja(),r=Ja();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ai(e,t.fromCache,n,r)}}class si{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oi{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=de()?8:nr(ue())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.Yi(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.Zi(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new si;return this.Xi(e,t,n).next(r=>{if(a.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>a.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(yn()<=Ee.DEBUG&&vn("QueryEngine","SDK will not create cache indexes for query:",Ra(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tr.resolve()):(yn()<=Ee.DEBUG&&vn("QueryEngine","Query:",Ra(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(yn()<=Ee.DEBUG&&vn("QueryEngine","The SDK decides to create cache indexes for query:",Ra(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ia(t))):tr.resolve())}Yi(e,t){if(Aa(t))return tr.resolve(null);let n=Ia(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ca(t,null,"F"),n=Ia(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=Ja(...r);return this.Ji.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,a,n.readTime)?this.Yi(e,Ca(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Aa(t)||r.isEqual(Un.min())?tr.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(t,a);return this.ns(t,s,n,r)?tr.resolve(null):(yn()<=Ee.DEBUG&&vn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ra(t)),this.rs(e,s,t,Yn(r,-1)).next(e=>e))})}ts(e,t){let n=new vr(Ba(e));return t.forEach((t,r)=>{La(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,t,n){return yn()<=Ee.DEBUG&&vn("QueryEngine","Using full collection scan to execute query:",Ra(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xn.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class ii{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new pr(Fn),this._s=new Ua(e=>ja(e),Sa),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Go(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function li(e,t,n,r){return new ii(e,t,n,r)}async function ci(e,t){const n=Nn(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],s=[];let o=Ja();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({hs:e,removedBatchIds:a,addedBatchIds:s}))})})}function ui(e){const t=Nn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function di(e,t,n){let r=Ja(),a=Ja();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Va();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(Un.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):vn("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Ps:r,Is:a}})}function hi(e,t){const n=Nn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function mi(e,t){const n=Nn(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(a=>a?(r=a,tr.resolve(r)):n.Ur.allocateTargetId(e).next(a=>(r=new Do(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function fi(e,t,n){const r=Nn(e),a=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!rr(e))throw e;vn("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(a.target)}function pi(e,t,n){const r=Nn(e);let a=Un.min(),s=Ja();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Nn(e),a=r._s.get(n);return void 0!==a?tr.resolve(r.os.get(a)):r.Ur.getTargetData(t,n)}(r,e,Ia(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?a:Un.min(),n?s:Ja())).next(e=>(gi(r,Fa(t),e),{documents:e,Ts:s})))}function gi(e,t,n){let r=e.us.get(t)||Un.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class yi{constructor(){this.activeTargetIds=es()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vi{constructor(){this.so=new yi,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yi,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xi{_o(e){}shutdown(){}}class bi{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){vn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){vn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wi=null;function ji(){return null===wi?wi=268435456+Math.round(2147483648*Math.random()):wi++,"0x"+wi.toString(16)}const Si={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ni{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ki="WebChannelConnection";class _i extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,a){const s=ji(),o=this.xo(e,t.toUriEncodedString());vn("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const i={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(i,r,a),this.No(e,o,i,n).then(t=>(vn("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw bn("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Lo(e,t,n,r,a,s){return this.Mo(e,t,n,r,a)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Si[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const a=ji();return new Promise((s,o)=>{const i=new nn;i.setWithCredentials(!0),i.listenOnce(an.COMPLETE,()=>{try{switch(i.getLastErrorCode()){case sn.NO_ERROR:const t=i.getResponseJson();vn(ki,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),s(t);break;case sn.TIMEOUT:vn(ki,"RPC '".concat(e,"' ").concat(a," timed out")),o(new _n(kn.DEADLINE_EXCEEDED,"Request time out"));break;case sn.HTTP_ERROR:const n=i.getStatus();if(vn(ki,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",i.getResponseText()),n>0){let e=i.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(kn).indexOf(t)>=0?t:kn.UNKNOWN}(t.status);o(new _n(e,t.message))}else o(new _n(kn.UNKNOWN,"Server responded with status "+i.getStatus()))}else o(new _n(kn.UNAVAILABLE,"Connection failed."));break;default:jn()}}finally{vn(ki,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);vn(ki,"RPC '".concat(e,"' ").concat(a," sending request:"),r),i.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=ji(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=un(),o=cn(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(i.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(i.useFetchStreams=!0),this.Oo(i.initMessageHeaders,t,n),i.encodeInitMessageHeaders=!0;const c=a.join("");vn(ki,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),i);const u=s.createWebChannel(c,i);let d=!1,h=!1;const m=new Ni({Io:t=>{h?vn(ki,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(vn(ki,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),vn(ki,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,rn.EventType.OPEN,()=>{h||(vn(ki,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),m.yo())}),f(u,rn.EventType.CLOSE,()=>{h||(h=!0,vn(ki,"RPC '".concat(e,"' stream ").concat(r," transport closed")),m.So())}),f(u,rn.EventType.ERROR,t=>{h||(h=!0,bn(ki,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),m.So(new _n(kn.UNAVAILABLE,"The operation could not be completed")))}),f(u,rn.EventType.MESSAGE,t=>{var n;if(!h){const a=t.data[0];Sn(!!a);const s=a,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){vn(ki,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Rs[e];if(void 0!==t)return Bs(t)}(t),a=o.message;void 0===n&&(n=kn.INTERNAL,a="Unknown error status: "+t+" with message "+o.message),h=!0,m.So(new _n(n,a)),u.close()}else vn(ki,"RPC '".concat(e,"' stream ").concat(r," received:"),a),m.bo(a)}}),f(o,ln.STAT_EVENT,t=>{t.stat===on.PROXY?vn(ki,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===on.NOPROXY&&vn(ki,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{m.wo()},0),m}}function Pi(){return"undefined"!=typeof document?document:null}function Ai(e){return new so(e,!0)}class Ei{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&vn("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Oi{constructor(e,t,n,r,a,s,o,i){this.ui=e,this.Ho=n,this.Jo=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=i,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ei(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===kn.RESOURCE_EXHAUSTED?(xn(t.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===kn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new _n(kn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return vn("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(vn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ii extends Oi{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jn()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sn(void 0===t||"string"==typeof t),jr.fromBase64String(t||"")):(Sn(void 0===t||t instanceof Buffer||t instanceof Uint8Array),jr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,i=o&&function(e){const t=void 0===e.code?kn.UNKNOWN:Bs(e.code);return new _n(t,e.message||"")}(o);n=new $s(r,a,s,i||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=go(e,r.document.name),s=uo(r.document.updateTime),o=r.document.createTime?uo(r.document.createTime):Un.min(),i=new Qr({mapValue:{fields:r.document.fields}}),l=$r.newFoundDocument(a,s,o,i),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qs(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=go(e,r.document),s=r.readTime?uo(r.readTime):Un.min(),o=$r.newNoDocument(a,s),i=r.removedTargetIds||[];n=new Qs([],i,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=go(e,r.document),s=r.removedTargetIds||[];n=new Qs([],s,a,null)}else{if(!("filter"in t))return jn();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new Ds(r,a),o=e.targetId;n=new Xs(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Un.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Un.min():t.readTime?uo(t.readTime):Un.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=xo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Na(r)?{documents:So(e,r)}:{query:No(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lo(e,t.resumeToken);const r=oo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Un.min())>0){n.readTime=io(e,t.snapshotVersion.toTimestamp());const r=oo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jn()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=xo(this.serializer),t.removeTarget=e,this.a_(t)}}class Ti extends Oi{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Sn(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?uo(e.updateTime):uo(t);return n.isEqual(Un.min())&&(n=uo(t)),new gs(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=uo(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=xo(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>jo(this.serializer,e))};this.a_(t)}}class Ci extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new _n(kn.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Mo(e,mo(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===kn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _n(kn.UNKNOWN,e.toString())})}Lo(e,t,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,i]=s;return this.connection.Lo(e,mo(t,n),r,o,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===kn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _n(kn.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Mi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(xn(t),this.D_=!1):vn("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Di{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(e=>{n.enqueueAndForget(async()=>{Hi(this)&&(vn("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Nn(e);t.L_.add(4),await Li(t),t.q_.set("Unknown"),t.L_.delete(4),await Ri(t)}(this))})}),this.q_=new Mi(n,r)}}async function Ri(e){if(Hi(e))for(const t of e.B_)await t(!0)}async function Li(e){for(const t of e.B_)await t(!1)}function Fi(e,t){const n=Nn(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Vi(n)?zi(n):cl(n).r_()&&Wi(n,t))}function Bi(e,t){const n=Nn(e),r=cl(n);n.N_.delete(t),r.r_()&&Ui(n,t),0===n.N_.size&&(r.r_()?r.o_():Hi(n)&&n.q_.set("Unknown"))}function Wi(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Un.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cl(e).A_(t)}function Ui(e,t){e.Q_.xe(t),cl(e).R_(t)}function zi(e){e.Q_=new Zs({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),cl(e).start(),e.q_.v_()}function Vi(e){return Hi(e)&&!cl(e).n_()&&e.N_.size>0}function Hi(e){return 0===Nn(e).L_.size}function Gi(e){e.Q_=void 0}async function qi(e){e.q_.set("Online")}async function Ki(e){e.N_.forEach((t,n)=>{Wi(e,t)})}async function Yi(e,t){Gi(e),Vi(e)?(e.q_.M_(t),zi(e)):e.q_.set("Unknown")}async function Qi(e,t,n){if(e.q_.set("Online"),t instanceof $s&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){vn("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xi(e,n)}else if(t instanceof Qs?e.Q_.Ke(t):t instanceof Xs?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Un.min()))try{const t=await ui(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.N_.get(r);a&&e.N_.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(jr.EMPTY_BYTE_STRING,r.snapshotVersion)),Ui(e,t);const a=new Do(r.target,t,n,r.sequenceNumber);Wi(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){vn("RemoteStore","Failed to raise snapshot:",t),await Xi(e,t)}}async function Xi(e,t,n){if(!rr(t))throw t;e.L_.add(1),await Li(e),e.q_.set("Offline"),n||(n=()=>ui(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vn("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ri(e)})}function $i(e,t){return t().catch(n=>Xi(e,n,t))}async function Ji(e){const t=Nn(e),n=ul(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Zi(t);)try{const e=await hi(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,el(t,e)}catch(e){await Xi(t,e)}tl(t)&&nl(t)}function Zi(e){return Hi(e)&&e.O_.length<10}function el(e,t){e.O_.push(t);const n=ul(e);n.r_()&&n.V_&&n.m_(t.mutations)}function tl(e){return Hi(e)&&!ul(e).n_()&&e.O_.length>0}function nl(e){ul(e).start()}async function rl(e){ul(e).p_()}async function al(e){const t=ul(e);for(const n of e.O_)t.m_(n.mutations)}async function sl(e,t,n){const r=e.O_.shift(),a=Cs.from(r,t,n);await $i(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Ji(e)}async function ol(e,t){t&&ul(e).V_&&await async function(e,t){if(function(e){return Fs(e)&&e!==kn.ABORTED}(t.code)){const n=e.O_.shift();ul(e).s_(),await $i(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ji(e)}}(e,t),tl(e)&&nl(e)}async function il(e,t){const n=Nn(e);n.asyncQueue.verifyOperationInProgress(),vn("RemoteStore","RemoteStore received new credentials");const r=Hi(n);n.L_.add(3),await Li(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ri(n)}async function ll(e,t){const n=Nn(e);t?(n.L_.delete(2),await Ri(n)):t||(n.L_.add(2),await Li(n),n.q_.set("Unknown"))}function cl(e){return e.K_||(e.K_=function(e,t,n){const r=Nn(e);return r.w_(),new Ii(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:qi.bind(null,e),Ro:Ki.bind(null,e),mo:Yi.bind(null,e),d_:Qi.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Vi(e)?zi(e):e.q_.set("Unknown")):(await e.K_.stop(),Gi(e))})),e.K_}function ul(e){return e.U_||(e.U_=function(e,t,n){const r=Nn(e);return r.w_(),new Ti(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rl.bind(null,e),mo:ol.bind(null,e),f_:al.bind(null,e),g_:sl.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Ji(e)):(await e.U_.stop(),e.O_.length>0&&(vn("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class dl{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,o=new dl(e,t,s,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(kn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(e,t){if(xn("AsyncQueue","".concat(t,": ").concat(e)),rr(e))return new _n(kn.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ml{constructor(e){this.comparator=e?(t,n)=>e(t,n)||qn.comparator(t.key,n.key):(e,t)=>qn.comparator(e.key,t.key),this.keyedMap=Ga(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new ml(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ml))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ml;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fl{constructor(){this.W_=new pr(qn.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):jn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class pl{constructor(e,t,n,r,a,s,o,i,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=i,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new pl(e,t,ml.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class gl{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yl{constructor(){this.queries=vl(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Nn(e),r=n.queries;n.queries=vl(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new _n(kn.ABORTED,"Firestore shutting down"))}}function vl(){return new Ua(e=>Da(e),Ma)}async function xl(e,t){const n=Nn(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.H_()&&t.J_()&&(r=2):(s=new gl,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(a,!0);break;case 1:s.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=hl(e,"Initialization of query '".concat(Ra(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Sl(n)}async function bl(e,t){const n=Nn(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?a=t.J_()?0:1:!s.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wl(e,t){const n=Nn(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(a)&&(r=!0);t.z_=a}}r&&Sl(n)}function jl(e,t,n){const r=Nn(e),a=r.queries.get(t);if(a)for(const s of a.j_)s.onError(n);r.queries.delete(t)}function Sl(e){e.Y_.forEach(e=>{e.next()})}var Nl,kl;(kl=Nl||(Nl={})).ea="default",kl.Cache="cache";class _l{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Nl.Cache}}class Pl{constructor(e){this.key=e}}class Al{constructor(e){this.key=e}}class El{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ja(),this.mutatedKeys=Ja(),this.Aa=Ba(e),this.Ra=new ml(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new fl,r=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const i="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=La(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.ga(c,u)||(n.track({type:2,doc:u}),m=!0,(i&&this.Aa(u,i)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(i||l)&&(o=!0)),m&&(u?(s=s.add(u),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],i=0===this.da.size&&this.current&&!r?1:0,l=i!==this.Ea;return this.Ea=i,0!==s.length||l?{snapshot:new pl(this.query,e.Ra,a,s,e.mutatedKeys,0===i,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ja(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Al(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Pl(n))}),t}ba(e){this.Ta=e.Ts,this.da=Ja();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return pl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ol{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Il{constructor(e){this.key=e,this.va=!1}}class Tl{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ua(e=>Da(e),Ma),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(qn.comparator),this.Na=new Map,this.La=new Qo,this.Ba={},this.ka=new Map,this.qa=zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Cl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ec(e);let a;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Da()):a=await Dl(r,t,n,!0),a}async function Ml(e,t){const n=ec(e);await Dl(n,t,!0,!1)}async function Dl(e,t,n,r){const a=await mi(e.localStore,Ia(t)),s=a.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let i;return r&&(i=await Rl(e,t,s,"current"===o,a.resumeToken)),e.isPrimaryClient&&n&&Fi(e.remoteStore,a),i}async function Rl(e,t,n,r,a){e.Ka=(t,n,r)=>async function(e,t,n,r){let a=t.view.ma(n);a.ns&&(a=await pi(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,a)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),i=t.view.applyChanges(a,e.isPrimaryClient,s,o);return Yl(e,t.targetId,i.wa),i.snapshot}(e,t,n,r);const s=await pi(e.localStore,t,!0),o=new El(t,s.Ts),i=o.ma(s.documents),l=Ys.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(i,e.isPrimaryClient,l);Yl(e,n,c.wa);const u=new Ol(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Ll(e,t,n){const r=Nn(e),a=r.Fa.get(t),s=r.Ma.get(a.targetId);if(s.length>1)return r.Ma.set(a.targetId,s.filter(e=>!Ma(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await fi(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Bi(r.remoteStore,a.targetId),ql(r,a.targetId)}).catch(er)):(ql(r,a.targetId),await fi(r.localStore,a.targetId,!0))}async function Fl(e,t){const n=Nn(e),r=n.Fa.get(t),a=n.Ma.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bi(n.remoteStore,r.targetId))}async function Bl(e,t){const n=Nn(e);try{const e=await function(e,t){const n=Nn(e),r=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((s,i)=>{const l=a.get(i);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,i).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,i)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(i)?c=c.withResumeToken(jr.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(i,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))});let i=Va(),l=Ja();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(di(e,s,t.documentUpdates).next(e=>{i=e.Ps,l=e.Is})),!r.isEqual(Un.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return tr.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,i,l)).next(()=>i)}).then(e=>(n.os=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Sn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Sn(r.va):e.removedDocuments.size>0&&(Sn(r.va),r.va=!1))}),await $l(n,e,t)}catch(e){await er(e)}}function Wl(e,t,n){const r=Nn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const a=r.view.Z_(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Nn(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.j_)a.Z_(t)&&(r=!0)}),r&&Sl(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ul(e,t,n){const r=Nn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Na.get(t),s=a&&a.key;if(s){let e=new pr(qn.comparator);e=e.insert(s,$r.newNoDocument(s,Un.min()));const n=Ja().add(s),a=new Ks(Un.min(),new Map,new pr(Fn),e,n);await Bl(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(t),Xl(r)}else await fi(r.localStore,t,!1).then(()=>ql(r,t,n)).catch(er)}async function zl(e,t){const n=Nn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let o=tr.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Sn(null!==s),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ja();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Gl(n,r,null),Hl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $l(n,e)}catch(e){await er(e)}}async function Vl(e,t,n){const r=Nn(e);try{const e=await function(e,t){const n=Nn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Sn(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Gl(r,t,n),Hl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $l(r,e)}catch(n){await er(n)}}function Hl(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Gl(e,t,n){const r=Nn(e);let a=r.Ba[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ba[r.currentUser.toKey()]=a}}function ql(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Kl(e,t)})}function Kl(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Bi(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Xl(e))}function Yl(e,t,n){for(const r of n)r instanceof Pl?(e.La.addReference(r.key,t),Ql(e,r)):r instanceof Al?(vn("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Kl(e,r.key)):jn()}function Ql(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(vn("SyncEngine","New document in limbo: "+n),e.xa.add(r),Xl(e))}function Xl(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new qn(Vn.fromString(t)),r=e.qa.next();e.Na.set(r,new Il(n)),e.Oa=e.Oa.insert(n,r),Fi(e.remoteStore,new Do(Ia(Pa(n.path)),r,"TargetPurposeLimboResolution",ar.oe))}}async function $l(e,t,n){const r=Nn(e),a=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((e,i)=>{o.push(r.Ka(i,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(i.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(i.targetId,a?"current":"not-current")}if(e){a.push(e);const t=ai.Wi(i.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Ca.d_(a),await async function(e,t){const n=Nn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>tr.forEach(t,t=>tr.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>tr.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rr(e))throw e;vn("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,a)}}}(r.localStore,s))}async function Jl(e,t){const n=Nn(e);if(!n.currentUser.isEqual(t)){vn("SyncEngine","User change. New user:",t.toKey());const e=await ci(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new _n(kn.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $l(n,e.hs)}}function Zl(e,t){const n=Nn(e),r=n.Na.get(t);if(r&&r.va)return Ja().add(r.key);{let e=Ja();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function ec(e){const t=Nn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ul.bind(null,t),t.Ca.d_=wl.bind(null,t.eventManager),t.Ca.$a=jl.bind(null,t.eventManager),t}function tc(e){const t=Nn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vl.bind(null,t),t}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ai(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return li(this.persistence,new oi,e.initialUser,this.serializer)}Ga(e){return new ti(ri.Zr,this.serializer)}Wa(e){return new vi}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class rc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jl.bind(null,this.syncEngine),await ll(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yl}createDatastore(e){const t=Ai(e.databaseInfo.databaseId),n=function(e){return new _i(e)}(e.databaseInfo);return function(e,t,n,r){return new Ci(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new Di(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Wl(this.syncEngine,e,0),bi.D()?new bi:new xi)}createSyncEngine(e,t){return function(e,t,n,r,a,s,o){const i=new Tl(e,t,n,r,a,s);return o&&(i.Qa=!0),i}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Nn(e);vn("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Li(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}rc.provider={build:()=>new rc};class ac{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class sc{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fn.UNAUTHENTICATED,this.clientId=Ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{vn("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(vn("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(AI){const n=hl(AI,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function oc(e,t){e.asyncQueue.verifyOperationInProgress(),vn("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ci(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ic(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lc(e);vn("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>il(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>il(t.remoteStore,n)),e._onlineComponents=t}async function lc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vn("FirestoreClient","Using user provided OfflineComponentProvider");try{await oc(e,e._uninitializedComponentsProvider._offline)}catch(AI){const n=AI;if(!function(e){return"FirebaseError"===e.name?e.code===kn.FAILED_PRECONDITION||e.code===kn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;bn("Error using user provided cache. Falling back to memory cache: "+n),await oc(e,new nc)}}else vn("FirestoreClient","Using default OfflineComponentProvider"),await oc(e,new nc);return e._offlineComponents}async function cc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vn("FirestoreClient","Using user provided OnlineComponentProvider"),await ic(e,e._uninitializedComponentsProvider._online)):(vn("FirestoreClient","Using default OnlineComponentProvider"),await ic(e,new rc))),e._onlineComponents}function uc(e){return cc(e).then(e=>e.syncEngine)}async function dc(e){const t=await cc(e),n=t.eventManager;return n.onListen=Cl.bind(null,t.syncEngine),n.onUnlisten=Ll.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ml.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fl.bind(null,t.syncEngine),n}function hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new ac({next:i=>{s.Za(),t.enqueueAndForget(()=>bl(e,o));const l=i.docs.has(n);!l&&i.fromCache?a.reject(new _n(kn.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&i.fromCache&&r&&"server"===r.source?a.reject(new _n(kn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:e=>a.reject(e)}),o=new _l(Pa(n.path),s,{includeMetadataChanges:!0,_a:!0});return xl(e,o)}(await dc(e),e.asyncQueue,t,n,r)),r.promise}function mc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const fc=new Map;function pc(e,t,n){if(!n)throw new _n(kn.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gc(e){if(!qn.isDocumentKey(e))throw new _n(kn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":jn()}function vc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _n(kn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yc(e);throw new _n(kn.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class xc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(kn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(kn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _n(kn.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _n(kn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _n(kn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _n(kn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _n(kn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(kn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new En;switch(e.type){case"firstParty":return new Cn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _n(kn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fc.get(e);t&&(vn("ComponentProvider","Removing Datastore"),fc.delete(e),t.terminate())}(this),Promise.resolve()}}function wc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const s=(e=vc(e,bc))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fn.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new _n(kn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fn(s)}e._authCredentials=new On(new An(t,n))}}class jc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Sc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sc(this.firestore,e,this._key)}}class Nc extends jc{constructor(e,t,n){super(e,t,Pa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sc(this.firestore,null,new qn(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function kc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Se(e),1===arguments.length&&(t=Ln.newId()),pc("doc","path",t),e instanceof bc){const n=Vn.fromString(t,...r);return gc(n),new Sc(e,null,new qn(n))}{if(!(e instanceof Sc||e instanceof Nc))throw new _n(kn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vn.fromString(t,...r));return gc(n),new Sc(e.firestore,e instanceof Nc?e.converter:null,new qn(n))}}class _c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ei(this,"async_queue_retry"),this.Vu=()=>{const e=Pi();e&&vn("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Pi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rr(e))throw e;vn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xn("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=dl.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&jn()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Pc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ac extends bc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _c,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _c(e),this._firestoreClient=void 0,await e}}}function Ec(e,t){const n="string"==typeof e?e:t||"(default)",r=Mt("object"==typeof e?e:Wt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=oe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&wc(r,...e)}return r}function Oc(e){if(e._terminated)throw new _n(kn.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ic(e),e._firestoreClient}function Ic(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new Or(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new sc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(jr.fromBase64String(e))}catch(e){throw new _n(kn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Tc(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _n(kn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mc{constructor(e){this._methodName=e}}class Dc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(kn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(kn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}class Rc{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Lc=/^__.*__$/;class Fc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new ks(e,this.data,t,this.fieldTransforms)}}function Bc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jn()}}class Wc{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $c(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Bc(this.Cu)&&Lc.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Uc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ai(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Wc({Cu:e,methodName:t,qu:n,path:Gn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zc(e){const t=e._freezeSettings(),n=Ai(e._databaseId);return new Uc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vc(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,a);Kc("Data must be an object, but it was:",o,r);const i=Gc(r,o);let l,c;if(s.merge)l=new br(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=Yc(t,r,n);if(!o.contains(a))throw new _n(kn.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Jc(e,a)||e.push(a)}l=new br(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Fc(new Qr(i),l,c)}function Hc(e,t){if(qc(e=Se(e)))return Kc("Unsupported field value:",t,e),Gc(e,t);if(e instanceof Mc)return function(e,t){if(!Bc(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Hc(a,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Wn.fromDate(e);return{timestampValue:io(t.serializer,n)}}if(e instanceof Wn){const n=new Wn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:io(t.serializer,n)}}if(e instanceof Dc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tc)return{bytesValue:lo(t.serializer,e._byteString)};if(e instanceof Sc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ho(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Rc)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return ts(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(yc(e)))}(e,t)}function Gc(e,t){const n={};return fr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(e,(e,r)=>{const a=Hc(r,t.Mu(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function qc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wn||e instanceof Dc||e instanceof Tc||e instanceof Sc||e instanceof Mc||e instanceof Rc)}function Kc(e,t,n){if(!qc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=yc(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Yc(e,t,n){if((t=Se(t))instanceof Cc)return t._internalPath;if("string"==typeof t)return Xc(e,t);throw $c("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qc=new RegExp("[~\\*/\\[\\]]");function Xc(e,t,n){if(t.search(Qc)>=0)throw $c("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Cc(...t.split("."))._internalPath}catch(bu){throw $c("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $c(e,t,n,r,a){const s=r&&!r.isEmpty(),o=void 0!==a;let i="Function ".concat(t,"() called with invalid data");n&&(i+=" (via `toFirestore()`)"),i+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(a)),l+=")"),new _n(kn.INVALID_ARGUMENT,i+e+l)}function Jc(e,t){return e.some(e=>e.isEqual(t))}class Zc{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eu extends Zc{data(){return super.data()}}function tu(e,t){return"string"==typeof t?Xc(e,t):t instanceof Cc?t._internalPath:t._delegate._internalPath}function nu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _n(kn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ru{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return mr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>kr(e.doubleValue));return new Rc(a)}convertGeoPoint(e){return new Dc(kr(e.latitude),kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ar(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Er(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vn.fromString(e);Sn(Mo(n));const r=new Ir(n.get(1),n.get(3)),a=new qn(n.popFirst(5));return r.isEqual(t)||xn("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function au(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends Zc{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iu extends ou{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new su(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new iu(this._firestore,this._userDataWriter,n.key,n,new su(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _n(kn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new iu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new su(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new iu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new su(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cu(t.type),doc:r,oldIndex:a,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn()}}function uu(e){e=vc(e,Sc);const t=vc(e.firestore,Ac);return hc(Oc(t),e._key).then(n=>fu(t,e,n))}class du extends ru{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sc(this.firestore,null,t)}}function hu(e,t,n){e=vc(e,Sc);const r=vc(e.firestore,Ac),a=au(e.converter,t,n);return mu(r,[Vc(zc(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,ys.none())])}function mu(e,t){return function(e,t){const n=new Pn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=tc(e);try{const e=await function(e,t){const n=Nn(e),r=Wn.now(),a=t.reduce((e,t)=>e.add(t.key),Ja());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let i=Va(),l=Ja();return n.cs.getEntries(e,a).next(e=>{i=e,i.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,i)).next(a=>{s=a;const o=[];for(const e of t){const t=Ss(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new _s(e.key,t,Xr(t.value.mapValue),ys.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:qa(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new pr(Fn)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await $l(r,e.changes),await Ji(r.remoteStore)}catch(e){const t=hl(e,"Failed to persist write");n.reject(t)}}(await uc(e),t,n)),n.promise}(Oc(e),t)}function fu(e,t,n){const r=n.docs.get(t._key),a=new du(e);return new ou(e,a,t._key,r,new su(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pn=e}(Ft),Ct(new Ne("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),o=new Ac(new In(e.getProvider("auth-internal")),new Dn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _n(kn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ir(e.options.projectId,t)}(s,r),s);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ut(mn,"4.7.3",e),Ut(mn,"4.7.3","esm2017")}();const pu={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"};let gu,yu;const vu=async e=>{f.A.debug("Fetching financial data for year: ".concat(e));try{const n=(gu||(window.firebaseApp?gu=window.firebaseApp:(gu=Bt(pu),window.firebaseApp=gu),yu=Ec(gu)),yu);f.A.debug("Firebase initialized, attempting to fetch document...");const r=kc(n,"league_finances",e);f.A.debug("Document reference created:",r.path);const a=await uu(r);if(f.A.debug("Document snapshot received:",a.exists()?"EXISTS":"DOES NOT EXIST"),a.exists()){var t;const n=a.data();return f.A.debug("Raw financial data for ".concat(e,":"),Object.keys(n||{})),f.A.debug("Transactions count for ".concat(e,":"),(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.length)||0),null!==n&&void 0!==n&&n.transactions&&n.transactions.length>0&&f.A.debug("Sample transaction for ".concat(e,":"),n.transactions[0]),n&&n.transactions?n:{transactions:[],potentialFees:[],potentialPayouts:[]}}return f.A.debug("No financial document found for year ".concat(e," in Firestore")),{transactions:[],potentialFees:[],potentialPayouts:[]}}catch(n){return f.A.error("Error fetching financial data for year ".concat(e,":"),n),f.A.error("Error details:",n.message,n.code),{transactions:[],potentialFees:[],potentialPayouts:[]}}},xu=async e=>{if(!e||!Array.isArray(e)||0===e.length)return f.A.debug("No years provided for financial data fetch"),{};f.A.debug("Fetching financial data for multiple years:",e);try{const t=e.map(e=>vu(e)),n=await Promise.all(t),r={};return e.forEach((e,t)=>{r[e]=n[t]}),f.A.debug("Final financial data by year:",r),r}catch(t){return f.A.error("Error fetching financial data for multiple years:",t),{}}};function bu(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=bu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const wu=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=bu(e))&&(r&&(r+=" "),r+=t);return r};var ju=n(9889),Su=n.n(ju),Nu=n(620),ku=n.n(Nu),_u=n(5268),Pu=n.n(_u),Au=n(3097),Eu=n.n(Au),Ou=n(9160),Iu=n.n(Ou),Tu=n(9686),Cu=n.n(Tu),Mu=function(e){return 0===e?0:e>0?1:-1},Du=function(e){return ku()(e)&&e.indexOf("%")===e.length-1},Ru=function(e){return Iu()(e)&&!Pu()(e)},Lu=function(e){return Ru(e)||ku()(e)},Fu=0,Bu=function(e){var t=++Fu;return"".concat(e||"").concat(t)},Wu=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ru(e)&&!ku()(e))return r;if(Du(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return Pu()(n)&&(n=r),a&&n>t&&(n=t),n},Uu=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},zu=function(e,t){return Ru(e)&&Ru(t)?function(n){return e+n*(t-e)}:function(){return t}};function Vu(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Eu()(e,t))===n}):null}var Hu=function(e,t){return Ru(e)&&Ru(t)?e-t:ku()(e)&&ku()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Gu=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},qu=n(1629),Ku=n.n(qu),Yu=n(6686),Qu=n.n(Yu),Xu=n(9062);function $u(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ju(e){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(e)}var Zu=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ed=["points","pathLength"],td={svg:["viewBox","children"],polygon:ed,polyline:ed},nd=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rd=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!Qu()(r))return null;var a={};return Object.keys(r).forEach(function(e){nd.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},ad=function(e,t,n){if(!Qu()(e)||"object"!==Ju(e))return null;var r=null;return Object.keys(e).forEach(function(a){var s=e[a];nd.includes(a)&&"function"===typeof s&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))}),r},sd=["children"],od=["children"];function id(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ld(e){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(e)}var cd={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ud=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},dd=null,hd=null,md=function e(n){if(n===dd&&Array.isArray(hd))return hd;var r=[];return t.Children.forEach(n,function(t){Cu()(t)||((0,Xu.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),hd=r,dd=n,r};function fd(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return ud(e)}):[ud(t)],md(e).forEach(function(e){var t=Eu()(e,"type.displayName")||Eu()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function pd(e,t){var n=fd(e,t);return n&&n[0]}var gd=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ru(n)||n<=0||!Ru(r)||r<=0)},yd=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vd=function(e){return e&&e.type&&ku()(e.type)&&yd.indexOf(e.type)>=0},xd=function(e){return e&&"object"===ld(e)&&"clipDot"in e},bd=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!Qu()(a))return null;var s={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,s=null!==(a=null===td||void 0===td?void 0:td[r])&&void 0!==a?a:[];return t.startsWith("data-")||!Ku()(e)&&(r&&s.includes(t)||Zu.includes(t))||n&&nd.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(s[e]=a[e])}),s},wd=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return jd(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var o=n[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!jd(o,i))return!1}return!0},jd=function(e,t){if(Cu()(e)&&Cu()(t))return!0;if(!Cu()(e)&&!Cu()(t)){var n=e.props||{},r=n.children,a=id(n,sd),s=t.props||{},o=s.children,i=id(s,od);return r&&o?$u(a,i)&&wd(r,o):!r&&!o&&$u(a,i)}return!1},Sd=function(e,t){var n=[],r={};return md(e).forEach(function(e,a){if(vd(e))n.push(e);else if(e){var s=ud(e.type),o=t[s]||{},i=o.handler,l=o.once;if(i&&(!l||!r[s])){var c=i(e,s,a);n.push(c),r[s]=!0}}}),n};function Nd(e){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(t){Pd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Nd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ad(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ed(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Od=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,s=void 0===a?{width:-1,height:-1}:a,o=e.width,i=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,m=e.maxHeight,f=e.children,p=e.debounce,g=void 0===p?0:p,y=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,j=(0,t.useRef)(null),S=(0,t.useRef)();S.current=x,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=Ad((0,t.useState)({containerWidth:s.width,containerHeight:s.height}),2),k=N[0],_=N[1],P=(0,t.useCallback)(function(e,t){_(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;P(r,a),null===(t=S.current)||void 0===t||t.call(S,r,a)};g>0&&(e=Su()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,a=n.height;return P(r,a),t.observe(j.current),function(){t.disconnect()}},[P,g]);var A=(0,t.useMemo)(function(){var e=k.containerWidth,n=k.containerHeight;if(e<0||n<0)return null;Gu(Du(i)||Du(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,c),Gu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Du(i)?e:i,s=Du(c)?n:c;r&&r>0&&(a?s=a/r:s&&(a=s*r),m&&s>m&&(s=m)),Gu(a>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,s,i,c,d,h,r);var o=!Array.isArray(f)&&ud(f.type).endsWith("Chart");return t.Children.map(f,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,_d({width:a,height:s},o?{style:_d({height:"100%",width:"100%",maxHeight:s,maxWidth:a},e.props.style)}:{})):e})},[r,f,c,m,h,d,k,i]);return t.createElement("div",{id:y?"".concat(y):void 0,className:wu("recharts-responsive-container",v),style:_d(_d({},w),{},{width:i,height:c,minWidth:d,minHeight:h,maxHeight:m}),ref:j},A)}),Id=n(6604),Td=n.n(Id),Cd=n(7424),Md=n.n(Cd),Dd="Invariant failed";function Rd(e,t){if(!e)throw new Error(Dd)}var Ld=["children","width","height","viewBox","className","style","title","desc"];function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(this,arguments)}function Bd(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wd(e){var n=e.children,r=e.width,a=e.height,s=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,u=Bd(e,Ld),d=s||{width:r,height:a,x:0,y:0},h=wu("recharts-surface",o);return t.createElement("svg",Fd({},bd(u,!0,"svg"),{className:h,width:r,height:a,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var Ud=["children","className"];function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}function Vd(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Hd=t.forwardRef(function(e,n){var r=e.children,a=e.className,s=Vd(e,Ud),o=wu("recharts-layer",a);return t.createElement("g",zd({className:o},bd(s,!0),{ref:n}),r)});function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(this,arguments)}function Kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Yd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach(function(t){$d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $d(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jd(e){return Array.isArray(e)&&Lu(e[0])&&Lu(e[1])?e.join(" ~ "):e}var Zd=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,s=void 0===a?{}:a,o=e.itemStyle,i=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,f=e.labelClassName,p=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=Xd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Xd({margin:0},c),w=!Cu()(p),j=w?p:"",S=wu("recharts-default-tooltip",m),N=wu("recharts-tooltip-label",f);w&&g&&void 0!==u&&null!==u&&(j=g(p,u));var k=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",qd({className:S,style:x},k),t.createElement("p",{className:N,style:b},t.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?Md()(u,h):u).map(function(e,n){if("none"===e.type)return null;var a=Xd({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||d||Jd,o=e.value,l=e.name,c=o,h=l;if(s&&null!=c&&null!=h){var m=s(o,l,e,n,u);if(Array.isArray(m)){var f=Kd(m,2);c=f[0],h=f[1]}else c=m}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},Lu(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Lu(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function eh(e){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(e)}function th(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh="recharts-tooltip-wrapper",rh={visibility:"hidden"};function ah(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return wu(nh,th(th(th(th({},"".concat(nh,"-right"),Ru(n)&&t&&Ru(t.x)&&n>=t.x),"".concat(nh,"-left"),Ru(n)&&t&&Ru(t.x)&&n<t.x),"".concat(nh,"-bottom"),Ru(r)&&t&&Ru(t.y)&&r>=t.y),"".concat(nh,"-top"),Ru(r)&&t&&Ru(t.y)&&r<t.y))}function sh(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Ru(s[r]))return s[r];var u=n[r]-i-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+i>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function oh(e){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(e)}function ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ih(Object(n),!0).forEach(function(t){fh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ch(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ph(r.key),r)}}function uh(e,t,n){return t=hh(t),function(e,t){if(t&&("object"===oh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dh()?Reflect.construct(t,n||[],hh(e).constructor):t.apply(e,n))}function dh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dh=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(e)}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mh(e,t)}function fh(e,t,n){return(t=ph(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ph(e){var t=function(e,t){if("object"!=oh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oh(t)?t:t+""}var gh=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return fh(e=uh(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fh(e,"handleKeyDown",function(t){var n,r,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}(n,e),r=n,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,m=n.reverseDirection,f=n.useTranslate3d,p=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=sh({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=sh({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):rh,cssClasses:ah({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:p}),v=y.cssClasses,x=y.cssProperties,b=lh(lh({transition:u&&r?"transform ".concat(s,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},i)}}])&&ch(r.prototype,a),s&&ch(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent),yh={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return yh[e]},set:function(e,t){if("string"===typeof e)yh[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){yh[t]=e[t]})}}},vh=n(977),xh=n.n(vh);function bh(e,t,n){return!0===t?xh()(e,n):Ku()(t)?xh()(e,t):e}function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(t){Eh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oh(r.key),r)}}function kh(e,t,n){return t=Ph(t),function(e,t){if(t&&("object"===wh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_h()?Reflect.construct(t,n||[],Ph(e).constructor):t.apply(e,n))}function _h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_h=function(){return!!e})()}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(e)}function Ah(e,t){return Ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ah(e,t)}function Eh(e,t,n){return(t=Oh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oh(e){var t=function(e,t){if("object"!=wh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wh(t)?t:t+""}function Ih(e){return e.dataKey}var Th=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),kh(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ah(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,m=n.payloadUniqBy,f=n.position,p=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=bh(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),m,Ih));var b=x.length>0;return t.createElement(gh,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:b,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(Zd,n)}(i,Sh(Sh({},this.props),{},{payload:x})))}}])&&Nh(r.prototype,a),s&&Nh(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);Eh(Th,"displayName","Tooltip"),Eh(Th,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ch=n(643),Mh=n.n(Ch);Math.abs,Math.atan2;const Dh=Math.cos,Rh=(Math.max,Math.min,Math.sin),Lh=Math.sqrt,Fh=Math.PI,Bh=2*Fh;const Wh={draw(e,t){const n=Lh(t/Fh);e.moveTo(n,0),e.arc(0,0,n,0,Bh)}},Uh={draw(e,t){const n=Lh(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zh=Lh(1/3),Vh=2*zh,Hh={draw(e,t){const n=Lh(t/Vh),r=n*zh;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Gh={draw(e,t){const n=Lh(t),r=-n/2;e.rect(r,r,n,n)}},qh=Rh(Fh/10)/Rh(7*Fh/10),Kh=Rh(Bh/10)*qh,Yh=-Dh(Bh/10)*qh,Qh={draw(e,t){const n=Lh(.8908130915292852*t),r=Kh*n,a=Yh*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=Bh*s/5,o=Dh(t),i=Rh(t);e.lineTo(i*n,-o*n),e.lineTo(o*r-i*a,i*r+o*a)}e.closePath()}},Xh=Lh(3),$h={draw(e,t){const n=-Lh(t/(3*Xh));e.moveTo(0,2*n),e.lineTo(-Xh*n,-n),e.lineTo(Xh*n,-n),e.closePath()}},Jh=-.5,Zh=Lh(3)/2,em=1/Lh(12),tm=3*(em/2+1),nm={draw(e,t){const n=Lh(t/tm),r=n/2,a=n*em,s=r,o=n*em+n,i=-s,l=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(i,l),e.lineTo(Jh*r-Zh*a,Zh*r+Jh*a),e.lineTo(Jh*s-Zh*o,Zh*s+Jh*o),e.lineTo(Jh*i-Zh*l,Zh*i+Jh*l),e.lineTo(Jh*r+Zh*a,Jh*a-Zh*r),e.lineTo(Jh*s+Zh*o,Jh*o-Zh*s),e.lineTo(Jh*i+Zh*l,Jh*l-Zh*i),e.closePath()}};function rm(e){return function(){return e}}function am(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sm,om,im,lm,cm,um,dm,hm,mm,fm,pm,gm,ym,vm;const xm=Math.PI,bm=2*xm,wm=1e-6,jm=bm-wm;function Sm(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Nm{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Sm:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Sm;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(sm||(sm=am(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(om||(om=am(["Z"]))))}lineTo(e,t){this._append(im||(im=am(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(lm||(lm=am(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(cm||(cm=am(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,o=this._y1,i=n-e,l=r-t,c=s-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(um||(um=am(["M",",",""])),this._x1=e,this._y1=t);else if(d>wm)if(Math.abs(u*i-l*c)>wm&&a){let h=n-s,m=r-o,f=i*i+l*l,p=h*h+m*m,g=Math.sqrt(f),y=Math.sqrt(d),v=a*Math.tan((xm-Math.acos((f+d-p)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>wm&&this._append(hm||(hm=am(["L",",",""])),e+x*c,t+x*u),this._append(mm||(mm=am(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*m),this._x1=e+b*i,this._y1=t+b*l)}else this._append(dm||(dm=am(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),i=n*Math.sin(r),l=e+o,c=t+i,u=1^s,d=s?r-a:a-r;null===this._x1?this._append(fm||(fm=am(["M",",",""])),l,c):(Math.abs(this._x1-l)>wm||Math.abs(this._y1-c)>wm)&&this._append(pm||(pm=am(["L",",",""])),l,c),n&&(d<0&&(d=d%bm+bm),d>jm?this._append(gm||(gm=am(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-i,n,n,u,this._x1=l,this._y1=c):d>wm&&this._append(ym||(ym=am(["A",",",",0,",",",",",",",""])),n,n,+(d>=xm),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(vm||(vm=am(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function km(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Nm(t)}Lh(3),Lh(3);function _m(e){return _m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(e)}var Pm=["type","size","sizeType"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(this,arguments)}function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(t){Im(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Im(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_m(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Cm={symbolCircle:Wh,symbolCross:Uh,symbolDiamond:Hh,symbolSquare:Gh,symbolStar:Qh,symbolTriangle:$h,symbolWye:nm},Mm=Math.PI/180,Dm=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,s=void 0===a?64:a,o=e.sizeType,i=void 0===o?"area":o,l=Om(Om({},Tm(e,Pm)),{},{type:r,size:s,sizeType:i}),c=l.className,u=l.cx,d=l.cy,h=bd(l,!0);return u===+u&&d===+d&&s===+s?t.createElement("path",Am({},h,{className:wu("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Mh()(e));return Cm[t]||Wh}(r),t=function(e,t){let n=null,r=km(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:rm(e||Wh),t="function"===typeof t?t:rm(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:rm(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:rm(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Mm;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,i,r));return t()}()})):null};function Rm(e){return Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm.apply(this,arguments)}function Fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gm(r.key),r)}}function Wm(e,t,n){return t=zm(t),function(e,t){if(t&&("object"===Rm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Um()?Reflect.construct(t,n||[],zm(e).constructor):t.apply(e,n))}function Um(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Um=function(){return!!e})()}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zm(e)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vm(e,t)}function Hm(e,t,n){return(t=Gm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gm(e){var t=function(e,t){if("object"!=Rm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rm(t)?t:t+""}Dm.registerSymbol=function(e,t){Cm["symbol".concat(Mh()(e))]=t};var qm=32,Km=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Wm(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=qm/6,s=qm/3,o=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:qm,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(qm,"M").concat(2*s,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(qm,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fm(Object(n),!0).forEach(function(t){Hm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete i.legendIcon,t.cloneElement(e.legendIcon,i)}return t.createElement(Dm,{fill:o,cx:r,cy:r,size:qm,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,s=n.layout,o=n.formatter,i=n.inactiveColor,l={x:0,y:0,width:qm,height:qm},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var s=n.formatter||o,d=wu(Hm(Hm({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=Ku()(n.value)?null:n.value;Gu(!Ku()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=n.inactive?i:n.color;return t.createElement("li",Lm({className:d,style:c,key:"legend-item-".concat(r)},ad(e.props,n,r)),t.createElement(Wd,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},s?s(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],a&&Bm(r.prototype,a),s&&Bm(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}Hm(Km,"displayName","Legend"),Hm(Km,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qm=["ref"];function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach(function(t){rf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,af(r.key),r)}}function Zm(e,t,n){return t=tf(t),function(e,t){if(t&&("object"===Ym(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ef()?Reflect.construct(t,n||[],tf(e).constructor):t.apply(e,n))}function ef(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ef=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(e)}function nf(e,t){return nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nf(e,t)}function rf(e,t,n){return(t=af(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function af(e){var t=function(e,t){if("object"!=Ym(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ym(t)?t:t+""}function sf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function of(e){return e.value}var lf=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return rf(e=Zm(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nf(e,t)}(n,e),r=n,s=[{key:"getWithHeight",value:function(e,t){var n=$m($m({},this.defaultProps),e.props).layout;return"vertical"===n&&Ru(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$m({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,s=r.align,o=r.verticalAlign,i=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:i&&i.right||0}:{left:i&&i.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),$m($m({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,s=n.height,o=n.wrapperStyle,i=n.payloadUniqBy,l=n.payload,c=$m($m({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=sf(n,Qm);return t.createElement(Km,r)}(r,$m($m({},this.props),{},{payload:bh(l,i,of)})))}}])&&Jm(r.prototype,a),s&&Jm(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}rf(lf,"displayName","Legend"),rf(lf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uf=function(e){var n=e.cx,r=e.cy,a=e.r,s=e.className,o=wu("recharts-dot",s);return n===+n&&r===+r&&a===+a?t.createElement("circle",cf({},bd(e,!1),rd(e),{className:o,cx:n,cy:r,r:a})):null},df=n(5173),hf=n.n(df),mf=Object.getOwnPropertyNames,ff=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty;function gf(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function yf(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,s=a.get(t),o=a.get(n);if(s&&o)return s===n&&o===t;a.set(t,n),a.set(n,t);var i=e(t,n,r);return a.delete(t),a.delete(n),i}}function vf(e){return mf(e).concat(ff(e))}var xf=Object.hasOwn||function(e,t){return pf.call(e,t)};function bf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var wf=Object.getOwnPropertyDescriptor,jf=Object.keys;function Sf(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Nf(e,t){return bf(e.getTime(),t.getTime())}function kf(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function _f(e,t){return e===t}function Pf(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.entries(),l=0;(a=i.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(o[d])d++;else{var h=a.value,m=s.value;if(n.equals(h[0],m[0],l,d,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Af=bf;function Ef(e,t,n){var r=jf(e),a=r.length;if(jf(t).length!==a)return!1;for(;a-- >0;)if(!Rf(e,t,n,r[a]))return!1;return!0}function Of(e,t,n){var r,a,s,o=vf(e),i=o.length;if(vf(t).length!==i)return!1;for(;i-- >0;){if(!Rf(e,t,n,r=o[i]))return!1;if(a=wf(e,r),s=wf(t,r),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function If(e,t){return bf(e.valueOf(),t.valueOf())}function Tf(e,t){return e.source===t.source&&e.flags===t.flags}function Cf(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.values();(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!o[u]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Mf(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Df(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Rf(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||xf(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Lf=Array.isArray,Ff="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Bf=Object.assign,Wf=Object.prototype.toString.call.bind(Object.prototype.toString);var Uf=zf();zf({strict:!0}),zf({circular:!0}),zf({circular:!0,strict:!0}),zf({createInternalComparator:function(){return bf}}),zf({strict:!0,createInternalComparator:function(){return bf}}),zf({circular:!0,createInternalComparator:function(){return bf}}),zf({circular:!0,createInternalComparator:function(){return bf},strict:!0});function zf(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,s=e.createState,o=e.strict,i=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Of:Sf,areDatesEqual:Nf,areErrorsEqual:kf,areFunctionsEqual:_f,areMapsEqual:r?gf(Pf,Of):Pf,areNumbersEqual:Af,areObjectsEqual:r?Of:Ef,arePrimitiveWrappersEqual:If,areRegExpsEqual:Tf,areSetsEqual:r?gf(Cf,Of):Cf,areTypedArraysEqual:r?Of:Mf,areUrlsEqual:Df};if(n&&(a=Bf({},a,n(a))),t){var s=yf(a.areArraysEqual),o=yf(a.areMapsEqual),i=yf(a.areObjectsEqual),l=yf(a.areSetsEqual);a=Bf({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,i=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,m,f){if(e===m)return!0;if(null==e||null==m)return!1;var p=typeof e;if(p!==typeof m)return!1;if("object"!==p)return"number"===p?o(e,m,f):"function"===p&&a(e,m,f);var g=e.constructor;if(g!==m.constructor)return!1;if(g===Object)return i(e,m,f);if(Lf(e))return t(e,m,f);if(null!=Ff&&Ff(e))return d(e,m,f);if(g===Date)return n(e,m,f);if(g===RegExp)return c(e,m,f);if(g===Map)return s(e,m,f);if(g===Set)return u(e,m,f);var y=Wf(e);return"[object Date]"===y?n(e,m,f):"[object RegExp]"===y?c(e,m,f):"[object Map]"===y?s(e,m,f):"[object Set]"===y?u(e,m,f):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof m.then&&i(e,m,f):"[object URL]"===y?h(e,m,f):"[object Error]"===y?r(e,m,f):"[object Arguments]"===y?i(e,m,f):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,m,f)}}(l),u=a?a(c):(t=c,function(e,n,r,a,s,o,i){return t(e,n,i)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(e,o){var i=r(),l=i.cache,c=void 0===l?t?new WeakMap:void 0:l,u=i.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:s,equals:u,strict:i})}function Vf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function Hf(e){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(e)}function Gf(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kf(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=Gf(r),s=a[0],o=a.slice(1);return"number"===typeof s?void Vf(n.bind(null,o),s):(n(s),void Vf(n.bind(null,o)))}"object"===Hf(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Yf(e){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(e)}function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach(function(t){$f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jf=function(e){return e},Zf=function(e,t){return Object.keys(t).reduce(function(n,r){return Xf(Xf({},n),{},$f({},r,e(r,t[r])))},{})},ep=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||rp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(e){return function(e){if(Array.isArray(e))return ap(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t){if(e){if("string"===typeof e)return ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ap(e,t):void 0}}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sp=1e-4,op=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ip=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},lp=function(e,t){return function(n){var r=op(e,t);return ip(r,n)}},cp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],s=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,s=1,o=1;break;case"ease":r=.25,a=.1,s=.25,o=1;break;case"ease-in":r=.42,a=0,s=1,o=1;break;case"ease-out":r=.42,a=0,s=.58,o=1;break;case"ease-in-out":r=0,a=0,s=.58,o=1;break;default:var i=t[0].split("(");if("cubic-bezier"===i[0]&&4===i[1].split(")")[0].split(",").length){var l=i[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=tp(l,4);r=c[0],a=c[1],s=c[2],o=c[3]}}[r,s,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=lp(r,s),m=lp(a,o),f=(u=r,d=s,function(e){var t=op(u,d),n=[].concat(np(t.map(function(e,t){return e*t}).slice(1)),[0]);return ip(n,e)}),p=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,s=f(n);if(Math.abs(a-t)<sp||s<sp)return m(n);n=p(n-a/s)}return m(n)};return g.isStepper=!1,g},up=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cp(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,s=e.dt,o=void 0===s?17:s,i=function(e,t,r){var s=r+(-(e-t)*n-r*a)*o/1e3,i=r*o/1e3+e;return Math.abs(i-t)<sp&&Math.abs(s)<sp?[t,0]:[i,s]};return i.isStepper=!0,i.dt=o,i}();default:if("cubic-bezier"===r.split("(")[0])return cp(r)}return"function"===typeof r?r:null};function dp(e){return dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(e)}function hp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach(function(t){pp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||yp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){if(e){if("string"===typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xp=function(e,t,n){return e+(t-e)*n},bp=function(e){return e.from!==e.to},wp=function e(t,n,r){var a=Zf(function(e,n){if(bp(n)){var r=gp(t(n.from,n.to,n.velocity),2),a=r[0],s=r[1];return fp(fp({},n),{},{from:a,velocity:s})}return n},n);return r<1?Zf(function(e,t){return bp(t)?fp(fp({},t),{},{velocity:xp(t.velocity,a[e].velocity,r),from:xp(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const jp=function(e,t,n,r,a){var s,o,i,l,c=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return fp(fp({},n),{},pp({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return fp(fp({},n),{},pp({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,m=function(){return null};return m=n.isStepper?function(r){i||(i=r);var s=(r-i)/n.dt;d=wp(n,d,s),a(fp(fp(fp({},e),t),Zf(function(e,t){return t.from},d))),i=r,Object.values(d).filter(bp).length&&(h=requestAnimationFrame(m))}:function(s){l||(l=s);var o=(s-l)/r,i=Zf(function(e,t){return xp.apply(void 0,hp(t).concat([n(o)]))},u);if(a(fp(fp(fp({},e),t),i)),o<1)h=requestAnimationFrame(m);else{var c=Zf(function(e,t){return xp.apply(void 0,hp(t).concat([n(1)]))},u);a(fp(fp(fp({},e),t),c))}},function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(h)}}};function Sp(e){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(e)}var Np=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kp(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _p(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ap(Object(n),!0).forEach(function(t){Op(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Op(e,t,n){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tp(r.key),r)}}function Tp(e){var t=function(e,t){if("object"!==Sp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sp(t)?t:String(t)}function Cp(e,t){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cp(e,t)}function Mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Lp(e);if(t){var a=Lp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dp(this,n)}}function Dp(e,t){if(t&&("object"===Sp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rp(e)}function Rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}var Fp=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}(o,e);var n,r,a,s=Mp(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=s.call(this,e,t)).props,a=r.isActive,i=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Rp(n)),n.changeStyle=n.changeStyle.bind(Rp(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),Dp(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},Dp(n);n.state={style:i?Op({},i,l):l}}else n.state={style:{}};return n}return n=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,o=t.to,i=t.from,l=this.state.style;if(r)if(n){if(!(Uf(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?i:e.to;if(this.state&&l){var d={style:a?Op({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Ep(Ep({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?Op({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,s=e.easing,o=e.begin,i=e.onAnimationEnd,l=e.onAnimationStart,c=jp(n,r,up(s),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,i])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,s=n[0],o=s.style,i=s.duration,l=void 0===i?0:i;return this.manager.start([a].concat(_p(n.reduce(function(e,r,a){if(0===a)return e;var s=r.duration,o=r.easing,i=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof i||"spring"===i)return[].concat(_p(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:i}),s]);var m=ep(h,s,i),f=Ep(Ep(Ep({},d.style),l),{},{transition:m});return[].concat(_p(e),[f,s,u]).filter(Jf)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Kf());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,s=e.easing,o=e.onAnimationStart,i=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=r?Op({},r,a):a,h=ep(Object.keys(d),n,s);u.start([o,t,Ep(Ep({},d),{},{transition:h}),n,i])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,kp(e,Np)),o=t.Children.count(n),i=this.state.style;if("function"===typeof n)return n(i);if(!a||0===o||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,o=n.className;return(0,t.cloneElement)(e,Ep(Ep({},s),{},{style:Ep(Ep({},a),i),className:o}))};return 1===o?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&Ip(n.prototype,r),a&&Ip(n,a),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.PureComponent);Fp.displayName="Animate",Fp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Fp.propTypes={from:hf().oneOfType([hf().object,hf().string]),to:hf().oneOfType([hf().object,hf().string]),attributeName:hf().string,duration:hf().number,begin:hf().number,easing:hf().oneOfType([hf().string,hf().func]),steps:hf().arrayOf(hf().shape({duration:hf().number.isRequired,style:hf().object.isRequired,easing:hf().oneOfType([hf().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hf().func]),properties:hf().arrayOf("string"),onAnimationEnd:hf().func})),children:hf().oneOfType([hf().node,hf().func]),isActive:hf().bool,canBegin:hf().bool,onAnimationEnd:hf().func,shouldReAnimate:hf().bool,onAnimationStart:hf().func,onAnimationReStart:hf().func};const Bp=Fp;function Wp(e){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(this,arguments)}function zp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach(function(t){qp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Wp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kp=function(e,t,n,r,a){var s,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),i=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];s="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+i*u[1])),s+="L ".concat(e+n,",").concat(t+r-i*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-i*u[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);s="M ".concat(e,",").concat(t+i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+i*h,"\n            L ").concat(e+n,",").concat(t+r-i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-i*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},Yp=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,s=t.y,o=t.width,i=t.height;if(Math.abs(o)>0&&Math.abs(i)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(s,s+i),d=Math.max(s,s+i);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Qp={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xp=function(e){var n=Gp(Gp({},Qp),e),r=(0,t.useRef)(),a=zp((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,m=n.animationEasing,f=n.animationDuration,p=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=wu("recharts-rectangle",h);return y?t.createElement(Bp,{canBegin:s>0,from:{width:c,height:u,x:i,y:l},to:{width:c,height:u,x:i,y:l},duration:f,animationEasing:m,isActive:y},function(e){var a=e.width,o=e.height,i=e.x,l=e.y;return t.createElement(Bp,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:g,easing:m},t.createElement("path",Up({},bd(n,!0),{className:v,d:Kp(i,l,a,o,d),ref:r})))}):t.createElement("path",Up({},bd(n,!0),{className:v,d:Kp(i,l,c,u,d)}))};function $p(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Jp(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Zp extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rg;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(eg(this,e))}has(e){return super.has(eg(this,e))}set(e,t){return super.set(tg(this,e),t)}delete(e){return super.delete(ng(this,e))}}Set;function eg(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function tg(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function ng(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function rg(e){return null!==e&&"object"===typeof e?e.valueOf():e}const ag=Symbol("implicit");function sg(){var e=new Zp,t=[],n=[],r=ag;function a(a){let s=e.get(a);if(void 0===s){if(r!==ag)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Zp;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return sg(t,n).unknown(r)},$p.apply(a,arguments),a}function og(){var e,t,n=sg().unknown(void 0),r=n.domain,a=n.range,s=0,o=1,i=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<s,h=d?o:s,m=d?s:o;e=(m-h)/Math.max(1,n-l+2*c),i&&(e=Math.floor(e)),h+=(m-h-e*(n-l))*u,t=e*(1-l),i&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return a(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,d()):[s,o]},n.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,i=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(i=!!e,d()):i},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return og(r(),[s,o]).round(i).paddingInner(l).paddingOuter(c).align(u)},$p.apply(d(),arguments)}function ig(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ig(t())},e}function lg(){return ig(og.apply(null,arguments).paddingInner(1))}function cg(e){return cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(e)}function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(n),!0).forEach(function(t){hg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mg={widthCache:{},cacheCount:0},fg={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pg="recharts_measurement_span";var gg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||yh.isSsr)return{width:0,height:0};var n=function(e){var t=dg({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(mg.widthCache[r])return mg.widthCache[r];try{var a=document.getElementById(pg);a||((a=document.createElement("span")).setAttribute("id",pg),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=dg(dg({},fg),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),i={width:o.width,height:o.height};return mg.widthCache[r]=i,++mg.cacheCount>2e3&&(mg.cacheCount=0,mg.widthCache={}),i}catch(l){return{width:0,height:0}}};function yg(e){return yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(e)}function vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wg(r.key),r)}}function wg(e){var t=function(e,t){if("object"!=yg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yg(t)?t:t+""}var jg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ng=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kg=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_g={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Pg=Object.keys(_g),Ag="NaN";var Eg=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Ng.test(n)||(this.num=NaN,this.unit=""),Pg.includes(n)&&(this.num=function(e,t){return e*_g[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=vg(null!==(n=kg.exec(t))&&void 0!==n?n:[],3),a=r[1],s=r[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&bg(t.prototype,n),r&&bg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Og(e){if(e.includes(Ag))return Ag;for(var t=e;t.includes("*")||t.includes("/");){var n,r=vg(null!==(n=jg.exec(t))&&void 0!==n?n:[],4),a=r[1],s=r[2],o=r[3],i=Eg.parse(null!==a&&void 0!==a?a:""),l=Eg.parse(null!==o&&void 0!==o?o:""),c="*"===s?i.multiply(l):i.divide(l);if(c.isNaN())return Ag;t=t.replace(jg,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=vg(null!==(u=Sg.exec(t))&&void 0!==u?u:[],4),h=d[1],m=d[2],f=d[3],p=Eg.parse(null!==h&&void 0!==h?h:""),g=Eg.parse(null!==f&&void 0!==f?f:""),y="+"===m?p.add(g):p.subtract(g);if(y.isNaN())return Ag;t=t.replace(Sg,y.toString())}return t}var Ig=/\(([^()]*)\)/;function Tg(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=vg(Ig.exec(t),2)[1];t=t.replace(Ig,Og(n))}return t}(t),t=Og(t)}function Cg(e){var t=function(e){try{return Tg(e)}catch(t){return Ag}}(e.slice(5,-1));return t===Ag?"":t}var Mg=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dg=["dx","dy","angle","className","breakAll"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(this,arguments)}function Lg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wg=/[ \f\n\r\t\v\u2028\u2029]+/,Ug=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Cu()(t)||(a=n?t.toString().split(""):t.toString().split(Wg)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:gg(e,r).width}}),spaceWidth:n?0:gg("\xa0",r).width}}catch(s){return null}},zg=function(e){return[{words:Cu()(e)?[]:e.toString().split(Wg)}]},Vg=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((t||n)&&!yh.isSsr){var i=Ug({breakAll:s,children:r,style:a});return i?function(e,t,n,r,a){var s=e.maxLines,o=e.children,i=e.style,l=e.breakAll,c=Ru(s),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,o=t.width,i=e[e.length-1];if(i&&(null==r||a||i.width+o+n<Number(r)))i.words.push(s),i.width+=o+n;else{var l={words:[s],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var m,f=function(e){var t=u.slice(0,e),n=Ug({breakAll:l,style:i,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},p=0,g=u.length-1,y=0;p<=g&&y<=u.length-1;){var v=Math.floor((p+g)/2),x=Fg(f(v-1),2),b=x[0],w=x[1],j=Fg(f(v),1)[0];if(b||j||(p=v+1),b&&j&&(g=v-1),!b&&j){m=w;break}y++}return m||h}({breakAll:s,children:r,maxLines:o,style:a},i.wordsWithComputedWidth,i.spaceWidth,t,n):zg(r)}return zg(r)},Hg="#808080",Gg=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.lineHeight,i=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,m=void 0===h?"start":h,f=e.verticalAnchor,p=void 0===f?"end":f,g=e.fill,y=void 0===g?Hg:g,v=Lg(e,Mg),x=(0,t.useMemo)(function(){return Vg({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,j=v.angle,S=v.className,N=v.breakAll,k=Lg(v,Dg);if(!Lu(r)||!Lu(s))return null;var _,P=r+(Ru(b)?b:0),A=s+(Ru(w)?w:0);switch(p){case"start":_=Cg("calc(".concat(c,")"));break;case"middle":_=Cg("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:_=Cg("calc(".concat(x.length-1," * -").concat(i,")"))}var E=[];if(d){var O=x[0].width,I=v.width;E.push("scale(".concat((Ru(I)?I/O:1)/O,")"))}return j&&E.push("rotate(".concat(j,", ").concat(P,", ").concat(A,")")),E.length&&(k.transform=E.join(" ")),t.createElement("text",Rg({},bd(k,!0),{x:P,y:A,className:wu("recharts-text",S),textAnchor:m,fill:y.includes("url")?Hg:y}),x.map(function(e,n){var r=e.words.join(N?"":" ");return t.createElement("tspan",{x:P,dy:0===n?_:i,key:"".concat(r,"-").concat(n)},r)}))};const qg=Math.sqrt(50),Kg=Math.sqrt(10),Yg=Math.sqrt(2);function Qg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=qg?10:s>=Kg?5:s>=Yg?2:1;let i,l,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(e*c),l=Math.round(t*c),i/c<e&&++i,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,i=Math.round(e/c),l=Math.round(t/c),i*c<e&&++i,l*c>t&&--l),l<i&&.5<=n&&n<2?Qg(e,t,2*n):[i,l,c]}function Xg(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,o]=r?Qg(t,e,n):Qg(e,t,n);if(!(s>=a))return[];const i=s-a+1,l=new Array(i);if(r)if(o<0)for(let c=0;c<i;++c)l[c]=(s-c)/-o;else for(let c=0;c<i;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<i;++c)l[c]=(a+c)/-o;else for(let c=0;c<i;++c)l[c]=(a+c)*o;return l}function $g(e,t,n){return Qg(e=+e,t=+t,n=+n)[2]}function Jg(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?$g(t,e,n):$g(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Zg(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ey(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ty(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=Zg,n=(t,n)=>Zg(e(t),n),r=(t,n)=>e(t)-n):(t=e===Zg||e===ey?e:ny,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function ny(){return 0}function ry(e){return null===e?NaN:+e}const ay=ty(Zg),sy=ay.right,oy=(ay.left,ty(ry).center,sy);function iy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ly(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cy(){}var uy=.7,dy=1/uy,hy="\\s*([+-]?\\d+)\\s*",my="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",py=/^#([0-9a-f]{3,8})$/,gy=new RegExp("^rgb\\(".concat(hy,",").concat(hy,",").concat(hy,"\\)$")),yy=new RegExp("^rgb\\(".concat(fy,",").concat(fy,",").concat(fy,"\\)$")),vy=new RegExp("^rgba\\(".concat(hy,",").concat(hy,",").concat(hy,",").concat(my,"\\)$")),xy=new RegExp("^rgba\\(".concat(fy,",").concat(fy,",").concat(fy,",").concat(my,"\\)$")),by=new RegExp("^hsl\\(".concat(my,",").concat(fy,",").concat(fy,"\\)$")),wy=new RegExp("^hsla\\(".concat(my,",").concat(fy,",").concat(fy,",").concat(my,"\\)$")),jy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Sy(){return this.rgb().formatHex()}function Ny(){return this.rgb().formatRgb()}function ky(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=py.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_y(t):3===n?new Ey(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Py(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=gy.exec(e))?new Ey(t[1],t[2],t[3],1):(t=yy.exec(e))?new Ey(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vy.exec(e))?Py(t[1],t[2],t[3],t[4]):(t=xy.exec(e))?Py(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=by.exec(e))?Dy(t[1],t[2]/100,t[3]/100,1):(t=wy.exec(e))?Dy(t[1],t[2]/100,t[3]/100,t[4]):jy.hasOwnProperty(e)?_y(jy[e]):"transparent"===e?new Ey(NaN,NaN,NaN,0):null}function _y(e){return new Ey(e>>16&255,e>>8&255,255&e,1)}function Py(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ey(e,t,n,r)}function Ay(e,t,n,r){return 1===arguments.length?function(e){return e instanceof cy||(e=ky(e)),e?new Ey((e=e.rgb()).r,e.g,e.b,e.opacity):new Ey}(e):new Ey(e,t,n,null==r?1:r)}function Ey(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Oy(){return"#".concat(My(this.r)).concat(My(this.g)).concat(My(this.b))}function Iy(){const e=Ty(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Cy(this.r),", ").concat(Cy(this.g),", ").concat(Cy(this.b)).concat(1===e?")":", ".concat(e,")"))}function Ty(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cy(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function My(e){return((e=Cy(e))<16?"0":"")+e.toString(16)}function Dy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ly(e,t,n,r)}function Ry(e){if(e instanceof Ly)return new Ly(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=ky(e)),!e)return new Ly;if(e instanceof Ly)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(n-r)/i+6*(n<r):n===s?(r-t)/i+2:(t-n)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new Ly(o,i,l,e.opacity)}function Ly(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Fy(e){return(e=(e||0)%360)<0?e+360:e}function By(e){return Math.max(0,Math.min(1,e||0))}function Wy(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Uy(e,t,n,r,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*a)/6}iy(cy,ky,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sy,formatHex:Sy,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ry(this).formatHsl()},formatRgb:Ny,toString:Ny}),iy(Ey,Ay,ly(cy,{brighter(e){return e=null==e?dy:Math.pow(dy,e),new Ey(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?uy:Math.pow(uy,e),new Ey(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ey(Cy(this.r),Cy(this.g),Cy(this.b),Ty(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oy,formatHex:Oy,formatHex8:function(){return"#".concat(My(this.r)).concat(My(this.g)).concat(My(this.b)).concat(My(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Iy,toString:Iy})),iy(Ly,function(e,t,n,r){return 1===arguments.length?Ry(e):new Ly(e,t,n,null==r?1:r)},ly(cy,{brighter(e){return e=null==e?dy:Math.pow(dy,e),new Ly(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?uy:Math.pow(uy,e),new Ly(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ey(Wy(e>=240?e-240:e+120,a,r),Wy(e,a,r),Wy(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ly(Fy(this.h),By(this.s),By(this.l),Ty(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ty(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Fy(this.h),", ").concat(100*By(this.s),"%, ").concat(100*By(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const zy=e=>()=>e;function Vy(e,t){return function(n){return e+n*t}}function Hy(e){return 1===(e=+e)?Gy:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zy(isNaN(t)?n:t)}}function Gy(e,t){var n=t-e;return n?Vy(e,n):zy(isNaN(e)?t:e)}const qy=function e(t){var n=Hy(t);function r(e,t){var r=n((e=Ay(e)).r,(t=Ay(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),o=Gy(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Ky(e){return function(t){var n,r,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(n=0;n<a;++n)r=Ay(t[n]),s[n]=r.r||0,o[n]=r.g||0,i[n]=r.b||0;return s=e(s),o=e(o),i=e(i),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=i(e),r+""}}}Ky(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,i=r<t-1?e[r+2]:2*s-a;return Uy((n-r/t)*t,o,a,s,i)}}),Ky(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],i=e[(r+2)%t];return Uy((n-r/t)*t,a,s,o,i)}});function Yy(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r);for(n=0;n<a;++n)s[n]=nv(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=s[n](e);return o}}function Qy(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $y(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=nv(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zy=new RegExp(Jy.source,"g");function ev(e,t){var n,r,a,s=Jy.lastIndex=Zy.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(n=Jy.exec(e))&&(r=Zy.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(n=n[0])===(r=r[0])?i[o]?i[o]+=r:i[++o]=r:(i[++o]=null,l.push({i:o,x:Xy(n,r)})),s=Zy.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function tv(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function nv(e,t){var n,r=typeof t;return null==t||"boolean"===r?zy(t):("number"===r?Xy:"string"===r?(n=ky(t))?(t=n,qy):ev:t instanceof ky?qy:t instanceof Date?Qy:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?tv:Array.isArray(t)?Yy:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?$y:Xy)(e,t)}function rv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function av(e){return+e}var sv=[0,1];function ov(e){return e}function iv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function lv(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=iv(a,r),s=n(o,s)):(r=iv(r,a),s=n(s,o)),function(e){return s(r(e))}}function cv(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=iv(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(t){var n=oy(e,t,1,r)-1;return s[n](a[n](t))}}function uv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dv(){var e,t,n,r,a,s,o=sv,i=sv,l=nv,c=ov;function u(){var e=Math.min(o.length,i.length);return c!==ov&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?cv:lv,a=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),i,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(i,o.map(e),Xy)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,av),u()):o.slice()},d.range=function(e){return arguments.length?(i=Array.from(e),u()):i.slice()},d.rangeRound=function(e){return i=Array.from(e),l=rv,u()},d.clamp=function(e){return arguments.length?(c=!!e||ov,u()):c!==ov},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function hv(){return dv()(ov,ov)}var mv,fv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pv(e){if(!(t=fv.exec(e)))throw new Error("invalid format: "+e);var t;return new gv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function gv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function yv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vv(e){return(e=yv(Math.abs(e)))?e[1]:NaN}function xv(e,t){var n=yv(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}pv.prototype=gv.prototype,gv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const bv={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xv(100*e,t),r:xv,s:function(e,t){var n=yv(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(mv=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yv(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wv(e){return e}var jv,Sv,Nv,kv=Array.prototype.map,_v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Pv(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?wv:(t=kv.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],o=0,i=t[0],l=0;a>0&&i>0&&(l+i+1>r&&(i=Math.max(1,r-l)),s.push(e.substring(a-=i,a+i)),!((l+=i+1)>r));)i=t[o=(o+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?wv:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(kv.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=pv(e)).fill,n=e.align,d=e.sign,h=e.symbol,m=e.zero,f=e.width,p=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(p=!0,v="g"):bv[v]||(void 0===g&&(g=12),y=!0,v="g"),(m||"0"===t&&"="===n)&&(m=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?s:/[%p]/.test(v)?l:"",w=bv[v],j=/[defgprs%]/.test(v);function S(e){var a,s,l,h=x,S=b;if("c"===v)S=w(e)+S,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?_v[8+mv/3]:"")+S+(N&&"("===d?")":""),j)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){S=(46===l?o+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}p&&!m&&(e=r(e,1/0));var k=h.length+e.length+S.length,_=k<f?new Array(f-k+1).join(t):"";switch(p&&m&&(e=r(_+e,_.length?f-S.length:1/0),_=""),n){case"<":e=h+e+S+_;break;case"=":e=h+_+e+S;break;case"^":e=_.slice(0,k=_.length>>1)+h+e+S+_.slice(k);break;default:e=_+h+e+S}return i(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=pv(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(vv(t)/3))),a=Math.pow(10,-r),s=_v[8+r/3];return function(e){return n(a*e)+s}}}}function Av(e,t,n,r){var a,s=Jg(e,t,n);switch((r=pv(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vv(t)/3)))-vv(Math.abs(e)))}(s,o))||(r.precision=a),Nv(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vv(t)-vv(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-vv(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return Sv(r)}function Ev(e){var t=e.domain;return e.ticks=function(e){var n=t();return Xg(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Av(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),o=0,i=s.length-1,l=s[o],c=s[i],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=i,i=a);u-- >0;){if((a=$g(l,c,n))===r)return s[o]=l,s[i]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Ov(){var e=hv();return e.copy=function(){return uv(e,Ov())},$p.apply(e,arguments),Ev(e)}function Iv(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,av),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Iv(e).unknown(t)},e=arguments.length?Array.from(e,av):[0,1],Ev(n)}function Tv(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],o=e[a];return o<s&&(n=r,r=a,a=n,n=s,s=o,o=n),e[r]=t.floor(s),e[a]=t.ceil(o),e}function Cv(e){return Math.log(e)}function Mv(e){return Math.exp(e)}function Dv(e){return-Math.log(-e)}function Rv(e){return-Math.exp(-e)}function Lv(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fv(e){return(t,n)=>-e(-t,n)}function Bv(e){const t=e(Cv,Mv),n=t.domain;let r,a,s=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?Lv:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=Fv(r),a=Fv(a),e(Dv,Rv)):e(Cv,Mv),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],i=t[t.length-1];const l=i<o;l&&([o,i]=[i,o]);let c,u,d=r(o),h=r(i);const m=null==e?10:+e;let f=[];if(!(s%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;f.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;f.push(u)}2*f.length<m&&(f=Xg(o,i,m))}else f=Xg(d,h,Math.min(h-d,m)).map(a);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=pv(n)).precision||(n.trim=!0),n=Sv(n)),e===1/0)return n;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=o?n(e):""}},t.nice=()=>n(Tv(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function Wv(){const e=Bv(dv()).domain([1,10]);return e.copy=()=>uv(e,Wv()).base(e.base()),$p.apply(e,arguments),e}function Uv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vv(e){var t=1,n=e(Uv(t),zv(t));return n.constant=function(n){return arguments.length?e(Uv(t=+n),zv(t)):t},Ev(n)}function Hv(){var e=Vv(dv());return e.copy=function(){return uv(e,Hv()).constant(e.constant())},$p.apply(e,arguments)}function Gv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qv(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kv(e){return e<0?-e*e:e*e}function Yv(e){var t=e(ov,ov),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(ov,ov):.5===n?e(qv,Kv):e(Gv(n),Gv(1/n)):n},Ev(t)}function Qv(){var e=Yv(dv());return e.copy=function(){return uv(e,Qv()).exponent(e.exponent())},$p.apply(e,arguments),e}function Xv(){return Qv.apply(null,arguments).exponent(.5)}function $v(e){return Math.sign(e)*e*e}function Jv(){var e,t=hv(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert($v(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,av)).map($v)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Jv(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},$p.apply(a,arguments),Ev(a)}function Zv(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function ex(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function tx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zg;if(e===Zg)return nx;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function nx(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function rx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?nx:tx(a);r>n;){if(r-n>600){const s=r-n+1,o=t-n+1,i=Math.log(s),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1);rx(e,t,Math.max(n,Math.floor(t-o*l/s+c)),Math.min(r,Math.floor(t+(s-o)*l/s+c)),a)}const s=e[t];let o=n,i=r;for(ax(e,n,t),a(e[r],s)>0&&ax(e,n,r);o<i;){for(ax(e,o,i),++o,--i;a(e[o],s)<0;)++o;for(;a(e[i],s)>0;)--i}0===a(e[n],s)?ax(e,n,i):(++i,ax(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}return e}function ax(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sx(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ex(e);if(t>=1)return Zv(e);var r,a=(r-1)*t,s=Math.floor(a),o=Zv(rx(e,s).subarray(0,s+1));return o+(ex(e.subarray(s+1))-o)*(a-s)}}function ox(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ry;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e);return o+(+n(e[s+1],s+1,e)-o)*(a-s)}}function ix(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=ox(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[oy(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Zg),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return ix().domain(t).range(n).unknown(e)},$p.apply(s,arguments)}function lx(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function o(t){return null!=t&&t<=t?s[oy(a,t,0,r)]:e}function i(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,i()):[t,n]},o.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,i()):s.slice()},o.invertExtent=function(e){var o=s.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return lx().domain([t,n]).range(s).unknown(e)},$p.apply(Ev(o),arguments)}function cx(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[oy(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return cx().domain(t).range(n).unknown(e)},$p.apply(a,arguments)}jv=Pv({thousands:",",grouping:[3],currency:["$",""]}),Sv=jv.format,Nv=jv.formatPrefix;const ux=1e3,dx=6e4,hx=36e5,mx=864e5,fx=6048e5,px=2592e6,gx=31536e6,yx=new Date,vx=new Date;function xx(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return o;let i;do{o.push(i=new Date(+n)),t(n,s),e(n)}while(i<n&&n<r);return o},a.filter=n=>xx(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(yx.setTime(+t),vx.setTime(+r),e(yx),e(vx),Math.floor(n(yx,vx))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const bx=xx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bx.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?xx(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bx:null);bx.range;const wx=xx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ux)},(e,t)=>(t-e)/ux,e=>e.getUTCSeconds()),jx=(wx.range,xx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ux)},(e,t)=>{e.setTime(+e+t*dx)},(e,t)=>(t-e)/dx,e=>e.getMinutes())),Sx=(jx.range,xx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dx)},(e,t)=>(t-e)/dx,e=>e.getUTCMinutes())),Nx=(Sx.range,xx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ux-e.getMinutes()*dx)},(e,t)=>{e.setTime(+e+t*hx)},(e,t)=>(t-e)/hx,e=>e.getHours())),kx=(Nx.range,xx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hx)},(e,t)=>(t-e)/hx,e=>e.getUTCHours())),_x=(kx.range,xx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dx)/mx,e=>e.getDate()-1)),Px=(_x.range,xx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mx,e=>e.getUTCDate()-1)),Ax=(Px.range,xx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mx,e=>Math.floor(e/mx)));Ax.range;function Ex(e){return xx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dx)/fx)}const Ox=Ex(0),Ix=Ex(1),Tx=Ex(2),Cx=Ex(3),Mx=Ex(4),Dx=Ex(5),Rx=Ex(6);Ox.range,Ix.range,Tx.range,Cx.range,Mx.range,Dx.range,Rx.range;function Lx(e){return xx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/fx)}const Fx=Lx(0),Bx=Lx(1),Wx=Lx(2),Ux=Lx(3),zx=Lx(4),Vx=Lx(5),Hx=Lx(6),Gx=(Fx.range,Bx.range,Wx.range,Ux.range,zx.range,Vx.range,Hx.range,xx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),qx=(Gx.range,xx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Kx=(qx.range,xx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Kx.every=e=>isFinite(e=Math.floor(e))&&e>0?xx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Kx.range;const Yx=xx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yx.every=e=>isFinite(e=Math.floor(e))&&e>0?xx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Yx.range;function Qx(e,t,n,r,a,s){const o=[[wx,1,ux],[wx,5,5e3],[wx,15,15e3],[wx,30,3e4],[s,1,dx],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,hx],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,mx],[r,2,1728e5],[n,1,fx],[t,1,px],[t,3,7776e6],[e,1,gx]];function i(t,n,r){const a=Math.abs(n-t)/r,s=ty(e=>{let[,,t]=e;return t}).right(o,a);if(s===o.length)return e.every(Jg(t/gx,n/gx,r));if(0===s)return bx.every(Math.max(Jg(t,n,r),1));const[i,l]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return i.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:i(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},i]}const[Xx,$x]=Qx(Yx,qx,Fx,Ax,kx,Sx),[Jx,Zx]=Qx(Kx,Gx,Ox,_x,Nx,jx);function eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var rb,ab,sb,ob={"-":"",_:" ",0:"0"},ib=/^\s*\d+/,lb=/^%/,cb=/[\\^$*+?|[\]().{}]/g;function ub(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function db(e){return e.replace(cb,"\\$&")}function hb(e){return new RegExp("^(?:"+e.map(db).join("|")+")","i")}function mb(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function fb(e,t,n){var r=ib.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pb(e,t,n){var r=ib.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function yb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xb(e,t,n){var r=ib.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wb(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jb(e,t,n){var r=ib.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Sb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Nb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kb(e,t,n){var r=ib.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _b(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Pb(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ab(e,t,n){var r=ib.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Eb(e,t,n){var r=ib.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ob(e,t,n){var r=ib.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ib(e,t,n){var r=lb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Tb(e,t,n){var r=ib.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cb(e,t,n){var r=ib.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Mb(e,t){return ub(e.getDate(),t,2)}function Db(e,t){return ub(e.getHours(),t,2)}function Rb(e,t){return ub(e.getHours()%12||12,t,2)}function Lb(e,t){return ub(1+_x.count(Kx(e),e),t,3)}function Fb(e,t){return ub(e.getMilliseconds(),t,3)}function Bb(e,t){return Fb(e,t)+"000"}function Wb(e,t){return ub(e.getMonth()+1,t,2)}function Ub(e,t){return ub(e.getMinutes(),t,2)}function zb(e,t){return ub(e.getSeconds(),t,2)}function Vb(e){var t=e.getDay();return 0===t?7:t}function Hb(e,t){return ub(Ox.count(Kx(e)-1,e),t,2)}function Gb(e){var t=e.getDay();return t>=4||0===t?Mx(e):Mx.ceil(e)}function qb(e,t){return e=Gb(e),ub(Mx.count(Kx(e),e)+(4===Kx(e).getDay()),t,2)}function Kb(e){return e.getDay()}function Yb(e,t){return ub(Ix.count(Kx(e)-1,e),t,2)}function Qb(e,t){return ub(e.getFullYear()%100,t,2)}function Xb(e,t){return ub((e=Gb(e)).getFullYear()%100,t,2)}function $b(e,t){return ub(e.getFullYear()%1e4,t,4)}function Jb(e,t){var n=e.getDay();return ub((e=n>=4||0===n?Mx(e):Mx.ceil(e)).getFullYear()%1e4,t,4)}function Zb(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ub(t/60|0,"0",2)+ub(t%60,"0",2)}function ew(e,t){return ub(e.getUTCDate(),t,2)}function tw(e,t){return ub(e.getUTCHours(),t,2)}function nw(e,t){return ub(e.getUTCHours()%12||12,t,2)}function rw(e,t){return ub(1+Px.count(Yx(e),e),t,3)}function aw(e,t){return ub(e.getUTCMilliseconds(),t,3)}function sw(e,t){return aw(e,t)+"000"}function ow(e,t){return ub(e.getUTCMonth()+1,t,2)}function iw(e,t){return ub(e.getUTCMinutes(),t,2)}function lw(e,t){return ub(e.getUTCSeconds(),t,2)}function cw(e){var t=e.getUTCDay();return 0===t?7:t}function uw(e,t){return ub(Fx.count(Yx(e)-1,e),t,2)}function dw(e){var t=e.getUTCDay();return t>=4||0===t?zx(e):zx.ceil(e)}function hw(e,t){return e=dw(e),ub(zx.count(Yx(e),e)+(4===Yx(e).getUTCDay()),t,2)}function mw(e){return e.getUTCDay()}function fw(e,t){return ub(Bx.count(Yx(e)-1,e),t,2)}function pw(e,t){return ub(e.getUTCFullYear()%100,t,2)}function gw(e,t){return ub((e=dw(e)).getUTCFullYear()%100,t,2)}function yw(e,t){return ub(e.getUTCFullYear()%1e4,t,4)}function vw(e,t){var n=e.getUTCDay();return ub((e=n>=4||0===n?zx(e):zx.ceil(e)).getUTCFullYear()%1e4,t,4)}function xw(){return"+0000"}function bw(){return"%"}function ww(e){return+e}function jw(e){return Math.floor(+e/1e3)}function Sw(e){return new Date(e)}function Nw(e){return e instanceof Date?+e:+new Date(+e)}function kw(e,t,n,r,a,s,o,i,l,c){var u=hv(),d=u.invert,h=u.domain,m=c(".%L"),f=c(":%S"),p=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?m:i(e)<e?f:o(e)<e?p:s(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Nw)):h().map(Sw)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Tv(n,e)):u},u.copy=function(){return uv(u,kw(e,t,n,r,a,s,o,i,l,c))},u}function _w(){return $p.apply(kw(Jx,Zx,Kx,Gx,Ox,_x,Nx,jx,wx,ab).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pw(){return $p.apply(kw(Xx,$x,Yx,qx,Fx,Px,kx,Sx,wx,sb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Aw(){var e,t,n,r,a,s=0,o=1,i=ov,l=!1;function c(t){return null==t||isNaN(t=+t)?a:i(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,i=e(n,r),c):[i(0),i(1)]}}return c.domain=function(a){return arguments.length?([s,o]=a,e=r(s=+s),t=r(o=+o),n=e===t?0:1/(t-e),c):[s,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=u(nv),c.rangeRound=u(rv),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(o),n=e===t?0:1/(t-e),c}}function Ew(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ow(){var e=Ev(Aw()(ov));return e.copy=function(){return Ew(e,Ow())},Jp.apply(e,arguments)}function Iw(){var e=Bv(Aw()).domain([1,10]);return e.copy=function(){return Ew(e,Iw()).base(e.base())},Jp.apply(e,arguments)}function Tw(){var e=Vv(Aw());return e.copy=function(){return Ew(e,Tw()).constant(e.constant())},Jp.apply(e,arguments)}function Cw(){var e=Yv(Aw());return e.copy=function(){return Ew(e,Cw()).exponent(e.exponent())},Jp.apply(e,arguments)}function Mw(){return Cw.apply(null,arguments).exponent(.5)}function Dw(){var e=[],t=ov;function n(n){if(null!=n&&!isNaN(n=+n))return t((oy(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Zg),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>sx(e,r/t))},n.copy=function(){return Dw(t).domain(e)},Jp.apply(n,arguments)}function Rw(){var e,t,n,r,a,s,o,i=0,l=.5,c=1,u=1,d=ov,h=!1;function m(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=nv);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),m):[d(0),d(.5),d(1)]}}return m.domain=function(o){return arguments.length?([i,l,c]=o,e=s(i=+i),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,m):[i,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(d=e,m):d},m.range=f(nv),m.rangeRound=f(rv),m.unknown=function(e){return arguments.length?(o=e,m):o},function(o){return s=o,e=o(i),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,m}}function Lw(){var e=Ev(Rw()(ov));return e.copy=function(){return Ew(e,Lw())},Jp.apply(e,arguments)}function Fw(){var e=Bv(Rw()).domain([.1,1,10]);return e.copy=function(){return Ew(e,Fw()).base(e.base())},Jp.apply(e,arguments)}function Bw(){var e=Vv(Rw());return e.copy=function(){return Ew(e,Bw()).constant(e.constant())},Jp.apply(e,arguments)}function Ww(){var e=Yv(Rw());return e.copy=function(){return Ew(e,Ww()).exponent(e.exponent())},Jp.apply(e,arguments)}function Uw(){return Ww.apply(null,arguments).exponent(.5)}function zw(e,t){if((a=e.length)>1)for(var n,r,a,s=1,o=e[t[0]],i=o.length;s<a;++s)for(r=o,o=e[t[s]],n=0;n<i;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){rb=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,i=e.months,l=e.shortMonths,c=hb(a),u=mb(a),d=hb(s),h=mb(s),m=hb(o),f=mb(o),p=hb(i),g=mb(i),y=hb(l),v=mb(l),x={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:Mb,e:Mb,f:Bb,g:Xb,G:Jb,H:Db,I:Rb,j:Lb,L:Fb,m:Wb,M:Ub,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ww,s:jw,S:zb,u:Vb,U:Hb,V:qb,w:Kb,W:Yb,x:null,X:null,y:Qb,Y:$b,Z:Zb,"%":bw},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:ew,e:ew,f:sw,g:gw,G:vw,H:tw,I:nw,j:rw,L:aw,m:ow,M:iw,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ww,s:jw,S:lw,u:cw,U:uw,V:hw,w:mw,W:fw,x:null,X:null,y:pw,Y:yw,Z:xw,"%":bw},w={a:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:Nb,e:Nb,f:Ob,g:bb,G:xb,H:_b,I:_b,j:kb,L:Eb,m:Sb,M:Pb,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:jb,Q:Tb,s:Cb,S:Ab,u:pb,U:gb,V:yb,w:fb,W:vb,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:bb,Y:xb,Z:wb,"%":Ib};function j(e,t){return function(n){var r,a,s,o=[],i=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++i<c;)37===e.charCodeAt(i)&&(o.push(e.slice(l,i)),null!=(a=ob[r=e.charAt(++i)])?r=e.charAt(++i):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),o.push(r),l=i+1);return o.push(e.slice(l,i)),o.join("")}}function S(e,t){return function(n){var r,a,s=nb(1900,void 0,1);if(N(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=tb(nb(s.y,0,1))).getUTCDay(),r=a>4||0===a?Bx.ceil(r):Bx(r),r=Px.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=eb(nb(s.y,0,1))).getDay(),r=a>4||0===a?Ix.ceil(r):Ix(r),r=_x.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?tb(nb(s.y,0,1)).getUTCDay():eb(nb(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,tb(s)):eb(s)}}function N(e,t,n,r){for(var a,s,o=0,i=t.length,l=n.length;o<i;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(s=w[a in ob?t.charAt(o++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),ab=rb.format,rb.parse,sb=rb.utcFormat,rb.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Vw(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Hw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Gw(e,t){return e[t]}function qw(e){const t=[];return t.key=e,t}var Kw=n(539),Yw=n.n(Kw),Qw=n(6745),Xw=n.n(Qw),$w=n(3538),Jw=n.n($w),Zw=n(9853),ej=n.n(Zw),tj=n(8210),nj=n.n(tj);function rj(e){return function(e){if(Array.isArray(e))return aj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return aj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sj=function(e){return e},oj={"@@functional/placeholder":!0},ij=function(e){return e===oj},lj=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ij(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},cj=function e(t,n){return 1===t?n:lj(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(function(e){return e!==oj}).length;return o>=t?n.apply(void 0,a):e(t-o,lj(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=a.map(function(e){return ij(e)?t.shift():e});return n.apply(void 0,rj(s).concat(t))}))})},uj=function(e){return cj(e.length,e)},dj=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},hj=uj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),mj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return sj;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},fj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pj=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var gj=uj(function(e,t,n){var r=+e;return r+n*(+t-r)}),yj=uj(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),vj=uj(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const xj={rangeStep:function(e,t,n){for(var r=new(nj())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(nj())(e).abs().log(10).toNumber())+1},interpolateNumber:gj,uninterpolateNumber:yj,uninterpolateTruncation:vj};function bj(e){return function(e){if(Array.isArray(e))return Sj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||jj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}(e,t)||jj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jj(e,t){if(e){if("string"===typeof e)return Sj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sj(e,t):void 0}}function Sj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nj(e){var t=wj(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function kj(e,t,n){if(e.lte(0))return new(nj())(0);var r=xj.getDigitCount(e.toNumber()),a=new(nj())(10).pow(r),s=e.div(a),o=1!==r?.05:.1,i=new(nj())(Math.ceil(s.div(o).toNumber())).add(n).mul(o).mul(a);return t?i:new(nj())(Math.ceil(i))}function _j(e,t,n){var r=1,a=new(nj())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(nj())(10).pow(xj.getDigitCount(e)-1),a=new(nj())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(nj())(Math.floor(e)))}else 0===e?a=new(nj())(Math.floor((t-1)/2)):n||(a=new(nj())(Math.floor(e)));var o=Math.floor((t-1)/2);return mj(hj(function(e){return a.add(new(nj())(e-o).mul(r)).toNumber()}),dj)(0,t)}function Pj(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(nj())(0),tickMin:new(nj())(0),tickMax:new(nj())(0)};var s,o=kj(new(nj())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(nj())(0):(s=new(nj())(e).add(t).div(2)).sub(new(nj())(s).mod(o));var i=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new(nj())(t).sub(s).div(o).toNumber()),c=i+l+1;return c>n?Pj(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,i=t>0?i:i+(n-c)),{step:o,tickMin:s.sub(new(nj())(i).mul(o)),tickMax:s.add(new(nj())(l).mul(o))})}var Aj=pj(function(e){var t=wj(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=wj(Nj([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(bj(dj(0,a-1).map(function(){return 1/0}))):[].concat(bj(dj(0,a-1).map(function(){return-1/0})),[c]);return n>r?fj(u):u}if(l===c)return _j(l,a,s);var d=Pj(l,c,o,s),h=d.step,m=d.tickMin,f=d.tickMax,p=xj.rangeStep(m,f.add(new(nj())(.1).mul(h)),h);return n>r?fj(p):p}),Ej=(pj(function(e){var t=wj(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=wj(Nj([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return _j(l,a,s);var u=kj(new(nj())(c).sub(l).div(o-1),s,0),d=mj(hj(function(e){return new(nj())(l).add(new(nj())(e).mul(u)).toNumber()}),dj)(0,o).filter(function(e){return e>=l&&e<=c});return n>r?fj(d):d}),pj(function(e,t){var n=wj(e,2),r=n[0],a=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=wj(Nj([r,a]),2),i=o[0],l=o[1];if(i===-1/0||l===1/0)return[r,a];if(i===l)return[i];var c=Math.max(t,2),u=kj(new(nj())(l).sub(i).div(c-1),s,0),d=[].concat(bj(xj.rangeStep(new(nj())(i),new(nj())(l).sub(new(nj())(.99).mul(u)),u)),[l]);return r>a?fj(d):d})),Oj=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ij(e){return Ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ij(e)}function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(this,arguments)}function Cj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dj(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zj(r.key),r)}}function Lj(e,t,n){return t=Bj(t),function(e,t){if(t&&("object"===Ij(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fj()?Reflect.construct(t,n||[],Bj(e).constructor):t.apply(e,n))}function Fj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fj=function(){return!!e})()}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bj(e)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wj(e,t)}function Uj(e,t,n){return(t=zj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zj(e){var t=function(e,t){if("object"!=Ij(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ij(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ij(t)?t:t+""}var Vj=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Lj(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,s=e.dataKey,o=e.data,i=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Dj(e,Oj),d=bd(u,!1);"x"===this.props.direction&&"number"!==l.type&&Rd(!1);var h=o.map(function(e){var o=i(e,s),u=o.x,h=o.y,m=o.value,f=o.errorVal;if(!f)return null;var p,g,y=[];if(Array.isArray(f)){var v=Cj(f,2);p=v[0],g=v[1]}else p=g=f;if("vertical"===r){var x=l.scale,b=h+n,w=b+a,j=b-a,S=x(m-p),N=x(m+g);y.push({x1:N,y1:w,x2:N,y2:j}),y.push({x1:S,y1:b,x2:N,y2:b}),y.push({x1:S,y1:w,x2:S,y2:j})}else if("horizontal"===r){var k=c.scale,_=u+n,P=_-a,A=_+a,E=k(m-p),O=k(m+g);y.push({x1:P,y1:O,x2:A,y2:O}),y.push({x1:_,y1:E,x2:_,y2:O}),y.push({x1:P,y1:E,x2:A,y2:E})}return t.createElement(Hd,Tj({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",Tj({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(Hd,{className:"recharts-errorBars"},h)}}],a&&Rj(r.prototype,a),s&&Rj(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function Hj(e){return Hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hj(e)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(t){Kj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Hj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Uj(Vj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Uj(Vj,"displayName","ErrorBar");var Yj=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,s=pd(t,lf);if(!s)return null;var o,i=lf.defaultProps,l=void 0!==i?qj(qj({},i),s.props):{};return o=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?qj(qj({},n),t.props):{},a=r.dataKey,s=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:rS(t),value:s||a,payload:r}}),qj(qj(qj({},l),lf.getWithHeight(s,r)),{},{payload:o,item:s})};function Qj(e){return Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qj(e)}function Xj(e){return function(e){if(Array.isArray(e))return $j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(t){eS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(e,t,n){return Cu()(e)||Cu()(t)?n:Lu(t)?Eu()(e,t,n):Ku()(t)?t(e):n}function nS(e,t,n,r){var a=Jw()(e,function(e){return tS(e,t)});if("number"===n){var s=a.filter(function(e){return Ru(e)||parseFloat(e)});return s.length?[Xw()(s),Yw()(s)]:[1/0,-1/0]}return(r?a.filter(function(e){return!Cu()(e)}):a).map(function(e){return Lu(e)||e instanceof Date?e:""})}var rS=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Zj(Zj({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:o;break;default:n=o}return n},aS=function(e,t,n,r,a){var s=fd(t.props.children,Vj).filter(function(e){return function(e,t,n){return!!Cu()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(s&&s.length){var o=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=tS(t,n);if(Cu()(r))return e;var a=Array.isArray(r)?[Xw()(r),Yw()(r)]:[r,r],s=o.reduce(function(e,n){var r=tS(t,n,0),s=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},sS=function(e,t,n,r,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&aS(e,t,s,r)||nS(e,s,n,a)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return s.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},oS=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},iS=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,s,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate});return a||o.push(t),s||o.push(n),o},lS=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,i="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/i:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Mu(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!Pu()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},cS=new WeakMap,uS=function(e,t){if("function"!==typeof t)return e;cS.has(e)||cS.set(e,new WeakMap);var n=cS.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},dS=1e-4,hS={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,o=0;o<t;++o){var i=Pu()(e[o][n][1])?e[o][n][0]:e[o][n][1];i>=0?(e[o][n][0]=a,e[o][n][1]=a+i,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+i,s=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,o=e[0].length;s<o;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}zw(e,t)}},none:zw,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var o=0,i=0;o<n;++o)i+=e[o][r][1]||0;a[r][1]+=a[r][0]=-i/2}zw(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,o=1;o<r;++o){for(var i=0,l=0,c=0;i<a;++i){for(var u=e[t[i]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,m=0;m<i;++m){var f=e[t[m]];h+=(f[o][1]||0)-(f[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=s,l&&(s-=c/l)}n[o-1][1]+=n[o-1][0]=s,zw(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var o=Pu()(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},mS=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=hS[n],s=function(){var e=rm([]),t=Hw,n=zw,r=Gw;function a(a){var s,o,i=Array.from(e.apply(this,arguments),qw),l=i.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(i[s][c]=[0,+r(e,i[s].key,c,a)]).data=e;for(s=0,o=Vw(t(i));s<l;++s)i[o[s]].index=s;return n(i,o),i}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:rm(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:rm(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Hw:"function"===typeof e?e:rm(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?zw:e,a):n},a}().keys(r).value(function(e,t){return+tS(e,t,0)}).order(Hw).offset(a);return s(e)};function fS(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Cu()(a[t.dataKey])){var i=Vu(n,"value",a[t.dataKey]);if(i)return i.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=tS(a,Cu()(o)?t.dataKey:o);return Cu()(l)?null:t.scale(l)}var pS=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,s=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var i=tS(s,t.dataKey,t.domain[o]);return Cu()(i)?null:t.scale(i)-a/2+r},gS=function(e,t,n){return Object.keys(e).reduce(function(r,a){var s=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[Xw()(t.concat([e[0]]).filter(Ru)),Yw()(t.concat([e[1]]).filter(Ru))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},yS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xS=function(e,t,n){if(Ku()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ru(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(yS.test(e[0])){var a=+yS.exec(e[0])[1];r[0]=t[0]-a}else Ku()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ru(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(vS.test(e[1])){var s=+vS.exec(e[1])[1];r[1]=t[1]+s}else Ku()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},bS=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Md()(t,function(e){return e.coordinate}),s=1/0,o=1,i=a.length;o<i;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},wS=function(e,t,n){return e&&e.length?ej()(e,Eu()(n,"type.defaultProps.domain"))?t:e:t},jS=function(e,t){var n=e.type.defaultProps?Zj(Zj({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,s=n.unit,o=n.formatter,i=n.tooltipType,l=n.chartType,c=n.hide;return Zj(Zj({},bd(e,!1)),{},{dataKey:r,unit:s,formatter:o,name:a||r,color:rS(e),value:tS(t,r),type:i,payload:t,chartType:l,hide:c})};function SS(e){return SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SS(e)}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(n),!0).forEach(function(t){_S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _S(e,t,n){return t=function(e){var t=function(e,t){if("object"!=SS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PS=["Webkit","Moz","O","ms"];function AS(e){return AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AS(e)}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(this,arguments)}function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(n),!0).forEach(function(t){LS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FS(r.key),r)}}function CS(e,t,n){return t=DS(t),function(e,t){if(t&&("object"===AS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MS()?Reflect.construct(t,n||[],DS(e).constructor):t.apply(e,n))}function MS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MS=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DS(e)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RS(e,t)}function LS(e,t,n){return(t=FS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FS(e){var t=function(e,t){if("object"!=AS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AS(t)?t:t+""}var BS=function(e){return e.changedTouches&&!!e.changedTouches.length},WS=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),LS(t=CS(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),LS(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),LS(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),LS(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),LS(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),LS(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),LS(t,"handleSlideDragStart",function(e){var n=BS(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,s=this.props,o=s.gap,i=s.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===i?i:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,s=tS(n[e],a,e);return Ku()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,s=this.props,o=s.x,i=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+i-l-a,o+i-l-r):h<0&&(h=Math.max(h,o-r,o-a));var m=this.getIndex({startX:r+h,endX:a+h});m.startIndex===c&&m.endIndex===u||!d||d(m),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=BS(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,s=t.startX,o=this.state[r],i=this.props,l=i.x,c=i.width,u=i.travellerWidth,d=i.onChange,h=i.gap,m=i.data,f={startX:this.state.startX,endX:this.state.endX},p=e.pageX-n;p>0?p=Math.min(p,l+c-u-o):p<0&&(p=Math.max(p,l-o)),f[r]=o+p;var g=this.getIndex(f),y=g.startIndex,v=g.endIndex;this.setState(LS(LS({},r,o+p),"brushMoveStartX",e.pageX),function(){d&&function(){var e=m.length-1;return"startX"===r&&(a>s?y%h===0:v%h===0)||a<s&&v===e||"endX"===r&&(a>s?v%h===0:y%h===0)||a>s&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,s=r.startX,o=r.endX,i=this.state[t],l=a.indexOf(i);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=s||this.setState(LS({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.fill,i=e.stroke;return t.createElement("rect",{stroke:i,fill:o,x:n,y:r,width:a,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.data,i=e.children,l=e.padding,c=t.Children.only(i);return c?t.cloneElement(c,{x:n,y:r,width:a,height:s,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,s,o=this,i=this.props,l=i.y,c=i.travellerWidth,u=i.height,d=i.traveller,h=i.ariaLabel,m=i.data,f=i.startIndex,p=i.endIndex,g=Math.max(e,this.props.x),y=IS(IS({},bd(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=m[f])||void 0===a?void 0:a.name,", Max value: ").concat(null===(s=m[p])||void 0===s?void 0:s.name);return t.createElement(Hd,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,s=r.height,o=r.stroke,i=r.travellerWidth,l=Math.min(e,n)+i,c=Math.max(Math.abs(n-e)-i,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,s=e.height,o=e.travellerWidth,i=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:i};return t.createElement(Hd,{className:"recharts-brush-texts"},t.createElement(Gg,ES({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+s/2},d),this.getTextOfTick(n)),t.createElement(Gg,ES({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+s/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,s=e.x,o=e.y,i=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,m=u.isTextActive,f=u.isSlideMoving,p=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!Ru(s)||!Ru(o)||!Ru(i)||!Ru(l)||i<=0||l<=0)return null;var y=wu("recharts-brush",r),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=PS.reduce(function(e,r){return kS(kS({},e),{},_S({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(Hd,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(m||f||p||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,s=e.height,o=e.stroke,i=Math.floor(r+s/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:s,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:i,x2:n+a-1,y2:i,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:i+2,x2:n+a-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):Ku()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,s=e.travellerWidth,o=e.updateId,i=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return IS({prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var i=t.length,l=lg().domain(Td()(0,i)).range([a,a+s-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:s,startIndex:i,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+r-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&TS(r.prototype,a),s&&TS(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function US(e){return US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},US(e)}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(t){HS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=US(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=US(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==US(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}LS(WS,"displayName","Brush"),LS(WS,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GS=Math.PI/180,qS=function(e){return 180*e/Math.PI},KS=function(e,t,n,r){return{x:e+Math.cos(-GS*r)*n,y:t+Math.sin(-GS*r)*n}},YS=function(e,t){var n=e.x,r=e.y,a=t.cx,s=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2))}({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o};var i=(n-a)/o,l=Math.acos(i);return r>s&&(l=2*Math.PI-l),{radius:o,angle:qS(l),angleInRadian:l}},QS=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},XS=function(e,t){var n=e.x,r=e.y,a=YS({x:n,y:r},t),s=a.radius,o=a.angle,i=t.innerRadius,l=t.outerRadius;if(s<i||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,m=o;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;c=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;c=m>=h&&m<=d}return c?VS(VS({},t),{},{radius:s,angle:QS(m,t)}):null};function $S(e){return $S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$S(e)}var JS=["offset"];function ZS(e){return function(e){if(Array.isArray(e))return eN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tN(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(t){aN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$S(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(this,arguments)}var oN=function(e,n,r){var a,s,o=e.position,i=e.viewBox,l=e.offset,c=e.className,u=i,d=u.cx,h=u.cy,m=u.innerRadius,f=u.outerRadius,p=u.startAngle,g=u.endAngle,y=u.clockWise,v=(m+f)/2,x=function(e,t){return Mu(t-e)*Math.min(Math.abs(t-e),360)}(p,g),b=x>=0?1:-1;"insideStart"===o?(a=p+b*l,s=y):"insideEnd"===o?(a=g-b*l,s=!y):"end"===o&&(a=g+b*l,s=y),s=x<=0?s:!s;var w=KS(d,h,v,a),j=KS(d,h,v,a+359*(s?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(j.x,",").concat(j.y),N=Cu()(e.id)?Bu("recharts-radial-line-"):e.id;return t.createElement("text",sN({},r,{dominantBaseline:"central",className:wu("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:N,d:S})),t.createElement("textPath",{xlinkHref:"#".concat(N)},n))};function iN(e){var n,r=e.offset,a=rN({offset:void 0===r?5:r},tN(e,JS)),s=a.viewBox,o=a.position,i=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!s||Cu()(i)&&Cu()(l)&&!(0,t.isValidElement)(c)&&!Ku()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(Ku()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=Cu()(e.children)?t:e.children;return Ku()(n)?n(r):r}(a);var m=function(e){return"cx"in e&&Ru(e.cx)}(s),f=bd(a,!0);if(m&&("insideStart"===o||"insideEnd"===o||"end"===o))return oN(a,n,f);var p=m?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,s=a.cx,o=a.cy,i=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=KS(s,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=KS(s,o,(i+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,s=t,o=s.x,i=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",m=u>0?"start":"end",f=l>=0?1:-1,p=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===a)return rN(rN({},{x:o+l/2,y:i-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(i-n.y,0),width:l}:{});if("bottom"===a)return rN(rN({},{x:o+l/2,y:i+c+d,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(n.y+n.height-(i+c),0),width:l}:{});if("left"===a){var v={x:o-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"};return rN(rN({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"};return rN(rN({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?rN({x:o+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?rN({x:o+l-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?rN({x:o+l/2,y:i+d,textAnchor:"middle",verticalAnchor:m},b):"insideBottom"===a?rN({x:o+l/2,y:i+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?rN({x:o+p,y:i+d,textAnchor:y,verticalAnchor:m},b):"insideTopRight"===a?rN({x:o+l-p,y:i+d,textAnchor:g,verticalAnchor:m},b):"insideBottomLeft"===a?rN({x:o+p,y:i+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===a?rN({x:o+l-p,y:i+c-d,textAnchor:g,verticalAnchor:h},b):Qu()(a)&&(Ru(a.x)||Du(a.x))&&(Ru(a.y)||Du(a.y))?rN({x:o+Wu(a.x,l),y:i+Wu(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):rN({x:o+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(Gg,sN({className:wu("recharts-label",d)},f,p,{breakAll:h}),n)}iN.displayName="Label";var lN=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,i=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,m=e.left,f=e.width,p=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ru(f)&&Ru(p)){if(Ru(u)&&Ru(d))return{x:u,y:d,width:f,height:p};if(Ru(h)&&Ru(m))return{x:h,y:m,width:f,height:p}}return Ru(u)&&Ru(d)?{x:u,y:d,width:0,height:0}:Ru(t)&&Ru(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||i||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};iN.parseViewBox=lN,iN.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=lN(e),o=fd(a,iN).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||s,key:"label-".concat(r)})});if(!r)return o;var i=function(e,n){return e?!0===e?t.createElement(iN,{key:"label-implicit",viewBox:n}):Lu(e)?t.createElement(iN,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===iN?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(iN,{key:"label-implicit",content:e,viewBox:n}):Ku()(e)?t.createElement(iN,{key:"label-implicit",content:e,viewBox:n}):Qu()(e)?t.createElement(iN,sN({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||s);return[i].concat(ZS(o))};var cN=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},uN=n(1733),dN=n.n(uN),hN=n(7002),mN=n.n(hN),fN=function(e){return null};fN.displayName="Cell";var pN=n(4065),gN=n.n(pN);function yN(e){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yN(e)}var vN=["valueAccessor"],xN=["data","dataKey","clockWise","id","textBreakAll"];function bN(e){return function(e){if(Array.isArray(e))return wN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jN.apply(this,arguments)}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(t){kN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var PN=function(e){return Array.isArray(e.value)?gN()(e.value):e.value};function AN(e){var n=e.valueAccessor,r=void 0===n?PN:n,a=_N(e,vN),s=a.data,o=a.dataKey,i=a.clockWise,l=a.id,c=a.textBreakAll,u=_N(a,xN);return s&&s.length?t.createElement(Hd,{className:"recharts-label-list"},s.map(function(e,n){var a=Cu()(o)?r(e,n):tS(e&&e.payload,o),s=Cu()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(iN,jN({},bd(e,!0),u,s,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:iN.parseViewBox(Cu()(i)?e:NN(NN({},e),{},{clockWise:i})),key:"label-".concat(n),index:n}))})):null}AN.displayName="LabelList",AN.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=fd(e.children,AN).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(AN,{key:"labelList-implicit",data:n}):t.isValidElement(e)||Ku()(e)?t.createElement(AN,{key:"labelList-implicit",data:n,content:e}):Qu()(e)?t.createElement(AN,jN({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(bN(a)):a};var EN=n(2322),ON=n.n(EN),IN=n(6361),TN=n.n(IN);function CN(e){return CN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CN(e)}function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MN.apply(this,arguments)}function DN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return RN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(t){BN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WN=function(e,t,n,r,a){var s,o=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-o/2,",").concat(t+a),s+="L ".concat(e+n-o/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},UN={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zN=function(e){var n=FN(FN({},UN),e),r=(0,t.useRef)(),a=DN((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,m=n.animationEasing,f=n.animationDuration,p=n.animationBegin,g=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=wu("recharts-trapezoid",h);return g?t.createElement(Bp,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:i,y:l},duration:f,animationEasing:m,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,i=e.height,l=e.x,c=e.y;return t.createElement(Bp,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:m},t.createElement("path",MN({},bd(n,!0),{className:y,d:WN(l,c,a,o,i),ref:r})))}):t.createElement("g",null,t.createElement("path",MN({},bd(n,!0),{className:y,d:WN(i,l,c,u,d)})))};function VN(e){return VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(e)}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(this,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(t){KN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YN=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,s=e.sign,o=e.isExternal,i=e.cornerRadius,l=e.cornerIsExternal,c=i*(o?1:-1)+r,u=Math.asin(i/c)/GS,d=l?a:a+s*u,h=l?a-s*u:a;return{center:KS(t,n,c,d),circleTangency:KS(t,n,r,d),lineTangency:KS(t,n,c*Math.cos(u*GS),h),theta:u}},QN=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=function(e,t){return Mu(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),i=s+o,l=KS(t,n,a,s),c=KS(t,n,a,i),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>i),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=KS(t,n,r,s),h=KS(t,n,r,i);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=i),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},XN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$N=function(e){var n=qN(qN({},XN),e),r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,i=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<s||u===d)return null;var m,f=wu("recharts-sector",h),p=o-s,g=Wu(i,p,0,!0);return m=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,i=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Mu(c-l),d=YN({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:i}),h=d.circleTangency,m=d.lineTangency,f=d.theta,p=YN({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:i}),g=p.circleTangency,y=p.lineTangency,v=p.theta,x=i?Math.abs(l-c):Math.abs(l-c)-f-v;if(x<0)return o?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):QN({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=YN({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),j=w.circleTangency,S=w.lineTangency,N=w.theta,k=YN({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),_=k.circleTangency,P=k.lineTangency,A=k.theta,E=i?Math.abs(l-c):Math.abs(l-c)-N-A;if(E<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):QN({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",HN({},bd(n,!0),{className:f,d:m,role:"img"}))},JN=["option","shapeType","propTransformer","activeClassName","isActive"];function ZN(e){return ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZN(e)}function ek(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(t){rk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ZN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ak(e,t){return nk(nk({},t),e)}function sk(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(Xp,r);case"trapezoid":return t.createElement(zN,r);case"sector":return t.createElement($N,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(Dm,r);break;default:return null}}function ok(e){var n,r=e.option,a=e.shapeType,s=e.propTransformer,o=void 0===s?ak:s,i=e.activeClassName,l=void 0===i?"recharts-active-shape":i,c=e.isActive,u=ek(e,JN);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,nk(nk({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(Ku()(r))n=r(u);else if(ON()(r)&&!TN()(r)){var d=o(r,u);n=t.createElement(sk,{shapeType:a,elementProps:d})}else{var h=u;n=t.createElement(sk,{shapeType:a,elementProps:h})}return c?t.createElement(Hd,{className:l},n):n}function ik(e,t){return null!=t&&"trapezoids"in e.props}function lk(e,t){return null!=t&&"sectors"in e.props}function ck(e,t){return null!=t&&"points"in e.props}function uk(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&s}function dk(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function hk(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function mk(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return ik(e,t)?n="trapezoids":lk(e,t)?n="sectors":ck(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return ik(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:lk(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:ck(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=ej()(s,e),i=n.props[a].filter(function(e){var r=function(e,t){var n;return ik(e,t)?n=uk:lk(e,t)?n=dk:ck(e,t)&&(n=hk),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(i[i.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var fk=["x","y"];function pk(e){return pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pk(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gk.apply(this,arguments)}function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(t){xk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bk(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wk(e,t){var n=e.x,r=e.y,a=bk(e,fk),s="".concat(n),o=parseInt(s,10),i="".concat(r),l=parseInt(i,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return vk(vk(vk(vk(vk({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function jk(e){return t.createElement(ok,gk({shapeType:"rectangle",propTransformer:wk,activeClassName:"recharts-active-bar"},e))}var Sk,Nk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=Ru(n)||function(e){return Cu()(e)}(n);return a?e(n,r):(a||Rd(!1),t)}},kk=["value","background"];function _k(e){return _k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_k(e)}function Pk(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(this,arguments)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(t){Rk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ik(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lk(r.key),r)}}function Tk(e,t,n){return t=Mk(t),function(e,t){if(t&&("object"===_k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ck()?Reflect.construct(t,n||[],Mk(e).constructor):t.apply(e,n))}function Ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ck=function(){return!!e})()}function Mk(e){return Mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mk(e)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dk(e,t)}function Rk(e,t,n){return(t=Lk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lk(e){var t=function(e,t){if("object"!=_k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_k(t)?t:t+""}var Fk=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Rk(e=Tk(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),Rk(e,"id",Bu("recharts-bar-")),Rk(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),Rk(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.dataKey,o=r.activeIndex,i=r.activeBar,l=bd(this.props,!1);return e&&e.map(function(e,r){var c=r===o,u=c?i:a,d=Ok(Ok(Ok({},l),e),{},{isActive:c,option:u,index:r,dataKey:s,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(Hd,Ak({className:"recharts-bar-rectangle"},ad(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(jk,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,s=n.isAnimationActive,o=n.animationBegin,i=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(Bp,{begin:o,duration:i,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var s=n.t,o=r.map(function(e,t){var n=u&&u[t];if(n){var r=zu(n.x,e.x),o=zu(n.y,e.y),i=zu(n.width,e.width),l=zu(n.height,e.height);return Ok(Ok({},e),{},{x:r(s),y:o(s),width:i(s),height:l(s)})}if("horizontal"===a){var c=zu(0,e.height)(s);return Ok(Ok({},e),{},{y:e.y+e.height-c,height:c})}var d=zu(0,e.width)(s);return Ok(Ok({},e),{},{width:d})});return t.createElement(Hd,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&ej()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,s=n.activeIndex,o=bd(this.props.background,!1);return r.map(function(n,r){n.value;var i=n.background,l=Pk(n,kk);if(!i)return null;var c=Ok(Ok(Ok(Ok(Ok({},l),{},{fill:"#eee"},i),o),ad(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(jk,Ak({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,s=r.xAxis,o=r.yAxis,i=r.layout,l=fd(r.children,Vj);if(!l)return null;var c="vertical"===i?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:tS(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(Hd,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,s=e.xAxis,o=e.yAxis,i=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,m=e.id;if(n||!r||!r.length)return null;var f=this.state.isAnimationFinished,p=wu("recharts-bar",a),g=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,x=Cu()(m)?this.id:m;return t.createElement(Hd,{className:p},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?i:i-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(Hd,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||f)&&AN.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&Ik(r.prototype,a),s&&Ik(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Bk(e){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(e)}function Wk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hk(r.key),r)}}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(t){Vk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vk(e,t,n){return(t=Hk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hk(e){var t=function(e,t){if("object"!=Bk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bk(t)?t:t+""}Sk=Fk,Rk(Fk,"displayName","Bar"),Rk(Fk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Rk(Fk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,m=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!m)return null;var f=t.layout,p=n.type.defaultProps,g=void 0!==p?Ok(Ok({},p),n.props):n.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===f?o:s,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),S=fd(v,fN),N=d.map(function(e,t){var r,d,h,p,g,v;c?r=function(e,t){if(!t||2!==t.length||!Ru(t[0])||!Ru(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ru(e[0])||e[0]<n)&&(a[0]=n),(!Ru(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=tS(e,y),Array.isArray(r)||(r=[j,r]));var b=Nk(x,Sk.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var N,k=[o.scale(r[0]),o.scale(r[1])],_=k[0],P=k[1];d=pS({axis:s,ticks:i,bandSize:a,offset:m.offset,entry:e,index:t}),h=null!==(N=null!==P&&void 0!==P?P:_)&&void 0!==N?N:void 0,p=m.size;var A=_-P;if(g=Number.isNaN(A)?0:A,v={x:d,y:o.y,width:p,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=Mu(g||b)*(Math.abs(b)-Math.abs(g));h-=E,g+=E}}else{var O=[s.scale(r[0]),s.scale(r[1])],I=O[0],T=O[1];if(d=I,h=pS({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:e,index:t}),p=T-I,g=m.size,v={x:s.x,y:h,width:s.width,height:g},Math.abs(b)>0&&Math.abs(p)<Math.abs(b))p+=Mu(p||b)*(Math.abs(b)-Math.abs(p))}return Ok(Ok(Ok({},e),{},{x:d,y:h,width:p,height:g,value:c?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[jS(n,e)],tooltipPosition:{x:d+p/2,y:h+g/2}})});return Ok({data:N,layout:f},h)});var Gk=function(t,n,r,a,s){var o=t.width,i=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},h=!!pd(c,Fk);return u.reduce(function(o,i){var c,u,m,f,p,g=n[i],y=g.orientation,v=g.domain,x=g.padding,b=void 0===x?{}:x,w=g.mirror,j=g.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var N=v[1]-v[0],k=1/0,_=g.categoricalDomain.sort(Hu);if(_.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(_[t-1]||0),k))}),Number.isFinite(k)){var P=k/N,A="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*A/2),"no-gap"===g.padding){var E=Wu(t.barCategoryGap,P*A),O=P*A/2;c=O-E-(O-E)/A*E}}}u="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var I=function(t,n,r){var a=t.scale,s=t.type,o=t.layout,i=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===i?{scale:og(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:Ov(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lg(),realScaleType:"point"}:"category"===s?{scale:og(),realScaleType:"band"}:{scale:Ov(),realScaleType:"linear"};if(ku()(a)){var l="scale".concat(Mh()(a));return{scale:(e[l]||lg)(),realScaleType:e[l]?l:"point"}}return Ku()(a)?{scale:a}:{scale:lg(),realScaleType:"point"}}(g,s,h),T=I.scale,C=I.realScaleType;T.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-dS,s=Math.max(r[0],r[1])+dS,o=e(t[0]),i=e(t[n-1]);(o<a||o>s||i<a||i>s)&&e.domain([t[0],t[n-1]])}}(T);var M=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,s=t.originalDomain,o=t.allowDecimals,i=n||t.scale;if("auto"!==i&&"linear"!==i)return null;if(a&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=Aj(l,a,o);return e.domain([Xw()(c),Yw()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:Ej(u,a,o)}}return null}(T,zk(zk({},g),{},{realScaleType:C}));"xAxis"===a?(p="top"===y&&!w||"bottom"===y&&w,m=r.left,f=d[S]-p*g.height):"yAxis"===a&&(p="left"===y&&!w||"right"===y&&w,m=d[S]-p*g.width,f=r.top);var D=zk(zk(zk({},g),M),{},{realScaleType:C,x:m,y:f,scale:T,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return D.bandSize=bS(D,M),g.hide||"xAxis"!==a?g.hide||(d[S]+=(p?-1:1)*D.width):d[S]+=(p?-1:1)*D.height,zk(zk({},o),{},Vk({},i,D))},{})},qk=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)}},Kk=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Wk(t.prototype,n),r&&Wk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Vk(Kk,"EPS",1e-4);var Yk=function(e){var t=Object.keys(e).reduce(function(t,n){return zk(zk({},t),{},Vk({},n,Kk.create(e[n])))},{});return zk(zk({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return dN()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return mN()(e,function(e,n){return t[n].isInRange(e)})}})};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qk.apply(this,arguments)}function Xk(e){return Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xk(e)}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(t){a_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s_(r.key),r)}}function e_(e,t,n){return t=n_(t),function(e,t){if(t&&("object"===Xk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t_()?Reflect.construct(t,n||[],n_(e).constructor):t.apply(e,n))}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t_=function(){return!!e})()}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n_(e)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r_(e,t)}function a_(e,t,n){return(t=s_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_(e){var t=function(e,t){if("object"!=Xk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xk(t)?t:t+""}var o_=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,s=e.r,o=e.alwaysShow,i=e.clipPathId,l=Lu(r),c=Lu(a);if(Gu(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,s=Yk({x:r.scale,y:a.scale}),o=s.apply({x:t,y:n},{bandAware:!0});return cN(e,"discard")&&!s.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,m=this.props,f=m.shape,p=m.className,g=Jk(Jk({clipPath:cN(this.props,"hidden")?"url(#".concat(i,")"):void 0},bd(this.props,!0)),{},{cx:d,cy:h});return t.createElement(Hd,{className:wu("recharts-reference-dot",p)},n.renderDot(f,g),iN.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],a&&Zk(r.prototype,a),s&&Zk(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);a_(o_,"displayName","ReferenceDot"),a_(o_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),a_(o_,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ku()(e)?e(n):t.createElement(uf,Qk({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var i_=n(4597),l_=n.n(i_),c_=n(8990),u_=n.n(c_),d_=n(5797),h_=n.n(d_)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var m_=(0,t.createContext)(void 0),f_=(0,t.createContext)(void 0),p_=(0,t.createContext)(void 0),g_=(0,t.createContext)({}),y_=(0,t.createContext)(void 0),v_=(0,t.createContext)(0),x_=(0,t.createContext)(0),b_=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,s=n.offset,o=e.clipPathId,i=e.children,l=e.width,c=e.height,u=h_(s);return t.createElement(m_.Provider,{value:r},t.createElement(f_.Provider,{value:a},t.createElement(g_.Provider,{value:s},t.createElement(p_.Provider,{value:u},t.createElement(y_.Provider,{value:o},t.createElement(v_.Provider,{value:c},t.createElement(x_.Provider,{value:l},i)))))))};var w_=function(e){var n=(0,t.useContext)(m_);null==n&&Rd(!1);var r=n[e];return null==r&&Rd(!1),r},j_=function(e){var n=(0,t.useContext)(f_);null==n&&Rd(!1);var r=n[e];return null==r&&Rd(!1),r},S_=function(){return(0,t.useContext)(x_)},N_=function(){return(0,t.useContext)(v_)};function k_(e){return k_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k_(e)}function __(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M_(r.key),r)}}function P_(e,t,n){return t=E_(t),function(e,t){if(t&&("object"===k_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A_()?Reflect.construct(t,n||[],E_(e).constructor):t.apply(e,n))}function A_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A_=function(){return!!e})()}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E_(e)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O_(e,t)}function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(t){C_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C_(e,t,n){return(t=M_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_(e){var t=function(e,t){if("object"!=k_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k_(t)?t:t+""}function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}function F_(e){var n=e.x,r=e.y,a=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(y_),d=w_(s),h=j_(o),m=(0,t.useContext)(p_);if(!u||!m)return null;Gu(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,a,s,o,i,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var m=l.y,f=e.y.apply(m,{position:s});if(cN(l,"discard")&&!e.y.isInRange(f))return null;var p=[{x:c+d,y:f},{x:c,y:f}];return"left"===i?p.reverse():p}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(cN(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:s})});return cN(l,"discard")&&l_()(x,function(t){return!e.isInRange(t)})?null:x}return null}(Yk({x:d.scale,y:h.scale}),Lu(n),Lu(r),a&&2===a.length,m,e.position,d.orientation,h.orientation,e);if(!f)return null;var p=D_(f,2),g=p[0],y=g.x,v=g.y,x=p[1],b=x.x,w=x.y,j=T_(T_({clipPath:cN(e,"hidden")?"url(#".concat(u,")"):void 0},bd(e,!0)),{},{x1:y,y1:v,x2:b,y2:w});return t.createElement(Hd,{className:wu("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ku()(e)?e(n):t.createElement("line",L_({},n,{className:"recharts-reference-line-line"}))}(i,j),iN.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return qk({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:b,y2:w})))}var B_=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),P_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(F_,this.props)}}])&&__(r.prototype,a),s&&__(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W_.apply(this,arguments)}function U_(e){return U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(e)}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(t){Q_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X_(r.key),r)}}function G_(e,t,n){return t=K_(t),function(e,t){if(t&&("object"===U_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q_()?Reflect.construct(t,n||[],K_(e).constructor):t.apply(e,n))}function q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q_=function(){return!!e})()}function K_(e){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K_(e)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y_(e,t)}function Q_(e,t,n){return(t=X_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X_(e){var t=function(e,t){if("object"!=U_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U_(t)?t:t+""}C_(B_,"displayName","ReferenceLine"),C_(B_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var $_=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),G_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,s=e.y1,o=e.y2,i=e.className,l=e.alwaysShow,c=e.clipPathId;Gu(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Lu(r),d=Lu(a),h=Lu(s),m=Lu(o),f=this.props.shape;if(!u&&!d&&!h&&!m&&!f)return null;var p=function(e,t,n,r,a){var s=a.x1,o=a.x2,i=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Yk({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(i,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!cN(a,"discard")||d.isInRange(h)&&d.isInRange(m)?qk(h,m):null}(u,d,h,m,this.props);if(!p&&!f)return null;var g=cN(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(Hd,{className:wu("recharts-reference-area",i)},n.renderRect(f,V_(V_({clipPath:g},bd(this.props,!0)),p)),iN.renderCallByParent(this.props,p))}}])&&H_(r.prototype,a),s&&H_(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function J_(e){return function(e){if(Array.isArray(e))return Z_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Z_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Q_($_,"displayName","ReferenceArea"),Q_($_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Q_($_,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ku()(e)?e(n):t.createElement(Xp,W_({},n,{className:"recharts-reference-area-rect"}))});var eP=function(e,t,n,r,a){var s=fd(e,B_),o=fd(e,o_),i=[].concat(J_(s),J_(o)),l=fd(e,$_),c="".concat(r,"Id"),u=r[0],d=t;if(i.length&&(d=i.reduce(function(e,t){if(t.props[c]===n&&cN(t.props,"extendDomain")&&Ru(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),m="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&cN(t.props,"extendDomain")&&Ru(t.props[h])&&Ru(t.props[m])){var r=t.props[h],a=t.props[m];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Ru(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},tP=n(7283),nP=new(n.n(tP)()),rP="recharts.syncMouseEvents";function aP(e){return aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aP(e)}function sP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iP(r.key),r)}}function oP(e,t,n){return(t=iP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iP(e){var t=function(e,t){if("object"!=aP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aP(t)?t:t+""}var lP=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oP(this,"activeIndex",0),oP(this,"coordinateList",[]),oP(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,s=void 0===a?null:a,o=e.layout,i=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==i&&void 0!==i?i:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,s=n.height,o=this.coordinateList[this.activeIndex].coordinate,i=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+i,u=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&sP(e.prototype,t),n&&sP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function cP(){}function uP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dP(e){this._context=e}function hP(e){this._context=e}function mP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},hP.prototype={areaStart:cP,areaEnd:cP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class fP{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function pP(e){this._context=e}function gP(e){this._context=e}function yP(e){return new gP(e)}function vP(e){return e<0?-1:1}function xP(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),i=(s*a+o*r)/(r+a);return(vP(s)+vP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(i))||0}function bP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wP(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,i=(s-r)/3;e._context.bezierCurveTo(r+i,a+i*t,s-i,o-i*n,s,o)}function jP(e){this._context=e}function SP(e){this._context=new NP(e)}function NP(e){this._context=e}function kP(e){this._context=e}function _P(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function PP(e,t){this._context=e,this._t=t}function AP(e){return e[0]}function EP(e){return e[1]}function OP(e,t){var n=rm(!0),r=null,a=yP,s=null,o=km(i);function i(i){var l,c,u,d=(i=Vw(i)).length,h=!1;for(null==r&&(s=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=i[l],l,i))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,i),+t(c,l,i));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?AP:rm(e),t="function"===typeof t?t:void 0===t?EP:rm(t),i.x=function(t){return arguments.length?(e="function"===typeof t?t:rm(+t),i):e},i.y=function(e){return arguments.length?(t="function"===typeof e?e:rm(+e),i):t},i.defined=function(e){return arguments.length?(n="function"===typeof e?e:rm(!!e),i):n},i.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),i):a},i.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),i):r},i}function IP(e,t,n){var r=null,a=rm(!0),s=null,o=yP,i=null,l=km(c);function c(c){var u,d,h,m,f,p=(c=Vw(c)).length,g=!1,y=new Array(p),v=new Array(p);for(null==s&&(i=o(f=l())),u=0;u<=p;++u){if(!(u<p&&a(m=c[u],u,c))===g)if(g=!g)d=u,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),h=u-1;h>=d;--h)i.point(y[h],v[h]);i.lineEnd(),i.areaEnd()}g&&(y[u]=+e(m,u,c),v[u]=+t(m,u,c),i.point(r?+r(m,u,c):y[u],n?+n(m,u,c):v[u]))}if(f)return i=null,f+""||null}function u(){return OP().defined(a).curve(o).context(s)}return e="function"===typeof e?e:void 0===e?AP:rm(+e),t="function"===typeof t?t:rm(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?EP:rm(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:rm(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:rm(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:rm(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:rm(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:rm(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:rm(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:rm(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=s&&(i=o(s)),c):o},c.context=function(e){return arguments.length?(null==e?s=i=null:i=o(s=e),c):s},c}function TP(e){return TP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TP(e)}function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(this,arguments)}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(t){RP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pP.prototype={areaStart:cP,areaEnd:cP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},gP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wP(this,this._t0,bP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wP(this,bP(this,n=xP(this,e,t)),n);break;default:wP(this,this._t0,n=xP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(SP.prototype=Object.create(jP.prototype)).point=function(e,t){jP.prototype.point.call(this,t,e)},NP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=_P(e),a=_P(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var LP={curveBasisClosed:function(e){return new hP(e)},curveBasisOpen:function(e){return new mP(e)},curveBasis:function(e){return new dP(e)},curveBumpX:function(e){return new fP(e,!0)},curveBumpY:function(e){return new fP(e,!1)},curveLinearClosed:function(e){return new pP(e)},curveLinear:yP,curveMonotoneX:function(e){return new jP(e)},curveMonotoneY:function(e){return new SP(e)},curveNatural:function(e){return new kP(e)},curveStep:function(e){return new PP(e,.5)},curveStepAfter:function(e){return new PP(e,1)},curveStepBefore:function(e){return new PP(e,0)}},FP=function(e){return e.x===+e.x&&e.y===+e.y},BP=function(e){return e.x},WP=function(e){return e.y},UP=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,s=void 0===a?[]:a,o=e.baseLine,i=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Ku()(e))return e;var n="curve".concat(Mh()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?LP[n]||yP:LP["".concat(n).concat("vertical"===t?"Y":"X")]}(r,i),d=c?s.filter(function(e){return FP(e)}):s;if(Array.isArray(o)){var h=c?o.filter(function(e){return FP(e)}):o,m=d.map(function(e,t){return DP(DP({},e),{},{base:h[t]})});return(t="vertical"===i?IP().y(WP).x1(BP).x0(function(e){return e.base.x}):IP().x(BP).y1(WP).y0(function(e){return e.base.y})).defined(FP).curve(u),t(m)}return(t="vertical"===i&&Ru(o)?IP().y(WP).x1(BP).x0(o):Ru(o)?IP().x(BP).y1(WP).y0(o):OP().x(BP).y(WP)).defined(FP).curve(u),t(d)},zP=function(e){var n=e.className,r=e.points,a=e.path,s=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?UP(e):a;return t.createElement("path",CP({},bd(e,!1),rd(e),{className:wu("recharts-curve",n),d:o,ref:s}))};function VP(e){return VP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VP(e)}var HP=["x","y","top","left","width","height","className"];function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(this,arguments)}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var QP=function(e,t,n,r,a,s){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},XP=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.top,i=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,m=void 0===h?0:h,f=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(t){KP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:s,top:i,left:c,width:d,height:m},YP(e,HP));return Ru(r)&&Ru(s)&&Ru(d)&&Ru(m)&&Ru(i)&&Ru(c)?t.createElement("path",GP({},bd(p,!0),{className:wu("recharts-cross",f),d:QP(r,s,d,m,i,c)})):null};function $P(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle;return{points:[KS(t,n,r,a),KS(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function JP(e,t,n){var r,a,s,o;if("horizontal"===e)s=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return $P(t);var i=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=KS(i,l,c,d),m=KS(i,l,u,d);r=h.x,a=h.y,s=m.x,o=m.y}return[{x:r,y:a},{x:s,y:o}]}function ZP(e){return ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZP(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(t){nA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ZP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rA(e){var n,r,a,s=e.element,o=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,f=e.chartName,p=null!==(n=s.props.cursor)&&void 0!==n?n:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!p||!i||!l||"ScatterChart"!==f&&"axis"!==o)return null;var g=zP;if("ScatterChart"===f)a=l,g=XP;else if("BarChart"===f)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(m,l,u,h),g=Xp;else if("radial"===m){var y=$P(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=$N}else a={points:JP(m,l,u)},g=zP;var w=tA(tA(tA(tA({stroke:"#ccc",pointerEvents:"none"},u),a),bd(p,!1)),{},{payload:c,payloadIndex:d,className:wu("recharts-tooltip-cursor",p.className)});return(0,t.isValidElement)(p)?(0,t.cloneElement)(p,w):(0,t.createElement)(g,w)}var aA=["item"],sA=["children","className","width","height","style","compact","title","desc"];function oA(e){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(e)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(this,arguments)}function lA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||gA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wA(r.key),r)}}function dA(e,t,n){return t=mA(t),function(e,t){if(t&&("object"===oA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hA()?Reflect.construct(t,n||[],mA(e).constructor):t.apply(e,n))}function hA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hA=function(){return!!e})()}function mA(e){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mA(e)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fA(e,t)}function pA(e){return function(e){if(Array.isArray(e))return yA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gA(e,t){if(e){if("string"===typeof e)return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yA(e,t):void 0}}function yA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(t){bA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bA(e,t,n){return(t=wA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wA(e){var t=function(e,t){if("object"!=oA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oA(t)?t:t+""}var jA={xAxis:["bottom","top"],yAxis:["left","right"]},SA={width:"100%",height:"100%"},NA={x:0,y:0};function kA(e){return e}var _A=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(pA(e),pA(n)):e},[]);return s.length>0?s:e&&e.length&&Ru(r)&&Ru(a)?e.slice(r,a+1):[]};function PA(e){return"number"===e?[0,"auto"]:void 0}var AA,EA=function(e,t,n,r){var a=e.graphicalItems,s=e.tooltipAxis,o=_A(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,i){var l,c,u=null!==(l=i.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=Vu(void 0===u?o:u,s.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(pA(a),[jS(i,c)]):a},[])},OA=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,i=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var i=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Mu(u-c)!==Mu(d-u)){var m=[];if(Mu(d-u)===Mu(i[1]-i[0])){h=d;var f=u+i[1]-i[0];m[0]=Math.min(f,(f+c)/2),m[1]=Math.max(f,(f+c)/2)}else{h=c;var p=d+i[1]-i[0];m[0]=Math.min(u,(p+u)/2),m[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){s=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){s=n[x].index;break}return s}(s,o,l,i);if(c>=0&&l){var u=l[c]&&l[c].value,d=EA(e,t,c,u),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,o=r.radius;return xA(xA(xA({},r),KS(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var i=a.coordinate,l=r.angle;return xA(xA(xA({},r),KS(r.cx,r.cy,i,l)),{},{angle:l,radius:i})}return NA}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},IA=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=oS(c,a);return n.reduce(function(t,n){var m,f=void 0!==n.type.defaultProps?xA(xA({},n.type.defaultProps),n.props):n.props,p=f.type,g=f.dataKey,y=f.allowDataOverflow,v=f.allowDuplicatedCategory,x=f.scale,b=f.ticks,w=f.includeHidden,j=f[s];if(t[j])return t;var S,N,k,_=_A(e.data,{graphicalItems:r.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===j}),dataStartIndex:i,dataEndIndex:l}),P=_.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&Ru(r)&&Ru(a))return!0}return!1})(f.domain,y,p)&&(S=xS(f.domain,null,y),!h||"number"!==p&&"auto"===x||(k=nS(_,g,"category")));var A=PA(p);if(!S||0===S.length){var E,O=null!==(E=f.domain)&&void 0!==E?E:A;if(g){if(S=nS(_,g,p),"category"===p&&h){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&I?(N=S,S=Td()(0,P)):v||(S=wS(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(pA(e),[t])},[]))}else if("category"===p)S=v?S.filter(function(e){return""!==e&&!Cu()(e)}):wS(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Cu()(t)?e:[].concat(pA(e),[t])},[]);else if("number"===p){var T=function(e,t,n,r,a){var s=t.map(function(t){return aS(e,t,n,a,r)}).filter(function(e){return!Cu()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(_,r.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)}),g,a,c);T&&(S=T)}!h||"number"!==p&&"auto"===x||(k=nS(_,g,"category"))}else S=h?Td()(0,P):o&&o[j]&&o[j].hasStack&&"number"===p?"expand"===d?[0,1]:gS(o[j].stackGroups,i,l):sS(_,r.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),p,c,!0);if("number"===p)S=eP(u,S,j,a,b),O&&(S=xS(O,S,y));else if("category"===p&&O){var C=O;S.every(function(e){return C.indexOf(e)>=0})&&(S=C)}}return xA(xA({},t),{},bA({},j,xA(xA({},f),{},{axisType:a,domain:S,categoricalDomain:k,duplicateDomain:N,originalDomain:null!==(m=f.domain)&&void 0!==m?m:A,isCategorical:h,layout:c})))},{})},TA=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=fd(c,a),h={};return d&&d.length?h=IA(e,{axes:d,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=_A(e.data,{graphicalItems:n,dataStartIndex:i,dataEndIndex:l}),h=d.length,m=oS(c,a),f=-1;return n.reduce(function(e,t){var p,g=(void 0!==t.type.defaultProps?xA(xA({},t.type.defaultProps),t.props):t.props)[s],y=PA("number");return e[g]?e:(f++,m?p=Td()(0,h):o&&o[g]&&o[g].hasStack?(p=gS(o[g].stackGroups,i,l),p=eP(u,p,g,a)):(p=xS(y,sS(d,n.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),p=eP(u,p,g,a)),xA(xA({},e),{},bA({},g,xA(xA({axisType:a},r.defaultProps),{},{hide:!0,orientation:Eu()(jA,"".concat(a,".").concat(f%2),null),domain:p,originalDomain:y,isCategorical:m,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l})),h},CA=function(e){var t=e.children,n=e.defaultShowTooltip,r=pd(t,WS),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},MA=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DA=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,s=e.yAxisMap,o=void 0===s?{}:s,i=n.width,l=n.height,c=n.children,u=n.margin||{},d=pd(c,WS),h=pd(c,lf),m=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:xA(xA({},e),{},bA({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:xA(xA({},e),{},bA({},r,Eu()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),p=xA(xA({},f),m),g=p.bottom;d&&(p.bottom+=d.props.height||WS.defaultProps.height),h&&t&&(p=function(e,t,n,r){var a=n.children,s=n.width,o=n.margin,i=s-(o.left||0)-(o.right||0),l=Yj({children:a,legendWidth:i});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,m=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===m)&&"center"!==h&&Ru(e[h]))return Zj(Zj({},e),{},eS({},h,e[h]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==m&&Ru(e[m]))return Zj(Zj({},e),{},eS({},m,e[m]+(d||0)))}return e}(p,0,n,t));var y=i-p.left-p.right,v=l-p.top-p.bottom;return xA(xA({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(v,0)})},RA=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},LA=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,o=e.validateTooltipEventTypes,i=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,s=t.updateId,o=t.dataStartIndex,i=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,m=e.maxBarSize,f=MA(u),p=f.numericAxisName,g=f.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=ud(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,f){var x=_A(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:i}),b=void 0!==n.type.defaultProps?xA(xA({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,S=b["".concat(p,"Id")],N=b["".concat(g,"Id")],k=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||Rd(!1);var s=r[a];return xA(xA({},e),{},bA(bA({},n.axisType,s),"".concat(n.axisType,"Ticks"),lS(s)))},{}),_=k[g],P=k["".concat(g,"Ticks")],A=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Zj(Zj({},e.type.defaultProps),e.props):e.props).stackId;if(Lu(r)){var a=t[r];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(n,r[S].stackGroups),E=ud(n.type).indexOf("Bar")>=0,O=bS(_,P),I=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var s={},o=Object.keys(a),i=0,l=o.length;i<l;i++)for(var c=a[o[i]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var m=c[u[d]],f=m.items,p=m.cateAxisId,g=f.filter(function(e){return ud(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Zj(Zj({},y),g[0].props):g[0].props,x=v.barSize,b=v[p];s[b]||(s[b]=[]);var w=Cu()(x)?t:x;s[b].push({item:g[0],stackList:g.slice(1),barSize:Cu()(w)?void 0:Wu(w,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:RA(k,g)});if(E){var C,M,D=Cu()(j)?m:j,R=null!==(C=null!==(M=bS(_,P,!0))&&void 0!==M?M:D)&&void 0!==C?C:0;I=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,o=e.maxBarSize,i=s.length;if(i<1)return null;var l,c=Wu(t,r,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=r/i,m=s.reduce(function(e,t){return e+t.barSize||0},0);(m+=(i-1)*c)>=r&&(m-=(i-1)*c,c=0),m>=r&&h>0&&(d=!0,m=i*(h*=.9));var f={offset:((r-m)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:d?h:t.barSize}},r=[].concat(Xj(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:f})}),r},u)}else{var p=Wu(n,r,0,!0);r-2*p-(i-1)*c<=0&&(c=0);var g=(r-2*p-(i-1)*c)/i;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=s.reduce(function(e,t,n){var r=[].concat(Xj(e),[{item:t.item,position:{offset:p+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==O?R:O,sizeList:T[N],maxBarSize:D}),R!==O&&(I=I.map(function(e){return xA(xA({},e),{},{position:xA(xA({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,B=n&&n.type&&n.type.getComposedData;B&&v.push({props:xA(xA({},B(xA(xA({},k),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:O,barPosition:I,offset:a,stackedData:A,layout:u,dataStartIndex:o,dataEndIndex:i}))),{},bA(bA(bA({key:n.key||"item-".concat(f)},p,k[p]),g,k[g]),"animationId",s)),childIndex:(L=n,F=e.children,md(F).indexOf(L)),item:n})}),v},m=function(e,t){var a=e.props,s=e.dataStartIndex,o=e.dataEndIndex,i=e.updateId;if(!gd({props:a}))return null;var c=a.children,d=a.layout,m=a.stackOffset,f=a.data,p=a.reverseStackOrder,g=MA(d),y=g.numericAxisName,v=g.cateAxisName,x=fd(c,r),b=function(e,t,n,r,a,s){if(!e)return null;var o=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Zj(Zj({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(s.hide)return e;var i=s[n],l=e[i]||{hasStack:!1,stackGroups:{}};if(Lu(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Bu("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Zj(Zj({},e),{},eS({},i,l))},{});return Object.keys(o).reduce(function(t,s){var i=o[s];return i.hasStack&&(i.stackGroups=Object.keys(i.stackGroups).reduce(function(t,s){var o=i.stackGroups[s];return Zj(Zj({},t),{},eS({},s,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:mS(e,o.items,a)}))},{})),Zj(Zj({},t),{},eS({},s,i))},{})}(f,x,"".concat(y,"Id"),"".concat(v,"Id"),m,p),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return xA(xA({},e),{},bA({},n,TA(a,xA(xA({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:o}))))},{}),j=DA(xA(xA({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],j,e.replace("Map",""),n)});var S=function(e){var t=Uu(e),n=lS(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Md()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:bS(t,n)}}(w["".concat(v,"Map")]),N=h(a,xA(xA({},w),{},{dataStartIndex:s,dataEndIndex:o,updateId:i,graphicalItems:x,stackGroups:b,offset:j}));return xA(xA({formattedGraphicalItems:N,graphicalItems:x,offset:j,stackGroups:b},S),w)},f=function(e){function r(e){var a,s,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),bA(o=dA(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bA(o,"accessibilityManager",new lP),bA(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(xA({legendBBox:e},m({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},xA(xA({},o.state),{},{legendBBox:e}))))}}),bA(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),bA(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return xA({dataStartIndex:t,dataEndIndex:n},m({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),bA(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=xA(xA({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;Ku()(r)&&r(n,e)}}),bA(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?xA(xA({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;Ku()(r)&&r(n,e)}),bA(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),bA(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),bA(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),bA(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;Ku()(n)&&n(t,e)}),bA(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&cd[t]?cd[t]:null}(e),r=Eu()(o.props,"".concat(n));n&&Ku()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),bA(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=xA(xA({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;Ku()(r)&&r(n,e)}}),bA(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Ku()(t)&&t(o.getMouseInfo(e),e)}),bA(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Ku()(t)&&t(o.getMouseInfo(e),e)}),bA(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),bA(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),bA(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),bA(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Ku()(t)&&t(o.getMouseInfo(e),e)}),bA(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Ku()(t)&&t(o.getMouseInfo(e),e)}),bA(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&nP.emit(rP,o.props.syncId,e,o.eventEmitterSymbol)}),bA(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,s=e.dataStartIndex,i=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(xA({dataStartIndex:s,dataEndIndex:i},m({props:o.props,dataStartIndex:s,dataEndIndex:i,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(f,e);else if("value"===r){u=-1;for(var p=0;p<f.length;p++)if(f[p].value===e.activeLabel){u=p;break}}var g=xA(xA({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=f[u]&&f[u].value,b=EA(o.state,o.props.data,u),w=f[u]?{x:"horizontal"===n?f[u].coordinate:y,y:"horizontal"===n?v:f[u].coordinate}:NA;o.setState(xA(xA({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),bA(o,"renderCursor",function(e){var r,a=o.state,s=a.isTooltipActive,i=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),m=null!==(r=e.props.active)&&void 0!==r?r:s,f=o.props.layout,p=e.key||"_recharts-cursor";return t.createElement(rA,{key:p,activeCoordinate:i,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:m,layout:f,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),bA(o,"renderPolarAxis",function(e,n,r){var a=Eu()(e,"type.axisType"),s=Eu()(o.state,"".concat(a,"Map")),i=e.type.defaultProps,l=void 0!==i?xA(xA({},i),e.props):e.props,c=s&&s[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,xA(xA({},c),{},{className:wu(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:lS(c,!0)}))}),bA(o,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,s=n.polarRadius,i=o.state,l=i.radiusAxisMap,c=i.angleAxisMap,u=Uu(l),d=Uu(c),h=d.cx,m=d.cy,f=d.innerRadius,p=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:lS(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:lS(u,!0).map(function(e){return e.coordinate}),cx:h,cy:m,innerRadius:f,outerRadius:p,key:e.key||"polar-grid",radialLines:r})}),bA(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,n=o.props,r=n.children,a=n.width,s=n.height,i=o.props.margin||{},l=a-(i.left||0)-(i.right||0),u=Yj({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=cA(u,aA);return(0,t.cloneElement)(d,xA(xA({},h),{},{chartWidth:a,chartHeight:s,margin:i,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),bA(o,"renderTooltip",function(){var e,n=o.props,r=n.children,a=n.accessibilityLayer,s=pd(r,Th);if(!s)return null;var i=o.state,l=i.isTooltipActive,c=i.activeCoordinate,u=i.activePayload,d=i.activeLabel,h=i.offset,m=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(s,{viewBox:xA(xA({},h),{},{x:h.left,y:h.top}),active:m,label:d,payload:m?u:[],coordinate:c,accessibilityLayer:a})}),bA(o,"renderBrush",function(e){var n=o.props,r=n.margin,a=n.data,s=o.state,i=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:uS(o.handleBrushChange,e.props.onChange),data:a,x:Ru(e.props.x)?e.props.x:i.left,y:Ru(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:Ru(e.props.width)?e.props.width:i.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),bA(o,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=o.clipPathId,s=o.state,i=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,m=void 0===h?u.xAxisId:h,f=d.yAxisId,p=void 0===f?u.yAxisId:f;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:i[m],yAxis:l[p],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),bA(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,s=e.childIndex,o=e.isRange,i=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?xA(xA({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=xA(xA({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:rS(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},bd(u,!1)),rd(u));return i.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),a?i.push(r.renderActiveDot(u,xA(xA({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):o&&i.push(null),i}),bA(o,"renderGraphicChild",function(e,n,r){var a=o.filterFormatItem(e,n,r);if(!a)return null;var s=o.getTooltipEventType(),i=o.state,l=i.isTooltipActive,c=i.tooltipAxis,u=i.activeTooltipIndex,d=i.activeLabel,h=pd(o.props.children,Th),m=a.props,f=m.points,p=m.isRange,g=m.baseLine,y=void 0!==a.item.type.defaultProps?xA(xA({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,j=Boolean(!x&&l&&h&&(v||b||w)),S={};"axis"!==s&&h&&"click"===h.props.trigger?S={onClick:uS(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(S={onMouseLeave:uS(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:uS(o.handleItemMouseEnter,e.props.onMouseEnter)});var N=(0,t.cloneElement)(e,xA(xA({},a.props),S));if(j){if(!(u>=0)){var k,_=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:N}).graphicalItem,P=_.item,A=void 0===P?e:P,E=_.childIndex,O=xA(xA(xA({},a.props),S),{},{activeIndex:E});return[(0,t.cloneElement)(A,O),null,null]}var I,T;if(c.dataKey&&!c.allowDuplicatedCategory){var C="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());I=Vu(f,C,d),T=p&&g&&Vu(g,C,d)}else I=null===f||void 0===f?void 0:f[u],T=p&&g&&g[u];if(w||b){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,xA(xA(xA({},a.props),S),{},{activeIndex:M})),null,null]}if(!Cu()(I))return[N].concat(pA(o.renderActivePoints({item:a,activePoint:I,basePoint:T,childIndex:u,isRange:p})))}return p?[N,null,null]:[N,null]}),bA(o,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,xA(xA({key:"recharts-customized-".concat(r)},o.props),o.state))}),bA(o,"renderMap",{CartesianGrid:{handler:kA,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:kA},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:kA},YAxis:{handler:kA},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Bu("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Su()(o.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,s=pd(t,Th);if(s){var o=s.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var i=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=EA(this.state,n,o,i),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=xA(xA({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var m={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:i,activePayload:l,activeCoordinate:d};this.setState(m),this.renderCursor(s),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){wd([pd(e.children,Th)],[pd(this.props.children,Th)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=pd(this.props.children,Th);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,i=this.inRange(s.chartX,s.chartY,o);if(!i)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=OA(this.state,this.props.data,this.props.layout,i);if("axis"!==d&&c&&u){var m=Uu(c).scale,f=Uu(u).scale,p=m&&m.invert?m.invert(s.chartX):null,g=f&&f.invert?f.invert(s.chartY):null;return xA(xA({},s),{},{xValue:p,yValue:g},h)}return h?xA(xA({},s),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&s>=o.top&&s<=o.top+o.height?{x:a,y:s}:null}var i=this.state,l=i.angleAxisMap,c=i.radiusAxisMap;if(l&&c){var u=Uu(l);return XS({x:a,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=pd(e,Th),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),xA(xA({},rd(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){nP.on(rP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nP.removeListener(rP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,s=r.length;a<s;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===ud(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,s=n.height,o=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:s,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=lA(t,2),r=n[0],a=n[1];return xA(xA({},e),{},bA({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=lA(t,2),r=n[0],a=n[1];return xA(xA({},e),{},bA({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,s=n.length;a<s;a++){var o=n[a],i=o.props,l=o.item,c=void 0!==l.type.defaultProps?xA(xA({},l.type.defaultProps),l.props):l.props,u=ud(l.type);if("Bar"===u){var d=(i.data||[]).find(function(t){return Yp(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(i.data||[]).find(function(t){return XS(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(ik(o,r)||lk(o,r)||ck(o,r)){var m=mk({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?m:c.activeIndex;return{graphicalItem:xA(xA({},o),{},{childIndex:f}),payload:ck(o,r)?c.data[m]:o.props.data[m]}}}return null}},{key:"render",value:function(){var e=this;if(!gd(this))return null;var n,r,a=this.props,s=a.children,o=a.className,i=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,m=cA(a,sA),f=bd(m,!1);if(u)return t.createElement(b_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(Wd,iA({},f,{width:i,height:l,title:d,desc:h}),this.renderClipPath(),Sd(s,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,f.role=null!==(r=this.props.role)&&void 0!==r?r:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return t.createElement(b_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",iA({className:wu("recharts-wrapper",o),style:xA({position:"relative",cursor:"default",width:i,height:l},c)},p,{ref:function(t){e.container=t}}),t.createElement(Wd,iA({},f,{width:i,height:l,title:d,desc:h,style:SA}),this.renderClipPath(),Sd(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&uA(a.prototype,o),l&&uA(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);bA(f,"displayName",n),bA(f,"defaultProps",xA({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),bA(f,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,s=e.width,o=e.height,i=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=CA(e);return xA(xA(xA({},h),{},{updateId:0},m(xA(xA({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||l!==t.prevStackOffset||!$u(c,t.prevMargin)){var f=CA(e),p={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=xA(xA({},OA(t,r,i)),{},{updateId:t.updateId+1}),y=xA(xA(xA({},f),p),g);return xA(xA(xA({},y),m(xA({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!wd(a,t.prevChildren)){var v,x,b,w,j=pd(a,WS),S=j&&null!==(v=null===(x=j.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,N=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,k=S!==u||N!==d,_=!Cu()(r)&&!k?t.updateId:t.updateId+1;return xA(xA({updateId:_},m(xA(xA({props:e},t),{},{updateId:_,dataStartIndex:S,dataEndIndex:N}),t)),{},{prevChildren:a,dataStartIndex:S,dataEndIndex:N})}return null}),bA(f,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):Ku()(e)?e(n):t.createElement(uf,n),t.createElement(Hd,{className:"recharts-active-dot",key:r},a)});var p=(0,t.forwardRef)(function(e,n){return t.createElement(f,iA({},e,{ref:n}))});return p.displayName=f.displayName,p},FA=["layout","type","stroke","connectNulls","isRange","ref"],BA=["key"];function WA(e){return WA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(e)}function UA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zA.apply(this,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(t){XA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$A(r.key),r)}}function qA(e,t,n){return t=YA(t),function(e,t){if(t&&("object"===WA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KA()?Reflect.construct(t,n||[],YA(e).constructor):t.apply(e,n))}function KA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(KA=function(){return!!e})()}function YA(e){return YA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YA(e)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QA(e,t)}function XA(e,t,n){return(t=$A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $A(e){var t=function(e,t){if("object"!=WA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WA(t)?t:t+""}var JA=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return XA(e=qA(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),XA(e,"id",Bu("recharts-area-")),XA(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Ku()(t)&&t()}),XA(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Ku()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}(n,e),r=n,a=[{key:"renderDots",value:function(e,r,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,u=i.dataKey,d=bd(this.props,!1),h=bd(l,!0),m=c.map(function(e,t){var r=HA(HA(HA({key:"dot-".concat(t),r:3},d),h),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)}),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(Hd,zA({className:"recharts-area-dots"},f),m)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].x,i=a[a.length-1].x,l=e*Math.abs(o-i),c=Yw()(a.map(function(e){return e.y||0}));return Ru(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Yw()(r.map(function(e){return e.y||0})),c)),Ru(c)?t.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].y,i=a[a.length-1].y,l=e*Math.abs(o-i),c=Yw()(a.map(function(e){return e.x||0}));return Ru(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Yw()(r.map(function(e){return e.x||0})),c)),Ru(c)?t.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,r,a){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,u=s.isRange,d=(s.ref,UA(s,FA));return t.createElement(Hd,{clipPath:r?"url(#clipPath-".concat(a,")"):null},t.createElement(zP,zA({},bd(d,!0),{points:e,connectNulls:c,type:i,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(zP,zA({},bd(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&t.createElement(zP,zA({},bd(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.baseLine,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,m=h.prevPoints,f=h.prevBaseLine;return t.createElement(Bp,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(m){var l,c=m.length/s.length,u=s.map(function(e,t){var n=Math.floor(t*c);if(m[n]){var r=m[n],a=zu(r.x,e.x),s=zu(r.y,e.y);return HA(HA({},e),{},{x:a(i),y:s(i)})}return e});return l=Ru(o)&&"number"===typeof o?zu(f,o)(i):Cu()(o)||Pu()(o)?zu(f,0)(i):o.map(function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=zu(r.x,e.x),s=zu(r.y,e.y);return HA(HA({},e),{},{x:a(i),y:s(i)})}return e}),r.renderAreaStatically(u,l,e,n)}return t.createElement(Hd,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(i))),t.createElement(Hd,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(s,o,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,s=n.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&r&&r.length&&(!i&&c>0||!ej()(i,r)||!ej()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.top,l=n.left,c=n.xAxis,u=n.yAxis,d=n.width,h=n.height,m=n.isAnimationActive,f=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=wu("recharts-area",o),v=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,w=Cu()(f)?this.id:f,j=null!==(e=bd(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,N=void 0===S?3:S,k=j.strokeWidth,_=void 0===k?2:k,P=(xd(a)?a:{}).clipDot,A=void 0===P||P,E=2*N+_;return t.createElement(Hd,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?l:l-d/2,y:x?i:i-h/2,width:v?d:2*d,height:x?h:2*h})),!A&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:l-E/2,y:i-E/2,width:d+E,height:h+E}))):null,g?null:this.renderArea(b,w),(a||g)&&this.renderDots(b,A,w),(!m||p)&&AN.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&GA(r.prototype,a),s&&GA(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);AA=JA,XA(JA,"displayName","Area"),XA(JA,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!yh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),XA(JA,"getBaseValue",function(e,t,n,r){var a=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!==o&&void 0!==o?o:s;if(Ru(i)&&"number"===typeof i)return i;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===i?d:"dataMax"===i||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),XA(JA,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,m=e.offset,f=n.layout,p=u&&u.length,g=AA.getBaseValue(n,r,a,s),y="horizontal"===f,v=!1,x=h.map(function(e,t){var n;p?n=u[d+t]:(n=tS(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||p&&null==tS(e,c);return y?{x:fS({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:s.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:fS({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=p||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?s.scale(g):a.scale(g),HA({points:x,baseLine:t,layout:f,isRange:v},m)}),XA(JA,"renderDotItem",function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(Ku()(e))r=e(n);else{var a=wu("recharts-area-dot","boolean"!==typeof e?e.className:""),s=n.key,o=UA(n,BA);r=t.createElement(uf,zA({},o,{key:s,className:a}))}return r});var ZA=["type","layout","connectNulls","ref"],eE=["key"];function tE(e){return tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(e)}function nE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(this,arguments)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(t){mE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oE(e){return function(e){if(Array.isArray(e))return iE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return iE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fE(r.key),r)}}function cE(e,t,n){return t=dE(t),function(e,t){if(t&&("object"===tE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uE()?Reflect.construct(t,n||[],dE(e).constructor):t.apply(e,n))}function uE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uE=function(){return!!e})()}function dE(e){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dE(e)}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hE(e,t)}function mE(e,t,n){return(t=fE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fE(e){var t=function(e,t){if("object"!=tE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tE(t)?t:t+""}var pE=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return mE(e=cE(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),mE(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),mE(e,"getStrokeDasharray",function(t,r,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,t);for(var o=Math.floor(t/s),i=t%s,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>i){c=[].concat(oE(a.slice(0,u)),[i-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(oE(n.repeat(a,o)),oE(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),mE(e,"id",Bu("recharts-line-")),mE(e,"pathRef",function(t){e.mainCurve=t}),mE(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),mE(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=fd(r.children,Vj);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:tS(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(Hd,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,c=bd(this.props,!1),u=bd(o,!0),d=i.map(function(e,t){var r=sE(sE(sE({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:i});return n.renderDotItem(o,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(Hd,rE({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls,c=(s.ref,nE(s,ZA)),u=sE(sE(sE({},bd(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:i,connectNulls:l});return t.createElement(zP,rE({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.strokeDasharray,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,m=a.width,f=a.height,p=this.state,g=p.prevPoints,y=p.totalLength;return t.createElement(Bp,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var i=g.length/s.length,l=s.map(function(e,t){var n=Math.floor(t*i);if(g[n]){var r=g[n],s=zu(r.x,e.x),o=zu(r.y,e.y);return sE(sE({},e),{},{x:s(a),y:o(a)})}if(h){var l=zu(2*m,e.x),c=zu(f/2,e.y);return sE(sE({},e),{},{x:l(a),y:c(a)})}return sE(sE({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=zu(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(s,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return a&&r&&r.length&&(!o&&i>0||!ej()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,m=n.isAnimationActive,f=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=wu("recharts-line",o),v=i&&i.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=Cu()(f)?this.id:f,j=null!==(e=bd(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,N=void 0===S?3:S,k=j.strokeWidth,_=void 0===k?2:k,P=(xd(a)?a:{}).clipDot,A=void 0===P||P,E=2*N+_;return t.createElement(Hd,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!A&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(b,w),this.renderErrorBar(b,w),(g||a)&&this.renderDots(b,A,w),(!m||p)&&AN.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(oE(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(oE(r),oE(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(Ku()(e))r=e(n);else{var a=n.key,s=nE(n,eE),o=wu("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(uf,rE({key:a},s,{className:o}))}return r}}],a&&lE(r.prototype,a),s&&lE(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function gE(e){return gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(e)}function yE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SE(r.key),r)}}function vE(e,t,n){return t=bE(t),function(e,t){if(t&&("object"===gE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xE()?Reflect.construct(t,n||[],bE(e).constructor):t.apply(e,n))}function xE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xE=function(){return!!e})()}function bE(e){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bE(e)}function wE(e,t){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wE(e,t)}function jE(e,t,n){return(t=SE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SE(e){var t=function(e,t){if("object"!=gE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gE(t)?t:t+""}mE(pE,"displayName","Line"),mE(pE,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),mE(pE,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=tS(e,o);return"horizontal"===u?{x:fS({axis:n,ticks:a,bandSize:i,entry:e,index:t}),y:Cu()(l)?null:r.scale(l),value:l,payload:e}:{x:Cu()(l)?null:n.scale(l),y:fS({axis:r,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}});return sE({points:d,layout:u},c)});var NE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&yE(n.prototype,r),a&&yE(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(t.Component);jE(NE,"displayName","ZAxis"),jE(NE,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var kE=["option","isActive"];function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(this,arguments)}function PE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function AE(e){var n=e.option,r=e.isActive,a=PE(e,kE);return"string"===typeof n?t.createElement(ok,_E({option:t.createElement(Dm,_E({type:n},a)),isActive:r,shapeType:"symbols"},a)):t.createElement(ok,_E({option:n,isActive:r,shapeType:"symbols"},a))}function EE(e){return EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(e)}function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(t){FE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BE(r.key),r)}}function ME(e,t,n){return t=RE(t),function(e,t){if(t&&("object"===EE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DE()?Reflect.construct(t,n||[],RE(e).constructor):t.apply(e,n))}function DE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DE=function(){return!!e})()}function RE(e){return RE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RE(e)}function LE(e,t){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LE(e,t)}function FE(e,t,n){return(t=BE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BE(e){var t=function(e,t){if("object"!=EE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EE(t)?t:t+""}var WE=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return FE(e=ME(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),FE(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),FE(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),FE(e,"id",Bu("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LE(e,t)}(n,e),r=n,a=[{key:"renderSymbolsStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.activeShape,o=r.activeIndex,i=bd(this.props,!1);return e.map(function(e,r){var l=o===r,c=l?s:a,u=TE(TE({},i),e);return t.createElement(Hd,OE({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},ad(n.props,e,r),{role:"img"}),t.createElement(AE,OE({option:c,isActive:l,key:"symbol-".concat(r)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,n=this.props,r=n.points,a=n.isAnimationActive,s=n.animationBegin,o=n.animationDuration,i=n.animationEasing,l=n.animationId,c=this.state.prevPoints;return t.createElement(Bp,{begin:s,duration:o,isActive:a,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t,s=r.map(function(e,t){var n=c&&c[t];if(n){var r=zu(n.cx,e.cx),s=zu(n.cy,e.cy),o=zu(n.size,e.size);return TE(TE({},e),{},{cx:r(a),cy:s(a),size:o(a)})}var i=zu(0,e.size);return TE(TE({},e),{},{size:i(a)})});return t.createElement(Hd,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&ej()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,n=e.points,r=e.xAxis,a=e.yAxis,s=fd(e.children,Vj);return s?s.map(function(e,s){var o=e.props,i=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(i,"-").concat(l,"-").concat(n[s]),data:n,xAxis:r,yAxis:a,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:tS(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,n,r=this.props,a=r.points,s=r.line,o=r.lineType,i=r.lineJointType,l=bd(this.props,!1),c=bd(s,!1);if("joint"===o)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,s=0,o=1/0,i=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,s+=l*l,o=Math.min(o,l),i=Math.max(i,l);var d=t*s!==n*n?(t*a-n*r)/(t*s-n*n):0;return{xmin:o,xmax:i,a:d,b:(r-d*n)/t}}(a),d=u.xmin,h=u.xmax,m=u.a,f=u.b,p=function(e){return m*e+f};e=[{x:d,y:p(d)},{x:h,y:p(h)}]}var g=TE(TE(TE({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return n=t.isValidElement(s)?t.cloneElement(s,g):Ku()(s)?s(g):t.createElement(zP,OE({},g,{type:i})),t.createElement(Hd,{className:"recharts-scatter-line",key:"recharts-scatter-line"},n)}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.points,a=e.line,s=e.className,o=e.xAxis,i=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,h=e.id,m=e.isAnimationActive;if(n||!r||!r.length)return null;var f=this.state.isAnimationFinished,p=wu("recharts-scatter",s),g=o&&o.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=Cu()(h)?this.id:h;return t.createElement(Hd,{className:p,clipPath:v?"url(#clipPath-".concat(x,")"):null},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,a&&this.renderLine(),this.renderErrorBar(),t.createElement(Hd,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||f)&&AN.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&CE(r.prototype,a),s&&CE(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function UE(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function zE(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),o=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function VE(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function HE(e){return HE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HE(e)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(t){KE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=HE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,i=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(Ru(l)||yh.isSsr)return function(e,t){return UE(e,t+1)}(a,"number"===typeof l&&Ru(l)?l:0);var h=[],m="top"===i||"bottom"===i?"width":"height",f=u&&"width"===m?gg(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(e,r){var a=Ku()(c)?c(e.value,r):e.value;return"width"===m?zE(gg(a,{fontSize:t,letterSpacing:n}),f,d):gg(a,{fontSize:t,letterSpacing:n})[m]},g=a.length>=2?Mu(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,s=e.y,o=e.width,i=e.height;return 1===t?{start:r?a:s,end:r?a+o:s+i}:{start:r?a+o:s+i,end:r?a:s}}(s,g,m);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var s,o=(r||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:UE(r,u)};var s,o=c,h=function(){return void 0===s&&(s=n(t,o)),s},m=t.coordinate,f=0===c||VE(e,m,h,d,l);f||(c=0,d=i,u+=1),f&&(d=m+e*(h()/2+a),c+=u)};u<=o.length;)if(s=h())return s.v;return[]}(g,y,p,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,s){var o=(r||[]).slice(),i=o.length,l=t.start,c=t.end;if(s){var u=r[i-1],d=n(u,i-1),h=e*(u.coordinate+e*d/2-c);o[i-1]=u=qE(qE({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),VE(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[i-1]=qE(qE({},u),{},{isShow:!0}))}for(var m=s?i-1:i,f=function(t){var r,s=o[t],i=function(){return void 0===r&&(r=n(s,t)),r};if(0===t){var u=e*(s.coordinate-e*i()/2-l);o[t]=s=qE(qE({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else o[t]=s=qE(qE({},s),{},{tickCoord:s.coordinate});VE(e,s.tickCoord,i,l,c)&&(l=s.tickCoord+e*(i()/2+a),o[t]=qE(qE({},s),{},{isShow:!0}))},p=0;p<m;p++)f(p);return o}(g,y,p,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,i=t.start,l=t.end,c=function(t){var r,c=s[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=qE(qE({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=qE(qE({},c),{},{tickCoord:c.coordinate});VE(e,c.tickCoord,u,i,l)&&(l=c.tickCoord-e*(u()/2+a),s[t]=qE(qE({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}(g,y,p,a,o),h.filter(function(e){return e.isShow}))}FE(WE,"displayName","Scatter"),FE(WE,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!yh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),FE(WE,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,o=e.xAxisTicks,i=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=fd(a.props.children,fN),d=Cu()(t.dataKey)?a.props.dataKey:t.dataKey,h=Cu()(n.dataKey)?a.props.dataKey:n.dataKey,m=r&&r.dataKey,f=r?r.range:NE.defaultProps.range,p=f&&f[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=s.map(function(e,s){var l=tS(e,d),f=tS(e,h),v=!Cu()(m)&&tS(e,m)||"-",x=[{name:Cu()(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:Cu()(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:f,payload:e,dataKey:h,type:c}];"-"!==v&&x.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:m,type:c});var b=fS({axis:t,ticks:o,bandSize:g,entry:e,index:s,dataKey:d}),w=fS({axis:n,ticks:i,bandSize:y,entry:e,index:s,dataKey:h}),j="-"!==v?r.scale(v):p,S=Math.sqrt(Math.max(j,0)/Math.PI);return TE(TE({},e),{},{cx:b,cy:w,x:b-S,y:w-S,xAxis:t,yAxis:n,zAxis:r,width:2*S,height:2*S,size:j,node:{x:l,y:f,z:v},tooltipPayload:x,tooltipPosition:{x:b,y:w},payload:e},u&&u[s]&&u[s].props)});return TE({points:v},l)});var QE=["viewBox"],XE=["viewBox"],$E=["ticks"];function JE(e){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(e)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZE.apply(this,arguments)}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(t){lO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cO(r.key),r)}}function aO(e,t,n){return t=oO(t),function(e,t){if(t&&("object"===JE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sO()?Reflect.construct(t,n||[],oO(e).constructor):t.apply(e,n))}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sO=function(){return!!e})()}function oO(e){return oO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oO(e)}function iO(e,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iO(e,t)}function lO(e,t,n){return(t=cO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e){var t=function(e,t){if("object"!=JE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JE(t)?t:t+""}var uO=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=aO(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=nO(e,QE),a=this.props,s=a.viewBox,o=nO(a,XE);return!$u(n,s)||!$u(r,o)||!$u(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,s,o,i=this.props,l=i.x,c=i.y,u=i.width,d=i.height,h=i.orientation,m=i.tickSize,f=i.mirror,p=i.tickMargin,g=f?-1:1,y=e.tickSize||m,v=Ru(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(a=c+ +!f*d)-g*y)-g*p,s=v;break;case"left":r=a=e.coordinate,s=(t=(n=l+ +!f*u)-g*y)-g*p,o=v;break;case"right":r=a=e.coordinate,s=(t=(n=l+ +f*u)+g*y)+g*p,o=v;break;default:t=n=e.coordinate,o=(r=(a=c+ +f*d)+g*y)+g*p,s=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:s,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.orientation,i=e.mirror,l=e.axisLine,c=tO(tO(tO({},bd(this.props,!1)),bd(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!i||"bottom"===o&&i);c=tO(tO({},c),{},{x1:n,y1:r+u*s,x2:n+a,y2:r+u*s})}else{var d=+("left"===o&&!i||"right"===o&&i);c=tO(tO({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+s})}return t.createElement("line",ZE({},c,{className:wu("recharts-cartesian-axis-line",Eu()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var s=this,o=this.props,i=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=YE(tO(tO({},this.props),{},{ticks:e}),r,a),m=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=bd(this.props,!1),g=bd(c,!1),y=tO(tO({},p),{},{fill:"none"},bd(i,!1)),v=h.map(function(e,r){var a=s.getTickLineCoord(e),o=a.line,v=a.tick,x=tO(tO(tO(tO({textAnchor:m,verticalAnchor:f},p),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(Hd,ZE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ad(s.props,e,r)),i&&t.createElement("line",ZE({},y,o,{className:wu("recharts-cartesian-axis-tick-line",Eu()(i,"className"))})),c&&n.renderTickItem(c,x,"".concat(Ku()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,s=n.height,o=n.ticksGenerator,i=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=nO(l,$E),d=c;return Ku()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||s<=0||!d||!d.length?null:t.createElement(Hd,{className:wu("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),iN.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,n,r){var a=wu(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,tO(tO({},n),{},{className:a})):Ku()(e)?e(tO(tO({},n),{},{className:a})):t.createElement(Gg,ZE({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&rO(r.prototype,a),s&&rO(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function dO(e){return dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dO(e)}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vO(r.key),r)}}function mO(e,t,n){return t=pO(t),function(e,t){if(t&&("object"===dO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fO()?Reflect.construct(t,n||[],pO(e).constructor):t.apply(e,n))}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fO=function(){return!!e})()}function pO(e){return pO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pO(e)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gO(e,t)}function yO(e,t,n){return(t=vO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vO(e){var t=function(e,t){if("object"!=dO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dO(t)?t:t+""}function xO(){return xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xO.apply(this,arguments)}function bO(e){var n=e.xAxisId,r=S_(),a=N_(),s=w_(n);return null==s?null:t.createElement(uO,xO({},s,{className:wu("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return lS(e,!0)}}))}lO(uO,"displayName","CartesianAxis"),lO(uO,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wO=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),mO(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(bO,this.props)}}])&&hO(r.prototype,a),s&&hO(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function jO(e){return jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jO(e)}function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EO(r.key),r)}}function NO(e,t,n){return t=_O(t),function(e,t){if(t&&("object"===jO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kO()?Reflect.construct(t,n||[],_O(e).constructor):t.apply(e,n))}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kO=function(){return!!e})()}function _O(e){return _O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_O(e)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PO(e,t)}function AO(e,t,n){return(t=EO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EO(e){var t=function(e,t){if("object"!=jO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jO(t)?t:t+""}function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OO.apply(this,arguments)}yO(wO,"displayName","XAxis"),yO(wO,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var IO=function(e){var n=e.yAxisId,r=S_(),a=N_(),s=j_(n);return null==s?null:t.createElement(uO,OO({},s,{className:wu("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return lS(e,!0)}}))},TO=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),NO(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(IO,this.props)}}])&&SO(r.prototype,a),s&&SO(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);AO(TO,"displayName","YAxis"),AO(TO,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var CO=LA({chartName:"ComposedChart",GraphicalChild:[pE,JA,Fk,WE],axisComponents:[{axisType:"xAxis",AxisComp:wO},{axisType:"yAxis",AxisComp:TO},{axisType:"zAxis",AxisComp:NE}],formatAxisMap:Gk}),MO=["x1","y1","x2","y2","key"],DO=["offset"];function RO(e){return RO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RO(e)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(t){BO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WO.apply(this,arguments)}function UO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zO=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.ry;return t.createElement("rect",{x:a,y:s,ry:l,width:o,height:i,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VO(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(Ku()(e))r=e(n);else{var a=n.x1,s=n.y1,o=n.x2,i=n.y2,l=n.key,c=UO(n,MO),u=bd(c,!1),d=(u.offset,UO(u,DO));r=t.createElement("line",WO({},d,{x1:a,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function HO(e){var n=e.x,r=e.width,a=e.horizontal,s=void 0===a||a,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=FO(FO({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return VO(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function GO(e){var n=e.y,r=e.height,a=e.vertical,s=void 0===a||a,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=FO(FO({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return VO(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function qO(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?s+i-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KO(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?o+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:i,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var YO=function(e,t){var n=e.xAxis,r=e.width,a=e.height,s=e.offset;return iS(YE(FO(FO(FO({},uO.defaultProps),n),{},{ticks:lS(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},QO=function(e,t){var n=e.yAxis,r=e.width,a=e.height,s=e.offset;return iS(YE(FO(FO(FO({},uO.defaultProps),n),{},{ticks:lS(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},XO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $O(e){var n,r,a,s,o,i,l=S_(),c=N_(),u=(0,t.useContext)(g_),d=FO(FO({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:XO.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:XO.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:XO.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:XO.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:XO.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:XO.verticalFill,x:Ru(e.x)?e.x:u.left,y:Ru(e.y)?e.y:u.top,width:Ru(e.width)?e.width:u.width,height:Ru(e.height)?e.height:u.height}),h=d.x,m=d.y,f=d.width,p=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(m_);return Uu(e)}(),b=function(){var e=(0,t.useContext)(f_);return u_()(e,function(e){return mN()(e.domain,Number.isFinite)})||Uu(e)}();if(!Ru(f)||f<=0||!Ru(p)||p<=0||!Ru(h)||h!==+h||!Ru(m)||m!==+m)return null;var w=d.verticalCoordinatesGenerator||YO,j=d.horizontalCoordinatesGenerator||QO,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Ku()(j)){var k=y&&y.length,_=j({yAxis:b?FO(FO({},b),{},{ticks:k?y:b.ticks}):void 0,width:l,height:c,offset:u},!!k||g);Gu(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(RO(_),"]")),Array.isArray(_)&&(S=_)}if((!N||!N.length)&&Ku()(w)){var P=v&&v.length,A=w({xAxis:x?FO(FO({},x),{},{ticks:P?v:x.ticks}):void 0,width:l,height:c,offset:u},!!P||g);Gu(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(RO(A),"]")),Array.isArray(A)&&(N=A)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(zO,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(HO,WO({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),t.createElement(GO,WO({},d,{offset:u,verticalPoints:N,xAxis:x,yAxis:b})),t.createElement(qO,WO({},d,{horizontalPoints:S})),t.createElement(KO,WO({},d,{verticalPoints:N})))}$O.displayName="CartesianGrid";var JO=LA({chartName:"LineChart",GraphicalChild:pE,axisComponents:[{axisType:"xAxis",AxisComp:wO},{axisType:"yAxis",AxisComp:TO}],formatAxisMap:Gk});const ZO=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,nflState:o,getTeamName:i,getTeamDetails:l,transactions:c}=J(),[u,d]=(0,t.useState)([]),[h,m]=(0,t.useState)("winPercentage"),[p,g]=(0,t.useState)("desc"),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)({}),[S,N]=(0,t.useState)([]),[k,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)([]),[E,O]=(0,t.useState)([]),[T,C]=(0,t.useState)([]),[M,D]=(0,t.useState)({}),[R,L]=(0,t.useState)(null),[F,B]=(0,t.useState)(!1),[W,U]=(0,t.useState)([]),[z,V]=(0,t.useState)(""),[H,G]=(0,t.useState)(""),q=t.useRef(new Map),Y=["#8884d8","#82ca9d","#ffc658","#f5222d","#fa8c16","#a0d911","#52c41a","#1890ff","#2f54eb","#722ed1","#eb2f96","#faad14","#13c2c2","#eb2f96","#fadb14","#52c41a"],Q=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length>0){const e=n[0].payload;return(0,K.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[(0,K.jsx)("p",{className:"font-semibold",children:"Season ".concat(r)}),(0,K.jsx)("p",{className:"text-green-600",children:"Highest: ".concat(e.highest.toFixed(1)," (").concat(e.highestTeam,")")}),(0,K.jsx)("p",{className:"text-blue-600",children:"Average: ".concat(e.average.toFixed(1))}),(0,K.jsx)("p",{className:"text-red-600",children:"Lowest: ".concat(e.lowest.toFixed(1)," (").concat(e.lowestTeam,")")}),(0,K.jsx)("p",{className:"text-gray-600",children:"Range: ".concat(e.range.toFixed(1)," pts")})]})}return null};(0,t.useEffect)(()=>{const{seasonalMetrics:e,careerDPRData:t}=s(r,0,i,o);f.A.debug("LeagueHistory: calculatedCareerDPRs after initial calculation:",t);const n=Object.keys(r.matchupsBySeason).map(Number).sort((e,t)=>e-t),a={};if(t.forEach(e=>{const t=e.ownerId,n=i(t,null);n&&!n.startsWith("Unknown Team (ID:")?a[n]={totalWins:e.wins,totalLosses:e.losses,totalTies:e.ties,totalPointsFor:e.pointsFor,totalGames:e.totalGames,careerDPR:e.dpr,seasonsPlayed:new Set,awards:{championships:e.championships||0,runnerUps:e.runnerUps||0,thirdPlace:e.thirdPlaces||0,firstPoints:e.pointsChampionships||0,secondPoints:e.pointsRunnerUps||0,thirdPoints:e.thirdPlacePoints||0},ownerId:t}:f.A.warn("LeagueHistory: Skipping career stats for ownerId ".concat(t," due to unresolved team name."))}),T&&T.length>0)try{window.localStorage.setItem("teamTransactionTotals",JSON.stringify(T))}catch(k){}f.A.debug("LeagueHistory: teamOverallStats after population:",a),Object.keys(r.rostersBySeason).forEach(e=>{const t=r.rostersBySeason[e];t&&t.forEach(t=>{const n=t.owner_id,r=i(n,null);a[r]&&a[r].seasonsPlayed.add(parseInt(e))})});const l={};n.forEach(t=>{var n;const a=e[t],s=(r.winnersBracketBySeason[t],null===(n=r.losersBracketBySeason)||void 0===n||n[t],r.rostersBySeason[t]||[]);new Map(s.map(e=>[String(e.roster_id),String(e.owner_id)]));l[t]={champion:"N/A",secondPlace:"N/A",thirdPlace:"N/A",pointsChamp:"N/A",pointsSecond:"N/A",pointsThird:"N/A"};let o=!1;if(a&&Object.values(a).forEach(e=>{e.isChampion&&(l[t].champion=i(e.ownerId,t),o=!0),e.isRunnerUp&&(l[t].secondPlace=i(e.ownerId,t),o=!0),e.isThirdPlace&&(l[t].thirdPlace=i(e.ownerId,t),o=!0)}),a){Object.values(a).map(e=>({ownerId:e.ownerId,points:e.pointsFor,isPointsChampion:e.isPointsChampion,isPointsRunnerUp:e.isPointsRunnerUp,isThirdPlacePoints:e.isThirdPlacePoints})).forEach(e=>{e.isPointsChampion&&(l[t].pointsChamp=i(e.ownerId,t)),e.isPointsRunnerUp&&(l[t].pointsSecond=i(e.ownerId,t)),e.isThirdPlacePoints&&(l[t].pointsThird=i(e.ownerId,t))})}else f.A.warn("LeagueHistory: No seasonal metrics found for year ".concat(t,". Cannot determine points awards."));const c=l[t];"N/A"!==c.champion||"N/A"!==c.secondPlace||"N/A"!==c.thirdPlace||"N/A"!==c.pointsChamp||"N/A"!==c.pointsSecond||"N/A"!==c.pointsThird||delete l[t]}),f.A.debug("LeagueHistory: newSeasonAwardsSummary after processing:",l);const u={},h={};Object.keys(r.rostersBySeason).forEach(e=>{(r.rostersBySeason[e]||[]).forEach(t=>{const n=String(t.owner_id),r=String(t.roster_id);u[n]||(u[n]=new Set),u[n].add(r),h[r]=String(e)})});const m=Object.keys(a).map(n=>{const r=a[n];if(0===r.seasonsPlayed.size)return null;const s=r.totalWins+r.totalLosses+r.totalTies,o=s>0?(r.totalWins+.5*r.totalTies)/s:0,i=Array.from(r.seasonsPlayed).sort((e,t)=>e-t),l=i.length>0?i[0]:"",c=i.length>0?i[i.length-1]:"",u=r.seasonsPlayed.size;let d=(0,K.jsx)(K.Fragment,{children:u>0?l===c?(0,K.jsxs)(K.Fragment,{children:[l," ",(0,K.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):(0,K.jsxs)(K.Fragment,{children:[l,"-",c," ",(0,K.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):""});const h=t.find(e=>e.ownerId===r.ownerId),m=t=>{const n=[];return Object.entries(e).forEach(e=>{let[a,s]=e;const o=Object.values(s).find(e=>e.ownerId===r.ownerId&&e[t]);o&&n.push(a)}),n},f=h?{championships:h.championships||0,championshipsYears:m("isChampion"),runnerUps:h.runnerUps||0,runnerUpsYears:m("isRunnerUp"),thirdPlace:h.thirdPlaces||0,thirdPlaceYears:m("isThirdPlace"),firstPoints:h.pointsChampionships||0,firstPointsYears:m("isPointsChampion"),secondPoints:h.pointsRunnerUps||0,secondPointsYears:m("isPointsRunnerUp"),thirdPoints:h.thirdPlacePoints||0,thirdPointsYears:m("isThirdPlacePoints")}:{championships:0,championshipsYears:[],runnerUps:0,runnerUpsYears:[],thirdPlace:0,thirdPlaceYears:[],firstPoints:0,firstPointsYears:[],secondPoints:0,secondPointsYears:[],thirdPoints:0,thirdPointsYears:[]};return{team:n,seasons:d,totalDPR:r.careerDPR,record:"".concat(r.totalWins,"-").concat(r.totalLosses,"-").concat(r.totalTies),totalWins:r.totalWins,winPercentage:o,awards:f,ownerId:r.ownerId}}).filter(Boolean).sort((e,t)=>t.winPercentage-e.winPercentage);d(m);const p=[],g=Object.keys(r.matchupsBySeason).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t),y=Array.from(new Set(t.map(e=>e.ownerId))),x=y.map(e=>i(e,null)).sort();b(x),g.forEach(e=>{const t={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(r.matchupsBySeason).forEach(n=>{parseInt(n)<=e&&(t.matchupsBySeason[n]=r.matchupsBySeason[n],t.rostersBySeason[n]=r.rostersBySeason[n],t.leaguesMetadataBySeason[n]=r.leaguesMetadataBySeason[n],t.winnersBracketBySeason[n]=r.winnersBracketBySeason[n],t.losersBracketBySeason[n]=r.losersBracketBySeason[n],t.usersBySeason[n]=r.usersBySeason[n])});const{careerDPRData:n}=s(t,0,i,o),a=y.map(e=>{var t;const r=null===(t=n.find(t=>t.ownerId===e))||void 0===t?void 0:t.dpr;return{ownerId:e,dpr:void 0!==r?r:-9999,teamName:i(e,null)}});a.sort((e,t)=>t.dpr-e.dpr),a.forEach((e,t)=>{e.rank=t+1});const l={year:e};a.forEach(e=>{l[e.teamName]=e.rank}),p.push(l)}),v(p);const w=[];f.A.debug("LeagueHistory: Starting average score calculation for years:",n),f.A.debug("LeagueHistory: historicalData.matchupsBySeason keys:",Object.keys(r.matchupsBySeason||{})),n.forEach(e=>{const t=r.matchupsBySeason[e]||[],n=r.rostersBySeason[e]||[];if(f.A.debug("LeagueHistory: Year ".concat(e," - matchups: ").concat(t.length,", rosters: ").concat(n.length)),0===t.length||0===n.length)return void f.A.debug("LeagueHistory: Skipping year ".concat(e," - no data"));const a={},s={};n.forEach(t=>{const n=t.owner_id,r=t.roster_id,o=i(n,e);s[r]=n,a[r]={ownerId:n,teamName:o,totalPoints:0,games:0}}),t.forEach((t,n)=>{const r=t.team1_roster_id||t.t1,s=t.team2_roster_id||t.t2,o=t.team1_score||t.t1_score||0,i=t.team2_score||t.t2_score||0;0===n&&f.A.debug("LeagueHistory: Sample matchup for ".concat(e,":"),{team1Id:r,team2Id:s,team1Score:o,team2Score:i,keys:Object.keys(t)}),r&&a[r]&&o>0&&(a[r].totalPoints+=o,a[r].games+=1),s&&a[s]&&i>0&&(a[s].totalPoints+=i,a[s].games+=1)});const o=[],l={};if(Object.values(a).forEach(e=>{if(e.games>0){const t=e.totalPoints/e.games;o.push(t),l[e.teamName]=t}}),f.A.debug("LeagueHistory: Team season averages for year ".concat(e,":"),l),o.length>0){o.sort((e,t)=>e-t);const t=Math.max(...o),n=Math.min(...o),r=o.reduce((e,t)=>e+t,0)/o.length,a=Object.keys(l).find(e=>Math.abs(l[e]-t)<.01)||"Unknown",s=Object.keys(l).find(e=>Math.abs(l[e]-n)<.01)||"Unknown",i={year:e,highest:parseFloat(t.toFixed(1)),lowest:parseFloat(n.toFixed(1)),average:parseFloat(r.toFixed(1)),range:parseFloat((t-n).toFixed(1)),highestTeam:a,lowestTeam:s};f.A.debug("LeagueHistory: Adding team average data for year ".concat(e,":"),i),w.push(i)}else f.A.debug("LeagueHistory: No team season averages calculated for year ".concat(e))}),f.A.debug("LeagueHistory: averageScoresData calculated:",w),A(w);const S=n.map(String).sort();U(S),!z&&S.length>0&&V(S[0]),!H&&S.length>0&&G(S[S.length-1]),j(l),N(Object.keys(l).map(Number).sort((e,t)=>t-e)),(async()=>{try{const n={},a=(e,t)=>{if(!r||!r.rostersBySeason)return null;const n=[];t&&n.push(String(t)),n.push(...Object.keys(r.rostersBySeason));for(const a of n){const t=(r.rostersBySeason[a]||[]).find(t=>String(t.roster_id)===String(e));if(t)return String(t.owner_id)}return null},s=Object.keys(r.rostersBySeason||{}).sort();let l=[];if(s.length>0)try{const e=await xu(s);l=Object.values(e).flatMap(e=>e&&e.transactions?e.transactions:[])}catch(t){f.A.warn("LeagueHistory: could not fetch financial data for all years:",t),l=[]}let u=[];try{const t=Object.keys(r.leaguesMetadataBySeason||{}),n=216e5;for(const a of t){var e;const t=null===(e=r.leaguesMetadataBySeason)||void 0===e?void 0:e[String(a)],s=(null===t||void 0===t?void 0:t.league_id)||(null===t||void 0===t?void 0:t.leagueId)||(null===t||void 0===t?void 0:t.id)||null;if(!s)continue;const i=q.current.get(s);if(i&&Date.now()-i.timestamp<n){u.push(...i.transactions);continue}const l=String(a)===String(null===o||void 0===o?void 0:o.season)&&null!==o&&void 0!==o&&o.week?Math.max(1,o.week):18,c=[];for(let e=1;e<=l;e++)c.push(I(s,e).catch(t=>(f.A.debug("LeagueHistory: fetchTransactionsForWeek failed for ".concat(s," week ").concat(e,": ").concat(t)),[])));const d=(await Promise.all(c)).flat().map(e=>(e&&!e.season&&(e.season=a),e)).filter(Boolean);q.current.set(s,{timestamp:Date.now(),transactions:d}),u.push(...d)}}catch(t){f.A.warn("LeagueHistory: error fetching league transactions for historical leagues",t)}const d=Array.isArray(c)?c:[],h=[...l,...u,...d],m={},p={};h.forEach(e=>{try{var t;if(!e)return;const r=String(e.type||"").toLowerCase();if("waiver"===r||"free_agent"===r||"add"===r){const t=e.adds?Object.keys(e.adds).length:0;let n=null;return e.roster_ids&&Array.isArray(e.roster_ids)&&e.roster_ids.length>0&&(n=a(e.roster_ids[0],e.season||e.year||null)),void(n&&t>0?m[n]=(m[n]||0)+t:e.adds&&"object"===typeof e.adds&&Object.values(e.adds).forEach(t=>{const n=(null===t||void 0===t?void 0:t.roster_id)||(null===t||void 0===t?void 0:t.rosterId)||null;if(n){const t=a(n,e.season||e.year||null);t&&(m[t]=(m[t]||0)+1)}}))}if("trade"!==r)return;if(e.status&&"failed"===String(e.status).toLowerCase())return;const o=Array.isArray(e.roster_ids)?e.roster_ids.map(e=>String(e)):[];if(0===o.length){const t=new Set;e.adds&&Object.values(e.adds).forEach(e=>{null!==e&&void 0!==e&&e.roster_id&&t.add(String(e.roster_id))}),e.drops&&Object.values(e.drops).forEach(e=>{null!==e&&void 0!==e&&e.roster_id&&t.add(String(e.roster_id))}),e.team&&Array.isArray(e.team)&&e.team.forEach(e=>t.add(String(e))),o.push(...Array.from(t))}let i=e.season||e.year||(null===(t=e.metadata)||void 0===t?void 0:t.season)||null;if(!i&&e.created)try{i=new Date(e.created).getFullYear()}catch(k){i=null}i||(i=s.length?s[s.length-1]:null);const l=o.map(e=>a(e,i)).filter(Boolean),c=Array.from(new Set(l.map(e=>String(e))));if(c.length<2)return;c.forEach(e=>{p[e]=(p[e]||0)+1});for(let e=0;e<c.length;e++)for(let t=e+1;t<c.length;t++){const r=c[e],a=c[t],[s,o]=r<a?[r,a]:[a,r],i="".concat(s,"|").concat(o);n[i]=(n[i]||0)+1}}catch(k){}});const g=Object.keys(n).map(e=>{const[t,r]=e.split("|");return{ownerA:t,ownerB:r,teamA:i(t,null),teamB:i(r,null),count:n[e]}}).sort((e,t)=>t.count-e.count),y=new Set;g.forEach(e=>{y.add(String(e.ownerA)),y.add(String(e.ownerB))}),Object.keys(m||{}).forEach(e=>y.add(String(e))),Object.keys(p||{}).forEach(e=>y.add(String(e)));const v=Array.from(y).map(e=>({ownerId:e,teamName:i(e,null),pickups:m[e]||0,trades:p[e]||0})).sort((e,t)=>t.pickups+t.trades-(e.pickups+e.trades)),x={};let b=0;h.forEach(e=>{try{var t;if(!e||"trade"!==String(e.type||"").toLowerCase())return;const r=e.draft_picks||(null===(t=e.metadata)||void 0===t?void 0:t.traded_picks)||[];if(Array.isArray(r)&&r.length>0){var n;b++;const t=e.season||e.year||(null===(n=e.metadata)||void 0===n?void 0:n.season)||(e.created?new Date(e.created).getFullYear():null)||(s.length?s[s.length-1]:null);r.forEach(e=>{const n=e.owner_id||e.roster_id,r=e.previous_owner_id||e.original_owner,s=e.season||t,o=e.round;if(n&&r&&String(n)!==String(r)){const t=a(n,s),l=a(r,s);t&&l&&(x[t]||(x[t]={given:[],received:[]}),x[l]||(x[l]={given:[],received:[]}),x[t].received.push({year:s,round:o,pickNumber:e.pick||e.pick_no||"R".concat(o),fromTeam:i(l,null),fromOwnerId:l,player:e.player_name||"Draft Pick"}),x[l].given.push({year:s,round:o,pickNumber:e.pick||e.pick_no||"R".concat(o),toTeam:i(t,null),toOwnerId:t,player:e.player_name||"Draft Pick"}))}})}}catch(k){}}),O(g),C(v),D(x);try{window.localStorage.setItem("teamTransactionTotals",JSON.stringify(v))}catch(k){}try{const e=new CustomEvent("teamTransactionTotalsUpdated",{detail:v});window.dispatchEvent(e)}catch(k){}}catch(k){O([])}})()},[r,a,o,i,e,n,c]);const X=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return".000%"},$=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),Z=e=>{let{active:t,payload:n,label:l}=e;if(t&&n&&n.length){const e="string"===typeof l?parseInt(l):l,t=y.find(t=>parseInt(t.year)===e);let c=[];if(r&&a&&i&&o&&x){const t=Array.from(new Set(Object.keys(r.rostersBySeason).flatMap(e=>(r.rostersBySeason[e]||[]).map(e=>e.owner_id)))),n={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(r.matchupsBySeason).forEach(t=>{parseInt(t)<=e&&(n.matchupsBySeason[t]=r.matchupsBySeason[t],n.rostersBySeason[t]=r.rostersBySeason[t],n.leaguesMetadataBySeason[t]=r.leaguesMetadataBySeason[t],n.winnersBracketBySeason[t]=r.winnersBracketBySeason[t],n.losersBracketBySeason[t]=r.losersBracketBySeason[t],n.usersBySeason[t]=r.usersBySeason[t])});const{careerDPRData:a}=s(n,0,i,o);c=t.map(e=>{const t=a.find(t=>t.ownerId===e);return{ownerId:e,dpr:t?t.dpr:void 0,teamName:i(e,null)}})}const u={};c.forEach(e=>{u[e.ownerId]=e.dpr});const d=n.map(e=>{let n;if(c&&c.length>0){const t=c.find(t=>t.teamName===e.name);t&&(n=t.ownerId)}return{team:e.name,rank:t?t[e.name]:void 0,color:e.color,ownerId:n}});return d.sort((e,t)=>e.rank-t.rank),(0,K.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,K.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:"Year: ".concat(l)}),d.map((e,t)=>(0,K.jsx)("p",{style:{color:e.color},children:e.team},"item-".concat(t)))]})}return null},ee=x.length,te=[];for(let t=1;t<=ee;t++)te.push(t);const ne=()=>{const e=[...u];return e.sort((e,t)=>{let n=e[h],r=t[h];var a,s;if("team"===h)return n=(null===(a=n)||void 0===a?void 0:a.toLowerCase())||"",r=(null===(s=r)||void 0===s?void 0:s.toLowerCase())||"",n<r?"asc"===p?-1:1:n>r?"asc"===p?1:-1:0;if("seasons"===h){var o,i,l,c,u,d,m,f,g,y;const n=(null===(o=e.seasons)||void 0===o||null===(i=o.props)||void 0===i||null===(l=i.children)||void 0===l||null===(c=l[1])||void 0===c||null===(u=c.props)||void 0===u?void 0:u.children)||0,r=(null===(d=t.seasons)||void 0===d||null===(m=d.props)||void 0===m||null===(f=m.children)||void 0===f||null===(g=f[1])||void 0===g||null===(y=g.props)||void 0===y?void 0:y.children)||0;return"asc"===p?n-r:r-n}if("awards"===h){const n=e.awards||{},r=t.awards||{};return n.championships!==r.championships?"asc"===p?n.championships-r.championships:r.championships-n.championships:n.runnerUps!==r.runnerUps?"asc"===p?n.runnerUps-r.runnerUps:r.runnerUps-n.runnerUps:n.thirdPlace!==r.thirdPlace?"asc"===p?n.thirdPlace-r.thirdPlace:r.thirdPlace-n.thirdPlace:0}return n="string"===typeof n?parseFloat(n):n,r="string"===typeof r?parseFloat(r):r,isNaN(n)&&(n=0),isNaN(r)&&(r=0),"asc"===p?n-r:r-n}),e},re=e=>{if(!z||!H||!e.length)return e;const t=parseInt(z),n=parseInt(H);return e.filter(e=>{const r=parseInt(e.year);return r>=t&&r<=n})},ae=e=>e<=5?0:e<=10?1:e<=15?2:Math.floor(e/8);return(0,K.jsxs)("div",{className:"w-full max-w-5xl mx-auto p-2 sm:p-4 md:p-8 font-inter",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"League History & Awards"}),e?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"Loading league history data..."}):n?(0,K.jsx)("p",{className:"text-center text-red-500 font-semibold",children:n.message||String(n)}):0===u.length?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No historical matchup data found to display league history. Please check your Sleeper API configuration."}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3 mb-8",children:ne().map((e,t)=>{const n=l?l(e.ownerId,null):{name:e.team,avatar:void 0};return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-3 sm:p-4 border-l-4 border-blue-500",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),n.avatar&&(0,K.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-8 h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,K.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,K.jsx)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:e.team}),(0,K.jsxs)("p",{className:"text-xs text-gray-500",children:["Seasons: ",e.seasons]})]})]}),(0,K.jsxs)("div",{className:"text-right",children:[(0,K.jsx)("div",{className:"text-lg font-bold text-blue-800",children:$(e.totalDPR)}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Career DPR"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-2",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,K.jsx)("div",{className:"font-semibold",children:e.record})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Win %"}),(0,K.jsx)("div",{className:"font-semibold text-blue-700",children:X(e.winPercentage)})]})]}),(0,K.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.awards.championships>0&&(0,K.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,K.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,K.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,K.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,K.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,K.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})]},e.team)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg mb-8",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Seasons"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Awards"})]})}),(0,K.jsx)("tbody",{children:ne().map((e,t)=>{const n=l?l(e.ownerId,null):{name:e.team,avatar:void 0};return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[n.avatar&&(0,K.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm flex items-center gap-1",children:e.team})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.seasons}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:$(e.totalDPR)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.record}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:X(e.winPercentage)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:(0,K.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap",children:[e.awards.championships>0&&(0,K.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,K.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,K.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,K.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,K.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,K.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})})]},e.team)})})]})}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-100 mb-6 mt-4",children:[(0,K.jsx)("div",{className:"mb-3",children:(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Trade Partner Matrix (All time)"})}),E&&0!==E.length||u&&0!==u.length?(()=>{const e=new Set;E.forEach(t=>{e.add(String(t.ownerA)),e.add(String(t.ownerB))});const t=(u||[]).map(e=>String(e.ownerId)),n=Array.from(new Set([...t,...Array.from(e)])).filter(Boolean),r={};n.forEach(e=>{r[e]=i(e,null)});const a={};n.forEach(e=>{a[e]={},n.forEach(t=>{a[e][t]=0})}),E.forEach(e=>{const t=String(e.ownerA),n=String(e.ownerB);a[t]||(a[t]={}),a[n]||(a[n]={}),a[t][n]=e.count||0,a[n][t]=e.count||0});const s=E.reduce((e,t)=>Math.max(e,t.count||0),0)||1;return(0,K.jsx)("div",{className:"overflow-auto border rounded-md",style:{maxHeight:"420px"},children:(0,K.jsxs)("table",{className:"min-w-full text-xs table-fixed border-collapse",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"sticky left-0 top-0 bg-white z-30 border-b border-r px-2 py-2",style:{minWidth:"56px",maxWidth:"160px"}}),n.map(e=>(0,K.jsx)("th",{className:"py-1 px-1 text-center text-xs font-medium text-gray-800 border-b border-gray-200 bg-white sticky top-0",style:{minWidth:"72px",maxWidth:"140px"},children:(0,K.jsx)("div",{className:"whitespace-normal break-words text-xs font-medium text-gray-800 text-center",title:r[e],style:{lineHeight:"1.05"},children:r[e]})},"col-".concat(e)))]})}),(0,K.jsx)("tbody",{children:n.map((e,t)=>(0,K.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50 hover:bg-gray-100",children:[(0,K.jsx)("td",{className:"sticky left-0 bg-white z-20 border-r px-2 py-1 font-medium text-xs text-gray-800 text-center",style:{minWidth:"80px",maxWidth:"220px"},children:(0,K.jsx)("div",{className:"text-xs font-medium whitespace-normal break-words text-center",style:{lineHeight:"1.05",wordBreak:"break-word",overflowWrap:"anywhere"},title:r[e],children:r[e]})}),n.map(t=>{const n=e===t?null:a[e]&&a[e][t]?a[e][t]:0,r=n?(e=>{if(!e||0===e)return"";const t=Math.min(1,e/s),n=[235,248,255],r=[14,165,233],a=Math.round(n[0]+(r[0]-n[0])*t),o=Math.round(n[1]+(r[1]-n[1])*t),i=Math.round(n[2]+(r[2]-n[2])*t);return"rgb(".concat(a,", ").concat(o,", ").concat(i,")")})(n):void 0;return(0,K.jsx)("td",{className:"px-1 py-1 text-center border-b align-middle text-xs",style:{background:r},children:e===t?(0,K.jsx)("span",{className:"text-gray-400",children:"\u2014"}):(0,K.jsx)("span",{className:"font-semibold text-xs",style:{color:n?"#0b5f92":"#6b7280"},children:n})},"".concat(e,"-").concat(t))})]},"row-".concat(e)))})]})})})():(0,K.jsx)("div",{className:"text-sm text-gray-500",children:"No trade or team data available."})]}),(0,K.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Note: 2021 Yahoo league financial exports are not included."}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-100 mb-6 mt-2",children:[(0,K.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Waiver/FA & Trade Totals (All time)"}),T&&0!==T.length?(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full text-sm table-auto border-collapse",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"text-left px-2 py-2 border-b",children:"Team"}),(0,K.jsx)("th",{className:"text-center px-2 py-2 border-b",children:"Waiver/FA"}),(0,K.jsx)("th",{className:"text-center px-2 py-2 border-b",children:"Trades"})]})}),(0,K.jsx)("tbody",{children:T.map(e=>(0,K.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50 hover:bg-gray-100",children:[(0,K.jsx)("td",{className:"px-2 py-2 border-b text-sm font-medium",children:e.teamName}),(0,K.jsx)("td",{className:"px-2 py-2 border-b text-center font-semibold text-blue-700",children:e.pickups}),(0,K.jsx)("td",{className:"px-2 py-2 border-b text-center font-semibold text-blue-700 cursor-pointer hover:bg-blue-50 transition-colors",onClick:t=>{t.preventDefault(),t.stopPropagation(),L({ownerId:e.ownerId,teamName:e.teamName,draftPicks:M[e.ownerId]||{given:[],received:[]}}),B(!0)},title:"Click to view draft pick trade details",children:(0,K.jsxs)("span",{className:"flex items-center justify-center gap-1",children:[e.trades,(0,K.jsx)("i",{className:"fas fa-info-circle text-xs opacity-60 pointer-events-none"})]})})]},"tx-".concat(e.ownerId)))})]})}):(0,K.jsx)("div",{className:"text-sm text-gray-500",children:"No transaction summary data available."})]}),(0,K.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Note: 2021 Yahoo league financial exports are not included."}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season-by-Season Champions & Awards"}),Object.keys(w).length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:"sm:hidden space-y-3 mb-4",children:[(k?S:S.slice(0,8)).map(e=>{const t=w[e];return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 border-l-4 border-blue-500",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:e}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Awards"})]}),(0,K.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,K.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-1",children:[(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-yellow-500 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Champion"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.champion,children:t.champion})]})]}),(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-gray-400 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"2nd Place"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.secondPlace,children:t.secondPlace})]})]}),(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-amber-800 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"3rd Place"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.thirdPlace,children:t.thirdPlace})]})]})]}),(0,K.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-1",children:[(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-yellow-500 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points Champ"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.pointsChamp,children:t.pointsChamp})]})]}),(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-gray-400 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points 2nd"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.pointsSecond,children:t.pointsSecond})]})]}),(0,K.jsxs)("div",{className:"min-w-[140px] flex-shrink-0 flex items-start gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-amber-800 mt-1"}),(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points 3rd"}),(0,K.jsx)("div",{className:"font-medium truncate",title:t.pointsThird,children:t.pointsThird})]})]})]})]})]},"mobile-awards-".concat(e))}),S.length>8&&(0,K.jsx)("div",{className:"flex justify-center mt-2",children:(0,K.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>_(!k),children:k?"Show less":"Show all ".concat(S.length)})})]}),(0,K.jsxs)("div",{className:"hidden sm:block space-y-3 mb-4",children:[(k?S:S.slice(0,8)).map(e=>{const t=w[e];return(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-3 border-l-4 border-blue-500",children:(0,K.jsxs)("div",{className:"flex items-start gap-4",children:[(0,K.jsx)("div",{className:"w-20 flex-shrink-0 text-sm font-semibold text-gray-800 mt-1",children:e}),(0,K.jsxs)("div",{className:"flex-1",children:[(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-6 mb-2",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Champion"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.champion,children:t.champion})]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-gray-400 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"2nd Place"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.secondPlace,children:t.secondPlace})]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-amber-800 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"3rd Place"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.thirdPlace,children:t.thirdPlace})]})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-yellow-500 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points Champ"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.pointsChamp,children:t.pointsChamp})]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-gray-400 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points 2nd"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.pointsSecond,children:t.pointsSecond})]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("i",{className:"fas fa-medal text-amber-800 text-sm"}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"Points 3rd"}),(0,K.jsx)("div",{className:"text-sm font-medium truncate",title:t.pointsThird,children:t.pointsThird})]})]})]})]})]})},"desktop-awards-".concat(e))}),S.length>8&&(0,K.jsx)("div",{className:"flex justify-center mt-2",children:(0,K.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>_(!k),children:k?"Show less":"Show all ".concat(S.length)})})]})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No season-by-season award data available."})]}),(P.length>0||y.length>0)&&W.length>5&&(0,K.jsx)("section",{className:"mb-6",children:(0,K.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,K.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Chart Display Options"}),(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-start sm:items-center",children:[(0,K.jsx)("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Show seasons:"}),(0,K.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,K.jsx)("select",{value:z,onChange:e=>V(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:W.map(e=>(0,K.jsx)("option",{value:e,children:e},e))}),(0,K.jsx)("span",{className:"text-gray-500",children:"to"}),(0,K.jsx)("select",{value:H,onChange:e=>G(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:W.map(e=>(0,K.jsx)("option",{value:e,children:e},e))})]})]}),(0,K.jsxs)("div",{className:"flex gap-2",children:[(0,K.jsx)("button",{onClick:()=>{if(W.length>0){const e=W.slice(-5);V(e[0]),G(e[e.length-1])}},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors",children:"Last 5 seasons"}),(0,K.jsx)("button",{onClick:()=>{W.length>0&&(V(W[0]),G(W[W.length-1]))},className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 transition-colors",children:"All seasons"})]})]}),(0,K.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:W.length>10&&"Tip: Use season filters for better mobile viewing with many seasons"})]})}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Average Matchup Score by Season"}),(0,K.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Team yearly average scores over time. Shows highest and lowest team season averages with overall league average."}),P.length>0?(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsx)("div",{className:"sm:hidden",children:(0,K.jsx)("div",{className:"w-full",style:{height:"300px",minHeight:"300px"},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:300,children:(0,K.jsxs)(CO,{data:re(P),margin:{top:20,right:15,left:15,bottom:20},children:[(0,K.jsx)($O,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,K.jsx)(wO,{dataKey:"year",tick:{fontSize:10},interval:ae(re(P).length),angle:-45,textAnchor:"end",height:50}),(0,K.jsx)(TO,{label:{value:"Avg Points",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"10px"}},domain:["dataMin - 5","dataMax + 5"],tick:{fontSize:10},width:40}),(0,K.jsx)(Th,{content:(0,K.jsx)(Q,{})}),(0,K.jsx)(lf,{wrapperStyle:{fontSize:"11px"},iconSize:8}),(0,K.jsx)(pE,{type:"monotone",dataKey:"highest",stroke:"#10B981",strokeWidth:2,dot:{r:2,fill:"#10B981"},name:"Highest Avg"}),(0,K.jsx)(pE,{type:"monotone",dataKey:"lowest",stroke:"#EF4444",strokeWidth:2,dot:{r:2,fill:"#EF4444"},name:"Lowest Avg"}),(0,K.jsx)(pE,{type:"monotone",dataKey:"average",stroke:"#3B82F6",strokeWidth:3,dot:{r:3,fill:"#3B82F6",strokeWidth:2,stroke:"#FFF"},activeDot:{r:5,stroke:"#3B82F6",strokeWidth:2,fill:"#FFF"},name:"League Avg"})]})})})}),(0,K.jsx)("div",{className:"hidden sm:block",children:(0,K.jsx)(Od,{width:"100%",aspect:2.5,children:(0,K.jsxs)(CO,{data:re(P),margin:{top:20,right:30,left:20,bottom:5},children:[(0,K.jsx)($O,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,K.jsx)(wO,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:-5},tick:{fontSize:12}}),(0,K.jsx)(TO,{label:{value:"Avg Points",angle:-90,position:"insideLeft",offset:0},domain:["dataMin - 5","dataMax + 5"],tick:{fontSize:12}}),(0,K.jsx)(Th,{content:(0,K.jsx)(Q,{})}),(0,K.jsx)(lf,{}),(0,K.jsx)(pE,{type:"monotone",dataKey:"highest",stroke:"#10B981",strokeWidth:2,dot:{r:3,fill:"#10B981"},name:"Highest Team Avg"}),(0,K.jsx)(pE,{type:"monotone",dataKey:"lowest",stroke:"#EF4444",strokeWidth:2,dot:{r:3,fill:"#EF4444"},name:"Lowest Team Avg"}),(0,K.jsx)(pE,{type:"monotone",dataKey:"average",stroke:"#3B82F6",strokeWidth:3,dot:{r:4,fill:"#3B82F6",strokeWidth:2,stroke:"#FFF"},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2,fill:"#FFF"},name:"League Average"})]})})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No average score data available for charting."})]}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Total DPR Progression Over Seasons"}),y.length>0?(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsx)("div",{className:"sm:hidden",children:(0,K.jsx)("div",{className:"w-full",style:{height:"350px",minHeight:"350px"},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:350,children:(0,K.jsxs)(JO,{data:re(y),margin:{top:20,right:5,left:5,bottom:40},children:[(0,K.jsx)($O,{strokeDasharray:"3 3"}),(0,K.jsx)(wO,{dataKey:"year",tick:{fontSize:10},interval:ae(re(y).length),angle:-45,textAnchor:"end",height:50}),(0,K.jsx)(TO,{label:{value:"Rank",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"10px"}},domain:[1,ee],tickFormatter:e=>"#".concat(e),ticks:te,reversed:!0,allowDataOverflow:!0,padding:{top:10,bottom:10},tick:{fontSize:10},width:30}),(0,K.jsx)(Th,{content:(0,K.jsx)(Z,{})}),(0,K.jsx)(lf,{wrapperStyle:{fontSize:"10px"},iconSize:6,layout:"horizontal",align:"center",verticalAlign:"bottom",height:36}),x.map((e,t)=>(0,K.jsx)(pE,{type:"monotone",dataKey:e,stroke:Y[t%Y.length],activeDot:{r:5},dot:{r:2},strokeWidth:2},e))]})})})}),(0,K.jsx)("div",{className:"hidden sm:block",children:(0,K.jsx)(Od,{width:"100%",aspect:1.5,children:(0,K.jsxs)(JO,{data:re(y),margin:{top:20,right:10,left:10,bottom:5},children:[(0,K.jsx)($O,{strokeDasharray:"3 3"}),(0,K.jsx)(wO,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:0}}),(0,K.jsx)(TO,{label:{value:"Rank (1 = Best)",angle:-90,position:"insideLeft",offset:0},domain:[1,ee],tickFormatter:e=>"#".concat(e),ticks:te,reversed:!0,allowDataOverflow:!0,padding:{top:10,bottom:10}}),(0,K.jsx)(Th,{content:(0,K.jsx)(Z,{})}),(0,K.jsx)(lf,{}),x.map((e,t)=>(0,K.jsx)(pE,{type:"monotone",dataKey:e,stroke:Y[t%Y.length],activeDot:{r:8},dot:{r:4},strokeWidth:2},e))]})})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No total DPR progression data available for charting."})]})]}),F&&R&&(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,K.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:["Draft Pick Trades - ",R.teamName]}),(0,K.jsx)("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\xd7"})]}),(0,K.jsxs)("div",{className:"flex flex-col",style:{maxHeight:"calc(90vh - 160px)"},children:[(0,K.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",style:{maxHeight:"calc(90vh - 240px)"},children:(0,K.jsx)("div",{className:"p-6",children:(()=>{const e={},t={};R.draftPicks.given.forEach(t=>{const n=t.round||"Unknown";e[n]||(e[n]=0),e[n]++}),R.draftPicks.received.forEach(e=>{const n=e.round||"Unknown";t[n]||(t[n]=0),t[n]++});const n=new Set([...Object.keys(e),...Object.keys(t)]),r=Array.from(n).sort((e,t)=>"Unknown"===e?1:"Unknown"===t?-1:parseInt(e)-parseInt(t));return(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Draft Pick Trades by Round"}),(0,K.jsx)("div",{className:"border border-gray-200 rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600 border-b",children:"Round"}),(0,K.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-red-600 border-b",children:"Picks Given Away"}),(0,K.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-green-600 border-b",children:"Picks Received"}),(0,K.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-600 border-b",children:"Net"})]})}),(0,K.jsxs)("tbody",{children:[r.map((n,r)=>{const a=e[n]||0,s=t[n]||0,o=s-a;return(0,K.jsxs)("tr",{className:r%2===0?"bg-white":"bg-gray-50",children:[(0,K.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-gray-800 border-b",children:["Round ",n]}),(0,K.jsx)("td",{className:"px-4 py-3 text-center text-sm font-semibold text-red-600 border-b",children:a>0?a:"-"}),(0,K.jsx)("td",{className:"px-4 py-3 text-center text-sm font-semibold text-green-600 border-b",children:s>0?s:"-"}),(0,K.jsxs)("td",{className:"px-4 py-3 text-center text-sm font-semibold border-b ".concat(o>0?"text-green-600":o<0?"text-red-600":"text-gray-500"),children:[o>0?"+":"",0!==o?o:"0"]})]},n)}),0===r.length&&(0,K.jsx)("tr",{children:(0,K.jsx)("td",{colSpan:"4",className:"px-4 py-6 text-center text-gray-500 italic",children:"No draft pick trades found for this team"})})]})]})}),(0,K.jsx)("div",{className:"h-4"})]})})()})}),(0,K.jsxs)("div",{className:"flex-shrink-0 px-6 py-4 bg-blue-50 border-t border-blue-200",style:{minHeight:"120px"},children:[(0,K.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Overall Summary"}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)("div",{className:"text-red-600 font-medium text-xs mb-1",children:"Total Given"}),(0,K.jsx)("div",{className:"text-xl font-bold text-red-600",children:R.draftPicks.given.length})]}),(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)("div",{className:"text-green-600 font-medium text-xs mb-1",children:"Total Received"}),(0,K.jsx)("div",{className:"text-xl font-bold text-green-600",children:R.draftPicks.received.length})]}),(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)("div",{className:"font-medium text-gray-700 text-xs mb-1",children:"Net Balance"}),(0,K.jsxs)("div",{className:"text-xl font-bold ".concat(R.draftPicks.received.length-R.draftPicks.given.length>0?"text-green-600":R.draftPicks.received.length-R.draftPicks.given.length<0?"text-red-600":"text-gray-600"),children:[R.draftPicks.received.length-R.draftPicks.given.length>0?"+":"",R.draftPicks.received.length-R.draftPicks.given.length]})]})]})]})]})]})})]})},eI=e=>"Waiver/FA Fee"===e.category&&Array.isArray(e.team)||"Trade Fee"===e.category&&Array.isArray(e.team)?Number(e.amount||0)*Number(e.quantity||1)*e.team.length:Number(e.amount||0),tI=(e,t)=>{if(!e||!Array.isArray(e)||!t)return{tradeFees:0,waiverFees:0,totalTransactions:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&(e.team.includes(t)&&"Fee"===e.type)),r=n.filter(e=>"Trade Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0),a=n.filter(e=>"Waiver/FA Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0);return{tradeFees:r,waiverFees:a,totalTransactions:r+a}},nI=(e,t)=>{if(!e||!Array.isArray(e)||!t)return{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&e.team.includes(t));const r=n.filter(e=>"Fee"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+eI(t)/n},0),a=n.filter(e=>"Payout"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+Number(t.amount||0)/n},0),s=a-r;return{totalFees:r,totalPayouts:a,netTotal:s,transactionCount:n.length}},rI=e=>"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toFixed(2)),aI=()=>{var e;const{historicalData:n,allDraftHistory:r,getTeamName:a,getTeamDetails:o,currentSeason:i,loading:l,error:c,nflState:d}=J(),[h,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[w,j]=(0,t.useState)(!0),[S,N]=(0,t.useState)({}),[k,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=window.localStorage.getItem("teamTransactionTotals");if(e)try{A(JSON.parse(e))}catch(n){A([])}const t=e=>{try{e&&e.detail&&A(e.detail)}catch(t){}};return window.addEventListener("teamTransactionTotalsUpdated",t),()=>window.removeEventListener("teamTransactionTotalsUpdated",t)},[]);const[E,O]=(0,t.useState)(null),[I,T]=(0,t.useState)(null),[C,M]=(0,t.useState)({}),D={highestDPR:{decimals:3,type:"decimal"},lowestDPR:{decimals:3,type:"decimal"},bestLuck:{decimals:3,type:"decimal"},worstLuck:{decimals:3,type:"decimal"},mostWins:{decimals:0,type:"count"},mostLosses:{decimals:0,type:"count"},bestWinPct:{decimals:3,type:"percentage"},bestAllPlayWinPct:{decimals:3,type:"percentage"},mostWeeklyHighScores:{decimals:0,type:"count"},mostWeeklyTop2Scores:{decimals:0,type:"count"},mostWinningSeasons:{decimals:0,type:"count"},mostLosingSeasons:{decimals:0,type:"count"},mostBlowoutWins:{decimals:0,type:"count"},mostBlowoutLosses:{decimals:0,type:"count"},mostSlimWins:{decimals:0,type:"count"},mostSlimLosses:{decimals:0,type:"count"},mostTotalPoints:{decimals:2,type:"points"},mostPointsAgainst:{decimals:2,type:"points"},mostTrades:{decimals:0,type:"count"},mostWaivers:{decimals:0,type:"count"},highestPointsShare:{decimals:2,type:"percentage"},lowestPointsShare:{decimals:2,type:"percentage"},mostPointsChampionships:{decimals:0,type:"count"},mostRegularSeasonTitles:{decimals:0,type:"count"}},R=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t>e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==-1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},L=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t<e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},F=e=>{b(t=>u(u({},t),{},{[e]:!t[e]}))},B=(e,t,n)=>{const r=(e=>{const t={},n=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e[t]})).filter(e=>void 0!==e.value&&null!==e.value).sort((e,t)=>n?t.value-e.value:e.value-t.value).slice(0,5)};return t.highestDPR=n("dpr",!0),t.lowestDPR=n("dpr",!1),t.mostWins=n("wins",!0),t.mostLosses=n("losses",!0),t.bestWinPct=n("winPercentage",!0),t.bestAllPlayWinPct=n("allPlayWinPercentage",!0),t.mostWeeklyHighScores=n("topScoreWeeksCount",!0),t.mostWeeklyTop2Scores=n("weeklyTop2ScoresCount",!0),t.mostBlowoutWins=n("blowoutWins",!0),t.mostBlowoutLosses=n("blowoutLosses",!0),t.mostSlimWins=n("slimWins",!0),t.mostSlimLosses=n("slimLosses",!0),t.mostTotalPoints=n("pointsFor",!0),t.mostPointsAgainst=n("pointsAgainst",!0),t.highestPointsShare=n("highestPointsShare",!0),t.lowestPointsShare=n("lowestPointsShare",!1),t.mostPointsChampionships=n("mostPointsTitles",!0),t.mostRegularSeasonTitles=n("regularSeasonTitles",!0),t.bestLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>t.value-e.value).slice(0,5),t.worstLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>e.value-t.value).slice(0,5),e.map(e=>({name:e.teamName,ownerId:e.ownerId,winningSeasons:0,losingSeasons:0})),t})(e);e.forEach(e=>{const r=e.ownerId;let a=0,s=0;if(Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?a++:n.winPercentage<.5&&s++)}),e.winningSeasonsCount=a,e.losingSeasonsCount=s,Object.keys(n).length>0){const t=((e,t)=>{if(!e||!t)return{careerTradeFees:0,careerWaiverFees:0,careerTotalTransactions:0};let n=0,r=0;return Object.keys(e).forEach(a=>{if(e[a]&&e[a].transactions){const s=tI(e[a].transactions,t);n+=s.tradeFees,r+=s.waiverFees}}),{careerTradeFees:n,careerWaiverFees:r,careerTotalTransactions:n+r}})(n,r);e.careerTradeFees=t.careerTradeFees,e.careerWaiverFees=t.careerWaiverFees,f.A.debug("Transaction counts for ".concat(e.teamName,":"),t)}else e.careerTradeFees=0,e.careerWaiverFees=0}),r.mostWinningSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.winningSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostLosingSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.losingSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),P&&P.length>0?(r.mostTrades=[...P].map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.trades})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostWaivers=[...P].map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.pickups})).sort((e,t)=>t.value-e.value).slice(0,5)):(r.mostTrades=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerTradeFees})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostWaivers=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerWaiverFees})).sort((e,t)=>t.value-e.value).slice(0,5)),r.highestPointsShare=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.pointsShare})).filter(e=>"number"===typeof e.value&&e.value>0).sort((e,t)=>t.value-e.value).slice(0,5),r.lowestPointsShare=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.pointsShare})).filter(e=>"number"===typeof e.value&&e.value>0).sort((e,t)=>e.value-t.value).slice(0,5),v(r);let a={value:-1/0,teams:[],key:"highestDPR"},s={value:1/0,teams:[],key:"lowestDPR"},o={value:-1/0,teams:[],key:"mostWins"},i={value:-1/0,teams:[],key:"mostLosses"},l={value:-1/0,teams:[],key:"bestWinPct"},c={value:-1/0,teams:[],key:"bestAllPlayWinPct"},u={value:-1/0,teams:[],key:"mostWeeklyHighScores"},d={value:-1/0,teams:[],key:"mostWeeklyTop2Scores"},h={value:-1/0,teams:[],key:"mostWinningSeasons"},p={value:-1/0,teams:[],key:"mostLosingSeasons"},g={value:-1/0,teams:[],key:"mostBlowoutWins"},y={value:-1/0,teams:[],key:"mostBlowoutLosses"},x={value:-1/0,teams:[],key:"mostSlimWins"},b={value:-1/0,teams:[],key:"mostSlimLosses"},w={value:-1/0,teams:[],key:"mostTotalPoints"},j={value:-1/0,teams:[],key:"mostPointsAgainst"},S={value:-1/0,teams:[],key:"bestLuck"},N={value:1/0,teams:[],key:"worstLuck"},k={value:-1/0,teams:[],key:"mostTrades"},_={value:-1/0,teams:[],key:"mostWaivers"},A={value:-1/0,teams:[],key:"highestPointsShare"},E={value:1/0,teams:[],key:"lowestPointsShare"},O={value:-1/0,teams:[],key:"mostPointsChampionships"},I={value:-1/0,teams:[],key:"mostRegularSeasonTitles"};if(e.forEach(e=>{const n=e.teamName,r=e.ownerId;0!==e.dpr&&(R(a,e.dpr,{name:n,value:e.dpr,ownerId:r}),L(s,e.dpr,{name:n,value:e.dpr,ownerId:r})),"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||(R(S,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r}),L(N,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r})),"number"===typeof e.pointsShare&&e.pointsShare>0&&(R(A,e.pointsShare,{name:n,value:e.pointsShare,ownerId:r}),L(E,e.pointsShare,{name:n,value:e.pointsShare,ownerId:r})),e.totalGames>0&&(R(o,e.wins,{name:n,value:e.wins,ownerId:r}),R(i,e.losses,{name:n,value:e.losses,ownerId:r}),R(l,e.winPercentage,{name:n,value:e.winPercentage,ownerId:r}),R(w,e.pointsFor,{name:n,value:e.pointsFor,ownerId:r}),R(j,e.pointsAgainst,{name:n,value:e.pointsAgainst,ownerId:r}),R(g,e.blowoutWins,{name:n,value:e.blowoutWins,ownerId:r}),R(y,e.blowoutLosses,{name:n,value:e.blowoutLosses,ownerId:r}),R(x,e.slimWins,{name:n,value:e.slimWins,ownerId:r}),R(b,e.slimLosses,{name:n,value:e.slimLosses,ownerId:r}),R(d,e.weeklyTop2ScoresCount,{name:n,value:e.weeklyTop2ScoresCount,ownerId:r}),R(u,e.topScoreWeeksCount,{name:n,value:e.topScoreWeeksCount,ownerId:r}),R(c,e.allPlayWinPercentage,{name:n,value:e.allPlayWinPercentage,ownerId:r})),void 0!==e.highestPointsShare&&e.highestPointsShare>0&&R(A,e.highestPointsShare,{name:n,value:e.highestPointsShare,ownerId:r}),void 0!==e.lowestPointsShare&&e.lowestPointsShare<100&&L(E,e.lowestPointsShare,{name:n,value:e.lowestPointsShare,ownerId:r}),R(O,e.mostPointsTitles||0,{name:n,value:e.mostPointsTitles||0,ownerId:r}),R(I,e.regularSeasonTitles||0,{name:n,value:e.regularSeasonTitles||0,ownerId:r});let m=0,f=0;Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?m++:n.winPercentage<.5&&f++)}),R(h,m,{name:n,value:m,ownerId:r}),R(p,f,{name:n,value:f,ownerId:r})}),P&&P.length>0){var T,C;const e=[...P].sort((e,t)=>t.trades-e.trades),t=[...P].sort((e,t)=>t.pickups-e.pickups);k.value=(null===(T=e[0])||void 0===T?void 0:T.trades)||0,k.teams=e.filter(e=>e.trades===k.value).map(e=>({name:e.teamName,value:e.trades,ownerId:e.ownerId})),_.value=(null===(C=t[0])||void 0===C?void 0:C.pickups)||0,_.teams=t.filter(e=>e.pickups===_.value).map(e=>({name:e.teamName,value:e.pickups,ownerId:e.ownerId}))}else e.forEach(e=>{const t=e.teamName,n=e.ownerId;R(k,e.careerTradeFees||0,{name:t,value:e.careerTradeFees||0,ownerId:n}),R(_,e.careerWaiverFees||0,{name:t,value:e.careerWaiverFees||0,ownerId:n})});m({highestDPR:a,lowestDPR:s,bestLuck:S,worstLuck:N,mostWins:o,mostLosses:i,bestWinPct:l,bestAllPlayWinPct:c,mostWeeklyHighScores:u,mostWeeklyTop2Scores:d,mostWinningSeasons:h,mostLosingSeasons:p,mostBlowoutWins:g,mostBlowoutLosses:y,mostSlimWins:x,mostSlimLosses:b,mostTotalPoints:w,mostPointsAgainst:j,mostTrades:k,mostWaivers:_,highestPointsShare:A,lowestPointsShare:E,mostPointsChampionships:O,mostRegularSeasonTitles:I})};if((0,t.useEffect)(()=>{if(j(!0),l||c||!n||!n.matchupsBySeason||0===Object.keys(n.matchupsBySeason).length||!d)return m({}),g({}),void j(!1);try{const{seasonalMetrics:e,careerDPRData:t}=s(n,0,a,d),r=(e=>{const t={};if(!e||0===Object.keys(e).length)return t;try{["highestDPR","lowestDPR","bestLuck","worstLuck","mostWins","mostLosses","bestWinPct","bestAllPlayWinPct","mostWeeklyHighScores","mostWeeklyTop2Scores","mostWinningSeasons","mostLosingSeasons","mostBlowoutWins","mostBlowoutLosses","mostSlimWins","mostSlimLosses","mostTotalPoints","mostPointsAgainst","mostTrades","mostWaivers","mostPointsChampionships","mostRegularSeasonTitles"].forEach(e=>{t[e]={currentValue:null,currentHolders:[],allTimeHolders:[],recordHistory:[]}})}catch(n){f.A.warn("Failed to build minimal record history:",n)}return t})(e);g(r),_(!0);const o=Object.keys(n.matchupsBySeason||{}),i=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.A.debug("League Records: Processing with financial data for",Object.keys(n).length,"years"),N(n),_(!1),O(t),T(e),M(n),B(t,e,n),j(!1)};o.length>0?xu(o).then(i).catch(e=>{f.A.warn("Could not load financial data for transaction counts:",e),i({})}):i({})}catch(c){f.A.error("Error calculating league records:",c),m({}),g({}),j(!1)}},[n,r,a,l,c,d]),(0,t.useEffect)(()=>{E&&I&&B(E,I,C||{})},[P]),w)return(0,K.jsx)("div",{className:"text-center py-8",children:"Loading all-time league records..."});if(0===Object.keys(h).length||(null===(e=h.highestDPR)||void 0===e?void 0:e.value)===-1/0)return(0,K.jsx)("div",{className:"text-center py-8",children:"No historical data available to calculate all-time records."});const W=e=>{if(e.ownerId)return a(e.ownerId,null);if(e.rosterId&&e.year){var t,r;const s=null===(t=n.rostersBySeason)||void 0===t||null===(r=t[e.year])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.rosterId));if(null!==s&&void 0!==s&&s.owner_id)return a(s.owner_id,null)}return"Unknown Team"},U=(e,t)=>{const n=D[e]||{decimals:2,type:"default"};return"percentage"===n.type?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals})+"%":t.value.toLocaleString("en-US",{minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals})};return(0,K.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,K.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,K.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udf0d"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time League Records"}),(0,K.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Career-spanning achievements and historical league data."})]})]})}),(0,K.jsx)("div",{className:"sm:hidden space-y-3 mb-4",children:Object.entries(h).map(e=>{let[t,n]=e;const r=t.replace(/([A-Z])/g," $1").trim(),a=r.charAt(0).toUpperCase()+r.slice(1),s=y[t]||[],o=!!x[t];if(!n||n.value===-1/0||n.value===1/0||!n.teams||0===n.teams.length)return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:a}),(0,K.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"No data available"})]}),s.length>0&&(0,K.jsx)("button",{onClick:()=>F(t),"aria-label":"".concat(o?"Hide":"Show"," top 5 for ").concat(a),className:"p-1 rounded-md hover:bg-gray-100 flex-shrink-0",children:(0,K.jsx)("svg",{className:"w-4 h-4 text-gray-600 transition-transform ".concat(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),o&&s.length>0&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:s.map((e,n)=>(0,K.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("div",{className:"w-6 h-6 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold",children:n+1}),(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:U(t,{value:e.value})})]},n))})]},t);const i=U(t,n);return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:a}),n.teams.length>0&&(0,K.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:n.teams.map((e,t)=>(0,K.jsx)("div",{className:t>0?"mt-1":"",children:(0,K.jsx)("span",{className:"font-medium",children:W(e)})},t))})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-green-100 to-teal-100 border border-green-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:i})}),s.length>0&&(0,K.jsx)("button",{onClick:()=>F(t),"aria-label":"".concat(o?"Hide":"Show"," top 5 for ").concat(a),className:"p-1 rounded-md hover:bg-gray-100 flex-shrink-0",children:(0,K.jsx)("svg",{className:"w-4 h-4 text-gray-600 transition-transform ".concat(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o&&s.length>0&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:s.map((e,n)=>(0,K.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("div",{className:"w-6 h-6 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold",children:n+1}),(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:U(t,{value:e.value})})]},n))})]},t)})}),(0,K.jsx)("div",{className:"hidden sm:block bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-100",children:Object.entries(h).map((e,n)=>{let[r,a]=e;const s=D[a.key]||{decimals:2,type:"default"},o=()=>{let e=a.key.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};if(!a||a.value===-1/0||a.value===1/0||!a.teams||0===a.teams.length)return(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()})})}),(0,K.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]},r);const i=y[a.key]||[],l=x[a.key];return(0,K.jsxs)(t.Fragment,{children:[(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()}),i.length>0&&(0,K.jsx)("button",{onClick:()=>F(a.key),className:"text-blue-600 hover:text-blue-800 transition-colors",children:(0,K.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-teal-100 border border-green-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*a.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":a.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:a.teams.map((e,t)=>(0,K.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,K.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:W(e)})},t))})})]}),l&&i.length>0&&(0,K.jsx)("tr",{className:"bg-blue-50/50",children:(0,K.jsx)("td",{colSpan:"3",className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsxs)("div",{className:"bg-white rounded-lg p-3 sm:p-4 border border-blue-200",children:[(0,K.jsx)("h4",{className:"font-semibold text-gray-800 text-xs sm:text-sm mb-3",children:"Top 5 Rankings"}),(0,K.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("span",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,K.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm",children:e.name})]}),(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*e.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":e.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})]},t))})]})})})]},r)})})]})})})]})},sI=()=>{const{processedSeasonalRecords:e,getTeamName:n,loading:r,error:a}=J(),[s,o]=(0,t.useState)(()=>({mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"mostPointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"fewestPointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"bestLuckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"worstLuckRating"},highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"},highestPointsShareSeason:{value:-1/0,entries:[],key:"seasonalHighestPointsShare"},lowestPointsShareSeason:{value:1/0,entries:[],key:"seasonalLowestPointsShare"}})),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[h,m]=(0,t.useState)({}),[p,g]=(0,t.useState)(!1),y=e=>{l(t=>u(u({},t),{},{[e]:!t[e]}))},v=(e,t)=>{if("bestLuckRating"===e||"worstLuckRating"===e)return t.value>0?"Best Luck Rating":"Worst Luck Rating";if("mostPointsFor"===e||"fewestPointsFor"===e)return t.value>0?"Most Points For":"Fewest Points For";if("highestDPR"===e)return"Highest Season DPR";if("lowestDPR"===e)return"Lowest Season DPR";if("tradeCount"===e)return"Most Trades in a Season";if("waiverCount"===e)return"Most FA/Waivers in a Season";if("seasonalHighestPointsShare"===e)return"Highest Points Share";if("seasonalLowestPointsShare"===e)return"Lowest Points Share";const n=e.replace(/Season$/,"").replace(/([A-Z])/g," $1").trim();return n.charAt(0).toUpperCase()+n.slice(1)};if((0,t.useEffect)(()=>{if(r||a||!e||0===Object.keys(e).length)return o({highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"mostPointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"fewestPointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"bestLuckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"worstLuckRating"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"},highestPointsShareSeason:{value:-1/0,entries:[],key:"seasonalHighestPointsShare"},lowestPointsShareSeason:{value:1/0,entries:[],key:"seasonalLowestPointsShare"}}),void d({});const t={mostWinsSeason:[],mostLossesSeason:[],bestWinPctSeason:[],bestAllPlayWinPctSeason:[],mostWeeklyHighScoresSeason:[],mostWeeklyTop2ScoresSeason:[],mostBlowoutWinsSeason:[],mostBlowoutLossesSeason:[],mostSlimWinsSeason:[],mostSlimLossesSeason:[],mostPointsSeason:[],fewestPointsSeason:[],bestLuckRatingSeason:[],worstLuckRatingSeason:[],highestDPRSeason:[],lowestDPRSeason:[],mostTradesSeason:[],mostWaiversSeason:[],highestPointsShareSeason:[],lowestPointsShareSeason:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),e);let l={value:-1/0,entries:[],key:"highestDPR"},c={value:1/0,entries:[],key:"lowestDPR"},h={value:-1/0,entries:[],key:"wins"},p={value:-1/0,entries:[],key:"losses"},y={value:-1/0,entries:[],key:"winPercentage"},v={value:-1/0,entries:[],key:"allPlayWinPercentage"},x={value:-1/0,entries:[],key:"topScoreWeeksCount"},b={value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},w={value:-1/0,entries:[],key:"blowoutWins"},j={value:-1/0,entries:[],key:"blowoutLosses"},S={value:-1/0,entries:[],key:"slimWins"},N={value:1/0,entries:[],key:"slimLosses"},k={value:-1/0,entries:[],key:"mostPointsFor"},_={value:1/0,entries:[],key:"fewestPointsFor"},P={value:-1/0,entries:[],key:"bestLuckRating"},A={value:1/0,entries:[],key:"worstLuckRating"},E={value:-1/0,entries:[],key:"tradeCount"},O={value:-1/0,entries:[],key:"waiverCount"},I={value:-1/0,entries:[],key:"seasonalHighestPointsShare"},T={value:1/0,entries:[],key:"seasonalLowestPointsShare"};const C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)))};g(!0);const M=Object.keys(i),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.A.debug("Season Records: Processing with financial data for",Object.keys(e).length,"years"),m(e),g(!1),Object.keys(i).forEach(t=>{const r=i[t];if(!r||"object"!==typeof r)return;Object.values(r).forEach(r=>{if(!r||"object"!==typeof r||!r.rosterId||!r.ownerId)return;if(0===r.totalGames)return;const a={teamName:n(r.ownerId,t),year:t,ownerId:r.ownerId,rosterId:r.rosterId};if(e[t]&&e[t].transactions){const n=tI(e[t].transactions,r.ownerId),o=n.tradeFees,i=n.waiverFees;"number"===typeof o&&o>=0&&(C(E,o,u(u({},a),{},{value:o})),s("mostTradesSeason",o,u(u({},a),{},{value:o}))),"number"===typeof i&&i>=0&&(C(O,i,u(u({},a),{},{value:i})),s("mostWaiversSeason",i,u(u({},a),{},{value:i})))}"number"===typeof r.wins&&(C(h,r.wins,u(u({},a),{},{value:r.wins})),s("mostWinsSeason",r.wins,u(u({},a),{},{value:r.wins}))),"number"===typeof r.losses&&(C(p,r.losses,u(u({},a),{},{value:r.losses})),s("mostLossesSeason",r.losses,u(u({},a),{},{value:r.losses}))),"number"===typeof r.winPercentage&&(C(y,r.winPercentage,u(u({},a),{},{value:r.winPercentage})),s("bestWinPctSeason",r.winPercentage,u(u({},a),{},{value:r.winPercentage}))),"number"===typeof r.allPlayWinPercentage&&(C(v,r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage})),s("bestAllPlayWinPctSeason",r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage}))),"number"===typeof r.topScoreWeeksCount&&(C(x,r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount})),s("mostWeeklyHighScoresSeason",r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount}))),"number"===typeof r.weeklyTop2ScoresCount&&(C(b,r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount})),s("mostWeeklyTop2ScoresSeason",r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount}))),"number"===typeof r.blowoutWins&&(C(w,r.blowoutWins,u(u({},a),{},{value:r.blowoutWins})),s("mostBlowoutWinsSeason",r.blowoutWins,u(u({},a),{},{value:r.blowoutWins}))),"number"===typeof r.blowoutLosses&&(C(j,r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses})),s("mostBlowoutLossesSeason",r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses}))),"number"===typeof r.slimWins&&(C(S,r.slimWins,u(u({},a),{},{value:r.slimWins})),s("mostSlimWinsSeason",r.slimWins,u(u({},a),{},{value:r.slimWins}))),"number"===typeof r.slimLosses&&(C(N,r.slimLosses,u(u({},a),{},{value:r.slimLosses})),s("mostSlimLossesSeason",r.slimLosses,u(u({},a),{},{value:r.slimLosses}))),"number"===typeof r.pointsFor&&(C(k,r.pointsFor,u(u({},a),{},{value:r.pointsFor})),C(_,r.pointsFor,u(u({},a),{},{value:r.pointsFor}),!0),s("mostPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor})),s("fewestPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor}))),"number"!==typeof r.luckRating||isNaN(r.luckRating)||(C(P,r.luckRating,u(u({},a),{},{value:r.luckRating})),C(A,r.luckRating,u(u({},a),{},{value:r.luckRating}),!0),s("bestLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating})),s("worstLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating}))),"number"!==typeof r.adjustedDPR||isNaN(r.adjustedDPR)||(C(l,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),C(c,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR}),!0),s("highestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),s("lowestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR}))),"number"!==typeof r.seasonalPointsShare||isNaN(r.seasonalPointsShare)||(s("highestPointsShareSeason",r.seasonalPointsShare,u(u({},a),{},{value:r.seasonalPointsShare})),s("lowestPointsShareSeason",r.seasonalPointsShare,u(u({},a),{},{value:r.seasonalPointsShare}))),"number"!==typeof r.seasonalHighestPointsShare||isNaN(r.seasonalHighestPointsShare)||C(I,r.seasonalHighestPointsShare,u(u({},a),{},{value:r.seasonalHighestPointsShare})),"number"!==typeof r.seasonalLowestPointsShare||isNaN(r.seasonalLowestPointsShare)||C(T,r.seasonalLowestPointsShare,u(u({},a),{},{value:r.seasonalLowestPointsShare}),!0)})}),[h,p,y,v,x,b,w,j,S,N,k,_,P,A,l,c,E,O,I,T].forEach(e=>{e&&e.entries.length>1&&e.entries.sort((e,t)=>e.year!==t.year?parseInt(e.year)-parseInt(t.year):(e.teamName||"").localeCompare(t.teamName||""))}),o({mostWinsSeason:h,mostLossesSeason:p,bestWinPctSeason:y,bestAllPlayWinPctSeason:v,mostWeeklyHighScoresSeason:x,mostWeeklyTop2ScoresSeason:b,mostBlowoutWinsSeason:w,mostBlowoutLossesSeason:j,mostSlimWinsSeason:S,mostSlimLossesSeason:N,mostPointsSeason:k,fewestPointsSeason:_,bestLuckRatingSeason:P,worstLuckRatingSeason:A,highestDPRSeason:l,lowestDPRSeason:c,mostTradesSeason:E,mostWaiversSeason:O,highestPointsShareSeason:I,lowestPointsShareSeason:T}),f.A.debug("Season Records - Final transaction counts:"),f.A.debug("Most Trades Season:",E),f.A.debug("Most Waivers Season:",O),d(t)};M.length>0?xu(M).then(D).catch(e=>{f.A.warn("Could not load financial data for Season Records transaction counts:",e),D({})}):D({})},[e,n,r,a]),r)return(0,K.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading seasonal records..."});if(a)return(0,K.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading seasonal data: ",a.message]});if(!e||0===Object.keys(e).length)return(0,K.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available to display."});const x=[s.mostWinsSeason,s.mostLossesSeason,s.bestWinPctSeason,s.bestAllPlayWinPctSeason,s.mostWeeklyHighScoresSeason,s.mostWeeklyTop2ScoresSeason,s.mostBlowoutWinsSeason,s.mostBlowoutLossesSeason,s.mostSlimWinsSeason,s.mostSlimLossesSeason,s.mostPointsSeason,s.fewestPointsSeason,s.bestLuckRatingSeason,s.worstLuckRatingSeason,s.highestDPRSeason,s.lowestDPRSeason,s.mostTradesSeason,s.mostWaiversSeason,s.highestPointsShareSeason,s.lowestPointsShareSeason].filter(e=>e&&e.value!==-1/0&&e.value!==1/0&&e.entries&&e.entries.length>0);return(0,K.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,K.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,K.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udcc5"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Season Records Highlights"}),(0,K.jsxs)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:["Outstanding records achieved in a single season \u2022 Excludes current ",(new Date).getFullYear()," season"]})]})]})}),(0,K.jsx)("div",{className:"space-y-3 sm:hidden",children:x.map(e=>{if(!e||0===e.entries.length)return null;const t=e.entries[0],r=v(e.key,e),a=t.teamName||n(t.ownerId,t.year);let s="";return"number"===typeof t.value&&(s=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["bestLuckRating","worstLuckRating","highestDPR","lowestDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"mostPointsFor"===e.key||"fewestPointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key||"seasonalHighestPointsShare"===e.key||"seasonalLowestPointsShare"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:(0,K.jsx)("div",{className:"flex items-center",children:(0,K.jsxs)("div",{className:"flex-1",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"truncate",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900 truncate",children:r}),(0,K.jsxs)("div",{className:"text-xs text-gray-600 truncate mt-1",children:[(0,K.jsx)("span",{className:"font-medium",children:a}),t.year&&(0,K.jsxs)("span",{className:"text-gray-500",children:[" \u2014 ",t.year]})]})]}),(0,K.jsxs)("div",{className:"ml-3 flex items-center gap-3",children:[(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-green-100 to-blue-100 border border-green-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:s})}),(0,K.jsx)("button",{onClick:()=>y(e.key),"aria-label":"".concat(i[e.key]?"Hide":"Show"," top 5 for ").concat(r),className:"p-2 rounded-md hover:bg-gray-100",children:(0,K.jsx)("svg",{className:"w-5 h-5 text-gray-600 transition-transform ".concat(i[e.key]?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i[e.key]&&(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason",seasonalHighestPointsShare:"highestPointsShareSeason",seasonalLowestPointsShare:"lowestPointsShareSeason"}[e.key];return t&&c[t]&&c[t].length>0})()&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason",seasonalHighestPointsShare:"highestPointsShareSeason",seasonalLowestPointsShare:"lowestPointsShareSeason"}[e.key],r=["fewestPointsSeason","worstLuckRatingSeason","lowestDPRSeason","lowestPointsShareSeason"].includes(t);return c[t].sort((e,t)=>r?e.value-t.value:t.value-e.value).slice(0,5).map((t,r)=>(0,K.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("div",{className:"w-7 h-7 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold",children:r+1}),(0,K.jsxs)("div",{className:"flex flex-col",children:[(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:t.teamName||n(t.ownerId,t.year)}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:t.year})]})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["bestLuckRating","worstLuckRating","highestDPR","lowestDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"mostPointsFor"===e.key||"fewestPointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key||"seasonalHighestPointsShare"===e.key||"seasonalLowestPointsShare"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":t.value.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]},"".concat(e.key,"-mobile-top5-").concat(t.ownerId,"-").concat(t.year,"-").concat(r)))})()})]})})},e.key)})}),(0,K.jsx)("div",{className:"hidden sm:block bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team (Season)"]})})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-100",children:x.map((e,r)=>{const a=i[e.key],s=v(e.key,e);return(0,K.jsxs)(t.Fragment,{children:[e.entries.map((t,o)=>{const i=t.teamName||n(t.ownerId,t.year);let l="";return 0===o&&"number"===typeof t.value&&(l=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["bestLuckRating","worstLuckRating","highestDPR","lowestDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"mostPointsFor"===e.key||"fewestPointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key||"seasonalHighestPointsShare"===e.key||"seasonalLowestPointsShare"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":t.value),(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(r%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===o?(0,K.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:s}),(0,K.jsx)("button",{onClick:()=>y(e.key),className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(s),children:(0,K.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,K.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===o?(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-blue-100 border border-green-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:l})}):""}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,K.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:i}),t.year&&(0,K.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:t.year})]})})]},"".concat(e.key,"-").concat(i,"-").concat(o))}),a&&(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason",seasonalHighestPointsShare:"highestPointsShareSeason",seasonalLowestPointsShare:"lowestPointsShareSeason"}[e.key];return t&&c[t]&&c[t].length>0})()&&(0,K.jsx)("tr",{className:"".concat(r%2===0?"bg-gray-50":"bg-gray-75"),children:(0,K.jsx)("td",{colSpan:"3",className:"p-0",children:(0,K.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,K.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",s]}),(0,K.jsx)("div",{className:"space-y-2",children:(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason",seasonalHighestPointsShare:"highestPointsShareSeason",seasonalLowestPointsShare:"lowestPointsShareSeason"}[e.key],n=(e.key,["fewestPointsSeason","worstLuckRatingSeason","lowestDPRSeason","lowestPointsShareSeason"].includes(t));return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((t,n)=>{let r="";return r=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["bestLuckRating","worstLuckRating","adjustedDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"mostPointsFor"===e.key||"fewestPointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key||"seasonalHighestPointsShare"===e.key||"seasonalLowestPointsShare"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":t.value,(0,K.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,K.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.teamName})]}),(0,K.jsxs)("div",{className:"flex items-center gap-4",children:[(0,K.jsx)("span",{className:"font-bold text-gray-900",children:r}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:t.year})]})]},"".concat(e.key,"-").concat(t.teamName,"-").concat(t.value,"-").concat(t.year,"-").concat(n))})})()})]})})})]},e.key)})})]})})})]})},oI=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o,nflState:i}=J(),[l,c]=(0,t.useState)({}),[d,h]=(0,t.useState)({}),[m,p]=(0,t.useState)({}),g=e=>{p(t=>u(u({},t),{},{[e]:!t[e]}))};(0,t.useEffect)(()=>{if(s||o||!n||0===n.length)return void c({});const e={},t={};n.forEach(n=>{var a,s,o,i,l,c;if(!n||!n.matchup_id||!n.team1_roster_id||void 0===n.team1_score||!n.team2_roster_id||void 0===n.team2_score||void 0===n.season||void 0===n.week)return void f.A.warn("StreaksRecords: Skipping invalid or incomplete matchup. Missing data:",{matchup_id:null===n||void 0===n?void 0:n.matchup_id,team1_roster_id:null===n||void 0===n?void 0:n.team1_roster_id,team1_score:null===n||void 0===n?void 0:n.team1_score,team2_roster_id:null===n||void 0===n?void 0:n.team2_roster_id,team2_score:null===n||void 0===n?void 0:n.team2_score,season:null===n||void 0===n?void 0:n.season,week:null===n||void 0===n?void 0:n.week,fullMatch:n});const u=parseInt(n.season),d=parseInt(n.week),h=String(n.team1_roster_id),m=String(n.team2_roster_id),p=parseFloat(n.team1_score),g=parseFloat(n.team2_score);if(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(g))return void f.A.warn("StreaksRecords: Skipping matchup due to invalid numerical data. Match:",n);const y=null===(a=r.rostersBySeason)||void 0===a||null===(s=a[u])||void 0===s||null===(o=s.find(e=>String(e.roster_id)===h))||void 0===o?void 0:o.owner_id,v=null===(i=r.rostersBySeason)||void 0===i||null===(l=i[u])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===m))||void 0===c?void 0:c.owner_id;if(!y||!v)return void f.A.warn("StreaksRecords: Skipping matchup due to missing owner ID for year ".concat(u,". Team1Roster: ").concat(h,", Team2Roster: ").concat(m));if(0===p&&0===g&&u>=(new Date).getFullYear())return;const x=p===g;e[y]||(e[y]=[]),e[v]||(e[v]=[]),e[y].push({year:u,week:d,isWin:p>g,isLoss:p<g,isTie:x,score:p,opponentScore:g,rosterId:h}),e[v].push({year:u,week:d,isWin:g>p,isLoss:g<p,isTie:x,score:g,opponentScore:p,rosterId:m}),t[u]||(t[u]={}),t[u][d]||(t[u][d]=[]),t[u][d].push({rosterId:h,score:p}),t[u][d].push({rosterId:m,score:g})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week)});const l={};Object.keys(t).forEach(e=>{l[e]={},Object.keys(t[e]).forEach(n=>{const r=[...t[e][n]].sort((e,t)=>t.score-e.score);l[e][n]={highestScore:r.length>0?r[0].score:-1/0,lowestScore:r.length>0?r[r.length-1].score:1/0,top3Scores:r.slice(0,Math.min(3,r.length)).map(e=>e.score)}})});const d={longestWinStreak:{value:0,entries:[]},longestLosingStreak:{value:0,entries:[]},longestConsecutiveHighestScoreWeeks:{value:0,entries:[]},longestConsecutiveLowestScoreWeeks:{value:0,entries:[]},longestConsecutiveTop3Weeks:{value:0,entries:[]}},m={longestWinStreak:[],longestLosingStreak:[],longestConsecutiveHighestScoreWeeks:[],longestConsecutiveLowestScoreWeeks:[],longestConsecutiveTop3Weeks:[]},p=(e,t,n,r,a)=>{const s=a(r,n.startYear),o=u(u({},n),{},{team:s,ownerId:r});if(t>e.value)e.value=t,e.entries=[o];else if(t===e.value&&t>0){e.entries.some(e=>e.team===o.team&&e.startYear===o.startYear&&e.startWeek===o.startWeek&&e.endYear===o.endYear&&e.endWeek===o.endWeek)||e.entries.push(o)}},g=(e,t,n,r,a)=>{if(t>0){const s=a(r,n.startYear);m[e].push(u(u({},n),{},{team:s,ownerId:r,streak:t}))}};Object.keys(e).forEach(n=>{const r=e[n];let s=0,o=0,c=null,u=null,h=null,m=null;for(let e=0;e<r.length;e++){const t=r[e];if(t.isWin){if(0===s&&(c=t.year,u=t.week),s++,o>0){const t={streak:o,startYear:h,startWeek:m,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:m};p(d.longestLosingStreak,o,t,n,a),g("longestLosingStreak",o,t,n,a)}o=0,h=null,m=null}else if(t.isLoss){if(0===o&&(h=t.year,m=t.week),o++,s>0){const t={streak:s,startYear:c,startWeek:u,endYear:r[e-1]?r[e-1].year:c,endWeek:r[e-1]?r[e-1].week:u};p(d.longestWinStreak,s,t,n,a),g("longestWinStreak",s,t,n,a)}s=0,c=null,u=null}else t.isTie&&(s>0&&p(d.longestWinStreak,s,{streak:s,startYear:c,startWeek:u,endYear:r[e-1]?r[e-1].year:c,endWeek:r[e-1]?r[e-1].week:c},n,a),s=0,c=null,u=null,o>0&&p(d.longestLosingStreak,o,{streak:o,startYear:h,startWeek:m,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:h},n,a),o=0,h=null,m=null)}s>0&&p(d.longestWinStreak,s,{streak:s,startYear:c,startWeek:u,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),o>0&&p(d.longestLosingStreak,o,{streak:o,startYear:h,startWeek:m,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a);let f=0,y=0,v=0,x=null,b=null,w=null,j=null,S=null,N=null;for(let e=0;e<r.length;e++){var k,_,P;const s=r[e],o=null===(k=t[s.year])||void 0===k?void 0:k[s.week],c=null===o||void 0===o||null===(_=o.find(e=>e.rosterId===s.rosterId))||void 0===_?void 0:_.score;if(void 0===c||null===c){f>0&&p(d.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:x,startWeek:b,endYear:r[e-1]?r[e-1].year:x,endWeek:r[e-1]?r[e-1].week:x},n,a),f=0,x=null,b=null,y>0&&p(d.longestConsecutiveLowestScoreWeeks,y,{streak:y,startYear:w,startWeek:j,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,a),y=0,w=null,j=null,v>0&&p(d.longestConsecutiveTop3Weeks,v,{streak:v,startYear:S,startWeek:N,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),v=0,S=null,N=null;continue}const u=null===(P=l[s.year])||void 0===P?void 0:P[s.week],h=(new Date).getFullYear(),m=(null===i||void 0===i?void 0:i.week)||1,g=s.year===h&&s.week===m;g||c!==u.highestScore?(f>0&&p(d.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:x,startWeek:b,endYear:r[e-1]?r[e-1].year:x,endWeek:r[e-1]?r[e-1].week:x},n,a),f=0,x=null,b=null):(0===f&&(x=s.year,b=s.week),f++),g||c!==u.lowestScore?(y>0&&p(d.longestConsecutiveLowestScoreWeeks,y,{streak:y,startYear:w,startWeek:j,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,a),y=0,w=null,j=null):(0===y&&(w=s.year,j=s.week),y++),!g&&u.top3Scores.includes(c)?(0===v&&(S=s.year,N=s.week),v++):(v>0&&p(d.longestConsecutiveTop3Weeks,v,{streak:v,startYear:S,startWeek:N,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),v=0,S=null,N=null)}if(f>0){const e={streak:f,startYear:x,startWeek:b,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};p(d.longestConsecutiveHighestScoreWeeks,f,e,n,a),g("longestConsecutiveHighestScoreWeeks",f,e,n,a)}if(y>0){const e={streak:y,startYear:w,startWeek:j,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};p(d.longestConsecutiveLowestScoreWeeks,y,e,n,a),g("longestConsecutiveLowestScoreWeeks",y,e,n,a)}if(v>0){const e={streak:v,startYear:S,startWeek:N,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};p(d.longestConsecutiveTop3Weeks,v,e,n,a),g("longestConsecutiveTop3Weeks",v,e,n,a)}}),Object.keys(d).forEach(e=>{const t=d[e];0===t.value&&0===t.entries.length&&(t.entries=[]),t.entries.sort((e,t)=>{const n=(e.team||"").localeCompare(t.team||"");return 0!==n?n:e.startYear!==t.startYear?e.startYear-t.startYear:e.startWeek-t.startWeek})}),c(d),h(m)},[n,r,a,s,o]);const y=[{key:"longestWinStreak",label:"Win Streak"},{key:"longestLosingStreak",label:"Losing Streak"},{key:"longestConsecutiveHighestScoreWeeks",label:"High Score Streak"},{key:"longestConsecutiveTop3Weeks",label:"Top 3 Score Streak"}];return s?(0,K.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading streak records..."}):o?(0,K.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading streak data: ",o.message]}):0===Object.keys(l).length||y.every(e=>{var t;return 0===(null===(t=l[e.key])||void 0===t?void 0:t.entries.length)})?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No streak data available to display records."}):(0,K.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,K.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,K.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udd25"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Streak Records"}),(0,K.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Longest consecutive achievements in league history"})]})]})}),(0,K.jsx)("div",{className:"space-y-3 sm:hidden",children:y.map(e=>{const t=l[e.key];if(!t||0===t.entries.length)return(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:(0,K.jsx)("div",{className:"flex items-center justify-between",children:(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-xs font-semibold text-gray-700",children:e.label}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"No data"})]})})},e.key);const n=t.value,r=t.entries.filter(e=>e.streak===n),a=r[0];return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.label}),r.length>0&&(0,K.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:r.map((e,t)=>(0,K.jsxs)("div",{className:t>0?"mt-1":"",children:[(0,K.jsx)("span",{className:"font-medium",children:e.team}),void 0!==e.startYear&&(0,K.jsx)("div",{className:"text-xs text-gray-500 mt-0.5",children:e.endYear&&e.endWeek&&(e.startYear!==e.endYear||e.startWeek!==e.endWeek)?"".concat(e.startYear," W").concat(e.startWeek," - ").concat(e.endYear," W").concat(e.endWeek):"".concat(e.startYear," W").concat(e.startWeek)})]},t))})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a&&(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:a.streak})}),(0,K.jsx)("button",{onClick:()=>g(e.key),"aria-label":"".concat(m[e.key]?"Hide":"Show"," top 5 for ").concat(e.label),className:"p-1 rounded-md hover:bg-gray-100 flex-shrink-0",children:(0,K.jsx)("svg",{className:"w-4 h-4 text-gray-600 transition-transform ".concat(m[e.key]?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),m[e.key]&&d[e.key]&&d[e.key].length>0&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:d[e.key].filter(e=>e.streak>0).sort((e,t)=>t.streak-e.streak).slice(0,5).map((t,n)=>(0,K.jsxs)("div",{className:"flex items-start justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-start gap-3",children:[(0,K.jsx)("div",{className:"w-6 h-6 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold mt-0.5",children:n+1}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.team}),void 0!==t.startYear&&(0,K.jsx)("div",{className:"text-xs text-gray-500 mt-0.5",children:t.endYear&&t.endWeek&&(t.startYear!==t.endYear||t.startWeek!==t.endWeek)?"".concat(t.startYear," W").concat(t.startWeek," - ").concat(t.endYear," W").concat(t.endWeek):"".concat(t.startYear," W").concat(t.startWeek)})]})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900 flex-shrink-0",children:t.streak})]},"".concat(e.key,"-mobile-top5-").concat(t.team,"-").concat(t.streak,"-").concat(n)))})]},e.key)})}),(0,K.jsx)("div",{className:"hidden sm:block bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Length"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfaf"})," Started"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc1"})," Ended"]})})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-100",children:y.map((e,n)=>{const r=l[e.key],a=m[e.key];return r&&0!==r.entries.length?(0,K.jsxs)(t.Fragment,{children:[r.entries.map((t,r)=>(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===r?(0,K.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,K.jsx)("button",{onClick:()=>g(e.key),className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,K.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,K.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===r?(0,K.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200",children:[(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:t.streak}),(0,K.jsx)("span",{className:"text-gray-600 text-xs ml-1",children:"games"})]}):""}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:t.team})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-green-100 text-green-800 rounded-lg text-xs font-medium",children:[(0,K.jsx)("span",{children:t.startYear}),(0,K.jsx)("span",{className:"text-green-600",children:"\u2022"}),(0,K.jsxs)("span",{children:["Week ",t.startWeek]})]})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-red-100 text-red-800 rounded-lg text-xs font-medium",children:[(0,K.jsx)("span",{children:t.endYear}),(0,K.jsx)("span",{className:"text-red-600",children:"\u2022"}),(0,K.jsxs)("span",{children:["Week ",t.endWeek]})]})})]},"".concat(e.key,"-").concat(t.team,"-").concat(t.startYear,"-").concat(t.startWeek,"-").concat(r))),a&&d[e.key]&&d[e.key].length>0&&(0,K.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,K.jsx)("td",{colSpan:"5",className:"p-0",children:(0,K.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,K.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label,"s"]}),(0,K.jsx)("div",{className:"space-y-2",children:d[e.key].filter(e=>e.streak>0).sort((e,t)=>t.streak-e.streak).slice(0,5).map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:t+1}),(0,K.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.team})]}),(0,K.jsxs)("div",{className:"flex items-center gap-4",children:[(0,K.jsxs)("span",{className:"font-bold text-gray-900",children:[e.streak," games"]}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.startYear," Week ",e.startWeek," - ",e.endYear," Week ",e.endWeek]})]})]},"".concat(e.team,"-").concat(e.streak,"-").concat(e.startYear,"-").concat(e.startWeek,"-").concat(t)))})]})})})]},e.key):(0,K.jsx)(t.Fragment,{children:(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,K.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},iI=()=>{const{historicalData:e,getTeamName:n,loading:r,error:a}=J(),[s,o]=(0,t.useState)({}),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),h=e=>{l(t=>u(u({},t),{},{[e]:!t[e]}))};function m(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("number"===typeof t&&!isNaN(t))if(r){if(t<e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}else if(t>e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}(0,t.useEffect)(()=>{if(r||a||!e||!e.matchupsBySeason)return o({}),void d({});const t={mostPointsScored:[],fewestPointsScored:[],mostPointsInLoss:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),[]);for(const n in e.matchupsBySeason){const t=e.matchupsBySeason[n];Array.isArray(t)&&i.push(...t)}if(0===i.length)return void o({});const l={mostPointsScored:{value:-1/0,entries:[]},fewestPointsScored:{value:1/0,entries:[]},mostPointsInLoss:{value:-1/0,entries:[]},fewestPointsInWin:{value:1/0,entries:[]},highestCombinedScore:{value:-1/0,entries:[]},lowestCombinedScore:{value:1/0,entries:[]},biggestBlowout:{value:-1/0,entries:[]},slimmestWin:{value:1/0,entries:[]}};i.forEach(t=>{var r,a,o,i;const c=parseInt(t.season),d=parseInt(t.week),h=String(t.team1_roster_id),p=String(t.team2_roster_id),g=parseFloat(t.team1_score),y=parseFloat(t.team2_score),v=null===(r=e.rostersBySeason)||void 0===r||null===(a=r[c])||void 0===a?void 0:a.find(e=>String(e.roster_id)===h),x=null===v||void 0===v?void 0:v.owner_id,b=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===p),w=null===b||void 0===b?void 0:b.owner_id,j=n(x,c),S=n(w,c);let N=[];if(x||N.push("Missing team1OwnerId for roster ".concat(h," in year ").concat(c)),w||N.push("Missing team2OwnerId for roster ".concat(p," in year ").concat(c)),(isNaN(c)||isNaN(d)||isNaN(g)||isNaN(y))&&N.push("Invalid data point (year: ".concat(c,", week: ").concat(d,", scores: ").concat(g,", ").concat(y,")")),N.length>0)return void f.A.warn("MatchupRecords: Skipping matchup due to:",N.join("; "),". Match:",t);const k=g+y,_=Math.abs(g-y),P=g===y&&g>0;let A="",E="";P||(A=g>y?j:S,E=g>y?S:j);const O={matchup:"".concat(j," vs ").concat(S),year:c,week:d,team1:j,team2:S,team1Score:g,team2Score:y,team1RosterId:h,team2RosterId:p},I=u(u({},O),{},{team:j,score:g}),T=u(u({},O),{},{team:S,score:y});if(m(l.mostPointsScored,g,I),m(l.mostPointsScored,y,T),s("mostPointsScored",g,I),s("mostPointsScored",y,T),g>0&&(m(l.fewestPointsScored,g,I,!0),s("fewestPointsScored",g,I)),y>0&&(m(l.fewestPointsScored,y,T,!0),s("fewestPointsScored",y,T)),!P){const e=g<y,t=e?j:S,n=e?g:y,r=e?S:j,a=e?y:g,o=u(u({},O),{},{team:t,score:n,opponent:r,opponentScore:a});m(l.mostPointsInLoss,n,o),s("mostPointsInLoss",n,o)}if(!P){const e=g>y,t=e?j:S,n=e?g:y,r=e?S:j,a=e?y:g;if(n>0){const e=u(u({},O),{},{team:t,score:n,opponent:r,opponentScore:a});m(l.fewestPointsInWin,n,e,!0),s("fewestPointsInWin",n,e)}}const C=u(u({},O),{},{combinedScore:k});if(m(l.highestCombinedScore,k,C),s("highestCombinedScore",k,C),k>0&&g>0&&y>0&&(m(l.lowestCombinedScore,k,C,!0),s("lowestCombinedScore",k,C)),!P){const e=u(u({},O),{},{margin:_,winner:A,loser:E});m(l.biggestBlowout,_,e),s("biggestBlowout",_,e)}if(!P&&_>0){const e=u(u({},O),{},{margin:_,winner:A,loser:E});m(l.slimmestWin,_,e,!0),s("slimmestWin",_,e)}}),Object.keys(l).forEach(e=>{const t=l[e];t.value!==-1/0&&t.value!==1/0||(t.value=0,t.entries=[]),t.entries.sort((t,n)=>t.year!==n.year?t.year-n.year:t.week!==n.week?t.week-n.week:t.team&&n.team&&("mostPointsScored"===e||"fewestPointsScored"===e||"mostPointsInLoss"===e||"fewestPointsInWin"===e)?t.team.localeCompare(n.team):t.team1&&n.team1&&("highestCombinedScore"===e||"lowestCombinedScore"===e)?t.team1.localeCompare(n.team1):t.winner&&n.winner&&("biggestBlowout"===e||"slimmestWin"===e)?t.winner.localeCompare(n.winner):0)}),o(l),d(t)},[e,n,r,a]);const p=(e,t)=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g=[{key:"mostPointsScored",label:"Most Points Scored by a Team"},{key:"mostPointsInLoss",label:"Most Points Scored in a Loss"},{key:"fewestPointsScored",label:"Fewest Points Scored by a Team"},{key:"fewestPointsInWin",label:"Fewest Points Scored in a Win"},{key:"highestCombinedScore",label:"Highest Combined Score"},{key:"lowestCombinedScore",label:"Lowest Combined Score"},{key:"biggestBlowout",label:"Biggest Blowout"},{key:"slimmestWin",label:"Slimmest Win"}];return r?(0,K.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading matchup records..."}):a?(0,K.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading matchup data: ",a.message]}):0===Object.keys(s).length||g.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No matchup data available to display records."}):(0,K.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,K.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,K.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\u2694\ufe0f"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Game Record Holders"}),(0,K.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Outstanding single-game performances across all seasons \u2022 Minimum scores required for some records"})]})]})}),(0,K.jsx)("div",{className:"space-y-3 sm:hidden",children:g.map(e=>{const t=s[e.key];if(!t||0===t.entries.length)return(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:(0,K.jsx)("div",{className:"flex items-center justify-between",children:(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-xs font-semibold text-gray-700",children:e.label}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"No data"})]})})},e.key);const n=t.value,r=t.entries.filter(t=>"mostPointsScored"===e.key||"fewestPointsScored"===e.key||"mostPointsInLoss"===e.key||"fewestPointsInWin"===e.key?t.score===n:"highestCombinedScore"===e.key||"lowestCombinedScore"===e.key?t.combinedScore===n:("biggestBlowout"===e.key||"slimmestWin"===e.key)&&t.margin===n),a=r[0];return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.label}),r.length>0&&(0,K.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:r.map((t,n)=>(0,K.jsx)("div",{className:n>0?"mt-2 pt-2 border-t border-gray-100":"",children:"highestCombinedScore"===e.key||"lowestCombinedScore"===e.key?(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:t.team1}),(0,K.jsxs)("div",{className:"text-gray-500",children:["vs ",t.team2]}),(0,K.jsxs)("div",{className:"text-gray-500 mt-1",children:[t.year," W",t.week]})]}):"biggestBlowout"===e.key||"slimmestWin"===e.key?(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:t.winner}),(0,K.jsxs)("div",{className:"text-gray-500",children:["def ",t.loser]}),(0,K.jsxs)("div",{className:"text-gray-500 mt-1",children:[t.year," W",t.week]})]}):(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:t.team}),t.opponent&&(0,K.jsxs)("div",{className:"text-gray-500",children:["vs ",t.opponent]}),(0,K.jsxs)("div",{className:"text-gray-500 mt-1",children:[t.year," W",t.week]})]})},n))})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a&&(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-orange-100 to-red-100 border border-orange-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:p(t.value,e.key)})}),(0,K.jsx)("button",{onClick:()=>h(e.key),"aria-label":"".concat(i[e.key]?"Hide":"Show"," top 5 for ").concat(e.label),className:"p-1 rounded-md hover:bg-gray-100 flex-shrink-0",children:(0,K.jsx)("svg",{className:"w-4 h-4 text-gray-600 transition-transform ".concat(i[e.key]?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i[e.key]&&c[e.key]&&c[e.key].length>0&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:(()=>{const t=e.key,n=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(t);return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((e,n)=>(0,K.jsxs)("div",{className:"flex items-start justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-start gap-3",children:[(0,K.jsx)("div",{className:"w-6 h-6 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold mt-1",children:n+1}),(0,K.jsx)("div",{className:"text-sm text-gray-900",children:"highestCombinedScore"===t||"lowestCombinedScore"===t?(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:e.team1}),(0,K.jsxs)("div",{className:"text-gray-500 text-xs",children:["vs ",e.team2]}),(0,K.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:[e.year," W",e.week]})]}):"biggestBlowout"===t||"slimmestWin"===t?(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:e.winner}),(0,K.jsxs)("div",{className:"text-gray-500 text-xs",children:["def ",e.loser]}),(0,K.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:[e.year," W",e.week]})]}):(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium",children:e.team}),e.opponent&&(0,K.jsxs)("div",{className:"text-gray-500 text-xs",children:["vs ",e.opponent]}),(0,K.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:[e.year," W",e.week]})]})})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900 flex-shrink-0",children:e.value.toFixed(2)})]},"".concat(t,"-mobile-").concat(e.year,"-").concat(e.week,"-").concat(n)))})()})]},e.key)})}),(0,K.jsx)("div",{className:"hidden sm:block bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsx)("div",{className:"flex items-center gap-1 sm:gap-2",children:"Record Type"})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\u2694\ufe0f"})," Game Details"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcc5"})," Season"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udccd"})," Week"]})})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-100",children:g.map((e,n)=>{const r=s[e.key],a=i[e.key];return r&&0!==r.entries.length?(0,K.jsxs)(t.Fragment,{children:[r.entries.map((t,s)=>{let o;const i=t.team1Score.toFixed(2),l=t.team2Score.toFixed(2),c=(t.winner===t.team1?t.team1Score:t.team2Score).toFixed(2),u=(t.loser===t.team1?t.team1Score:t.team2Score).toFixed(2);if("mostPointsScored"===e.key||"fewestPointsScored"===e.key||"mostPointsInLoss"===e.key||"fewestPointsInWin"===e.key){const e=t.team,n=t.score.toFixed(2),r=e===t.team1?t.team2:t.team1,a=(e===t.team1?t.team2Score:t.team1Score).toFixed(2);o=(0,K.jsx)("div",{className:"space-y-2",children:(0,K.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-2 sm:p-3 border border-blue-200",children:(0,K.jsxs)("div",{className:"space-y-1",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:e}),(0,K.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:n})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:r}),(0,K.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:a})]})]})})})}else o="biggestBlowout"===e.key||"slimmestWin"===e.key?(0,K.jsx)("div",{className:"space-y-2",children:(0,K.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-2 sm:p-3 border border-orange-200",children:(0,K.jsxs)("div",{className:"space-y-1",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:t.winner}),(0,K.jsx)("span",{className:"font-bold text-green-600 text-xs sm:text-sm text-right",children:c})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:t.loser}),(0,K.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:u})]})]})})}):(0,K.jsx)("div",{className:"space-y-2",children:(0,K.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-2 sm:p-3 border border-green-200",children:(0,K.jsx)("div",{className:"space-y-1",children:(()=>{const e=t.team1Score>=t.team2Score,n=e?t.team1:t.team2,r=e?i:l,a=e?t.team2:t.team1,s=e?l:i;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:n}),(0,K.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:r})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:a}),(0,K.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:s})]})]})})()})})});return(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===s?(0,K.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,K.jsx)("button",{onClick:()=>h(e.key),className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,K.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):r.entries.length>1?(0,K.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"}):null}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===s?(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-orange-100 to-red-100 border border-orange-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:p(r.value,e.key)})}):""}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("div",{className:"text-xs sm:text-sm",children:o})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-blue-100 text-blue-800 rounded-lg text-xs font-medium",children:t.year})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium",children:["Week ",t.week]})})]},"".concat(e.key,"-").concat(s))}),a&&c[e.key]&&c[e.key].length>0&&(0,K.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,K.jsx)("td",{colSpan:"5",className:"p-0",children:(0,K.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,K.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,K.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.key,n=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(t);return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((e,n)=>{let r="";return r="mostPointsScored"===t||"fewestPointsScored"===t||"mostPointsInLoss"===t||"fewestPointsInWin"===t?"".concat(e.team,": ").concat(e.value.toFixed(2)," pts"):"biggestBlowout"===t||"slimmestWin"===t?"".concat(e.winner," beat ").concat(e.loser," by ").concat(e.value.toFixed(2)," pts"):"".concat(e.team1," vs ").concat(e.team2,": ").concat(e.value.toFixed(2)," pts combined"),(0,K.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,K.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:r})]}),(0,K.jsxs)("div",{className:"flex items-center gap-4",children:[(0,K.jsx)("span",{className:"font-bold text-gray-900",children:e.value.toFixed(2)}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.year," Week ",e.week]})]})]},"".concat(e.year,"-").concat(e.week,"-").concat(n))})})()})]})})})]},e.key):(0,K.jsx)(t.Fragment,{children:(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})})}),(0,K.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},lI=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o}=J(),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[h,m]=(0,t.useState)({}),p=e=>{d(t=>u(u({},t),{},{[e]:!t[e]}))};(0,t.useEffect)(()=>{if(s||o||!n||0===n.length||!r||!r.rostersBySeason)return l({}),void m({});const e={mostPlayoffAppearances:[],mostPlayoffWins:[],mostPlayoffLosses:[],bestPlayoffWinPercentage:[],worstPlayoffWinPercentage:[],mostPlayoffPointsFor:[],mostPlayoffPointsAgainst:[],mostChampionships:[],mostFirstPlaceFinishes:[],mostSecondPlaceFinishes:[],mostThirdPlaceFinishes:[]},t=(t,n,r)=>{"number"===typeof n&&!isNaN(n)&&e[t]&&e[t].push(u(u({},r),{},{value:n}))},i={};n.forEach((e,t)=>{var n,s,o,l;const c=parseInt(e.year),u=String(e.team1_roster_id),d=String(e.team2_roster_id),h=parseFloat(e.team1Score),m=parseFloat(e.team2Score),p=null===(n=r.rostersBySeason)||void 0===n||null===(s=n[c])||void 0===s?void 0:s.find(e=>String(e.roster_id)===u),g=null===p||void 0===p?void 0:p.owner_id,y=null===(o=r.rostersBySeason)||void 0===o||null===(l=o[c])||void 0===l?void 0:l.find(e=>String(e.roster_id)===d),v=null===y||void 0===y?void 0:y.owner_id;if(g&&v&&!isNaN(c)&&!isNaN(h)&&!isNaN(m)&&e.playoffs)if([g,v].forEach(e=>{i[e]||(i[e]={appearances:new Set,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,medals:{1:0,2:0,3:0},championships:0})}),e.isWinnersBracket?(i[g].appearances.add(c),i[v].appearances.add(c),f.A.debug("PlayoffRecords: Counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Winners Bracket). Match:"),e)):e.isLosersBracket&&f.A.debug("PlayoffRecords: NOT counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Losers Bracket). Match:"),e),e.isWinnersBracket){const t=h>m;if(h===m?(i[g].ties++,i[v].ties++):t?(i[g].wins++,i[v].losses++):(i[v].wins++,i[g].losses++),i[g].pointsFor+=h,i[g].pointsAgainst+=m,i[v].pointsFor+=m,i[v].pointsAgainst+=h,f.A.debug("PlayoffRecords: Processing winners bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),"). Match:"),e),"number"===typeof e.finalSeedingGame&&e.finalSeedingGame>0){let n="",r="";t?(n=g,r=v):m>h&&(n=v,r=g);const a=e.finalSeedingGame;1===a?n&&(i[n].medals[1]++,i[n].championships++,r&&i[r].medals[2]++):3===a&&n&&i[n].medals[3]++}}else e.isLosersBracket&&f.A.debug("PlayoffRecords: Skipping losers bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),") (only counting appearance). Match:"),e);else f.A.warn("PlayoffRecords useEffect: Skipping match ".concat(t," due to invalid data, not a playoff game, or missing owner IDs. Match:"),e,"Team1 Owner: ".concat(g,", Team2 Owner: ").concat(v))}),f.A.debug("PlayoffRecords: Aggregated Playoff Stats Per Team:"),Object.entries(i).forEach(e=>{let[t,n]=e;const r=a(t,null);f.A.debug("  Team: ".concat(r," (Owner ID: ").concat(t,")")),f.A.debug("    Playoff Appearances: ".concat(n.appearances.size," (Years: ").concat(Array.from(n.appearances).join(", "),")")),f.A.debug("    Wins: ".concat(n.wins)),f.A.debug("    Losses: ".concat(n.losses)),f.A.debug("    Ties: ".concat(n.ties)),f.A.debug("    Points For: ".concat(n.pointsFor.toFixed(2))),f.A.debug("    Points Against: ".concat(n.pointsAgainst.toFixed(2))),f.A.debug("    Championships: ".concat(n.championships)),f.A.debug("    2nd Place Finishes: ".concat(n.medals[2])),f.A.debug("    3rd Place Finishes: ".concat(n.medals[3]))});const c={mostPlayoffAppearances:{value:0,entries:[]},mostPlayoffWins:{value:0,entries:[]},totalPlayoffPoints:{value:0,entries:[]},mostPlayoffPointsAgainst:{value:0,entries:[]},mostChampionships:{value:0,entries:[]},most2ndPlaceFinishes:{value:0,entries:[]},most3rdPlaceFinishes:{value:0,entries:[]}},d=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)))};Object.keys(i).forEach(e=>{const n=i[e],r=a(e,null),s={team:r,appearances:n.appearances.size},o={team:r,wins:n.wins},l={team:r,points:n.pointsFor},u={team:r,pointsAgainst:n.pointsAgainst},h={team:r,championships:n.championships},m={team:r,secondPlaces:n.medals[2]},f={team:r,thirdPlaces:n.medals[3]};d(c.mostPlayoffAppearances,n.appearances.size,s),d(c.mostPlayoffWins,n.wins,o),d(c.totalPlayoffPoints,n.pointsFor,l),d(c.mostPlayoffPointsAgainst,n.pointsAgainst,u),d(c.mostChampionships,n.championships,h),d(c.most2ndPlaceFinishes,n.medals[2],m),d(c.most3rdPlaceFinishes,n.medals[3],f),t("mostPlayoffAppearances",n.appearances.size,s),t("mostPlayoffWins",n.wins,o),t("mostPlayoffPointsFor",n.pointsFor,l),t("mostPlayoffPointsAgainst",n.pointsAgainst,u),t("mostChampionships",n.championships,h),t("mostFirstPlaceFinishes",n.championships,h),t("mostSecondPlaceFinishes",n.medals[2],m),t("mostThirdPlaceFinishes",n.medals[3],f)}),Object.keys(c).forEach(e=>{const t=c[e];t.value!==-1/0&&t.value!==1/0||0!==t.entries.length?t.value===1/0&&(t.value="N/A"):(t.value=0,t.entries=[]),t.entries.length>1&&t.entries.sort((t,n)=>{const r=(t.team||"").localeCompare(n.team||"");if(0!==r)return r;let a,s;return"mostPlayoffAppearances"===e?(a=t.appearances,s=n.appearances):"mostPlayoffWins"===e?(a=t.wins,s=n.wins):"totalPlayoffPoints"===e?(a=t.points,s=n.points):"mostPlayoffPointsAgainst"===e?(a=t.pointsAgainst,s=n.pointsAgainst):"mostChampionships"===e?(a=t.championships,s=n.championships):"most2ndPlaceFinishes"===e?(a=t.secondPlaces,s=n.secondPlaces):"most3rdPlaceFinishes"===e?(a=t.thirdPlaces,s=n.thirdPlaces):(a=t.value,s=n.value),"number"===typeof a&&"number"===typeof s?s-a:0})}),l(c),m(e)},[n,r,a,s,o]);const g=(e,t)=>"number"===typeof e?"mostPlayoffAppearances"===t||"mostPlayoffWins"===t||"mostChampionships"===t||"most2ndPlaceFinishes"===t||"most3rdPlaceFinishes"===t?e:"totalPlayoffPoints"===t||"mostPlayoffPointsAgainst"===t?e.toFixed(2):e:e,y=[{key:"mostPlayoffAppearances",label:"Most Playoff Appearances"},{key:"mostPlayoffWins",label:"Most Playoff Wins"},{key:"totalPlayoffPoints",label:"Total Playoff Points For"},{key:"mostPlayoffPointsAgainst",label:"Most Playoff Points Against Total"},{key:"mostChampionships",label:"Most Championships"},{key:"most2ndPlaceFinishes",label:"Most 2nd Place Finishes"},{key:"most3rdPlaceFinishes",label:"Most 3rd Place Finishes"}];return(0,K.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,K.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,K.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udfc6"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time Playoff Records"}),(0,K.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Historical playoff performance and championship accolades."})]})]})}),0===Object.keys(i).length||y.every(e=>{var t;return 0===(null===(t=i[e.key])||void 0===t?void 0:t.entries.length)})?(0,K.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl sm:rounded-2xl border border-gray-200",children:[(0,K.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd37\u200d\u2642\ufe0f"}),(0,K.jsx)("h4",{className:"text-xl font-semibold text-gray-800",children:"No Playoff Data Available"}),(0,K.jsx)("p",{className:"text-gray-500",children:"Cannot display records without historical playoff data."})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"space-y-3 sm:hidden",children:y.map(e=>{const t=i[e.key];if(!t||0===t.entries.length)return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsx)("div",{className:"text-xs font-semibold text-gray-700",children:e.label}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"No data"})]},e.key);const n=t.value,r=t.entries.filter(t=>"mostPlayoffAppearances"===e.key?t.appearances===n:"mostPlayoffWins"===e.key?t.wins===n:"totalPlayoffPoints"===e.key?t.points===n:"mostPlayoffPointsAgainst"===e.key?t.pointsAgainst===n:"mostChampionships"===e.key?t.championships===n:"most2ndPlaceFinishes"===e.key?t.secondPlaces===n:"most3rdPlaceFinishes"===e.key&&t.thirdPlaces===n),a=r[0];return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.label}),r.length>0&&(0,K.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:r.map((e,t)=>(0,K.jsxs)("div",{className:t>0?"mt-1":"",children:[(0,K.jsx)("span",{className:"font-medium",children:e.team}),void 0!==e.season&&(0,K.jsxs)("span",{className:"text-gray-500",children:[" \u2014 S",e.season]})]},t))})]}),(0,K.jsxs)("div",{className:"ml-3 flex items-center gap-3",children:[a&&(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-gray-100 to-green-100 border border-gray-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:g(t.value,e.key)})}),(0,K.jsx)("button",{onClick:()=>p(e.key),className:"p-2 rounded-md hover:bg-gray-100",children:(0,K.jsx)("svg",{className:"w-5 h-5 text-gray-600 transition-transform ".concat(c[e.key]?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(()=>{const t={totalPlayoffPoints:"mostPlayoffPointsFor",most2ndPlaceFinishes:"mostSecondPlaceFinishes",most3rdPlaceFinishes:"mostThirdPlaceFinishes"}[e.key]||e.key;return c[e.key]&&h[t]&&h[t].length>0})()&&(0,K.jsx)("div",{className:"mt-3 space-y-2",children:(()=>{const t={totalPlayoffPoints:"mostPlayoffPointsFor",most2ndPlaceFinishes:"mostSecondPlaceFinishes",most3rdPlaceFinishes:"mostThirdPlaceFinishes"}[e.key]||e.key;return h[t].filter(e=>e.value>0).sort((e,t)=>t.value-e.value).slice(0,5)})().map((t,n)=>(0,K.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-md p-2 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("div",{className:"w-7 h-7 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full text-xs font-bold",children:n+1}),(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:t.team||t.teamName||t.team1})]}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:t.value.toFixed?t.value.toFixed(2):t.value})]},"".concat(e.key,"-mobile-").concat(n)))})]},e.key)})}),(0,K.jsx)("div",{className:"hidden sm:block bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ufffd"})," Record"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,K.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,K.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-100",children:y.map((e,n)=>{const r=i[e.key],a=c[e.key];return r&&0!==r.entries.length?(0,K.jsxs)(t.Fragment,{children:[(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,K.jsx)("button",{onClick:()=>p(e.key),className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,K.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-200",children:(0,K.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:g(r.value,e.key)})})}),(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:r.entries.map((e,t)=>(0,K.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,K.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:e.team})},t))})})]}),(()=>{const t={totalPlayoffPoints:"mostPlayoffPointsFor",most2ndPlaceFinishes:"mostSecondPlaceFinishes",most3rdPlaceFinishes:"mostThirdPlaceFinishes"}[e.key]||e.key;return a&&h[t]&&h[t].length>0})()&&(0,K.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,K.jsx)("td",{colSpan:"3",className:"p-0",children:(0,K.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,K.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,K.jsx)("div",{className:"space-y-2",children:(()=>{const t={totalPlayoffPoints:"mostPlayoffPointsFor",most2ndPlaceFinishes:"mostSecondPlaceFinishes",most3rdPlaceFinishes:"mostThirdPlaceFinishes"}[e.key]||e.key;return h[t]})().filter(e=>e.value>0).sort((e,t)=>t.value-e.value).slice(0,5).map((t,n)=>(0,K.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,K.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.team})]}),(0,K.jsx)("div",{className:"flex items-center gap-4",children:(0,K.jsx)("span",{className:"font-bold text-gray-900",children:g(t.value,e.key)})})]},"".concat(t.team,"-").concat(t.value,"-").concat(n)))})]})})})]},e.key):(0,K.jsx)(t.Fragment,{children:(0,K.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,K.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,K.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,K.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,K.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})]})},cI=()=>{const{historicalData:e,nflPlayers:n,getTeamName:r,loading:a,error:s}=J(),[o,i]=(0,t.useState)("weekly"),l=(0,t.useMemo)(()=>{if(null===e||void 0===e||!e.matchupsBySeason||!n)return f.A.debug("Missing data for player records:",{hasMatchups:!(null===e||void 0===e||!e.matchupsBySeason),hasNflPlayers:!!n}),null;f.A.debug("Available seasons:",Object.keys(e.matchupsBySeason));const t={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},a={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},s={};for(const[l,c]of Object.entries(e.matchupsBySeason))c.forEach(e=>{[{rosterInfo:e.team1_details,players:e.team1_players,rosterId:e.team1_roster_id},{rosterInfo:e.team2_details,players:e.team2_players,rosterId:e.team2_roster_id}].forEach(a=>{let{rosterInfo:o,players:i,rosterId:c}=a;if(!i||!i.starters||!i.players_points||!o)return;const u=r(o.owner_id,parseInt(l));i.starters.forEach(r=>{if(!r||!i.players_points[r])return;const a=n[r];if(!a)return;let o=a.position;"DEF"===o&&(o="D/ST");const c="".concat(a.first_name," ").concat(a.last_name),d=i.players_points[r]||0;if(!t[o])return;t[o].push({playerName:c,points:d,week:e.week,season:l,teamName:u,playerId:r});const h="".concat(r,"-").concat(l);s[h]||(s[h]={playerName:c,position:o,points:0,games:0,season:l,teamName:u,playerId:r}),s[h].points+=d,s[h].games+=1})})});Object.values(s).forEach(e=>{a[e.position]&&a[e.position].push(e)});const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.sort((e,t)=>t.points-e.points).slice(0,t)},i={weekly:{},seasonal:{}};return Object.keys(t).forEach(e=>{i.weekly[e]=o(t[e]),i.seasonal[e]=o(a[e])}),f.A.debug("Generated player records:",i),i},[e,n,r]);if(a)return(0,K.jsx)("div",{className:"p-8 text-center",children:(0,K.jsx)("div",{className:"text-lg",children:"Loading player records..."})});if(s||!l)return(0,K.jsxs)("div",{className:"p-8 text-center",children:[(0,K.jsx)("div",{className:"text-lg text-red-600",children:"Unable to load player records"}),(0,K.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Please try refreshing the page or check back later."}),s&&(0,K.jsxs)("div",{className:"text-sm text-gray-500 mt-4",children:["Error: ",s.message]})]});const c=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&0!==e.length?(0,K.jsx)("div",{className:"space-y-3",children:e.map((e,n)=>(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:n+1}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.playerName}),(0,K.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:e.teamName})]})]}),(0,K.jsxs)("div",{className:"text-right",children:[(0,K.jsx)("div",{className:"font-bold text-blue-600 text-lg",children:e.points.toFixed(1)}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[t?"Week ".concat(e.week," "):"".concat(e.games||"N/A"," games "),e.season]})]})]})},"".concat(e.playerId,"-").concat(e.season,"-").concat(e.week||"season")))}):(0,K.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No records available for this position"})},u={QB:"\ud83c\udfc8",RB:"\ud83c\udfc3",WR:"\ud83d\ude4c",TE:"\ud83d\udcaa",K:"\ud83e\uddb5","D/ST":"\ud83d\udee1\ufe0f"};return(0,K.jsxs)("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6",children:[(0,K.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,K.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"\u2b50 Player Records"}),(0,K.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Individual player achievements and performances"}),(0,K.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Note: only players who were in the starting lineup are counted toward these records."})]}),(0,K.jsx)("div",{className:"flex justify-center mb-6 sm:mb-8",children:(0,K.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1 flex w-full max-w-sm",children:[(0,K.jsx)("button",{onClick:()=>i("weekly"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("weekly"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Weekly"}),(0,K.jsx)("button",{onClick:()=>i("seasonal"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("seasonal"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Seasonal"})]})}),(0,K.jsx)("div",{className:"space-y-4 sm:space-y-6",children:["QB","RB","WR","TE","K","D/ST"].map(e=>{"".concat(o,"-").concat(e);const t=l[o][e]||[];return(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,K.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 sm:p-4 border-b border-gray-200",children:(0,K.jsx)("div",{className:"flex items-center justify-between",children:(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("span",{className:"text-xl sm:text-2xl",children:u[e]}),(0,K.jsx)("div",{children:(0,K.jsxs)("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:[e," - ","weekly"===o?"Best Weekly":"Best Seasonal"]})})]})})}),(0,K.jsx)("div",{className:"p-3 sm:p-4",children:c(t,"weekly"===o)})]},e)})})]})};function uI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(t){uI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const mI=()=>{};let fI={},pI={},gI=null,yI={mark:mI,measure:mI};try{"undefined"!==typeof window&&(fI=window),"undefined"!==typeof document&&(pI=document),"undefined"!==typeof MutationObserver&&(gI=MutationObserver),"undefined"!==typeof performance&&(yI=performance)}catch(VB){}const{userAgent:vI=""}=fI.navigator||{},xI=fI,bI=pI,wI=gI,jI=yI,SI=(xI.document,!!bI.documentElement&&!!bI.head&&"function"===typeof bI.addEventListener&&"function"===typeof bI.createElement),NI=~vI.indexOf("MSIE")||~vI.indexOf("Trident/");var kI={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},_I=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],PI="classic",AI="duotone",EI=[PI,AI,"sharp","sharp-duotone"],OI=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),II=["fak","fa-kit","fakd","fa-kit-duotone"],TI={fak:"kit","fa-kit":"kit"},CI={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},MI=["fak","fakd"],DI={kit:"fak"},RI={"kit-duotone":"fakd"},LI={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},FI=["fak","fa-kit","fakd","fa-kit-duotone"],BI={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},WI=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],UI=[1,2,3,4,5,6,7,8,9,10],zI=UI.concat([11,12,13,14,15,16,17,18,19,20]),VI=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",LI.GROUP,LI.SWAP_OPACITY,LI.PRIMARY,LI.SECONDARY].concat(UI.map(e=>"".concat(e,"x"))).concat(zI.map(e=>"w-".concat(e)));const HI="___FONT_AWESOME___",GI=16,qI="svg-inline--fa",KI="data-fa-i2svg",YI="data-fa-pseudo-element",QI="data-prefix",XI="data-icon",$I="fontawesome-i2svg",JI=["HTML","HEAD","STYLE","SCRIPT"],ZI=(()=>{try{return!0}catch(e){return!1}})();function eT(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[PI]})}const tT=hI({},kI);tT[PI]=hI(hI(hI(hI({},{"fa-duotone":"duotone"}),kI[PI]),TI),CI);const nT=eT(tT),rT=hI({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});rT[PI]=hI(hI(hI(hI({},{duotone:"fad"}),rT[PI]),DI),RI);const aT=eT(rT),sT=hI({},BI);sT[PI]=hI(hI({},sT[PI]),{fak:"fa-kit"});const oT=eT(sT),iT=hI({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});iT[PI]=hI(hI({},iT[PI]),{"fa-kit":"fak"});eT(iT);const lT=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,cT="fa-layers-text",uT=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,dT=(eT(hI({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),hT={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mT=["kit",...VI],fT=xI.FontAwesomeConfig||{};if(bI&&"function"===typeof bI.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=bI.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(fT[n]=r)})}const pT={styleDefault:"solid",familyDefault:PI,cssPrefix:"fa",replacementClass:qI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};fT.familyPrefix&&(fT.cssPrefix=fT.familyPrefix);const gT=hI(hI({},pT),fT);gT.autoReplaceSvg||(gT.observeMutations=!1);const yT={};Object.keys(pT).forEach(e=>{Object.defineProperty(yT,e,{enumerable:!0,set:function(t){gT[e]=t,vT.forEach(e=>e(yT))},get:function(){return gT[e]}})}),Object.defineProperty(yT,"familyPrefix",{enumerable:!0,set:function(e){gT.cssPrefix=e,vT.forEach(e=>e(yT))},get:function(){return gT.cssPrefix}}),xI.FontAwesomeConfig=yT;const vT=[];const xT=GI,bT={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function wT(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function jT(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ST(e){return e.classList?jT(e.classList):(e.getAttribute("class")||"").split(" ").filter(e=>e)}function NT(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kT(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function _T(e){return e.size!==bT.size||e.x!==bT.x||e.y!==bT.y||e.rotate!==bT.rotate||e.flipX||e.flipY}function PT(){const e="fa",t=qI,n=yT.cssPrefix,r=yT.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");a=a.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(i,".".concat(r))}return a}let AT=!1;function ET(){yT.autoAddCss&&!AT&&(!function(e){if(!e||!SI)return;const t=bI.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=bI.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}bI.head.insertBefore(t,r)}(PT()),AT=!0)}var OT={mixout:()=>({dom:{css:PT,insertCss:ET}}),hooks:()=>({beforeDOMElementCreation(){ET()},beforeI2svg(){ET()}})};const IT=xI||{};IT[HI]||(IT[HI]={}),IT[HI].styles||(IT[HI].styles={}),IT[HI].hooks||(IT[HI].hooks={}),IT[HI].shims||(IT[HI].shims=[]);var TT=IT[HI];const CT=[],MT=function(){bI.removeEventListener("DOMContentLoaded",MT),DT=1,CT.map(e=>e())};let DT=!1;function RT(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?NT(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(NT(e[n]),'" '),"").trim()}(n),">").concat(r.map(RT).join(""),"</").concat(t,">")}function LT(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}SI&&(DT=(bI.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bI.readyState),DT||bI.addEventListener("DOMContentLoaded",MT));var FT=function(e,t,n,r){var a,s,o,i=Object.keys(e),l=i.length,c=void 0!==r?function(e,t){return function(n,r,a,s){return e.call(t,n,r,a,s)}}(t,r):t;for(void 0===n?(a=1,o=e[i[0]]):(a=0,o=n);a<l;a++)o=c(o,e[s=i[a]],s,e);return o};function BT(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function WT(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function UT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=WT(t);"function"!==typeof TT.hooks.addPack||r?TT.styles[e]=hI(hI({},TT.styles[e]||{}),a):TT.hooks.addPack(e,WT(t)),"fas"===e&&UT("fa",t)}const{styles:zT,shims:VT}=TT,HT=Object.keys(oT),GT=HT.reduce((e,t)=>(e[t]=Object.keys(oT[t]),e),{});let qT=null,KT={},YT={},QT={},XT={},$T={};function JT(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(s=a,~mT.indexOf(s))?null:a;var s}const ZT=()=>{const e=e=>FT(zT,(t,n,r)=>(t[r]=FT(n,e,{}),t),{});KT=e((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter(e=>"number"===typeof e).forEach(t=>{e[t.toString(16)]=n})}return e}),YT=e((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter(e=>"string"===typeof e).forEach(t=>{e[t]=n})}return e}),$T=e((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach(t=>{e[t]=n}),e});const t="far"in zT||yT.autoFetchSvg,n=FT(VT,(e,n)=>{const r=n[0];let a=n[1];const s=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:s}),e},{names:{},unicodes:{}});QT=n.names,XT=n.unicodes,qT=sC(yT.styleDefault,{family:yT.familyDefault})};var eC;function tC(e,t){return(KT[e]||{})[t]}function nC(e,t){return($T[e]||{})[t]}function rC(e){return QT[e]||{prefix:null,iconName:null}}function aC(){return qT}eC=e=>{qT=sC(e.styleDefault,{family:yT.familyDefault})},vT.push(eC),ZT();function sC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=PI}=t,r=nT[n][e];if(n===AI&&!e)return"fad";const a=aT[n][e]||aT[n][r],s=e in TT.styles?e:null;return a||s||null}function oC(e){return e.sort().filter((e,t,n)=>n.indexOf(e)===t)}function iC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=WI.concat(FI),s=oC(e.filter(e=>a.includes(e))),o=oC(e.filter(e=>!WI.includes(e))),i=s.filter(e=>(r=e,!_I.includes(e))),[l=null]=i,c=function(e){let t=PI;const n=HT.reduce((e,t)=>(e[t]="".concat(yT.cssPrefix,"-").concat(t),e),{});return EI.forEach(r=>{(e.includes(n[r])||e.some(e=>GT[r].includes(e)))&&(t=r)}),t}(s),u=hI(hI({},function(e){let t=[],n=null;return e.forEach(e=>{const r=JT(yT.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:sC(l,{family:c})});return hI(hI(hI({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:s={},config:o={}}=e,i=n===AI,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===o.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!i&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&lC.includes(n)){if(Object.keys(s).find(e=>cC.includes(e))||o.autoFetchSvg){const e=OI.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=nC(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=aC()||"fas");return r}({values:e,family:c,styles:zT,config:yT,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const s="fa"===t?rC(a):{},o=nC(r,a);a=s.iconName||o||a,r=s.prefix||r,"far"!==r||zT.far||!zT.fas||yT.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,u))}const lC=EI.filter(e=>e!==PI||e!==AI),cC=Object.keys(BI).filter(e=>e!==PI).map(e=>Object.keys(BI[e])).flat();let uC=[],dC={};const hC={},mC=Object.keys(hC);function fC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(dC[e]||[]).forEach(e=>{t=e.apply(null,[t,...r])}),t}function pC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(dC[e]||[]).forEach(e=>{e.apply(null,n)})}function gC(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return hC[e]?hC[e].apply(null,t):void 0}function yC(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||aC();if(t)return t=nC(n,t)||t,LT(vC.definitions,n,t)||LT(TT.styles,n,t)}const vC=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(e=>{this.definitions[e]=hI(hI({},this.definitions[e]||{}),r[e]),UT(e,r[e]);const t=oT[PI][e];t&&UT(t,r[e]),ZT()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(t=>{const{prefix:r,iconName:a,icon:s}=n[t],o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach(t=>{"string"===typeof t&&(e[r][t]=s)}),e[r][a]=s}),e}},xC={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return SI?(pC("beforeI2svg",e),gC("pseudoElements2svg",e),gC("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===yT.autoReplaceSvg&&(yT.autoReplaceSvg=!0),yT.observeMutations=!0,n=()=>{jC({autoReplaceSvgRoot:t}),pC("watch",e)},SI&&(DT?setTimeout(n,0):CT.push(n))}},bC={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:nC(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=sC(e[0]);return{prefix:n,iconName:nC(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(yT.cssPrefix,"-"))>-1||e.match(lT))){const t=iC(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||aC(),iconName:nC(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=aC();return{prefix:t,iconName:nC(t,e)||e}}}},wC={noAuto:()=>{yT.autoReplaceSvg=!1,yT.observeMutations=!1,pC("noAuto")},config:yT,dom:xC,parse:bC,library:vC,findIconDefinition:yC,toHtml:RT},jC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=bI}=e;(Object.keys(TT.styles).length>0||yT.autoFetchSvg)&&SI&&yT.autoReplaceSvg&&wC.dom.i2svg({node:t})};function SC(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(e=>RT(e))}}),Object.defineProperty(e,"node",{get:function(){if(!SI)return;const t=bI.createElement("div");return t.innerHTML=e.html,t.children}}),e}function NC(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:s,symbol:o,title:i,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:m}=n.found?n:t,f=MI.includes(r),p=[yT.replacementClass,a?"".concat(yT.cssPrefix,"-").concat(a):""].filter(e=>-1===u.classes.indexOf(e)).filter(e=>""!==e||!!e).concat(u.classes).join(" ");let g={children:[],attributes:hI(hI({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:p,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(m)})};const y=f&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/m*16*.0625,"em")}:{};d&&(g.attributes[KI]=""),i&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||wT())},children:[i]}),delete g.attributes.title);const v=hI(hI({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:s,symbol:o,styles:hI(hI({},y),u.styles)}),{children:x,attributes:b}=n.found&&t.found?gC("generateAbstractMask",v)||{children:[],attributes:{}}:gC("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=x,v.attributes=b,o?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:s}=e;const o=!0===s?"".concat(t,"-").concat(yT.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hI(hI({},a),{},{id:o}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:a,styles:s,transform:o}=e;if(_T(o)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=kT(hI(hI({},s),{},{"transform-origin":"".concat(r.x+o.x/16,"em ").concat(r.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(v)}function kC(e){const{content:t,width:n,height:r,transform:a,title:s,extra:o,watchable:i=!1}=e,l=hI(hI(hI({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});i&&(l[KI]="");const c=hI({},o.styles);_T(a)&&(c.transform=function(e){let{transform:t,width:n=GI,height:r=GI,startCentered:a=!1}=e,s="";return s+=a&&NI?"translate(".concat(t.x/xT-n/2,"em, ").concat(t.y/xT-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/xT,"em), calc(-50% + ").concat(t.y/xT,"em)) "):"translate(".concat(t.x/xT,"em, ").concat(t.y/xT,"em) "),s+="scale(".concat(t.size/xT*(t.flipX?-1:1),", ").concat(t.size/xT*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:a,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=kT(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}const{styles:_C}=TT;function PC(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(yT.cssPrefix,"-").concat(hT.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yT.cssPrefix,"-").concat(hT.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(yT.cssPrefix,"-").concat(hT.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const AC={found:!1,width:512,height:512};function EC(e,t){let n=t;return"fa"===t&&null!==yT.styleDefault&&(t=aC()),new Promise((r,a)=>{if("fa"===n){const n=rC(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&_C[t]&&_C[t][e]){return r(PC(_C[t][e]))}!function(e,t){ZI||yT.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(hI(hI({},AC),{},{icon:yT.showMissingIcons&&e&&gC("missingIconAbstract")||{}}))})}const OC=()=>{},IC=yT.measurePerformance&&jI&&jI.mark&&jI.measure?jI:{mark:OC,measure:OC},TC='FA "6.7.2"',CC=e=>{IC.mark("".concat(TC," ").concat(e," ends")),IC.measure("".concat(TC," ").concat(e),"".concat(TC," ").concat(e," begins"),"".concat(TC," ").concat(e," ends"))};var MC=e=>(IC.mark("".concat(TC," ").concat(e," begins")),()=>CC(e));const DC=()=>{};function RC(e){return"string"===typeof(e.getAttribute?e.getAttribute(KI):null)}function LC(e){return bI.createElementNS("http://www.w3.org/2000/svg",e)}function FC(e){return bI.createElement(e)}function BC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?LC:FC)}=t;if("string"===typeof e)return bI.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])});return(e.children||[]).forEach(function(e){r.appendChild(BC(e,{ceFn:n}))}),r}const WC={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(e=>{t.parentNode.insertBefore(BC(e),t)}),null===t.getAttribute(KI)&&yT.keepOriginalSource){let e=bI.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~ST(t).indexOf(yT.replacementClass))return WC.replace(e);const r=new RegExp("".concat(yT.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce((e,t)=>(t===yT.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map(e=>RT(e)).join("\n");t.setAttribute(KI,""),t.innerHTML=a}};function UC(e){e()}function zC(e,t){const n="function"===typeof t?t:DC;if(0===e.length)n();else{let t=UC;"async"===yT.mutateApproach&&(t=xI.requestAnimationFrame||UC),t(()=>{const t=!0===yT.autoReplaceSvg?WC.replace:WC[yT.autoReplaceSvg]||WC.replace,r=MC("mutate");e.map(t),r(),n()})}}let VC=!1;function HC(){VC=!0}function GC(){VC=!1}let qC=null;function KC(e){if(!wI)return;if(!yT.observeMutations)return;const{treeCallback:t=DC,nodeCallback:n=DC,pseudoElementsCallback:r=DC,observeMutationsRoot:a=bI}=e;qC=new wI(e=>{if(VC)return;const a=aC();jT(e).forEach(e=>{if("childList"===e.type&&e.addedNodes.length>0&&!RC(e.addedNodes[0])&&(yT.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&yT.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&RC(e.target)&&~dT.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(QI):null,n=e.getAttribute?e.getAttribute(XI):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=iC(ST(e.target));e.target.setAttribute(QI,t||a),n&&e.target.setAttribute(XI,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(yT.replacementClass)&&n(e.target);var s})}),SI&&qC.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function YC(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=iC(ST(e));return a.prefix||(a.prefix=aC()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function(e,t){return(YT[e]||{})[t]}(a.prefix,e.innerText)||tC(a.prefix,BT(e.innerText))),!a.iconName&&yT.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function QC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=YC(e),s=function(e){const t=jT(e.attributes).reduce((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return yT.autoA11y&&(n?t["aria-labelledby"]="".concat(yT.replacementClass,"-title-").concat(r||wT()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=fC("parseNodeAttributes",{},e);let i=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e},{})),n}(e):[];return hI({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:bT,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:i,attributes:s}},o)}const{styles:XC}=TT;function $C(e){const t="nest"===yT.autoReplaceSvg?QC(e,{styleParser:!1}):QC(e);return~t.extra.classes.indexOf(cT)?gC("generateLayersText",e,t):gC("generateSvgReplacementMutation",e,t)}function JC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!SI)return Promise.resolve();const n=bI.documentElement.classList,r=e=>n.add("".concat($I,"-").concat(e)),a=e=>n.remove("".concat($I,"-").concat(e)),s=yT.autoFetchSvg?[...II,...WI]:_I.concat(Object.keys(XC));s.includes("fa")||s.push("fa");const o=[".".concat(cT,":not([").concat(KI,"])")].concat(s.map(e=>".".concat(e,":not([").concat(KI,"])"))).join(", ");if(0===o.length)return Promise.resolve();let i=[];try{i=jT(e.querySelectorAll(o))}catch(u){}if(!(i.length>0))return Promise.resolve();r("pending"),a("complete");const l=MC("onTree"),c=i.reduce((e,t)=>{try{const n=$C(t);n&&e.push(n)}catch(u){ZI||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise((e,n)=>{Promise.all(c).then(n=>{zC(n,()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()})}).catch(e=>{l(),n(e)})})}function ZC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$C(e).then(e=>{e&&zC([e],t)})}const eM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=bT,symbol:r=!1,mask:a=null,maskId:s=null,title:o=null,titleId:i=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:m}=e;return SC(hI({type:"icon"},e),()=>(pC("beforeDOMElementCreation",{iconDefinition:e,params:t}),yT.autoA11y&&(o?c["aria-labelledby"]="".concat(yT.replacementClass,"-title-").concat(i||wT()):(c["aria-hidden"]="true",c.focusable="false")),NC({icons:{main:PC(m),mask:a?PC(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:hI(hI({},bT),n),symbol:r,title:o,maskId:s,titleId:i,extra:{attributes:c,styles:u,classes:l}})))};var tM={mixout(){return{icon:(e=eM,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:yC(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:yC(a||{})),e(r,hI(hI({},n),{},{mask:a}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=JC,e.nodeCallback=ZC,e)}),provides(e){e.i2svg=function(e){const{node:t=bI,callback:n=()=>{}}=e;return JC(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:s,transform:o,symbol:i,mask:l,maskId:c,extra:u}=t;return new Promise((t,d)=>{Promise.all([EC(n,s),l.iconName?EC(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(l=>{let[d,h]=l;t([e,NC({icons:{main:d,mask:h},prefix:s,iconName:n,transform:o,symbol:i,maskId:c,title:r,titleId:a,extra:u,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:s}=e;const o=kT(s);let i;return o.length>0&&(n.style=o),_T(a)&&(i=gC("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(i||r.icon),{children:t,attributes:n}}}},nM={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return SC({type:"layer"},()=>{pC("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(e=>{Array.isArray(e)?e.map(e=>{r=r.concat(e.abstract)}):r=r.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(yT.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},rM={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:s={}}=t;return SC({type:"counter",content:e},()=>(pC("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=hI(hI(hI({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=kT(r.styles);s.length>0&&(a.style=s);const o=[];return o.push({tag:"span",attributes:a,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:a,styles:s,classes:["".concat(yT.cssPrefix,"-layers-counter"),...r]}})))}})},aM={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=bT,title:r=null,classes:a=[],attributes:s={},styles:o={}}=t;return SC({type:"text",content:e},()=>(pC("beforeDOMElementCreation",{content:e,params:t}),kC({content:e,transform:hI(hI({},bT),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(yT.cssPrefix,"-layers-text"),...a]}})))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let s=null,o=null;if(NI){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,o=n.height/t}return yT.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,kC({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:a,watchable:!0})])}}};const sM=new RegExp('"',"ug"),oM=[1105920,1112319],iM=hI(hI(hI(hI({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),lM=Object.keys(iM).reduce((e,t)=>(e[t.toLowerCase()]=iM[t],e),{}),cM=Object.keys(lM).reduce((e,t)=>{const n=lM[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function uM(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((r,a)=>{if(null!==e.getAttribute(n))return r();const s=jT(e.children).filter(e=>e.getAttribute(YI)===t)[0],o=xI.getComputedStyle(e,t),i=o.getPropertyValue("font-family"),l=i.match(uT),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(lM[n]||{})[a]||cM[n]}(i,c);const{value:h,isSecondary:m}=function(e){const t=e.replace(sM,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=oM[0]&&n<=oM[1],a=2===t.length&&t[0]===t[1];return{value:BT(a?t[0]:t),isSecondary:r||a}}(u),f=l[0].startsWith("FontAwesome");let p=tC(d,h),g=p;if(f){const e=function(e){const t=XT[e],n=tC("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(p=e.iconName,d=e.prefix)}if(!p||m||s&&s.getAttribute(QI)===d&&s.getAttribute(XI)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const o={iconName:null,title:null,titleId:null,prefix:null,transform:bT,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:i}=o;i.attributes[YI]=t,EC(p,d).then(a=>{const s=NC(hI(hI({},o),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:i,watchable:!0})),l=bI.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map(e=>RT(e)).join("\n"),e.removeAttribute(n),r()}).catch(a)}}else r()})}function dM(e){return Promise.all([uM(e,"::before"),uM(e,"::after")])}function hM(e){return e.parentNode!==document.head&&!~JI.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(YI)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function mM(e){if(SI)return new Promise((t,n)=>{const r=jT(e.querySelectorAll("*")).filter(hM).map(dM),a=MC("searchPseudoElements");HC(),Promise.all(r).then(()=>{a(),GC(),t()}).catch(()=>{a(),GC(),n()})})}var fM={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=mM,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=bI}=e;yT.searchPseudoElements&&mM(t)}}};let pM=!1;var gM={mixout:()=>({dom:{unwatch(){HC(),pM=!0}}}),hooks:()=>({bootstrap(){KC(fC("mutationObserverCallbacks",{}))},noAuto(){qC&&qC.disconnect()},watch(e){const{observeMutationsRoot:t}=e;pM?GC():KC(fC("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const yM=e=>e.toLowerCase().split(" ").reduce((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var vM={mixout:()=>({parse:{transform:e=>yM(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=yM(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),i="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:s,inner:{transform:"".concat(o," ").concat(i," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:hI({},c.outer),children:[{tag:"g",attributes:hI({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:hI(hI({},t.icon.attributes),c.path)}]}]}}}};const xM={x:0,y:0,width:"100%",height:"100%"};function bM(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var wM={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?iC(n.split(" ").map(e=>e.trim())):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=aC()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:s,transform:o}=e;const{width:i,icon:l}=r,{width:c,icon:u}=a,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),i="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(i)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:i}),h={tag:"rect",attributes:hI(hI({},xM),{},{fill:"white"})},m=l.children?{children:l.children.map(bM)}:{},f={tag:"g",attributes:hI({},d.inner),children:[bM(hI({tag:l.tag,attributes:hI(hI({},l.attributes),d.path)},m))]},p={tag:"g",attributes:hI({},d.outer),children:[f]},g="mask-".concat(s||wT()),y="clip-".concat(s||wT()),v={tag:"mask",attributes:hI(hI({},xM),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(b=u,"g"===b.tag?b.children:[b])},v]};var b;return t.push(x,{tag:"rect",attributes:hI({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},xM)}),{children:t,attributes:n}}}},jM={provides(e){let t=!1;xI.matchMedia&&(t=xI.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:hI(hI({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=hI(hI({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:hI(hI({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:hI(hI({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:hI(hI({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:hI(hI({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:hI(hI({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:hI(hI({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:hI(hI({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;uC=e,dC={},Object.keys(hC).forEach(e=>{-1===mC.indexOf(e)&&delete hC[e]}),uC.forEach(e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach(r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){const t=e.hooks();Object.keys(t).forEach(e=>{dC[e]||(dC[e]=[]),dC[e].push(t[e])})}e.provides&&e.provides(hC)})}([OT,tM,nM,rM,aM,fM,gM,vM,wM,jM,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:wC});const SM=wC.parse,NM=wC.icon;function kM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(t){_M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||TM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OM(e){return function(e){if(Array.isArray(e))return kM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||TM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IM(e){return IM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IM(e)}function TM(e,t){if(e){if("string"==typeof e)return kM(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kM(e,t):void 0}}var CM;try{var MM=n(5900);CM=MM.version}catch(VB){CM="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FA_VERSION||"7.0.0"}function DM(e){var t=e.beat,n=e.fade,r=e.beatFade,a=e.bounce,s=e.shake,o=e.flash,i=e.spin,l=e.spinPulse,c=e.spinReverse,u=e.pulse,d=e.fixedWidth,h=e.inverse,m=e.border,f=e.listItem,p=e.flip,g=e.size,y=e.rotation,v=e.pull,x=e.swapOpacity,b=e.rotateBy,w=e.widthAuto,j=function(e,t){for(var n=EM(e.split("-"),2),r=n[0],a=n[1],s=EM(t.split("-"),2),o=s[0],i=s[1],l=r.split("."),c=o.split("."),u=0;u<Math.max(l.length,c.length);u++){var d=l[u]||"0",h=c[u]||"0",m=parseInt(d,10),f=parseInt(h,10);if(m!==f)return m>f}for(var p=0;p<Math.max(l.length,c.length);p++){var g=l[p]||"0",y=c[p]||"0";if(g!==y&&g.length!==y.length)return g.length<y.length}return!(a&&!i)}(CM,"7.0.0"),S=_M(_M(_M(_M(_M(_M({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":u,"fa-fw":d,"fa-inverse":h,"fa-border":m,"fa-li":f,"fa-flip":!0===p,"fa-flip-horizontal":"horizontal"===p||"both"===p,"fa-flip-vertical":"vertical"===p||"both"===p},"fa-".concat(g),"undefined"!==typeof g&&null!==g),"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),"fa-swap-opacity",x),"fa-rotate-by",j&&b),"fa-width-auto",j&&w);return Object.keys(S).map(function(e){return S[e]?e:null}).filter(function(e){return e})}function RM(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var LM=["style"];var FM=!1;try{FM=!0}catch(VB){}function BM(e){return e&&"object"===IM(e)&&e.prefix&&e.iconName&&e.icon?e:SM.icon?SM.icon(e):null===e?null:e&&"object"===IM(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function WM(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?_M({},e,t):{}}var UM={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},zM=t.forwardRef(function(e,t){var n=AM(AM({},UM),e),r=n.icon,a=n.mask,s=n.symbol,o=n.className,i=n.title,l=n.titleId,c=n.maskId,u=BM(r),d=WM("classes",[].concat(OM(DM(n)),OM((o||"").split(" ")))),h=WM("transform","string"===typeof n.transform?SM.transform(n.transform):n.transform),m=WM("mask",BM(a)),f=NM(u,AM(AM(AM(AM({},d),h),m),{},{symbol:s,title:i,titleId:l,maskId:c}));if(!f)return function(){var e;!FM&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=f.abstract,g={ref:t};return Object.keys(n).forEach(function(e){UM.hasOwnProperty(e)||(g[e]=n[e])}),VM(p[0],g)});zM.displayName="FontAwesomeIcon",zM.propTypes={beat:hf().bool,border:hf().bool,beatFade:hf().bool,bounce:hf().bool,className:hf().string,fade:hf().bool,flash:hf().bool,mask:hf().oneOfType([hf().object,hf().array,hf().string]),maskId:hf().string,fixedWidth:hf().bool,inverse:hf().bool,flip:hf().oneOf([!0,!1,"horizontal","vertical","both"]),icon:hf().oneOfType([hf().object,hf().array,hf().string]),listItem:hf().bool,pull:hf().oneOf(["right","left"]),pulse:hf().bool,rotation:hf().oneOf([0,90,180,270]),rotateBy:hf().bool,shake:hf().bool,size:hf().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:hf().bool,spinPulse:hf().bool,spinReverse:hf().bool,symbol:hf().oneOfType([hf().bool,hf().string]),title:hf().string,titleId:hf().string,transform:hf().oneOfType([hf().string,hf().object]),swapOpacity:hf().bool,widthAuto:hf().bool};var VM=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map(function(n){return e(t,n)}),s=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),a=RM(t.slice(0,r)),s=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[a]=s,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[RM(t)]=r}return e},{attrs:{}}),o=r.style,i=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,LM);return s.attrs.style=AM(AM({},s.attrs.style),i),t.apply(void 0,[n.tag,AM(AM({},s.attrs),l)].concat(OM(a)))}.bind(null,t.createElement);const HM={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},GM={prefix:"fas",iconName:"repeat",icon:[512,512,[128257],"f363","M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"]},qM={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},KM={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0L176 0c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8L24 64C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9L192 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-26.1 0C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24L446.4 64c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112l84.4 0c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6l84.4 0c-5.1 66.3-31.1 111.2-63 142.3z"]};const YM=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,currentSeason:a,nflState:o,loading:i,error:l}=J(),[c,d]=(0,t.useState)("totalWins"),[h,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)({}),w={totalWins:{title:"Total Wins",description:"Career victory milestones celebrating the most successful franchises in league history. Every win counts toward these legendary achievements.",icon:"\ud83c\udfc6",thresholds:[25,50,75,100,150],color:"green"},totalLosses:{title:"Total Losses",description:"Career loss milestones that track the journey through adversity. Sometimes the path to greatness includes learning from defeat.",icon:"\ud83d\udc80",thresholds:[25,50,75,100,150],color:"red"},allPlayWins:{title:"All-Play Wins",description:"All-Play wins show how often your score would beat every other team that week. This milestone celebrates consistent high-level performance.",icon:"\u26a1",thresholds:[50,100,200,300,500],color:"blue"},allPlayLosses:{title:"All-Play Losses",description:"All-Play losses track how many teams would have beaten you each week. This milestone shows the journey through challenging performances.",icon:"\ud83d\udcb8",thresholds:[50,100,200,300,500],color:"purple"},totalPoints:{title:"Total Points",description:"Career scoring milestones recognizing the highest cumulative point totals in league history. These achievements showcase offensive consistency and excellence.",icon:"\ud83d\udcca",thresholds:[1e3,2500,5e3,7500,1e4],color:"yellow"},highScores:{title:"High Scores",description:"Milestones for achieving the most high-scoring weeks (top 3 performances each week). Recognition for explosive offensive performances.",icon:"\ud83d\ude80",thresholds:[5,10,25,50,75],color:"orange"}},j=e=>{const t=JSON.parse(JSON.stringify(w)),n=Object.keys(e||{}).length;return Object.keys(t).forEach(r=>{const a=t[r],s=[...a.thresholds];let o=0,i=0;Object.values(e).forEach(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}o=Math.max(o,t)});const l=Math.max(...s);if(n>0&&(i=Object.values(e).filter(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}return t>=l}).length),o>=l){const e=S(r,l,o);a.thresholds=[...new Set([...s,...e])].sort((e,t)=>e-t)}}),t},S=(e,t,n)=>{const r=[];let a=t;const s={totalWins:[25,50,25,25,50],totalLosses:[25,50,25,25,50],allPlayWins:[100,200,200,300,500],allPlayLosses:[100,200,200,300,500],totalPoints:[2500,2500,5e3,5e3,1e4],highScores:[25,25,50,50,100]}[e]||[50,100,100,200,500];let o=0;for(;a<=n+2*s[o%s.length]&&(a+=s[o%s.length],r.push(a),o++,!(r.length>=10)););return r},N=Object.keys(p).length>0?p:w;(0,t.useEffect)(()=>{if(!i&&e)try{k()}catch(t){f.A.error("Error calculating milestones:",t)}finally{v(!1)}else v(!0)},[e,i]);const k=()=>{f.A.debug("=== SIMPLE MILESTONE TRACKER START ===");const{careerDPRData:t}=s(e,0,n,o);if(!t||0===t.length)return void f.A.warn("No career data found");const i={},l={},c={};t.forEach(e=>{const t=e.ownerId,s=r(t,a);i[t]={wins:0,losses:0,ties:0,points:0,allPlayWins:0,allPlayLosses:0,highScores:0,finalWins:e.wins||0,finalLosses:e.losses||0,finalTies:e.ties||0,finalPoints:e.pointsFor||0,finalAllPlayWins:e.allPlayWins||0,finalAllPlayLosses:e.allPlayLosses||0,finalHighScores:e.topScoreWeeksCount||0},l[t]={name:e.teamName||n(t,a),avatar:null===s||void 0===s?void 0:s.avatar}});let u=j(i);Object.keys(u).forEach(e=>{c[e]={},u[e].thresholds.forEach(t=>{c[e][t]=[]})});const d=Object.keys(e.matchupsBySeason||{}).sort((e,t)=>parseInt(e)-parseInt(t));let h=0;f.A.debug("Processing ".concat(d.length," seasons chronologically")),d.forEach(t=>{var n,r;const a=(null===(n=e.matchupsBySeason)||void 0===n?void 0:n[t])||[],s=(null===(r=e.rostersBySeason)||void 0===r?void 0:r[t])||[],o={};a.forEach(e=>{const t=e.week;o[t]||(o[t]=[]),o[t].push(e)});const d=Object.keys(o).sort((e,t)=>parseInt(e)-parseInt(t));d.forEach(e=>{h++;const n=o[e],r=[];n.forEach(e=>{const t=s.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=null!==e.team2_roster_id&&void 0!==e.team2_roster_id?s.find(t=>String(t.roster_id)===String(e.team2_roster_id)):null;if(!t)return;const a=String(t.owner_id),o=n?String(n.owner_id):null,l=parseFloat(e.team1_score)||0,c=parseFloat(e.team2_score)||0;i[a]&&(i[a].points+=l,o&&i[o]&&(i[o].points+=c),o&&i[o]&&(l>c?(i[a].wins++,i[o].losses++):c>l?(i[o].wins++,i[a].losses++):(i[a].ties++,i[o].ties++)),r.push({ownerId:a,score:l}),o&&r.push({ownerId:o,score:c}))}),r.forEach(e=>{r.forEach(t=>{e.ownerId!==t.ownerId&&(e.score>t.score?i[e.ownerId].allPlayWins++:e.score<t.score&&i[e.ownerId].allPlayLosses++)})});const a=[...r].sort((e,t)=>t.score-e.score);for(let t=0;t<Math.min(3,a.length);t++)i[a[t].ownerId].highScores++;u=j(i),Object.keys(u).forEach(e=>{c[e]||(c[e]={}),u[e].thresholds.forEach(t=>{void 0===c[e][t]&&(c[e][t]=[])})}),Object.keys(i).forEach(n=>{const r=i[n],a={totalWins:r.wins,totalLosses:r.losses,allPlayWins:r.allPlayWins,allPlayLosses:r.allPlayLosses,totalPoints:r.points,highScores:r.highScores};Object.keys(a).forEach(r=>{const s=a[r];(u[r]||w[r]).thresholds.forEach(a=>{if(s>=a){var o,i;if(!c[r][a].some(e=>e.ownerId===n))c[r][a].push({ownerId:n,season:parseInt(t),week:parseInt(e),globalWeek:h,value:s,teamName:(null===(o=l[n])||void 0===o?void 0:o.name)||"Team ".concat(n)}),f.A.info("\ud83c\udfc6 ".concat(r," ").concat(a,": ").concat(null===(i=l[n])||void 0===i?void 0:i.name," achieved in S").concat(t,"W").concat(e," (value: ").concat(s,")"))}})})})})});const p={};Object.keys(i).forEach(e=>{p[e]={},Object.keys(w).forEach(t=>{p[e][t]={};const n=i[e]["totalWins"===t?"finalWins":"totalLosses"===t?"finalLosses":"allPlayWins"===t?"finalAllPlayWins":"allPlayLosses"===t?"finalAllPlayLosses":"totalPoints"===t?"finalPoints":"finalHighScores"];w[t].thresholds.forEach(r=>{p[e][t][r]={achieved:n>=r,currentValue:n,remaining:Math.max(0,r-n),progress:Math.min(100,n/r*100)}})})}),Object.keys(i).forEach(e=>{i[e].achievements=p[e]}),g(u),m({teamStats:i,allRosters:l,achievementHistory:c}),f.A.debug("=== MILESTONE TRACKING COMPLETE ==="),f.A.debug("Achievement timeline summary:",Object.keys(c).map(e=>({milestone:e,achievements:Object.keys(c[e]).map(t=>{var n;return{threshold:t,count:c[e][t].length,firstAchiever:(null===(n=c[e][t][0])||void 0===n?void 0:n.teamName)||"None"}})})))},_=(e,t)=>{if(!h.teamStats)return[];const n=[];return Object.keys(h.teamStats).forEach(r=>{var a;const s=null===(a=h.teamStats[r].achievements[e])||void 0===a?void 0:a[t];if(null!==s&&void 0!==s&&s.achieved){var o,i,l;const a=null===(o=h.achievementHistory)||void 0===o||null===(i=o[e])||void 0===i||null===(l=i[t])||void 0===l?void 0:l.find(e=>e.ownerId===r);n.push(u(u({ownerId:r},h.allRosters[r]),{},{currentValue:s.currentValue,timingInfo:a||null}))}}),n.sort((e,t)=>e.timingInfo&&t.timingInfo?e.timingInfo.globalWeek-t.timingInfo.globalWeek:t.currentValue-e.currentValue)},P=(e,t)=>{const n=_(e,t),r=Object.keys(h.teamStats||{}).length;return n.length===r&&r>0},A=(e,t)=>"totalPoints"===t?e.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}):e.toString();return l?(0,K.jsx)("div",{className:"text-center py-8",children:(0,K.jsxs)("p",{className:"text-red-600",children:["Error loading data: ",l]})}):y?(0,K.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,K.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,K.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading milestones..."})]}):(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 bg-gray-50 p-4 rounded-lg",children:Object.keys(N).map(e=>(0,K.jsxs)("button",{onClick:()=>d(e),className:"p-3 rounded-lg text-sm font-medium transition-all duration-200 ".concat(c===e?"bg-".concat(N[e].color,"-100 text-").concat(N[e].color,"-800 border-2 border-").concat(N[e].color,"-300"):"bg-white text-gray-600 border-2 border-transparent hover:bg-gray-100"),children:[(0,K.jsx)("div",{className:"text-lg mb-1",children:N[e].icon}),(0,K.jsx)("div",{className:"text-xs leading-tight",children:N[e].title})]},e))}),c&&N[c]&&(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,K.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,K.jsx)("div",{className:"text-4xl sm:text-5xl",children:N[c].icon}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:N[c].title}),(0,K.jsx)("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:N[c].description})]})]})}),(0,K.jsx)("div",{className:"space-y-4",children:((e=>{var t;const n=(null===(t=(Object.keys(p).length>0?p:w)[e])||void 0===t?void 0:t.thresholds)||[];if(null===h||void 0===h||!h.teamStats)return n.slice().sort((e,t)=>t-e);let r=0;Object.keys(h.teamStats).forEach(t=>{const n=h.teamStats[t];if(!n)return;let a=0;switch(e){case"totalWins":a=n.finalWins||0;break;case"totalLosses":a=n.finalLosses||0;break;case"allPlayWins":a=n.finalAllPlayWins||0;break;case"allPlayLosses":a=n.finalAllPlayLosses||0;break;case"totalPoints":a=n.finalPoints||0;break;case"highScores":a=n.finalHighScores||0;break;default:a=0}r=Math.max(r,a)});const a=n.slice().sort((e,t)=>e-t);let s=a.findIndex(e=>e>r);if(-1===s)return a.slice().sort((e,t)=>t-e);return a.slice(0,s+1).sort((e,t)=>t-e)})(c)||[]).map(e=>{const t=_(c,e),n=((e,t)=>{if(!h.teamStats)return[];const n=[];return Object.keys(h.teamStats).forEach(r=>{var a;const s=null===(a=h.teamStats[r].achievements[e])||void 0===a?void 0:a[t];(null===s||void 0===s||!s.achieved)&&(null===s||void 0===s?void 0:s.remaining)<=10&&(null===s||void 0===s?void 0:s.remaining)>0&&n.push(u(u({ownerId:r},h.allRosters[r]),{},{remaining:s.remaining,currentValue:s.currentValue}))}),n.sort((e,t)=>e.remaining-t.remaining)})(c,e),r=((e,t)=>{if(!h.teamStats)return[];const n=[];return Object.keys(h.teamStats).forEach(r=>{var a;const s=null===(a=h.teamStats[r].achievements[e])||void 0===a?void 0:a[t];s&&n.push(u(u({ownerId:r},h.allRosters[r]),{},{currentValue:s.currentValue,remaining:s.remaining,progress:s.progress||0,achieved:s.achieved}))}),n.sort((e,t)=>e.achieved&&!t.achieved?-1:!e.achieved&&t.achieved?1:t.currentValue-e.currentValue)})(c,e),a=((e,t)=>{var n,r;if(null===(n=h.achievementHistory)||void 0===n||null===(r=n[e])||void 0===r||!r[t])return null;const a=h.achievementHistory[e][t];if(0===a.length)return null;const s=[...a].sort((e,t)=>e.globalWeek-t.globalWeek),o=s[0];return{firstAchiever:{ownerId:o.ownerId,name:o.teamName,globalWeek:o.globalWeek,season:o.season,week:o.week},allAchievements:s.map(e=>({ownerId:e.ownerId,name:e.teamName,globalWeek:e.globalWeek,weeksAfterFirst:e.globalWeek-o.globalWeek,season:e.season,week:e.week,achievedIn:e.globalWeek}))}})(c,e),s=P(c,e),o=((e,t)=>{const n="".concat(e,"-").concat(t),r=P(e,t);return void 0!==x[n]?x[n]:!r})(c,e);return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,K.jsx)("div",{className:"p-3 sm:p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>((e,t)=>{const n="".concat(e,"-").concat(t);b(e=>u(u({},e),{},{[n]:!e[n]}))})(c,e),children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-3 h-3 rounded-full bg-".concat(N[c].color,"-500")}),(0,K.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[A(e,c)," ",N[c].title]}),t.length>0&&(0,K.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-".concat(N[c].color,"-100 text-").concat(N[c].color,"-800"),children:[t.length," achieved"]})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,K.jsx)("span",{className:"text-xs text-gray-500 hidden sm:inline",children:"All teams achieved"}),o?(0,K.jsx)(zM,{icon:HM,className:"h-5 w-5 text-gray-400"}):(0,K.jsx)(zM,{icon:qM,className:"h-5 w-5 text-gray-400"})]})]})}),o&&(0,K.jsxs)("div",{className:"border-t border-gray-200 p-4 sm:p-6 space-y-4",children:[t.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,K.jsx)(zM,{icon:KM,className:"h-4 w-4 text-yellow-500 mr-2"}),"Achievement Timeline (",t.length,")"]}),(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,K.jsx)("thead",{className:"bg-".concat(N[c].color,"-50"),children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Team"}),(0,K.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Season"}),(0,K.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Week"}),(0,K.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Weeks"}),(0,K.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Difference"})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-200",children:null!==a&&void 0!==a&&a.allAchievements?a.allAchievements.map((e,t)=>{var n;const r=0===t;return(0,K.jsxs)("tr",{className:r?"bg-yellow-50":"hover:bg-gray-50",children:[(0,K.jsx)("td",{className:"px-3 py-2",children:(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===(n=h.allRosters[e.ownerId])||void 0===n?void 0:n.avatar)&&(0,K.jsx)("img",{src:h.allRosters[e.ownerId].avatar,alt:e.name,className:"w-6 h-6 rounded-full"}),(0,K.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-900":"text-gray-900"),children:e.name}),r&&(0,K.jsx)("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-1 py-0.5 rounded",children:"1st"})]})}),(0,K.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.season}),(0,K.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.week}),(0,K.jsx)("td",{className:"px-3 py-2",children:(0,K.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-700":"text-gray-700"),children:e.achievedIn})}),(0,K.jsx)("td",{className:"px-3 py-2",children:r?(0,K.jsx)("span",{className:"text-sm font-medium text-yellow-700",children:"First"}):(0,K.jsxs)("span",{className:"text-sm text-red-600",children:["+",e.weeksAfterFirst," weeks"]})})]},e.ownerId)}):(0,K.jsx)("tr",{children:(0,K.jsx)("td",{colSpan:"5",className:"px-3 py-4 text-center text-sm text-gray-500",children:"No timing data available for this milestone"})})})]})})]}),n.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,K.jsx)("span",{className:"text-orange-500 mr-2",children:"\ud83d\udc40"}),"Close to Achievement (",n.length,")"]}),(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map(e=>(0,K.jsx)("div",{className:"p-3 rounded-lg bg-orange-50 border border-orange-200",children:(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar&&(0,K.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,K.jsxs)("p",{className:"text-xs text-orange-600",children:[e.remaining," away (",A(e.currentValue,c),")"]})]})]})},e.ownerId))})]}),r.filter(e=>!e.achieved&&e.remaining>10).length>0&&(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Progress Tracker"}),(0,K.jsx)("div",{className:"space-y-2",children:r.filter(e=>!e.achieved&&e.remaining>10).slice(0,5).map(t=>(0,K.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[t.avatar&&(0,K.jsx)("img",{src:t.avatar,alt:t.name,className:"w-6 h-6 rounded-full"}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.name})]}),(0,K.jsxs)("span",{className:"text-xs text-gray-600",children:[A(t.currentValue,c)," / ",A(e,c)]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("div",{className:"flex-1 w-full bg-gray-200 rounded-full h-2",children:(0,K.jsx)("div",{className:"bg-".concat(N[c].color,"-500 h-2 rounded-full transition-all duration-300"),style:{width:"".concat(Math.min(100,t.progress),"%")}})}),(0,K.jsx)("div",{className:"w-12 text-right",children:(0,K.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[Math.min(100,Math.round(t.progress)),"%"]})})]})]},t.ownerId))})]})]})]},e)})})]})]})},QM=()=>{const[e,n]=(0,t.useState)("overall"),{historicalData:r,processedSeasonalRecords:a,getTeamName:o,loading:i,error:l}=J();if(i)return(0,K.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading league data..."});if(l)return(0,K.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading data: ",l.message]});const c=[],d=new Set;if(null!==r&&void 0!==r&&r.matchupsBySeason)for(const t in r.matchupsBySeason){const e=parseInt(t),n=r.matchupsBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="".concat(n.matchup_id,"-").concat(n.season,"-").concat(n.week,"-").concat(n.team1_roster_id,"-").concat(n.team2_roster_id);if(!d.has(a)){var s,i,l,h;const m=String(n.team1_roster_id),f=String(n.team2_roster_id),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===m),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===f),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{year:e,team1:o(y,e),team2:o(v,e),team1Score:n.team1_score,team2Score:n.team2_score,playoffs:!1,finalSeedingGame:null,isWinnersBracket:!1,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.winnersBracketBySeason)for(const t in r.winnersBracketBySeason){const e=parseInt(t),n=r.winnersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const m=String(n.t1),f=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===m),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===f),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:m,team1Score:n.t1_score,team2_roster_id:f,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!0,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.losersBracketBySeason)for(const t in r.losersBracketBySeason){const e=parseInt(t),n=r.losersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-loser-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const m=String(n.t1),f=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===m),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===f),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:m,team1Score:n.t1_score,team2_roster_id:f,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!1,isLosersBracket:!0})),d.add(a)}})}const h=r&&Object.keys(r).length>0&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0,m=a&&Object.keys(a).length>0,f=c.length>0,p=r&&r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).length>0;return(0,K.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[(0,K.jsxs)("div",{className:"text-center mb-12",children:[(0,K.jsx)("h1",{className:"text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"\ud83c\udfc6 League Record Book"}),(0,K.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover the greatest achievements and records in our league's history"})]}),(0,K.jsx)("div",{className:"mb-10",children:(0,K.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-2 border border-gray-200",children:(0,K.jsxs)("nav",{className:"flex flex-col sm:flex-row gap-2 sm:gap-1",children:[(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("overall"===e?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("overall"),"aria-current":"overall"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Overall Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Leaders"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("seasonal"===e?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("seasonal"),"aria-current":"seasonal"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Seasonal Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Season"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("streaks"===e?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("streaks"),"aria-current":"streaks"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Streak Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Consecutive"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("matchup"===e?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("matchup"),"aria-current":"matchup"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Game Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Game"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("playoffs"===e?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("playoffs"),"aria-current":"playoffs"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Playoff Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Postseason"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("players"===e?"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("players"),"aria-current":"players"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Player Records"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Individual Stars"})]}),(0,K.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("milestones"===e?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("milestones"),"aria-current":"milestones"===e?"page":void 0,children:[(0,K.jsx)("span",{className:"block text-center",children:"Milestones"}),(0,K.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Milestones"})]})]})})}),(0,K.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:["overall"===e&&(0,K.jsx)(K.Fragment,{children:h?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(aI,{historicalData:r,getTeamName:o,calculateAllLeagueMetrics:s})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Overall Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No overall league data available yet."})]})}),"seasonal"===e&&(0,K.jsx)(K.Fragment,{children:m?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(sI,{})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Seasonal Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No seasonal data available for display."})]})}),"streaks"===e&&(0,K.jsx)(K.Fragment,{children:f?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(oI,{historicalMatchups:c})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Streak Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate streaks."})]})}),"matchup"===e&&(0,K.jsx)(K.Fragment,{children:f?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(iI,{})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\u2694\ufe0f"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Matchup Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate matchup records."})]})}),"playoffs"===e&&(0,K.jsx)(K.Fragment,{children:p?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(lI,{historicalMatchups:c,getDisplayTeamName:o})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Playoff Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No historical playoff data available."})]})}),"players"===e&&(0,K.jsx)(K.Fragment,{children:r?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(cI,{})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\u2b50"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Player Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No historical player data available."})]})}),"milestones"===e&&(0,K.jsx)(K.Fragment,{children:r?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(YM,{})}):(0,K.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,K.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Milestone Data"}),(0,K.jsx)("p",{className:"text-gray-500",children:"No historical data available to compute milestones."})]})})]})]})})},XM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(t)};function $M(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}function JM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n.filter(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id,r=void 0!==t.t2?t.t2:t.team2_roster_id;return String(n)===String(e)||String(r)===String(e)});r&&(a=a.slice(-r));const s=a.map(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id;return String(n)===String(e)?void 0!==t.t1_score?t.t1_score:t.team1_score:void 0!==t.t2_score?t.t2_score:t.team2_score}).filter(e=>"number"===typeof e);if(0===s.length)return{mean:0,variance:0,count:0,recentMean:0};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=s.slice(-3),c=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:o;return{mean:o,variance:i,count:s.length,recentMean:c}}const ZM=e=>"number"!==typeof e||isNaN(e)?"N/A":XM(e,3),eD=(e,t,n)=>n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),tD=e=>"number"!==typeof e||isNaN(e)?"N/A":XM(e,2),nD=e=>"number"!==typeof e||isNaN(e)?"N/A":XM(e,3),rD=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,loading:a,error:o,currentSeason:i,nflState:l}=J(),[c,d]=(0,t.useState)([]),[h,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(0),[x,b]=(0,t.useState)({}),[w,j]=(0,t.useState)(!1),S=e&&e.rostersBySeason&&e.rostersBySeason[i]?e.rostersBySeason[i].length:c&&c.length?c.length:12;(0,t.useEffect)(()=>{if(a||!e||!e.matchupsBySeason)return m(!0),void g(o||null);let t=i;if(!t){const n=Object.keys(e.matchupsBySeason);n.length>0&&(t=Math.max(...n.map(Number)).toString())}const r=e.matchupsBySeason[t];if(!r||0===r.length)return d([]),m(!1),void g("No games have been played for the current season yet. Please check back after the first week's games have been completed.");const c=l&&l.week?parseInt(l.week):1,h=c>1?c-1:1;v(h);const p=e.matchupsBySeason[t]||[],y=e.rostersBySeason[t]||[],x={};y.forEach(e=>{x[String(e.roster_id)]=e.owner_id});const w={};y.forEach(e=>{w[e.owner_id]=0}),p.filter(e=>parseInt(e.week)<=h&&parseInt(e.week)<=14).forEach(e=>{const t=void 0!==e.t1?e.t1:e.team1_roster_id,n=void 0!==e.t2?e.t2:e.team2_roster_id,r=x[String(t)]||t,a=x[String(n)]||n,s=void 0!==e.t1_score?e.t1_score:e.team1_score,o=void 0!==e.t2_score?e.t2_score:e.team2_score;s>o?w[r]=(w[r]||0)+1:o>s&&(w[a]=(w[a]||0)+1)});const j={},S={};y.forEach(e=>{j[e.owner_id]=0,S[e.owner_id]=[]});const N={};y.forEach(e=>{const t=p.filter(t=>(t.t1===e.roster_id||t.team1_roster_id===e.roster_id||t.t2===e.roster_id||t.team2_roster_id===e.roster_id)&&parseInt(t.week)<=h);let n=0,r=0;t.forEach(t=>{t.t1===e.roster_id||t.team1_roster_id===e.roster_id?(n+=void 0!==t.t1_score?t.t1_score:t.team1_points,r++):t.t2!==e.roster_id&&t.team2_roster_id!==e.roster_id||(n+=void 0!==t.t2_score?t.t2_score:t.team2_points,r++)}),N[e.owner_id]=r>0?n/r:0});for(let e=h+1;e<=14;e++){const n=p.filter(t=>parseInt(t.week)===e),r=p.filter(e=>parseInt(e.week)<=h);n.forEach(e=>{const n=void 0!==e.t1?e.t1:e.team1_roster_id,a=void 0!==e.t2?e.t2:e.team2_roster_id,s=x[String(n)]||n,o=x[String(a)]||a,i=JM(n,t,r,4),l=JM(a,t,r,4),c=i.mean,u=l.mean,d=i.variance,h=l.variance,m=i.count>=2?i.count:1,f=l.count>=2?l.count:1,p=c-u;let g=Math.sqrt(d/m+h/f);if(g<=0||i.count<2||l.count<2){const e=15;g=Math.max(g,e)}const y=Math.max(-20,Math.min(20,p));let v=.5;g>0&&(v=.5+.5*$M(y/(Math.sqrt(2)*g))),v=Math.max(.05,Math.min(.95,v));let b=1-v;b=Math.max(.05,Math.min(.95,b)),j[s]+=v,j[o]+=b,S[s].push(N[o]),S[o].push(N[s])})}try{const r=s(e,0,n,l),a=(((null===r||void 0===r?void 0:r.seasonalMetrics)||{})[t],r=>{const a=JSON.parse(JSON.stringify(e));a.matchupsBySeason&&a.matchupsBySeason[t]&&(a.matchupsBySeason[t]=a.matchupsBySeason[t].filter(e=>parseInt(e.week)<=r));const o=s(a,0,n,l),i=((null===o||void 0===o?void 0:o.seasonalMetrics)||{})[t]||{};return Object.keys(i).map(e=>{const r=i[e];return{ownerId:r.ownerId,team:n(r.ownerId,t),dpr:r.adjustedDPR,wins:r.wins,losses:r.losses,ties:r.ties,pointsFor:r.pointsFor,pointsAgainst:r.pointsAgainst,luckRating:r.luckRating,year:t}}).filter(e=>e.wins+e.losses+e.ties>0).sort((e,t)=>t.dpr-e.dpr).map((e,t)=>u(u({},e),{},{rank:t+1}))});f.A.debug("DEBUG actualWins:",w),f.A.debug("DEBUG projectedFutureWins:",j);const o=a(h);f.A.debug("DEBUG currentRankings ownerIds:",o.map(e=>e.ownerId));const c=h>1?a(h-1):[],v=h>2?a(h-2):[],N=h>3?a(h-3):[],k={},_={},P={},A={};p&&p.length>0&&p.forEach(e=>{const t=parseInt(e.week);A[t]||(A[t]=[]);const n=void 0!==e.t1?e.t1:e.team1_roster_id,r=void 0!==e.t2?e.t2:e.team2_roster_id,a=x[String(n)]||n,s=x[String(r)]||r,o=void 0!==e.t1_score?e.t1_score:e.team1_score||0,i=void 0!==e.t2_score?e.t2_score:e.team2_score||0;A[t].push({ownerId:a,points:o}),A[t].push({ownerId:s,points:i})});const E=new Set;let O=new Set(y.map(e=>e.owner_id));for(let e=1;e<=h;e++){const t=(A[e]||[]).filter(e=>O.has(e.ownerId)&&!E.has(e.ownerId)),n=new Set(t.map(e=>e.ownerId));if(n.size<O.size)continue;let r=null,a=1/0;if(t.forEach(e=>{e.points<a&&(a=e.points,r=e.ownerId)}),null!==r&&(E.add(r),O.delete(r)),O.size<=1)break}const I={};o.forEach(e=>{E.has(e.ownerId)?I[e.ownerId]="\ud83d\udc80":1===O.size&&O.has(e.ownerId)?I[e.ownerId]="\ud83d\ude42":I[e.ownerId]=null}),String(t)===String(i)&&b(I),c.forEach(e=>{k[e.ownerId]=e.rank}),v.forEach(e=>{_[e.ownerId]=e.rank}),N.forEach(e=>{P[e.ownerId]=e.rank});const T=[];for(let e=0;e<o.length-1;e++){const t=o[e].dpr||0,n=o[e+1].dpr||0;T.push(Math.max(0,t-n))}const C=T.length>0?T.reduce((e,t)=>e+t,0)/T.length:0,M=T.length>0?T.reduce((e,t)=>e+Math.pow(t-C,2),0)/T.length:0,D=Math.sqrt(M),R=.25,L=[];T.forEach((e,t)=>{e>C+R*D&&e>.02&&L.push(t)});let F=[];if(0===L.length)for(let e=0;e<o.length;e++)F.push(1);else{L.sort((e,t)=>e-t);let e=1,t=L.shift();F.push(e);for(let n=1;n<o.length;n++){n-1===t&&(e++,t=L.length>0?L.shift():null),F.push(e)}}const B={};Object.keys(S).forEach(e=>{const t=S[e];B[e]=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0});const W=Object.entries(B).sort((e,t)=>t[1]-e[1]),U={};W.forEach((e,t)=>{let[n]=e;U[n]=t+1});const z=o.map((e,t)=>{const n=k[e.ownerId],r=_[e.ownerId],a=P[e.ownerId];let s=0;void 0!==n&&(s=n-e.rank);let o=0;o=void 0!==a?a-e.rank:void 0!==r?r-e.rank:s;const i=w[e.ownerId]||0,l=j[e.ownerId]||0,c=Math.round(i+l),d=14-c,h="".concat(c,"-").concat(d),m=U[e.ownerId]||1;return u(u({},e),{},{tier:F[t],movement:s,trendMovement:o,projectedWins:c,projectedLosses:d,projectedRecord:h,sosRank:m})});d(z),m(!1),g(null)}catch(k){d([]),m(!1),g("Failed to calculate power rankings: "+k.message)}},[a,o,e,n,i,l]);return(0,K.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 font-inter overflow-x-hidden",children:[(0,K.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-800 mb-4 sm:mb-6 md:mb-8 text-center tracking-tight px-2",children:"Power Rankings"}),h?(0,K.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,K.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 animate-pulse",children:"Calculating power rankings..."})}):p?(0,K.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,K.jsx)("span",{className:"text-sm sm:text-lg text-red-500 font-semibold text-center px-4",children:p})}):c.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,K.jsxs)(t.Fragment,{children:[o&&(0,K.jsxs)("div",{className:"flex items-center justify-center py-3",children:[(0,K.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,K.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,K.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500 min-w-0 w-full overflow-hidden",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-3 flex-wrap min-w-0",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-7 h-7 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:e.rank}),(0,K.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-8 h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("h3",{className:"font-semibold text-gray-800 text-xs md:text-sm truncate flex-1",children:n(e.ownerId,e.year)}),(0,K.jsxs)("div",{className:"flex-shrink-0 ml-2 flex items-center space-x-1",children:[(null===x||void 0===x?void 0:x[e.ownerId])&&(0,K.jsx)("span",{title:"\ud83d\udc80"===x[e.ownerId]?"Eliminated from Survivor":"Survivor Winner",children:x[e.ownerId]}),e.trendMovement>=2&&(0,K.jsx)("span",{title:"Hot team (multi-week)",children:"\ud83d\udd25"}),e.trendMovement<=-2&&(0,K.jsx)("span",{title:"Cold team (multi-week)",children:"\u2744\ufe0f"})]})]}),(0,K.jsxs)("p",{className:"text-xs text-gray-500",children:["Tier ",e.tier]})]})]}),(0,K.jsxs)("div",{className:"text-right ml-2 flex-shrink-0",children:[(0,K.jsx)("div",{className:"text-base sm:text-lg font-bold text-blue-800 truncate max-w-[6rem]",children:ZM(e.dpr)}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"DPR"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-2",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,K.jsx)("div",{className:"font-semibold",children:eD(e.wins,e.losses,e.ties)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points For"}),(0,K.jsx)("div",{className:"font-semibold text-green-700",children:tD(e.pointsFor)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points Against"}),(0,K.jsx)("div",{className:"font-semibold text-red-700",children:tD(e.pointsAgainst)})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-3",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Proj. Record"}),(0,K.jsx)("div",{className:"font-semibold text-blue-700",children:e.projectedRecord})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Luck"}),(0,K.jsx)("div",{className:"font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:nD(e.luckRating)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Rem. SOS"}),(()=>{const t=S||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,K.jsx)("div",{className:"font-bold",style:{color:o},children:e.sosRank})})()]})]})]})]},e.ownerId)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg min-w-0",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg min-w-0",children:[(0,K.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Change"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"DPR"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PA"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Luck"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Proj. Record"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rem. SOS"})]})}),(0,K.jsx)("tbody",{children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,K.jsxs)(t.Fragment,{children:[o&&(0,K.jsx)("tr",{className:"bg-blue-50",children:(0,K.jsx)("td",{colSpan:"10",className:"py-1 px-3 md:px-4 text-center",children:(0,K.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,K.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,K.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,K.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]})})}),(0,K.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors touch-friendly",children:[(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:e.rank}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-center border-b border-gray-200",children:(i=e.movement,0===i?(0,K.jsx)("span",{className:"text-gray-500",children:"\u2014"}):i>0?(0,K.jsxs)("span",{className:"flex items-center justify-center gap-1 text-green-600",children:[(0,K.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),(0,K.jsx)("span",{className:"text-green-600 font-bold",children:i})]}):(0,K.jsxs)("span",{className:"flex items-center justify-center gap-1 text-red-600",children:[(0,K.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),(0,K.jsx)("span",{className:"text-red-600 font-bold",children:Math.abs(i)})]}))}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,K.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsxs)("div",{className:"flex items-center w-full",children:[(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm flex-1",children:n(e.ownerId,e.year)}),(0,K.jsxs)("div",{className:"flex-shrink-0 ml-2 flex items-center gap-1",children:[(null===x||void 0===x?void 0:x[e.ownerId])&&(0,K.jsx)("span",{title:"\ud83d\udc80"===x[e.ownerId]?"Eliminated from Survivor":"Survivor Winner",children:x[e.ownerId]}),e.trendMovement>=2&&(0,K.jsx)("span",{title:"Hot team (multi-week)",children:"\ud83d\udd25"}),e.trendMovement<=-2&&(0,K.jsx)("span",{title:"Cold team (multi-week)",children:"\u2744\ufe0f"})]})]})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:ZM(e.dpr)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:eD(e.wins,e.losses,e.ties)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:tD(e.pointsFor)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-red-700",children:tD(e.pointsAgainst)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:nD(e.luckRating)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:e.projectedRecord}),(()=>{const t=S||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-bold",style:{color:o},children:e.sosRank})})()]})]},e.ownerId);var i})})]})})]}):(0,K.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,K.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 text-center px-4",children:p})}),(0,K.jsxs)("div",{className:"mt-4 sm:mt-6 md:mt-8 text-xs sm:text-sm text-gray-500 text-center px-2",children:[(0,K.jsx)("button",{className:"text-blue-600 underline text-sm mb-2",onClick:()=>j(!w),children:w?"Hide legend":"Legend"}),w&&(0,K.jsxs)("div",{className:"mx-auto max-w-md text-left text-xs text-gray-700 bg-white shadow-sm rounded p-3 mt-2",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,K.jsx)("span",{children:"\ud83d\udd25"}),(0,K.jsx)("span",{className:"text-sm",children:"Hot \u2014 Multi-week upward trend"})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,K.jsx)("span",{children:"\u2744\ufe0f"}),(0,K.jsx)("span",{className:"text-sm",children:"Cold \u2014 Multi-week downward trend"})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,K.jsx)("span",{children:"\u2620\ufe0f"}),(0,K.jsx)("span",{className:"text-sm",children:"Eliminated \u2014 Removed from Survivor"})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("span",{children:"\ud83d\ude42"}),(0,K.jsx)("span",{className:"text-sm",children:"Winner \u2014 Survivor winner"})]})]}),(0,K.jsx)("p",{className:"mt-3",children:"Power Rankings are calculated based on DPR (Dominance Power Ranking) for the newest season available. Teams are automatically grouped into tiers based on significant performance gaps."})]})]})};let aD={},sD={},oD=[];const iD=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,getTeamName:o,nflState:i,getTeamDetails:l}=J(),[c,d]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var t,a;if(aD=s(r,0,o,i),sD=(null===(t=aD)||void 0===t?void 0:t.seasonalMetrics)||{},oD=(null===(a=aD)||void 0===a?void 0:a.careerDPRData)||[],e)return void g(!0);if(n)return void g(!1);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return d([]),m([]),void g(!1);if("function"!==typeof o)return f.A.error("DPRAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),g(!1),d([]),void m([]);g(!0);let l=[];const c=new Set([...Object.keys(sD||{}),...Object.keys((null===r||void 0===r?void 0:r.matchupsBySeason)||{}),...Object.keys((null===r||void 0===r?void 0:r.rostersBySeason)||{})].map(Number));let h=null;c.size>0&&(h=Math.max(...Array.from(c))),Object.keys(sD).sort((e,t)=>parseInt(t)-parseInt(e)).forEach(e=>{const t=[];Object.keys(sD[e]).forEach(n=>{const a=sD[e][n];if(a&&a.totalGames>0){var s;let i=a.ownerId;if(!i&&null!==r&&void 0!==r&&null!==(s=r.rostersBySeason)&&void 0!==s&&s[e]){const t=r.rostersBySeason[e].find(e=>String(e.roster_id)===String(n));t&&(i=t.owner_id)}const c=a.averageScore||0,u=a.highScore||0,d=a.lowScore||0,m=a.winPercentage||0,f=(6*c+2*(u+d)+200*m*2)/10;t.push(f),l.push({year:parseInt(e),team:o(i,e),rosterId:n,ownerId:i,rawDPR:f,wins:a.wins,losses:a.losses,ties:a.ties,winPercentage:m,pointsPerGame:c,highestPointsGame:u,lowestPointsGame:d,isCurrentSeason:null!==h&&parseInt(e)===h})}});const n=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:1;l.forEach(t=>{t.year===parseInt(e)&&(t.dpr=n>0?t.rawDPR/n:1)})}),l.sort((e,t)=>t.dpr-e.dpr);const p=l.filter(e=>e&&null!=e.wins&&!e.isAverageRow),y=p.length;let v=null,x=null,b=null,w=null,j=null,S=null;if(y>0){const e=p.reduce((e,t)=>e+(t.wins||0),0),t=p.reduce((e,t)=>e+(t.losses||0),0),n=p.reduce((e,t)=>e+("number"===typeof t.winPercentage?t.winPercentage:0),0),r=p.reduce((e,t)=>e+("number"===typeof t.pointsPerGame?t.pointsPerGame:0),0),a=p.reduce((e,t)=>e+("number"===typeof t.highestPointsGame?t.highestPointsGame:0),0),s=p.reduce((e,t)=>e+("number"===typeof t.lowestPointsGame?t.lowestPointsGame:0),0);v=Math.round(e/y),x=Math.round(t/y),b=n/y,w=r/y,j=a/y,S=s/y}const N={year:null,team:"Average Season",dpr:1,wins:v,losses:x,ties:0,winPercentage:b,pointsPerGame:w,highestPointsGame:j,lowestPointsGame:S,isAverageRow:!0};let k=l.findIndex(e=>e.dpr<1);-1===k?l.push(N):l.splice(k,0,N);const _=oD.map(e=>{let t=0,n=1/0,r=0;Object.keys(sD).forEach(a=>{const s=Object.values(sD[a]).find(t=>t.ownerId===e.ownerId);if(s){const e=s.totalGames;if(e>0){const a=s.pointsFor/e;a>t&&(t=a),a<n&&(n=a),r++}}}),0===r&&(n=0);const a="number"!==typeof e.pointsPerGame||isNaN(e.pointsPerGame)?"number"!==typeof e.averageScore||isNaN(e.averageScore)?e.pointsFor&&e.totalGames?e.pointsFor/e.totalGames:0:e.averageScore:e.pointsPerGame;return u(u({},e),{},{winPercentage:e.winPercentage,pointsPerGame:a,highestSeasonalPointsAvg:t,lowestSeasonalPointsAvg:n})});d(_),m(l),g(!1)},[r,a,o,e,n]);const x=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return""},b=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),w=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),j=(e,t,n)=>null===e?"":n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),S=(()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=8?t:t-1})();let N;const k=(e=>{const t=e=>"".concat(e.rosterId,"-").concat(e.year),n=new Set,r=[];for(const a of e)n.has(t(a))||(r.push(a),n.add(t(a)));return r})(h);if(k.sort((e,t)=>t.dpr-e.dpr),y)N=k;else{const e=k.findIndex(e=>e.isAverageRow);if(e>=0&&e<20)N=k.slice(0,20);else{const e=k.filter(e=>!e.isAverageRow);N=e.slice(0,20)}}const _=(()=>{try{const e=h.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):S}catch(VB){return S}})(),P=e=>{try{const t=e.year,n=e.rosterId;if(t&&n&&sD&&sD[t]&&sD[t][n]){const e=sD[t][n];if(e.isChampion||e.isRunnerUp||e.isThirdPlace||e.isPointsChampion||e.playoffAppearancesCount>0)return!0;if("number"===typeof e.rank&&e.rank>0)return e.rank<=6}if("number"===typeof e.wins&&"number"===typeof e.losses){const t=(e.wins||0)+(e.losses||0)+(e.ties||0);return(t>0?((e.wins||0)+.5*(e.ties||0))/t:0)>=.5}return!1}catch(VB){return!1}},A=h.filter(e=>e&&!e.isAverageRow&&"number"===typeof e.dpr&&null!=e.year&&!e.isCurrentSeason),E=[.8,.9,1,1.1,1.2],O=[];for(let t=0;t<=E.length;t++){const e=0===t?-1/0:E[t-1],n=t===E.length?1/0:E[t],r=e===-1/0?"< ".concat(E[0]):n===1/0?">= ".concat(E[E.length-1]):"".concat(e.toFixed(2)," - ").concat(n.toFixed(2));O.push({min:e,max:n,label:r,count:0,made:0})}A.forEach(e=>{const t=Number(e.dpr),n=P(e)?1:0;for(let r=0;r<O.length;r++)if(t>O[r].min&&t<=O[r].max){O[r].count+=1,O[r].made+=n;break}});const I=O.map(e=>({label:e.label,count:e.count,made:e.made,rate:e.count>0?e.made/e.count:null})),T=e=>{if("number"!==typeof e||isNaN(e))return null;for(let t=0;t<O.length;t++)if(e>O[t].min&&e<=O[t].max)return O[t].count>0?O[t].made/O[t].count:null;return null},C=(h||[]).filter(e=>e&&e.isCurrentSeason&&!e.isAverageRow).map(e=>({rosterId:e.rosterId,ownerId:e.ownerId,team:e.team,year:e.year,dpr:e.dpr,playoffProb:T(Number(e.dpr))}));return(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"DPR Analysis"}),(0,K.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Detailed breakdown of team performance using the DPR (Douchebag Power Rating) metric."}),p?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"Calculating DPR data..."}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career DPR Rankings"}),c.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:c.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var n;return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-2 border-l-4 border-blue-500 min-w-0 w-full overflow-hidden",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2 min-w-0",children:[(0,K.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-blue-600 text-white rounded-full flex items-center justify-center text-[11px] font-bold",children:t+1}),(0,K.jsx)("img",{src:l&&(null===(n=l(e.ownerId,null))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:o(e.ownerId,null),className:"flex-shrink-0 w-7 h-7 rounded-full border-2 border-blue-300 shadow-sm object-cover",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("div",{className:"min-w-0 flex-1",children:(0,K.jsxs)("div",{className:"flex flex-col",children:[(0,K.jsx)("div",{className:"font-semibold text-sm truncate leading-tight",children:(0,K.jsx)("span",{className:"truncate",children:o(e.ownerId,null)})}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-0 leading-tight",children:["Record: ",j(e.wins,e.losses,e.ties)]})]})})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0 w-20 ml-1 pr-2",children:(0,K.jsx)("div",{className:"text-lg font-bold text-blue-800 truncate",children:b(e.dpr)})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs mt-1",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"PPG"}),(0,K.jsx)("div",{className:"font-semibold text-green-700 whitespace-nowrap",children:w(e.pointsPerGame)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"H / L"}),(0,K.jsxs)("div",{className:"font-semibold whitespace-nowrap",children:[w(e.highestSeasonalPointsAvg)," / ",w(e.lowestSeasonalPointsAvg)]})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Win %"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:x(e.winPercentage)})]})]})]},e.ownerId)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PPG"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Avg"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Avg"})]})}),(0,K.jsx)("tbody",{children:c.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var n;return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,K.jsx)("img",{src:l&&(null===(n=l(e.ownerId,null))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:o(e.ownerId,null),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:o(e.ownerId,null)})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:b(e.dpr)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:x(e.winPercentage)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(e.wins,e.losses,e.ties)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:w(e.pointsPerGame)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(e.highestSeasonalPointsAvg)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(e.lowestSeasonalPointsAvg)})]},e.ownerId)})})]})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No career DPR data available."})]}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Best Seasons by DPR"}),(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Empirical Playoff Probability by DPR"}),(0,K.jsx)("div",{className:"overflow-x-auto bg-white rounded shadow-sm",children:(0,K.jsxs)("table",{className:"min-w-full text-sm",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"text-left text-xs text-gray-600 uppercase",children:[(0,K.jsx)("th",{className:"px-3 py-2",children:"DPR Range"}),(0,K.jsx)("th",{className:"px-3 py-2 text-right",children:"Samples"}),(0,K.jsx)("th",{className:"px-3 py-2 text-right",children:"Made Playoffs"}),(0,K.jsx)("th",{className:"px-3 py-2 text-right",children:"Empirical %"})]})}),(0,K.jsx)("tbody",{children:I.map(e=>(0,K.jsxs)("tr",{className:"border-t",children:[(0,K.jsx)("td",{className:"px-3 py-2 text-gray-800",children:e.label}),(0,K.jsx)("td",{className:"px-3 py-2 text-right text-gray-700",children:e.count}),(0,K.jsx)("td",{className:"px-3 py-2 text-right text-gray-700",children:e.made}),(0,K.jsx)("td",{className:"px-3 py-2 text-right font-semibold text-gray-800",children:null===e.rate?"N/A":"".concat(Math.round(100*e.rate),"%")})]},e.label))})]})}),C.length>0&&(0,K.jsxs)("div",{className:"mt-3",children:[(0,K.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Season - Empirical Playoff Chance"}),(0,K.jsx)("div",{className:"overflow-x-auto bg-white rounded shadow-sm",children:(0,K.jsxs)("table",{className:"min-w-full text-sm",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"text-left text-xs text-gray-600 uppercase",children:[(0,K.jsx)("th",{className:"px-3 py-2",children:"Team"}),(0,K.jsx)("th",{className:"px-3 py-2 text-right",children:"DPR"}),(0,K.jsx)("th",{className:"px-3 py-2 text-right",children:"Empirical %"})]})}),(0,K.jsx)("tbody",{children:C.map(e=>(0,K.jsxs)("tr",{className:"border-t",children:[(0,K.jsx)("td",{className:"px-3 py-2 text-gray-800",children:e.team}),(0,K.jsx)("td",{className:"px-3 py-2 text-right text-gray-700",children:b(e.dpr)}),(0,K.jsx)("td",{className:"px-3 py-2 text-right font-semibold",children:null===e.playoffProb?"N/A":"".concat(Math.round(100*e.playoffProb),"%")})]},"".concat(e.rosterId,"-").concat(e.year)))})]})})]})]}),h.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:N.map((e,t)=>{var n;const r=e.year&&Number(e.year)===Number(_);return e.isAverageRow?(0,K.jsxs)("div",{className:"min-w-0 w-full overflow-hidden rounded-lg shadow p-2 bg-yellow-50",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,K.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,K.jsx)("div",{className:"font-semibold text-sm text-center",children:"Average Season"}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["Record: ",j(e.wins,e.losses,e.ties)]})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0 w-20 ml-1 pr-2",children:(0,K.jsx)("div",{className:"text-lg font-bold text-gray-800 truncate",children:b(e.dpr)})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs mt-1",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"PPG"}),(0,K.jsx)("div",{className:"font-semibold text-green-700 whitespace-nowrap",children:w(e.pointsPerGame)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Win %"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:x(e.winPercentage)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"H / L"}),(0,K.jsxs)("div",{className:"font-semibold whitespace-nowrap",children:[w(e.highestPointsGame)," / ",w(e.lowestPointsGame)]})]})]})]},"average-".concat(t)):(0,K.jsxs)("div",{className:"min-w-0 w-full overflow-hidden rounded-lg shadow p-2 ".concat(r?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("div",{className:"w-5 h-5 bg-green-600 text-white rounded-full flex items-center justify-center text-[11px] font-bold",children:t+1}),(0,K.jsx)("img",{src:l&&(null===(n=l(e.ownerId,e.year))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:o(e.ownerId,e.year),className:"w-7 h-7 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("div",{className:"min-w-0 flex-1",children:(0,K.jsxs)("div",{className:"flex flex-col",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,K.jsx)("div",{className:"font-semibold text-sm truncate leading-tight",children:(0,K.jsx)("span",{className:"truncate",children:o(e.ownerId,e.year)})}),P(e)&&(0,K.jsx)("span",{className:"text-yellow-500 text-sm ml-1",title:"Made Playoffs",children:"\u2b50"})]}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-0 leading-tight",children:["Season: ",e.year," \u2022 Rec: ",j(e.wins,e.losses,e.ties)]})]})})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0 w-20 ml-1 pr-2",children:(0,K.jsx)("div",{className:"text-lg font-bold text-green-800 truncate",children:b(e.dpr)})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs mt-1",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"PPG"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap text-green-700",children:w(e.pointsPerGame)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Win %"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:x(e.winPercentage)})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"H / L"}),(0,K.jsxs)("div",{className:"font-semibold whitespace-nowrap",children:[w(e.highestPointsGame)," / ",w(e.lowestPointsGame)]})]})]})]},"".concat(e.rosterId,"-").concat(e.year))})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season DPR"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Highest"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest"})]})}),(0,K.jsx)("tbody",{children:(()=>{let e=0;return N.map((t,n)=>{var r;t.isAverageRow||e++;const a=t.year&&Number(t.year)===Number(_)&&!t.isAverageRow,s=t.isAverageRow?"bg-yellow-100 font-bold":a?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,K.jsx)("tr",{className:s,children:t.isAverageRow?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:"\xa0"}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,K.jsx)("div",{className:"flex items-center gap-2 md:gap-3",children:(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:t.team})})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:"\xa0"}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-800",children:b(t.dpr)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:x(t.winPercentage)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(t.wins,t.losses,t.ties)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:w(t.pointsPerGame)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.highestPointsGame)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.lowestPointsGame)})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,K.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(a?"bg-green-500":"bg-transparent")}),(0,K.jsx)("span",{className:"",children:e})]}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,K.jsx)("img",{src:l&&(null===(r=l(t.ownerId,t.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:o(t.ownerId,t.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsxs)("span",{className:"truncate font-semibold text-xs md:text-sm",children:[o(t.ownerId,t.year),P(t)&&(0,K.jsx)("span",{className:"text-yellow-500 ml-1",title:"Made Playoffs",children:"\u2b50"})]})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-800",children:b(t.dpr)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:x(t.winPercentage)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(t.wins,t.losses,t.ties)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:w(t.pointsPerGame)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.highestPointsGame)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.lowestPointsGame)})]})},"".concat(t.rosterId,"-").concat(t.year))})})()})]})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal DPR data available."}),h.length>20&&(0,K.jsx)("div",{className:"text-center mt-4",children:(0,K.jsx)("button",{onClick:()=>v(!y),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:y?"Show Less":"Show All Seasons"})})]})]})]})},lD=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,getTeamName:o,getTeamDetails:i,nflState:l}=J(),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(!0),[g,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(e)return void p(!0);if(n)return void p(!1);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return u([]),h([]),void p(!1);if("function"!==typeof o)return f.A.error("LuckRatingAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),p(!1),u([]),void h([]);p(!0);const{seasonalMetrics:t,careerDPRData:a}=s(r,0,o,l),i=[],c=null!==l&&void 0!==l&&l.season?parseInt(l.season):(new Date).getFullYear();Object.keys(t).forEach(e=>{const n=parseInt(e);if(n===c){var a,s;const e=null===(a=r.matchupsBySeason)||void 0===a||null===(s=a[n])||void 0===s?void 0:s[1];if(!e||0===e.length)return void f.A.debug("LuckRatingAnalysis: Skipping year ".concat(n," (current season) as Week 1 data is not available."))}Object.keys(t[n]).forEach(e=>{const r=t[n][e];!r||"number"!==typeof r.luckRating||isNaN(r.luckRating)||"number"!==typeof r.actualWinsRecord||isNaN(r.actualWinsRecord)||"number"!==typeof r.seasonalExpectedWinsSum||isNaN(r.seasonalExpectedWinsSum)||i.push({year:parseInt(n),team:o(r.ownerId,n),ownerId:r.ownerId,luckRating:r.luckRating,actualWins:r.actualWinsRecord,projectedWins:r.seasonalExpectedWinsSum})})}),i.sort((e,t)=>t.luckRating-e.luckRating),h(i);const d=[];a.forEach(e=>{!e||"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||"number"!==typeof e.actualCareerWinsRecord||isNaN(e.actualCareerWinsRecord)||"number"!==typeof e.careerExpectedWinsSum||isNaN(e.careerExpectedWinsSum)||d.push({team:o(e.ownerId,null),ownerId:e.ownerId,luckRating:e.totalLuckRating,actualWins:e.actualCareerWinsRecord,projectedWins:e.careerExpectedWinsSum})}),d.sort((e,t)=>t.luckRating-e.luckRating),u(d),p(!1)},[r,a,o,l,e,n]);const v=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),x=g?d:d.slice(0,20),b=null!==l&&void 0!==l&&l.season?parseInt(l.season):(new Date).getFullYear(),w=(()=>{try{const e=d.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):b}catch(VB){return b}})();return(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"Luck Rating Analysis"}),(0,K.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:'This analysis indicates how much "luckier" or "unluckier" a team was compared to their projected wins if every possible matchup against other teams in their league week-by-week were played. A positive score means luckier, negative means unluckier. Calculation includes regular season games only.'}),m?(0,K.jsx)("p",{className:"text-center text-gray-600",children:"Calculating luck ratings..."}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career Luck Rankings"}),c.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:c.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var n;return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-2 border-l-4 border-blue-500 min-w-0 w-full overflow-hidden",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 min-w-0",children:[(0,K.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-blue-600 text-white rounded-full flex items-center justify-center text-[11px] font-bold",children:t+1}),(0,K.jsx)("img",{src:i&&(null===(n=i(e.ownerId,null))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"flex-shrink-0 w-7 h-7 rounded-full border-2 border-blue-300 shadow-sm object-cover",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("div",{className:"min-w-0 flex-1",children:(0,K.jsx)("div",{className:"flex flex-col",children:(0,K.jsx)("div",{className:"font-semibold text-sm truncate",children:(0,K.jsx)("span",{className:"truncate",children:e.team})})})})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0 w-20 ml-1 pr-2",children:(0,K.jsx)("div",{className:"text-lg font-bold truncate ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:v(e.luckRating)})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Actual"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:e.actualWins})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Proj"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:v(e.projectedWins)})]})]})]},e.team)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career Luck"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,K.jsx)("tbody",{children:c.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var n;return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,K.jsx)("img",{src:i&&(null===(n=i(e.ownerId,null))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:e.team})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:v(e.luckRating)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.actualWins}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:v(e.projectedWins)})]},e.team)})})]})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No career luck data available."})]}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Seasonal Luck Rankings"}),d.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:x.map((e,t)=>{var n;return(0,K.jsxs)("div",{className:"min-w-0 w-full overflow-hidden rounded-lg shadow p-2 ".concat(Number(e.year)===Number(w)?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,K.jsx)("div",{className:"w-5 h-5 bg-green-600 text-white rounded-full flex items-center justify-center text-[11px] font-bold",children:t+1}),(0,K.jsx)("img",{src:i&&(null===(n=i(e.ownerId,e.year))||void 0===n?void 0:n.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-7 h-7 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("div",{className:"min-w-0 flex-1",children:(0,K.jsxs)("div",{className:"flex flex-col",children:[(0,K.jsx)("div",{className:"flex items-center gap-2",children:(0,K.jsx)("div",{className:"font-semibold text-sm truncate leading-tight",children:e.team})}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-0 leading-tight",children:["Season: ",e.year]})]})})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0 w-20 ml-1 pr-2",children:(0,K.jsx)("div",{className:"text-lg font-bold truncate ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:v(e.luckRating)})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-1",children:[(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Actual"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:e.actualWins})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded px-2 py-1 text-center",children:[(0,K.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Proj"}),(0,K.jsx)("div",{className:"font-semibold whitespace-nowrap",children:v(e.projectedWins)})]})]})]},"".concat(e.team,"-").concat(e.year))})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Rating"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,K.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,K.jsx)("tbody",{children:(()=>{let e=0;return x.map((t,n)=>{var r;e++;const a=t.year&&Number(t.year)===Number(w),s=a?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,K.jsxs)("tr",{className:s,children:[(0,K.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,K.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(a?"bg-green-500":"bg-transparent")}),(0,K.jsx)("span",{className:"",children:e})]}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,K.jsx)("img",{src:i&&(null===(r=i(t.ownerId,t.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:t.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:t.team})]})}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(t.luckRating>0?"text-green-600":t.luckRating<0?"text-red-600":"text-gray-700"),children:v(t.luckRating)}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:t.actualWins}),(0,K.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:v(t.projectedWins)})]},"".concat(t.team,"-").concat(t.year))})})()})]})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal luck data available."}),d.length>20&&(0,K.jsx)("div",{className:"text-center mt-4",children:(0,K.jsx)("button",{onClick:()=>y(!g),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:g?"Show Less":"Show All Seasons"})})]})]})]})};function cD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;const r=Array.from({length:t},()=>Array.from({length:n},()=>({sum:0,count:0})));return e.forEach(e=>{if(!e||e.is_keeper)return;const a=e.round||Math.ceil((e.pick_no||1)/n),s=e.pick_in_round||(e.pick_no-1)%n+1;if(a<1||a>t)return;const o=a-1,i=s-1,l="number"===typeof e.scaled_vorp_delta?e.scaled_vorp_delta:"number"===typeof e.vorp_delta?e.vorp_delta:null;null!==l&&(r[o][i].sum+=l,r[o][i].count+=1)}),r.map(e=>e.map(e=>({avg:e.count>0?e.sum/e.count:null,count:e.count})))}function uD(){const e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{if(!t||t.is_keeper)return;const n=t.picked_by||"unknown";e[n]||(e[n]={total:0,count:0,picks:[]});const r="number"===typeof t.scaled_vorp_delta?t.scaled_vorp_delta:"number"===typeof t.vorp_delta?t.vorp_delta:0;e[n].total+=r,e[n].count+=1,e[n].picks.push(u(u({},t),{},{value:r}))}),Object.keys(e).forEach(t=>{const n=e[t];n.picks.sort((e,t)=>t.value-e.value),n.best=n.picks[0]||null,n.worst=n.picks[n.picks.length-1]||null,n.avg=n.count>0?n.total/n.count:0}),e}var dD=LA({chartName:"BarChart",GraphicalChild:Fk,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wO},{axisType:"yAxis",AxisComp:TO}],formatAxisMap:Gk});const hD=e=>{let{ownerId:n,allDraftHistory:r=[],totalRounds:a=12,totalTeams:s=12}=e;const{historicalData:o,nflPlayers:i}=J(),l=(0,t.useMemo)(()=>{const e={};return o&&o.rostersBySeason&&Object.keys(o.rostersBySeason).forEach(t=>{const n=o.rostersBySeason[t]||[];e[t]={},n.forEach(n=>{n&&n.roster_id&&(e[t][String(n.roster_id)]=String(n.owner_id))})}),e},[o]),c=(0,t.useMemo)(()=>Array.isArray(r)?r.filter(e=>{if(!e)return!1;if(e.picked_by&&String(e.picked_by)===String(n))return!0;if(e.owner_id&&String(e.owner_id)===String(n))return!0;const t=e.season||e.year||e.draft_season||e.draft&&e.draft.season||null,r=e.roster_id||e.rosterId||e.picked_from_roster_id||null;if(r&&t&&l[t]){const e=l[t][String(r)];if(e&&String(e)===String(n))return!0}return!1}):[],[r,n,l]),u=(0,t.useMemo)(()=>uD(c),[c]),d=((0,t.useMemo)(()=>cD(c,a,s),[c,a,s]),Object.entries(u.roundCounts||{}).sort((e,t)=>t[1]-e[1]).slice(0,3).map(e=>{let[t,n]=e;return"".concat(t," (").concat(n,")")}).join(", "),["QB","RB","WR","TE","K","DEF"]),h={QB:"#ef4444",RB:"#f59e0b",WR:"#34d399",TE:"#60a5fa",K:"#a78bfa",DEF:"#f97316"},m=(0,t.useMemo)(()=>{const e=c.reduce((e,t)=>{const n=Number(t.round)||Number(t.draft_round)||0;return Math.max(e,isFinite(n)?n:0)},0),t=Math.max(a||0,e||0)||0,n=Array.from({length:t},(e,t)=>({round:t+1}));return c.forEach(e=>{var r;const a=Number(e.round)||Number(e.draft_round)||null;let s=e.position||e.player_position||(null===(r=e.metadata)||void 0===r?void 0:r.position)||null;if(!s&&e.player_id&&i&&i[e.player_id]){const t=i[e.player_id]||{};s=t.position||t.primary_position||null}s=s||"OTHER",s="string"===typeof s?s.toUpperCase():"OTHER";const o=d.includes(s)?s:null;if(!a||a<1||a>t)return;const l=a-1;o?(n[l][o]=(n[l][o]||0)+1,n[l].__total=(n[l].__total||0)+1):n[l].__unknown=(n[l].__unknown||0)+1}),n.map(e=>{const t=e.__total||0,n={round:e.round};return d.forEach(r=>{n[r]=t>0?(e[r]||0)/t*100:0}),n.__unknown=e.__unknown||0,n})},[c,a]);return(0,K.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Draft Habits"}),(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,K.jsx)("p",{className:"text-sm text-gray-600",children:"Round-by-Round Position Mix (percent)"}),(0,K.jsx)("div",{className:"sm:hidden w-full h-72 mt-2",style:{minHeight:"288px"},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:288,children:(0,K.jsxs)(dD,{data:m,margin:{top:8,right:8,left:8,bottom:35},children:[(0,K.jsx)(wO,{dataKey:"round",tick:{fontSize:10},interval:0,angle:-45,textAnchor:"end",height:50}),(0,K.jsx)(TO,{domain:[0,100],tick:{fontSize:10},unit:"%",width:35}),(0,K.jsx)(Th,{formatter:(e,t)=>["".concat(Number(e).toFixed(1),"%"),t],wrapperStyle:{fontSize:11}}),(0,K.jsx)(lf,{wrapperStyle:{fontSize:10},iconSize:8,layout:"horizontal",align:"center",verticalAlign:"bottom",height:30}),d.map(e=>(0,K.jsx)(Fk,{dataKey:e,stackId:"a",fill:h[e]},e))]})})}),(0,K.jsx)("div",{className:"hidden sm:block w-full h-72 mt-2",style:{minHeight:"288px"},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:288,children:(0,K.jsxs)(dD,{data:m,margin:{top:8,right:8,left:8,bottom:35},children:[(0,K.jsx)(wO,{dataKey:"round",tick:{fontSize:11},interval:0,angle:-30,textAnchor:"end",height:45}),(0,K.jsx)(TO,{domain:[0,100],tick:{fontSize:11},unit:"%",width:40,ticks:[0,25,50,75,100]}),(0,K.jsx)(Th,{formatter:(e,t)=>["".concat(Number(e).toFixed(1),"%"),t],wrapperStyle:{fontSize:12}}),(0,K.jsx)(lf,{wrapperStyle:{fontSize:11},iconSize:8,layout:"horizontal",align:"center",verticalAlign:"bottom",height:30}),d.map(e=>(0,K.jsx)(Fk,{dataKey:e,stackId:"a",fill:h[e]},e))]})})}),(0,K.jsx)("div",{className:"mt-3"})]})]})},mD=e=>{let{allDraftHistory:n=[],totalRounds:r=12,totalTeams:a=12,compact:s=!1}=e;const o=["QB","RB","WR","TE","K","DEF"],i={QB:"#ef4444",RB:"#f59e0b",WR:"#34d399",TE:"#60a5fa",K:"#a78bfa",DEF:"#f97316"},l=(0,t.useMemo)(()=>Array.isArray(n)?n.filter(Boolean):[],[n]),c=(0,t.useMemo)(()=>{const e=l.reduce((e,t)=>{const n=Number(t.round)||Number(t.draft_round)||0;return Math.max(e,isFinite(n)?n:0)},0),t=Math.max(r||0,e||0)||0,n=Array.from({length:t},(e,t)=>({round:t+1}));return l.forEach(e=>{var r;const a=Number(e.round)||Number(e.draft_round)||null;let s=e.position||e.player_position||(null===(r=e.metadata)||void 0===r?void 0:r.position)||null;s="string"===typeof s?s.toUpperCase():"OTHER";const i=o.includes(s)?s:null;if(!a||a<1||a>t)return;const l=a-1;i?(n[l][i]=(n[l][i]||0)+1,n[l].__total=(n[l].__total||0)+1):n[l].__unknown=(n[l].__unknown||0)+1}),n.map(e=>{const t=e.__total||0,n={round:e.round},r={};o.forEach(n=>{r[n]=t>0?(e[n]||0)/t*100:0});let a=o.reduce((e,t)=>e+(Number.isFinite(r[t])?r[t]:0),0);if(a>100){const e=a-100;let t=o[0];for(const n of o)(r[n]||0)>(r[t]||0)&&(t=n);r[t]=Math.max(0,(r[t]||0)-e),a=o.reduce((e,t)=>e+(Number.isFinite(r[t])?r[t]:0),0)}return o.forEach(e=>{const t=Number.isFinite(r[e])?r[e]:0;n[e]=Number(Math.max(0,Math.min(100,t)).toFixed(3))}),n.__unknown=e.__unknown||0,n})},[l,r]),u=s?180:260;return(0,K.jsx)("section",{className:s?"mb-2 sm:mb-4":"mb-4 sm:mb-6",children:(0,K.jsx)("div",{className:"w-full",children:(0,K.jsx)("div",{className:"w-full ".concat(s?"h-48":"h-72"," mt-0"),style:{minHeight:u},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:u,children:(0,K.jsxs)(dD,{data:c,margin:{top:6,right:4,left:4,bottom:s?12:18},children:[(0,K.jsx)(wO,{dataKey:"round",tick:{fontSize:s?9:10,fill:"#ffffff"},interval:0,angle:s?-25:-30,textAnchor:"end",height:s?30:36,axisLine:{stroke:"rgba(255,255,255,0.12)"},tickLine:{stroke:"rgba(255,255,255,0.12)"}}),(0,K.jsx)(TO,{domain:[0,100],ticks:[0,25,50,75,100],tick:{fontSize:s?9:10,fill:"#ffffff"},width:s?30:36,tickFormatter:e=>"".concat(Math.round(Number(e)||0),"%"),axisLine:{stroke:"rgba(255,255,255,0.12)"},tickLine:{stroke:"rgba(255,255,255,0.12)"}}),(0,K.jsx)(Th,{formatter:(e,t)=>{const n=Number(e)||0,r=Math.max(0,Math.min(100,n)),a=100-r<.01?100:Number(r.toFixed(1));return["".concat(a,"%"),t]},wrapperStyle:{fontSize:11}}),!s&&(0,K.jsx)(lf,{wrapperStyle:{fontSize:12,color:"#ffffff"},iconSize:10,layout:"horizontal",verticalAlign:"top",align:"right"}),o.map(e=>(0,K.jsx)(Fk,{dataKey:e,stackId:"a",fill:i[e]},e))]})})})})})},fD=e=>{if("number"!==typeof e||isNaN(e))return"";const t=["th","st","nd","rd"],n=e%100;return t[n-20]||t[n]||t[0]},pD=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=t.filter(e=>"number"===typeof e&&!isNaN(e));if(0===r.length)return"N/A";const a=[...new Set(r)].sort((e,t)=>n?t-e:e-t);let s=1;for(let o=0;o<a.length;o++){const t=a[o];if(t===e){const t=r.filter(t=>t===e).length;return t>1&&e>0?"T-".concat(s).concat(fD(s)):"".concat(s).concat(fD(s))}s+=r.filter(e=>e===t).length}return"N/A"},gD=e=>"number"===typeof e?"".concat(e.toFixed(3).substring(1),"%"):"N/A",yD=e=>"number"===typeof e?XM(e,3):"N/A",vD=e=>"number"!==typeof e||isNaN(e)?"N/A":XM(Number(e),3),xD=e=>{let{title:t,value:n,rank:r}=e;return(0,K.jsxs)("div",{className:"bg-blue-50 p-1.5 sm:p-2 rounded-lg shadow-sm flex flex-col items-center justify-center text-center border border-blue-200 min-w-[90px]",children:[r&&"N/A"!==r&&(0,K.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:r}),(0,K.jsxs)("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[t," (",(0,K.jsx)("span",{className:"font-semibold text-gray-600",children:n}),")"]})]})},bD=e=>{let{teamName:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:l,getTeamName:c,usersData:d}=J(),[h,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,j]=(0,t.useState)([]),[S,N]=(0,t.useState)([]),[k,_]=(0,t.useState)([]),[P,A]=(0,t.useState)(!0),[E,O]=(0,t.useState)({career:[],playoff:[],streak:[],season:[]}),[I,T]=(0,t.useState)("game"),[C,M]=(0,t.useState)({}),[D,R]=(0,t.useState)(!0),[L,F]=(0,t.useState)("year"),[B,W]=(0,t.useState)("desc"),U=(e,t,n)=>{try{var r;if(n){const t=c(n,e);if(t&&!String(t).startsWith("Unknown Team"))return t}const a=null===o||void 0===o||null===(r=o.rostersBySeason)||void 0===r?void 0:r[e],s=Array.isArray(a)?a.find(e=>String(null===e||void 0===e?void 0:e.roster_id)===String(t)):null,i=(null===s||void 0===s?void 0:s.metadata)||{},l=i.team_name||i.nickname||(null===s||void 0===s?void 0:s.display_name)||null;return l||"Roster ".concat(null!==t&&void 0!==t?t:"?")}catch(VB){return"Roster ".concat(null!==t&&void 0!==t?t:"?")}},z=e=>null===e||void 0===e||"null"===String(e)||"undefined"===String(e);(0,t.useEffect)(()=>{const e=String(n||"");if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return void A(!1);if("function"!==typeof c)return f.A.error("TeamDetailPage: getTeamNameFromContext is not a function. Cannot process data."),void A(!1);A(!0);const{seasonalMetrics:t,careerDPRData:i}=s(o,0,c,l);let d=null;const h=i.find(t=>c(t.ownerId,null)===e);if(h&&(d=h.ownerId),!d)return f.A.warn("TeamDetailPage: Could not find ownerId for teamName: ".concat(e,". Displaying no data.")),A(!1),m(null),void j([]);const p={totalWins:0,totalLosses:0,totalTies:0,totalPointsFor:0,totalGamesPlayed:0,overallTopScoreWeeksCount:0,playoffAppearancesCount:0,avgDPR:0,totalChampionships:0,totalRunnerUps:0,totalThirdPlaces:0,totalPointsChampionships:0,totalPointsRunnerUps:0,totalThirdPlacePoints:0,winRank:"N/A",winPercentageRank:"N/A",pointsForRank:"N/A",topScoreWeeksRank:"N/A",playoffRank:"N/A",championshipRank:"N/A",luckRank:"N/A",ownerId:d},w=[],S={},k=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),P=k.length>0?Math.max(...k):null;let E=!1;if(P&&o.winnersBracketBySeason[P]){const e=o.winnersBracketBySeason[P].find(e=>1===e.p);e&&e.w&&e.l&&(E=!0)}f.A.debug("TeamDetailPage: Latest season is ".concat(P,". Playoff completion status: ").concat(E?"COMPLETE":"IN PROGRESS/INCOMPLETE")),Object.keys(t).forEach(e=>{const n=parseInt(e),r=t[n];r&&Object.values(r).forEach(e=>{const t=e.ownerId,r=c(t,null);if(!r||r.startsWith("Unknown Team (ID:"))return;S[r]||(S[r]={wins:0,losses:0,ties:0,pointsFor:0,totalGamesPlayed:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,topScoreWeeksCount:0,playoffAppearancesCount:0,totalLuckRating:0,ownerId:t});const a=S[r];a.wins+=e.wins,a.losses+=e.losses,a.ties+=e.ties,a.pointsFor+=e.pointsFor,a.totalGamesPlayed+=e.totalGames;(n<P||n===P&&E)&&(a.topScoreWeeksCount+=e.topScoreWeeksCount||0,a.totalLuckRating+=e.luckRating||0,"number"===typeof e.rank&&e.rank<=6&&a.playoffAppearancesCount++,e.isChampion&&a.championships++,e.isRunnerUp&&a.runnerUps++,e.isThirdPlace&&a.thirdPlaces++,e.isPointsChampion&&a.firstPoints++,e.isPointsRunnerUp&&a.secondPoints++,e.isThirdPlacePoints&&a.thirdPoints++)})});const I=S[e];if(!I)return A(!1),m(null),void j([]);{Object.assign(p,{totalWins:I.wins,totalLosses:I.losses,totalTies:I.ties,totalPointsFor:I.pointsFor,totalGamesPlayed:I.totalGamesPlayed,overallTopScoreWeeksCount:I.topScoreWeeksCount,playoffAppearancesCount:I.playoffAppearancesCount,avgDPR:h&&"number"===typeof h.dpr?h.dpr:null,totalChampionships:I.championships,totalRunnerUps:I.runnerUps,totalThirdPlaces:I.thirdPlaces,totalPointsChampionships:I.firstPoints,totalPointsRunnerUps:I.secondPoints,totalThirdPlacePoints:I.thirdPoints,luckRating:I.totalLuckRating});const e=Object.values(S).map(e=>e.wins),t=Object.values(S).map(e=>(e.wins+(e.ties>0?.5*e.ties:0))/e.totalGamesPlayed),n=Object.values(S).map(e=>e.pointsFor),r=Object.values(S).map(e=>e.topScoreWeeksCount),a=Object.values(S).map(e=>e.playoffAppearancesCount),s=Object.values(S).map(e=>e.championships),o=Object.values(S).map(e=>e.totalLuckRating);p.winRank=pD(p.totalWins,e),p.winPercentageRank=pD((p.totalWins+(p.totalTies>0?.5*p.totalTies:0))/p.totalGamesPlayed,t),p.pointsForRank=pD(p.totalPointsFor,n),p.topScoreWeeksRank=pD(p.overallTopScoreWeeksCount,r),p.playoffRank=pD(p.playoffAppearancesCount,a),p.championshipRank=pD(p.totalChampionships,s),p.luckRank=pD(p.luckRating,o,!1)}k.forEach(e=>{const n=t[e];if(n){const t=Object.values(n).find(e=>e.ownerId===d);if(t&&t.totalGames>0){const n=c(d,e);w.push({year:e,team:n,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,luckRating:t.luckRating,adjustedDPR:"number"===typeof t.adjustedDPR?t.adjustedDPR:null,allPlayWinPercentage:t.allPlayWinPercentage,winPercentage:t.winPercentage,finish:(e!==P||E)&&t.rank?"".concat(t.rank).concat(fD(t.rank)):"N/A",pointsFinish:(e!==P||E)&&t.pointsRank?"".concat(t.pointsRank).concat(fD(t.pointsRank)):"N/A"})}}});const T=[],C=parseInt(null===l||void 0===l?void 0:l.season)||null,M=parseInt(null===l||void 0===l?void 0:l.week)||null;Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t,n;const r=parseInt(e),a=o.matchupsBySeason[e],s=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.find(e=>String(e.owner_id)===String(d));if(!s)return;const i=String(s.roster_id);a.forEach(e=>{var t,n,a;const s=String(e.team1_roster_id),l=String(e.team2_roster_id);if(z(s)||z(l))return;if(s!==i&&l!==i)return;const c=parseInt(e.week),u=Number(e.team1_score),d=Number(e.team2_score);if(isNaN(u)||isNaN(d))return;if(0===u&&0===d)return;if(C&&M&&(r>C||r===C&&c>=M))return;const h=s===i,m=h?u:d,f=h?d:u,p=h?l:s;if(z(p))return;const g=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n||null===(a=n.find(e=>String(e.roster_id)===String(p)))||void 0===a?void 0:a.owner_id,y=U(r,p,g),v=m===f?"T":m>f?"W":"L",x=Math.abs(m-f);T.push({year:r,week:c,opponent:y,myScore:m,oppScore:f,result:v,margin:x})})}),T.sort((e,t)=>t.year-e.year||t.week-e.week),N(T.slice(0,5));const D={mostPointsScored:[],mostPointsInLoss:[],fewestPointsScored:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]},R={};Object.keys(o.matchupsBySeason||{}).forEach(e=>{const t=(o.matchupsBySeason[e]||[]).filter(e=>Number(e.team1_score)>0||Number(e.team2_score)>0).map(e=>parseInt(e.week)).filter(e=>!isNaN(e));R[parseInt(e)]=t.length>0?Math.max(...t):0});const L=parseInt(null===l||void 0===l?void 0:l.season)||null,F=parseInt(null===l||void 0===l?void 0:l.week)||null;if(L&&F){const e=Math.max(0,F-1);R[L]=Math.min(R[L]||0,e)}Object.keys(o.matchupsBySeason||{}).forEach(e=>{const t=parseInt(e);o.matchupsBySeason[e].forEach(e=>{var n,r,a,s,i,l;const c=parseInt(e.week),u=String(e.team1_roster_id),d=String(e.team2_roster_id);if(z(u)||z(d))return;const h=Number(e.team1_score),m=Number(e.team2_score);if([h,m,c,t].some(e=>"number"!==typeof e||isNaN(e)))return;if(0===h&&0===m)return;if(c>(R[t]||0))return;const f=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,p=null===(s=o.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i||null===(l=i.find(e=>String(e.roster_id)===d))||void 0===l?void 0:l.owner_id,g=U(t,u,f),y=U(t,d,p),v=h+m,x=h===m&&h>0,b=x?null:h>m?g:y,w=x?null:h>m?y:g,j=Math.abs(h-m);if(D.mostPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:f,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),D.mostPointsScored.push({year:t,week:c,team:y,score:m,opponent:g,ownerId:p,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),h>0&&D.fewestPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:f,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),m>0&&D.fewestPointsScored.push({year:t,week:c,team:y,score:m,opponent:g,ownerId:p,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),!x){const e=h<m?g:y,n=Math.min(h,m),r=h<m?f:p,a=h>m?g:y;D.mostPointsInLoss.push({year:t,week:c,team:e,score:n,opponent:a,ownerId:r,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m});const s=Math.max(h,m),o=h>m?f:p,i=h<m?g:y,l=a;D.fewestPointsInWin.push({year:t,week:c,team:l,score:s,opponent:i,ownerId:o,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),D.biggestBlowout.push({year:t,week:c,winner:b,loser:w,value:j,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m}),j>0&&D.slimmestWin.push({year:t,week:c,winner:b,loser:w,value:j,owner1Id:f,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:m})}v>0&&h>0&&m>0&&D.lowestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:f,owner2Id:p,team1Score:h,team2Score:m}),(h>0||m>0)&&D.highestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:f,owner2Id:p,team1Score:h,team2Score:m})})});const B={mostPointsScored:"Most Points Scored by a Team",mostPointsInLoss:"Most Points Scored in a Loss",fewestPointsScored:"Fewest Points Scored by a Team",fewestPointsInWin:"Fewest Points Scored in a Win",highestCombinedScore:"Highest Combined Score",lowestCombinedScore:"Lowest Combined Score",biggestBlowout:"Biggest Blowout",slimmestWin:"Slimmest Win"},W=[];Object.keys(D).forEach(e=>{const t=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(e),n=D[e];if(!Array.isArray(n)||0===n.length)return;const r=n.map(e=>u(u({},e),{},{value:"number"===typeof e.value?e.value:"number"===typeof e.score?e.score:Number.NEGATIVE_INFINITY})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,n)=>t?e.value-n.value:n.value-e.value).slice(0,5);r.forEach((t,n)=>{let r="";const a=t.ownerId&&String(t.ownerId)===String(d),s=t.owner1Id&&String(t.owner1Id)===String(d),o=t.owner2Id&&String(t.owner2Id)===String(d);if(a||s||o){r=a?"Record Holder":s||o?"Opponent":"";const i=t.team?"".concat(t.team," vs ").concat(t.opponent):"".concat(t.team1," vs ").concat(t.team2);let l=t.ownerId||null;l||t.winner&&(t.winner===t.team1&&t.owner1Id?l=t.owner1Id:t.winner===t.team2&&t.owner2Id&&(l=t.owner2Id)),W.push({recordKey:e,label:B[e],rank:n+1,value:t.value,year:t.year,week:t.week,teamsText:i,role:r,teamA:t.team||t.team1||"",teamB:t.opponent||t.team2||"",recordOwnerId:l,owner1Id:t.owner1Id||null,owner2Id:t.owner2Id||null})}})}),m(p),j(w),_(W);const V=w.map(e=>e.year).sort();g(V),!y&&V.length>0&&v(V[0]),!x&&V.length>0&&b(V[V.length-1]),(async(e,t)=>{const{seasonalMetrics:n,careerDPRData:r}=s(o,0,c,l),a=[];if(r&&Array.isArray(r)){const e=[{key:"dpr",label:"Highest DPR",isMax:!0},{key:"wins",label:"Total Wins",isMax:!0},{key:"losses",label:"Total Losses",isMax:!0},{key:"winPercentage",label:"Best Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"allPlayWinPercentage",label:"Best All-Play Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"topScoreWeeksCount",label:"Most Weekly High Scores",isMax:!0},{key:"weeklyTop2ScoresCount",label:"Most Weekly Top 2 Scores",isMax:!0},{key:"blowoutWins",label:"Most Blowout Wins",isMax:!0},{key:"blowoutLosses",label:"Most Blowout Losses",isMax:!0},{key:"slimWins",label:"Most Slim Wins",isMax:!0},{key:"slimLosses",label:"Most Slim Losses",isMax:!0},{key:"pointsFor",label:"Most Total Points",isMax:!0,format:e=>XM(e,2)},{key:"pointsAgainst",label:"Most Points Against",isMax:!0,format:e=>XM(e,2)},{key:"totalLuckRating",label:"Best Luck",isMax:!0,format:e=>XM(e,3)}];e.forEach(e=>{let n=e.isMax?-1/0:1/0,s=[];if(r.forEach(t=>{const r=t[e.key];"number"!==typeof r||isNaN(r)||(e.isMax&&r>n||!e.isMax&&r<n?(n=r,s=[t.ownerId]):r===n&&s.push(t.ownerId))}),s.includes(t)){const n=r.find(e=>e.ownerId===t);let s=n[e.key];e.format&&(s=e.format(s)),a.push({label:e.label,value:s,details:"",year:""})}})}const i={};Object.keys(o.winnersBracketBySeason||{}).forEach(e=>{const t=parseInt(e);o.winnersBracketBySeason[e].forEach(e=>{var n,r,a,s,l,c;const u=String(e.team1_roster_id),d=String(e.team2_roster_id),h=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,m=null===(s=o.rostersBySeason)||void 0===s||null===(l=s[t])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===d))||void 0===c?void 0:c.owner_id;[h,m].forEach(e=>{e&&(i[e]||(i[e]={appearances:0,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,championships:0,runnerUps:0,thirdPlaces:0}))}),h&&i[h].appearances++,m&&i[m].appearances++;const f=Number(e.team1_score),p=Number(e.team2_score);isNaN(f)||isNaN(p)||(f>p?(i[h].wins++,i[m].losses++):p>f?(i[m].wins++,i[h].losses++):f===p&&f>0&&(i[h].ties++,i[m].ties++),i[h].pointsFor+=f,i[h].pointsAgainst+=p,i[m].pointsFor+=p,i[m].pointsAgainst+=f),1===e.p&&e.w&&(1===e.w&&h&&i[h].championships++,2===e.w&&m&&i[m].championships++),1===e.p&&e.l&&(1===e.l&&h&&i[h].runnerUps++,2===e.l&&m&&i[m].runnerUps++),3===e.p&&e.w&&(1===e.w&&h&&i[h].thirdPlaces++,2===e.w&&m&&i[m].thirdPlaces++)})});const u=[{key:"appearances",label:"Playoff Appearances",isMax:!0},{key:"wins",label:"Playoff Wins",isMax:!0},{key:"losses",label:"Playoff Losses",isMax:!0},{key:"pointsFor",label:"Playoff Points For",isMax:!0,format:e=>XM(e,2)},{key:"pointsAgainst",label:"Playoff Points Against",isMax:!0,format:e=>XM(e,2)},{key:"championships",label:"Championships",isMax:!0},{key:"runnerUps",label:"Runner-Ups",isMax:!0},{key:"thirdPlaces",label:"Third Places",isMax:!0}],d=[];u.forEach(e=>{let n=e.isMax?-1/0:1/0,r=[];if(Object.entries(i).forEach(t=>{let[a,s]=t;const o=s[e.key];"number"!==typeof o||isNaN(o)||(e.isMax&&o>n||!e.isMax&&o<n?(n=o,r=[a]):o===n&&r.push(a))}),r.includes(String(t))){let n=i[t][e.key];if(e.format&&(n=e.format(n)),("pointsFor"===e.key||"pointsAgainst"===e.key)&&0===Number(n))return;if("appearances"===e.key){const e=Object.keys(o.winnersBracketBySeason||{}).length;n=Math.min(Number(n),e)}d.push({label:e.label,value:n})}});const h={};Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t;const n=parseInt(e),r=o.matchupsBySeason[e];Object.values((null===(t=o.rostersBySeason)||void 0===t?void 0:t[n])||{}).forEach(e=>{const t=e.owner_id;if(!t)return;h[t]||(h[t]={win:0,loss:0});let n=0,a=0,s=r.filter(t=>String(t.team1_roster_id)===String(e.roster_id)||String(t.team2_roster_id)===String(e.roster_id));s=s.sort((e,t)=>parseInt(e.week)-parseInt(t.week)),s.forEach(r=>{const s=String(r.team1_roster_id)===String(e.roster_id),o=Number(s?r.team1_score:r.team2_score),i=Number(s?r.team2_score:r.team1_score);isNaN(o)||isNaN(i)||(o>i?(n++,a>h[t].loss&&(h[t].loss=a),a=0):o<i?(a++,n>h[t].win&&(h[t].win=n),n=0):(n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a),n=0,a=0))}),n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a)})});let m=-1/0,f=-1/0,p=[],g=[];Object.entries(h).forEach(e=>{let[t,n]=e;n.win>m?(m=n.win,p=[t]):n.win===m&&p.push(t),n.loss>f?(f=n.loss,g=[t]):n.loss===f&&g.push(t)});const y=[];p.includes(String(t))&&y.push({label:"Longest Win Streak",value:m,details:"",year:""}),g.includes(String(t))&&y.push({label:"Longest Losing Streak",value:f,details:"",year:""});const v=[],x=[{key:"wins",label:"Most Wins in a Season",isMax:!0},{key:"losses",label:"Most Losses in a Season",isMax:!0},{key:"winPercentage",label:"Best Win % in a Season",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"pointsFor",label:"Most Points For in a Season",isMax:!0,format:e=>XM(e,2)},{key:"luckRating",label:"Best Luck Rating in a Season",isMax:!0,format:e=>XM(e,3)},{key:"adjustedDPR",label:"Highest DPR in a Season",isMax:!0,format:e=>XM(e,3)}];return x.forEach(e=>{let r=e.isMax?-1/0:1/0,a=[];Object.keys(n).forEach(t=>{const s=parseInt(t);Object.values(n[s]).forEach(t=>{const n=t[e.key];"number"!==typeof n||isNaN(n)||(e.isMax&&n>r||!e.isMax&&n<r?(r=n,a=[{ownerId:t.ownerId,year:s}]):n===r&&a.push({ownerId:t.ownerId,year:s}))})}),a.forEach(r=>{if(r.ownerId===t){let a=null;Object.keys(n).forEach(s=>{const o=parseInt(s);if(o!==r.year)return;const i=Object.values(n[o]).find(e=>e.ownerId===t);i&&(a=i[e.key])}),e.format&&(a=e.format(a)),v.push({label:e.label,value:a,year:r.year,details:""})}})}),{career:a,playoff:d,streak:y,season:v}})(0,d).then(O),A(!1),f.A.debug("TeamDetailPage: Final teamOverallStats for ".concat(e,":"),p)},[n,o,i,l,c,r,a]),(0,t.useEffect)(()=>{(async()=>{if(!o||!o.matchupsBySeason)return f.A.debug("No historical data available for financial fetch"),void R(!1);f.A.debug("Starting financial data fetch..."),R(!0);try{const e=Object.keys(o.matchupsBySeason).map(String);if(f.A.debug("Available years for financial data:",e),0===e.length)return f.A.debug("No years found in historical data"),M({}),void R(!1);f.A.debug("Fetching financial data for years:",e);const t=await xu(e);f.A.debug("Received financial data:",t),M(t)}catch(e){f.A.error("Error fetching financial data:",e),M({})}finally{R(!1)}})()},[o]);const V=(e,t)=>C[e]&&C[e].transactions&&t?nI(C[e].transactions,t):{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0},H=(e,t)=>C[e]&&C[e].transactions&&t?tI(C[e].transactions,t):{tradeFees:0,waiverFees:0,totalTransactions:0},G=(0,t.useMemo)(()=>{const e=[...w],t=e=>{var t;return"N/A"===e?1/0:parseInt((null===(t=e.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0")};return e.sort((e,n)=>{let r,a;if("record"===L)r=(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties),a=(n.wins+.5*n.ties)/(n.wins+n.losses+n.ties);else if("finish"===L||"pointsFinish"===L)r=t(e[L]),a=t(n[L]);else if("tradeCount"===L){const t=H(e.year.toString(),null===h||void 0===h?void 0:h.ownerId),s=H(n.year.toString(),null===h||void 0===h?void 0:h.ownerId);r=t.tradeFees,a=s.tradeFees}else if("waiverCount"===L){const t=H(e.year.toString(),null===h||void 0===h?void 0:h.ownerId),s=H(n.year.toString(),null===h||void 0===h?void 0:h.ownerId);r=t.waiverFees,a=s.waiverFees}else if("netFinancial"===L){const t=V(e.year.toString(),null===h||void 0===h?void 0:h.ownerId),s=V(n.year.toString(),null===h||void 0===h?void 0:h.ownerId);r=t.netTotal,a=s.netTotal}else r=e[L],a=n[L];return(r<a?-1:r>a?1:0)*("asc"===B?1:-1)})},[w,L,B,C,null===h||void 0===h?void 0:h.ownerId]),q=e=>{L===e?W("asc"===B?"desc":"asc"):(F(e),W("asc"))};return P?(0,K.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-gray-600",children:["Loading ",n,"'s historical data..."]}):h?(0,K.jsxs)("div",{className:"relative left-1/2 -translate-x-1/2 w-screen px-4 sm:left-0 sm:translate-x-0 sm:w-full sm:px-0 bg-white p-3 sm:p-6 md:p-8 mt-4 sm:mt-8 rounded-none sm:rounded-lg shadow-none sm:shadow-md",children:[(0,K.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-blue-700 mb-4 sm:mb-6 text-center border-b pb-2 sm:pb-3",children:[n,(0,K.jsxs)("span",{className:"block text-base sm:text-lg font-medium text-gray-600 mt-1 sm:mt-2",children:["Record: ",h.totalWins,"-",h.totalLosses,"-",h.totalTies," | Career DPR: ",vD(h.avgDPR),(0,K.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap mt-1",children:[h.totalChampionships>0&&(0,K.jsxs)("span",{title:"Sween Bowl Champion (".concat(h.totalChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalChampionships,"x"]})]}),h.totalRunnerUps>0&&(0,K.jsxs)("span",{title:"Sween Bowl Runner-Up (".concat(h.totalRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-gray-400 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalRunnerUps,"x"]})]}),h.totalThirdPlaces>0&&(0,K.jsxs)("span",{title:"3rd Place Finish (".concat(h.totalThirdPlaces,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-trophy text-amber-800 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalThirdPlaces,"x"]})]}),h.totalPointsChampionships>0&&(0,K.jsxs)("span",{title:"1st Place - Points (".concat(h.totalPointsChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-yellow-500 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalPointsChampionships,"x"]})]}),h.totalPointsRunnerUps>0&&(0,K.jsxs)("span",{title:"2nd Place - Points (".concat(h.totalPointsRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-gray-400 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalPointsRunnerUps,"x"]})]}),h.totalThirdPlacePoints>0&&(0,K.jsxs)("span",{title:"3rd Place - Points (".concat(h.totalThirdPlacePoints,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,K.jsx)("i",{className:"fas fa-medal text-amber-800 text-2xl"}),(0,K.jsxs)("span",{className:"text-xs font-medium",children:[h.totalThirdPlacePoints,"x"]})]})]})]})]})," ",(0,K.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"League Ranks"}),(0,K.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[(0,K.jsx)(xD,{title:"Total Wins",value:h.totalWins,rank:h.winRank}),(0,K.jsx)(xD,{title:"Win %",value:gD((h.totalWins+.5*h.totalTies)/h.totalGamesPlayed),rank:h.winPercentageRank}),(0,K.jsx)(xD,{title:"Total Points",value:XM(h.totalPointsFor),rank:h.pointsForRank}),(0,K.jsx)(xD,{title:"Weekly Top Scores",value:void 0!==h.overallTopScoreWeeksCount?"".concat(h.overallTopScoreWeeksCount):"N/A",rank:h.topScoreWeeksRank}),(0,K.jsx)(xD,{title:"Playoff Appearances",value:h.playoffAppearancesCount,rank:h.playoffRank}),(0,K.jsx)(xD,{title:"Championships",value:h.totalChampionships,rank:h.championshipRank})]})]}),(0,K.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Season History"}),w.length>0?(0,K.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,K.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("year"),children:["Year ","year"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("record"),children:["Record (W-L-T) ","record"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("pointsFor"),children:["Points For ","pointsFor"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-red-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("pointsAgainst"),children:["Points Against ","pointsAgainst"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("luckRating"),children:["Luck Rating ","luckRating"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-purple-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("finish"),children:["Finish ","finish"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("pointsFinish"),children:["Points Finish ","pointsFinish"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("adjustedDPR"),children:["Adjusted DPR ","adjustedDPR"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("allPlayWinPercentage"),children:["All-Play Win % ","allPlayWinPercentage"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-indigo-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("tradeCount"),children:["Trades ","tradeCount"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-cyan-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("waiverCount"),children:["FA/Waivers ","waiverCount"===L&&("asc"===B?"\u25b2":"\u25bc")]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-orange-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>q("netFinancial"),children:["Net Financial ","netFinancial"===L&&("asc"===B?"\u25b2":"\u25bc")]})]})}),(0,K.jsx)("tbody",{children:G.map((e,t)=>{const n=V(e.year.toString(),null===h||void 0===h?void 0:h.ownerId),r=H(e.year.toString(),null===h||void 0===h?void 0:h.ownerId);return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.ties>0?"".concat(e.wins,"-").concat(e.losses,"-").concat(e.ties):"".concat(e.wins,"-").concat(e.losses)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:XM(e.pointsFor)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:XM(e.pointsAgainst)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:yD(e.luckRating)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.finish}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.pointsFinish}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:vD(e.adjustedDPR)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:gD(e.allPlayWinPercentage)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:D?"...":r.tradeFees}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:D?"...":r.waiverFees}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat(D?"text-gray-400":n.netTotal>0?"text-green-600":n.netTotal<0?"text-red-600":"text-gray-700"),children:D?"...":rI(n.netTotal)})]},e.year)})})]})}):(0,K.jsxs)("p",{className:"text-gray-600",children:["No season-by-season data available for ",n," for completed seasons."]})]}),(0,K.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Previous 5 Games"}),S.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:S.map((e,t)=>(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-3 border border-gray-100",children:(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.year," \u2022 W",e.week]}),(0,K.jsx)("div",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ".concat("W"===e.result?"bg-green-50 text-green-700":"L"===e.result?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"),children:e.result})]}),(0,K.jsx)("div",{className:"mt-2 flex items-center gap-3",children:(0,K.jsx)("div",{className:"font-semibold text-sm text-gray-900 truncate",children:e.opponent})})]}),(0,K.jsxs)("div",{className:"text-right",children:[(0,K.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[XM(e.myScore)," ",(0,K.jsx)("span",{className:"text-xs text-gray-500",children:"vs"})," ",XM(e.oppScore)]}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Margin: ",XM(e.margin)]})]})]})},"".concat(e.year,"-").concat(e.week,"-").concat(t)))}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg border border-gray-200",children:(0,K.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Opponent"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Result"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Team"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Opponent"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Margin"})]})}),(0,K.jsx)("tbody",{children:S.map((e,t)=>(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:[e.year," \u2022 W",e.week]}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.opponent}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat("W"===e.result?"text-green-700":"L"===e.result?"text-red-700":"text-gray-700"),children:e.result}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:XM(e.myScore)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:XM(e.oppScore)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:XM(e.margin)})]},"".concat(e.year,"-").concat(e.week,"-").concat(t)))})]})})]}):(0,K.jsx)("p",{className:"text-gray-600",children:"No recent games available."})]}),w.length>5&&(0,K.jsx)("section",{className:"mb-6",children:(0,K.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,K.jsx)("h4",{className:"text-base font-semibold text-gray-800 mb-2",children:"Chart Display Options"}),(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[(0,K.jsx)("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Show seasons:"}),(0,K.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,K.jsx)("select",{value:y,onChange:e=>v(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:p.map(e=>(0,K.jsx)("option",{value:e,children:e},e))}),(0,K.jsx)("span",{className:"text-gray-500",children:"to"}),(0,K.jsx)("select",{value:x,onChange:e=>b(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:p.map(e=>(0,K.jsx)("option",{value:e,children:e},e))})]})]}),(0,K.jsxs)("div",{className:"flex gap-2",children:[(0,K.jsx)("button",{onClick:()=>{if(p.length>0){const e=p.slice(-5);v(e[0]),b(e[e.length-1])}},className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200 transition-colors",children:"Last 5"}),(0,K.jsx)("button",{onClick:()=>{p.length>0&&(v(p[0]),b(p[p.length-1]))},className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 transition-colors",children:"All"})]})]})]})}),(0,K.jsxs)("section",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"DPR & Finish by Season"}),w.length>0?(()=>{const e=(()=>{if(!y||!x||!w.length)return w;const e=parseInt(y),t=parseInt(x);return w.filter(n=>{const r=parseInt(n.year);return r>=e&&r<=t})})(),t=e.map(e=>"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null).filter(e=>"number"===typeof e&&!isNaN(e));let n=Math.min(...t),r=Math.max(...t);if(isFinite(n)&&isFinite(r)){const e=Math.max(.03,.12*(r-n));n=Math.floor(1e3*(n-e))/1e3,r=Math.ceil(1e3*(r+e))/1e3,n=Math.max(.5,n),r=Math.min(1.5,r)}else n=.6,r=1.3;const a=[1,6,12];return(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsx)("div",{className:"sm:hidden",children:(0,K.jsx)("div",{className:"w-full h-[280px] px-1",style:{minHeight:"280px"},children:(0,K.jsx)(Od,{width:"100%",height:"100%",minHeight:280,children:(0,K.jsxs)(CO,{data:e.map(e=>{var t;return{season:e.year,dpr:"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null,finish:"string"===typeof e.finish&&"N/A"!==e.finish?parseInt((null===(t=e.finish.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0"):null}}),margin:{top:10,right:15,left:5,bottom:25},children:[(0,K.jsx)($O,{strokeDasharray:"3 3",vertical:!1}),(0,K.jsx)(wO,{dataKey:"season",tick:{fontSize:9},interval:(s=e.length,s<=5?0:s<=10?1:s<=15?2:Math.floor(s/8)),angle:-45,textAnchor:"end",height:40}),(0,K.jsx)(TO,{yAxisId:"left",orientation:"left",domain:[n,r],tickCount:6,tick:{fontSize:9},width:44,allowDecimals:!0,allowDataOverflow:!0,children:(0,K.jsx)(iN,{value:"DPR",angle:-90,position:"left",dx:-8,style:{textAnchor:"middle",fontSize:9}})}),(0,K.jsx)(TO,{yAxisId:"right",orientation:"right",domain:[1,12],reversed:!0,tick:{fontSize:9},width:25,allowDecimals:!1,allowDataOverflow:!0,ticks:a}),(0,K.jsx)(Th,{wrapperStyle:{fontSize:11},formatter:(e,t,n)=>"dpr"===t&&"number"===typeof e?[Number(e).toFixed(3),"DPR"]:"finish"===t&&"number"===typeof e?[Math.round(e),"Finish"]:[e,t]}),(0,K.jsx)(lf,{verticalAlign:"top",height:20,iconSize:10,wrapperStyle:{fontSize:10,paddingBottom:2}}),(0,K.jsx)(Fk,{yAxisId:"left",dataKey:"dpr",name:"DPR",fill:"#2563eb",barSize:12,radius:[3,3,0,0]}),(0,K.jsx)(pE,{yAxisId:"right",type:"monotone",dataKey:"finish",name:"Finish",stroke:"#f59e42",strokeWidth:2,dot:{r:3},activeDot:{r:4}})]})})})}),(0,K.jsx)("div",{className:"hidden sm:block",children:(0,K.jsx)("div",{className:"w-full h-[220px] xs:h-[260px] sm:h-[340px] md:h-[400px] px-0 xs:px-1 sm:px-2",children:(0,K.jsx)(Od,{width:"100%",height:"100%",children:(0,K.jsxs)(CO,{data:e.map(e=>{var t;return{season:e.year,dpr:"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null,finish:"string"===typeof e.finish&&"N/A"!==e.finish?parseInt((null===(t=e.finish.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0"):null}}),margin:{top:10,right:20,left:0,bottom:10},children:[(0,K.jsx)($O,{strokeDasharray:"3 3",vertical:!1}),(0,K.jsx)(wO,{dataKey:"season",tick:{fontSize:10},padding:{left:8,right:8},children:(0,K.jsx)(iN,{value:"Season",offset:-6,position:"insideBottom",style:{fontSize:11}})}),(0,K.jsx)(TO,{yAxisId:"left",orientation:"left",domain:[n,r],tickCount:8,tick:{fontSize:10},width:48,allowDecimals:!0,allowDataOverflow:!0,children:(0,K.jsx)(iN,{value:"DPR",angle:-90,position:"left",dx:-10,style:{textAnchor:"middle",fontSize:11}})}),(0,K.jsx)(TO,{yAxisId:"right",orientation:"right",domain:[1,12],reversed:!0,tick:{fontSize:10},width:32,allowDecimals:!1,allowDataOverflow:!0,ticks:[1,2,3,4,5,6,7,8,9,10,11,12]}),(0,K.jsx)(Th,{wrapperStyle:{fontSize:12},formatter:(e,t,n)=>"dpr"===t&&"number"===typeof e?[Number(e).toFixed(3),"DPR"]:"finish"===t&&"number"===typeof e?[Math.round(e),"Finish"]:[e,t]}),(0,K.jsx)(lf,{verticalAlign:"top",height:28,iconSize:14,wrapperStyle:{fontSize:12,paddingBottom:2}}),(0,K.jsx)(Fk,{yAxisId:"left",dataKey:"dpr",name:"DPR",fill:"#2563eb",barSize:18,radius:[5,5,0,0]}),(0,K.jsx)(pE,{yAxisId:"right",type:"monotone",dataKey:"finish",name:"Finish",stroke:"#f59e42",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})})})]});var s})():(0,K.jsx)("p",{className:"text-gray-600",children:"No season-by-season data available for this team."})]}),(0,K.jsxs)("section",{children:[(0,K.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Game Records"}),(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:k.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-2 p-2",children:k.sort((e,t)=>e.label.localeCompare(t.label)||e.rank-t.rank).map((e,t)=>{var n,r,a,s,o,i;const l=e.owner1Id||(null===(n=e.teamA)||void 0===n?void 0:n.ownerId)||null,c=e.owner2Id||(null===(r=e.teamB)||void 0===r?void 0:r.ownerId)||null,u=e.recordOwnerId||e.ownerId||null,d=u&&l&&u===l,h=u&&c&&u===c,m="string"===typeof e.teamA?e.teamA:(null===(a=e.teamA)||void 0===a?void 0:a.displayName)||(null===(s=e.teamA)||void 0===s?void 0:s.name)||"",f="string"===typeof e.teamB?e.teamB:(null===(o=e.teamB)||void 0===o?void 0:o.displayName)||(null===(i=e.teamB)||void 0===i?void 0:i.name)||"";return(0,K.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-100 shadow-sm",children:(0,K.jsxs)("div",{className:"flex items-start gap-3",children:[(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-900 leading-tight",children:e.label}),(0,K.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.role}),(0,K.jsxs)("div",{className:"mt-2 text-sm text-gray-700",children:[(0,K.jsx)("div",{className:"truncate",children:(0,K.jsx)("span",{className:d?"font-semibold text-gray-900":"text-gray-800",children:m||e.teamsText})}),(0,K.jsx)("div",{className:"truncate text-gray-600",children:(0,K.jsx)("span",{className:h?"font-semibold text-gray-900":"text-gray-700",children:f||e.teamsText})})]})]}),(0,K.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-end ml-3",children:[(0,K.jsxs)("span",{className:"inline-flex items-center justify-center text-xs font-bold text-blue-700 bg-blue-50 px-2 py-1 rounded",children:["#",e.rank]}),(0,K.jsx)("div",{className:"text-lg font-extrabold text-gray-900 mt-1",children:XM(e.value)}),(0,K.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[e.year," \u2022 W",e.week]})]})]})},"".concat(e.recordKey,"-").concat(e.year,"-").concat(e.week,"-").concat(t))})}),(0,K.jsx)("div",{className:"h-3"}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Role"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Record"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Rank"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Value"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Game"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,K.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Week"})]})}),(0,K.jsx)("tbody",{children:k.sort((e,t)=>e.label.localeCompare(t.label)||e.rank-t.rank).map((e,t)=>(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.role}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.label}),(0,K.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:["#",e.rank]}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:XM(e.value)}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.teamsText}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,K.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.week})]},"".concat(e.recordKey,"-").concat(e.year,"-").concat(e.week,"-").concat(t)))})]})})]}):(0,K.jsx)("p",{className:"text-gray-600 p-4",children:"No record book involvements found for this team."})})]}),(0,K.jsx)("div",{className:"mt-4",children:(0,K.jsx)(hD,{ownerId:h.ownerId,allDraftHistory:i,totalRounds:12,totalTeams:12})})]}):(0,K.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-red-500",children:["No data found for ",n,"."]})},wD=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=[...new Set(t.filter(e=>null!==e&&"undefined"!==typeof e&&!isNaN(e)))].sort((e,t)=>n?t-e:e-t),a=r.indexOf(e)+1;return a>0?"".concat(a).concat((e=>{const t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"})(a)):"N/A"},jD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!t)return{background:"rgba(245,245,245,0.9)",color:"#6b7280",fontWeight:"700"};const n=e/t;let r;r=.5===n?"#ffde57":n<.25?"#f87171":n<.5?"#fecaca":n<=.75?"#bbf7d0":"#4ade80";const[a,s,o]=(e=>{const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]})(r),i="rgb(".concat(a,", ").concat(s,", ").concat(o,")"),l=((e,t,n)=>{const r=[e,t,n].map(e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return.2126*r[0]+.7152*r[1]+.0722*r[2]})(a,s,o);let c=l<.5?"#FFFFFF":"#0F172A";const u=r.toLowerCase();return"#f87171"===u?c="#992f2f":"#fecaca"===u?c="#b84b4b":"#ffde57"===u?c="#8A6F1A":"#bbf7d0"===u?c="#22804a":"#4ade80"===u&&(c="#1f6b46"),{background:i,color:c,fontWeight:"700"}},SD=()=>{const{loading:e,error:n,historicalData:r,getTeamName:a,getTeamDetails:s,careerDPRData:o,nflState:i}=J(),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)({});(0,t.useEffect)(()=>{if(e||n)return void g(!0);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return c({}),v({}),void g(!1);g(!0);const t={},s={},o=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,l=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;Object.entries(r.matchupsBySeason).forEach(e=>{let[t,n]=e;const a={};n.forEach(e=>{const n=parseInt(e.week),r=parseInt(t);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),Object.entries(a).forEach(e=>{var n;let[a,o]=e;const i=(null===(n=r.rostersBySeason)||void 0===n?void 0:n[t])||[],l=[];if(o.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=i.find(t=>String(t.roster_id)===String(e.team2_roster_id)),r=null===t||void 0===t?void 0:t.owner_id,a=null===n||void 0===n?void 0:n.owner_id,s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);r&&!isNaN(s)&&l.push({ownerId:r,score:s}),a&&!isNaN(o)&&l.push({ownerId:a,score:o})}),0===l.length)return;const c=Math.max(...l.map(e=>e.score)),u=l.filter(e=>e.score===c).map(e=>e.ownerId);u.forEach(e=>{s[e]=(s[e]||0)+1})})}),Object.entries(r.matchupsBySeason).forEach(e=>{var n,s,i,c;let[u,d]=e;const h=r.leaguesMetadataBySeason[u],m=null!==h&&void 0!==h&&null!==(n=h.settings)&&void 0!==n&&n.championship_week?parseInt(h.settings.championship_week):null,f=(null===(s=r.rostersBySeason)||void 0===s?void 0:s[u])||[],p=(null===(i=r.winnersBracketBySeason)||void 0===i?void 0:i[u])||[],g=(null===(c=r.losersBracketBySeason)||void 0===c?void 0:c[u])||[];d.forEach(e=>{const n=parseInt(e.week),r=parseInt(u);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}const s=String(e.team1_roster_id),i=String(e.team2_roster_id),c=parseFloat(e.team1_score),d=parseFloat(e.team2_score);if(!s||!i||s===i||isNaN(c)||isNaN(d))return;const h=f.find(e=>String(e.roster_id)===s),y=f.find(e=>String(e.roster_id)===i),v=null===h||void 0===h?void 0:h.owner_id,x=null===y||void 0===y?void 0:y.owner_id;if(!v||!x)return;const b=a(v,u),w=a(x,u);if(b.startsWith("Unknown Team")||w.startsWith("Unknown Team"))return;const j=c===d,S=c>d;let N="Reg. Season";const k=String(e.team1_roster_id),_=String(e.team2_roster_id),P=e=>e.find(e=>{const t=[String(e.t1),String(e.t2)].filter(Boolean);return parseInt(e.week)===n&&t.includes(k)&&t.includes(_)}),A=P(p),E=P(g);if(A)if(A.p){const e=A.p;N=1===e?"Championship Game":3===e?"3rd Place Game":5===e?"5th Place Game":7===e?"7th Place Game":9===e?"9th Place Game":11===e?"11th Place Game":"".concat(e,"th Place Game")}else N=m&&n===m?"Championship Game":"Playoffs";else if(E)if(E.p){const e=E.p;N=1===e?"7th Place Game":3===e?"9th Place Game":5===e?"11th Place Game":"Placement Game"}else N="Consolation";else e.playoff&&(N="Playoffs (Uncategorized)");const O=[v,x].sort(),I="".concat(O[0]," vs ").concat(O[1]);t[I]||(t[I]={owners:O,[O[0]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},[O[1]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},allMatches:[]});const T=t[I];let C="Tie",M="Tie";S?(C=v,M=x):d>c&&(C=x,M=v);const D=v===O[0]?T[O[0]]:T[O[1]],R=x===O[0]?T[O[0]]:T[O[1]],L=N.includes("Playoff")||N.includes("Championship")||N.includes("Consolation");j?(D.ties++,R.ties++,L&&(D.playoffTies++,R.playoffTies++)):S?(D.wins++,R.losses++,L&&(D.playoffWins++,R.playoffLosses++)):(R.wins++,D.losses++,L&&(R.playoffWins++,D.playoffLosses++)),T.allMatches.push({year:parseInt(u),week:e.week,matchupId:e.match_id,team1RosterId:s,team2RosterId:i,team1OwnerId:v,team2OwnerId:x,team1Score:c,team2Score:d,winnerOwnerId:C,loserOwnerId:M,winnerDisplayName:C===v?b:w,loserDisplayName:M===v?b:w,winnerScore:C===v?c:d,loserScore:M===v?c:d,isTie:j,matchType:N})})}),c(t),v(s),g(!1)},[r,a,e,n]);const x=(0,t.useMemo)(()=>{const e=new Set;Object.values(l).forEach(t=>{t.owners.forEach(t=>e.add(t))});return Array.from(e).map(e=>({ownerId:e,displayName:a(e,null)})).sort((e,t)=>e.displayName.localeCompare(t.displayName))},[l,a]),b=(0,t.useMemo)(()=>{const e={};return Object.values(l).forEach(t=>{const n=t.owners||[];if(n.length<2)return;const r=n[0],a=n[1],s=t[r]||{wins:0,losses:0,ties:0},o=t[a]||{wins:0,losses:0,ties:0},i=(s.wins||0)+(s.losses||0)+(s.ties||0),l=(o.wins||0)+(o.losses||0)+(o.ties||0);if(i>0){const t=(s.wins+.5*(s.ties||0))/i,n=e[r];(!n||t>n.winPct)&&(e[r]={opponent:a,wins:s.wins||0,losses:s.losses||0,ties:s.ties||0,winPct:t,totalGames:i})}if(l>0){const t=(o.wins+.5*(o.ties||0))/l,n=e[a];(!n||t>n.winPct)&&(e[a]={opponent:r,wins:o.wins||0,losses:o.losses||0,ties:o.ties||0,winPct:t,totalGames:l})}}),e},[l]),w=(0,t.useMemo)(()=>{const e=Object.keys(b).map(e=>{const t=b[e],n=t.wins||0,r=t.losses||0,s=t.ties||0,o=n+r+s,i="number"===typeof t.winPct?t.winPct:-1;return{ownerId:e,ownerName:a(e,null),opponentId:t.opponent,opponentName:a(t.opponent,null),record:"".concat(n,"-").concat(r).concat(s&&s>0?"-".concat(s):""),winPct:i>=0?i.toFixed(3):"N/A",winPctNum:i,totalGames:o,wins:n}});return e.sort((e,t)=>t.winPctNum!==e.winPctNum?(t.winPctNum||-1)-(e.winPctNum||-1):t.totalGames!==e.totalGames?t.totalGames-e.totalGames:t.wins!==e.wins?t.wins-e.wins:e.ownerName.localeCompare(t.ownerName)),e},[b,a]),j=(0,t.useCallback)(()=>{var e,t;const n=l[u];if(!n)return null;const r=h?h[0]:n.owners[0],c=h?h[1]:n.owners[1],p=a(r,null),g=a(c,null),v=n[r];n[c];let x={value:null,year:null,week:null,ownerId:null},b={value:null,year:null,week:null,winningOwnerId:null},w={value:1/0,year:null,week:null,winningOwnerId:null},j=0,S=0,N=null,k=0;const _=[...n.allMatches].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week),P=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,A=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;let E=0;const O=_.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(P&&t>P)&&(!(P&&t===P&&A&&n>=A)&&((0!==e.team1Score||0!==e.team2Score)&&("number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score))))}),I=O.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week),r="number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score);return!(P&&t>P)&&(!(P&&t===P&&A&&n>=A)&&((0!==e.team1Score||0!==e.team2Score)&&r))}).map(e=>{let t,n;e.team1OwnerId===r?(t=e.team1Score,n=e.team2Score):(t=e.team2Score,n=e.team1Score);const a=t-n;return E+=a,{name:"".concat(e.year," W").concat(e.week),netPoints:a,cumulativeNetPoints:E,positiveCumulativeNetPoints:E>=0?E:0,negativeCumulativeNetPoints:E<0?E:0,mainTeamScore:t,oppTeamScore:n,week:e.week,year:e.year}});f.A.debug("Net Points Data for chart:",I),O.forEach(e=>{let t,n;if(e.team1OwnerId===r)t=e.team1Score,n=e.team2Score;else{if(e.team1OwnerId!==c)return;t=e.team2Score,n=e.team1Score}if(!isNaN(t)&&!isNaN(n)){if(j+=t,S+=n,t>(x.value||0)&&(x={value:t,year:e.year,week:e.week,ownerId:e.team1OwnerId}),n>(x.value||0)&&(x={value:n,year:e.year,week:e.week,ownerId:e.team2OwnerId}),!e.isTie){const a=Math.abs(t-n);a>(b.value||0)&&(b={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(!e.isTie){const a=Math.abs(t-n);a<w.value&&(w={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(e.isTie)N=null,k=0;else{const e=t>n?r:c;N===e?k++:(N=e,k=1)}}});N&&"".concat(a(N,null)," ").concat(k,"-game W streak");const T=o?o.map(e=>e.wins):[],C=o?o.map(e=>e.winPercentage):[],M=o?o.map(e=>e.dpr):[],D=o?o.map(e=>e.pointsFor):[],R=o?o.map(e=>e.highScore):[];return(0,K.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md border border-gray-200",children:[(0,K.jsx)("button",{onClick:()=>{d(null),m(null)},className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"\u2190 Back to All Rivalries"}),(0,K.jsxs)("div",{className:"text-center mb-6 flex flex-col items-center",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsx)("img",{src:s&&(null===(e=s(r,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(p," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsxs)("h3",{className:"text-2xl font-extrabold text-gray-800 mb-2",children:[p," ",(0,K.jsx)("span",{className:"text-lg font-normal",children:"vs"})," ",g]}),(0,K.jsx)("img",{src:s&&(null===(t=s(c,null))||void 0===t?void 0:t.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(g," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}})]}),(0,K.jsx)("p",{className:"text-sm text-gray-600",children:"Performance, stats, and records"})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-6 items-center",children:[(e=>{const t=r,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=c,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,m=i?i.dpr:null,f=y[t]||0,p=i?i.highScore:null,g=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=wD(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let j="bg-blue-50";v>w?j="bg-green-100 text-green-800":v<w?j="bg-red-100 text-red-800":v===w&&0!==v&&(j="bg-yellow-100 text-yellow-800");const S=u?u.wins:null,N=u?u.winPercentage:null,k=u?u.dpr:null,_=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},A=wD(d,T,!0),E=wD(h,C,!0),O=wD(m,M,!0),I=(wD(p,R,!0),wD(g,D,!0)),L=y[l]||0;let F="p-2 rounded-md ";F+=f>L?"bg-green-100 text-green-800":f<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const B=P(h,N,!0),W=(e,t,n,r)=>(0,K.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,K.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,K.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,K.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,K.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,K.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(A,"Total Wins",null!==d?d:"N/A",P(d,S)),W(E,"Win %",null!==h?h.toFixed(3)+"%":"N/A",B),W(O,"Career DPR",null!==m?XM(m,3):"N/A",P(m,k)),W(wD(f,Object.values(y),!0),"Weekly High Score",f,F),W(I,"Total Points",null!==g?XM(g,2):"N/A",P(g,_)),W(b,"Medal Score",v,j)]})]})})(),(0,K.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,K.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-xl shadow-lg border border-blue-600 text-center w-full max-w-xs mx-auto",children:[(0,K.jsx)("h4",{className:"text-2xl font-extrabold mb-3 tracking-wide",children:"\u2605 VERSUS \u2605"}),(0,K.jsxs)("p",{className:"text-xl font-semibold mb-2",children:["Record: ",(0,K.jsx)("span",{className:"font-bold",children:v.ties&&v.ties>0?(L=v,L?"".concat(L.wins||0,"-").concat(L.losses||0,"-").concat(L.ties||0):"0-0-0"):"".concat(v.wins||0,"-").concat(v.losses||0)})]}),N?(0,K.jsxs)("p",{className:"text-lg mb-2",children:["Streak: ",N===r?"W-".concat(k):"L-".concat(k)]}):(0,K.jsx)("div",{className:"mb-2 h-6"}),(0,K.jsxs)("p",{className:"text-lg",children:["Playoff Record: ",(0,K.jsx)("span",{className:"font-bold",children:(()=>{const e=O.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.winnerOwnerId===r).length,t=O.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.loserOwnerId===r).length,n=O.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.isTie).length;return n>0?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(t)})()})]})]})}),(e=>{const t=c,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=r,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,m=i?i.dpr:null,f=y[t]||0,p=i?i.highScore:null,g=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=wD(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let j="bg-blue-50";v>w?j="bg-green-100 text-green-800":v<w?j="bg-red-100 text-red-800":v===w&&0!==v&&(j="bg-yellow-100 text-yellow-800");const S=u?u.wins:null,N=u?u.winPercentage:null,k=u?u.dpr:null,_=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},A=wD(d,T,!0),E=wD(h,C,!0),O=wD(m,M,!0),I=(wD(p,R,!0),wD(g,D,!0)),L=y[l]||0;let F="p-2 rounded-md ";F+=f>L?"bg-green-100 text-green-800":f<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const B=P(h,N,!0),W=(e,t,n,r)=>(0,K.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,K.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,K.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,K.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,K.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,K.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,K.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(A,"Total Wins",null!==d?d:"N/A",P(d,S)),W(E,"Win %",null!==h?h.toFixed(3)+"%":"N/A",B),W(O,"Career DPR",null!==m?XM(m,3):"N/A",P(m,k)),W(wD(f,Object.values(y),!0),"Weekly High Score",f,F),W(I,"Total Points",null!==g?XM(g,2):"N/A",P(g,_)),W(b,"Medal Score",v,j)]})]})})()]}),(0,K.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-2 border-b pb-2",children:"Net Points Over Time"}),(0,K.jsxs)("div",{className:"w-full h-64 mb-8",children:[(0,K.jsx)(Od,{width:"100%",height:"100%",children:(0,K.jsxs)(dD,{data:I,margin:{top:10,right:30,left:0,bottom:0},children:[(0,K.jsx)($O,{strokeDasharray:"3 3"}),(0,K.jsx)(wO,{dataKey:"name",fontSize:12,angle:-30,textAnchor:"end",height:50,interval:0,tickFormatter:(e,t)=>e,ticks:I.map(e=>e.name)}),(0,K.jsx)(TO,{domain:["auto","auto"],fontSize:12}),(0,K.jsx)(Th,{formatter:(e,t)=>["number"===typeof e?XM(e,2):e,"Cumulative Net Points"]}),(0,K.jsx)(B_,{y:0,stroke:"#374151",strokeWidth:2}),(0,K.jsx)(Fk,{dataKey:"cumulativeNetPoints",children:I.map((e,t)=>(0,K.jsx)(fN,{fill:e.cumulativeNetPoints>=0?"#10b981":"#ef4444"},"cell-".concat(t)))})]})}),(0,K.jsxs)("div",{className:"text-xs text-center mt-2 text-gray-600",children:["Green area: ",p," outscored ",g,". Red area: ",g," outscored ",p,"."]})]}),(0,K.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-4 border-b pb-2",children:"Matchup Highlights"}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,K.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,K.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Highest Score"}),(0,K.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==x.value?XM(x.value,2):"N/A"}),(0,K.jsx)("p",{className:"text-xs text-gray-500",children:null!==x.value&&x.ownerId?"".concat(a(x.ownerId,null)," (").concat(x.year," Week ").concat(x.week,")"):""})]}),(0,K.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,K.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Biggest Win Margin"}),(0,K.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==b.value?XM(b.value,2):"N/A"}),(0,K.jsx)("p",{className:"text-xs text-gray-500",children:null!==b.value&&b.winningOwnerId?"".concat(a(b.winningOwnerId,null)," (").concat(b.year," Week ").concat(b.week,")"):""})]}),(0,K.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,K.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Slimmest Win Margin"}),(0,K.jsx)("p",{className:"text-xl font-bold text-gray-800",children:w.value!==1/0?XM(w.value,2):"N/A"}),(0,K.jsx)("p",{className:"text-xs text-gray-500",children:w.value!==1/0&&w.winningOwnerId?"".concat(a(w.winningOwnerId,null)," (").concat(w.year," Week ").concat(w.week,")"):""})]})]}),(0,K.jsx)("h4",{className:"text-lg font-bold text-gray-800 mt-6 mb-3 border-b pb-2",children:"Match History"}),(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Year"}),(0,K.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Week"}),(0,K.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[p," Score"]}),(0,K.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[g," Score"]}),(0,K.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Winner"}),(0,K.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Type"})]})}),(0,K.jsx)("tbody",{children:n.allMatches.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(P&&t>P)&&(!(P&&t===P&&A&&n>=A)&&(0!==e.team1Score||0!==e.team2Score))}).sort((e,t)=>t.year-e.year||t.week-e.week).map((e,t)=>{let n=e.team1OwnerId===r?e.team1Score:e.team2Score,a=e.team1OwnerId===c?e.team1Score:e.team2Score;return(0,K.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,K.jsx)("td",{className:"py-2 px-3",children:e.year}),(0,K.jsx)("td",{className:"py-2 px-3",children:e.week}),(0,K.jsx)("td",{className:"py-2 px-3",children:XM(n,2)}),(0,K.jsx)("td",{className:"py-2 px-3",children:XM(a,2)}),(0,K.jsx)("td",{className:"py-2 px-3",children:"Tie"===e.winnerDisplayName?"Tie":e.winnerDisplayName}),(0,K.jsx)("td",{className:"py-2 px-3 text-xs text-gray-500",children:e.matchType})," "]},t)})})]})})]});var L},[u,l,o,a,s,r,i]);return p?(0,K.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,K.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,K.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,K.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,K.jsx)("p",{className:"text-lg font-medium",children:"Loading Head-to-Head data..."})]}):n?(0,K.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,K.jsxs)("p",{children:["Error loading historical data: ",n.message||String(n)]}),(0,K.jsx)("p",{children:"Please check your Sleeper API configuration and network connection."})]}):r&&0!==Object.keys(r.matchupsBySeason||{}).length?(0,K.jsx)("div",{className:"w-full",children:u?j():(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Head-to-Head Rivalries"}),(0,K.jsxs)("div",{className:"overflow-x-auto relative",children:[" ",(0,K.jsxs)("table",{className:"min-w-full table-auto bg-white border border-gray-300 rounded-lg shadow-sm",children:[(0,K.jsx)("thead",{className:"bg-blue-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-1 px-2 sm:py-2 sm:px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-300 sticky left-0 bg-blue-50 z-20 shadow-sm",style:{borderRight:"1px solid rgba(209,213,219,1)"}}),x.map(e=>(0,K.jsxs)("th",{className:"py-1 px-2 sm:py-2 sm:px-3 text-center text-[10px] sm:text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-300 min-w-[70px] sm:min-w-[90px] sticky top-0 bg-blue-50 z-10",children:[" ",(0,K.jsx)("div",{className:"truncate max-w-[80px] sm:max-w-[120px]",children:e.displayName})]},e.ownerId))]})}),(0,K.jsx)("tbody",{children:x.map(e=>(0,K.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,K.jsxs)("td",{className:"py-1 px-2 sm:py-2 sm:px-3 text-left text-sm text-gray-800 font-semibold sticky left-0 bg-white z-20 border-r border-gray-300 shadow-sm",children:[" ",e.displayName]}),x.map(t=>{if(e.ownerId===t.ownerId)return(0,K.jsx)("td",{className:"py-2 px-3 text-center text-sm text-gray-400 bg-gray-100 border-b border-gray-300 border-r border-gray-300 transition duration-150 ease-in-out hover:opacity-75 hover:shadow-md",children:"---"},"".concat(e.ownerId,"-").concat(t.ownerId));const n=[e.ownerId,t.ownerId].sort().join(" vs "),r=l[n];let a="0-0",s={};if(r){const t=r[e.ownerId];if(t.wins+t.losses+t.ties>0){a="".concat(t.wins,"-").concat(t.losses);const{background:e,color:n,fontWeight:r}=jD(t.wins,t.losses);s={backgroundColor:e,color:n,fontWeight:r}}else s={backgroundColor:"#ffffff",color:"#6b7280"}}else s={backgroundColor:"#ffffff",color:"#6b7280"};return(0,K.jsx)("td",{className:"py-1 px-2 sm:py-2 sm:px-3 text-center text-sm border-b border-gray-300 border-r border-gray-300 cursor-pointer transition duration-150 ease-in-out hover:opacity-75 hover:shadow-md ",role:"button",tabIndex:0,onClick:()=>{if(!r)return;const a=e.ownerId,s=t.ownerId;m([a,s]),d(n)},onKeyDown:a=>{if(r&&("Enter"===a.key||" "===a.key)){a.preventDefault();const r=e.ownerId,s=t.ownerId;m([r,s]),d(n)}},style:s,children:a},"".concat(e.ownerId,"-").concat(t.ownerId))})]},e.ownerId))})]})]}),(0,K.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Click on any record in the grid for more detailed head-to-head statistics."}),w&&w.length>0&&(0,K.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,K.jsx)("h4",{className:"text-lg font-bold text-gray-800 mb-3",children:"Best Records vs Opponent"}),(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full text-sm",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"text-left text-xs text-gray-600 uppercase",children:[(0,K.jsx)("th",{className:"py-1 px-2 sm:py-2 sm:px-3",children:"Team"}),(0,K.jsx)("th",{className:"py-1 px-2 sm:py-2 sm:px-3",children:"Opponent"}),(0,K.jsx)("th",{className:"py-1 px-2 sm:py-2 sm:px-3",children:"Record"}),(0,K.jsx)("th",{className:"py-1 px-2 sm:py-2 sm:px-3",children:"Win %"})]})}),(0,K.jsx)("tbody",{children:w.map((e,t)=>(0,K.jsxs)("tr",{className:"border-t border-gray-100 "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,K.jsx)("td",{className:"py-2 px-2 sm:py-2 sm:px-3 font-medium",children:e.ownerName}),(0,K.jsx)("td",{className:"py-2 px-2 sm:py-2 sm:px-3",children:e.opponentName}),(0,K.jsx)("td",{className:"py-2 px-2 sm:py-2 sm:px-3",children:e.record}),(0,K.jsx)("td",{className:"py-2 px-2 sm:py-2 sm:px-3",children:e.winPct})]},t))})]})})]})]})}):(0,K.jsx)("div",{className:"text-center text-orange-600 text-lg p-4",children:"No historical matchup data available to build Head-to-Head grid."})};function ND(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function kD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=kD,PD=new fe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),AD=new Me("@firebase/auth");function ED(e){if(AD.logLevel<=Ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];AD.error("Auth (".concat(Ft,"): ").concat(e),...n)}}function OD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw MD(e,...n)}function ID(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return MD(e,...n)}function TD(e,t,n){const r=Object.assign(Object.assign({},_D()),{[t]:n});return new fe("auth","Firebase",r).create(t,{appName:e.name})}function CD(e){return TD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return PD.create(e,...n)}function DD(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw MD(t,...r)}}function RD(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ED(t),new Error(t)}function LD(e,t){e||RD(t)}function FD(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function BD(){return"http:"===WD()||"https:"===WD()}function WD(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function UD(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(BD()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class zD{constructor(e,t){this.shortDelay=e,this.longDelay=t,LD(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return UD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function VD(e,t){LD(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class HD{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void RD("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void RD("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void RD("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qD=new zD(3e4,6e4);function KD(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function YD(e,t,n,r){return QD(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const o=ve(Object.assign({key:e.config.apiKey},s)).slice(1),i=await e._getAdditionalHeaders();i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:i},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),HD.fetch()($D(e,e.config.apiHost,n,o),l)})}async function QD(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},GD),t);try{const t=new ZD(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw eR(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw eR(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw eR(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw eR(e,"user-disabled",s);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw TD(e,i,o);OD(e,i)}}catch(VB){if(VB instanceof me)throw VB;OD(e,"network-request-failed",{message:String(VB)})}}async function XD(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await YD(e,t,n,r,a);return"mfaPendingCredential"in s&&OD(e,"multi-factor-auth-required",{_serverResponse:s}),s}function $D(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?VD(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}function JD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ID(this.auth,"network-request-failed")),qD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eR(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ID(e,t,r);return a.customData._tokenResponse=n,a}function tR(e){return void 0!==e&&void 0!==e.enterprise}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JD(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function rR(e,t){return YD(e,"GET","/v2/recaptchaConfig",KD(e,t))}async function aR(e,t){return YD(e,"POST","/v1/accounts:lookup",t)}function sR(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(VB){}}function oR(e){return 1e3*Number(e)}function iR(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ED("JWT malformed, contained fewer than 3 sections"),null;try{const e=re(n);return e?JSON.parse(e):(ED("Failed to decode base64 JWT payload"),null)}catch(VB){return ED("Caught error parsing JWT payload as JSON",null===VB||void 0===VB?void 0:VB.toString()),null}}function lR(e){const t=iR(e);return DD(t,"internal-error"),DD("undefined"!==typeof t.exp,"internal-error"),DD("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function cR(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(VB){throw VB instanceof me&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(VB)&&e.auth.currentUser===e&&await e.auth.signOut(),VB}}class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(VB){return void((null===VB||void 0===VB?void 0:VB.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class dR{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sR(this.lastLoginAt),this.creationTime=sR(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hR(e){var t;const n=e.auth,r=await e.getIdToken(),a=await cR(e,aR(n,{idToken:r}));DD(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?mR(s.providerUserInfo):[],i=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===i||void 0===i?void 0:i.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new dR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function mR(e){return e.map(e=>{var{providerId:t}=e,n=ND(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fR{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){DD(e.idToken,"internal-error"),DD("undefined"!==typeof e.idToken,"internal-error"),DD("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):lR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){DD(0!==e.length,"internal-error");const t=lR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(DD(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await QD(e,{},async()=>{const n=ve({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=$D(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",HD.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new fR;return n&&(DD("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(DD("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(DD("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fR,this.toJSON())}_performRefresh(){return RD("not implemented")}}function pR(e,t){DD("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gR{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=ND(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dR(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cR(this,this.stsTokenManager.getToken(this.auth,e));return DD(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Se(e),r=await n.getIdToken(t),a=iR(r);DD(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:sR(oR(a.auth_time)),issuedAtTime:sR(oR(a.iat)),expirationTime:sR(oR(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Se(e);await hR(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(DD(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gR(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){DD(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hR(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(CD(this.auth));const e=await this.getIdToken();return await cR(this,async function(e,t){return YD(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,o,i,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:j}=t;DD(v&&j,e,"internal-error");const S=fR.fromJSON(this.name,j);DD("string"===typeof v,e,"internal-error"),pR(u,e.name),pR(d,e.name),DD("boolean"===typeof x,e,"internal-error"),DD("boolean"===typeof b,e,"internal-error"),pR(h,e.name),pR(m,e.name),pR(f,e.name),pR(p,e.name),pR(g,e.name),pR(y,e.name);const N=new gR({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(N.providerData=w.map(e=>Object.assign({},e))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fR;r.updateFromServerResponse(t);const a=new gR({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hR(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];DD(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?mR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),o=new fR;o.updateFromIdToken(n);const i=new gR({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new dR(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(i,l),i}}const yR=new Map;function vR(e){LD(e instanceof Function,"Expected a class definition");let t=yR.get(e);return t?(LD(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yR.set(e,t),t)}class xR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xR.type="NONE";const bR=xR;function wR(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class jR{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=wR(this.userKey,r.apiKey,a),this.fullPersistenceKey=wR("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gR._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new jR(vR(bR),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||vR(bR);const s=wR(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=gR._fromJSON(e,t);c!==a&&(o=n),a=c;break}}catch(l){}const i=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&i.length?(a=i[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(s)}catch(l){}})),new jR(a,e,n)):new jR(a,e,n)}}function SR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ER(t))return"Blackberry";if(OR(t))return"Webos";if(kR(t))return"Safari";if((t.includes("chrome/")||_R(t))&&!t.includes("edge/"))return"Chrome";if(AR(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function NR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/firefox\//i.test(e)}function kR(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/crios\//i.test(e)}function PR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/iemobile/i.test(e)}function AR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/android/i.test(e)}function ER(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/blackberry/i.test(e)}function OR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/webos/i.test(e)}function IR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function TR(){return function(){const e=ue();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function CR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();return IR(e)||AR(e)||OR(e)||ER(e)||/windows phone/i.test(e)||PR(e)}function MR(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=SR(ue());break;case"Worker":t="".concat(SR(ue()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ft,"/").concat(r)}class DR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(VB){r(VB)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(VB){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===VB||void 0===VB?void 0:VB.message})}}}class RR{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,o;const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=null===(t=i.meetsMinPasswordLength)||void 0===t||t),i.isValid&&(i.isValid=null===(n=i.meetsMaxPasswordLength)||void 0===n||n),i.isValid&&(i.isValid=null===(r=i.containsLowercaseLetter)||void 0===r||r),i.isValid&&(i.isValid=null===(a=i.containsUppercaseLetter)||void 0===a||a),i.isValid&&(i.isValid=null===(s=i.containsNumericCharacter)||void 0===s||s),i.isValid&&(i.isValid=null===(o=i.containsNonAlphanumericCharacter)||void 0===o||o),i}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class LR{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BR(this),this.idTokenSubscription=new BR(this),this.beforeStateQueue=new DR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vR(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await jR.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(VB){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await aR(this,{idToken:e}),n=await gR._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(VB){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(VB))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return DD(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(VB){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hR(e)}catch(VB){if((null===VB||void 0===VB?void 0:VB.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dt(this.app))return Promise.reject(CD(this));const t=e?Se(e):null;return t&&DD(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&DD(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(CD(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dt(this.app)?Promise.reject(CD(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vR(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return YD(e,"GET","/v2/passwordPolicy",KD(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new RR(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return YD(e,"POST","/v2/accounts:revokeToken",KD(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vR(e)||this._popupRedirectResolver;DD(t,this,"argument-error"),this.redirectPersistenceManager=await jR.create(this,[vR(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(DD(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return DD(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(AD.logLevel<=Ee.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];AD.warn("Auth (".concat(Ft,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function FR(e){return Se(e)}class BR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new we(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return DD(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let WR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(e){return WR.loadJS(e)}function zR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class VR{constructor(e){this.type="recaptcha-enterprise",this.auth=FR(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;tR(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{rR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new nR(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&tR(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=WR.recaptchaEnterpriseScript;0!==t.length&&(t+=a),UR(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function HR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new VR(e);let s;try{s=await a.verify(n)}catch(i){s=await a.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function GR(e,t,n,r){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await HR(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await HR(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}function qR(e,t,n){const r=FR(e);DD(r._canInitEmulator,r,"emulator-config-failed"),DD(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=KR(t),{host:o,port:i}=function(e){const t=KR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:YR(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:YR(t)}}}(t),l=null===i?"":":".concat(i);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function KR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function YR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class QR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return RD("not implemented")}_getIdTokenResponse(e){return RD("not implemented")}_linkToIdToken(e,t){return RD("not implemented")}_getReauthenticationResolver(e){return RD("not implemented")}}async function XR(e,t){return YD(e,"POST","/v1/accounts:signUp",t)}async function $R(e,t){return XD(e,"POST","/v1/accounts:signInWithPassword",KD(e,t))}class JR extends QR{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new JR(e,t,"password")}static _fromEmailAndCode(e,t){return new JR(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return GR(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$R);case"emailLink":return async function(e,t){return XD(e,"POST","/v1/accounts:signInWithEmailLink",KD(e,t))}(e,{email:this._email,oobCode:this._password});default:OD(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return GR(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XR);case"emailLink":return async function(e,t){return XD(e,"POST","/v1/accounts:signInWithEmailLink",KD(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:OD(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ZR(e,t){return XD(e,"POST","/v1/accounts:signInWithIdp",KD(e,t))}class eL extends QR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eL(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):OD("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=ND(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new eL(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return ZR(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ZR(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ZR(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ve(t)}return e}}const tL={USER_NOT_FOUND:"user-not-found"};class nL extends QR{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new nL({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new nL({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return XD(e,"POST","/v1/accounts:signInWithPhoneNumber",KD(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await XD(e,"POST","/v1/accounts:signInWithPhoneNumber",KD(e,t));if(n.temporaryProof)throw eR(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return XD(e,"POST","/v1/accounts:signInWithPhoneNumber",KD(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tL)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new nL({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class rL{constructor(e){var t,n,r,a,s,o;const i=xe(be(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,c=null!==(n=i.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);DD(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=i.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=i.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=i.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=xe(be(e)).link,n=t?xe(be(t)).deep_link_id:null,r=xe(be(e)).deep_link_id;return(r?xe(be(r)).link:null)||r||n||t||e}(e);try{return new rL(t)}catch(n){return null}}}class aL{constructor(){this.providerId=aL.PROVIDER_ID}static credential(e,t){return JR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rL.parseLink(t);return DD(n,"argument-error"),JR._fromEmailAndCode(e,n.code,n.tenantId)}}aL.PROVIDER_ID="password",aL.EMAIL_PASSWORD_SIGN_IN_METHOD="password",aL.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oL extends sL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class iL extends oL{constructor(){super("facebook.com")}static credential(e){return eL._fromParams({providerId:iL.PROVIDER_ID,signInMethod:iL.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iL.credentialFromTaggedObject(e)}static credentialFromError(e){return iL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return iL.credential(t.oauthAccessToken)}catch(n){return null}}}iL.FACEBOOK_SIGN_IN_METHOD="facebook.com",iL.PROVIDER_ID="facebook.com";class lL extends oL{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eL._fromParams({providerId:lL.PROVIDER_ID,signInMethod:lL.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lL.credentialFromTaggedObject(e)}static credentialFromError(e){return lL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lL.credential(n,r)}catch(a){return null}}}lL.GOOGLE_SIGN_IN_METHOD="google.com",lL.PROVIDER_ID="google.com";class cL extends oL{constructor(){super("github.com")}static credential(e){return eL._fromParams({providerId:cL.PROVIDER_ID,signInMethod:cL.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cL.credentialFromTaggedObject(e)}static credentialFromError(e){return cL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cL.credential(t.oauthAccessToken)}catch(n){return null}}}cL.GITHUB_SIGN_IN_METHOD="github.com",cL.PROVIDER_ID="github.com";class uL extends oL{constructor(){super("twitter.com")}static credential(e,t){return eL._fromParams({providerId:uL.PROVIDER_ID,signInMethod:uL.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uL.credentialFromTaggedObject(e)}static credentialFromError(e){return uL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return uL.credential(n,r)}catch(a){return null}}}uL.TWITTER_SIGN_IN_METHOD="twitter.com",uL.PROVIDER_ID="twitter.com";class dL{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await gR._fromIdTokenResponse(e,n,r),s=hL(n);return new dL({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=hL(n);return new dL({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function hL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mL extends me{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mL.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mL(e,t,n,r)}}function fL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mL._fromErrorAndOperation(e,n,t,r);throw n})}async function pL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cR(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dL._forOperation(e,"link",r)}async function gL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Dt(r.app))return Promise.reject(CD(r));const a="reauthenticate";try{const s=await cR(e,fL(r,a,t,e),n);DD(s.idToken,r,"internal-error");const o=iR(s.idToken);DD(o,r,"internal-error");const{sub:i}=o;return DD(e.uid===i,r,"user-mismatch"),dL._forOperation(e,a,s)}catch(VB){throw(null===VB||void 0===VB?void 0:VB.code)==="auth/".concat("user-not-found")&&OD(r,"user-mismatch"),VB}}async function yL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Dt(e.app))return Promise.reject(CD(e));const r="signIn",a=await fL(e,r,t),s=await dL._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function vL(e,t){return yL(FR(e),t)}async function xL(e){const t=FR(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const bL="__sak";class wL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bL,"1"),this.storage.removeItem(bL),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class jL extends wL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);TR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jL.type="LOCAL";const SL=jL;class NL extends wL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NL.type="SESSION";const kL=NL;class _L{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new _L(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,a)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function PL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_L.receivers=[];class AL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,i)=>{const l=PL("",20);r.port1.start();const c=setTimeout(()=>{i(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),i(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function EL(){return window}function OL(){return"undefined"!==typeof EL().WorkerGlobalScope&&"function"===typeof EL().importScripts}const IL="firebaseLocalStorageDb",TL="firebaseLocalStorage",CL="fbase_key";class ML{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function DL(e,t){return e.transaction([TL],t?"readwrite":"readonly").objectStore(TL)}function RL(){const e=indexedDB.open(IL,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(TL,{keyPath:CL})}catch(VB){n(VB)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(TL)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(IL);return new ML(e).toPromise()}(),t(await RL()))})})}async function LL(e,t,n){const r=DL(e,!0).put({[CL]:t,value:n});return new ML(r).toPromise()}function FL(e,t){const n=DL(e,!0).delete(t);return new ML(n).toPromise()}class BL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await RL()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(VB){if(t++>3)throw VB;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_L._getInstance(OL()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new AL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RL();return await LL(e,bL,"1"),await FL(e,bL),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>LL(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=DL(e,!1).get(t),r=await new ML(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>FL(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=DL(e,!1).getAll();return new ML(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}BL.type="LOCAL";const WL=BL;zR("rcb"),new zD(3e4,6e4);const UL="recaptcha";async function zL(e,t,n){var r;const a=await n.verify();try{let s;if(DD("string"===typeof a,e,"argument-error"),DD(n.type===UL,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){DD("enroll"===t.type,e,"internal-error");const n=await function(e,t){return YD(e,"POST","/v2/accounts/mfaEnrollment:start",KD(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{DD("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;DD(n,e,"missing-multi-factor-info");const o=await function(e,t){return YD(e,"POST","/v2/accounts/mfaSignIn:start",KD(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return YD(e,"POST","/v1/accounts:sendVerificationCode",KD(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class VL{constructor(e){this.providerId=VL.PROVIDER_ID,this.auth=FR(e)}verifyPhoneNumber(e,t){return zL(this.auth,e,Se(t))}static credential(e,t){return nL._fromVerification(e,t)}static credentialFromResult(e){const t=e;return VL.credentialFromTaggedObject(t)}static credentialFromError(e){return VL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?nL._fromTokenResponse(n,r):null}}function HL(e,t){return t?vR(t):(DD(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}VL.PROVIDER_ID="phone",VL.PHONE_SIGN_IN_METHOD="phone";class GL extends QR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ZR(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ZR(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ZR(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qL(e){return yL(e.auth,new GL(e),e.bypassAuthState)}function KL(e){const{auth:t,user:n}=e;return DD(n,t,"internal-error"),gL(n,new GL(e),e.bypassAuthState)}async function YL(e){const{auth:t,user:n}=e;return DD(n,t,"internal-error"),pL(n,new GL(e),e.bypassAuthState)}class QL{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(VB){this.reject(VB)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=e;if(s)return void this.reject(s);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(i))}catch(VB){this.reject(VB)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qL;case"linkViaPopup":case"linkViaRedirect":return YL;case"reauthViaPopup":case"reauthViaRedirect":return KL;default:OD(this.auth,"internal-error")}}resolve(e){LD(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){LD(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XL=new zD(2e3,1e4);class $L extends QL{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,$L.currentPopupAction&&$L.currentPopupAction.cancel(),$L.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return DD(e,this.auth,"internal-error"),e}async onExecution(){LD(1===this.filter.length,"Popup operations only handle one event");const e=PL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ID(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ID(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$L.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ID(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,XL.get())};e()}}$L.currentPopupAction=null;const JL=new Map;class ZL extends QL{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=JL.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nF(t),r=tF(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(VB){e=()=>Promise.reject(VB)}JL.set(this.auth._key(),e)}return this.bypassAuthState||JL.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function eF(e,t){JL.set(e._key(),t)}function tF(e){return vR(e._redirectPersistence)}function nF(e){return wR("pendingRedirect",e.config.apiKey,e.name)}async function rF(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Dt(e.app))return Promise.reject(CD(e));const r=FR(e),a=HL(r,t),s=new ZL(r,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class aF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oF(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oF(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ID(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sF(e))}saveEventToCache(e){this.cachedEventUids.add(sF(e)),this.lastProcessedEventTime=Date.now()}}function sF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function oF(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const iF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lF=/^https?/;async function cF(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return YD(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(uF(r))return}catch(n){}OD(e,"unauthorized-domain")}function uF(e){const t=FD(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!lF.test(n))return!1;if(iF.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const dF=new zD(3e4,6e4);function hF(){const e=EL().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function mF(e){return new Promise((t,n)=>{var r,a,s;function o(){hF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hF(),n(ID(e,"network-request-failed"))},timeout:dF.get()})}if(null===(a=null===(r=EL().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=EL().gapi)||void 0===s?void 0:s.load)){const t=zR("iframefcb");return EL()[t]=()=>{gapi.load?o():n(ID(e,"network-request-failed"))},UR("".concat(WR.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw fF=null,e})}let fF=null;const pF=new zD(5e3,15e3),gF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vF(e){const t=e.config;DD(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?VD(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ft},a=yF.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ve(r).slice(1))}async function xF(e){const t=await function(e){return fF=fF||mF(e),fF}(e),n=EL().gapi;return DD(n,e,"internal-error"),t.open({where:document.body,url:vF(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gF,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=ID(e,"network-request-failed"),s=EL().setTimeout(()=>{r(a)},pF.get());function o(){EL().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(a)})}))}const bF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(VB){}}}function jF(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},bF),{width:r.toString(),height:a.toString(),top:s,left:o}),c=ue().toLowerCase();n&&(i=_R(c)?"_blank":n),NR(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return IR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",i),new wF(null);const d=window.open(t||"",i,u);DD(d,e,"popup-blocked");try{d.focus()}catch(VB){}return new wF(d)}const SF="__/auth/handler",NF="emulator/auth/handler",kF=encodeURIComponent("fac");async function _F(e,t,n,r,a,s){DD(e.config.authDomain,e,"auth-domain-config-required"),DD(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ft,eventId:a};if(t instanceof sL){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof oL){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const u of Object.keys(i))void 0===i[u]&&delete i[u];const l=await e._getAppCheckToken(),c=l?"#".concat(kF,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(SF);return VD(t,NF)}(e),"?").concat(ve(i).slice(1)).concat(c)}const PF="webStorageSupport";const AF=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kL,this._completeRedirectFn=rF,this._overrideRedirectResult=eF}async _openPopup(e,t,n,r){var a;LD(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return jF(e,await _F(e,t,n,FD(),r),PL())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){EL().location.href=e}(await _F(e,t,n,FD(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(LD(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await xF(e),n=new aF(e);return t.register("authEvent",t=>{DD(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(PF,{type:PF},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[PF];void 0!==a&&t(!!a),OD(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CR()||kR()||IR()}};var EF="@firebase/auth",OF="1.7.9";class IF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){DD(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const TF=le("authIdTokenMaxAge")||300;let CF=null;function MF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();const t=Mt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ge(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;OD(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:AF,persistence:[WL,SL,kL]}),r=le("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>TF)return;const r=null===t||void 0===t?void 0:t.token;CF!==r&&(CF=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Se(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Se(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=oe("auth");return s&&qR(n,"http://".concat(s)),n}var DF;!function(e){WR=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ID("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),DF="Browser",Ct(new Ne("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:i}=r.options;DD(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:i,clientPlatform:DF,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(DF)},c=new LR(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ct(new Ne("auth-internal",e=>(e=>new IF(e))(FR(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ut(EF,OF,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(DF)),Ut(EF,OF,"esm2017");const RF=(e,t)=>{if(!e||!Array.isArray(e)||!t)return f.A.warn("Invalid transaction data provided to analyzeTransactionCounts"),{byTeam:{},byWeek:{},summary:{}};const n={},r={},a=new Set;e.forEach(e=>{const s=e.transaction_id;if(a.has(s))return;a.add(s);const o=e.leg||1,i=new Date(e.created).toISOString().split("T")[0];if(r[o]||(r[o]={trades:[],waivers:[],freeAgents:[]}),"trade"===e.type){if(e.roster_ids&&Array.isArray(e.roster_ids)){const a=e.roster_ids.map(e=>{const n=t.find(t=>t.roster_id===e);return n?n.owner_id:null}).filter(Boolean);a.forEach(e=>{n[e]||(n[e]={trades:0,waivers:0,freeAgents:0,byWeek:{}}),n[e].byWeek[o]||(n[e].byWeek[o]={trades:0,waivers:0,freeAgents:0}),n[e].trades+=1,n[e].byWeek[o].trades+=1}),r[o].trades.push({transactionId:s,teams:a,date:i,playersTraded:{adds:e.adds?Object.keys(e.adds).length:0,drops:e.drops?Object.keys(e.drops).length:0}})}}else if(("waiver"===e.type||"free_agent"===e.type)&&e.roster_ids&&Array.isArray(e.roster_ids)&&e.roster_ids.length>0){const a=e.roster_ids[0],l=t.find(e=>e.roster_id===a);if(l&&l.owner_id){const t=l.owner_id,a=e.adds?Object.keys(e.adds).length:0;a>0&&(n[t]||(n[t]={trades:0,waivers:0,freeAgents:0,byWeek:{}}),n[t].byWeek[o]||(n[t].byWeek[o]={trades:0,waivers:0,freeAgents:0}),"waiver"===e.type?(n[t].waivers+=a,n[t].byWeek[o].waivers+=a,r[o].waivers.push({transactionId:s,team:t,date:i,pickupCount:a,players:e.adds?Object.keys(e.adds):[]})):(n[t].freeAgents+=a,n[t].byWeek[o].freeAgents+=a,r[o].freeAgents.push({transactionId:s,team:t,date:i,pickupCount:a,players:e.adds?Object.keys(e.adds):[]})))}}});const s={totalTrades:Object.values(n).reduce((e,t)=>e+t.trades,0),totalWaivers:Object.values(n).reduce((e,t)=>e+t.waivers,0),totalFreeAgents:Object.values(n).reduce((e,t)=>e+t.freeAgents,0),totalTransactions:0};return s.totalTransactions=s.totalTrades+s.totalWaivers+s.totalFreeAgents,{byTeam:n,byWeek:r,summary:s}},LF=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!e||!t)throw new Error("League ID and roster data are required");f.A.info("Starting transaction fee analysis for league:",e);const r=[],a=[];for(let i=1;i<=n;i++)try{f.A.info("Fetching transactions for week ".concat(i));const t=await I(e,i);t&&Array.isArray(t)&&(r.push(...t),f.A.info("Found ".concat(t.length," transactions for week ").concat(i)))}catch(o){f.A.error("Failed to fetch transactions for week ".concat(i,":"),o),a.push({week:i,error:o.message})}f.A.info("Total transactions fetched: ".concat(r.length));const s=RF(r,t);return f.A.info("Analyzed ".concat(r.length," Sleeper transactions")),f.A.info("Found ".concat(s.summary.totalTrades," trades, ").concat(s.summary.totalWaivers," waivers, ").concat(s.summary.totalFreeAgents," FA pickups")),a.length>0&&f.A.warn("Some weeks had errors:",a),{counts:s,rawTransactions:r,errors:a,summary:{totalSleeperTransactions:r.length,totalTrades:s.summary.totalTrades,totalWaivers:s.summary.totalWaivers,totalFreeAgents:s.summary.totalFreeAgents,weeksFetched:n,weeksWithErrors:a.length}}},FF=(e,t)=>{const n={};return Object.entries(e.byTeam).forEach(e=>{var r;let[a,s]=e;const o=null===t||void 0===t?void 0:t.find(e=>e.user_id===a);n[a]={ownerName:(null===o||void 0===o?void 0:o.display_name)||(null===o||void 0===o?void 0:o.username)||"Unknown",teamName:(null===o||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.team_name)||"Unknown Team",trades:s.trades,waivers:s.waivers,freeAgents:s.freeAgents,totalTransactions:s.trades+s.waivers+s.freeAgents,byWeek:s.byWeek}}),n},BF=(e,t)=>{const n={};return Object.entries(e.byWeek).forEach(e=>{let[r,a]=e;n[r]={trades:a.trades.map(e=>u(u({},e),{},{teamNames:e.teams.map(e=>{var n;const r=null===t||void 0===t?void 0:t.find(t=>t.user_id===e);return(null===r||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.team_name)||(null===r||void 0===r?void 0:r.display_name)||"Unknown Team"})})),waivers:a.waivers.map(e=>u(u({},e),{},{teamName:(n=>{const r=null===t||void 0===t?void 0:t.find(t=>t.user_id===e.team);return(null===r||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.team_name)||(null===r||void 0===r?void 0:r.display_name)||"Unknown Team"})()})),freeAgents:a.freeAgents.map(e=>u(u({},e),{},{teamName:(n=>{const r=null===t||void 0===t?void 0:t.find(t=>t.user_id===e.team);return(null===r||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.team_name)||(null===r||void 0===r?void 0:r.display_name)||"Unknown Team"})()}))}}),n},WF={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"},UF=()=>{var e,n,r;const{loading:a,error:s,usersData:o,historicalData:i}=J(),[l,c]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)({email:"",password:""}),[x,w]=(0,t.useState)(""),[j,S]=(0,t.useState)(!1),[N,_]=(0,t.useState)({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:""}),[P,A]=(0,t.useState)({text:"",type:""}),[E,O]=(0,t.useState)(null),[I,T]=(0,t.useState)(!1),[C,M]=(0,t.useState)({type:"ALL",team:"ALL"}),[D,R]=(0,t.useState)({key:"date",direction:"desc"}),[L,F]=(0,t.useState)(1),[B,W]=(0,t.useState)([]),[U,z]=(0,t.useState)({description:"",amount:""}),[V,H]=(0,t.useState)(null),[G,q]=(0,t.useState)(""),[Y,Q]=(0,t.useState)({loading:!1,message:"",type:""}),[X,$]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(null),te=(0,t.useRef)(0),[ne,re]=(0,t.useState)(!1),[ae,se]=(0,t.useState)([{id:Date.now(),type:"Fee",amount:"",category:"",description:"",week:"",teams:[],quantity:""}]),[oe,ie]=(0,t.useState)({type:"Fee",category:"",week:"",quantity:"",description:"",amount:""}),[le,ce]=(0,t.useState)({transactions:[],potentialFees:[],potentialPayouts:[]}),[ue,de]=(0,t.useState)(!0),[he,me]=(0,t.useState)(null),fe=["Entry Fee","Trade Fee","Waiver/FA Fee","Other"],pe=["Weekly 1st","Weekly 2nd","Playoff 1st","Playoff 2nd","Playoff 3rd","Total Points 1st","Total Points 2nd","Total Points 3rd","Bonus","Other"],ge=!!l&&"QzIJSZWBHgSzhmC6pOOiuJNxbI83"===l.uid,ye=o?o.map(e=>({userId:e.user_id,displayName:e.display_name||e.username||e.user_id})):[],ve=Object.keys((null===i||void 0===i?void 0:i.rostersBySeason)||{}).sort((e,t)=>t-e),xe=(0,t.useMemo)(()=>{const e={};return i?(Object.entries(i.matchupsBySeason||{}).forEach(t=>{let[n,r]=t;const a={};r.forEach(e=>{e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),e[n]={},Object.entries(a).forEach(t=>{let[r,a]=t,s=[];a.forEach(e=>{var t,r,a,o;const l=null===(t=i.rostersBySeason)||void 0===t||null===(r=t[n])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.team1_roster_id)),c=null===(a=i.rostersBySeason)||void 0===a||null===(o=a[n])||void 0===o?void 0:o.find(t=>String(t.roster_id)===String(e.team2_roster_id));l&&!isNaN(e.team1_score)&&s.push({userId:l.owner_id,score:e.team1_score}),c&&!isNaN(e.team2_score)&&s.push({userId:c.owner_id,score:e.team2_score})}),s.sort((e,t)=>t.score-e.score);const o=s.slice(0,2).map(e=>e.userId);e[n][r]=o})}),e):e},[i]),be=(0,t.useMemo)(()=>{const e={};return i&&i.matchupsBySeason&&i.rostersBySeason?(Object.keys(i.matchupsBySeason).forEach(t=>{const n={},r=i.rostersBySeason[t];if(!r)return;r.forEach(e=>{e.owner_id&&(n[e.owner_id]=0)});i.matchupsBySeason[t].forEach(e=>{const t=r.find(t=>String(t.roster_id)===String(e.team1_roster_id));t&&t.owner_id&&!isNaN(e.team1_score)&&(n[t.owner_id]+=e.team1_score);const a=r.find(t=>String(t.roster_id)===String(e.team2_roster_id));a&&a.owner_id&&!isNaN(e.team2_score)&&(n[a.owner_id]+=e.team2_score)});const a=Object.entries(n).map(e=>{let[t,n]=e;return{userId:t,score:n}}).sort((e,t)=>t.score-e.score);e[t]=a}),e):e},[i]),we=(0,t.useMemo)(()=>{let e=le.transactions.filter(e=>{const t="ALL"===C.type||e.type===C.type,n="ALL"===C.team||(Array.isArray(e.team)?e.team.includes(C.team):e.team===C.team);return t&&n});return D.key&&(e=((e,t,n,r)=>{const a=[...e].sort((e,a)=>{let s=e[t],o=a[t];if("amount"===t)s=Number(s),o=Number(o);else if("date"===t)s=new Date(s),o=new Date(o);else if("team"===t){const t=e=>{var t;return(null===(t=r.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e};s=Array.isArray(e.team)?e.team.map(t).join(", "):t(e.team),o=Array.isArray(a.team)?a.team.map(t).join(", "):t(a.team)}return s<o?"asc"===n?-1:1:s>o?"asc"===n?1:-1:0});return a})(e,D.key,D.direction,ye)),e},[le,C,D,ye]),je=Math.ceil(we.length/10),Ne=we.slice(10*(L-1),10*L);(0,t.useEffect)(()=>{window.firebaseApp||(window.firebaseApp=Bt(WF));const e=window.firebaseApp,t=MF(e),n=Ec(e);g(t),m(n);const r=function(e,t,n,r){return Se(e).onAuthStateChanged(t,n,r)}(t,e=>{c(e)});return()=>{r()}},[]),(0,t.useEffect)(()=>{ve.length>0&&!G&&q(ve[0])},[ve,G]),(0,t.useEffect)(()=>{if(!G||!h)return;de(!0);const e=String(G),t=kc(h,"league_finances",e);(async()=>{try{const e=await uu(t);if(e&&e.exists()){const t=e.data();ce(t&&t.transactions?t:{transactions:[],potentialFees:[],potentialPayouts:[]})}else ce({transactions:[],potentialFees:[],potentialPayouts:[]})}catch(VB){f.A.error("Error doing initial getDoc for league_finances:",VB)}})();const n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s,o;e=Se(e);let i={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Pc(n[l])||(i=n[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Pc(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Sc)d=vc(e.firestore,Ac),h=Pa(e._key.path),u={next:t=>{n[l]&&n[l](fu(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=vc(e,jc);d=vc(t.firestore,Ac),h=t._query;const r=new du(d);u={next:e=>{n[l]&&n[l](new lu(d,r,t,e))},error:n[l+1],complete:n[l+2]},nu(e._query)}return function(e,t,n,r){const a=new ac(r),s=new _l(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>xl(await dc(e),s)),()=>{a.Za(),e.asyncQueue.enqueueAndForget(async()=>bl(await dc(e),s))}}(Oc(d),h,c,u)}(t,e=>{if(e.exists()){const t=e.data();ce(t&&t.transactions?t:{transactions:[],potentialFees:[],potentialPayouts:[]})}else ce({transactions:[],potentialFees:[],potentialPayouts:[]});de(!1)},e=>{f.A.error("Error fetching Firestore data:",e),de(!1)});return()=>n()},[G,h]),(0,t.useEffect)(()=>{te.current+=1,ee(null),$(!1),Q({loading:!1,message:"",type:""})},[G]);const ke=le.transactions.filter(e=>"Fee"===e.type&&("Trade Fee"===e.category||"Waiver/FA Fee"===e.category)).reduce((e,t)=>e+eI(t),0),_e=le.transactions.filter(e=>"Fee"===e.type).reduce((e,t)=>e+eI(t),0),Pe=le.transactions.filter(e=>"Payout"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),Ae=_e-Pe;if(a||ue)return(0,K.jsx)("div",{className:"p-4 text-blue-600",children:"Loading financial tracker..."});if(s)return(0,K.jsxs)("div",{className:"p-4 text-red-600",children:["Error loading data: ",s.message]});if(!o||!i)return(0,K.jsx)("div",{className:"p-4 text-orange-600",children:"No data available."});const Ee=e=>{let t="asc";D.key===e&&"asc"===D.direction&&(t="desc"),R({key:e,direction:t})},Oe=e=>{ge&&(O(e),_(u(u({},e),{},{team:Array.isArray(e.team)?e.team:[e.team],quantity:"undefined"!==typeof e.quantity&&null!==e.quantity?String(e.quantity):""})),A({text:"Editing transaction...",type:"info"}))},Ie=async e=>{if(!ge||!h)return;const t=new Set(e.map(e=>e.id)),n=le.transactions.filter(e=>!t.has(e.id));try{const e=kc(h,"league_finances",String(G));await hu(e,u(u({},le),{},{transactions:n}),{merge:!0}),A({text:"Transaction(s) deleted successfully!",type:"success"})}catch(VB){f.A.error("Error deleting transaction: ",VB),A({text:"Error deleting transaction.",type:"error"})}W([])},Te=B.length>0&&B.length===Ne.length,Ce=async(e,t)=>{if(!ge||!h)return;const n=le["fees"===t?"potentialFees":"potentialPayouts"].filter(t=>t.id!==e);try{const e=kc(h,"league_finances",String(G));await hu(e,u(u({},le),{},{["fees"===t?"potentialFees":"potentialPayouts"]:n}),{merge:!0}),A({text:"Potential ".concat(t.slice(0,-1)," deleted successfully!"),type:"success"})}catch(VB){f.A.error("Error deleting potential transaction: ",VB),A({text:"Error deleting potential ".concat(t.slice(0,-1),"."),type:"error"})}},Me=(e,t,n)=>{se(r=>r.map(r=>{if(r.id!==e)return r;let a=u(u({},r),{},{[t]:n});if("category"===t||"week"===t||"type"===t){var s;const e="week"===t?n:r.week,u="category"===t?n:r.category,m="type"===t?n:r.type;if(e&&"Payout"===m&&("Weekly 1st"===u||"Weekly 2nd"===u)&&null!==(s=xe[G])&&void 0!==s&&s[e]){const t="Weekly 1st"===u?0:1,n=xe[G][e][t];if(n){var o,l;a.teams=[n];const t=null===(o=i.matchupsBySeason)||void 0===o||null===(l=o[G])||void 0===l?void 0:l.filter(t=>String(t.week)===String(e));let r=null;if(t)for(const e of t){var c;null!==(c=i.rostersBySeason)&&void 0!==c&&c[G]&&(String(e.team1_roster_id)&&i.rostersBySeason[G].find(t=>String(t.roster_id)===String(e.team1_roster_id)&&t.owner_id===n)&&(r=e.team1_score),String(e.team2_roster_id)&&i.rostersBySeason[G].find(t=>String(t.roster_id)===String(e.team2_roster_id)&&t.owner_id===n)&&(r=e.team2_score))}var d;if(null!==r&&!isNaN(r))a.description="".concat(u," (").concat(XM(Number(null!==(d=r)&&void 0!==d?d:0),2)," pts)")}}if("Payout"===m&&u&&u.startsWith("Total Points")){const e=be[G];let t=-1;if("Total Points 1st"===u&&(t=0),"Total Points 2nd"===u&&(t=1),"Total Points 3rd"===u&&(t=2),e&&e[t]){var h;const n=e[t];a.teams=[n.userId],a.description="".concat(u," (").concat(XM(Number(null!==(h=n.score)&&void 0!==h?h:0),2)," pts)")}}"Payout"!==m||!u||u.startsWith("Weekly")||u.startsWith("Total Points")||"category"===t&&(a.teams=[],a.description=""),"Fee"===m&&"type"===t&&(a.teams=[],a.description="")}return a}))},De=(e,t,n,r,a)=>{var s;const o=Array.isArray(t)?t.map(e=>{var t;return(null===(t=n.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}):[(null===(s=n.find(e=>e.userId===t))||void 0===s?void 0:s.displayName)||t];return o.length>3&&r!==e?(0,K.jsxs)("div",{className:"flex flex-col items-start",children:[(0,K.jsxs)("span",{children:[o.slice(0,3).join(", ")," ..."]}),(0,K.jsxs)("button",{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 text-xs mt-1",children:["(+",o.length-3," more)"]})]}):(0,K.jsxs)("div",{className:"flex flex-col items-start",children:[(0,K.jsx)("span",{children:o.join(", ")}),o.length>3&&(0,K.jsx)("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-xs mt-1",children:"Show less"})]})};return(0,K.jsxs)("div",{className:"p-4 max-w-5xl mx-auto font-sans",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"League Financial Tracker"}),(0,K.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:(0,K.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,K.jsx)("span",{children:"League Year:"}),(0,K.jsx)("select",{className:"border rounded px-2 py-1 bg-gray-50",value:G,onChange:e=>{q(e.target.value),F(1)},children:ve.map(e=>(0,K.jsx)("option",{value:e,children:e},e))})]})}),(0,K.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,K.jsxs)("div",{className:"flex flex-col items-center bg-blue-50 rounded-lg px-6 py-3 shadow-md text-blue-800 min-w-[120px]",children:[(0,K.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"League Bank"}),(0,K.jsxs)("span",{className:"text-2xl font-bold",children:["$",Ae.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,K.jsxs)("div",{className:"flex flex-col items-center bg-red-50 rounded-lg px-6 py-3 shadow-md text-red-800 min-w-[120px]",children:[(0,K.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Fees"}),(0,K.jsxs)("span",{className:"text-2xl font-bold",children:["$",_e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,K.jsxs)("div",{className:"flex flex-col items-center bg-green-50 rounded-lg px-6 py-3 shadow-md text-green-800 min-w-[120px]",children:[(0,K.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Payouts"}),(0,K.jsxs)("span",{className:"text-2xl font-bold",children:["$",Pe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,K.jsxs)("div",{className:"flex flex-col items-center bg-yellow-50 rounded-lg px-6 py-3 shadow-md text-yellow-800 min-w-[120px]",children:[(0,K.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Transaction Bank"}),(0,K.jsxs)("span",{className:"text-2xl font-bold",children:["$",ke.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,K.jsx)("div",{className:"flex flex-col md:flex-row md:justify-center md:items-center mb-6 gap-4",children:l?(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsxs)("span",{className:"text-green-700 font-semibold",children:["Logged in as ",l.email]}),ge&&(0,K.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold",children:"Commissioner"}),(0,K.jsx)("button",{onClick:()=>{p&&function(e){Se(e).signOut()}(p)},className:"ml-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm",children:"Logout"})]}):(0,K.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,K.jsxs)("button",{onClick:()=>S(!j),className:"w-full text-center py-2 px-4 rounded-lg bg-blue-500 text-white font-semibold mb-4 flex items-center justify-center gap-2 hover:bg-blue-600 transition duration-200",children:["Commissioner Login",(0,K.jsx)("span",{className:"transform transition-transform duration-200 ".concat(j?"rotate-180":"rotate-0"),children:"\u25bc"})]}),j&&(0,K.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-full mx-auto animate-fadeIn",children:[(0,K.jsxs)("div",{className:"text-center mb-6",children:[(0,K.jsx)("h1",{className:"text-xl font-bold text-slate-800 mb-2",children:"Commish Login"}),(0,K.jsx)("p",{className:"text-slate-500 text-sm",children:"Sign in to manage league finances."})]}),(0,K.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p){w("");try{await function(e,t,n){return Dt(e.app)?Promise.reject(CD(e)):vL(Se(e),aL.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xL(e),t})}(p,y.email,y.password)}catch(t){w("Login failed. Please check your credentials.")}}},className:"flex flex-col gap-4 items-center",children:[(0,K.jsx)("input",{type:"email",required:!0,placeholder:"Commish Email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:y.email,onChange:e=>v(t=>u(u({},t),{},{email:e.target.value}))}),(0,K.jsx)("input",{type:"password",required:!0,placeholder:"Password",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:y.password,onChange:e=>v(t=>u(u({},t),{},{password:e.target.value}))}),(0,K.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Log In"}),x&&(0,K.jsx)("span",{className:"text-red-600 text-xs mt-2",children:x})]})]})]})}),ge&&(0,K.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-4 md:p-6 border border-blue-200",children:[(0,K.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,K.jsx)("button",{type:"button",onClick:()=>re(!1),className:"px-4 py-2 rounded-lg font-medium transition ".concat(ne?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"),children:"Single Entry"}),(0,K.jsx)("button",{type:"button",onClick:()=>re(!0),className:"px-4 py-2 rounded-lg font-medium transition ".concat(ne?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Bulk Entry"})]}),ne?(0,K.jsxs)("div",{className:"bg-green-50 p-3 md:p-4 rounded-lg",children:[(0,K.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,K.jsx)("h4",{className:"text-lg font-semibold text-green-800",children:"Bulk Transaction Entry"})}),(0,K.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!ge||!h)return;const t=ae.filter(e=>e.amount&&e.category&&e.teams.length>0);if(0!==t.length)try{const e=kc(h,"league_finances",String(G)),n=t.map(e=>({id:"".concat(Date.now(),"_").concat(Math.random()),type:e.type,amount:Number(e.amount),category:e.category,description:e.description,week:e.week,team:e.teams,quantity:Number(e.quantity)||1,date:(new Date).toISOString().split("T")[0]}));await hu(e,u(u({},le),{},{transactions:[...le.transactions,...n]}),{merge:!0}),A({text:"Successfully added ".concat(n.length," transactions!"),type:"success"}),se([{id:Date.now(),type:"Fee",amount:"",category:"",description:"",week:"",teams:[],quantity:1}])}catch(s){f.A.error("Error adding bulk transactions:",s),A({text:"Error adding transactions.",type:"error"})}else A({text:"Please fill out at least one complete transaction.",type:"error"})},children:[(0,K.jsxs)("div",{className:"bg-white p-2 md:p-3 rounded border mb-4",children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Type"}),(0,K.jsxs)("select",{className:"w-full border rounded px-2 py-1",value:oe.type,onChange:e=>ie(t=>u(u({},t),{},{type:e.target.value})),children:[(0,K.jsx)("option",{value:"Fee",children:"Fee"}),(0,K.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,K.jsxs)("select",{className:"w-full border rounded px-2 py-1",value:oe.category,onChange:e=>ie(t=>u(u({},t),{},{category:e.target.value})),children:[(0,K.jsx)("option",{value:"",children:"Any / Select..."}),("Fee"===oe.type?fe:pe).map(e=>(0,K.jsx)("option",{value:e,children:e},e))]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Week"}),(0,K.jsx)("input",{type:"number",min:"0",className:"w-full border rounded px-2 py-1",value:oe.week,onChange:e=>ie(t=>u(u({},t),{},{week:e.target.value}))})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),(0,K.jsx)("input",{type:"number",min:"1",className:"w-full border rounded px-2 py-1",value:oe.quantity,onChange:e=>ie(t=>u(u({},t),{},{quantity:e.target.value})),onFocus:e=>e.target.select()})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Amount ($)"}),(0,K.jsx)("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:oe.amount,onChange:e=>ie(t=>u(u({},t),{},{amount:e.target.value}))})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,K.jsx)("input",{type:"text",className:"w-full border rounded px-2 py-1",value:oe.description,onChange:e=>ie(t=>u(u({},t),{},{description:e.target.value}))})]})]}),(0,K.jsx)("div",{className:"mt-3 flex items-center justify-end",children:(0,K.jsx)("button",{type:"button",onClick:()=>{se(e=>e.map(e=>u(u({},e),{},{type:oe.type||e.type,category:oe.category||e.category,week:oe.week||e.week,quantity:oe.quantity||e.quantity,description:oe.description||e.description,amount:oe.amount||e.amount})))},className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Apply to All"})})]}),(0,K.jsx)("div",{className:"space-y-3 md:space-y-4 max-h-[420px] md:max-h-[600px] overflow-y-auto",children:ae.map((e,t)=>(0,K.jsxs)("div",{className:"bg-white p-3 md:p-4 rounded-lg border shadow-sm",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,K.jsxs)("h5",{className:"font-medium text-gray-800",children:["Transaction #",t+1]}),ae.length>1&&(0,K.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void se(e=>e.filter(e=>e.id!==t));var t},className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Remove"})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 mb-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Type"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.type,onChange:t=>Me(e.id,"type",t.target.value),children:[(0,K.jsx)("option",{value:"Fee",children:"Fee"}),(0,K.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Amount ($)"}),(0,K.jsx)("input",{type:"number",step:"0.01",className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.amount,onChange:t=>Me(e.id,"amount",t.target.value),placeholder:"0.00"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Category"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.category,onChange:t=>Me(e.id,"category",t.target.value),children:[(0,K.jsx)("option",{value:"",children:"Select Category..."}),("Fee"===e.type?fe:pe).map(e=>(0,K.jsx)("option",{value:e,children:e},e))]})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 mb-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Week #"}),(0,K.jsx)("input",{type:"number",min:"0",className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.week,onChange:t=>Me(e.id,"week",t.target.value),placeholder:"e.g. 1, 2, 3..."})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Quantity"}),(0,K.jsx)("input",{type:"number",min:"1",className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.quantity,onChange:t=>Me(e.id,"quantity",t.target.value),onFocus:e=>e.target.select()})]})]}),(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsxs)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:["Teams (",e.teams.length," selected)"]}),(0,K.jsx)("div",{className:"border rounded-lg p-2 md:p-3 max-h-24 md:max-h-32 overflow-y-auto bg-gray-50",children:(0,K.jsx)("div",{className:"space-y-1",children:ye.map(t=>(0,K.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white p-1 rounded",children:[(0,K.jsx)("input",{type:"checkbox",className:"rounded",checked:e.teams.includes(t.userId),onChange:n=>{const r=n.target.checked,a=e.teams,s=r?[...a,t.userId]:a.filter(e=>e!==t.userId);Me(e.id,"teams",s)}}),(0,K.jsx)("span",{className:"text-sm",children:t.displayName})]},t.userId))})}),(0,K.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,K.jsx)("button",{type:"button",onClick:()=>Me(e.id,"teams",ye.map(e=>e.userId)),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200",children:"Select All"}),(0,K.jsx)("button",{type:"button",onClick:()=>Me(e.id,"teams",[]),className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded hover:bg-gray-200",children:"Clear All"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Description"}),(0,K.jsx)("input",{type:"text",className:"w-full border rounded-lg px-2 py-1 md:py-2",value:e.description,onChange:t=>Me(e.id,"description",t.target.value),placeholder:"Transaction description..."})]})]},e.id))}),(0,K.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,K.jsxs)("div",{className:"text-sm text-gray-600",children:[ae.filter(e=>e.amount&&e.category&&e.teams.length>0).length," of ",ae.length," transactions ready to submit"]}),(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full",children:[(0,K.jsx)("button",{type:"button",onClick:()=>{se(e=>[...e,{id:Date.now()+Math.random(),type:"Fee",amount:"",category:"",description:"",week:"",teams:[],quantity:1}])},className:"bg-green-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-green-700 w-full sm:w-auto text-sm",children:"+ Add Transaction"}),(0,K.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 w-full sm:w-auto text-sm",disabled:0===ae.filter(e=>e.amount&&e.category&&e.teams.length>0).length,children:"Submit All Transactions"})]})]})]})]}):(0,K.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 items-end bg-blue-50 p-3 md:p-4 rounded-lg",onSubmit:async e=>{if(e.preventDefault(),!ge||!h)return;if(0===N.team.length)return void A({text:"Please select at least one team.",type:"error"});let t,n;if(E)t=le.transactions.map(e=>e.id===E.id?u(u({},N),{},{id:E.id,date:(new Date).toISOString(),quantity:Number(N.quantity)||1}):e),n="Transaction updated successfully!",O(null);else{const e=[];"Entry Fee"===N.category?N.team.forEach(t=>{e.push(u(u({},N),{},{id:crypto.randomUUID(),quantity:1,team:[t],date:(new Date).toISOString()}))}):e.push(u(u({},N),{},{id:crypto.randomUUID(),team:N.team,quantity:Number(N.quantity)||1,date:(new Date).toISOString()})),t=[...le.transactions,...e],n="Transaction saved successfully!"}try{const e=kc(h,"league_finances",String(G));await hu(e,u(u({},le),{},{transactions:t}),{merge:!0}),A({text:n,type:"success"})}catch(e){f.A.error("Error saving transaction: ",e),A({text:"Error saving transaction.",type:"error"})}setTimeout(()=>A({text:"",type:""}),3e3),T(!1)},children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Type"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-1 md:py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.type,onChange:e=>{const t=e.target.value;_(e=>u(u({},e),{},{type:t,description:"",category:"",team:[]}))},disabled:E,children:[(0,K.jsx)("option",{value:"Fee",children:"Fee"}),(0,K.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Amount ($)"}),(0,K.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg px-2 py-1 md:py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.amount,onChange:e=>_(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Category"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-1 md:py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.category,onChange:e=>{const t=e.target.value;let n=N.team,r=N.description;if("Trade Fee"===t&&(n=[]),"Payout"===N.type&&t.startsWith("Weekly")&&N.week){var a,s;const e="Weekly 1st"===t?0:1,u=null===(a=xe[G])||void 0===a||null===(s=a[N.week])||void 0===s?void 0:s[e];if(u){var o,l;n=[u];const e=null===(o=i.matchupsBySeason)||void 0===o||null===(l=o[G])||void 0===l?void 0:l.filter(e=>String(e.week)===String(N.week));let a=null;if(e)for(const t of e){var c;null!==(c=i.rostersBySeason)&&void 0!==c&&c[G]&&(String(t.team1_roster_id)&&i.rostersBySeason[G].find(e=>String(e.roster_id)===String(t.team1_roster_id)&&e.owner_id===u)&&(a=t.team1_score),String(t.team2_roster_id)&&i.rostersBySeason[G].find(e=>String(e.roster_id)===String(t.team2_roster_id)&&e.owner_id===u)&&(a=t.team2_score))}var d;if(null!==a&&!isNaN(a))r="".concat(t," (").concat(XM(Number(null!==(d=a)&&void 0!==d?d:0),2)," pts)")}}if("Payout"===N.type&&t.startsWith("Total Points")){const e=be[G];let a=-1;if("Total Points 1st"===t&&(a=0),"Total Points 2nd"===t&&(a=1),"Total Points 3rd"===t&&(a=2),e&&e[a]){var h;const s=e[a];n=[s.userId],r="".concat(t," (").concat(XM(Number(null!==(h=s.score)&&void 0!==h?h:0),2)," pts)")}}_(e=>u(u({},e),{},{category:t,team:n,description:r}))},required:!0,children:[(0,K.jsx)("option",{value:"",children:"Select..."}),("Fee"===N.type?fe:pe).map(e=>(0,K.jsx)("option",{value:e,children:e},e))]})]}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Team(s)"}),(0,K.jsx)("button",{type:"button",onClick:()=>T(!I),className:"w-full border rounded-lg px-2 py-1 md:py-2 text-left bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:N.team.length===ye.length?"All Teams":N.team.length>3?"".concat((null===(e=ye.find(e=>e.userId===N.team[0]))||void 0===e?void 0:e.displayName)||"Team",", ").concat((null===(n=ye.find(e=>e.userId===N.team[1]))||void 0===n?void 0:n.displayName)||"Team",", ").concat((null===(r=ye.find(e=>e.userId===N.team[2]))||void 0===r?void 0:r.displayName)||"Team","... (+").concat(N.team.length-3," more)"):N.team.length>0?N.team.map(e=>{var t;return null===(t=ye.find(t=>t.userId===e))||void 0===t?void 0:t.displayName}).join(", "):"Select Team(s)"}),I&&(0,K.jsxs)("div",{className:"md:absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[(0,K.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:N.team.length===ye.length,onChange:e=>{const t=e.target.checked;_(e=>u(u({},e),{},{team:t?ye.map(e=>e.userId):[]}))}}),(0,K.jsx)("span",{children:"All Teams"})]},"all"),ye.map(e=>(0,K.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:N.team.includes(e.userId),onChange:t=>{const n=t.target.checked;_(t=>{const r=n?[...t.team,e.userId]:t.team.filter(t=>t!==e.userId);return u(u({},t),{},{team:r})})}}),(0,K.jsx)("span",{children:e.displayName})]},e.userId))]})]}),("Waiver/FA Fee"===N.category||"Trade Fee"===N.category)&&(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Quantity"}),(0,K.jsx)("input",{type:"number",min:"1",step:"1",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.quantity,onChange:e=>_(t=>u(u({},t),{},{quantity:e.target.value})),onFocus:e=>e.target.select()})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Description"}),(0,K.jsx)("input",{type:"text",className:"w-full border rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat("Payout"===N.type&&(N.category.startsWith("Weekly")&&N.week||N.category.startsWith("Total Points"))?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-white"),value:N.description,onChange:e=>{"Payout"===N.type&&(N.category.startsWith("Weekly")&&N.week||N.category.startsWith("Total Points"))||_(t=>u(u({},t),{},{description:e.target.value}))},placeholder:"e.g. Paid for entry, Weekly winner, etc.",disabled:"Payout"===N.type&&(N.category.startsWith("Weekly")&&N.week||N.category.startsWith("Total Points"))})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Week #"}),(0,K.jsx)("input",{type:"number",min:"0",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.week,onChange:e=>{var t;const n=e.target.value;let r=N.team,a=N.description;if(n){if("Payout"===N.type&&("Weekly 1st"===N.category||"Weekly 2nd"===N.category)&&null!==(t=xe[G])&&void 0!==t&&t[n]){const e="Weekly 1st"===N.category?0:1,t=xe[G][n][e];if(t){var s,o;r=[t];const e=null===(s=i.matchupsBySeason)||void 0===s||null===(o=s[G])||void 0===o?void 0:o.filter(e=>String(e.week)===String(n));let u=null;if(e)for(const n of e){var l;null!==(l=i.rostersBySeason)&&void 0!==l&&l[G]&&(String(n.team1_roster_id)&&i.rostersBySeason[G].find(e=>String(e.roster_id)===String(n.team1_roster_id)&&e.owner_id===t)&&(u=n.team1_score),String(n.team2_roster_id)&&i.rostersBySeason[G].find(e=>String(e.roster_id)===String(n.team2_roster_id)&&e.owner_id===t)&&(u=n.team2_score))}var c;if(null!==u&&!isNaN(u))a="".concat(N.category," (").concat(XM(Number(null!==(c=u)&&void 0!==c?c:0),2)," pts)")}}}else r=[],a="";_(e=>u(u({},e),{},{week:n,team:r,description:a}))},placeholder:"e.g. 1, 2, ..."})]}),(0,K.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-2",children:[E&&(0,K.jsx)("button",{type:"button",className:"bg-gray-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-200",onClick:()=>{O(null),_({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),A({text:"Cancelled edit.",type:"info"})},children:"Cancel"}),(0,K.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-200",children:E?"Update Transaction":"Submit Transaction"})]})]}),P.text&&(0,K.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm font-medium ".concat("success"===P.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:P.text})]}),ge&&G&&(0,K.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6 border border-purple-200",children:[(0,K.jsx)("h3",{className:"text-xl font-semibold text-purple-800 mb-4",children:"Analyze Transactions from Sleeper"}),(0,K.jsxs)("p",{className:"text-gray-600 mb-4",children:["Get detailed transaction counts (trades, waivers, FA pickups) from Sleeper API for ",G,"."]}),(0,K.jsxs)("div",{className:"flex gap-4 items-center mb-4",children:[(0,K.jsx)("button",{onClick:async()=>{if(!ge||!G)return void Q({message:"Please select a year and ensure you are logged in as admin",type:"error"});const e=++te.current;Q({loading:!0,message:"Analyzing Sleeper transactions...",type:"info"});try{var t,n,r,a,l,c,h;const s=String(G);let m=(null===i||void 0===i||null===(t=i.leaguesMetadataBySeason)||void 0===t||null===(n=t[s])||void 0===n?void 0:n.league_id)||(null===i||void 0===i||null===(r=i.leaguesMetadataBySeason)||void 0===r||null===(a=r[s])||void 0===a?void 0:a.leagueId)||(null===i||void 0===i||null===(l=i.leaguesMetadataBySeason)||void 0===l||null===(c=l[s])||void 0===c?void 0:c.id)||null;if(!m)try{const e=await b(d);if(Array.isArray(e)&&e.length>0){const t=e.find(e=>{var t;return String(e.season||(null===(t=e.settings)||void 0===t?void 0:t.season)||e.year)===s||String(e.league_id||e.id||e.leagueId)===s});t&&(m=t.league_id||t.id||t.leagueId||null)}}catch(VB){f.A.error("Error fetching league chain for historical seasons:",VB)}if(!m)return Q({message:"You need previous league IDs (historical league metadata) to analyze that season. Please add league IDs to historical data.",type:"error"}),void Q(e=>u(u({},e),{},{loading:!1}));let p=null===i||void 0===i||null===(h=i.rostersBySeason)||void 0===h?void 0:h[s];if(!p||!Array.isArray(p)||0===p.length)try{p=await k(m)}catch(VB){return f.A.error("Error fetching rosters for historical league:",VB),void Q({message:"Failed to fetch roster data for ".concat(G),type:"error"})}const g=await LF(m,p);if(e!==te.current)return void f.A.debug("Stale import response ignored for year",G);const y=FF(g.counts,o),v=BF(g.counts,o);ee({counts:g.counts,summary:y,weeklyReport:v,rawResult:g}),$(!0),Q({message:"Found ".concat(g.summary.totalTrades," trades, ").concat(g.summary.totalWaivers," waivers, ").concat(g.summary.totalFreeAgents," FA pickups"),type:"success"})}catch(s){f.A.error("Error importing transactions:",s),Q({message:"Import failed: ".concat(s.message),type:"error"})}},disabled:Y.loading,className:"bg-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-purple-700 disabled:bg-gray-400 transition duration-200",children:Y.loading?"Analyzing...":"Analyze Transactions"}),Y.message&&(0,K.jsx)("div",{className:"p-3 rounded-lg text-sm font-medium ".concat("success"===Y.type?"bg-green-100 text-green-800":"error"===Y.type?"bg-red-100 text-red-800":"warning"===Y.type?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:Y.message})]}),X&&Z&&(0,K.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[(0,K.jsxs)("h4",{className:"font-semibold text-lg mb-3",children:["Transaction Analysis for ",G]}),(0,K.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,K.jsx)("h5",{className:"font-medium mb-2",children:"Season Totals:"}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,K.jsxs)("div",{className:"bg-white p-3 rounded",children:[(0,K.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Z.rawResult.summary.totalTrades}),(0,K.jsx)("div",{className:"text-sm text-gray-600",children:"Total Trades"})]}),(0,K.jsxs)("div",{className:"bg-white p-3 rounded",children:[(0,K.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Z.rawResult.summary.totalWaivers}),(0,K.jsx)("div",{className:"text-sm text-gray-600",children:"Waiver Claims"})]}),(0,K.jsxs)("div",{className:"bg-white p-3 rounded",children:[(0,K.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Z.rawResult.summary.totalFreeAgents}),(0,K.jsx)("div",{className:"text-sm text-gray-600",children:"FA Pickups"})]}),(0,K.jsxs)("div",{className:"bg-white p-3 rounded",children:[(0,K.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Z.rawResult.summary.totalTrades+Z.rawResult.summary.totalWaivers+Z.rawResult.summary.totalFreeAgents}),(0,K.jsx)("div",{className:"text-sm text-gray-600",children:"All Transactions"})]})]})]}),(0,K.jsxs)("div",{className:"mb-6",children:[(0,K.jsx)("h5",{className:"font-medium mb-2",children:"Transaction Counts by Team:"}),(0,K.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(Z.summary).map(e=>{let[t,n]=e;return(0,K.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,K.jsx)("div",{className:"font-medium text-sm",children:n.teamName}),(0,K.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[(0,K.jsxs)("div",{children:["Trades: ",n.trades]}),(0,K.jsxs)("div",{children:["Waivers: ",n.waivers]}),(0,K.jsxs)("div",{children:["FA Pickups: ",n.freeAgents]})]}),(0,K.jsxs)("div",{className:"font-semibold text-sm mt-2 pt-2 border-t",children:["Total: ",n.totalTransactions," transactions"]})]},t)})})]}),(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsx)("h5",{className:"font-medium mb-3",children:"Weekly Breakdown:"}),(0,K.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3",children:Object.entries(Z.weeklyReport).sort((e,t)=>{let[n]=e,[r]=t;return parseInt(n)-parseInt(r)}).map(e=>{let[t,n]=e;const r=n.trades.length+n.waivers.length+n.freeAgents.length;return 0===r?null:(0,K.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,K.jsxs)("h6",{className:"font-semibold text-base",children:["Week ",t]}),(0,K.jsxs)("div",{className:"text-sm text-gray-600",children:[r," transaction",1!==r?"s":""]})]}),n.trades.length>0&&(0,K.jsxs)("div",{className:"mb-3",children:[(0,K.jsxs)("div",{className:"text-sm font-medium text-blue-600 mb-1",children:["Trades (",n.trades.length,")"]}),n.trades.map((e,t)=>(0,K.jsxs)("div",{className:"text-xs text-gray-700 ml-4 mb-1",children:["\u2022 ",e.teamNames.join(" \u2194 "),e.playersTraded.adds>0&&(0,K.jsxs)("span",{className:"text-gray-500",children:[" (",e.playersTraded.adds," players)"]})]},t))]}),n.waivers.length>0&&(0,K.jsxs)("div",{className:"mb-3",children:[(0,K.jsxs)("div",{className:"text-sm font-medium text-green-600 mb-1",children:["Waiver Claims (",n.waivers.reduce((e,t)=>e+t.pickupCount,0),")"]}),(()=>{const e=n.waivers.reduce((e,t)=>(e[t.teamName]||(e[t.teamName]=0),e[t.teamName]+=t.pickupCount,e),{});return Object.entries(e).map(e=>{let[t,n]=e;return(0,K.jsxs)("div",{className:"text-xs text-gray-700 ml-4 mb-1",children:["\u2022 ",t,": ",n," pickup",1!==n?"s":""]},t)})})()]}),n.freeAgents.length>0&&(0,K.jsxs)("div",{className:"mb-1",children:[(0,K.jsxs)("div",{className:"text-sm font-medium text-orange-600 mb-1",children:["FA Pickups (",n.freeAgents.reduce((e,t)=>e+t.pickupCount,0),")"]}),(()=>{const e=n.freeAgents.reduce((e,t)=>(e[t.teamName]||(e[t.teamName]=0),e[t.teamName]+=t.pickupCount,e),{});return Object.entries(e).map(e=>{let[t,n]=e;return(0,K.jsxs)("div",{className:"text-xs text-gray-700 ml-4 mb-1",children:["\u2022 ",t,": ",n," pickup",1!==n?"s":""]},t)})})()]})]},t)})})]}),(0,K.jsx)("div",{className:"flex justify-end",children:(0,K.jsx)("button",{onClick:()=>{$(!1),ee(null),Q({message:"",type:""})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-600",children:"Close"})})]})]}),(0,K.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,K.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:"League Members & Dues"}),(0,K.jsx)("div",{className:"sm:hidden mt-4 space-y-3",children:ye.map(e=>{const t=le.transactions.filter(t=>"Fee"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+eI(t)/n},0),n=le.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+eI(t)/n},0),r=le.transactions.filter(t=>"Payout"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),a=r-t,s=a<0?"text-red-600":"text-green-600",o=r-n,i=o<0?"text-red-600":"text-green-600";return(0,K.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-100 shadow-sm",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("div",{className:"font-semibold text-gray-800",children:e.displayName}),(0,K.jsxs)("div",{className:"font-bold ".concat(s),children:["$",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,K.jsxs)("div",{className:"mt-2 text-sm text-gray-600 grid grid-cols-2 gap-2",children:[(0,K.jsxs)("div",{children:["Fees: $",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("div",{children:["Txn Fees: $",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("div",{children:["Payouts: $",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("div",{className:"".concat(i," font-medium"),children:["Dues: $",o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},e.userId)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full table-fixed bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-blue-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left",children:"Member"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Fees"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Transaction Fees"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Payouts"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Net Total"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Final Dues"})]})}),(0,K.jsx)("tbody",{children:ye.map(e=>{const t=le.transactions.filter(t=>"Fee"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+eI(t)/n},0),n=le.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+eI(t)/n},0),r=le.transactions.filter(t=>"Payout"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),a=r-t,s=a<0?"text-red-600":"text-green-600",o=r-n,i=o<0?"text-red-600":"text-green-600";return(0,K.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,K.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.displayName}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(s),children:["$",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(i),children:["$",o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.userId)})})]})}),!ge&&(0,K.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Login as commissioner to edit dues."})]}),(0,K.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,K.jsxs)("h3",{className:"text-lg font-semibold text-blue-800",children:["All Transactions (",G,")"]}),(0,K.jsxs)("div",{className:"flex gap-2",children:[ge&&(0,K.jsxs)("button",{onClick:()=>{B.length>0&&Ie(B)},disabled:0===B.length,className:"px-3 py-1 rounded-lg text-sm font-semibold transition duration-200 ".concat(B.length>0?"bg-red-500 text-white hover:bg-red-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Delete Selected (",B.length,")"]}),(0,K.jsx)("button",{onClick:()=>{const e=we.map(e=>{var t;const n=Array.isArray(e.team)?e.team.map(e=>{var t;return(null===(t=ye.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}).join(", "):(null===(t=ye.find(t=>t.userId===e.team))||void 0===t?void 0:t.displayName)||e.team;return[e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"",n,e.type,Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e.category,e.description,e.week,e.quantity||1]}),t=[["Date","Team","Type","Amount","Category","Description","Week","Quantity"].join(","),...e.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","league_finances_".concat(G,".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-600 transition duration-200",children:"Export to CSV"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Type"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:C.type,onChange:e=>{M(t=>u(u({},t),{},{type:e.target.value})),F(1)},children:[(0,K.jsx)("option",{value:"ALL",children:"All Types"}),(0,K.jsx)("option",{value:"Fee",children:"Fees"}),(0,K.jsx)("option",{value:"Payout",children:"Payouts"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Team"}),(0,K.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:C.team,onChange:e=>{M(t=>u(u({},t),{},{team:e.target.value})),F(1)},children:[(0,K.jsx)("option",{value:"ALL",children:"All Teams"}),ye.map(e=>(0,K.jsx)("option",{value:e.userId,children:e.displayName},e.userId))]})]})]}),(0,K.jsx)("div",{className:"sm:hidden mt-3 space-y-3",children:Ne.map(e=>(0,K.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-100 shadow-sm",children:[(0,K.jsxs)("div",{className:"flex items-start justify-between",children:[(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-800 truncate",children:De(e.id,e.team,ye,he,me)}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.category," \u2022 ",e.type]})]}),(0,K.jsxs)("div",{className:"text-right",children:[(0,K.jsxs)("div",{className:"text-sm font-semibold",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:e.week?"W".concat(e.week):""})]})]}),(0,K.jsx)("div",{className:"mt-2 text-xs text-gray-700 truncate",children:e.description}),ge&&(0,K.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-3",children:[(0,K.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-bold text-lg",title:"Edit transaction",onClick:()=>Oe(e),children:"\u270e"}),(0,K.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>Ie([e]),children:"\u2716"})]})]},e.id))}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-blue-50",children:(0,K.jsxs)("tr",{children:[ge&&(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:(0,K.jsx)("input",{type:"checkbox",className:"form-checkbox",onChange:e=>{e.target.checked?W(Ne):W([])},checked:Te})}),(0,K.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100 w-44",onClick:()=>Ee("date"),children:(0,K.jsxs)("div",{className:"flex items-center",children:["Date","date"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100 w-36",onClick:()=>Ee("team"),children:(0,K.jsxs)("div",{className:"flex items-center",children:["Team","team"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>Ee("type"),children:(0,K.jsxs)("div",{className:"flex items-center justify-center",children:["Type","type"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Qty"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100 w-28",onClick:()=>Ee("amount"),children:(0,K.jsxs)("div",{className:"flex items-center justify-center",children:["Amount","amount"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>Ee("category"),children:(0,K.jsxs)("div",{className:"flex items-center justify-center",children:["Category","category"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100 w-[260px]",onClick:()=>Ee("description"),children:(0,K.jsxs)("div",{className:"flex items-center justify-center",children:["Description","description"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),(0,K.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>Ee("week"),children:(0,K.jsxs)("div",{className:"flex items-center justify-center",children:["Week","week"===D.key&&(0,K.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===D.direction?"\u25b2":"\u25bc"})]})}),ge&&(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,K.jsx)("tbody",{children:Ne.map(e=>{const t=e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"";return(0,K.jsxs)("tr",{className:"even:bg-gray-50",children:[ge&&(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:(0,K.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:B.some(t=>t.id===e.id),onChange:t=>((e,t)=>{W(t?t=>[...t,e]:t=>t.filter(t=>t.id!==e.id))})(e,t.target.checked)})}),(0,K.jsx)("td",{className:"py-2 px-3 whitespace-nowrap text-sm w-44",children:t}),(0,K.jsx)("td",{className:"py-2 px-3 w-36 text-sm truncate",children:De(e.id,e.team,ye,he,me)}),(0,K.jsx)("td",{className:"py-2 px-3 text-center w-20",children:e.type}),(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:"Waiver/FA Fee"===e.category||"Trade Fee"===e.category?e.quantity||1:""}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center w-28 whitespace-nowrap",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,K.jsx)("td",{className:"py-2 px-3 text-center w-32 truncate",children:e.category}),(0,K.jsx)("td",{className:"py-2 px-3 text-center w-[260px] truncate",children:e.description}),(0,K.jsx)("td",{className:"py-2 px-3 text-center w-20",children:e.week}),ge&&(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:(0,K.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,K.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-bold text-lg",title:"Edit transaction",onClick:()=>Oe(e),children:"\u270e"}),(0,K.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>Ie([e]),children:"\u2716"})]})})]},e.id)})})]})}),(0,K.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-4",children:[(0,K.jsx)("button",{className:"px-3 py-1 rounded-lg transition duration-200 ".concat(1===L?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>F(Math.max(1,L-1)),disabled:1===L,"aria-label":"Previous page",children:"Prev"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"transactions-page",className:"sr-only",children:"Select page"}),(0,K.jsx)("select",{id:"transactions-page",className:"border rounded-lg px-3 py-1 bg-white text-sm",value:L,onChange:e=>F(Number(e.target.value)),children:Array.from({length:je},(e,t)=>(0,K.jsx)("option",{value:t+1,children:"Page ".concat(t+1," of ").concat(je)},t))})]}),(0,K.jsx)("button",{className:"px-3 py-1 rounded-lg transition duration-200 ".concat(L===je?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>F(Math.min(je,L+1)),disabled:L===je,"aria-label":"Next page",children:"Next"})]})]}),(0,K.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,K.jsxs)("h3",{className:"text-xl font-semibold text-red-800",children:["Fees (",G,")"]}),ge&&(0,K.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>H("fees"),title:"Add Fee",children:"+"})]}),le.potentialFees.length>0?(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-red-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),ge&&(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,K.jsx)("tbody",{children:le.potentialFees.map(e=>(0,K.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,K.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),ge&&(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:(0,K.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>Ce(e.id,"fees"),children:"\u2716"})})]},e.id))})]})}):(0,K.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No fees for this year."})]}),(0,K.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,K.jsxs)("h3",{className:"text-xl font-semibold text-green-800",children:["Payouts (",G,")"]}),ge&&(0,K.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>H("payouts"),title:"Add Payout",children:"+"})]}),le.potentialPayouts.length>0?(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-green-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),ge&&(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,K.jsx)("tbody",{children:le.potentialPayouts.map(e=>(0,K.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,K.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),ge&&(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:(0,K.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>Ce(e.id,"payouts"),children:"\u2716"})})]},e.id))})]})}):(0,K.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No payouts for this year."})]}),V&&(0,K.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,K.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-sm mx-auto",children:[(0,K.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Add ","fees"===V?"Fee":"Payout"]}),(0,K.jsxs)("form",{onSubmit:e=>(async(e,t)=>{if(e.preventDefault(),!ge||!h)return;const n=u({id:(new Date).toISOString()},U);let r;r="fees"===t?[...le.potentialFees,n]:[...le.potentialPayouts,n];try{const e=kc(h,"league_finances",String(G));await hu(e,u(u({},le),{},{["fees"===t?"potentialFees":"potentialPayouts"]:r}),{merge:!0}),A({text:"Potential ".concat(t.slice(0,-1)," added successfully!"),type:"success"})}catch(e){f.A.error("Error saving potential transaction: ",e),A({text:"Error saving potential ".concat(t.slice(0,-1),"."),type:"error"})}H(null),z({description:"",amount:""})})(e,V),children:[(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,K.jsx)("input",{type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:U.description,onChange:e=>z(t=>u(u({},t),{},{description:e.target.value})),required:!0})]}),(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Amount ($)"}),(0,K.jsx)("input",{type:"number",min:"0",step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:U.amount,onChange:e=>z(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,K.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,K.jsx)("button",{type:"button",className:"bg-gray-400 text-white font-bold py-2 px-4 rounded hover:bg-gray-500 transition duration-200",onClick:()=>{H(null),z({description:"",amount:""})},children:"Cancel"}),(0,K.jsx)("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600 transition duration-200",children:"Save"})]})]})]})})]})},zF=()=>{const{historicalData:e,processedSeasonalRecords:n,currentSeason:r,nflState:a,getTeamName:s,getTeamDetails:o}=J(),i=r?String(r):null,l=(0,t.useMemo)(()=>{var t,i,l,c,d;if(!e||!n||!r)return null;const h=String(r),m=(null===(t=e.rostersBySeason)||void 0===t?void 0:t[h])||[],f=null===(i=e.leaguesMetadataBySeason)||void 0===i?void 0:i[h],p=parseInt(null===f||void 0===f||null===(l=f.settings)||void 0===l?void 0:l.playoff_start_week)||15,g=null!==a&&void 0!==a&&a.week?parseInt(a.week):1,y=Math.max(0,p-g),v=(null===n||void 0===n?void 0:n[h])||{},x=(null===(c=e.matchupsBySeason)||void 0===c?void 0:c[h])||[],b=new Map;m.forEach(e=>{b.set(String(e.roster_id),{wins:0,losses:0,ties:0,pointsFor:0,games:0})}),x.forEach(e=>{const t=parseInt(e.week);if(!t||t>=p||t>=g)return;const n=e.team1_roster_id?String(e.team1_roster_id):null,r=e.team2_roster_id?String(e.team2_roster_id):null;if(!n||!r)return;const a=Number(e.team1_score)||0,s=Number(e.team2_score)||0,o=b.get(n),i=b.get(r);o&&i&&(o.pointsFor+=a,i.pointsFor+=s,o.games+=1,i.games+=1,a>s?(o.wins+=1,i.losses+=1):s>a?(i.wins+=1,o.losses+=1):a===s&&a>0&&(o.ties+=1,i.ties+=1))});const w=x.filter(e=>{const t=parseInt(e.week);return t&&t>=g&&t<p&&e.team1_roster_id&&e.team2_roster_id}).map(e=>({week:parseInt(e.week),t1:String(e.team1_roster_id),t2:String(e.team2_roster_id)})),j=new Map;function S(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n.filter(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id,r=void 0!==t.t2?t.t2:t.team2_roster_id;return String(n)===String(e)||String(r)===String(e)});r&&(a=a.slice(-r));const s=a.map(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id;return String(n)===String(e)?void 0!==t.t1_score?t.t1_score:t.team1_score:void 0!==t.t2_score?t.t2_score:t.team2_score}).filter(e=>"number"===typeof e);if(0===s.length)return{mean:0,variance:0,count:0,recentMean:0};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=s.slice(-3),c=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:o;return{mean:o,variance:i,count:s.length,recentMean:c}}m.forEach(e=>j.set(String(e.roster_id),[])),w.forEach(e=>{var t,n;null===(t=j.get(e.t1))||void 0===t||t.push({opponentId:e.t2,week:e.week}),null===(n=j.get(e.t2))||void 0===n||n.push({opponentId:e.t1,week:e.week})});const k=m.map(e=>{var t;const n=String(e.roster_id),r=String(e.owner_id),a=v[n]||{},i=b.get(n)||{wins:0,losses:0,ties:0,pointsFor:0,games:0},l=j.get(n)||[],c="number"===typeof a.allPlayWinPercentage&&!isNaN(a.allPlayWinPercentage)&&a.allPlayWinPercentage>0?a.allPlayWinPercentage:i.games>0?(i.wins+(i.ties>0?.5*i.ties:0))/i.games:.5,u=a.averageScore&&!isNaN(a.averageScore)&&a.averageScore>0?a.averageScore:i.games>0?i.pointsFor/i.games:100,d=g>1?g-1:1,f=x.filter(e=>parseInt(e.week)<=d&&parseInt(e.week)<=14),p={};m.forEach(e=>{p[String(e.roster_id)]=String(e.owner_id)});const w={};m.forEach(e=>{w[String(e.owner_id)]=0}),f.forEach(e=>{var t,n,r,a;const s=void 0!==e.team1_roster_id?String(e.team1_roster_id):void 0!==e.t1?String(e.t1):null,o=void 0!==e.team2_roster_id?String(e.team2_roster_id):void 0!==e.t2?String(e.t2):null;if(!s||!o)return;const i=Number(null!==(t=null!==(n=e.team1_score)&&void 0!==n?n:e.t1_score)&&void 0!==t?t:0),l=Number(null!==(r=null!==(a=e.team2_score)&&void 0!==a?a:e.t2_score)&&void 0!==r?r:0),c=p[s]||s,u=p[o]||o;i>l?w[c]=(w[c]||0)+1:l>i&&(w[u]=(w[u]||0)+1)});const k={};m.forEach(e=>{k[String(e.owner_id)]=0});for(let s=d+1;s<=14;s++){x.filter(e=>parseInt(e.week)===s&&e.team1_roster_id&&e.team2_roster_id).forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id),r=p[t]||t,a=p[n]||n,s=N(t,h,f,4),o=N(n,h,f,4),i=s.mean,l=o.mean,c=s.variance,u=o.variance,d=s.count>=2?s.count:1,m=o.count>=2?o.count:1,g=i-l;let y=Math.sqrt(c/d+u/m);if(y<=0||s.count<2||o.count<2){const e=15;y=Math.max(y,e)}const v=Math.max(-20,Math.min(20,g));let x=.5;y>0&&(x=.5+.5*S(v/(Math.sqrt(2)*y))),x=Math.max(.05,Math.min(.95,x));let b=1-x;b=Math.max(.05,Math.min(.95,b)),k[r]=(k[r]||0)+x,k[a]=(k[a]||0)+b})}const _=l.length,P=Math.max(0,y-_),A=(k[r]||0)+P*c,E=Math.round((w[r]||0)+A),O=i.pointsFor+(_+P)*u;return{rosterId:n,ownerId:r,name:s(r,h),avatar:null===(t=o(r,h))||void 0===t?void 0:t.avatar,currentWins:i.wins,currentLosses:i.losses,currentTies:i.ties,currentPoints:i.pointsFor,projectedWins:E,projectedPoints:O,remainingOpponents:l,avgScore:u,allPlayWinPct:c}}),_=[...k].sort((e,t)=>t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:e.name.localeCompare(t.name)),P=_.slice(0,4),A=k.filter(e=>!P.find(t=>t.rosterId===e.rosterId)),E=A.sort((e,t)=>t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:e.name.localeCompare(t.name)),O=E.slice(0,2),I=[...P,...O].slice(0,6).map((e,t)=>u({seed:t+1},e)).sort((e,t)=>e.seed-t.seed);let T=[{higher:I.find(e=>3===e.seed),lower:I.find(e=>6===e.seed)},{higher:I.find(e=>4===e.seed),lower:I.find(e=>5===e.seed)}];const C=[I.find(e=>1===e.seed),I.find(e=>2===e.seed)],M=(null===(d=e.winnersBracketBySeason)||void 0===d?void 0:d[h])||[];if(g>=p&&M.some(e=>1===parseInt(e.r)&&(e.t1||e.team1_roster_id)&&(e.t2||e.team2_roster_id))){const e=M.filter(e=>1===parseInt(e.r)),t=new Map(I.map(e=>[String(e.rosterId),e])),n=e=>t.get(String(e))||null,r=e.map(e=>{const t=String(e.t1||e.team1_roster_id),r=String(e.t2||e.team2_roster_id),a=n(t),s=n(r);if(!a||!s)return null;return{higher:a.seed<s.seed?a:s,lower:a.seed<s.seed?s:a}}).filter(Boolean).sort((e,t)=>e.higher.seed-t.higher.seed);2===r.length&&(T=r)}return{seeded:I,round1:T,byes:C,playoffStartWeek:p,isPlayoffs:g>=p}},[e,n,r,a,s,o]);if(!l)return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-2",children:"Projected Playoff Bracket"}),(0,K.jsx)("div",{className:"text-gray-500 text-sm",children:"Not enough data to project the bracket yet."})]});const{seeded:c,round1:d,byes:h,playoffStartWeek:m,isPlayoffs:f}=l,p=t=>{var n,r,a,o,l,c;let{seed:u,team:d}=t;return(0,K.jsxs)("div",{className:"group relative",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 shadow-sm",children:[(0,K.jsxs)("div",{className:"text-xs font-semibold text-blue-700 w-6",children:["#",u]}),(0,K.jsx)("img",{src:(null===d||void 0===d?void 0:d.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:(null===d||void 0===d?void 0:d.name)||"Team",className:"w-8 h-8 rounded-full border border-gray-300 object-cover",onError:e=>{e.currentTarget.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("div",{className:"min-w-0 flex-1",children:(0,K.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate max-w-[180px]",children:(null===d||void 0===d?void 0:d.name)||"TBD"})})]}),d&&(0,K.jsxs)("div",{className:"pointer-events-none absolute z-10 hidden group-hover:block bg-white border border-gray-200 shadow-lg rounded-md p-3 w-72 -left-2 top-10",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:d.name}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[(0,K.jsx)("div",{children:"Current Record"}),(0,K.jsxs)("div",{className:"text-right",children:[d.currentWins,"-",d.currentLosses,d.currentTies>0?"-".concat(d.currentTies):""]}),(0,K.jsx)("div",{children:"Current Points"}),(0,K.jsx)("div",{className:"text-right",children:XM(Number(null!==(n=d.currentPoints)&&void 0!==n?n:0),1)}),(0,K.jsx)("div",{children:"Avg Score"}),(0,K.jsx)("div",{className:"text-right",children:XM(Number(null!==(r=d.avgScore)&&void 0!==r?r:0),1)}),(0,K.jsx)("div",{children:"All-Play Win%"}),(0,K.jsxs)("div",{className:"text-right",children:[XM(null!==(a=100*d.allPlayWinPct)&&void 0!==a?a:0,1),"%"]}),(0,K.jsx)("div",{children:"Projected Wins"}),(0,K.jsx)("div",{className:"text-right",children:XM(Number(null!==(o=d.projectedWins)&&void 0!==o?o:0),2)}),(0,K.jsx)("div",{children:"Projected Points"}),(0,K.jsx)("div",{className:"text-right",children:XM(Number(null!==(l=d.projectedPoints)&&void 0!==l?l:0),1)})]}),(null===(c=d.remainingOpponents)||void 0===c?void 0:c.length)>0&&(0,K.jsxs)("div",{className:"mt-2",children:[(0,K.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Remaining Opponents"}),(0,K.jsx)("ul",{className:"text-xs text-gray-700 max-h-24 overflow-auto space-y-1",children:d.remainingOpponents.slice().sort((e,t)=>e.week-t.week).map((t,n)=>{var r,a,o;return(0,K.jsxs)("li",{className:"flex justify-between",children:[(0,K.jsxs)("span",{children:["Week ",t.week]}),(0,K.jsx)("span",{className:"truncate ml-2",children:s(i?null===(r=e.rostersBySeason)||void 0===r||null===(a=r[i])||void 0===a||null===(o=a.find(e=>String(e.roster_id)===String(t.opponentId)))||void 0===o?void 0:o.owner_id:void 0,i||void 0)})]},n)})})]})]})]})};return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,K.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800",children:f?"Playoff Bracket":"Projected Playoff Bracket"}),(0,K.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Playoffs start Week ",m]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,K.jsxs)("div",{className:"space-y-8",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Round 1"}),d.map((e,t)=>{var n,r;return(0,K.jsx)("div",{className:"relative",children:(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(p,{seed:null===(n=e.higher)||void 0===n?void 0:n.seed,team:e.higher}),(0,K.jsx)("div",{className:"text-center text-xs text-gray-400",children:"vs"}),(0,K.jsx)(p,{seed:null===(r=e.lower)||void 0===r?void 0:r.seed,team:e.lower})]})},t)})]}),(0,K.jsxs)("div",{className:"space-y-10",children:[(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Semifinals"}),(0,K.jsx)("div",{className:"relative",children:(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(p,{seed:1,team:h[0]}),(0,K.jsx)("div",{className:"text-xs text-gray-400",children:"vs lowest remaining seed"})]})}),(0,K.jsx)("div",{className:"relative",children:(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(p,{seed:2,team:h[1]}),(0,K.jsx)("div",{className:"text-xs text-gray-400",children:"vs highest remaining seed"})]})})]})]}),(0,K.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Seeding: 1-4 by record (tiebreaker points); 5-6 by points among remaining. Semifinals reseed: 1 vs lowest remaining, 2 vs highest remaining."})]})},VF=()=>{const{usersData:e,currentSeason:n,getTeamName:r,loading:a,error:s}=J(),[o,i]=(0,t.useState)({transactions:[]}),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(n)try{c(!0),d(null),f.A.debug("Fetching financial data for current season: ".concat(n));const e=await vu(n);i(e||{transactions:[]})}catch(e){f.A.error("Error fetching current season financial data:",e),d(e.message),i({transactions:[]})}finally{c(!1)}else c(!1)})()},[n]);const h=(0,t.useMemo)(()=>e&&o.transactions&&0!==o.transactions.length?e.map(e=>{const t=r(e.user_id,n),a=nI(o.transactions,e.user_id),s=o.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&Array.isArray(t.team)&&t.team.includes(e.user_id)).reduce((e,t)=>{const n=t.team.length;return e+eI(t)/n},0),i=a.totalPayouts-s;return{userId:e.user_id,teamName:t,displayName:e.display_name||e.username||e.user_id,transactionFees:s,totalPayouts:a.totalPayouts,finalDues:i,netTotal:a.netTotal}}).sort((e,t)=>t.finalDues-e.finalDues):[],[e,o.transactions,n,r]),m=e=>"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(Math.abs(e).toFixed(2)),p=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-700";return a||l?(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,K.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,K.jsx)("span",{className:"mobile-text-lg",children:"Current Season Financials"})]}),(0,K.jsx)("div",{className:"text-center py-8 text-blue-600",children:"Loading financial data..."})]}):s||u?(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,K.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,K.jsx)("span",{className:"mobile-text-lg",children:"Current Season Financials"})]}),(0,K.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading financial data: ",(null===s||void 0===s?void 0:s.message)||u]})]}):h&&0!==h.length?(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,K.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,K.jsx)("span",{className:"mobile-text-lg",children:"Current Season Financials"})]}),(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:h.map((e,t)=>(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,K.jsx)("div",{className:"font-semibold text-gray-800 text-sm",children:e.teamName})]}),(0,K.jsxs)("div",{className:"text-lg font-bold ".concat(p(e.finalDues)),children:[e.finalDues>=0?"+":"-",m(e.finalDues)]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,K.jsxs)("div",{className:"bg-red-50 rounded-lg p-2 text-center",children:[(0,K.jsx)("div",{className:"text-xs text-red-600 font-medium uppercase tracking-wide",children:"Fees"}),(0,K.jsx)("div",{className:"text-red-600 font-semibold",children:m(e.transactionFees)})]}),(0,K.jsxs)("div",{className:"bg-green-50 rounded-lg p-2 text-center",children:[(0,K.jsx)("div",{className:"text-xs text-green-600 font-medium uppercase tracking-wide",children:"Payouts"}),(0,K.jsx)("div",{className:"text-green-600 font-semibold",children:m(e.totalPayouts)})]})]})]},e.userId))}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,K.jsx)("thead",{className:"bg-blue-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wide border-b border-gray-200",children:"Team"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wide border-b border-gray-200",children:"Transaction Fees"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wide border-b border-gray-200",children:"Payouts"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wide border-b border-gray-200",children:"Final Dues"})]})}),(0,K.jsx)("tbody",{children:h.map((e,t)=>(0,K.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,K.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap border-b border-gray-100",children:e.teamName}),(0,K.jsx)("td",{className:"py-2 px-3 text-center text-red-600 font-medium border-b border-gray-100",children:m(e.transactionFees)}),(0,K.jsx)("td",{className:"py-2 px-3 text-center text-green-600 font-medium border-b border-gray-100",children:m(e.totalPayouts)}),(0,K.jsxs)("td",{className:"py-2 px-3 text-center font-bold border-b border-gray-100 ".concat(p(e.finalDues)),children:[e.finalDues>=0?"+":"-",m(e.finalDues)]})]},e.userId))})]})}),(0,K.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,K.jsxs)("div",{className:"text-xs text-gray-600 text-center",children:[(0,K.jsx)("span",{className:"font-semibold",children:"Final Dues"})," = Payouts - Transaction Fees (excluding entry fees)"]})})]}):(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,K.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,K.jsx)("span",{className:"mobile-text-lg",children:"Current Season Financials"})]}),(0,K.jsxs)("div",{className:"text-center py-8 text-gray-600",children:["No financial data available for the ",n," season."]})]})},HF=e=>{let{children:t,className:n=""}=e;return(0,K.jsx)("div",{className:"w-full max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 font-inter overflow-x-hidden ".concat(n),children:t})},GF=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,transactions:a,nflPlayers:s,loading:o,error:i,currentSeason:l,nflState:c,processedSeasonalRecords:d}=J(),[f,p]=(0,t.useState)({added:[],dropped:[],loading:!0}),g=e=>{if(null===e||void 0===e)return"";const t=Number(e);if(Number.isNaN(t))return String(e);const n=Math.abs(t);return n>=1e6?"".concat((t/1e6).toFixed(1).replace(/\.0$/,""),"M"):n>=1e3?"".concat((t/1e3).toFixed(1).replace(/\.0$/,""),"K"):String(t)},y=e=>{const t=Number(e||0);return Number.isNaN(t)?"$0.00":t.toLocaleString(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2})},v=e=>{if(!e)return[];try{return Array.isArray(e)?e.map(e=>{var t,n,r,a,s,o,i,l,c,u,d,h,m,f,p,g,y,v,x;return e&&"object"===typeof e?"sender"in e||"receiver"in e?{sender:null!==(u=null!==(d=null!==(h=e.sender)&&void 0!==h?h:e.from)&&void 0!==d?d:e.roster_id)&&void 0!==u?u:null,receiver:null!==(m=null!==(f=null!==(p=e.receiver)&&void 0!==p?p:e.to)&&void 0!==f?f:e.roster_id)&&void 0!==m?m:null,amount:Number(null!==(g=null!==(y=null!==(v=null!==(x=e.amount)&&void 0!==x?x:e.bid)&&void 0!==v?v:e.faab)&&void 0!==y?y:e.wbid)&&void 0!==g?g:0)}:{roster_id:null!==(t=null!==(n=null!==(r=null!==(a=null!==(s=e.roster_id)&&void 0!==s?s:e.rosterId)&&void 0!==a?a:e.user_id)&&void 0!==r?r:e.owner_id)&&void 0!==n?n:e.ownerId)&&void 0!==t?t:null,amount:Number(null!==(o=null!==(i=null!==(l=null!==(c=e.amount)&&void 0!==c?c:e.bid)&&void 0!==l?l:e.faab)&&void 0!==i?i:e.wbid)&&void 0!==o?o:0)}:{roster_id:null,amount:Number(e)||0}}):[]}catch(VB){return[]}},x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;try{const n="https://api.sleeper.app/v1/players/nfl/trending",[r,a]=await Promise.all([fetch("".concat(n,"/add?lookback_hours=").concat(e,"&limit=").concat(t)),fetch("".concat(n,"/drop?lookback_hours=").concat(e,"&limit=").concat(t))]),s=r.ok?await r.json():[],o=a.ok?await a.json():[],i=e=>Array.isArray(e)?e.map(e=>{var t,n;return e?e.player_id?{id:e.player_id,raw:e}:null!==(t=e.player)&&void 0!==t&&t.player_id?{id:e.player.player_id,raw:e}:{id:e.player_id||(null===(n=e.player)||void 0===n?void 0:n.player_id)||(null===e||void 0===e?void 0:e.id)||null,raw:e}:null}).filter(e=>e&&e.id):[];return{added:i(s),dropped:i(o)}}catch(VB){return console.warn("Failed to fetch trending players",VB),{added:[],dropped:[]}}};(0,t.useEffect)(()=>{let e=!0;p(e=>u(u({},e),{},{loading:!0})),x().then(t=>{e&&p({added:t.added,dropped:t.dropped,loading:!1})});const t=setInterval(async()=>{const t=await x();e&&p({added:t.added,dropped:t.dropped,loading:!1})},6e5);return()=>{e=!1,clearInterval(t)}},[]);const b=(0,t.useMemo)(()=>{var t,a;if(!e||!l||!c)return[];const s=c.week?parseInt(c.week):1;let o=l;if(!o){const t=Object.keys(e.matchupsBySeason||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===(t=e.matchupsBySeason)||void 0===t?void 0:t[o])||[],u=(null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[];return i.filter(e=>parseInt(e.week)===s).map(e=>{var t,a;const s=u.find(t=>String(t.roster_id)===String(e.team1_roster_id)),i=u.find(t=>String(t.roster_id)===String(e.team2_roster_id)),l=null===s||void 0===s?void 0:s.owner_id,c=null===i||void 0===i?void 0:i.owner_id;return{team1:{ownerId:l,name:n(l,o),score:e.team1_score||0,avatar:null===(t=r(l,o))||void 0===t?void 0:t.avatar},team2:{ownerId:c,name:n(c,o),score:e.team2_score||0,avatar:null===(a=r(c,o))||void 0===a?void 0:a.avatar},team1RosterId:String(e.team1_roster_id),team2RosterId:String(e.team2_roster_id),matchupId:e.matchup_id,week:e.week,isCompleted:(e.team1_score||0)>0||(e.team2_score||0)>0}})},[e,l,c,n,r]),w=(0,t.useMemo)(()=>{if(!d||!l||!d[l])return{};const e={},t=d[l];return Object.keys(t).forEach(n=>{const r=t[n];r.weeklyLuck&&(e[n]=r.weeklyLuck)}),e},[d,l]),j=(0,t.useCallback)((e,t)=>{if(!e||0===e.length||!w||!c)return null;const n=Object.keys(w)[0],r=n?(w[n]||[]).length:0;if(r<=0)return null;const a=e.map(e=>{var t,n,a,s;const o=String(e.team1RosterId),i=String(e.team2RosterId),l=null!==(t=null===(n=w[o])||void 0===n?void 0:n[r-1])&&void 0!==t?t:0,c=null!==(a=null===(s=w[i])||void 0===s?void 0:s[r-1])&&void 0!==a?a:0,u=Math.abs(l-c);return{matchupId:e.matchupId,luckDifference:u,team1Luck:l,team2Luck:c}});return a.sort((e,t)=>t.luckDifference-e.luckDifference),0===a.length||0===a[0].luckDifference?null:a.length>1&&String(a[0].matchupId)===String(t)?a[1].matchupId:a[0].matchupId},[w,c]),S=(0,t.useMemo)(()=>a&&0!==a.length?[...a].filter(e=>"failed"!==e.status&&"commissioner"!==e.creator&&"commissioner"!==e.type).sort((e,t)=>t.created-e.created).slice(0,10).map(t=>{var a;let o=l;if(!o){const t=Object.keys((null===e||void 0===e?void 0:e.rostersBySeason)||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===e||void 0===e||null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[],c=[];t.roster_ids&&t.roster_ids.length>0&&t.roster_ids.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e));var a;t&&c.push({ownerId:t.owner_id,name:n(t.owner_id,o),avatar:null===(a=r(t.owner_id,o))||void 0===a?void 0:a.avatar})});let d=null;"trade"===t.type&&(d=c.map(e=>{const n=t.roster_ids.find(t=>{const n=i.find(e=>String(e.roster_id)===String(t));return(null===n||void 0===n?void 0:n.owner_id)===e.ownerId}),r=[],a=[];t.adds&&Object.keys(t.adds).forEach(e=>{if(String(t.adds[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];r.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}}),t.drops&&Object.keys(t.drops).forEach(e=>{if(String(t.drops[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];a.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}});const o=[],l=[];return t.draft_picks&&Array.isArray(t.draft_picks)&&t.draft_picks.forEach(e=>{String(e.owner_id)===String(n)&&o.push({season:e.season,round:e.round,fromRoster:e.previous_owner_id}),String(e.previous_owner_id)===String(n)&&l.push({season:e.season,round:e.round,toRoster:e.owner_id})}),u(u({},e),{},{receives:r,sends:a,receivedPicks:o,sentPicks:l})}));const h=Object.keys(t.adds||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}}),m=Object.keys(t.drops||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}});return{id:t.transaction_id,type:t.type,status:t.status,created:new Date(t.created),teamDetails:c,addedPlayers:h,droppedPlayers:m,tradeDetails:d,draftPicks:t.draft_picks||[],waiver_budget:t.waiver_budget||[]}}):[],[a,e,l,n]),N=e=>{switch(e){case"waiver":return"Waiver";case"free_agent":return"Free Agent";case"trade":return"Trade";default:return e}};if(o)return(0,K.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-blue-50 to-gray-100 py-8",children:(0,K.jsx)("div",{className:"text-xl text-gray-500 animate-pulse",children:"Loading dashboard..."})});if(i)return(0,K.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-red-50 to-gray-100 py-8",children:(0,K.jsxs)("div",{className:"text-xl text-red-500",children:["Error: ",i]})});const k=e=>{let{targetDate:n,label:r}=e;const[a,s]=(0,t.useState)(()=>new Date);(0,t.useEffect)(()=>{const e=setInterval(()=>s(new Date),1e3);return()=>clearInterval(e)},[]);const o=n?n.getTime()-a.getTime():0,i=o<=0,l=o>0&&o<864e5;if(!n)return(0,K.jsx)("div",{className:"flex items-center justify-center bg-white border border-gray-200 rounded-lg shadow-sm px-3 py-2 w-full sm:w-40",children:(0,K.jsxs)("div",{className:"flex flex-col items-center max-w-full",children:[(0,K.jsx)("div",{className:"text-xs text-blue-800 font-medium truncate",children:r}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-700",style:{fontVariantNumeric:"tabular-nums"},children:"N/A"})]})});if(i)return(0,K.jsx)("div",{className:"flex items-center justify-center bg-white border border-gray-200 rounded-lg shadow-sm px-3 py-2 w-full sm:w-40",children:(0,K.jsxs)("div",{className:"flex flex-col items-center max-w-full",children:[(0,K.jsx)("div",{className:"text-xs text-blue-800 font-medium truncate",children:r}),(0,K.jsx)("div",{className:"text-sm font-semibold text-gray-500",style:{fontVariantNumeric:"tabular-nums"},children:"Passed"})]})});const c=Math.floor(o/1e3)%60,u=Math.floor(o/6e4)%60,d=Math.floor(o/36e5)%24,h=Math.floor(o/864e5),m=[];return h>0&&m.push("".concat(h,"d")),(d>0||h>0)&&m.push("".concat(d,"h")),m.push("".concat(String(u).padStart(2,"0"),"m")),m.push("".concat(String(c).padStart(2,"0"),"s")),(0,K.jsx)("div",{className:"flex items-center justify-center bg-white border border-gray-200 rounded-lg shadow-sm px-4 py-2 w-full sm:w-40 ".concat(l?"ring-1 ring-yellow-200":""),children:(0,K.jsxs)("div",{className:"flex flex-col items-center max-w-full",children:[(0,K.jsx)("div",{className:"text-xs text-blue-800 font-medium truncate",children:r}),(0,K.jsx)("div",{className:"text-sm font-semibold ".concat(l?"text-yellow-700":"text-gray-800"),style:{fontVariantNumeric:"tabular-nums"},children:m.join(" ")})]})})},_=(0,t.useMemo)(()=>h?new Date(h):null,[h]),P=(0,t.useMemo)(()=>m?new Date(m):null,[m]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("style",{children:"\n                @keyframes scroll {\n                    0% { transform: translateX(0%); }\n                    100% { transform: translateX(-50%); }\n                }\n                /* baseline speed: slightly faster */\n                .animate-scroll {\n                    animation: scroll 28s linear infinite;\n                }\n                /* reverse direction for the second row */\n                .animate-scroll-reverse {\n                    animation: scroll 28s linear infinite reverse;\n                }\n                /* slower animation for matchups ticker */\n                .animate-scroll-slow {\n                    animation: scroll 90s linear infinite;\n                }\n\n                /* Mobile: speed up trending tickers but keep matchups comfortable */\n                @media (max-width: 640px) {\n                    .animate-scroll, .animate-scroll-reverse {\n                        animation-duration: 18s;\n                    }\n                    .animate-scroll-slow {\n                        animation-duration: 40s;\n                    }\n                }\n            "}),(0,K.jsxs)(HF,{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[(0,K.jsxs)("div",{className:"text-center px-2",children:[(0,K.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mb-2",children:"TLOED Dashboard"}),(0,K.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:[l?"".concat(l," Season"):"Fantasy Football League",null!==c&&void 0!==c&&c.week?" \u2022 Week ".concat(c.week):""]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[(0,K.jsx)("div",{className:"xl:col-span-3",children:(0,K.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-2 px-2",children:[(0,K.jsx)(k,{targetDate:_,label:"Trade Deadline"}),(0,K.jsx)(k,{targetDate:P,label:"Draft"})]})}),(0,K.jsx)("div",{className:"xl:col-span-3",children:(0,K.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[(0,K.jsxs)("div",{className:"flex items-center py-2 px-4 bg-gray-50 border-b border-gray-200",children:[(0,K.jsx)("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,K.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Week ",(null===c||void 0===c?void 0:c.week)||1," Matchups"]})]}),(0,K.jsx)("div",{className:"relative h-20 overflow-hidden",children:(0,K.jsx)("div",{className:"absolute whitespace-nowrap flex items-center h-full animate-scroll-slow",children:b.length>0?(0,K.jsxs)(K.Fragment,{children:[b.map((e,t)=>{var n,r;const a=Number(e.team1.score||0),s=Number(e.team2.score||0),o=0===a&&0===s,i=(localStorage.getItem("gameOfWeek:v1")&&(null===(n=JSON.parse(localStorage.getItem("gameOfWeek:v1")||"{}")[l])||void 0===n?void 0:n[String(null===c||void 0===c?void 0:c.week)]))===String(e.matchupId)||String(null===c||void 0===c?void 0:c.week)===String(e.week)&&(()=>{try{if(!d)return!1;const t=(null===d||void 0===d?void 0:d[l])||{},n=Object.values(t).map(e=>{var t;return Number(null!==(t=null===e||void 0===e?void 0:e.dpr)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),r=Object.values(t).map(e=>{var t,n;return Number(null!==(t=null!==(n=null===e||void 0===e?void 0:e.averageScore)&&void 0!==n?n:null===e||void 0===e?void 0:e.avgPerGame)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),a=n.length?Math.min(...n):0,s=n.length?Math.max(...n):1,o=r.length?Math.min(...r):0,i=r.length?Math.max(...r):1,c=(e,t,n)=>n===t?.5:(e-t)/(n-t);let u=null,h=-1/0;return b.forEach(e=>{var n,r,l,d,m,f;const p=String(e.team1RosterId),g=String(e.team2RosterId),y=t[p]||{},v=t[g]||{},x=Number(null!==(n=y.dpr)&&void 0!==n?n:0),b=Number(null!==(r=v.dpr)&&void 0!==r?r:0),w=Number(null!==(l=null!==(d=y.averageScore)&&void 0!==d?d:y.avgPerGame)&&void 0!==l?l:0),j=Number(null!==(m=null!==(f=v.averageScore)&&void 0!==f?f:v.avgPerGame)&&void 0!==m?m:0),S=.6*c(x,a,s)+.4*c(w,o,i),N=.6*c(b,a,s)+.4*c(j,o,i),k=(.55*(S+N>0?2*S*N/(S+N):0)+.3*(1/(1+Math.abs(x-b)))+.15*(1/(1+Math.abs(w-j)/10)))*(.6+.4*Math.min(S,N));k>h&&(h=k,u=e.matchupId)}),String(u)===String(e.matchupId)}catch(VB){return!1}})(),u=(i&&e.matchupId,(localStorage.getItem("friskyGame:v1")&&(null===(r=JSON.parse(localStorage.getItem("friskyGame:v1")||"{}")[l])||void 0===r?void 0:r[String(null===c||void 0===c?void 0:c.week)]))===String(e.matchupId)||String(null===c||void 0===c?void 0:c.week)===String(e.week)&&(()=>{try{var t;const n=i?e.matchupId:null===(t=b.find(e=>{var t;const n=localStorage.getItem("gameOfWeek:v1")&&(null===(t=JSON.parse(localStorage.getItem("gameOfWeek:v1")||"{}")[l])||void 0===t?void 0:t[String(null===c||void 0===c?void 0:c.week)]);return!!n&&String(n)===String(e.matchupId)}))||void 0===t?void 0:t.matchupId,r=j(b,n);return String(r)===String(e.matchupId)}catch(VB){return!1}})());return(0,K.jsx)("div",{className:"mx-6 rounded-lg px-4 py-3 min-w-[260px] ".concat(i?"ring-4 ring-yellow-400 ring-opacity-60 bg-yellow-50 border-yellow-300":u?"ring-4 ring-purple-400 ring-opacity-60 bg-purple-50 border-purple-300":"bg-gray-50 border border-gray-200"),children:o?(0,K.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,K.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,K.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,K.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:a>0?(0,K.jsx)("div",{className:"text-sm font-bold text-gray-800",children:XM(a)}):(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,K.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]}),(0,K.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:s>0?(0,K.jsx)("div",{className:"text-sm font-bold text-gray-800",children:XM(s)}):(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"first-".concat(t))}),b.map((e,t)=>{var n,r;const a=Number(e.team1.score||0),s=Number(e.team2.score||0),o=0===a&&0===s,i=(localStorage.getItem("gameOfWeek:v1")&&(null===(n=JSON.parse(localStorage.getItem("gameOfWeek:v1")||"{}")[l])||void 0===n?void 0:n[String(null===c||void 0===c?void 0:c.week)]))===String(e.matchupId)||String(null===c||void 0===c?void 0:c.week)===String(e.week)&&(()=>{try{if(!d)return!1;const t=(null===d||void 0===d?void 0:d[l])||{},n=Object.values(t).map(e=>{var t;return Number(null!==(t=null===e||void 0===e?void 0:e.dpr)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),r=Object.values(t).map(e=>{var t,n;return Number(null!==(t=null!==(n=null===e||void 0===e?void 0:e.averageScore)&&void 0!==n?n:null===e||void 0===e?void 0:e.avgPerGame)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),a=n.length?Math.min(...n):0,s=n.length?Math.max(...n):1,o=r.length?Math.min(...r):0,i=r.length?Math.max(...r):1,c=(e,t,n)=>n===t?.5:(e-t)/(n-t);let u=null,h=-1/0;return b.forEach(e=>{var n,r,l,d,m,f;const p=String(e.team1RosterId),g=String(e.team2RosterId),y=t[p]||{},v=t[g]||{},x=Number(null!==(n=y.dpr)&&void 0!==n?n:0),b=Number(null!==(r=v.dpr)&&void 0!==r?r:0),w=Number(null!==(l=null!==(d=y.averageScore)&&void 0!==d?d:y.avgPerGame)&&void 0!==l?l:0),j=Number(null!==(m=null!==(f=v.averageScore)&&void 0!==f?f:v.avgPerGame)&&void 0!==m?m:0),S=.6*c(x,a,s)+.4*c(w,o,i),N=.6*c(b,a,s)+.4*c(j,o,i),k=(.55*(S+N>0?2*S*N/(S+N):0)+.3*(1/(1+Math.abs(x-b)))+.15*(1/(1+Math.abs(w-j)/10)))*(.6+.4*Math.min(S,N));k>h&&(h=k,u=e.matchupId)}),String(u)===String(e.matchupId)}catch(VB){return!1}})(),u=(i&&e.matchupId,(localStorage.getItem("friskyGame:v1")&&(null===(r=JSON.parse(localStorage.getItem("friskyGame:v1")||"{}")[l])||void 0===r?void 0:r[String(null===c||void 0===c?void 0:c.week)]))===String(e.matchupId)||String(null===c||void 0===c?void 0:c.week)===String(e.week)&&(()=>{try{var t;const n=i?e.matchupId:null===(t=b.find(e=>{var t;const n=localStorage.getItem("gameOfWeek:v1")&&(null===(t=JSON.parse(localStorage.getItem("gameOfWeek:v1")||"{}")[l])||void 0===t?void 0:t[String(null===c||void 0===c?void 0:c.week)]);return!!n&&String(n)===String(e.matchupId)}))||void 0===t?void 0:t.matchupId,r=j(b,n);return String(r)===String(e.matchupId)}catch(VB){return!1}})());return(0,K.jsx)("div",{className:"mx-6 rounded-lg px-4 py-3 min-w-[260px] ".concat(i?"ring-4 ring-yellow-400 ring-opacity-60 bg-yellow-50 border-yellow-300":u?"ring-4 ring-purple-400 ring-opacity-60 bg-purple-50 border-purple-300":"bg-gray-50 border border-gray-200"),children:o?(0,K.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,K.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,K.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team1.name})]}),(0,K.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:a>0?(0,K.jsx)("div",{className:"text-sm font-bold text-gray-800",children:XM(a)}):(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,K.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team2.name})]}),(0,K.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:s>0?(0,K.jsx)("div",{className:"text-sm font-bold text-gray-800",children:XM(s)}):(0,K.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"second-".concat(t))})]}):(0,K.jsx)("div",{className:"text-sm text-gray-500 mx-4",children:"No matchups available for this week"})})})]})})]}),(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-lg mobile-card",children:(0,K.jsx)(rD,{})}),(0,K.jsx)(VF,{}),(0,K.jsx)(zF,{}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-3 sm:p-4 mb-4",children:[(0,K.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2 px-1",children:"Trending (last 24h)"}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)("div",{className:"relative overflow-hidden",children:f.loading?(0,K.jsx)("div",{className:"p-2 text-sm text-gray-500",children:"Loading adds\u2026"}):0===f.added.length?(0,K.jsx)("div",{className:"p-2 text-sm text-gray-500",children:"No recent adds"}):(()=>{const e=f.added.map((e,t)=>{var n;const r=null===s||void 0===s?void 0:s[e.id],a=r?"".concat(r.first_name," ").concat(r.last_name):e.id,o=(null===(n=e.raw)||void 0===n?void 0:n.count)||null,i=r?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e.id,".jpg"):null;return(0,K.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-green-50 border border-green-200 rounded-full px-2 py-1",style:{minWidth:i?160:120},children:[i?(0,K.jsx)("img",{src:i,alt:a,className:"w-6 h-6 rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,K.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-200 flex items-center justify-center text-xs font-medium text-green-800",children:r&&r.first_name?r.first_name[0]:"?"}),(0,K.jsxs)("div",{className:"flex flex-col items-start min-w-0 max-w-[180px] whitespace-normal break-words",children:[(0,K.jsx)("div",{className:"text-xs text-gray-800 font-medium",children:a}),(0,K.jsx)("div",{className:"text-[11px] text-green-700 font-semibold mt-0.5",children:o?"+".concat(g(o)):""})]})]},"add-".concat(e.id,"-").concat(t))}),t=[...e,...e];return(0,K.jsx)("div",{className:"whitespace-nowrap flex items-center gap-3 animate-scroll",style:{padding:"6px 8px"},children:t})})()}),(0,K.jsx)("div",{className:"relative overflow-hidden",children:f.loading?(0,K.jsx)("div",{className:"p-2 text-sm text-gray-500",children:"Loading drops\u2026"}):0===f.dropped.length?(0,K.jsx)("div",{className:"p-2 text-sm text-gray-500",children:"No recent drops"}):(()=>{const e=f.dropped.slice().reverse().map((e,t)=>{var n;const r=null===s||void 0===s?void 0:s[e.id],a=r?"".concat(r.first_name," ").concat(r.last_name):e.id,o=(null===(n=e.raw)||void 0===n?void 0:n.count)||null,i=r?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e.id,".jpg"):null;return(0,K.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-red-50 border border-red-200 rounded-full px-2 py-1",style:{minWidth:i?160:120},children:[i?(0,K.jsx)("img",{src:i,alt:a,className:"w-6 h-6 rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,K.jsx)("div",{className:"w-6 h-6 rounded-full bg-red-200 flex items-center justify-center text-xs font-medium text-red-800",children:r&&r.first_name?r.first_name[0]:"?"}),(0,K.jsxs)("div",{className:"flex flex-col items-start min-w-0 max-w-[180px] whitespace-normal break-words",children:[(0,K.jsx)("div",{className:"text-xs text-gray-800 font-medium",children:a}),(0,K.jsx)("div",{className:"text-[11px] text-red-700 font-semibold mt-0.5",children:o?"-".concat(g(o)):""})]})]},"drop-".concat(e.id,"-").concat(t))}),t=[...e,...e];return(0,K.jsx)("div",{className:"whitespace-nowrap flex items-center gap-3 animate-scroll-reverse",style:{padding:"6px 8px"},children:t})})()})]})]}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,K.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),(0,K.jsx)("span",{className:"mobile-text-lg",children:"Recent Transactions"})]}),(0,K.jsx)("div",{className:"space-y-2",children:S.length>0?S.map((e,t)=>(0,K.jsxs)("div",{className:"bg-gray-50 border rounded-lg hover:bg-gray-100 transition-colors",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-800",children:N(e.type)}),(0,K.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat("complete"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.created.toLocaleDateString()," \u2022 ",e.created.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),"trade"===e.type&&e.tradeDetails?(0,K.jsxs)("div",{className:"px-3 pb-3",children:[e.tradeDetails.map((e,t)=>(0,K.jsxs)("div",{className:"".concat(t>0?"border-t border-gray-200 pt-3 mt-3":""),children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,K.jsx)("img",{src:e.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.name,className:"w-6 h-6 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("h4",{className:"font-medium text-gray-800 text-sm",children:e.name})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.sends&&e.sends.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),(0,K.jsx)("span",{className:"font-medium text-red-700 text-xs",children:"Sends"})]}),(0,K.jsx)("div",{className:"space-y-1",children:e.sends.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center space-x-2 bg-red-50 rounded p-1.5",children:[(0,K.jsx)("img",{src:e.headshot,alt:e.name,className:"w-6 h-6 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-xs truncate",children:e.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]}),e.receives&&e.receives.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),(0,K.jsx)("span",{className:"font-medium text-green-700 text-xs",children:"Receives"})]}),(0,K.jsx)("div",{className:"space-y-1",children:e.receives.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 rounded p-1.5",children:[(0,K.jsx)("img",{src:e.headshot,alt:e.name,className:"w-6 h-6 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-xs truncate",children:e.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]}),e.sentPicks&&e.sentPicks.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),(0,K.jsx)("span",{className:"font-medium text-blue-700 text-xs",children:"Picks Sent"})]}),(0,K.jsx)("div",{className:"flex flex-wrap gap-1",children:e.sentPicks.map((e,t)=>(0,K.jsx)("div",{className:"bg-blue-50 rounded px-2 py-1 text-xs",children:(0,K.jsxs)("span",{className:"font-medium text-blue-800",children:[e.season," R",e.round]})},t))})]}),e.receivedPicks&&e.receivedPicks.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),(0,K.jsx)("span",{className:"font-medium text-purple-700 text-xs",children:"Picks Received"})]}),(0,K.jsx)("div",{className:"flex flex-wrap gap-1",children:e.receivedPicks.map((e,t)=>(0,K.jsx)("div",{className:"bg-purple-50 rounded px-2 py-1 text-xs",children:(0,K.jsxs)("span",{className:"font-medium text-purple-800",children:[e.season," R",e.round]})},t))})]})]})]},t)),(t=>{const n=v(e.waiver_budget||(null===(t=e.metadata)||void 0===t?void 0:t.waiver_budget)||[]);if(!n||0===n.length)return null;const r=n.some(e=>"sender"in e||"receiver"in e),a=n.reduce((e,t)=>e+(Number(t.amount)||0),0);return(0,K.jsxs)("div",{className:"mt-3 text-xs text-gray-600",children:[(0,K.jsxs)("div",{className:"font-medium text-gray-800",children:["FAAB Transferred: ",(0,K.jsx)("span",{className:"text-sm text-gray-700",children:y(a)})]}),(0,K.jsx)("div",{className:"mt-1 grid grid-cols-1 gap-1 text-xs text-gray-600",children:r?n.map((e,t)=>(0,K.jsxs)("div",{children:[e.sender?"Roster ".concat(e.sender):"Sender"," \u2192 ",e.receiver?"Roster ".concat(e.receiver):"Receiver",": ",y(e.amount)]},t)):n.map((e,t)=>(0,K.jsxs)("div",{children:[e.roster_id?"Roster ".concat(e.roster_id):"Bid",": ",y(e.amount)]},t))})]})})()]}):(0,K.jsxs)("div",{className:"px-3 pb-3",children:[e.teamDetails&&e.teamDetails.length>0&&(0,K.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,K.jsx)("img",{src:e.teamDetails[0].avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.teamDetails[0].name,className:"w-6 h-6 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("h4",{className:"font-medium text-gray-800 text-sm",children:e.teamDetails[0].name})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.addedPlayers.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,K.jsx)("span",{className:"font-medium text-green-700 text-xs",children:"Added"})]}),(0,K.jsx)("div",{className:"space-y-1",children:e.addedPlayers.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 rounded p-1.5 border border-green-200",children:[(0,K.jsx)("img",{src:e.headshot,alt:e.name,className:"w-6 h-6 rounded-full border border-green-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-xs truncate",children:e.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]}),e.droppedPlayers.length>0&&(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,K.jsx)("svg",{className:"w-3 h-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})}),(0,K.jsx)("span",{className:"font-medium text-red-700 text-xs",children:"Dropped"})]}),(0,K.jsx)("div",{className:"space-y-1",children:e.droppedPlayers.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center space-x-2 bg-red-50 rounded p-1.5 border border-red-200",children:[(0,K.jsx)("img",{src:e.headshot,alt:e.name,className:"w-6 h-6 rounded-full border border-red-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-xs truncate",children:e.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]})]}),(t=>{const n=v(e.waiver_budget||(null===(t=e.metadata)||void 0===t?void 0:t.waiver_budget)||[]);if(!n||0===n.length)return null;const r=n.reduce((e,t)=>e+(Number(t.amount)||0),0);return(0,K.jsxs)("div",{className:"mt-3 text-xs text-gray-600",children:[(0,K.jsxs)("div",{className:"font-medium text-gray-800",children:["FAAB Spent: ",(0,K.jsx)("span",{className:"text-sm text-gray-700",children:y(r)})]}),(0,K.jsx)("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 gap-1",children:n.map((e,t)=>(0,K.jsx)("div",{className:"text-xs text-gray-600",children:e.sender||e.receiver?"".concat(e.sender?"Roster ".concat(e.sender):"Sender"," \u2192 ").concat(e.receiver?"Roster ".concat(e.receiver):"Receiver",": ").concat(y(e.amount)):"".concat(e.roster_id?"Roster ".concat(e.roster_id):"Bid",": ").concat(y(e.amount))},t))})]})})()]})]},e.id)):(0,K.jsx)("div",{className:"text-center text-gray-500 py-8 text-base",children:"No recent transactions"})})]})]})]})},qF=e=>{let{selectedTeamName:n}=e;const{loading:r,error:a,careerDPRData:s,getTeamName:o}=J(),[i,l]=(0,t.useState)(""),[c,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!r&&!a&&s){const e=s.map(e=>o(e.ownerId,null)).filter(e=>e&&!e.startsWith("Unknown Team (ID:")).sort((e,t)=>e.localeCompare(t));u(e),e.length>0&&(n&&e.includes(n)?l(n):i||l(e[0]))}},[r,a,s,o,n,i]);return r?(0,K.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"Loading league data for teams..."}):a?(0,K.jsxs)("div",{className:"w-full p-8 text-center text-red-500 font-semibold",children:["Error loading league data: ",a.message||String(a)]}):0===c.length?(0,K.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"No teams found or data is not yet available."}):(0,K.jsxs)("div",{className:"mx-2 sm:mx-auto p-2 sm:p-4",children:[(0,K.jsxs)("div",{className:"mb-6 text-center",children:[(0,K.jsx)("label",{htmlFor:"team-select",className:"block text-lg font-medium text-gray-700 mb-2",children:"Select a Team:"}),(0,K.jsx)("select",{id:"team-select",value:i,onChange:e=>{l(e.target.value)},className:"mt-1 block w-full md:w-1/2 lg:w-1/3 mx-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm",children:c.map(e=>(0,K.jsx)("option",{value:e,children:e},e))})]}),i&&(0,K.jsx)(bD,{teamName:i})]})},KF=()=>{var e,n;const{loading:r,error:a,historicalData:o,getTeamName:i,getTeamDetails:l,currentSeason:c,nflState:u}=J(),[d,h]=(0,t.useState)(null),[m,f]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)("N/A"),[x,b]=(0,t.useState)("N/A"),[w,j]=(0,t.useState)("N/A"),[S,N]=(0,t.useState)("N/A"),[k,_]=(0,t.useState)(""),[P,A]=(0,t.useState)([]),{seasonalMetrics:E,careerDPRData:O}=(0,t.useMemo)(()=>!o||!u||r||a?{seasonalMetrics:{},careerDPRData:[]}:s(o,0,i,u),[o,u,r,a,i]);if((0,t.useEffect)(()=>{if(!r&&!a&&o){const e=new Set;E&&Object.keys(E).length>0?Object.keys(E).forEach(t=>e.add(Number(t))):(o.matchupsBySeason&&Object.keys(o.matchupsBySeason).forEach(t=>e.add(Number(t))),o.seasonAwardsSummary&&Object.keys(o.seasonAwardsSummary).forEach(t=>e.add(Number(t))),o.winnersBracketBySeason&&Object.keys(o.winnersBracketBySeason).forEach(t=>e.add(Number(t))));const t=Array.from(e).sort((e,t)=>t-e);if(f(t),t.length>0){const e=c&&t.includes(Number(c))?Number(c):t[0];h(e)}}},[r,a,o,E,c]),(0,t.useEffect)(()=>{if(d&&o&&E[d]){const e=E[d],t=o.rostersBySeason[d];if(!e||!t)return g([]),v("N/A"),b("N/A"),void j("N/A");const n=Object.values(e).map(e=>({teamName:e.teamName,wins:e.wins,losses:e.losses,ties:e.ties,pointsFor:e.pointsFor,pointsAgainst:e.pointsAgainst,rosterId:e.rosterId,ownerId:e.ownerId})).sort((e,t)=>t.wins!==e.wins?t.wins-e.wins:e.losses!==t.losses?e.losses-t.losses:t.pointsFor-e.pointsFor);g(n);let r="N/A",a="N/A",s="N/A";if(o.winnersBracketBySeason&&o.winnersBracketBySeason[d]){const e=o.winnersBracketBySeason[d],n=e.find(e=>1===e.p&&e.w&&e.l);if(n){const e=String(n.w).trim(),s=String(n.l).trim(),o=t.find(t=>String(t.roster_id)===e),l=t.find(e=>String(e.roster_id)===s);o&&o.owner_id&&(r=i(o.owner_id,d)),l&&l.owner_id&&(a=i(l.owner_id,d))}const l=e.find(e=>3===e.p&&e.w);if(l){const e=String(l.w).trim(),n=t.find(t=>String(t.roster_id)===e);n&&n.owner_id&&(s=i(n.owner_id,d))}}if("N/A"===r&&o.seasonAwardsSummary&&o.seasonAwardsSummary[d]){const e=o.seasonAwardsSummary[d];if(e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()){const t=e.champion.trim(),n=i(t,d);r="Unknown Team"!==n?n:t}}if("N/A"===r&&o.awardsSummary&&o.awardsSummary[d]){const e=o.awardsSummary[d],t=e.champion||e.Champion;if(t&&"N/A"!==t&&""!==String(t).trim()){const e=String(t).trim(),n=i(e,d);r="Unknown Team"!==n?n:e}}v(r),b(a),j(s)}else d||(g([]),v("N/A"),b("N/A"),j("N/A"))},[d,o,E,i]),r)return(0,K.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,K.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,K.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,K.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading season data..."})]})});if(a)return(0,K.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,K.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,K.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,K.jsxs)("p",{className:"text-base",children:["Failed to load season data: ",a.message||String(a)]})]})});const I=e=>{const t=p.find(t=>String(t.rosterId)===String(e));return t?t.teamName:"Unknown"},T=e=>{if("number"===typeof e&&!isNaN(e)){const t=e.toFixed(3);return e<1?t.replace(/^0/,""):t}return"N/A"};let C=null;if(d&&E[d]){const e=Object.values(E[d]),t=e.reduce((e,t)=>e.pointsFor>t.pointsFor?e:t,{}),n=e.find(e=>e.isRegularSeasonChampion)||e.reduce((e,t)=>e.wins>t.wins?e:t,{}),r=e.reduce((e,t)=>e.wins>t.wins?e:t,{}),a=e.reduce((e,t)=>e.luckRating>t.luckRating?e:t,{}),s=e.reduce((e,t)=>e.luckRating<t.luckRating?e:t,{}),i=e.reduce((e,t)=>e.allPlayWinPercentage>t.allPlayWinPercentage?e:t,{}),l=e.reduce((e,t)=>e.blowoutWins>t.blowoutWins?e:t,{}),c=e.reduce((e,t)=>e.slimWins>t.slimWins?e:t,{}),u=e.reduce((e,t)=>e.topScoreWeeksCount>t.topScoreWeeksCount?e:t,{});let h={score:-1/0,team:null,week:null},m={score:1/0,team:null,week:null};o.matchupsBySeason&&o.matchupsBySeason[d]&&o.matchupsBySeason[d].forEach(e=>{"number"===typeof e.team1_score&&e.team1_score>h.score&&(h={score:e.team1_score,team:I(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>h.score&&(h={score:e.team2_score,team:I(e.team2_roster_id),week:e.week}),"number"===typeof e.team1_score&&e.team1_score>0&&e.team1_score<m.score&&(m={score:e.team1_score,team:I(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>0&&e.team2_score<m.score&&(m={score:e.team2_score,team:I(e.team2_roster_id),week:e.week})}),m.score===1/0&&(m={score:"N/A",team:"N/A",week:"N/A"}),C={pointsChampion:t,regularSeasonChampion:n,bestRecord:r,luckiest:a,unluckiest:s,allPlayChamp:i,blowoutKing:l,slimMaster:c,topScorer:u,highestWeek:h,lowestWeek:m}}const{allPlayStandings:M,weeklyPointsMap:D,scheduleMap:R}=(0,t.useMemo)(()=>{var e;const t={allPlayStandings:[],weeklyPointsMap:{},scheduleMap:{}};if(!d||!o||!o.matchupsBySeason||!o.matchupsBySeason[d])return t;const n=o.matchupsBySeason[d]||[],r=[],a=new Set;n.forEach(e=>{const t=String(e.week),n=String(e.team1_roster_id),s=String(e.team2_roster_id);if(n===s)return;const o="".concat(t,":").concat([n,s].sort().join("-"));a.has(o)||(a.add(o),r.push(e))});const s=(null===(e=o.rostersBySeason)||void 0===e?void 0:e[d])||[],l=s.map(e=>String(e.roster_id)),h=new Set(l),m={},f={};s.forEach(e=>{const t=String(e.roster_id);m[t]=e.owner_id,f[t]=i?i(e.owner_id,d):e.team_name||"Roster ".concat(t)});const p={},g={},y={},v=[];l.forEach(e=>{p[e]={},g[e]={},y[e]=0}),r.forEach(e=>{const t=Number(e.week);if(isNaN(t)||t<1||t>14)return;const n="number"===typeof e.team1_score&&!isNaN(e.team1_score),r="number"===typeof e.team2_score&&!isNaN(e.team2_score);if(!n||!r)return;const a=String(t),s=String(e.team1_roster_id),o=String(e.team2_roster_id),i=Number(e.team1_score),l=Number(e.team2_score);h.has(s)&&(p[s][a]=i),h.has(o)&&(p[o][a]=l),h.has(s)&&(g[s][a]={opponentId:o,opponentPoints:l}),h.has(o)&&(g[o][a]={opponentId:s,opponentPoints:i}),h.has(s)&&h.has(o)&&i===l&&(y[s]=(y[s]||0)+1,y[o]=(y[o]||0)+1,v.push({week:a,roster1:s,roster2:o,score:i}))});const x={};l.forEach(e=>{x[e]={wins:0,losses:0,ties:0,pointsFor:0}});const b=new Set;l.forEach(e=>{Object.keys(p[e]||{}).forEach(e=>{const t=Number(e);!isNaN(t)&&t>=1&&t<=14&&b.add(String(t))})});const w=Array.from(b).sort((e,t)=>Number(e)-Number(t)),j=w.filter(e=>l.every(t=>p[t]&&Object.prototype.hasOwnProperty.call(p[t],e)));let S=j;const N=u&&u.week?Number(u.week):null;Number(d)===Number(c)&&N&&!isNaN(N)&&(S=S.filter(e=>Number(e)<N)),S.forEach(e=>{const t=l.map(t=>{var n;return{rid:t,pts:null!==(n=p[t][e])&&void 0!==n?n:0}});t.forEach(e=>{const n=e.pts;let r=0,a=0,s=0;t.forEach(t=>{t.rid!==e.rid&&(n>t.pts?r++:n<t.pts?a++:s++)}),x[e.rid].wins+=r,x[e.rid].losses+=a,x[e.rid].ties+=s,x[e.rid].pointsFor+=n})});const k=v.filter(e=>S.includes(String(e.week))),_={};l.forEach(e=>{_[e]=0}),k.forEach(e=>{h.has(e.roster1)&&(_[e.roster1]=(_[e.roster1]||0)+1),h.has(e.roster2)&&(_[e.roster2]=(_[e.roster2]||0)+1)});const P=l.map(e=>{const t=f[e]||I(e)||e,n=x[e],r=n.wins+n.losses+n.ties,a=r>0?(n.wins+.5*n.ties)/r:0,s=S.length||14,o=_[e]||0,i=Math.max(0,Math.min(o,s));return{rosterId:e,teamName:t,wins:n.wins,losses:n.losses,ties:i,pointsFor:n.pointsFor,pct:a}}).sort((e,t)=>t.pct-e.pct||t.pointsFor-e.pointsFor);return t.allPlayStandings=P,t.weeklyPointsMap=p,t.scheduleMap=g,t.headToHeadTies=_,t.weeksUsed=S,t.tieMatchups=k,t},[d,o,u,i,p,c]);(0,t.useEffect)(()=>{var e;if(!d||!o)return void N("N/A");if(String(d)===String(c))return void N("N/A");const t=(null===(e=o.rostersBySeason)||void 0===e?void 0:e[d])||[];if(!t||0===t.length)return void N("N/A");const n={};t.forEach(e=>{n[String(e.roster_id)]=e.owner_id});const r=new Set(Object.values(n)),a=new Set,s=t.map(e=>String(e.roster_id)),l=new Set;s.forEach(e=>{const t=(null===D||void 0===D?void 0:D[e])||{};Object.keys(t).forEach(e=>l.add(e))});const u=Array.from(l).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t);for(const o of u){if(r.size<=1)break;const e=[];s.forEach(t=>{var s;const i=n[t];if(!r.has(i)||a.has(i))return;const l=null===D||void 0===D||null===(s=D[t])||void 0===s?void 0:s[String(o)];"number"!==typeof l||isNaN(l)||e.push({ownerId:i,pts:l})});const t=new Set(e.map(e=>e.ownerId));if(t.size<r.size)continue;let i=1/0;e.forEach(e=>{e.pts<i&&(i=e.pts)});const l=e.filter(e=>e.pts===i).map(e=>e.ownerId);if(0===l.length)continue;l.sort();const c=l[0];a.add(c),r.delete(c)}let h="N/A";if(1===r.size){const e=Array.from(r)[0];h=i?i(e,d):String(e)}N(h)},[d,o,D,i,c]);const L=(0,t.useCallback)((e,t)=>{if(!e||!t)return null;const n=R[t]?Object.keys(R[t]):[];let r=0,a=0,s=0,o=0,i=0,l=0;const h=u&&u.week?Number(u.week):null,m=Number(d)===Number(c);n.forEach(n=>{var c,u,d,f;const p=Number(n);if(m&&!isNaN(h)&&h&&p>=h)return;const g=R[t][n];if(g&&String(g.opponentId)===String(e))return;const y=null===(c=D[e])||void 0===c?void 0:c[n],v=g&&null!==(u=null!==(d=null===(f=D[g.opponentId])||void 0===f?void 0:f[n])&&void 0!==d?d:g.opponentPoints)&&void 0!==u?u:null,x="number"===typeof y&&!isNaN(y),b="number"===typeof v&&!isNaN(v);x&&b&&(o+=y,i+=v,l++,y>v?r++:y<v?a++:s++)});const f=r+a+s;return{wins:r,losses:a,ties:s,pointsFor:o,pointsAgainst:i,pct:f>0?(r+.5*s)/f:0,totalWeeks:l}},[D,R,u,d,c]),F="N/A"!==y||"N/A"!==x||"N/A"!==w,B=(p.some(e=>e.ties&&e.ties>0),(M||[]).some(e=>e.ties&&e.ties>0));return(0,K.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Season Breakdown"}),(0,K.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,K.jsx)("label",{htmlFor:"season-select",className:"text-lg font-semibold text-gray-700",children:"Select Season:"}),(0,K.jsxs)("select",{id:"season-select",value:d||"",onChange:e=>h(Number(e.target.value)),className:"p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-800 text-lg",children:[0===m.length&&(0,K.jsx)("option",{value:"",children:"No Seasons Available"}),m.map(e=>(0,K.jsx)("option",{value:e,children:e},e))]})]}),d&&(0,K.jsxs)("div",{className:"mt-8",children:[(0,K.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-20 text-center",children:[d," Season Summary"]}),F&&(0,K.jsxs)("div",{className:"relative flex flex-col sm:flex-row sm:justify-center sm:items-end gap-2 md:gap-4 mb-8",children:["N/A"!==y&&(0,K.jsxs)("div",{className:"order-1 sm:order-none relative flex flex-col items-center justify-center bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-lg shadow-lg p-3 sm:p-6 sm:w-1/3 text-center transition-all duration-300 hover:scale-102",children:[(0,K.jsx)("div",{className:"mb-2 sm:mb-4 text-5xl sm:text-7xl",children:"\ud83c\udfc6"}),(0,K.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-white",children:"SWEEN BOWL CHAMPION"}),(0,K.jsx)("p",{className:"text-sm sm:text-lg font-semibold text-white truncate max-w-[220px]",children:y})]}),"N/A"!==x&&(0,K.jsxs)("div",{className:"order-2 sm:order-none relative flex flex-col items-center justify-center bg-gray-300 rounded-lg shadow-lg p-3 sm:p-4 sm:w-1/4 text-center transition-all duration-300 hover:scale-102",children:[(0,K.jsx)("div",{className:"mb-2 sm:mb-4 text-4xl sm:text-5xl text-gray-500",children:"\ud83e\udd48"}),(0,K.jsx)("span",{className:"text-lg sm:text-xl font-bold text-gray-700",children:"2nd Place"}),(0,K.jsx)("p",{className:"text-sm sm:text-base font-semibold text-gray-800 truncate max-w-[180px]",children:x})]}),"N/A"!==w&&(0,K.jsxs)("div",{className:"order-3 sm:order-none relative flex flex-col items-center justify-center bg-amber-700 rounded-lg shadow-lg p-3 sm:p-4 sm:w-1/4 text-center text-white transition-all duration-300 hover:scale-102",children:[(0,K.jsx)("div",{className:"mb-2 sm:mb-4 text-4xl sm:text-5xl text-amber-800",children:"\ud83e\udd49"}),(0,K.jsx)("span",{className:"text-lg sm:text-xl font-bold",children:"3rd Place"}),(0,K.jsx)("p",{className:"text-sm sm:text-base font-semibold truncate max-w-[160px]",children:w})]})]}),d&&E[d]&&String(d)!==String(c)&&(()=>{const e=Object.values(E[d]||{}).slice().sort((e,t)=>(t.pointsFor||0)-(e.pointsFor||0)),t=e.slice(0,3),n=["bg-yellow-300","bg-gray-300","bg-amber-700 text-white"];return(0,K.jsx)("div",{className:"flex flex-wrap items-stretch justify-center gap-4 mb-8",children:t.map((e,t)=>(0,K.jsxs)("div",{className:"w-full sm:w-1/3 md:w-1/4 rounded-lg shadow-md p-4 flex flex-col items-center justify-center ".concat(n[t]),children:[(0,K.jsx)("div",{className:"text-3xl sm:text-4xl font-bold mb-2",children:0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":"\ud83e\udd49"}),(0,K.jsx)("div",{className:"font-semibold text-lg text-center truncate max-w-[220px]",children:e.teamName||i(e.ownerId,d)}),(0,K.jsxs)("div",{className:"text-sm text-gray-700 mt-1",children:[XM(Number(e.pointsFor||0),2)," pts"]})]},e.rosterId||t))})})(),C&&(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[String(d)!==String(c)&&(0,K.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-blue-700 mb-1",children:"Points Champion"}),(0,K.jsxs)("div",{children:[C.pointsChampion.teamName," (",XM(Number(null!==(e=C.pointsChampion.pointsFor)&&void 0!==e?e:0),2)," pts)"]})]}),String(d)!==String(c)&&(0,K.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-emerald-700 mb-1",children:"Regular Season Champion"}),(0,K.jsxs)("div",{children:[C.regularSeasonChampion.teamName," (",C.regularSeasonChampion.wins,"-",C.regularSeasonChampion.losses,"-",C.regularSeasonChampion.ties,")"]})]}),(0,K.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-green-700 mb-1",children:"Best Record"}),(0,K.jsxs)("div",{children:[C.bestRecord.teamName," (",C.bestRecord.wins,"-",C.bestRecord.losses,"-",C.bestRecord.ties,")"]})]}),(0,K.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-yellow-700 mb-1",children:"Luckiest Team"}),(0,K.jsxs)("div",{children:[C.luckiest.teamName," (","number"===typeof C.luckiest.luckRating?XM(C.luckiest.luckRating,3):"N/A",")"]})]}),(0,K.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-red-700 mb-1",children:"Unluckiest Team"}),(0,K.jsxs)("div",{children:[C.unluckiest.teamName," (","number"===typeof C.unluckiest.luckRating?XM(C.unluckiest.luckRating,3):"N/A",")"]})]}),(0,K.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-purple-700 mb-1",children:"All-Play Champion"}),(0,K.jsxs)("div",{children:[C.allPlayChamp.teamName," (",XM(null!==(n=100*C.allPlayChamp.allPlayWinPercentage)&&void 0!==n?n:0,1),"%)"]})]}),(0,K.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-pink-700 mb-1",children:"Blowout King"}),(0,K.jsxs)("div",{children:[C.blowoutKing.teamName," (",C.blowoutKing.blowoutWins," blowout wins)"]})]}),(0,K.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-orange-700 mb-1",children:"Slim Margin Master"}),(0,K.jsxs)("div",{children:[C.slimMaster.teamName," (",C.slimMaster.slimWins," slim wins)"]})]}),(0,K.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-indigo-700 mb-1",children:"Weekly Top Scorer"}),(0,K.jsxs)("div",{children:[C.topScorer.teamName," (",C.topScorer.topScoreWeeksCount," times)"]})]}),(0,K.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-teal-700 mb-1",children:"Highest Single-Week Score"}),(0,K.jsxs)("div",{children:[C.highestWeek.team," (",XM("number"===typeof C.highestWeek.score?C.highestWeek.score:NaN,2)," pts, Week ",C.highestWeek.week,")"]})]}),(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-gray-700 mb-1",children:"Lowest Single-Week Score"}),(0,K.jsxs)("div",{children:[C.lowestWeek.team," (",XM("number"===typeof C.lowestWeek.score?C.lowestWeek.score:NaN,2)," pts, Week ",C.lowestWeek.week,")"]})]}),(0,K.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow",children:[(0,K.jsx)("h4",{className:"font-bold text-green-700 mb-1",children:"Survivor Winner"}),(0,K.jsx)("div",{children:S})]})]}),(0,K.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Season Standings"}),p.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3",children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===E||void 0===E||null===(n=E[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,m=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,f="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?XM(c.luckRating,3):"N/A";return(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["Record: ",f," \u2022 DPR: ",u?XM(Number(u),3):"N/A"]})]})]}),(0,K.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,K.jsxs)("div",{children:["PF: ",XM(Number(h),2)]}),(0,K.jsxs)("div",{children:["PA: ",XM(Number(m),2)]}),(0,K.jsxs)("div",{children:["Luck: ",p]})]})]})},e.rosterId)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,K.jsx)("thead",{className:"bg-blue-50 sticky top-0 z-10",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Rank"}),(0,K.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Team"}),(0,K.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"DPR"}),(0,K.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Record"}),(0,K.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PF"}),(0,K.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PA"}),(0,K.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Luck"})]})}),(0,K.jsx)("tbody",{children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===E||void 0===E||null===(n=E[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,m=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,f="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?XM(c.luckRating,3):"N/A";return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-3 px-4 font-medium",children:t+1}),(0,K.jsx)("td",{className:"py-3 px-4",children:e.teamName}),(0,K.jsx)("td",{className:"py-3 px-4 text-center",children:u?XM(Number(u),3):"N/A"}),(0,K.jsx)("td",{className:"py-3 px-4 text-center",children:f}),(0,K.jsx)("td",{className:"py-3 px-4 text-center",children:XM(Number(h),2)}),(0,K.jsx)("td",{className:"py-3 px-4 text-center",children:XM(Number(m),2)}),(0,K.jsx)("td",{className:"py-3 px-4 text-center",children:p})]},e.rosterId)})})]})})]}):(0,K.jsx)("p",{className:"text-center text-gray-600",children:"No standings data available for this season."}),(0,K.jsxs)("div",{className:"mt-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"All-Play Standings"}),M&&M.length>0?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-3 mb-4",children:M.map((e,t)=>(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 border-l-4 border-purple-600",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["W/L: ",e.wins,"-",e.losses]})]})]}),(0,K.jsxs)("div",{className:"text-sm text-gray-600",children:["Pct: ",T(e.pct)]})]})},e.rosterId))}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mb-6",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,K.jsx)("thead",{className:"bg-purple-50 text-gray-700 uppercase text-sm",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-4 text-left",children:"Rank"}),(0,K.jsx)("th",{className:"py-2 px-4 text-left",children:"Team"}),(0,K.jsx)("th",{className:"py-2 px-4 text-center",children:"Wins"}),(0,K.jsx)("th",{className:"py-2 px-4 text-center",children:"Losses"}),B&&(0,K.jsx)("th",{className:"py-2 px-4 text-center",children:"Ties"}),(0,K.jsx)("th",{className:"py-2 px-4 text-center",children:"Pct"})]})}),(0,K.jsx)("tbody",{children:M.map((e,t)=>(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 px-4 font-semibold",children:t+1}),(0,K.jsx)("td",{className:"py-2 px-4",children:e.teamName}),(0,K.jsx)("td",{className:"py-2 px-4 text-center",children:e.wins}),(0,K.jsx)("td",{className:"py-2 px-4 text-center",children:e.losses}),B&&(0,K.jsx)("td",{className:"py-2 px-4 text-center",children:e.ties}),(0,K.jsx)("td",{className:"py-2 px-4 text-center",children:T(e.pct)})]},e.rosterId))})]})})]}):(0,K.jsx)("p",{className:"text-sm text-gray-500",children:"All-play data is not available for this season."}),(0,K.jsxs)("div",{className:"mt-4 bg-green-50 p-4 rounded-lg shadow",children:[(0,K.jsx)("h4",{className:"font-semibold mb-2",children:"Hypothetical Schedule"}),(0,K.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select a subject team below to simulate hypothetical W/L results against each other team's schedules."}),(0,K.jsxs)("div",{className:"mb-3",children:[(0,K.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Subject Team"}),(0,K.jsxs)("select",{className:"w-full p-2 border rounded",value:k,onChange:e=>_(e.target.value),children:[(0,K.jsx)("option",{value:"",children:"Select team"}),M.map(e=>(0,K.jsx)("option",{value:e.rosterId,children:e.teamName},e.rosterId))]})]}),(0,K.jsx)("div",{id:"hypo-results",children:k?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"sm:hidden space-y-2 mt-3",children:M.filter(e=>e.rosterId!==k).map((e,t)=>{const n=L(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 flex items-center justify-between border-l-4 border-green-600",children:[(0,K.jsx)("div",{className:"font-semibold truncate",children:e.teamName}),(0,K.jsxs)("div",{className:"text-sm text-gray-600",children:[n.wins," - ",n.losses," \u2022 ",T(n.pct)]})]},e.rosterId)})}),(0,K.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mt-3",children:(0,K.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,K.jsx)("thead",{className:"bg-green-50 text-gray-700 uppercase text-sm",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"py-2 px-3 text-left",children:"Opponent"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"W"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"L"}),(0,K.jsx)("th",{className:"py-2 px-3 text-center",children:"Win %"})]})}),(0,K.jsx)("tbody",{children:M.filter(e=>e.rosterId!==k).map((e,t)=>{const n=L(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,K.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,K.jsx)("td",{className:"py-2 px-3 font-semibold",children:e.teamName}),(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:n.wins}),(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:n.losses}),(0,K.jsx)("td",{className:"py-2 px-3 text-center",children:T(n.pct)})]},e.rosterId)})})]})})]}):(0,K.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a subject team to see hypothetical results vs the other schedules."})})]})]})]}),!d&&!r&&!a&&(0,K.jsx)("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Please select a season from the dropdown to view its breakdown."})]})},YF=()=>{var e,n,r;const{loading:a,error:s,historicalData:o,usersData:i,getTeamName:l,allDraftHistory:c,processedSeasonalRecords:d}=J(),[h,m]=(0,t.useState)([]),[p,g]=(0,t.useState)(null),[y,x]=(0,t.useState)(null),[b,w]=(0,t.useState)([]),[j,S]=(0,t.useState)([]),[N,k]=(0,t.useState)(null),[_,P]=(0,t.useState)(null),[A,E]=(0,t.useState)([]),[O,T]=(0,t.useState)({}),[C,D]=(0,t.useState)("board"),[q,Y]=(0,t.useState)(null);f.A.debug("--- DraftAnalysis Component Render ---"),f.A.debug("Loading:",a),f.A.debug("Error:",s),f.A.debug("Historical Data (raw):",o),f.A.debug("Users Data (raw):",i),f.A.debug("------------------------------------");const Q=(0,t.useCallback)((e,t,n)=>{const r=null===n||void 0===n?void 0:n[t],a=null===r||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e));return a?a.owner_id:null},[]);(0,t.useEffect)(()=>{if(f.A.debug("useEffect: Populating seasons and setting default season."),f.A.debug("Current loading status:",a),f.A.debug("Current error status:",s),f.A.debug("Historical Data in season useEffect:",o),!a&&!s&&o&&o.draftsBySeason){const e=Object.keys(o.draftsBySeason).map(Number).sort((e,t)=>t-e);m(e),e.length>0&&!p&&g("Overview")}},[a,s,o,p]),(0,t.useEffect)(()=>{(async()=>{if(p&&"number"===typeof p&&o&&o.draftsBySeason){const e=o.draftsBySeason[p];if(e&&e.league_id){f.A.debug("Fetching league settings for league ID: ".concat(e.league_id));const t=await U(e.league_id);k(t);const n=await z(e.league_id);P(n)}else f.A.debug("No league ID found for season ".concat(p," to fetch league settings.")),k(null),P(null)}else k(null),P(null)})()},[p,o]),(0,t.useEffect)(()=>{f.A.debug("useEffect: Processing draft data for selected season and board structure."),f.A.debug("Current selectedSeason:",p),f.A.debug("Historical Data in draft processing useEffect:",o),f.A.debug("Users Data in draft processing useEffect:",i),f.A.debug("League Scoring Settings:",N),f.A.debug("League Roster Settings:",_);(async()=>{var e,t,n,r;if(!p||"Overview"===p||!o||!o.draftsBySeason||!o.draftPicksBySeason||!i)return f.A.debug("Missing data dependencies for draft processing or Overview selected (selectedSeason, historicalData.draftsBySeason, historicalData.draftPicksBySeason, usersData, leagueScoringSettings, or leagueRosterSettings are not fully loaded or available)."),x(null),w([]),E([]),T({}),void S([]);const a=o.draftsBySeason[p],s=o.draftPicksBySeason[p],c=null===(e=o.leaguesMetadataBySeason)||void 0===e||null===(t=e[p])||void 0===t?void 0:t.league_id;let d=[];if(c){var h;const e=(null===(h=o.leaguesMetadataBySeason[p])||void 0===h?void 0:h.settings)||{},t=e.playoff_start_week?parseInt(e.playoff_start_week,10)+3:18;d=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;const n=await M(e)||[];let r=[];const a=[];for(let s=1;s<=t;s++)a.push(I(e,s).then(e=>e?e.filter(e=>{var t;return"trade"===e.type&&Array.isArray(null===(t=e.metadata)||void 0===t?void 0:t.traded_picks)}).flatMap(e=>e.metadata.traded_picks.map(t=>u(u({},t),{},{trade_transaction_id:e.transaction_id,trade_week:s,source:"transaction"}))):[]));return r=(await Promise.all(a)).flat(),[...(n||[]).map(e=>u(u({},e),{},{source:"endpoint"})),...r]}(c,t)}S(d),x(a);const m=a.draft_order,g=(null===(n=a.settings)||void 0===n?void 0:n.rounds)||0,b=(null===(r=a.settings)||void 0===r?void 0:r.teams)||12,j=Object.entries(m).reduce((e,t)=>{let[n,r]=t;return e[r]=n,e},{}),k=[];for(let o=1;o<=g;o++){let e=Array.from({length:b},(e,t)=>t+1);o%2===0&&(e=e.reverse()),k.push(e.map(e=>j[e]))}const P=k[0].map(e=>{var t,n,r;const a=i.find(t=>t.user_id===e),s=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[p])||void 0===n?void 0:n.find(t=>String(t.owner_id)===String(e));return{userId:e,teamName:s&&(null===(r=s.metadata)||void 0===r?void 0:r.team_name)||l(e,p),teamAvatar:v(a?a.avatar:null)}});E(P);const A={},O=s.map(async e=>{var t,n;const r=R(e,i,o,p,l);r.pick_in_round=e.draft_slot;let s=null,c=0;if(!e.is_keeper&&e.player_id){var u,d;const t="DEF"===r.player_position?"".concat((null===(u=r.metadata)||void 0===u?void 0:u.first_name)||""," ").concat((null===(d=r.metadata)||void 0===d?void 0:d.last_name)||"").trim():r.player_name;s=await W(e.player_id,p,"regular",t),s&&N&&(c=V(s,N,r.player_position))}r.player_stats=s,r.fantasy_points=c;const h=L(r),m=((e,t,n)=>e<=0?0:5*(t*n-e+1))(r.pick_no,null===(t=a.settings)||void 0===t?void 0:t.rounds,null===(n=a.settings)||void 0===n?void 0:n.teams);return r.calculated_player_value=h,r.calculated_pick_slot_value=m,f.A.debug("Processed Pick ".concat(e.pick_no," (").concat(r.player_name,"):")),f.A.debug("  Fantasy Points: ".concat(r.fantasy_points)),f.A.debug("  Calculated Player Value: ".concat(r.calculated_player_value)),r}),C=await Promise.all(O),D=C.filter(e=>!e.is_keeper);let U={overall:[],positional:{}},z={},q=[],K=new Map,Q=0;if(D.length>0&&_){if(U=H(D),Object.keys(U.positional).length>0){z=G(U.positional,_);for(const e in z)q.push(...z[e]);q.sort((e,t)=>t.vorp-e.vorp)}const e=s.length;K=F(e);let t=0,n=0;D.forEach(e=>{const r=q.find(t=>t.player_id===e.player_id),a=r?r.vorp:0,s=K.get(e.pick_no)||0,o=B(a,s);t+=o,n++}),Q=n>0?t/n:0}let X=C.map(e=>{let t=0,n=0,r=0,a=0;if(!e.is_keeper){const s=q.find(t=>t.player_id===e.player_id);t=s?s.vorp:0,n=K.get(e.pick_no)||0,r=B(t,n),a=(r-Q)/10}return u(u({},e),{},{player_actual_vorp:t,draft_pick_assigned_vorp:n,vorp_delta:r,scaled_vorp_delta:a})});try{const e={},t=Object.keys(o.draftPicksBySeason||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const n of t){const t=(o.draftPicksBySeason[n]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const n of t){const t=n.player_id;t&&(n.is_keeper?e[t]?(e[t].yearsKept=(e[t].yearsKept||0)+1,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null):e[t]={yearsKept:1,lastPickedBy:n.picked_by||null}:(e[t]=e[t]||{yearsKept:0,lastPickedBy:n.picked_by||null},e[t].yearsKept=0,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null))}}X=X.map(t=>{const n=t.player_id;if(!n)return t;const r=(e[n]||{yearsKept:0}).yearsKept||0,a=Math.max(0,3-r);return u(u({},t),{},{keeper_years:r,keeper_remaining:a})})}catch(Z){f.A.warn("Error computing keeper history:",Z)}const $={};X.forEach(e=>{$[e.round]||($[e.round]={}),$[e.round][e.pick_in_round]=e});for(let o=1;o<=g;o++){let e=Array.from({length:b},(e,t)=>t+1);o%2===0&&(e=e.reverse()),A[o]||(A[o]=Array(b).fill(null));for(let t=0;t<b;t++){const n=e[t];j[n];let r=null;r=$[o]&&$[o][t+1]?$[o][t+1]:X.find(e=>e.round===o&&e.pick_in_round===t+1),A[o][t]=r||null}}T(A),w(X.sort((e,t)=>e.pick_no-t.pick_no));try{const e=X.filter(e=>!e.is_keeper&&"number"===typeof e.scaled_vorp_delta);if(e&&0!==e.length){var J;const t=e.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],n=e.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],r={};e.forEach(e=>{const t=e.picked_by||"unknown";r[t]||(r[t]={total:0,count:0,teamName:e.picked_by_team_name||"Unknown"}),r[t].total+=e.scaled_vorp_delta,r[t].count+=1,e.season&&(!r[t].latestSeason||e.season>r[t].latestSeason)&&(r[t].teamName=e.picked_by_team_name||r[t].teamName,r[t].latestSeason=e.season)});const a=Object.entries(r).map(e=>{let[t,n]=e;return{ownerId:t,team:n.teamName,totalScaledVorp:n.total}});a.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp);const s=a[0]||{team:"Unknown",totalScaledVorp:0},o=a[a.length-1]||{team:"Unknown",totalScaledVorp:0},i=[],l=(null===y||void 0===y||null===(J=y.settings)||void 0===J?void 0:J.rounds)||g||0;for(let c=1;c<=l;c++){const t=e.filter(e=>{var t;return(e.round||Math.ceil(e.pick_no/((null===y||void 0===y||null===(t=y.settings)||void 0===t?void 0:t.teams)||12)))===c});if(!t||0===t.length){i.push(null);continue}const n=t.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],r=t.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],a=t.reduce((e,t)=>e+(t.scaled_vorp_delta||0),0)/t.length;i.push({round:c,best:n,worst:r,avgScaledVorp:a})}Y({bestTeam:s,worstTeam:o,bestPick:t,worstPick:n,roundSummaries:i})}else Y(null)}catch(ee){f.A.warn("Error computing draftYearSummary:",ee),Y(null)}})()},[p,o,i,l,Q,N,_]);const[X,$]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{(async()=>{if(f.A.debug("Computing overview data..."),f.A.debug("allDraftHistory:",c),f.A.debug("usersData:",i),f.A.debug("historicalData:",o),"Overview"===p&&null!==o&&void 0!==o&&o.draftsBySeason&&null!==o&&void 0!==o&&o.draftPicksBySeason&&i){ee(!0);try{const e=Object.keys(o.draftsBySeason).map(async e=>{const t=Number(e),n=o.draftsBySeason[e],r=o.draftPicksBySeason[e];if(!n||!r||!r.length)return[];try{const a=await U(n.league_id),s=await z(n.league_id);if(!a||!s)return f.A.debug("Missing league settings for season ".concat(e)),[];const c=r.map(async e=>{const n=R(e,i,o,t,l);n.pick_in_round=e.draft_slot,n.season=t;let r=null,s=0;if(!e.is_keeper&&e.player_id){var c,u;const o="DEF"===n.player_position?"".concat((null===(c=n.metadata)||void 0===c?void 0:c.first_name)||""," ").concat((null===(u=n.metadata)||void 0===u?void 0:u.last_name)||"").trim():n.player_name;r=await W(e.player_id,t,"regular",o),r&&a&&(s=V(r,a,n.player_position))}return n.player_stats=r,n.fantasy_points=s,n}),d=await Promise.all(c),h=d.filter(e=>!e.is_keeper);let m=[],p=new Map,g=0;if(h.length>0&&s){const e=H(h);if(Object.keys(e.positional).length>0){const t=G(e.positional,s);for(const e in t)m.push(...t[e]);m.sort((e,t)=>t.vorp-e.vorp)}const t=r.length;p=F(t);let n=0,a=0;h.forEach(e=>{const t=m.find(t=>t.player_id===e.player_id),r=t?t.vorp:0,s=p.get(e.pick_no)||0,o=B(r,s);n+=o,a++}),g=a>0?n/a:0}const y=d.map(e=>{let n=0,r=0,a=0,s=0;if(!e.is_keeper){const t=m.find(t=>t.player_id===e.player_id);n=t?t.vorp:0,r=p.get(e.pick_no)||0,a=B(n,r),s=(a-g)/10}return u(u({},e),{},{player_actual_vorp:n,draft_pick_assigned_vorp:r,vorp_delta:a,scaled_vorp_delta:s,season:t})});return y}catch(a){return f.A.error("Error processing season ".concat(e,":"),a),[]}}),t=(await Promise.all(e)).flat().filter(Boolean);if(f.A.debug("Total processed picks with real VORP:",t.length),f.A.debug("Sample processed pick:",t[0]),0===t.length)return void $({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]});const n=t.map(e=>{const t=e.round||Math.ceil(e.pick_no/12),n=e.draft_slot||(e.pick_no-1)%12+1;return u(u({},e),{},{round:t,pick_in_round:n,team:e.picked_by_team_name||"Unknown Team",player_name:e.player_name||"Unknown Player",position:e.player_position||"NA",team_abbrev:e.player_team||""})}),r=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta).slice(0,5),a=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta).slice(0,5),s={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t=e.picked_by||"unknown";s[t]||(s[t]={total:0,count:0,latestTeamName:e.team||"Unknown",latestSeason:e.season||0}),s[t].total+=e.scaled_vorp_delta,s[t].count+=1,e.season>s[t].latestSeason&&(s[t].latestTeamName=e.team||"Unknown",s[t].latestSeason=e.season)});const c=Object.entries(s).map(e=>{let[t,n]=e;return{ownerId:t,team:n.latestTeamName,value:n.count>0?n.total/n.count:0}}).sort((e,t)=>t.value-e.value),d=[],h={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t="".concat(e.season,"_").concat(e.picked_by);h[t]||(h[t]={season:e.season,ownerId:e.picked_by,team:e.team,totalScaledVorp:0,picks:[]}),h[t].totalScaledVorp+=e.scaled_vorp_delta,h[t].picks.push(e)}),Object.values(h).forEach(e=>{d.push(e)}),d.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp),f.A.debug("Overview data computed with real VORP values:",{topPicks:r.length,worstPicks:a.length,teamRankings:c.length,draftsSummaries:d.length}),$({topPicks:r,worstPicks:a,teamRankings:c,draftsSummaries:d})}catch(e){f.A.error("Overview computation error:",e),$({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]})}finally{ee(!1)}}})()},[c,i,o,l,p]),f.A.debug("Rendering: Main content"),f.A.debug("Current seasons state:",h),f.A.debug("Current selectedSeason state:",p),f.A.debug("Current draftSummary state:",y),f.A.debug("Current draftPicks state (flat):",b.length),f.A.debug("Current orderedTeamColumns state:",A.length),f.A.debug("Current picksGroupedByRound state (rounds):",Object.keys(O).length),f.A.debug("Current tradedPicksData state:",j.length),f.A.debug("Current leagueScoringSettings state:",N),f.A.debug("Current leagueRosterSettings state:",_),f.A.debug("Current activeTab state:",C),a)return(0,K.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,K.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md",children:[(0,K.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),(0,K.jsx)("p",{className:"text-lg font-semibold text-gray-300",children:"Loading draft data..."})]})});if(s)return(0,K.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,K.jsxs)("div",{className:"text-center p-6 bg-red-800 border border-red-600 text-red-100 rounded-lg shadow-md",children:[(0,K.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,K.jsxs)("p",{className:"text-base",children:["Failed to load draft data: ",s.message||String(s)]})]})});const te=(null===y||void 0===y||null===(e=y.settings)||void 0===e?void 0:e.rounds)||0,ne=Array.from({length:te},(e,t)=>t+1),re=(0,t.useMemo)(()=>{const e=new Map;return j.forEach(t=>{e.has(t.round)||e.set(t.round,new Map),e.get(t.round).set(String(t.roster_id),t)}),e},[j]),ae={RB:"bg-green-700",QB:"bg-red-700",WR:"bg-blue-700",TE:"bg-yellow-700",K:"bg-purple-700",DEF:"bg-zinc-700",DL:"bg-zinc-700",LB:"bg-zinc-700",DB:"bg-zinc-700",IDP:"bg-zinc-700",DP:"bg-gray-700",NA:"bg-gray-700"},se=e=>{const t="string"===typeof e?e.toUpperCase():"";return ae[t]||"bg-gray-700"};return(0,K.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-0 sm:px-4 md:px-6 bg-gray-900 text-white min-h-screen py-6",children:[(0,K.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 text-center text-blue-400",children:"Draft Analysis"}),(0,K.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row justify-center items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[(0,K.jsx)("label",{htmlFor:"season-select",className:"text-sm sm:text-lg",children:"Select Season:"}),(0,K.jsxs)("select",{id:"season-select",className:"p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500 w-40 sm:w-44",value:p||"",onChange:e=>{const t=e.target.value;g("Overview"===t?"Overview":Number(t)),D("board")},disabled:0===h.length,children:[(0,K.jsx)("option",{value:"Overview",children:"Overview"}),h.length>0?h.map(e=>(0,K.jsx)("option",{value:e,children:e},e)):(0,K.jsx)("option",{value:"",children:"No Seasons Available"})]})]}),"Overview"===p&&(0,K.jsxs)("div",{className:"px-0 sm:px-6 py-6 mb-8",children:[(0,K.jsx)("h2",{className:"text-2xl sm:text-3xl font-semibold mb-4 text-center text-yellow-400",children:"All-Time Draft Overview"}),Z?(0,K.jsx)("div",{className:"text-center py-8",children:(0,K.jsx)("p",{className:"text-gray-400",children:"Computing all-time draft data with real Draft Value..."})}):X?(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[(0,K.jsx)("div",{className:"flex items-start justify-between",children:(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold text-yellow-200 mb-1",children:"Draft Position Mix"}),(0,K.jsx)("p",{className:"text-gray-200 text-sm mb-2",children:"Percent of picks by position per round"})]})}),(0,K.jsx)("div",{className:"w-full mt-2",children:(0,K.jsx)(mD,{allDraftHistory:c||[],totalRounds:(null===X||void 0===X||null===(n=X.settings)||void 0===n?void 0:n.rounds)||12,totalTeams:(null===X||void 0===X||null===(r=X.settings)||void 0===r?void 0:r.teams)||12,compact:!0})})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 sm:p-6 shadow-md",children:[(0,K.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold text-blue-300 mb-3",children:"Top Picks All-Time"}),(0,K.jsx)("p",{className:"text-gray-300 mb-3 text-sm",children:"Top draft picks by value all-time."}),(0,K.jsx)("div",{className:"space-y-3",children:X.topPicks.map((e,t)=>(0,K.jsx)("div",{className:"bg-gray-600 p-3 sm:p-4 rounded-lg border-l-4 border-green-400",children:(0,K.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,K.jsxs)("div",{className:"text-base sm:text-lg font-semibold text-white truncate",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-300",children:(t=>{const n=(null===y||void 0===y||null===(t=y.settings)||void 0===t?void 0:t.teams)||12,r=Math.ceil((e.pick_no||0)/n)||e.round||1,a=(Number(e.pick_no||1)-1)%n+1;e.round,e.pick_in_round||e.draft_slot;return(0,K.jsxs)(K.Fragment,{children:[e.season," \xb7 Round ",r,", Pick ",a]})})()}),(0,K.jsxs)("div",{className:"text-sm text-gray-200 flex items-center justify-between",children:[(0,K.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,K.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:XM(e.scaled_vorp_delta,2)})]}),(0,K.jsx)("div",{className:"text-sm sm:text-base font-medium text-blue-300 truncate",children:e.team})]})},t))})]}),(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 sm:p-6 shadow-md",children:[(0,K.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold text-red-300 mb-3",children:"Worst Picks All-Time"}),(0,K.jsx)("p",{className:"text-gray-300 mb-3 text-sm",children:"Worst draft picks by value all-time."}),(0,K.jsx)("div",{className:"space-y-3",children:X.worstPicks.map((e,t)=>(0,K.jsx)("div",{className:"bg-gray-600 p-3 sm:p-4 rounded-lg border-l-4 border-red-400",children:(0,K.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,K.jsxs)("div",{className:"text-base sm:text-lg font-semibold text-white truncate",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-300",children:(t=>{const n=(null===y||void 0===y||null===(t=y.settings)||void 0===t?void 0:t.teams)||12,r=Math.ceil((e.pick_no||0)/n)||e.round||1,a=(Number(e.pick_no||1)-1)%n+1;e.round,e.pick_in_round||e.draft_slot;return(0,K.jsxs)(K.Fragment,{children:[e.season," \xb7 Round ",r,", Pick ",a]})})()}),(0,K.jsxs)("div",{className:"text-sm text-gray-200 flex items-center justify-between",children:[(0,K.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,K.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-red-400",children:XM(e.scaled_vorp_delta,2)})]}),(0,K.jsx)("div",{className:"text-sm sm:text-base font-medium text-blue-300 truncate",children:e.team})]})},t))})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 sm:p-6 shadow-md",children:[(0,K.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold text-purple-300 mb-3",children:"All-Time Draft Rankings"}),(0,K.jsx)("p",{className:"text-gray-300 mb-3 text-sm",children:"Members ranked by all-time avg. draft pick value."}),(0,K.jsx)("div",{className:"space-y-1",children:X.teamRankings.map((e,t)=>(0,K.jsxs)("div",{className:"flex justify-between items-center bg-gray-600 p-2 sm:p-3 rounded",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsxs)("span",{className:"text-gray-400 font-medium",children:["#",t+1]}),(0,K.jsx)("span",{className:"text-white text-sm font-medium truncate max-w-[160px]",children:e.team})]}),(0,K.jsx)("span",{className:"font-bold text-sm ".concat(e.value>=0?"text-green-400":"text-red-400"),children:XM(e.value,2)})]},t))})]}),(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 sm:p-6 shadow-md",children:[(0,K.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold text-green-300 mb-3",children:"Best & Worst All-Time Drafts"}),(0,K.jsxs)("div",{className:"mb-4",children:[(0,K.jsx)("h4",{className:"text-sm sm:text-lg font-semibold text-blue-300 mb-2",children:"Best All-Time Drafts"}),(0,K.jsx)("div",{className:"space-y-2",children:X.draftsSummaries.slice(0,3).map((e,t)=>(0,K.jsxs)("div",{className:"bg-gray-600 p-2 sm:p-3 rounded border-l-2 border-green-400 flex items-center justify-between",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-white text-sm font-medium",children:e.team}),(0,K.jsx)("div",{className:"text-xs text-gray-300",children:e.season})]}),(0,K.jsx)("div",{className:"text-sm font-bold text-green-400",children:XM(e.totalScaledVorp,2)})]},t))})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"text-sm sm:text-lg font-semibold text-red-300 mb-2",children:"Worst All-Time Drafts"}),(0,K.jsx)("div",{className:"space-y-2",children:X.draftsSummaries.slice(-3).reverse().map((e,t)=>(0,K.jsxs)("div",{className:"bg-gray-600 p-2 sm:p-3 rounded border-l-2 border-red-400 flex items-center justify-between",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-white text-sm font-medium",children:e.team}),(0,K.jsx)("div",{className:"text-xs text-gray-300",children:e.season})]}),(0,K.jsx)("div",{className:"text-sm font-bold text-red-400",children:XM(e.totalScaledVorp,2)})]},t))})]})]})]}),(0,K.jsx)("div",{className:"mt-6"})]}):(0,K.jsx)("div",{className:"text-center py-8",children:(0,K.jsx)("p",{className:"text-gray-400",children:"No all-time draft data available."})})]}),"Overview"!==p&&p&&y?(0,K.jsxs)("div",{className:"px-0 sm:px-6 py-6 mb-8",children:[(0,K.jsxs)("h2",{className:"text-3xl font-semibold mb-4 text-center text-green-400",children:[p," Draft Summary"]}),(0,K.jsxs)("div",{className:"flex justify-center mb-6 border-b border-gray-600",children:[(0,K.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("board"===C?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-gray-200"),onClick:()=>D("board"),children:"Draft Board"}),(0,K.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("summary"===C?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-gray-200"),onClick:()=>D("summary"),children:"Draft Summary"})]}),"board"===C&&(0,K.jsxs)("div",{className:"mt-6",children:[(0,K.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-purple-400",children:"Draft Board"}),A.length>0&&te>0?(0,K.jsx)("div",{className:"w-full overflow-auto",children:(0,K.jsxs)("div",{className:"grid gap-1 p-2",style:{gridTemplateColumns:"auto repeat(".concat(A.length,", minmax(100px, 1fr))"),minWidth:"".concat(Math.max(100*(A.length+1),480),"px")},children:[(0,K.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-2 text-center rounded-tl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:"Round"}),A.map(e=>(0,K.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-1 text-center flex flex-col items-center justify-center rounded-t-md min-h-[40px] sticky top-0 z-10",children:(0,K.jsx)("span",{className:"text-xs leading-tight break-words text-center max-w-full block",style:{wordBreak:"break-word",hyphens:"auto"},children:e.teamName})},e.userId)),ne.map(e=>(0,K.jsxs)(t.Fragment,{children:[(0,K.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-2 px-2 text-center flex items-center justify-center rounded-bl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:e}),A.map((t,n)=>{var r,a;const s=null===(r=O[e])||void 0===r?void 0:r[n],i=(null===(a=y.settings)||void 0===a?void 0:a.teams)||12,c=e%2!==0?n+1:i-n;let u=null;for(const e in y.draft_order)if(y.draft_order[e]===c){u=e;break}let d=null;if(u&&s&&s.picked_by!==u){var h,m;const t=null===(h=o.rostersBySeason)||void 0===h||null===(m=h[p])||void 0===m?void 0:m.find(e=>String(e.owner_id)===String(u)),n=t?String(t.roster_id):null;var f;if(n)d=null===(f=re.get(e))||void 0===f?void 0:f.get(n)}const g=s&&u&&s.picked_by!==u&&!!d;let v="",x="";var b,w;if(s&&"DEF"===s.player_position)v=(null===(b=s.metadata)||void 0===b?void 0:b.first_name)||"",x=(null===(w=s.metadata)||void 0===w?void 0:w.last_name)||"";else if(s){const e=s.player_name.split(" ");v=e[0],x=e.slice(1).join(" ")}const j=x.length>12?"text-base":"text-lg";return(0,K.jsx)("div",{className:"relative p-1 border border-gray-700 text-xs min-h-[60px] sm:min-h-[70px]\n                                                                        ".concat(s?se(s.player_position):"bg-gray-900"),children:s?s.is_keeper?(0,K.jsx)("div",{className:"flex items-center justify-center h-full text-sm font-bold text-green-300",children:"KEEPER"}):(0,K.jsxs)("div",{className:"flex flex-col h-full w-full p-1",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-200 mb-1",children:[(0,K.jsx)("div",{className:"font-medium",children:s.player_position}),(0,K.jsx)("div",{className:"font-medium",children:s.player_team})]}),(0,K.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center min-w-0 text-center px-1",children:[(0,K.jsx)("div",{className:"w-full truncate text-xs text-white font-medium leading-tight",children:v}),(0,K.jsx)("div",{className:"w-full truncate text-sm font-bold text-white leading-tight ".concat(j),children:x})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between mt-2 w-full",children:["number"===typeof s.scaled_vorp_delta?(0,K.jsx)("div",{className:"flex-shrink-0 inline-flex items-center justify-center text-[10px] font-bold text-white px-1.5 py-0.5 rounded ".concat(s.scaled_vorp_delta>=0?"bg-green-500":"bg-red-500"),style:{minWidth:"28px",maxWidth:"48px"},title:"Draft Value: ".concat(XM(s.scaled_vorp_delta,2)),children:XM(parseFloat(s.scaled_vorp_delta),1)}):(0,K.jsx)("div",{className:"text-xs text-gray-400 w-6",children:"\xa0"}),g?(0,K.jsx)("div",{className:"flex-shrink-0 cursor-help ml-2",title:"Pick acquired by: ".concat(s.picked_by_team_name),children:(0,K.jsx)(zM,{icon:GM,className:"w-3 h-3 text-yellow-400"})}):(0,K.jsx)("div",{className:"w-3"})]})]}):d?(0,K.jsx)("div",{className:"absolute bottom-0.5 right-0.5 cursor-help",title:"Pick acquired by: ".concat(l(Q(d.owner_id,p,o.rostersBySeason),p)),children:(0,K.jsx)(zM,{icon:GM,className:"w-3 h-3 text-yellow-400"})}):(0,K.jsx)("span",{className:"text-gray-600 text-xs",children:"Empty"})},"".concat(e,"-").concat(n))})]},e))]})}):(0,K.jsx)("p",{className:"text-center text-gray-400",children:"No draft board data available for this season."})]}),"summary"===C&&(0,K.jsxs)("div",{className:"mt-6",children:[(0,K.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-green-400",children:"Draft Year Summary"}),q?(0,K.jsxs)("div",{className:"space-y-8",children:[(0,K.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,K.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Team by Total Draft Value"}),(0,K.jsxs)("p",{className:"text-lg",children:[q.bestTeam.team," ",(0,K.jsxs)("span",{className:"text-green-400 font-semibold",children:["(",XM(q.bestTeam.totalScaledVorp,2),")"]})]})]}),(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,K.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Team by Total Draft Value"}),(0,K.jsxs)("p",{className:"text-lg",children:[q.worstTeam.team," ",(0,K.jsxs)("span",{className:"text-red-400 font-semibold",children:["(",XM(q.worstTeam.totalScaledVorp,2),")"]})]})]})]}),(0,K.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,K.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Pick (Draft Value)"}),(0,K.jsxs)("p",{className:"text-lg",children:[q.bestPick.player_name," (",q.bestPick.player_position,")",(0,K.jsx)("br",{}),(0,K.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",q.bestPick.picked_by_team_name," | Pick: ",q.bestPick.pick_no]})]})]}),(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,K.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Pick (Draft Value)"}),(0,K.jsxs)("p",{className:"text-lg",children:[q.worstPick.player_name," (",q.worstPick.player_position,")",(0,K.jsx)("span",{className:"ml-2 text-red-400 font-semibold",children:XM("number"===typeof q.worstPick.scaled_vorp_delta?q.worstPick.scaled_vorp_delta:q.worstPick.vorp_delta,2)}),(0,K.jsx)("br",{}),(0,K.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",q.worstPick.picked_by_team_name," | Pick: ",q.worstPick.pick_no]})]})]})]}),(0,K.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[(0,K.jsx)("h4",{className:"text-xl font-bold text-purple-300 mb-4",children:"Round-by-Round Summary"}),(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full text-sm text-gray-200",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{className:"bg-gray-800",children:[(0,K.jsx)("th",{className:"py-2 px-4",children:"Round"}),(0,K.jsx)("th",{className:"py-2 px-4",children:"Best Pick (Draft Value)"}),(0,K.jsx)("th",{className:"py-2 px-4",children:"Worst Pick (Draft Value)"}),(0,K.jsx)("th",{className:"py-2 px-4",children:"Avg Draft Value"})]})}),(0,K.jsx)("tbody",{children:q.roundSummaries.map((e,n)=>{var r,a,s,o;return e&&(0,K.jsx)(t.Fragment,{children:(0,K.jsxs)("tr",{className:"border-b border-gray-600 align-top",children:[(0,K.jsx)("td",{className:"py-2 px-4 text-center font-bold align-top",children:e.round}),(0,K.jsx)("td",{className:"py-2 px-4 align-top",children:(0,K.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,K.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.best.player_name," ",(0,K.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.best.player_position,")"]})]}),(0,K.jsxs)("div",{className:"text-sm font-bold text-green-400",children:["Draft Value: ","number"===typeof(null===(r=e.best)||void 0===r?void 0:r.scaled_vorp_delta)?XM(e.best.scaled_vorp_delta,2):"number"===typeof(null===(a=e.best)||void 0===a?void 0:a.vorp_delta)?XM(e.best.vorp_delta,2):"\u2014"]}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.best.picked_by_team_name||"Unknown"," | Pick: ",e.best.pick_no||"\u2014"]})]})}),(0,K.jsx)("td",{className:"py-2 px-4 align-top",children:(0,K.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,K.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.worst.player_name," ",(0,K.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.worst.player_position,")"]})]}),(0,K.jsxs)("div",{className:"text-sm font-bold text-red-400",children:["Draft Value: ","number"===typeof(null===(s=e.worst)||void 0===s?void 0:s.scaled_vorp_delta)?XM(e.worst.scaled_vorp_delta,2):"number"===typeof(null===(o=e.worst)||void 0===o?void 0:o.vorp_delta)?XM(e.worst.vorp_delta,2):"\u2014"]}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.worst.picked_by_team_name||"Unknown"," | Pick: ",e.worst.pick_no||"\u2014"]})]})}),(0,K.jsx)("td",{className:"py-2 px-4 text-center align-top",children:"number"===typeof e.avgScaledVorp?XM(e.avgScaledVorp,2):"\u2014"})]})},n)})})]})})]})]}):(0,K.jsx)("p",{className:"text-center text-gray-400",children:"No draft summary data available for this season."})]})]}):"Overview"!==p?(0,K.jsx)("p",{className:"text-center text-gray-400",children:"Select a season to view draft analysis."}):null]})},QF=()=>{const{historicalData:e,getTeamName:r,getTeamDetails:a,nflPlayers:s}=J(),[o,i]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[v,x]=(0,t.useState)({}),[b,w]=(0,t.useState)(!1),[j,S]=(0,t.useState)(null),N={2024:{playerId:"4866",name:"Saquon Barkley",position:"RB",team:"PHI",reasonTitle:"Joe Schmitt",staticHeadshot:n(7598)},2023:{playerId:"19",name:"Joe Flacco",position:"QB",team:"CLE",reasonTitle:"Unlikely Hero",staticHeadshot:n(7677)},2022:{playerId:"6786",name:"CeeDee Lamb",position:"WR",team:"DAL",reasonTitle:"Why they were MVP",staticHeadshot:n(4016)},2021:{playerId:"4984",name:"Josh Allen",position:"QB",team:"BUF",reasonTitle:"Why they were MVP",staticHeadshot:n(9330)}},k=[{playerId:"4984",name:"Josh Allen",position:"QB",team:"BUF",isStarter:!0},{playerId:"5000",name:"Chase Edmonds",position:"RB",team:"ARI",isStarter:!0},{playerId:"4962",name:"Sony Michel",position:"RB",team:"LAR",isStarter:!0},{playerId:"6786",name:"CeeDee Lamb",position:"WR",team:"DAL",isStarter:!0},{playerId:"2078",name:"Odell Beckham Jr",position:"WR",team:"LAR",isStarter:!0},{playerId:"1466",name:"Travis Kelce",position:"TE",team:"KC",isStarter:!0},{playerId:"4950",name:"Christian Kirk",position:"WR",team:"JAX",isStarter:!0},{playerId:"59",name:"Mason Crosby",position:"K",team:"GB",isStarter:!0},{playerId:"PHI",name:"Philadelphia Eagles",position:"DEF",team:"PHI",isStarter:!0},{playerId:"6826",name:"Cole Kmet",position:"TE",team:"CHI",isStarter:!1},{playerId:"6945",name:"Antonio Gibson",position:"RB",team:"WAS",isStarter:!1},{playerId:"1689",name:"Adam Thielen",position:"WR",team:"MIN",isStarter:!1},{playerId:"5038",name:"Michael Gallup",position:"WR",team:"DAL",isStarter:!1},{playerId:"6989",name:"Marquez Callaway",position:"WR",team:"NE",isStarter:!1},{playerId:"6770",name:"Joe Burrow",position:"QB",team:"CIN",isStarter:!1},{playerId:"6824",name:"Donovan Peoples-Jones",position:"WR",team:"CLE",isStarter:!1},{playerId:"4149",name:"Jamaal Williams",position:"RB",team:"DET",isStarter:!1},{playerId:"2168",name:"Devonta Freeman",position:"RB",team:"ATL",isStarter:!1},{playerId:"4028",name:"Kansas City Chiefs",position:"DEF",team:"KC",isStarter:!1}],_=e=>{try{return e||null}catch(t){return f.A.debug&&f.A.debug("Static headshot not found:",e),null}},P={2024:n(8073),2023:n(3225),2022:n(2714),2021:n(891)},A=e=>{try{return P[e]||null}catch(t){return null}},E=t=>{const n=(t=>{var n,s,o;if(null===e||void 0===e||null===(n=e.winnersBracketBySeason)||void 0===n||!n[t])return null;const i=e.winnersBracketBySeason[t],l=(null===(s=e.losersBracketBySeason)||void 0===s?void 0:s[t])||[],c=(null===(o=e.rostersBySeason)||void 0===o?void 0:o[t])||[];let u=[];return c&&Array.isArray(c)&&(u=c.map(e=>{var n;return{rosterId:e.roster_id,ownerId:e.owner_id,name:r(e.owner_id,t),avatar:null===(n=a(e.owner_id,t))||void 0===n?void 0:n.avatar}})),{year:t,winnersBracket:i,losersBracket:l,rosters:c,teams:u}})(t);n&&(h(t),y(n),p(!0))},O=(e,t)=>r(e,t)||"Unknown Champion";(0,t.useEffect)(()=>{const t=e&&e.winnersBracketBySeason&&e.rostersBySeason;if(c(t),t){const t=[],o=Object.keys(e.winnersBracketBySeason).sort((e,t)=>t-e);for(const i of o){const o=Number(i);let l=null;const c=e.winnersBracketBySeason[o],u=null===c||void 0===c?void 0:c.find(e=>1===e.p&&e.w);if(u){var n;const t=String(u.w),r=null===(n=e.rostersBySeason)||void 0===n?void 0:n[o];if(r&&Array.isArray(r)){const e=r.find(e=>String(e.roster_id)===t);e&&e.owner_id&&(l=e.owner_id)}}if(!l){var r;const t=null===(r=e.seasonAwardsSummary)||void 0===r?void 0:r[o];if(null!==t&&void 0!==t&&t.champion&&"N/A"!==t.champion)l=t.champion;else{var s;const t=null===(s=e.awardsSummary)||void 0===s?void 0:s[o],n=(null===t||void 0===t?void 0:t.champion)||(null===t||void 0===t?void 0:t.Champion);n&&"N/A"!==n&&(l=n)}}if(l){const e=O(l,o),n=a(l,o);t.push({year:o,name:"Unknown Champion"!==e?e:l,championId:l,avatar:null===n||void 0===n?void 0:n.avatar,image:A(o),hasBracket:!!c&&c.length>0})}}i(t)}},[e,r,a]),(0,t.useEffect)(()=>{if(!e||!o||0===o.length)return;const t={};o.forEach(n=>{const r=n.year,a=n.championId,o=n.name,i=(t=>{var n;const r=null===(n=e.winnersBracketBySeason)||void 0===n?void 0:n[t];if(r&&Array.isArray(r)){const e=r.find(e=>1===e.p&&e.w);if(e&&e.w)return String(e.w)}return null})(r);let l=null;if(2021===r)l=k.map(e=>e.playerId);else{var c,u;const t=(null===(c=e.rostersBySeason)||void 0===c?void 0:c[r])||(null===(u=e.rostersBySeason)||void 0===u?void 0:u[String(r)]);if(t&&Array.isArray(t)){const e=t.find(e=>String(e.roster_id)===String(i));l=(e=>{if(!e)return null;if(Array.isArray(e.players)&&e.players.length>0)return e.players;if(Array.isArray(e.starters)&&e.starters.length>0)return e.starters;if(e.players_by_week&&"object"===typeof e.players_by_week){const t=Object.keys(e.players_by_week).sort((e,t)=>parseInt(t)-parseInt(e));if(t.length>0)return e.players_by_week[t[0]]}return null})(e)}}if((!l||0===l.length)&&e.matchupsBySeason&&e.matchupsBySeason[r]){var d;const t=e.matchupsBySeason[r],n=((null===(d=e.winnersBracketBySeason)||void 0===d?void 0:d[r])||[]).find(e=>1===e.p&&e.w),a=(null===n||void 0===n?void 0:n.week)||(null===n||void 0===n?void 0:n.weekNumber)||null,s=e=>{for(let t=e.length-1;t>=0;t--){const n=e[t];if(String(n.team1_roster_id)===String(i)){if(n.team1_players)return n.team1_players;if(n.team1_details&&n.team1_details.starters)return n.team1_details.starters}if(String(n.team2_roster_id)===String(i)){if(n.team2_players)return n.team2_players;if(n.team2_details&&n.team2_details.starters)return n.team2_details.starters}}return null};if(a){l=s(t.filter(e=>String(e.week)===String(a)||e.weekNumber===a))||l}l&&0!==l.length||(l=s(t)||l)}const h=[];if(2021===r&&Array.isArray(l))k.forEach(e=>{const t=s&&s[e.playerId]||null;h.push({playerId:e.playerId,name:e.name||(t?"".concat(t.first_name," ").concat(t.last_name):e.playerId),position:e.position||(t?t.position:null),nflMeta:t||null,teamAtChampionship:e.team||(null===t||void 0===t?void 0:t.team)||null,starterPoints:null,isStarter:e.isStarter||!1})});else if(Array.isArray(l)){var m,f;const t=((null===(m=e.winnersBracketBySeason)||void 0===m?void 0:m[r])||[]).find(e=>1===e.p&&e.w),n=(null===t||void 0===t?void 0:t.week)||(null===t||void 0===t?void 0:t.weekNumber)||null;let a=null;const o=(null===(f=e.matchupsBySeason)||void 0===f?void 0:f[r])||[];if(n){a=o.filter(e=>String(e.week)===String(n)||e.weekNumber===n||e.playoffs).find(e=>String(e.team1_roster_id)===String(i)||String(e.team2_roster_id)===String(i))||null}if(!a&&Array.isArray(o)&&o.length>0)for(let e=o.length-1;e>=0;e--){const t=o[e];if(String(t.team1_roster_id)===String(i)||String(t.team2_roster_id)===String(i)){a=t;break}}const c=a?((e,t)=>{if(!e)return null;const n=String(e.team1_roster_id)===String(t)?e.team1_players||e.team1_details||{}:e.team2_players||e.team2_details||{};return{playersPoints:n.players_points||n.players_points_map||n.players_points_by_id||null,starters:n.starters||null}})(a,i):null,u=c&&Array.isArray(c.starters)?new Set(c.starters.map(e=>String(e))):null;l.forEach(t=>{const a=s&&s[t]||null;let o=null;const i=String(t),l=!!u&&u.has(i);if(c&&c.playersPoints){const e=c.playersPoints;if(Array.isArray(c.starters)&&c.starters.length>0){const n=new Set(c.starters.map(e=>String(e))),r=String(t);n.has(r)&&"number"===typeof e[r]&&(o=e[r])}else{const n=e[String(t)];"number"===typeof n&&(o=n)}}const d=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=(null===(r=e.matchupsBySeason)||void 0===r?void 0:r[t])||[],o=new Set;a&&o.add(String(a)),s.slice(-6).map(e=>String(e.week||e.weekNumber||"")).forEach(e=>{e&&o.add(e)});const i=(e,t)=>{if(!e)return null;if("object"===typeof e){if(e.hasOwnProperty(t)&&e[t]&&"object"===typeof e[t]){if(e[t].team)return e[t].team;if(e[t].player_team)return e[t].player_team}if(Array.isArray(e))for(const n of e){const e=i(n,t);if(e)return e}else for(const n of Object.keys(e)){const r=e[n];if("team"===n&&"string"===typeof r)return r;if(("player_id"===n||"player"===n||"playerId"===n)&&String(e[n])===String(t)&&e.team)return e.team;const a=i(r,t);if(a)return a}}return null};for(const e of s){const t=String(e.week||e.weekNumber||"");if(o.size>0&&!o.has(t))continue;const r=[e.team1_players,e.team2_players,e.team1_details,e.team2_details,e.team1_players_points,e.team2_players_points,e.players,e.players_points,e.players_points_map];for(const e of r){const t=i(e,String(n));if(t)return t}const a=i(e,String(n));if(a)return a}return null}(r,t,n),m=d||(null===a||void 0===a?void 0:a.team)||null;h.push({playerId:t,name:a?"".concat(a.first_name," ").concat(a.last_name):t,position:a?a.position:null,nflMeta:a||null,teamAtChampionship:m,starterPoints:o,isStarter:l})})}t[r]={year:r,championId:a,championName:o,rosterId:i||null,players:h}}),f.A.debug&&f.A.debug("HallOfChampions: built championPlayersByYear",t),x(t)},[e,o,s]);const I=e=>{var n,r,a,s,o;let{p:i,size:l=40,className:c="",staticHeadshot:u=null}=e;const d=(null===i||void 0===i||null===(n=i.nflMeta)||void 0===n?void 0:n.headshot)||(null===i||void 0===i||null===(r=i.nflMeta)||void 0===r?void 0:r.headshot_url)||(null===i||void 0===i||null===(a=i.nflMeta)||void 0===a?void 0:a.img)||null,h=null!==i&&void 0!==i&&i.playerId?(m=i.playerId)?"https://sleepercdn.com/content/nfl/players/thumb/".concat(m,".jpg"):null:null;var m;const p=u||d||h,[g,y]=(null!==i&&void 0!==i&&i.nflMeta?"".concat((null===(s=i.nflMeta.first_name)||void 0===s?void 0:s[0])||"").concat((null===(o=i.nflMeta.last_name)||void 0===o?void 0:o[0])||"").toUpperCase():(i.playerId||"").slice(0,2).toUpperCase(),(0,t.useState)(!1));return p&&!g?(0,K.jsxs)("div",{style:{width:l,height:l},className:"relative rounded-full flex-shrink-0 ".concat(c),children:[(0,K.jsx)("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 0 4px rgba(250,204,21,0.95)"}}),(0,K.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,K.jsx)("img",{src:p,alt:i.name||i.playerId,style:{width:l-8,height:l-8,borderRadius:"50%"},className:"object-cover",onError:e=>{try{f.A.debug&&f.A.debug("PlayerAvatar: headshot failed to load for",i.playerId,p)}catch(t){}y(!0)}})})]}):(0,K.jsx)("div",{style:{width:l,height:l},className:"relative rounded-full overflow-hidden flex-shrink-0 ".concat(c),children:(0,K.jsx)("div",{className:"w-full h-full rounded-full bg-amber-100 text-amber-800 flex items-center justify-center font-semibold text-sm border",children:(0,K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 text-amber-800",fill:"currentColor","aria-hidden":!0,children:(0,K.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})})},T=e=>{var t,n;let{year:r,mvp:a}=e;if(!a)return(0,K.jsx)("div",{className:"mt-4 bg-gray-100 dark:bg-gray-800 rounded-lg p-3 border-2 border-dashed border-gray-300 dark:border-gray-600",children:(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\ud83c\udfc6 No MVP selected yet"}),(0,K.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Edit HallOfChampions.js to pick this champion's MVP"})]})});const s={playerId:a.playerId,name:a.name,nflMeta:{first_name:(null===(t=a.name)||void 0===t?void 0:t.split(" ")[0])||"",last_name:(null===(n=a.name)||void 0===n?void 0:n.split(" ").slice(1).join(" "))||""}};return(0,K.jsx)("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-yellow-400 dark:border-yellow-500 shadow-lg",children:(0,K.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,K.jsx)("div",{className:"flex-shrink-0",children:(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)(I,{p:s,size:64,className:"ring-4 ring-yellow-400 dark:ring-yellow-500",staticHeadshot:_(a.staticHeadshot)}),(0,K.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 rounded-full px-2 py-1 text-xs font-bold shadow-lg",children:"\ud83d\udc51 MVP"})]})}),(0,K.jsxs)("div",{className:"flex-grow",children:[(0,K.jsxs)("h4",{className:"text-lg font-bold text-black dark:text-yellow-100",children:["League MVP ",r]}),(0,K.jsx)("p",{className:"text-xl font-semibold text-black dark:text-white",children:a.name}),(0,K.jsxs)("p",{className:"text-sm text-black dark:text-gray-200",children:[a.position," \u2022 ",a.team]})]})]})})},C=e=>{let{bracket:t,onClose:n}=e;if(!t)return null;const{year:r,winnersBracket:a,losersBracket:s,teams:o}=t;if(!a||!Array.isArray(a))return(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,K.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"No Bracket Data"}),(0,K.jsxs)("p",{className:"text-gray-600 mb-4",children:["Bracket data is not available for ",r,"."]}),(0,K.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})});const i=e=>{if(!o||!Array.isArray(o))return{name:"Unknown Team",avatar:null};const t=o.find(t=>String(t.rosterId)===String(e));return t||{name:"Unknown Team",avatar:null}},l=[];a.forEach(e=>{e.p&&1!==e.p||l.push(e)});const c={};l.forEach(e=>{const t=e.r||1;c[t]||(c[t]=[]),c[t].push(e)});const u=Object.keys(c).sort((e,t)=>parseInt(e)-parseInt(t)),d=e=>{const t=i(e.t1),n=i(e.t2);return(0,K.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden shadow-sm w-48 h-20",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 border-b border-gray-200 ".concat(String(e.w)===String(e.t1)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,K.jsx)("img",{src:t.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:t.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"font-medium text-xs truncate",children:t.name})]}),(0,K.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t1_score?parseFloat(e.t1_score).toFixed(1):"-"})]}),(0,K.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 ".concat(String(e.w)===String(e.t2)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,K.jsx)("img",{src:n.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:n.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,K.jsx)("span",{className:"font-medium text-xs truncate",children:n.name})]}),(0,K.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t2_score?parseFloat(e.t2_score).toFixed(1):"-"})]})]})};return(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,K.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[(0,K.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:[r," Tournament Bracket"]}),(0,K.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,K.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,K.jsx)("div",{className:"flex justify-center",children:(0,K.jsx)("div",{className:"flex items-center space-x-16 overflow-x-auto pb-4",children:u.map((e,t)=>{const n=c[e],r=((e,t)=>{const n=parseInt(e),r=t.filter(e=>e.p);if(r.length>0){const e=r.find(e=>1===e.p);if(e)return"Championship"}const a=Math.max(...u.map(e=>parseInt(e)));return n===a?"Championship":n===a-1?"Semifinals":n===a-2?"Quarterfinals":1===n?"First Round":"Round ".concat(n)})(e,n),a="Championship"===r;return(0,K.jsxs)("div",{className:"flex flex-col items-center min-w-max",children:[(0,K.jsx)("div",{className:"mb-6 text-center",children:(0,K.jsx)("h4",{className:"font-bold ".concat(a?"text-lg text-yellow-600":"text-sm text-gray-600"),children:r})}),(0,K.jsx)("div",{className:"flex flex-col justify-center space-y-12",children:n.map((e,n)=>(0,K.jsxs)("div",{className:"relative flex items-center",children:[d(e),t<u.length-1&&(0,K.jsx)("div",{className:"absolute top-1/2 left-full w-8 h-0.5 bg-gray-300 transform -translate-y-1/2"})]},"".concat(e.r,"-").concat(e.m,"-").concat(n)))})]},e)})})}),0===u.length&&(0,K.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,K.jsxs)("p",{className:"text-lg",children:["No playoff games found for ",r]}),(0,K.jsx)("p",{className:"text-sm mt-2",children:"The bracket data may be incomplete or unavailable."})]})]})]})})};return l?0===o.length?(0,K.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md font-inter",children:[(0,K.jsx)("p",{className:"font-bold text-xl mb-2",children:"No Champion Data Found"}),(0,K.jsx)("p",{className:"text-base",children:"Could not find any historical champions in the provided data."})]}):(0,K.jsxs)("div",{className:"p-4 sm:p-6 bg-gradient-to-b from-gray-50 to-white rounded-lg shadow-xl font-inter",children:[(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,t)=>{var n,r;return(0,K.jsxs)("div",{className:"relative p-6 bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-2xl flex flex-col items-center text-center transition-transform transform hover:-translate-y-1 hover:scale-102 border border-yellow-200",children:[(0,K.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-amber-400 to-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-md border border-amber-300",children:e.year}),(0,K.jsx)("div",{className:"mb-4 p-1 bg-white rounded-lg shadow-inner inline-flex items-center justify-center",style:{border:"6px solid rgba(250, 204, 21, 0.15)"},children:e.image?(0,K.jsx)("img",{src:e.image,alt:"".concat(e.year," Champion"),className:"max-w-full max-h-40 sm:max-h-44 md:max-h-48 object-contain rounded-md",onError:e=>{e.target.style.display="none"}}):(0,K.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-amber-200 to-yellow-300 rounded-md flex items-center justify-center text-xl font-bold text-amber-800",children:null===(n=(e.name||"").split(" ")[0])||void 0===n?void 0:n.slice(0,2)})}),(0,K.jsx)("div",{className:"text-gray-800 text-lg font-semibold mb-1",children:e.name}),(0,K.jsx)(T,{year:e.year,mvp:(r=e.year,N[r]||null)}),(0,K.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[e.hasBracket&&(0,K.jsx)("button",{onClick:()=>E(e.year),className:"px-3 py-1 bg-amber-600 text-white text-sm rounded shadow",children:"View Bracket"}),(0,K.jsx)("button",{onClick:()=>(e=>{S(e),w(!0)})(e.year),className:"px-3 py-1 bg-white border border-gray-200 text-sm rounded shadow-sm",children:"View Roster"})]})]},t)})}),(0,K.jsxs)("div",{className:"mt-2",children:[(0,K.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,K.jsx)("h3",{className:"text-2xl font-extrabold text-gray-800",children:"Multi-Time Champions"})}),(0,K.jsx)("div",{className:"space-y-3",children:0===Object.keys(v).length?(0,K.jsx)("p",{className:"text-sm text-gray-500",children:"Champion roster player data not available or still processing."}):(()=>{const e={};Object.values(v).forEach(t=>{(t.players||[]).forEach(n=>{n&&n.playerId&&(e[n.playerId]||(e[n.playerId]=u(u({},n),{},{count:0,years:[]})),e[n.playerId].count+=1,e[n.playerId].years.push(t.year))})});const t=Object.values(e).filter(e=>e.count>1).sort((e,t)=>t.count-e.count||e.name.localeCompare(t.name));return 0===t.length?(0,K.jsx)("p",{className:"text-sm text-gray-500",children:"No multi-time champions found in the current dataset."}):(0,K.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,K.jsxs)("div",{className:"flex flex-col items-center gap-3 bg-white p-4 rounded shadow-md",children:[(0,K.jsx)(I,{p:e,size:64}),(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)("div",{className:"font-semibold text-lg",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,K.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Championships: ",(0,K.jsx)("span",{className:"font-medium text-amber-600",children:e.count})]}),(0,K.jsx)("div",{className:"text-xs text-gray-400",children:e.years.join(", ")})]})]},"multi-".concat(e.playerId)))})})})()})]}),(0,K.jsx)("div",{className:"mt-2",children:(0,K.jsx)("div",{id:"champion-gif-container",className:"relative flex justify-center mb-1",children:(0,K.jsx)("div",{className:"w-full max-w-2xl sm:max-w-3xl px-2",children:(0,K.jsx)("img",{src:"/hall-of-champions/tom-brady-rings.gif",alt:"celebration",className:"w-full h-auto object-contain max-h-56 sm:max-h-64",onError:e=>{e.target.style.display="none"}})})})}),b&&j&&(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,K.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-auto p-6",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,K.jsxs)("h3",{className:"text-xl font-bold",children:[j," Champion Roster"]}),(0,K.jsx)("button",{onClick:()=>{w(!1),S(null)},className:"text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,K.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:(e=>{const t=(null===(e=v[j])||void 0===e?void 0:e.players)||[]||0,n=["QB","RB","RB","FLEX","WR","WR","TE","K","DEF"],r=t.filter(e=>e.isStarter),a=t.filter(e=>!e.isStarter),s=e=>(e||"").toUpperCase(),o={};r.forEach(e=>{const t=s(e.position)||"FLEX";o[t]||(o[t]=[]),o[t].push(e)});const i=[],l=new Set;for(const d of n){if("FLEX"===d){const e=r.filter(e=>!l.has(e.playerId)),t=e.find(e=>["RB","WR","TE"].includes(s(e.position))),n=t||e[0];n&&(i.push(n),l.add(n.playerId));continue}const e=o[d];if(e&&e.length>0){const t=e.find(e=>!l.has(e.playerId));t&&(i.push(t),l.add(t.playerId))}}r.forEach(e=>{l.has(e.playerId)||(i.push(e),l.add(e.playerId))});const c={QB:1,RB:2,WR:3,TE:4,K:5,DEF:6},u=a.slice().sort((e,t)=>{const n=c[s(e.position)]||99,r=c[s(t.position)]||99;return n!==r?n-r:(e.name||"").localeCompare(t.name||"")});i.concat(u);return(0,K.jsxs)(K.Fragment,{children:[i.map(e=>(0,K.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded h-20",children:[(0,K.jsx)(I,{p:e,size:44}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"}),"number"===typeof e.starterPoints&&(0,K.jsxs)("div",{className:"text-xs text-amber-600 font-semibold",children:["Starter points: ",e.starterPoints]})]})]},"modal-".concat(j,"-starter-").concat(e.playerId))),u.length>0&&(0,K.jsx)("div",{className:"col-span-full my-1",children:(0,K.jsx)("div",{className:"border-t border-dashed border-gray-300 w-full"})}),u.map(e=>(0,K.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-white rounded h-18",children:[(0,K.jsx)(I,{p:e,size:40}),(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"})]})]},"modal-".concat(j,"-bench-").concat(e.playerId)))]})})()})]})}),m&&(0,K.jsx)(C,{bracket:g,onClose:()=>{p(!1),h(null),y(null)}})]}):(0,K.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md font-inter",children:[(0,K.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading historical champion data..."}),(0,K.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment to process the league history."})]})},XF=()=>{var e,n,r,a,s,o,i,l,c,d;const{historicalData:h,leagueData:m,getTeamDetails:p,processedSeasonalRecords:g,nflState:y,loading:v,nflPlayers:x}=J(),[b,w]=(0,t.useState)(null),[j,S]=(0,t.useState)(null),[N,k]=(0,t.useState)([]),[_,P]=(0,t.useState)([]),[A,E]=(0,t.useState)(null),[O,I]=(0,t.useState)(null),[T,C]=(0,t.useState)(null),[M,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e;if(f.A.debug("Gamecenter useEffect 1 - loading:",v,"leagueData:",m,"nflState:",y),!v&&m&&Array.isArray(m)&&null!==(e=m[0])&&void 0!==e&&e.season&&null!==y&&void 0!==y&&y.week){var t;const e=m[0].season,n=y.week;if(f.A.debug("Setting selectedSeason to:",e,"and selectedWeek to:",n),w(e),null!==h&&void 0!==h&&null!==(t=h.matchupsBySeason)&&void 0!==t&&t[e]){const t=[...new Set(h.matchupsBySeason[e].map(e=>Number(e.week)))].sort((e,t)=>e-t);if(t.includes(Number(n)))S(n);else{const r=Math.max(...t.filter(e=>e>=1&&e<=14));f.A.debug("NFL week",n,"not available for season",e,"using latest available week:",r),S(r)}}else S(n)}},[v,m,y,h]),(0,t.useEffect)(()=>{var e;if(b&&null!==h&&void 0!==h&&null!==(e=h.matchupsBySeason)&&void 0!==e&&e[b]){const e=new Set(h.matchupsBySeason[b].map(e=>Number(e.week))),t=Array.from(e).sort((e,t)=>e-t).filter(e=>!(e>=15&&e<=17));k(t)}},[b,h]),(0,t.useEffect)(()=>{var e;if(b&&j&&null!==h&&void 0!==h&&null!==(e=h.matchupsBySeason)&&void 0!==e&&e[b]){const e=Number(j);if(e>=15&&e<=17)return void P([]);const t=h.matchupsBySeason[b].filter(t=>Number(t.week)===e);P(t)}},[b,j,h]);const R=(0,t.useMemo)(()=>(e,t)=>{var n,r,a,s;if(null===h||void 0===h||null===(n=h.matchupsBySeason)||void 0===n||!n[t]||!y)return null!==(r=null===g||void 0===g||null===(a=g[t])||void 0===a||null===(s=a[e])||void 0===s?void 0:s.averageScore)&&void 0!==r?r:0;const o=parseInt(y.season),i=parseInt(y.week),l=parseInt(t);var c,u,d;if(l<o)return null!==(c=null===g||void 0===g||null===(u=g[t])||void 0===u||null===(d=u[e])||void 0===d?void 0:d.averageScore)&&void 0!==c?c:0;const m=h.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e));let f=0,p=0;return m.forEach(t=>{const n=parseInt(t.week),r=String(t.team1_roster_id)===String(e),a=r?t.team1_score:t.team2_score,s=r?t.team2_score:t.team1_score;(l<o||l===o&&n<i)&&(a>0||s>0)&&(f+=a,p++)}),p>0?f/p:0},[h,g,y]),L=(e,t,n)=>{var r,a,s,o;if(null===h||void 0===h||null===(r=h.matchupsBySeason)||void 0===r||!r[t])return null!==(a=null===g||void 0===g||null===(s=g[t])||void 0===s||null===(o=s[e])||void 0===o?void 0:o.averageScore)&&void 0!==a?a:0;const i=h.matchupsBySeason[t].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&Number(t.week)<=Number(n));let l=0,c=0;return i.forEach(t=>{const n=String(t.team1_roster_id)===String(e),r=n?t.team1_score:t.team2_score,a=n?t.team2_score:t.team1_score;(r>0||a>0)&&(l+=r,c++)}),c>0?l/c:0},F=(e,t,n)=>{var r;const a=(null===h||void 0===h||null===(r=h.matchupsBySeason)||void 0===r?void 0:r[t])||[];let s=0,o=0,i=0;return a.forEach(t=>{if(Number(t.week)>Number(n))return;const r=String(t.team1_roster_id)===String(e),a=String(t.team2_roster_id)===String(e);if(!r&&!a)return;const l=Number(t.team1_score||0),c=Number(t.team2_score||0);0===l&&0===c||(l===c?i++:r&&l>c||a&&c>l?s++:o++)}),{wins:s,losses:o,ties:i}},B=(0,t.useMemo)(()=>null!==h&&void 0!==h&&h.matchupsBySeason?Object.keys(h.matchupsBySeason).sort((e,t)=>t-e):[],[h]),W=(0,t.useMemo)(()=>{const e={};if(!h||!h.matchupsBySeason||!h.rostersBySeason)return e;const t=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),n=parseInt((null===y||void 0===y?void 0:y.week)||1);return Object.keys(h.matchupsBySeason).forEach(r=>{const a=h.rostersBySeason[r];if(!a)return;const s=a.reduce((e,t)=>(e[t.roster_id]=t.owner_id,e),{});h.matchupsBySeason[r].forEach(a=>{const o=Number(a.team1_score||0),i=Number(a.team2_score||0),l=Number(a.week),c=Number(r);if(c<t||c===t&&l<n||o>0&&i>0&&(c<t||c===t&&l<n)){const t=s[a.team1_roster_id],n=s[a.team2_roster_id];if(t&&n){e[t]||(e[t]=[]),e[n]||(e[n]=[]);let s="T";o>i&&(s="W"),o<i&&(s="L");let l="T";i>o&&(l="W"),i<o&&(l="L"),e[t].push({season:r,week:a.week,result:s,opponent:n}),e[n].push({season:r,week:a.week,result:l,opponent:t})}}})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.season!==t.season?e.season-t.season:e.week-t.week)}),e},[h,y]),U=(0,t.useMemo)(()=>{if(!g||!b||!g[b])return{};const e={},t=g[b];return Object.keys(t).forEach(n=>{const r=t[n];r.weeklyLuck&&(e[n]=r.weeklyLuck)}),e},[g,b]);(0,t.useEffect)(()=>{try{localStorage.removeItem("gameOfWeek:v1"),localStorage.removeItem("friskyGame:v1"),console.log("Cleared stored Game of Week and Frisky Game data")}catch(VB){}},[]);const z=(0,t.useMemo)(()=>{if(!_||0===_.length)return null;const e=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),t=parseInt((null===y||void 0===y?void 0:y.week)||1),n=parseInt(b),r=parseInt(j);return n===e&&r===t?(()=>{if(!_||0===_.length)return null;const e=(null===g||void 0===g?void 0:g[b])||{},t=Object.values(e).map(e=>{var t;return Number(null!==(t=null===e||void 0===e?void 0:e.dpr)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),n=Object.values(e).map(e=>{var t,n;return Number(null!==(t=null!==(n=null===e||void 0===e?void 0:e.averageScore)&&void 0!==n?n:null===e||void 0===e?void 0:e.avgPerGame)&&void 0!==t?t:0)}).filter(e=>!isNaN(e)),r=t.length?Math.min(...t):0,a=t.length?Math.max(...t):1,s=n.length?Math.min(...n):0,o=n.length?Math.max(...n):1,i=(e,t,n)=>n===t?.5:(e-t)/(n-t);let l=null,c=-1/0;return _.forEach(t=>{var n,u,d,h,m,f;const p=String(t.team1_roster_id),g=String(t.team2_roster_id),y=e[p]||{},v=e[g]||{},x=Number(null!==(n=y.dpr)&&void 0!==n?n:0),b=Number(null!==(u=v.dpr)&&void 0!==u?u:0),w=Number(null!==(d=null!==(h=y.averageScore)&&void 0!==h?h:y.avgPerGame)&&void 0!==d?d:0),j=Number(null!==(m=null!==(f=v.averageScore)&&void 0!==f?f:v.avgPerGame)&&void 0!==m?m:0),S=.6*i(x,r,a)+.4*i(w,s,o),N=.6*i(b,r,a)+.4*i(j,s,o),k=(.55*(S+N>0?2*S*N/(S+N):0)+1/(1+Math.abs(x-b))*.3+1/(1+Math.abs(w-j)/10)*.15)*(.6+.4*Math.min(S,N));k>c&&(c=k,l=t.matchup_id)}),l})():null},[_,b,j,y]),V=(0,t.useMemo)(()=>{if(!_||0===_.length||!U)return null;const e=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),t=parseInt((null===y||void 0===y?void 0:y.week)||1),n=parseInt(b),r=parseInt(j);return n===e&&r===t?(()=>{if(!_||0===_.length||!U)return null;const e=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),t=parseInt((null===y||void 0===y?void 0:y.week)||1),n=parseInt(b),r=parseInt(j);let a;if(n===e&&r===t){const e=Object.keys(U)[0],t=e?(U[e]||[]).length:0;a=t}else{const e=Object.keys(U)[0],t=e?(U[e]||[]).length:0;a=t>=r?r:t}if(a<=0)return null;const s=_.map(e=>{var t,n,r,s;const o=String(e.team1_roster_id),i=String(e.team2_roster_id),l=null!==(t=null===(n=U[o])||void 0===n?void 0:n[a-1])&&void 0!==t?t:0,c=null!==(r=null===(s=U[i])||void 0===s?void 0:s[a-1])&&void 0!==r?r:0,u=Math.abs(l-c);return{matchupId:e.matchup_id,luckDifference:u,team1Luck:l,team2Luck:c,team1RosterId:o,team2RosterId:i}});if(s.sort((e,t)=>t.luckDifference-e.luckDifference),0===s.length||0===s[0].luckDifference)return null;const o=z;return s.length>1&&String(s[0].matchupId)===String(o)?s[1].matchupId:s[0].matchupId})():null},[_,U,b,j,y,z]),H=async(e,t)=>{const n=[],r=[],a=["QB","RB","RB","WR","WR","TE","FLEX","K","DEF"];if(e.starters&&Array.isArray(e.starters))for(let i=0;i<e.starters.length;i++){var s;const t=e.starters[i],r=null===x||void 0===x?void 0:x[t],o=e.players_points&&Object.prototype.hasOwnProperty.call(e.players_points,t),l=null===(s=e.players_points)||void 0===s?void 0:s[t],c=o?Number(l||0):0;if(r){const e=r.first_name?"".concat(r.first_name.charAt(0),"."):"",s="".concat(e," ").concat(r.last_name).trim();n.push({playerId:t,name:s,position:r.position,team:r.team,points:c,hasPlayed:!!o,isStarter:!0,lineupPosition:a[i]||"FLEX"})}}if(e.players&&Array.isArray(e.players)){const t=new Set(e.starters||[]),n=e.players.filter(e=>!t.has(e));for(const a of n){var o;const t=null===x||void 0===x?void 0:x[a],n=e.players_points&&Object.prototype.hasOwnProperty.call(e.players_points,a),s=null===(o=e.players_points)||void 0===o?void 0:o[a],i=n?Number(s||0):0;if(t){const e=t.first_name?"".concat(t.first_name.charAt(0),"."):"",s="".concat(e," ").concat(t.last_name).trim();r.push({playerId:a,name:s,position:t.position,team:t.team,points:i,hasPlayed:!!n,isStarter:!1})}}}return{lineup:n,bench:r,totalPoints:e.points||0}},G=e=>{E(e),(async(e,t,n)=>{try{I(null);let a=null;if(t===(m&&Array.isArray(m)?m[0].season:null===m||void 0===m?void 0:m.season))a=m&&Array.isArray(m)?m[0].league_id:null===m||void 0===m?void 0:m.league_id;else{var r;const e=null===h||void 0===h||null===(r=h.leaguesMetadataBySeason)||void 0===r?void 0:r[t];a=null===e||void 0===e?void 0:e.league_id}if(!a)return f.A.warn("No league ID available for season ".concat(t)),void I({error:!0,message:"Detailed roster data is not available for the ".concat(t," season. This may be from a previous platform or the data is no longer accessible.")});f.A.debug("Fetching roster data for season ".concat(t,", week ").concat(n,", league ").concat(a));const s=await fetch("https://api.sleeper.app/v1/league/".concat(a,"/matchups/").concat(n));if(!s.ok)throw new Error("API request failed with status ".concat(s.status));const o=await s.json();if(o&&Array.isArray(o)&&o.length>0){const r=o.find(t=>t.roster_id===parseInt(e.team1_roster_id)),a=o.find(t=>t.roster_id===parseInt(e.team2_roster_id));if(r&&a){const t={team1:await H(r,e.team1_roster_id),team2:await H(a,e.team2_roster_id)};I(t)}else f.A.warn("Could not find roster data for teams ".concat(e.team1_roster_id," and ").concat(e.team2_roster_id," in week ").concat(n," of season ").concat(t)),I({error:!0,message:"Roster details for this matchup are not available. The teams may not have been active in week ".concat(n," of the ").concat(t," season.")})}else f.A.warn("No roster data returned for season ".concat(t,", week ").concat(n)),I({error:!0,message:"No roster data available for week ".concat(n," of the ").concat(t," season. The data may not be accessible or this week may not have occurred yet.")})}catch(a){f.A.error("Error fetching matchup roster data:",a),I({error:!0,message:"Failed to load detailed roster data: ".concat(a.message,". This may be due to data not being available for historical seasons or network issues.")})}})(e,b,j)};(0,t.useEffect)(()=>{if(!j||!b||!h)return;const e=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),t=parseInt((null===y||void 0===y?void 0:y.week)||1),n=parseInt(b),r=parseInt(j);(n<e||n===e&&r<t)&&_&&_.length>0?(async()=>{if(b&&j&&h){D(!0),C(null);try{let t=null;const n=m&&Array.isArray(m)?m[0].season:null===m||void 0===m?void 0:m.season;if(String(b)===String(n))t=m&&Array.isArray(m)?m[0].league_id:null===m||void 0===m?void 0:m.league_id;else{var e;const n=null===h||void 0===h||null===(e=h.leaguesMetadataBySeason)||void 0===e?void 0:e[b];t=null===n||void 0===n?void 0:n.league_id}if(!t)return C({error:"No league ID available for season ".concat(b)}),void D(!1);const r=await fetch("https://api.sleeper.app/v1/league/".concat(t,"/matchups/").concat(j));if(!r.ok)throw new Error("Roster API returned ".concat(r.status));const a=await r.json(),s={};a.forEach(e=>{s[String(e.roster_id)]=e});const o=[];if(_.forEach(e=>{var t,n,r,a,s,i;const l=String(e.team1_roster_id),c=String(e.team2_roster_id),u=Number(e.team1_score||0),d=Number(e.team2_score||0),m=null===(t=h.rostersBySeason)||void 0===t||null===(n=t[b])||void 0===n||null===(r=n.find(e=>String(e.roster_id)===l))||void 0===r?void 0:r.owner_id,f=null===(a=h.rostersBySeason)||void 0===a||null===(s=a[b])||void 0===s||null===(i=s.find(e=>String(e.roster_id)===c))||void 0===i?void 0:i.owner_id;o.push({rosterId:l,ownerId:m,score:u}),o.push({rosterId:c,ownerId:f,score:d})}),0===o.length)return C({error:"No completed scores for this week."}),void D(!1);const i=[...o].sort((e,t)=>t.score-e.score),l=i[0],c=i[i.length-1];let d=null,f=null;_.forEach(e=>{const t=Number(e.team1_score||0),n=Number(e.team2_score||0),r=Math.abs(t-n);0!==r&&((!d||r>d.margin)&&(d={matchup:e,margin:r}),(!f||r<f.margin)&&r>0&&(f={matchup:e,margin:r}))});let g=null,y=null;_.forEach(e=>{const t=Number(e.team1_score||0),n=Number(e.team2_score||0);if(t===n)return;const r=String(e.team1_roster_id),a=String(e.team2_roster_id),s=t>n?{rosterId:r,score:t,opponentRosterId:a,opponentScore:n}:{rosterId:a,score:n,opponentRosterId:r,opponentScore:t},o=t>n?{rosterId:a,score:n,opponentRosterId:r,opponentScore:t}:{rosterId:r,score:t,opponentRosterId:a,opponentScore:n};(!g||o.score>g.score)&&(g=o),(!y||s.score<y.score)&&(y=s)});const v=[];for(const e of o){const t=s[e.rosterId];if(!t)continue;const n=t.players_points||{},r=Array.isArray(t.players)?t.players:[],a=Array.isArray(t.starters)?t.starters:[],o=["QB","RB","RB","WR","WR","TE","FLEX","K","DEF"],i=[],l=[];a.forEach((e,t)=>{const r=null===x||void 0===x?void 0:x[e],a=n&&Object.prototype.hasOwnProperty.call(n,e),s=a?Number(n[e]||0):0;r&&i.push({playerId:e,name:r.full_name||"".concat(r.first_name||""," ").concat(r.last_name||"").trim(),position:r.position,team:r.team,points:s,hasPlayed:!!a,isStarter:!0,lineupPosition:o[t]||"FLEX"})}),r.forEach(e=>{if(!a.includes(e)){const t=null===x||void 0===x?void 0:x[e],r=n&&Object.prototype.hasOwnProperty.call(n,e),a=r?Number(n[e]||0):0;t&&l.push({playerId:e,name:t.full_name||"".concat(t.first_name||""," ").concat(t.last_name||"").trim(),position:t.position,team:t.team,points:a,hasPlayed:!!r,isStarter:!1})}});const c=e=>{if(!e)return 0;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});let a=0;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position)),o=o.concat(t.filter(e=>["RB","WR","TE"].includes(e.position)))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{a+=e.points||0})}),a},d=c({lineup:i,bench:l}),h=e.score,m=d>0?h/d*100:0;d>0&&v.push(u(u({},e),{},{coachScore:m,optimal:d,actual:h}))}const w=v.sort((e,t)=>t.coachScore-e.coachScore)[0]||null,S=v.sort((e,t)=>e.coachScore-t.coachScore)[0]||null,N=e=>{var t,n;const r=null===(t=h.rostersBySeason)||void 0===t||null===(n=t[b])||void 0===n?void 0:n.find(t=>String(t.roster_id)===String(e));return r?p(r.owner_id,b).name:"Team ".concat(e)},k={},P={},A={};Object.values(s).forEach(e=>{const t=String(e.roster_id),n=Array.isArray(e.starters)?e.starters:[],r=Array.isArray(e.players)?e.players:[],a=e.players_points||{},s=N(t);n.forEach(e=>{var n;const r=Number(null!==(n=null===a||void 0===a?void 0:a[e])&&void 0!==n?n:0),o=(null===x||void 0===x?void 0:x[e])||{},i=(null===o||void 0===o?void 0:o.position)||(null===o||void 0===o?void 0:o.pos)||"UNK",l={playerId:e,points:r,rosterId:t,ownerName:s};(!k[i]||r>k[i].points)&&(k[i]=l),(!P[i]||r<P[i].points)&&(P[i]=l)}),r.filter(e=>!n.includes(e)).forEach(e=>{var n;const r=Number(null!==(n=null===a||void 0===a?void 0:a[e])&&void 0!==n?n:0),o=(null===x||void 0===x?void 0:x[e])||{},i=(null===o||void 0===o?void 0:o.position)||(null===o||void 0===o?void 0:o.pos)||"UNK",l={playerId:e,points:r,rosterId:t,ownerName:s};("K"===i||"DEF"===i?r>=0:r>5)&&(!A[i]||r>A[i].points)&&(A[i]=l)})});const E=e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id),r=N(t),a=N(n),s=Number(e.team1_score||0),o=Number(e.team2_score||0);return{team1:{name:r,score:s},team2:{name:a,score:o},winner:s>o?r:a,loser:s>o?a:r}},O={bestTeam:l?{rosterId:l.rosterId,ownerId:l.ownerId,score:l.score,name:N(l.rosterId)}:null,worstTeam:c?{rosterId:c.rosterId,ownerId:c.ownerId,score:c.score,name:N(c.rosterId)}:null,biggestBlowout:d?u({margin:d.margin},E(d.matchup)):null,slimmestWin:f?u({margin:f.margin},E(f.matchup)):null,highestPointsInLoss:g?{rosterId:g.rosterId,name:N(g.rosterId),score:g.score,opponentName:N(g.opponentRosterId),opponentScore:g.opponentScore}:null,lowestPointsInWin:y?{rosterId:y.rosterId,name:N(y.rosterId),score:y.score,opponentName:N(y.opponentRosterId),opponentScore:y.opponentScore}:null,mostEfficient:w?{rosterId:w.rosterId,name:N(w.rosterId),coachScore:w.coachScore.toFixed(2)+"%",score:w.score}:null,leastEfficient:S?{rosterId:S.rosterId,name:N(S.rosterId),coachScore:S.coachScore.toFixed(2)+"%",score:S.score}:null,positionTop:k,positionBottom:P,benchWarmers:A};C(O)}catch(VB){f.A.error("Error generating weekly recap:",VB),C({error:VB.message})}finally{D(!1)}}})():C(null)},[j,b,_,h,y]);const q=(e,t)=>{const n=W[e];if(!n)return"N/A";const r=n.filter(e=>e.season===t);if(0===r.length)return"N/A";let a=0,s="";for(let o=r.length-1;o>=0;o--){const e=r[o];if(o===r.length-1)s=e.result,a=1;else{if(e.result!==s)break;a++}}return"".concat(a).concat(s)},Y=(e,t,n)=>{if(!t||"N/A"===t)return"\u2014";const r=t.replace(/[^0-9]/g,""),a=t.replace(/[^A-Za-z]/g,"");return r?"".concat(r).concat(a):a||"\u2014"},Q=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=W[e];if(!a||!e||!t)return"0-0";let s=0,o=0,i=0;return a.forEach(e=>{if(e.opponent===t)if(null!==n&&null!==r){const t=parseInt(e.season),a=parseInt(e.week),l=parseInt(n),c=parseInt(r);(t<l||t===l&&a<c)&&("W"===e.result?s++:"L"===e.result?o++:"T"===e.result&&i++)}else"W"===e.result?s++:"L"===e.result?o++:"T"===e.result&&i++}),i>0?"".concat(s,"-").concat(o,"-").concat(i):"".concat(s,"-").concat(o)};return v?(0,K.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,K.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Gamecenter..."})}):b&&j?(0,K.jsx)("div",{className:"p-2 sm:p-4 bg-gray-50 min-h-screen",children:(0,K.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,K.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-6 px-2",children:"Gamecenter"}),(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6 bg-white p-3 sm:p-4 rounded-lg shadow mobile-card",children:[(0,K.jsxs)("div",{className:"flex-1",children:[(0,K.jsx)("label",{htmlFor:"season-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Season"}),(0,K.jsx)("select",{id:"season-select",value:b,onChange:e=>{const t=e.target.value;var n;if(w(t),t===(m&&Array.isArray(m)?m[0].season:null===m||void 0===m?void 0:m.season))S(y.week);else if(null!==h&&void 0!==h&&null!==(n=h.matchupsBySeason)&&void 0!==n&&n[t]){const e=new Set(h.matchupsBySeason[t].map(e=>Number(e.week))),n=Array.from(e).sort((e,t)=>e-t).filter(e=>!(e>=15&&e<=17));S(n.length>0?n[0]:null)}},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:B.map(e=>(0,K.jsx)("option",{value:e,children:e},e))})]}),(0,K.jsxs)("div",{className:"flex-1",children:[(0,K.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Week"}),(0,K.jsx)("select",{id:"week-select",value:j,onChange:e=>{S(parseInt(e.target.value))},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:N.map(e=>(0,K.jsxs)("option",{value:e,children:["Week ",e]},e))})]})]}),(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:_.map(e=>{var t,n,r,a,s,o,i,l,c,u,d,m;const f=String(e.team1_roster_id),g=String(e.team2_roster_id),v=null===(t=h.rostersBySeason)||void 0===t||null===(n=t[b])||void 0===n?void 0:n.find(e=>String(e.roster_id)===f),x=null===v||void 0===v?void 0:v.owner_id,w=p(x,b),S=null===(r=h.rostersBySeason)||void 0===r||null===(a=r[b])||void 0===a?void 0:a.find(e=>String(e.roster_id)===g),N=null===S||void 0===S?void 0:S.owner_id,k=p(N,b),_=Number(e.team1_score||0),P=Number(e.team2_score||0),A=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),E=parseInt((null===y||void 0===y?void 0:y.week)||1),O=parseInt(b),I=parseInt(j),T=O<A||O===A&&I<E,C=T,M=T,D=(s=null===(o=U[f])||void 0===o?void 0:o[j-1],i=null===(l=U[g])||void 0===l?void 0:l[j-1],parseInt(b)===parseInt(null===y||void 0===y?void 0:y.season)),F=D?R(f,b):L(f,b,j),B=D?R(g,b):L(g,b,j),W=(Q(x,N,b,j),q(x,b)),H=q(N,b);return(0,K.jsx)("div",{className:"rounded-xl mobile-card overflow-hidden transition-all duration-300 touch-friendly ".concat(z&&String(z)===String(e.matchup_id)?"ring-4 ring-yellow-400 ring-opacity-60":V&&String(V)===String(e.matchup_id)?"ring-4 ring-purple-400 ring-opacity-60":"bg-white shadow-md hover:shadow-lg"," ").concat(C?"cursor-pointer hover:bg-gray-50 active:bg-gray-100":""),onClick:()=>G(e),children:(0,K.jsxs)("div",{className:"p-3 sm:p-4",children:[z&&String(z)===String(e.matchup_id)&&(0,K.jsxs)("div",{className:"flex flex-col items-center mb-2 space-y-1",children:[(0,K.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-yellow-300 text-yellow-900 border border-yellow-400",children:"Game of the Week"}),(0,K.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[(0,K.jsx)("span",{children:"Sponsored by"}),(0,K.jsx)("img",{src:"".concat(".","/ThdIISRZ_400x400.jpg"),alt:"The Burton Hotel",className:"w-5 h-5 rounded-full object-cover",onError:e=>{e.target.style.display="none"}}),(0,K.jsx)("span",{className:"font-medium text-[#8B4513]",children:"The Burton Hotel"})]})]}),V&&String(V)===String(e.matchup_id)&&(0,K.jsx)("div",{className:"flex justify-center mb-2",children:(0,K.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-purple-300 text-purple-900 border border-purple-400",children:"Frisky Game of the Week"})}),(0,K.jsxs)("div",{className:"space-y-3 sm:space-y-0",children:[(0,K.jsxs)("div",{className:"sm:hidden",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,K.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:w.avatar,alt:"".concat(w.name," avatar")}),(0,K.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,K.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:w.name}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:C?null:(0,K.jsxs)(K.Fragment,{children:[Y(0,W)," \u2022 Avg: ",XM(Number(null!==F&&void 0!==F?F:0),2)]})})]})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0",children:(0,K.jsx)("div",{className:"font-bold text-lg ".concat(C&&M&&e.team1_score>e.team2_score?"text-green-600":"text-gray-800"),children:_>0||P>0?XM(Number(null!==(c=e.team1_score)&&void 0!==c?c:0),2):"-"})})]}),(0,K.jsxs)("div",{className:"text-center py-1",children:[(0,K.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:"VS"}),(()=>{const e=Q(x,N,b,j);return"0-0"!==e&&(0,K.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["H2H: ",e]})})()]}),(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,K.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,K.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,K.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:k.name}),(0,K.jsx)("div",{className:"text-xs text-gray-500",children:C?null:(0,K.jsxs)(K.Fragment,{children:[Y(0,H)," \u2022 Avg: ",XM(Number(null!==B&&void 0!==B?B:0),2)]})})]})]}),(0,K.jsx)("div",{className:"text-right flex-shrink-0",children:(0,K.jsx)("div",{className:"font-bold text-lg ".concat(C&&M&&e.team2_score>e.team1_score?"text-green-600":"text-gray-800"),children:_>0||P>0?XM(Number(null!==(u=e.team2_score)&&void 0!==u?u:0),2):"-"})})]})]}),(0,K.jsxs)("div",{className:"hidden sm:flex items-center justify-between gap-3",children:[(0,K.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,K.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:w.avatar,alt:"".concat(w.name," avatar")}),(0,K.jsxs)("div",{className:"text-center w-full",children:[(0,K.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:w.name}),(0,K.jsx)("div",{className:"font-bold text-lg ".concat(C&&M&&e.team1_score>e.team2_score?"text-green-600":"text-gray-800"),children:_>0||P>0?XM(Number(null!==(d=e.team1_score)&&void 0!==d?d:0),2):"-"})]})]}),(0,K.jsx)("div",{className:"flex-shrink-0 text-gray-400 font-medium text-sm px-2",children:"vs"}),(0,K.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,K.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,K.jsxs)("div",{className:"text-center w-full",children:[(0,K.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:k.name}),(0,K.jsx)("div",{className:"font-bold text-lg ".concat(C&&M&&e.team2_score>e.team1_score?"text-green-600":"text-gray-800"),children:_>0||P>0?XM(Number(null!==(m=e.team2_score)&&void 0!==m?m:0),2):"-"})]})]})]})]}),(0,K.jsxs)("div",{className:"border-t border-gray-200 mt-3 pt-3",children:[C?(0,K.jsx)(K.Fragment,{children:(()=>{const t=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),n=parseInt((null===y||void 0===y?void 0:y.week)||1),r=parseInt(b),a=parseInt(j),s=r<t||r===t&&a<n,o=e.team1_score>0&&e.team2_score>0;return s&&o?(0,K.jsx)("div",{className:"text-center text-xs text-gray-500",children:"Final"}):(0,K.jsx)("div",{className:"text-center text-xs text-gray-500",children:"Game in progress or incomplete"})})()}):(0,K.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,K.jsx)("div",{className:"sm:hidden space-y-1",children:(0,K.jsx)("div",{className:"text-center text-xs text-gray-500 font-medium",children:"Pre-Game Stats"})}),(0,K.jsxs)("div",{className:"hidden sm:block",children:[(0,K.jsx)("div",{className:"text-center mb-2",children:(0,K.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["H2H: ",Q(x,N,b,j)]})}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,K.jsxs)("div",{className:"text-center space-y-1",children:[(0,K.jsx)("div",{className:"text-xs font-semibold",children:Y(0,W)}),(0,K.jsx)("div",{className:"text-xs font-semibold",children:XM(Number(null!==F&&void 0!==F?F:0),2)})]}),(0,K.jsxs)("div",{className:"text-center space-y-1",children:[(0,K.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Streak"}),(0,K.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Avg Pts"})]}),(0,K.jsxs)("div",{className:"text-center space-y-1",children:[(0,K.jsx)("div",{className:"text-xs font-semibold",children:Y(0,H)}),(0,K.jsx)("div",{className:"text-xs font-semibold",children:XM(Number(null!==B&&void 0!==B?B:0),2)})]})]})]})]}),C&&(!(_>0&&P>0)||(O<A||O===A&&I<E))&&(0,K.jsx)("div",{className:"text-center mt-2",children:(0,K.jsx)("span",{className:"text-xs text-blue-500 font-medium",children:"Tap for details"})})]})]})},e.matchup_id)})}),(()=>{const e=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),t=parseInt((null===y||void 0===y?void 0:y.week)||1),n=parseInt(b),r=parseInt(j);return(n<e||n===e&&r<t)&&T})()&&(0,K.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow mobile-card",children:[(0,K.jsx)("div",{className:"mb-3",children:(0,K.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Weekly Recap"})}),M?(0,K.jsx)("div",{className:"text-sm text-gray-500",children:"Generating recap\u2026"}):null!==T&&void 0!==T&&T.error?(0,K.jsx)("div",{className:"text-sm text-red-600",children:T.error}):T?(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-green-700",children:"Best Performance"})]}),(0,K.jsx)("div",{className:"font-bold text-gray-800 text-lg",children:(null===(e=T.bestTeam)||void 0===e?void 0:e.name)||"\u2014"}),(0,K.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[XM(Number(null!==(n=null===(r=T.bestTeam)||void 0===r?void 0:r.score)&&void 0!==n?n:0),2)," pts"]})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 p-4 rounded-lg border border-red-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-red-700",children:"Needs Improvement"})]}),(0,K.jsx)("div",{className:"font-bold text-gray-800 text-lg",children:(null===(a=T.worstTeam)||void 0===a?void 0:a.name)||"\u2014"}),(0,K.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[XM(Number(null!==(s=null===(o=T.worstTeam)||void 0===o?void 0:o.score)&&void 0!==s?s:0),2)," pts"]})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,K.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-4 rounded-lg border border-orange-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-orange-700",children:"Biggest Blowout"})]}),T.biggestBlowout?(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[XM(T.biggestBlowout.margin,2)," pts"]}),(0,K.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,K.jsx)("div",{className:"font-semibold",children:T.biggestBlowout.winner}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["defeated ",T.biggestBlowout.loser]})]})]}):(0,K.jsx)("div",{className:"text-gray-500",children:"\u2014"})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-4 rounded-lg border border-purple-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-purple-700",children:"Nail Biter"})]}),T.slimmestWin?(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:[XM(T.slimmestWin.margin,2)," pts"]}),(0,K.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,K.jsx)("div",{className:"font-semibold",children:T.slimmestWin.winner}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["edged out ",T.slimmestWin.loser]})]})]}):(0,K.jsx)("div",{className:"text-gray-500",children:"\u2014"})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 p-4 rounded-lg border border-rose-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-rose-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-rose-700",children:"Tough Break"})]}),T.highestPointsInLoss?(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"text-2xl font-bold text-rose-600 mb-1",children:[XM(T.highestPointsInLoss.score,2)," pts"]}),(0,K.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,K.jsx)("div",{className:"font-semibold",children:T.highestPointsInLoss.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",T.highestPointsInLoss.opponentName," (",XM(T.highestPointsInLoss.opponentScore,2),")"]})]})]}):(0,K.jsx)("div",{className:"text-gray-500",children:"\u2014"})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-lg border border-emerald-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-emerald-700",children:"Lucky Win"})]}),T.lowestPointsInWin?(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:[XM(T.lowestPointsInWin.score,2)," pts"]}),(0,K.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,K.jsx)("div",{className:"font-semibold",children:T.lowestPointsInWin.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",T.lowestPointsInWin.opponentName," (",XM(T.lowestPointsInWin.opponentScore,2),")"]})]})]}):(0,K.jsx)("div",{className:"text-gray-500",children:"\u2014"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-blue-700",children:"Best Coach"})]}),(0,K.jsx)("div",{className:"font-bold text-gray-800 text-lg",children:(null===(i=T.mostEfficient)||void 0===i?void 0:i.name)||"\u2014"}),(0,K.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(l=T.mostEfficient)||void 0===l?void 0:l.coachScore)||"\u2014"})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-4 rounded-lg border border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full mr-2"}),(0,K.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Room for Growth"})]}),(0,K.jsx)("div",{className:"font-bold text-gray-800 text-lg",children:(null===(c=T.leastEfficient)||void 0===c?void 0:c.name)||"\u2014"}),(0,K.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:(null===(d=T.leastEfficient)||void 0===d?void 0:d.coachScore)||"\u2014"})]})]}),(0,K.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,K.jsxs)("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[(0,K.jsx)("span",{className:"mr-2",children:"\ud83c\udfc6"}),"Player Spotlight"]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center mb-3",children:[(0,K.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(0,K.jsx)("h5",{className:"font-semibold text-green-700",children:"Top Performers"})]}),(0,K.jsx)("div",{className:"space-y-2",children:0===Object.keys(T.positionTop).length?(0,K.jsx)("div",{className:"text-gray-500 text-sm",children:"No data available"}):["QB","RB","WR","TE","K","DEF"].filter(e=>T.positionTop[e]).map(e=>{var t,n;const r=T.positionTop[e];return(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg border border-green-200",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-semibold text-gray-800 text-sm",children:(null===x||void 0===x||null===(t=x[r.playerId])||void 0===t?void 0:t.full_name)||r.playerId}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===x||void 0===x||null===(n=x[r.playerId])||void 0===n?void 0:n.team)||"UNK"," \u2022 ",r.ownerName]})]})]}),(0,K.jsx)("div",{className:"text-lg font-bold text-green-600",children:XM(r.points,2)})]},"top-".concat(e))})})]}),(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center mb-3",children:[(0,K.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),(0,K.jsx)("h5",{className:"font-semibold text-red-700",children:"Tough Week"})]}),(0,K.jsx)("div",{className:"space-y-2",children:0===Object.keys(T.positionBottom).length?(0,K.jsx)("div",{className:"text-gray-500 text-sm",children:"No data available"}):["QB","RB","WR","TE","K","DEF"].filter(e=>T.positionBottom[e]).map(e=>{var t,n;const r=T.positionBottom[e];return(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg border border-red-200",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-red-400 to-rose-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-semibold text-gray-800 text-sm",children:(null===x||void 0===x||null===(t=x[r.playerId])||void 0===t?void 0:t.full_name)||r.playerId}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===x||void 0===x||null===(n=x[r.playerId])||void 0===n?void 0:n.team)||"UNK"," \u2022 ",r.ownerName]})]})]}),(0,K.jsx)("div",{className:"text-lg font-bold text-red-600",children:XM(r.points,2)})]},"bot-".concat(e))})})]}),(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex items-center mb-3",children:[(0,K.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,K.jsx)("h5",{className:"font-semibold text-yellow-700",children:"Benchwarmers"})]}),(0,K.jsx)("div",{className:"space-y-2",children:0===Object.keys(T.benchWarmers||{}).length?(0,K.jsx)("div",{className:"text-gray-500 text-sm",children:"No standout bench players"}):["QB","RB","WR","TE","K","DEF"].filter(e=>T.benchWarmers&&T.benchWarmers[e]).map(e=>{var t,n;const r=T.benchWarmers[e];return(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"font-semibold text-gray-800 text-sm",children:(null===x||void 0===x||null===(t=x[r.playerId])||void 0===t?void 0:t.full_name)||r.playerId}),(0,K.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===x||void 0===x||null===(n=x[r.playerId])||void 0===n?void 0:n.team)||"UNK"," \u2022 ",r.ownerName]})]})]}),(0,K.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:XM(r.points,2)})]},"bench-".concat(e))})})]})]})]})]}):(0,K.jsx)("div",{className:"text-sm text-gray-500",children:"Weekly recap is being generated..."})]}),A&&(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:(0,K.jsxs)("div",{className:"bg-white w-full h-full sm:h-auto sm:rounded-xl sm:max-w-6xl sm:w-full sm:max-h-[90vh] overflow-y-auto mobile-scroll",children:[(0,K.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10 safe-area-top",children:[(0,K.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:[(0,K.jsxs)("span",{className:"sm:hidden",children:[b," W",j]}),(0,K.jsxs)("span",{className:"hidden sm:inline",children:[b," Week ",j," Details"]})]}),(0,K.jsx)("button",{onClick:()=>{E(null),I(null)},className:"text-gray-500 hover:text-gray-700 text-2xl sm:text-3xl font-bold p-2 touch-friendly rounded-full hover:bg-gray-100","aria-label":"Close modal",children:"\xd7"})]}),(0,K.jsx)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 safe-area-bottom",children:((e,t,n,r,a,s,o,i,l,c,u,d,m,f,v,x,w,S,N,k,_,P,E,I,T,C)=>{const M=String(A.team1_roster_id),D=String(A.team2_roster_id),B=null===(e=h.rostersBySeason)||void 0===e||null===(t=e[b])||void 0===t?void 0:t.find(e=>String(e.roster_id)===M),z=null===B||void 0===B?void 0:B.owner_id,V=p(z,b),H=null===(n=h.rostersBySeason)||void 0===n||null===(r=n[b])||void 0===r?void 0:r.find(e=>String(e.roster_id)===D),G=null===H||void 0===H?void 0:H.owner_id,Y=p(G,b),X=null!==(a=null===(s=U[M])||void 0===s?void 0:s[j-1])&&void 0!==a?a:0,$=null!==(o=null===(i=U[D])||void 0===i?void 0:i[j-1])&&void 0!==o?o:0,J=q(z,b),Z=q(G,b),ee=L(M,b,j),te=L(D,b,j),ne=R(M,b),re=R(D,b),ae=parseInt((null===y||void 0===y?void 0:y.season)||(new Date).getFullYear()),se=parseInt((null===y||void 0===y?void 0:y.week)||1),oe=parseInt(b),ie=parseInt(j),le=oe<ae||oe===ae&&ie<se,ce=Q(z,G,b,j),ue=(()=>{const e=(W[z]||[]).filter(e=>e.season===b&&Number(e.week)<=Number(j));if(0===e.length)return"\u2014";let t=0,n="";for(let r=e.length-1;r>=0;r--){const a=e[r];if(r===e.length-1)n=a.result,t=1;else{if(a.result!==n)break;t++}}return"".concat(t).concat(n)})(),de=(()=>{const e=(W[G]||[]).filter(e=>e.season===b&&Number(e.week)<=Number(j));if(0===e.length)return"\u2014";let t=0,n="";for(let r=e.length-1;r>=0;r--){const a=e[r];if(r===e.length-1)n=a.result,t=1;else{if(a.result!==n)break;t++}}return"".concat(t).concat(n)})(),he=A.team1_score>A.team2_score,me=A.team2_score>A.team1_score,fe=e=>{if(!e)return new Set;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});const a=new Set;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{i.find(t=>t.playerId===e.playerId)&&a.add(e.playerId)})}),a},pe=e=>{if(!e)return 0;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});let a=0;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position)),o=o.concat(t.filter(e=>["RB","WR","TE"].includes(e.position)))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{a+=e.points||0})}),a},ge=fe(null===O||void 0===O?void 0:O.team1),ye=fe(null===O||void 0===O?void 0:O.team2),ve=pe(null===O||void 0===O?void 0:O.team1),xe=pe(null===O||void 0===O?void 0:O.team2),be=null!==(l=null!==(c=null===O||void 0===O||null===(u=O.team1)||void 0===u?void 0:u.totalPoints)&&void 0!==c?c:A.team1_score)&&void 0!==l?l:0,we=null!==(d=null!==(m=null===O||void 0===O||null===(f=O.team2)||void 0===f?void 0:f.totalPoints)&&void 0!==m?m:A.team2_score)&&void 0!==d?d:0,je=ve>0?be/ve*100:0,Se=xe>0?we/xe*100:0;try{const e=(e,t)=>{if(!e)return;const n="coachScore:".concat(e),r=localStorage.getItem(n);let a=r?JSON.parse(r):[];a.push({ts:Date.now(),score:t}),a.length>200&&(a=a.slice(a.length-200)),localStorage.setItem(n,JSON.stringify(a))},t=e=>{if(!e)return null;const t=localStorage.getItem("coachScore:".concat(e));if(!t)return null;const n=JSON.parse(t);if(!Array.isArray(n)||0===n.length)return null;const r=n.reduce((e,t)=>e+(t.score||0),0);return r/n.length},n=(null===B||void 0===B?void 0:B.roster_id)||M,r=(null===H||void 0===H?void 0:H.roster_id)||D;n&&e(n,je),r&&e(r,Se);t(n),t(r)}catch(VB){}return(0,K.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,K.jsxs)("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-8",children:[(0,K.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,K.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,K.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:V.avatar,alt:"".concat(V.name," avatar")}),(0,K.jsxs)("div",{className:"text-left",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:V.name}),(0,K.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[b," Week ",j]})]})]}),(0,K.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(he?"text-green-600":"text-gray-600"),children:XM(Number(null!==(v=A.team1_score)&&void 0!==v?v:0),2)}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,K.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,K.jsx)("span",{className:"font-semibold text-gray-800",children:ve>0?"".concat(XM(Number(null!==je&&void 0!==je?je:0),1),"%"):"N/A"})]})]}),(0,K.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,K.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,K.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:Y.avatar,alt:"".concat(Y.name," avatar")}),(0,K.jsxs)("div",{className:"text-left",children:[(0,K.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:Y.name}),(0,K.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[b," Week ",j]})]})]}),(0,K.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(me?"text-green-600":"text-gray-600"),children:XM(Number(null!==(x=A.team2_score)&&void 0!==x?x:0),2)}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,K.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,K.jsx)("span",{className:"font-semibold text-gray-800",children:xe>0?"".concat(XM(Number(null!==Se&&void 0!==Se?Se:0),1),"%"):"N/A"})]})]})]}),(0,K.jsxs)("div",{className:"space-y-4 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-8",children:[(0,K.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,K.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[V.name," Stats"]}),(0,K.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Season Record:"}),le?(()=>{const e=F(M,b,j);return(0,K.jsxs)("span",{className:"font-medium",children:[e.wins||0,"-",e.losses||0,e.ties>0?"-".concat(e.ties):""]})})():(0,K.jsxs)("span",{className:"font-medium",children:[(null===g||void 0===g||null===(w=g[b])||void 0===w||null===(S=w[M])||void 0===S?void 0:S.wins)||0,"-",(null===g||void 0===g||null===(N=g[b])||void 0===N||null===(k=N[M])||void 0===k?void 0:k.losses)||0]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Current Streak:"}),(0,K.jsx)("span",{className:"font-medium",children:le?ue:J})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Season Avg:"}),(0,K.jsx)("span",{className:"font-medium",children:XM(Number(le?null!==ee&&void 0!==ee?ee:0:null!==ne&&void 0!==ne?ne:0),2)})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Luck Factor:"}),(0,K.jsxs)("span",{className:"font-medium ".concat(X>0?"text-green-600":"text-red-600"),children:[X>0?"+":"",XM(Number(null!==X&&void 0!==X?X:0),2)]})]})]})]}),(0,K.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,K.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[Y.name," Stats"]}),(0,K.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Season Record:"}),le?(()=>{const e=F(D,b,j);return(0,K.jsxs)("span",{className:"font-medium",children:[e.wins||0,"-",e.losses||0,e.ties>0?"-".concat(e.ties):""]})})():(0,K.jsxs)("span",{className:"font-medium",children:[(null===g||void 0===g||null===(_=g[b])||void 0===_||null===(P=_[D])||void 0===P?void 0:P.wins)||0,"-",(null===g||void 0===g||null===(E=g[b])||void 0===E||null===(I=E[D])||void 0===I?void 0:I.losses)||0]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Current Streak:"}),(0,K.jsx)("span",{className:"font-medium",children:le?de:Z})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Season Avg:"}),(0,K.jsx)("span",{className:"font-medium",children:XM(Number(le?null!==te&&void 0!==te?te:0:null!==re&&void 0!==re?re:0),2)})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{children:"Luck Factor:"}),(0,K.jsxs)("span",{className:"font-medium ".concat($>0?"text-green-600":"text-red-600"),children:[$>0?"+":"",XM(Number(null!==$&&void 0!==$?$:0),2)]})]})]})]})]}),(0,K.jsx)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:(0,K.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"H2H Record"}),(0,K.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:ce})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Point Difference"}),(0,K.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:XM(Math.abs(Number(null!==(T=A.team1_score)&&void 0!==T?T:0)-Number(null!==(C=A.team2_score)&&void 0!==C?C:0)),2)})]}),(0,K.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Matchup Type"}),(0,K.jsx)("div",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Regular Season"})]})]})}),O?O.error?(0,K.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,K.jsx)("div",{className:"text-gray-500 mb-2",children:(0,K.jsx)("svg",{className:"mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,K.jsx)("p",{className:"text-gray-600 max-w-md mx-auto text-sm sm:text-base px-4",children:O.message})]}):(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,K.jsx)("div",{className:"space-y-3",children:(0,K.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[V.name," Roster"]})}),(0,K.jsx)("div",{className:"space-y-3",children:(0,K.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[Y.name," Roster"]})}),(0,K.jsx)("div",{className:"col-span-2",children:(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,K.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineups"}),(0,K.jsx)("div",{className:"space-y-0",children:O.team1.lineup.map((e,t)=>{var n,r;const a=O.team2.lineup[t]||{},s=!(null===e||void 0===e||!e.hasPlayed),o=!(null===a||void 0===a||!a.hasPlayed),i=s?XM(Number(null!==(n=e.points)&&void 0!==n?n:0),2):"---",l=o?XM(Number(null!==(r=a.points)&&void 0!==r?r:0),2):"---",c=e.lineupPosition||a.lineupPosition||"\u2014";let u="pending";if(s&&o){var d,h;const t=Number(null!==(d=e.points)&&void 0!==d?d:0),n=Number(null!==(h=a.points)&&void 0!==h?h:0);u=t>n?"win":t<n?"loss":"tie"}const m="win"===u?"loss":"loss"===u?"win":"tie";return(0,K.jsxs)("div",{className:"grid grid-cols-3 items-center border-b border-gray-200 last:border-b-0 py-2",children:[(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate overflow-hidden whitespace-nowrap",children:e.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]}),(0,K.jsxs)("div",{className:"flex items-center justify-center gap-2 h-10",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("div",{className:"w-12 text-right text-sm font-semibold text-gray-800",children:i}),(0,K.jsx)("div",{className:"inline-block w-3 h-3 rounded-full ".concat("win"===u?"bg-green-600":"loss"===u?"bg-red-600":"bg-gray-300")})]}),(0,K.jsx)("div",{className:"mx-1 flex-shrink-0",children:(0,K.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-xs font-semibold text-gray-700",children:c})}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("div",{className:"inline-block w-3 h-3 rounded-full ".concat("win"===m?"bg-green-600":"loss"===m?"bg-red-600":"bg-gray-300")}),(0,K.jsx)("div",{className:"w-12 text-left text-sm font-semibold text-gray-800",children:l})]})]}),(0,K.jsxs)("div",{className:"min-w-0 text-right",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate overflow-hidden whitespace-nowrap",children:a.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:[a.position," \xb7 ",a.team||"FA"]})]})]},"starter-row-".concat(t))})})]})}),(0,K.jsx)("div",{className:"col-span-2",children:(0,K.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,K.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Bench"}),(0,K.jsx)("div",{className:"space-y-0",children:(()=>{const e=O.team1.bench||[],t=O.team2.bench||[],n=Math.max(e.length,t.length);return Array.from({length:n}).map((n,r)=>{const a=e[r]||{},s=t[r]||{},o=!(null===a||void 0===a||!a.hasPlayed),i=!(null===s||void 0===s||!s.hasPlayed),l=o?XM(Number(a.points||0),2):"---",c=i?XM(Number(s.points||0),2):"---";return(0,K.jsxs)("div",{className:"grid grid-cols-3 items-center border-b border-gray-200 last:border-b-0 py-2",children:[(0,K.jsxs)("div",{className:"min-w-0",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate overflow-hidden whitespace-nowrap",children:a.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:[a.position," \xb7 ",a.team||"FA"]})]}),(0,K.jsxs)("div",{className:"flex items-center justify-center gap-2 h-10",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("div",{className:"w-12 text-right text-sm font-semibold text-gray-800",children:l}),(0,K.jsx)("div",{className:"inline-block w-3 h-3 rounded-full ".concat(ge.has(a.playerId)?"bg-yellow-400":"bg-gray-300")})]}),(0,K.jsx)("div",{className:"mx-1 flex-shrink-0",children:(0,K.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-xs font-semibold text-gray-700",children:"BN"})}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("div",{className:"inline-block w-3 h-3 rounded-full ".concat(ye.has(s.playerId)?"bg-yellow-400":"bg-gray-300")}),(0,K.jsx)("div",{className:"w-12 text-left text-sm font-semibold text-gray-800",children:c})]})]}),(0,K.jsxs)("div",{className:"min-w-0 text-right",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate overflow-hidden whitespace-nowrap",children:s.name}),(0,K.jsxs)("div",{className:"text-xs text-gray-400",children:[s.position," \xb7 ",s.team||"FA"]})]})]},"bench-row-".concat(r))})})()})]})})]}):(0,K.jsx)("div",{className:"text-center py-6 sm:py-8",children:(0,K.jsx)("div",{className:"text-gray-500 text-sm sm:text-base",children:"Loading roster details..."})})]})})()})]})})]})}):(0,K.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,K.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,K.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Gamecenter"}),(0,K.jsx)("div",{className:"text-center text-gray-500",children:(0,K.jsx)("p",{children:"Setting up Gamecenter..."})})]})})};let $F={data:{},timestamp:null,season:null,cacheKey:null};const JF=(e,t,n,r)=>{if(!e||!t)return{};const a=(null===r||void 0===r?void 0:r.week)||1,o="".concat(t,"-").concat(a),i=Date.now();if($F.cacheKey===o&&$F.timestamp&&i-$F.timestamp<3e4)return $F.data;try{f.A.debug("Calculating DPR values for season ".concat(t,", week ").concat(a));const{seasonalMetrics:l}=s(e,0,n,r),c=l[t]||{},u={};return Object.keys(c).forEach(e=>{const t=c[e];if(t){const n=t.adjustedDPR||1,r=t.totalGames||0;let a=1;r<=3?a=.6:r<=6?a=.8:r<=10&&(a=.9),u[e]={adjustedDPR:n,rawDPR:t.rawDPR||0,gamesPlayed:r,confidenceMultiplier:a,averageScore:t.averageScore||0,winPercentage:t.winPercentage||0,allPlayWinPercentage:t.allPlayWinPercentage||0,luckRating:t.luckRating||0,highScore:t.highScore||0,lowScore:t.lowScore||0}}}),$F={data:u,timestamp:i,season:t,cacheKey:o},f.A.debug("DPR calculation complete. Cached ".concat(Object.keys(u).length," teams.")),u}catch(l){return f.A.error("Error calculating team DPR values:",l),{}}},ZF=function(e,t,n,r,a,s){var o,i;let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;!u&&a&&s&&l&&c&&(u=JF(a,s,l,c));const d=null===(o=u)||void 0===o?void 0:o[e],h=null===(i=u)||void 0===i?void 0:i[t],m=n[e],f=n[t];if(!d&&!m||!h&&!f)return.5;const p=d||{adjustedDPR:1,averageScore:(null===m||void 0===m?void 0:m.averageScore)||100,gamesPlayed:(null===m||void 0===m?void 0:m.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},g=h||{adjustedDPR:1,averageScore:(null===f||void 0===f?void 0:f.averageScore)||100,gamesPlayed:(null===f||void 0===f?void 0:f.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},y=Math.max(p.gamesPlayed,g.gamesPlayed),v=p.adjustedDPR-g.adjustedDPR,x=.5*Math.tanh(2*v),b=(r[e]||1500)-(r[t]||1500),w=.2*Math.tanh(b/200),j=.15*(sB(e,s,a,4)-sB(t,s,a,4)),S=.1*eB(e,t,a,s),N=(p.allPlayWinPercentage||.5)-(g.allPlayWinPercentage||.5);let k=x+w+j+S+.05*Math.tanh(2*N),_=Math.min(p.confidenceMultiplier,g.confidenceMultiplier);y<=3?_*=.7:y<=6?_*=.85:y<=10&&(_*=.95),k*=_;let P=.12;y<=3?P=.25:y<=6?P=.18:y<=10&&(P=.15);const A=.5+k+((9301*(7*parseInt(e)+11*parseInt(t))+49297)%233280/233280-.5)*P;return Math.max(.05,Math.min(.95,A))},eB=(e,t,n,r)=>{if(null===n||void 0===n||!n.matchupsBySeason)return 0;const a=[r,(parseInt(r)-1).toString()];let s=0,o=0;if(a.forEach(r=>{(n.matchupsBySeason[r]||[]).filter(n=>String(n.team1_roster_id)===String(e)&&String(n.team2_roster_id)===String(t)||String(n.team1_roster_id)===String(t)&&String(n.team2_roster_id)===String(e)).forEach(t=>{if(t.team1_score>0||t.team2_score>0){o++;const n=String(t.team1_roster_id)===String(e);(n?t.team1_score:t.team2_score)>(n?t.team2_score:t.team1_score)?s++:0}})}),0===o)return 0;return 2*(s/o-.5)},tB=(e,t)=>{var n,r;const a={};if(((null===e||void 0===e||null===(n=e.rostersBySeason)||void 0===n?void 0:n[t])||[]).forEach(e=>{a[e.roster_id]=1500}),null!==e&&void 0!==e&&null!==(r=e.matchupsBySeason)&&void 0!==r&&r[t]){const n=e.matchupsBySeason[t].filter(e=>e.team1_score>0||e.team2_score>0).sort((e,t)=>parseInt(e.week)-parseInt(t.week));n.forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id);if(!a[t]||!a[n])return;const r=a[t],s=a[n],o=1/(1+Math.pow(10,(s-r)/400)),i=1-o;let l,c;e.team1_score>e.team2_score?(l=1,c=0):e.team2_score>e.team1_score?(l=0,c=1):(l=.5,c=.5),a[t]=r+32*(l-o),a[n]=s+32*(c-i)})}return a},nB=(e,t,n,r)=>{const a=t[e];if(!a)return{strategy:"unknown",confidence:0,metrics:{}};const s=a.gamesPlayed||0,o=a.wins||0,i=(a.losses,a.averageScore||0),l=a.powerScore||0,c=s>0?o/s:0,u=a.pointsFor||0,d=a.pointsAgainst||0,h=sB(e,r,n,4),m=Object.values(t).map(e=>e.powerScore||0),f=m.reduce((e,t)=>e+t,0)/m.length,p=m.filter(e=>e<l).length/m.length,g={winPct:c,avgScore:i,powerScore:l,powerScorePercentile:p,recentMomentum:h,pointsDifferential:u-d,gamesPlayed:s};let y="middle",v=.5;c>=.7&&p>=.75&&h>.2?(y="contender",v=.9):c>=.6&&p>=.7?(y="contender",v=.7):p>=.8&&i>1.15*f?(y="contender",v=.6):c<=.3&&p<=.25&&h<-.2?(y="rebuilding",v=.9):c<=.4&&p<=.3?(y="rebuilding",v=.7):p<=.2&&i<.85*f?(y="rebuilding",v=.6):h>.1&&c>.45?(y="rising",v=.6):h<-.1&&c<.55?(y="declining",v=.6):(y="middle",v=.8);return v*=Math.min(1,s/6),{strategy:y,confidence:v,metrics:g,description:rB(y,v)}},rB=(e,t)=>{const n=t>.8?"Very":t>.6?"Moderately":"Somewhat";switch(e){case"contender":return"".concat(n," likely championship contender - selling out to win now");case"rebuilding":return"".concat(n," likely rebuilding - tanking for future assets");case"rising":return"".concat(n," likely on the rise - building momentum");case"declining":return"".concat(n," likely declining - losing momentum");case"middle":return"".concat(n," likely stuck in the middle - mediocre performance");default:return"Unknown strategy - insufficient data"}},aB=(e,t,n,r)=>{var a;if(!t[e])return{consistency:.5,variance:0,reliability:.5};let s=[];if(null!==n&&void 0!==n&&null!==(a=n.matchupsBySeason)&&void 0!==a&&a[r]){const t=n.matchupsBySeason[r].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(e.week)-parseInt(t.week));s=t.map(t=>String(t.team1_roster_id)===String(e)?t.team1_score:t.team2_score)}if(s.length<3)return{consistency:.5,variance:0,reliability:.5,sampleSize:s.length};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=Math.sqrt(i),c=o>0?l/o:1,u=Math.max(0,Math.min(1,1-c/.4));let d=[];for(let p=1;p<s.length;p++)d.push(Math.abs(s[p]-s[p-1]));const h=d.length>0?d.reduce((e,t)=>e+t,0)/d.length:0,m=Math.max(0,Math.min(1,1-h/(.4*o)));let f=.5;if(s.length>=4){const e=s.slice(0,Math.floor(s.length/2)),t=s.slice(Math.floor(s.length/2)),n=e.reduce((e,t)=>e+t,0)/e.length,r=t.reduce((e,t)=>e+t,0)/t.length,a=Math.abs(r-n);f=Math.max(0,Math.min(1,1-a/(.3*o)))}return{consistency:u,variance:i,reliability:m,trendStability:f,coefficientOfVariation:c,avgScore:o,standardDeviation:l,sampleSize:s.length,weeklyScores:s}},sB=function(e,t,n){var r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;if(null===n||void 0===n||null===(r=n.matchupsBySeason)||void 0===r||!r[t])return 0;const s=n.matchupsBySeason[t].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return 0;let o=0,i=0;const l=[];s.forEach((t,n)=>{const r=String(t.team1_roster_id)===String(e),a=r?t.team1_score:t.team2_score,s=r?t.team2_score:t.team1_score;l.push({teamScore:a,opponentScore:s,week:t.week});const c=Math.pow(.7,n),u=a-s;let d=Math.tanh(u/50);u>30||u<-30?d*=1.2:Math.abs(u)<10&&(d*=.8),o+=d*c,i+=c});let c=i>0?o/i:0,u=0,d="none";if(l.length>=3){const e=l.slice(0,3).map(e=>e.teamScore>e.opponentScore);e.every(e=>!0===e)?(d="win",u=e.length):e.every(e=>!1===e)&&(d="loss",u=e.length);const t=l.reduce((e,t)=>e+t.teamScore,0)/l.length,n=l.slice(0,3),r=n.reduce((e,t)=>e+t.teamScore,0)/n.length;r>1.15*t?(d="none"===d?"hot":d,u=Math.max(u,2)):r<.85*t&&(d="none"===d?"cold":d,u=Math.max(u,2))}let h=0;if(u>=3)switch(d){case"win":case"hot":h=.2*Math.min(u/3,2);break;case"loss":case"cold":h=-.2*Math.min(u/3,2)}let m=0;if(l.length>=4){const e=l.slice(-Math.floor(l.length/2)),t=l.slice(0,Math.floor(l.length/2)),n=e.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/e.length,r=t.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/t.length,a=(r-n)/50;m=.15*Math.tanh(a)}const f=c+h+m;return Math.max(-1,Math.min(1,f))},oB=(e,t,n,r)=>{var a;if(null===n||void 0===n||null===(a=n.matchupsBySeason)||void 0===a||!a[t])return 0;const s=n.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e));if(0===s.length)return 0;let o=0,i=0;return s.forEach(t=>{const n=String(t.team1_roster_id)===String(e),a=String(n?t.team2_roster_id:t.team1_roster_id);r[a]&&(o+=r[a],i++)}),i>0?o/i:0},iB=function(e){const t=e*(1+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)),n=Math.max(.01,Math.min(.99,t));let r,a;return r=n>=.5?Math.round(-100*n/(1-n)):Math.round(100*(1-n)/n),a=r<0?-r/(100-r):100/(r+100),{americanOdds:r,impliedProbability:a,originalProbability:e,edge:a-e}},lB=e=>{const t=Object.keys(e).map(t=>({rosterId:t,wins:e[t].wins||0,losses:e[t].losses||0,pointsFor:e[t].pointsFor||0,gamesPlayed:e[t].gamesPlayed||0}));t.forEach(e=>{e.winPercentage=e.gamesPlayed>0?e.wins/e.gamesPlayed:0});const n=[...t].sort((e,t)=>e.winPercentage!==t.winPercentage?t.winPercentage-e.winPercentage:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor),r=n.slice(0,4).map((e,t)=>u(u({},e),{},{seed:t+1,qualifyMethod:"record"})),a=new Set(r.map(e=>e.rosterId)),s=t.filter(e=>!a.has(e.rosterId)).sort((e,t)=>t.pointsFor-e.pointsFor),o=s.slice(0,2).map((e,t)=>u(u({},e),{},{seed:t+5,qualifyMethod:"wildcard"})),i=[...r,...o].sort((e,t)=>e.seed-t.seed);return i},cB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;if(0===n){return lB(t).some(t=>t.rosterId===e)?1:0}let a=0;Object.keys(t).length;const s=Object.keys(t);for(let o=0;o<r;o++){const r={};Object.keys(t).forEach(e=>{r[e]={wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100,powerScore:t[e].powerScore||0}});const o={};Object.keys(r).forEach(e=>{const t=r[e],n=t.gamesPlayed||1,a=Math.max(0,(14-n)/14),s=1-a,i=(t.powerScore||0)/5*.15,l=n>0?t.wins/n:.5;let c;c=n<=2?.5+.05*i+.1*(l-.5):n<=5?.5+.15*i+.25*(l-.5):a*i+s*l;const u=.3*(Math.random()-.5);o[e]=Math.max(.25,Math.min(.75,c+u))});for(let e=0;e<n;e++){const e=[...s],t=[];for(;e.length>=2;){const n=Math.floor(Math.random()*e.length),r=e.splice(n,1)[0],a=Math.floor(Math.random()*e.length),s=e.splice(a,1)[0];t.push([r,s])}if(1===e.length){const t=e[0],n=r[t],a=n.averageScore||100;Math.random()<.5?(n.wins++,n.pointsFor+=a+20*(Math.random()-.5)):(n.losses++,n.pointsFor+=.9*a+20*(Math.random()-.5)),n.gamesPlayed++,n.averageScore=n.pointsFor/n.gamesPlayed}t.forEach(e=>{let[t,n]=e;const a=r[t],s=r[n],i=o[t],l=o[n],c=.5+.4*(i-l),u=.2*(Math.random()-.5),d=Math.max(.15,Math.min(.85,c+u)),h=Math.random()<d,m=a.averageScore+30*(i-.5),f=s.averageScore+30*(l-.5),p=Math.max(40,m+50*(Math.random()-.5)),g=Math.max(40,f+50*(Math.random()-.5));h?(a.wins++,s.losses++,a.pointsFor+=Math.max(p,g+5),s.pointsFor+=Math.min(p-5,g)):(s.wins++,a.losses++,s.pointsFor+=Math.max(p,g+5),a.pointsFor+=Math.min(p,g-5)),a.gamesPlayed++,s.gamesPlayed++,a.averageScore=a.pointsFor/a.gamesPlayed,s.averageScore=s.pointsFor/s.gamesPlayed;const y=h?.02:-.02;o[t]=Math.max(.1,Math.min(.9,o[t]+y)),o[n]=Math.max(.1,Math.min(.9,o[n]-y))})}lB(r).some(t=>t.rosterId===e)&&a++}return a/r},uB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l={};a&&s&&o&&i&&r>=500&&(l=JF(a,s,o,i));const c=cB(e,t,n,r),u=t[e],d=l[e];if(!u)return{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:0,momentum:0,recentForm:.5,dprAdjustedRating:1,odds:{american:5e4,decimal:501,implied:.002}};const h=a&&r>=500?oB(e,s,a,t):50,m=a&&r>=500?sB(e,s,a,4):0,p=r>=500?dB(e,s,4,a):.5,g=(null===d||void 0===d?void 0:d.adjustedDPR)||1,y=(null===d||void 0===d?void 0:d.confidenceMultiplier)||.5,v=u.gamesPlayed||0,x=u.wins||0,b=(u.losses,u.pointsFor||0),w=u.averageScore||100,j=14-v,S=x+j,N=Object.keys(t).map(e=>({rosterId:e,wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100})).sort((e,t)=>{const n=e.gamesPlayed>0?e.wins/e.gamesPlayed:0,r=t.gamesPlayed>0?t.wins/t.gamesPlayed:0;return n!==r?r-n:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor});let k=!1,_=!1;if(v>=8){const e=N.slice(0,4),t=e[3],n=S/14>=(t.gamesPlayed>0?t.wins/t.gamesPlayed:0),r=(t.wins,14-t.gamesPlayed),a=t.wins+r;if(k=!n||S<a,k){const t=new Set(e.map(e=>e.rosterId)),n=N.filter(e=>!t.has(e.rosterId));if(n.sort((e,t)=>t.pointsFor-e.pointsFor),n.length>=2){const e=n[1],t=e.pointsFor;_=b+j*Math.max(1.5*w,150)<t+(14-e.gamesPlayed)*Math.max(.7*e.averageScore,60)}else _=!1}}const P=k&&_;if(P)return f.A.debug("Team ".concat(e," mathematically eliminated: Record path blocked: ").concat(k,", Points path blocked: ").concat(_)),{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:h,momentum:m,recentForm:p,dprAdjustedRating:g,eliminationStatus:{isEliminated:!0,eliminatedFromRecord:k,eliminatedFromPoints:_,maxPossibleWins:S,remainingGames:j},odds:{american:null,decimal:null,implied:0}};v>0&&u.wins,(null===d||void 0===d?void 0:d.averageScore)||u.averageScore;let A=0,E=0,O={1:0,2:0,3:0,4:0,5:0,6:0};if(c>0){const n=u.averageScore||100,a=t._leagueAvgScore||(()=>{const e=Object.values(t).reduce((e,t)=>e+(t.averageScore||100),0)/Object.keys(t).length;return t._leagueAvgScore=e,e})(),s=n/a,o=c*(1/6*Math.max(.5,Math.min(2,s))*(g>0?g:1)*(1+.2*m)*(1+.3*(p-.5)));if(E=Math.round(c*r),E>0){const n=Object.keys(t),r=u.averageScore||100,s=u.wins||0,o=u.losses||0,i=r/a*.7+.3*(s+o>0?s/(s+o):.5);let l=0;for(const u of n){if(u===e)continue;const n=t[u],r=n.averageScore||100,s=n.wins||0,o=n.losses||0;r/a*.7+.3*(s+o>0?s/(s+o):.5)>i&&l++}const c=l+1;c<=2?(O[1]=Math.round(.6*E),O[2]=Math.round(.25*E),O[3]=Math.round(.1*E),O[4]=Math.round(.05*E)):c<=4?(O[1]=Math.round(.2*E),O[2]=Math.round(.35*E),O[3]=Math.round(.3*E),O[4]=Math.round(.15*E)):c<=6?(O[2]=Math.round(.15*E),O[3]=Math.round(.25*E),O[4]=Math.round(.3*E),O[5]=Math.round(.2*E),O[6]=Math.round(.1*E)):c<=8?(O[4]=Math.round(.2*E),O[5]=Math.round(.4*E),O[6]=Math.round(.4*E)):(O[5]=Math.round(.6*E),O[6]=Math.round(.4*E))}A=Math.round(o*r)}const I=r>0?A/r:0,T=E>0?Object.keys(O).reduce((e,t)=>e+parseInt(t)*O[t],0)/E:null;let C={american:null,decimal:null,implied:I},M=I;if(M=I,M<.005&&c>.05?M=Math.max(.005,.12*c):0!==M||P||(M=.001),M>0){const e=Math.min(.95,1.1*M);C.american=e>=.5?Math.round(-100*e/(1-e)):Math.round(100*(1-e)/e),C.decimal=e>0?1/e:null,C.implied=e}return{championshipProbability:I,playoffProbability:c,expectedSeed:T,strengthOfSchedule:h,momentum:m,recentForm:p,dprAdjustedRating:g,dprConfidence:y,seedDistribution:O,eliminationStatus:{isEliminated:!1,eliminatedFromRecord:!1,eliminatedFromPoints:!1,maxPossibleWins:S,remainingGames:j},odds:C}},dB=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null===a||void 0===a||null===(n=a.matchupsBySeason)||void 0===n||!n[t])return.5;const s=a.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,r);if(0===s.length)return.5;return s.filter(t=>String(t.team1_roster_id)===String(e)?parseFloat(t.team1_score)>parseFloat(t.team2_score):parseFloat(t.team2_score)>parseFloat(t.team1_score)).length/s.length},hB=[{team1:"Crude Crushers",score1:138.93,team2:"The Freakshow",score2:100.85},{team1:"The Wolf of Waller Street",score1:153.71,team2:"Team of Constant Sorrow",score2:126.76},{team1:"Je_B",score1:110.04,team2:"Burrowing for Brownies",score2:162.27},{team1:"The Nightriders",score1:130.63,team2:"A Touch Of Downs",score2:147.74},{team1:"Mayfield of Dreams",score1:169.28,team2:"Michael Vick's Vet Clinic",score2:151.51},{team1:"Fupa Fappers",score1:91.62,team2:"Allen Merchants",score2:139.7},{team1:"Crude Crushers",score1:144.38,team2:"Mayfield of Dreams",score2:122.86},{team1:"The Wolf of Waller Street",score1:106.52,team2:"Je_B",score2:105.52},{team1:"The Nightriders",score1:86.77,team2:"Fupa Fappers",score2:144.53},{team1:"A Touch Of Downs",score1:112.67,team2:"Allen Merchants",score2:148.63},{team1:"The Freakshow",score1:114.6,team2:"Burrowing for Brownies",score2:107.33},{team1:"Michael Vick's Vet Clinic",score1:109.34,team2:"Team of Constant Sorrow",score2:146.17},{team1:"Crude Crushers",score1:118.57,team2:"Fupa Fappers",score2:141.01},{team1:"The Wolf of Waller Street",score1:165.03,team2:"Michael Vick's Vet Clinic",score2:117.77},{team1:"Je_B",score1:138.39,team2:"The Freakshow",score2:96.32},{team1:"The Nightriders",score1:154.31,team2:"Allen Merchants",score2:91.91},{team1:"Mayfield of Dreams",score1:179.98,team2:"Team of Constant Sorrow",score2:113.89},{team1:"A Touch Of Downs",score1:68.62,team2:"Burrowing for Brownies",score2:111.81},{team1:"Crude Crushers",score1:123.52,team2:"A Touch Of Downs",score2:141.64},{team1:"The Wolf of Waller Street",score1:103.99,team2:"Allen Merchants",score2:115.82},{team1:"Je_B",score1:95.87,team2:"Michael Vick's Vet Clinic",score2:117.6},{team1:"The Nightriders",score1:106.58,team2:"The Freakshow",score2:152.71},{team1:"Mayfield of Dreams",score1:138.86,team2:"Burrowing for Brownies",score2:94.25},{team1:"Fupa Fappers",score1:89.24,team2:"Team of Constant Sorrow",score2:88.37},{team1:"Crude Crushers",score1:123.53,team2:"Herbert's Tank is Cumming",score2:104.37},{team1:"The Wolf of Waller Street",score1:179.2,team2:"Michael Vick's Vet Clinic",score2:122.8},{team1:"Je_B",score1:132.62,team2:"The Nightriders",score2:131.74},{team1:"Bohans Bitches",score1:103.51,team2:"JizzAllenTakesItInTheAss",score2:106.87},{team1:"Fupa Fappers",score1:170.83,team2:"7 Mile Spanking Machine",score2:129.38},{team1:"Rog, King of the Slams",score1:182.11,team2:"Team of Constant Sorrow",score2:136.83},{team1:"Crude Crushers",score1:89.91,team2:"Michael Vick's Vet Clinic",score2:148.32},{team1:"The Wolf of Waller Street",score1:126.52,team2:"Herbert's Tank is Cumming",score2:91.86},{team1:"Je_B",score1:135.17,team2:"Bohans Bitches",score2:145.6},{team1:"The Nightriders",score1:125.92,team2:"JizzAllenTakesItInTheAss",score2:148.48},{team1:"Fupa Fappers",score1:159.61,team2:"Rog, King of the Slams",score2:154.46},{team1:"7 Mile Spanking Machine",score1:85.51,team2:"Team of Constant Sorrow",score2:118.81}];const mB={"Mayfield of Dreams":{rank:1,dpr:1.263,record:"3-1",pointsFor:610.98,pointsAgainst:504.03,luck:-.455,projectedRecord:"12-2",avgPerGame:152.75,tier:2},"The Wolf of Waller Street":{rank:2,dpr:1.131,record:"3-1",pointsFor:529.25,pointsAgainst:465.87,luck:.727,projectedRecord:"10-4",avgPerGame:132.31,tier:3},"Allen Merchants":{rank:3,dpr:1.057,record:"3-1",pointsFor:496.06,pointsAgainst:462.59,luck:.818,projectedRecord:"8-6",avgPerGame:124.02,tier:3},"Crude Crushers":{rank:4,dpr:1.049,record:"2-2",pointsFor:525.4,pointsAgainst:506.36,luck:-.455,projectedRecord:"10-4",avgPerGame:131.35,tier:3},"Fupa Fappers":{rank:5,dpr:1.017,record:"3-1",pointsFor:466.4,pointsAgainst:433.41,luck:1.364,projectedRecord:"7-7",avgPerGame:116.6,isCold:!0,tier:3},"Burrowing for Brownies":{rank:6,dpr:.989,record:"2-2",pointsFor:475.66,pointsAgainst:432.12,luck:.364,projectedRecord:"6-8",avgPerGame:118.92,isHot:!0,tier:3},"The Freakshow":{rank:7,dpr:.967,record:"2-2",pointsFor:464.48,pointsAgainst:491.23,luck:.182,projectedRecord:"5-9",avgPerGame:116.12,isCold:!0,tier:3},"Michael Vick's Vet Clinic":{rank:8,dpr:.947,record:"1-3",pointsFor:496.22,pointsAgainst:576.35,luck:-1.182,projectedRecord:"7-7",avgPerGame:124.06,tier:3},"A Touch Of Downs":{rank:9,dpr:.928,record:"2-2",pointsFor:470.67,pointsAgainst:514.59,luck:0,projectedRecord:"6-8",avgPerGame:117.67,tier:3},"The Nightriders":{rank:10,dpr:.901,record:"1-3",pointsFor:478.29,pointsAgainst:536.89,luck:-.636,projectedRecord:"5-9",avgPerGame:119.57,isCold:!0,tier:3},"Team of Constant Sorrow":{rank:11,dpr:.889,record:"1-3",pointsFor:475.19,pointsAgainst:532.27,luck:-.545,projectedRecord:"5-9",avgPerGame:118.8,isCold:!0,tier:3},Je_B:{rank:12,dpr:.862,record:"1-3",pointsFor:449.82,pointsAgainst:482.71,luck:-.182,projectedRecord:"3-11",avgPerGame:112.46,isCold:!0,tier:3}};function fB(e){return null!=e?String(e):e}function pB(e){let{processedSeasonalRecords:t,season:n,historicalData:r,getTeamDetails:a,rostersWithDetails:s=null}=e;if(!t||null==n)return console.warn("[DynamicStats] Missing required data for stats generation"),{};const o=fB(n),i="string"===typeof n?parseInt(n):n;let l=t[o]||t[i];if(!l)return console.warn("[DynamicStats] No season data found for ".concat(o)),{};const c=null===r||void 0===r?void 0:r.matchupsBySeason;let u=[];c&&(u=c[o]||c[i]||[]);const d=Object.values(l),h={averageScore:d.reduce((e,t)=>e+(t.averageScore||0),0)/d.length,averageWins:d.reduce((e,t)=>e+(t.wins||0),0)/d.length},m={};if(u.length>0){const e={};u.forEach(t=>{const n=String(t.team1_roster_id||t.t1||""),r=String(t.team2_roster_id||t.t2||"");if(!n||!r)return;const a=t.team1_score||t.score1||0,s=t.team2_score||t.score2||0,o=parseInt(t.week)||0;e[n]||(e[n]=[]),e[r]||(e[r]=[]),e[n].push({week:o,scored:a,allowed:s,win:a>s}),e[r].push({week:o,scored:s,allowed:a,win:s>a})}),Object.keys(e).forEach(t=>{const n=e[t].sort((e,t)=>e.week-t.week),r=n.slice(-4);m[t]=function(e){if(!e||e.length<2)return{isHot:!1,isCold:!1,streak:0};const t=e.filter(e=>e.win).length/e.length;let n=0,r=null;for(let a=e.length-1;a>=0;a--){const t=e[a];if(null===r)r=t.win?"win":"loss",n=1;else{if(!("win"===r&&t.win||"loss"===r&&!t.win))break;n++}}return{isHot:t>=.75||n>=3&&"win"===r,isCold:t<=.25||n>=3&&"loss"===r,streak:n,streakType:r,winRate:t}}(r)})}const f={},p=Object.keys(l).sort((e,t)=>{const n=l[e].averageScore||0;return(l[t].averageScore||0)-n});return p.forEach((e,t)=>{var r,s;const o=l[e],i=m[e]||{isHot:!1,isCold:!1};let c=null;try{"function"===typeof a&&(c=a(e,n)||a(o.owner_id||o.ownerId,n))}catch(j){console.warn("[DynamicStats] Error getting team details for ".concat(e,":"),j)}const u=o.wins||0,d=o.losses||0,p=o.ties||0,g=u+d+p,y=g>0?u/g:0,v=o.totalPointsFor||o.pointsFor||0,x=o.totalPointsAgainst||o.pointsAgainst||0,b=o.averageScore||(g>0?v/g:0),w=o.dpr||o.DPR||function(e,t){return e.gamesPlayed&&0!==e.gamesPlayed?(e.averageScore||e.pointsFor/e.gamesPlayed)/(t.averageScore||100)*.7+e.wins/(e.wins+e.losses)*.6+.4:1}(o,h);f[e]={rosterId:String(e),ownerId:o.owner_id||o.ownerId||null,name:(null===(r=c)||void 0===r?void 0:r.name)||(null===(s=c)||void 0===s?void 0:s.team_name)||"Team ".concat(e),rank:t+1,dpr:Number(w.toFixed(3)),record:"".concat(u,"-").concat(d).concat(p>0?"-".concat(p):""),wins:u,losses:d,ties:p,winPercentage:Number(y.toFixed(3)),pointsFor:Number(v.toFixed(2)),pointsAgainst:Number(x.toFixed(2)),avgPerGame:Number(b.toFixed(2)),averageScore:Number(b.toFixed(2)),luck:o.luck||o.luckRating||0,allPlayWinPercentage:o.allPlayWinPercentage||y,isHot:i.isHot,isCold:i.isCold,streak:i.streak||0,streakType:i.streakType||null,gamesPlayed:g,tier:o.tier||(t<4?1:t<8?2:3),scores:o.scores||[],weeklyScores:o.weeklyScores||[]}}),f}function gB(e,t){if(!e||!t)return null;return Object.values(e).find(e=>e.name===t)||null}function yB(e,t){if(!e||null==t)return null;const n=fB(t),r="string"===typeof t?parseInt(t):t;return e[n]||e[r]||null}function vB(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!n)return console.warn("No dynamic stats provided for enhanced spread calculation"),{spread:0,confidence:.3,basis:"no-stats"};let r=n[e]||gB(n,e),a=n[t]||gB(n,t);if(!r||!a)return console.warn("Missing dynamic stats for ".concat(e," or ").concat(t)),{spread:0,confidence:.3,basis:"missing-teams"};const s=r.avgPerGame-a.avgPerGame;let o,i;if(r.scores&&r.scores.length>2){const e=r.scores.reduce((e,t)=>e+t)/r.scores.length;o=r.scores.reduce((t,n)=>t+Math.pow(n-e,2),0)/r.scores.length}else{const e=.12+r.avgPerGame/1e3;o=Math.pow(r.avgPerGame*e,2)}if(a.scores&&a.scores.length>2){const e=a.scores.reduce((e,t)=>e+t)/a.scores.length;i=a.scores.reduce((t,n)=>t+Math.pow(n-e,2),0)/a.scores.length}else{const e=.12+a.avgPerGame/1e3;i=Math.pow(a.avgPerGame*e,2)}const l=Math.sqrt(o),c=Math.sqrt(i),u=l/r.avgPerGame,d=c/a.avgPerGame,h=o+i,m=Math.sqrt(h);let f=s*(1-.3*Math.min(1,m/50));const p=(d-u)*s*.25*(Math.max(u,d)>.15?.8:1);let g=0;if(r.scores&&a.scores&&r.scores.length>=3){const e=Math.max(1,Math.floor(.25*r.gamesPlayed)),t=r.scores.slice(-e),n=a.scores.slice(-e),s=t.reduce((e,t)=>e+t)/t.length,o=n.reduce((e,t)=>e+t)/n.length;g=.3*(s-o-(r.avgPerGame-a.avgPerGame))}let y=0;if(r.scores&&a.scores&&r.scores.length>=3){const e=Math.floor(r.scores.length/2),t=r.scores.slice(0,e),n=r.scores.slice(e),s=t.reduce((e,t)=>e+t)/t.length,o=n.reduce((e,t)=>e+t)/n.length,i=o-s,l=a.scores.slice(0,e),c=a.scores.slice(e),u=l.reduce((e,t)=>e+t)/l.length,d=c.reduce((e,t)=>e+t)/c.length;y=.2*(i-(d-u))}let v=0;r.isCold&&!a.isCold&&(v-=2.5),a.isCold&&!r.isCold&&(v+=2.5);const x=(o+i)/2,b=p+g+y+v+(u-d)*s*(.2+Math.min(x/200,.3));let w=-(f+b),j=.7;const S=Math.min(r.gamesPlayed,a.gamesPlayed);S>=4?j+=.2:S>=2&&(j+=.1);const N=Math.abs(w);return N>20?j-=.3:N>12?j-=.2:N>6&&(j-=.1),j=Math.max(.1,Math.min(.95,j)),{spread:Number(w.toFixed(1)),confidence:Number(j.toFixed(2)),basis:"enhanced",breakdown:{baseSpread:Number(f.toFixed(1)),avgDiff:Number(s.toFixed(1)),team1Variance:Number(o.toFixed(1)),team2Variance:Number(i.toFixed(1)),team1ErrorCoeff:Number(u.toFixed(3)),team2ErrorCoeff:Number(d.toFixed(3)),consistencyAdjustment:Number(p.toFixed(1)),recentFormAdjustment:Number(g.toFixed(1)),trendAdjustment:Number(y.toFixed(1)),momentumAdjustment:Number(v.toFixed(1)),totalAdjustment:Number(b.toFixed(1))}}}function xB(e,t){let n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(a?(n=a[e],r=a[t],n||(n=gB(a,e)),r||(r=gB(a,t))):(n=mB[e],r=mB[t]),!n||!r)return console.warn("Missing stats for ".concat(e," or ").concat(t)),.5;const s=n.dpr-r.dpr,o=1/(1+Math.exp(5*-s)),i=n.avgPerGame-r.avgPerGame,l=1/(1+Math.exp(.05*-i));let c=.5;n.isHot&&r.isCold?c=.75:n.isCold&&r.isHot?c=.25:n.isHot&&!r.isHot?c=.6:r.isHot&&!n.isHot||n.isCold&&!r.isCold?c=.4:r.isCold&&!n.isCold&&(c=.6);const u=parseInt(n.record.split("-")[0])-parseInt(r.record.split("-")[0]),d=.5*o+.3*l+.1*c+.1*Math.max(.2,Math.min(.8,.5+.1*u));return Math.max(.05,Math.min(.95,d))}function bB(e,t,n){return xB(e,t,n)}const wB=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.055;const r=Math.abs(e);if(0===r){return-110+Math.round(10*(Math.random()-.5))}let a,s;r<=1.5?(a=-110-8*r,s=100+8*r):r<=3?(a=-122-12*(r-1.5),s=108+12*(r-1.5)):r<=4.5?(a=-140-15*(r-3),s=126+15*(r-3)):r<=7?(a=-163-18*(r-4.5),s=149+18*(r-4.5)):r<=10?(a=-208-25*(r-7),s=194+25*(r-7)):r<=15?(a=-283-30*(r-10),s=269+30*(r-10)):(a=-433-20*(r-15),s=419+20*(r-15));const o=1+.5*n;return a=Math.round(a*o),s=Math.round(s*o),a=Math.max(-5e3,a),s=Math.min(5e3,Math.max(100,s)),t?a:s},jB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e-.5;let r;const a=Math.abs(n);if(a<=.05)r=60*-n;else if(a<=.15){r=-(3+40*(a-.05))*Math.sign(n)}else if(a<=.3){r=-(7+30*(a-.15))*Math.sign(n)}else{r=-(14+20*(a-.3))*Math.sign(n)}return r-=.2*t,Math.round(2*r)/2},SB=e=>{const t=Math.max(1e-10,Math.min(1-1e-10,e));return Math.SQRT2*(e=>{const t=e<0?-1:1,n=Math.log(1-e*e),r=2/(.147*Math.PI)+n/2,a=r*r-n/.147;return t*Math.sqrt(Math.sqrt(a)-r)})(2*t-1)},NB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e+t;(!e||!t||r<150)&&(r=220);const{variance:a=.03,weekNumber:s=3}=n;s<=3&&(r*=1.02);let o=r*(1+(Math.random()-.5)*a*2);return o=Math.max(180,Math.min(320,o)),Math.round(2*o)/2},kB=function(e){const t=Math.abs(e);if(t<=1.5){return{favoriteJuice:-115-Math.round(10*Math.random()),underdogJuice:-105-Math.round(10*Math.random())}}if(t>=10){const e=-108-Math.round(8*Math.random());return{favoriteJuice:e,underdogJuice:e}}{const e=Math.round(16*(Math.random()-.5)),t=-110+e,n=-110-e;return{favoriteJuice:Math.max(-125,Math.min(-100,t)),underdogJuice:Math.max(-125,Math.min(-100,n))}}},_B=function(e){const t=Math.round(12*(Math.random()-.5)),n=-110+t,r=-110-t;return{overJuice:Math.max(-120,Math.min(-105,n)),underJuice:Math.max(-120,Math.min(-105,r))}},PB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{powerScore:50,pointsComponent:0,consistencyComponent:0,momentumComponent:0};const{averageScore:r=100,scores:a=[],gamesPlayed:s=0,wins:o=0,losses:i=0}=e,l=Object.values(n).map(e=>e.averageScore||100),c=l.reduce((e,t)=>e+t,0)/l.length,u=(r-c)/c,d=60*Math.tanh(3*u);let h=0;if(a.length>=2){const e=a.reduce((e,t)=>e+Math.pow(t-r,2),0)/a.length,t=Math.sqrt(e)/r;h=25*Math.max(0,1-t/.3)}let m=0;if(a.length>=2){const e=Math.min(3,a.length),t=a.slice(-e),n=a.slice(0,-e);if(n.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length,r=n.reduce((e,t)=>e+t,0)/n.length,a=(e-r)/r;m=15*Math.tanh(2*a)}}const f=50+d+h+m;return{powerScore:Math.max(0,Math.min(100,f)),pointsComponent:d,consistencyComponent:h,momentumComponent:m,details:{averageScore:r,leagueAverage:c,pointsAdvantage:100*u,consistency:h/25,momentum:m/15}}},AB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{let a;if(r&&Object.keys(r).length>0?(a=vB(e,t,n,r),console.log("Using dynamic enhanced spread for ".concat(e," vs ").concat(t,": ").concat(a.spread))):(a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;const r=mB[e],a=mB[t];if(!r||!a)return console.warn("Missing current season stats for ".concat(e," or ").concat(t)),{spread:0,confidence:.3,basis:"fallback"};const s=n-.5;let o;const i=Math.abs(s);o=i<=.05?-30*s:i<=.15?1.5*Math.sign(-s)+-30*(i-.05)*Math.sign(s):i<=.25?6*Math.sign(-s)+-60*(i-.15)*Math.sign(s):12*Math.sign(-s)+-40*(i-.25)*Math.sign(s);const l=12*(a.dpr-r.dpr),c=.25*(a.avgPerGame-r.avgPerGame);let u=0;r.isHot&&!a.isHot&&(u-=3),a.isHot&&!r.isHot&&(u+=3),r.isCold&&!a.isCold&&(u+=3),a.isCold&&!r.isCold&&(u-=3);const d=1.5*(r.luck-a.luck),h=l+c+u+d;let m=o+h;m=Math.round(2*m)/2,m=Math.max(-35,Math.min(35,m));const f=Math.min(1,Math.abs(h)/15);return{spread:m,confidence:Math.max(.5,Math.min(.9,.85-.3*f)),basis:"enhanced",components:{baseSpread:o.toFixed(1),dprAdjustment:l.toFixed(1),avgAdjustment:c.toFixed(1),formAdjustment:u.toFixed(1),luckAdjustment:d.toFixed(1),totalAdjustment:h.toFixed(1)},team1Stats:r,team2Stats:a}}(e,t,n),console.log("Using legacy enhanced spread for ".concat(e," vs ").concat(t,": ").concat(a.spread))),"enhanced"===a.basis||"dynamic-stats"===a.basis){console.log("Using enhanced current season spread for ".concat(e," vs ").concat(t,": ").concat(a.spread));const n=r?r[e]:a.team1Stats,s=r?r[t]:a.team2Stats;return{spread:a.spread,confidence:a.confidence,historicalBasis:!0,team1Stats:{mean:(null===n||void 0===n?void 0:n.averageScore)||(null===n||void 0===n?void 0:n.avgPerGame)||120,stdDev:20,isHot:(null===n||void 0===n?void 0:n.isHot)||!1,isCold:(null===n||void 0===n?void 0:n.isCold)||!1,consistency:95},team2Stats:{mean:(null===s||void 0===s?void 0:s.averageScore)||(null===s||void 0===s?void 0:s.avgPerGame)||120,stdDev:20,isHot:(null===s||void 0===s?void 0:s.isHot)||!1,isCold:(null===s||void 0===s?void 0:s.isCold)||!1,consistency:95},enhancedBasis:a}}const s=function(){const e={};return hB.forEach(t=>{e[t.team1]||(e[t.team1]={scores:[],games:0}),e[t.team2]||(e[t.team2]={scores:[],games:0}),e[t.team1].scores.push(t.score1),e[t.team2].scores.push(t.score2),e[t.team1].games++,e[t.team2].games++}),Object.keys(e).forEach(t=>{const n=e[t].scores,r=n.length,a=n.reduce((e,t)=>e+t,0)/r,s=n.reduce((e,t)=>e+Math.pow(t-a,2),0)/(r-1),o=Math.sqrt(s),i=n.slice(-3),l=i.reduce((e,t)=>e+t,0)/i.length,c=l>a+.5*o,d=l<a-.5*o,h=100*Math.max(0,1-s/(a*a));e[t]=u(u({},e[t]),{},{mean:a,variance:s,standardDeviation:o,recentMean:l,isHot:c,isCold:d,consistencyRating:h,coefficient_of_variation:o/a})}),e}(),o=r&&r[e]?r[e].name:e,i=function(e,t,n){const r=n[e],a=n[t];if(!r||!a)return console.warn("Missing team stats for ".concat(e," or ").concat(t)),{spread:0,confidence:0};const s=a.mean-r.mean,o=r.variance+a.variance,i=Math.sqrt(o);let l=0;r.isHot&&!a.isHot&&(l-=3),a.isHot&&!r.isHot&&(l+=3),r.isCold&&!a.isCold&&(l+=3),a.isCold&&!r.isCold&&(l-=3);const c=s+l,u=Math.max(0,Math.min(1,1-i/Math.abs(c+.1)));return{spread:Math.round(10*c)/10,confidence:u,combinedStdDev:i,team1Stats:{mean:r.mean,stdDev:r.standardDeviation,isHot:r.isHot,isCold:r.isCold,consistency:r.consistencyRating},team2Stats:{mean:a.mean,stdDev:a.standardDeviation,isHot:a.isHot,isCold:a.isCold,consistency:a.consistencyRating}}}(o,r&&r[t]?r[t].name:t,s);let l=i.spread;return l=Math.round(2*l)/2,{spread:l,confidence:i.confidence,historicalBasis:!0,team1Stats:i.team1Stats,team2Stats:i.team2Stats}}catch(a){return console.warn("Enhanced analysis failed, falling back to probability-based spread:",a),{spread:jB(n),confidence:.5,historicalBasis:!1}}},EB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=PB(e,null===e||void 0===e?void 0:e.rosterId,n),a=PB(t,null===t||void 0===t?void 0:t.rosterId,n);return{powerDiff:(r.powerScore-a.powerScore)/10,team1Power:r.powerScore,team2Power:a.powerScore,team1Details:r.details,team2Details:a.details}},OB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{team1RosterId:r,team2RosterId:a,team1Name:s,team2Name:o,winProbability:i=.5}=e,{vig:l=.055,includePropBets:c=!0,includeSpecialMarkets:u=!1,weekNumber:d=3}=n;let h=t[r],m=t[a];!s||!s.includes("Michael Vick")&&h&&m||(console.log("[CLEAN ODDS DEBUG] Looking up teams:"),console.log("  Team1: ".concat(s," (ID: ").concat(r,") - Direct lookup: ").concat(h?"FOUND":"MISSING")),console.log("  Team2: ".concat(o," (ID: ").concat(a,") - Direct lookup: ").concat(m?"FOUND":"MISSING")),console.log("  Available stats keys:",Object.keys(t).slice(0,10)),console.log("  Stats structure sample:",Object.values(t)[0])),!h&&s&&(h=Object.values(t).find(e=>e&&e.name&&e.name.toLowerCase().trim()===s.toLowerCase().trim()),h&&console.log("[FALLBACK] Found ".concat(s," by name lookup (roster ID: ").concat(h.rosterId,")"))),!m&&o&&(m=Object.values(t).find(e=>e&&e.name&&e.name.toLowerCase().trim()===o.toLowerCase().trim()),m&&console.log("[FALLBACK] Found ".concat(o," by name lookup (roster ID: ").concat(m.rosterId,")"))),h||(console.log("[WARNING] No stats found for ".concat(s," (ID: ").concat(r,"), using defaults")),h={averageScore:120,gamesPlayed:0,scores:[],rosterId:r}),m||(console.log("[WARNING] No stats found for ".concat(o," (ID: ").concat(a,"), using defaults")),m={averageScore:120,gamesPlayed:0,scores:[],rosterId:a});let f=i;if(r&&a){const e=Object.values(t).some(e=>e&&"number"===typeof e.dpr),n=xB(e?r:s,e?a:o,e?t:null);f=Math.abs(n-.5)>.05?n:.7*n+.3*i,console.log("Using calculated win probability for ".concat(s,": ").concat((100*f).toFixed(1),"%"))}let p=null;if(r&&a){const e=Object.values(t).some(e=>e&&"number"===typeof e.dpr);p=AB(e?r:s,e?a:o,f,e?t:null)}const g=EB(h,m,t),y=.02*g.powerDiff,v=Math.max(.1,Math.min(.9,f+y)),x=e=>{if(!Array.isArray(e)||e.length<2)return 400;const t=e.length,n=e.reduce((e,t)=>e+t,0)/t,r=e.reduce((e,t)=>e+Math.pow(t-n,2),0)/t;return Math.max(100,r)},b=x(h.scores),w=x(m.scores),j=(h.averageScore||120)-(m.averageScore||120),S=Math.sqrt(b+w),N=g.powerDiff,k=g.team1Details||{pointsAdvantage:0,consistency:.5,momentum:0},_=g.team2Details||{pointsAdvantage:0,consistency:.5,momentum:0},P=2.5*N,A=(k.momentum||0)-(_.momentum||0);let E=.65*j+.3*P+.05*(4*A);E=Math.max(-20,Math.min(20,E));const O=1-.3*((Math.max(0,Math.min(1,k.consistency||.5))+Math.max(0,Math.min(1,_.consistency||.5)))/2),I=1-.05*Math.abs(A),T=Math.max(6,S*O*I);let C,M;if(p&&p.historicalBasis)C=p.spread,M=p.confidence,console.log("Using historical spread for ".concat(s," vs ").concat(o,": ").concat(C));else{let e;try{e=E+T*SB(1-v)}catch(VB){e=Math.abs(jB(v,g.powerDiff))}C=v>.5?-e:e,M=.6}let D=Math.abs(C);D=Math.round(2*D)/2;const R=C<0,L=h.averageScore||h.avgPerGame||120,F=m.averageScore||m.avgPerGame||120,B=Math.abs(L-F),W=Math.abs(g.powerDiff);D<.5&&B<5&&W<1&&(D=0,C=0),D>0&&(C=R?-D:D);const U=0===D;let z,V;s&&o&&console.log("[Spread Debug] ".concat(s," vs ").concat(o,": scoringDiff=").concat(B.toFixed(1),", powerDiff=").concat(W.toFixed(2),", finalSpread=").concat(C,", isPick=").concat(U)),U?(z=wB(0,!0,l),V=wB(0,!1,l)):(z=wB(D,R,l),V=wB(D,!R,l));const H=NB(h.averageScore,m.averageScore,{weekNumber:d,variance:.06,pace:1+.01*g.powerDiff,defensive:1}),G=kB(C,.6),q=_B(H,.5),K=(e,t)=>{if(U)return"PK";if(t)return e>0?"+".concat(e):e.toString();{const t=-e;return t>0?"+".concat(t):t.toString()}},Y={spread:{team1:{name:s,line:K(C,!0),odds:U||R?G.favoriteJuice:G.underdogJuice},team2:{name:o,line:K(C,!1),odds:U||R?G.underdogJuice:G.favoriteJuice}},moneyline:{team1:{name:s,odds:z},team2:{name:o,odds:V}},total:{over:{line:H,odds:q.overJuice},under:{line:H,odds:q.underJuice}},powerAnalysis:{team1Power:g.team1Power,team2Power:g.team2Power,powerDiff:g.powerDiff,team1Details:g.team1Details,team2Details:g.team2Details,originalWinProb:i,adjustedWinProb:v,isPick:U}};return c&&(Y.props=IB(h,m,s,o)),Y},IB=(e,t,n,r)=>{const a=e.averageScore||100,s=t.averageScore||100;return{teamTotals:{team1:{name:n,over:{line:Math.round(2*(a-5))/2,odds:-115},under:{line:Math.round(2*(a-5))/2,odds:-105}},team2:{name:r,over:{line:Math.round(2*(s-5))/2,odds:-115},under:{line:Math.round(2*(s-5))/2,odds:-105}}},marginOfVictory:{under7:{odds:140},"7to14":{odds:180},over14:{odds:250}}}},TB=e=>{const t=Math.max(.01,Math.min(.99,e));return t>=.5?Math.round(-100*t/(1-t)):Math.round(100*(1-t)/t)},CB=e=>e>0?"+".concat(e):"".concat(e),MB=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:s,loading:o,rostersWithDetails:i}=J(),[l,c]=(0,t.useState)("gameLines"),[d,h]=(0,t.useState)("playoffs"),[m,f]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)({}),[S,N]=(0,t.useState)([]),[k,_]=(0,t.useState)(""),[P,A]=(0,t.useState)([]),[E,O]=(0,t.useState)(!1),[I,T]=(0,t.useState)(!1),[C,M]=(0,t.useState)(null),D=(0,t.useMemo)(()=>{var e;return n&&Array.isArray(n)?null===(e=n[0])||void 0===e?void 0:e.season:null===n||void 0===n?void 0:n.season},[n]),R=(0,t.useMemo)(()=>{if(!a||!D||!e)return{};try{return pB({processedSeasonalRecords:a,season:D,historicalData:e,getTeamDetails:r,rostersWithDetails:i})}catch(t){return console.warn("[Sportsbook] Error building dynamic stats:",t),{}}},[a,D,e,r,i]);(0,t.useEffect)(()=>{if(null!==s&&void 0!==s&&s.week&&!m&&f(parseInt(s.week)),D&&e){const t=tB(e,D);j(t)}},[s,m,D,e]);const L=e=>{if(!e)return"";let t=e;if(Object.entries({"The ":"","Team ":""," FC":""," United":""," City":"",Dynasty:"Dyn",Champions:"Champs",Destroyers:"Dest",Crushers:"Crush",Warriors:"War",Titans:"Tit",Thunder:"Thund",Lightning:"Light",Hurricanes:"Hurr",Tornadoes:"Torn",Blizzard:"Bliz",Avalanche:"Aval",Storm:"Storm",Fire:"Fire",Ice:"Ice",Steel:"Steel",Iron:"Iron",Gold:"Gold",Silver:"Silv",Diamond:"Diam",Platinum:"Plat",Elite:"Elite",Power:"Pow",Force:"Force",Impact:"Imp",Explosion:"Exp",Revolution:"Rev",Evolution:"Evo",Domination:"Dom",Destruction:"Dest",Annihilation:"Ann",Obliteration:"Obl",Decimation:"Dec",Devastation:"Dev"}).forEach(e=>{let[n,r]=e;t=t.replace(new RegExp(n,"gi"),r)}),t.length>12){const e=t.split(" ");if(e.length>1){const n=e[0],r=e.slice(1).map(e=>e.charAt(0)).join("");t=n+r}}return t.length>12&&(t=t.substring(0,10)+"..."),t},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();A(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>{A(e=>e.filter(e=>e.id!==n))},3e3)},B=e=>{const t="".concat(e.matchupId,"-").concat(e.type,"-").concat(e.selection),n=S.findIndex(e=>e.id===t);if(n>=0)return N(e=>e.filter(e=>e.id!==t)),void F("Bet removed from slip","info");if(S.filter(t=>t.matchupId===e.matchupId&&(t.type===e.type||("spread"===t.type&&"moneyline"===e.type||"moneyline"===t.type&&"spread"===e.type||"total"!==t.type&&"total"!==e.type))).length>0)return void F("Cannot add conflicting bets for the same game (spread + moneyline not allowed). You can combine a spread or moneyline with a total for parlays.","error");const r=(new Date).toLocaleString();N(n=>[...n,u(u({},e),{},{id:t,timestamp:r})]),F("Bet added to slip","success")},W=()=>{N([]),_(""),F("Bet slip cleared","info")},U=e=>{if(0===e.length)return 0;let t=1;e.forEach(e=>{const n=e.odds>0?e.odds/100+1:100/Math.abs(e.odds)+1;t*=n});const n=t>=2?100*(t-1):-100/(t-1);return Math.round(n)},z=()=>{if(!k||0===S.length)return 0;const e=parseFloat(k);if(isNaN(e)||e<=0)return 0;if(1===S.length){const t=S[0].odds;return e+(t>0?e*t/100:100*e/Math.abs(t))}{const t=U(S);return e+(t>0?e*t/100:100*e/Math.abs(t))}},V=S.length>0&&k&&!isNaN(parseFloat(k))&&parseFloat(k)>0,H=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return.5;const s=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return.5;return s.filter(e=>{const n=String(e.team1_roster_id)===String(t);return(n?e.team1_score:e.team2_score)>(n?e.team2_score:e.team1_score)}).length/s.length},G=(0,t.useMemo)(()=>{const t=yB(a,D);if(!t)return{};const n=Object.keys(t).map(n=>{const r=t[n],a=((t,n,r)=>{const a=t.gamesPlayed>0?t.wins/t.gamesPlayed:0,s=t.averageScore||0,o=t.pointsFor||0,i=t.pointsAgainst||0,l=t.luckRating||0,c=t.strengthOfSchedule||0,u=100*a*.25+s/10*.2+10*H(n,r,4)*.15+(o-i)/100*.15+20*sB(n,r,e,6)*.1+.1*(w[n]?(w[n]-1500)/10:0)+50*l*.03+10*c*.02;return Math.max(0,u)})(r,n,D),s=nB(n,t,e,D),o=aB(n,t,e,D),i=sB(n,D,e,6);return u(u({rosterId:n},r),{},{powerScore:a,classification:s,consistency:o,momentum:i})}).sort((e,t)=>t.powerScore-e.powerScore),r={};return n.forEach((e,t)=>{r[e.rosterId]=u(u({},e),{},{rank:t+1,powerScore:e.powerScore})}),r},[a,D,w,e]),q=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return{mean:0,variance:0,count:0};let s=e.matchupsBySeason[n].filter(e=>e.t1===t||e.t2===t);a&&(s=s.slice(-a));const o=s.map(e=>e.t1===t?e.t1_score:e.t2_score).filter(e=>"number"===typeof e);if(0===o.length)return{mean:0,variance:0,count:0};const i=o.reduce((e,t)=>e+t,0)/o.length,l=o.reduce((e,t)=>e+Math.pow(t-i,2),0)/o.length;return{mean:i,variance:l,count:o.length}};const Y=t=>{if(!a||!e)return[];const n=yB(e.matchupsBySeason,D);if(!n)return[];return n.filter(e=>parseInt(e.week)===t).map(n=>{const a=n.t1,o=n.t2,i=q(a,D,4),l=q(o,D,4),c=q(a,D),u=q(o,D),d=i.count>=2?i.mean:c.mean,h=l.count>=2?l.mean:u.mean,m=i.count>=2?i.variance:c.variance,f=l.count>=2?l.variance:u.variance,p=i.count>=2?i.count:c.count,g=l.count>=2?l.count:u.count,y=d-h,v=Math.sqrt(m/p+f/g);let x=.5;v>0&&(x=.5+.5*function(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}(y/(Math.sqrt(2)*v)));const b=y;let j=x>.5?-Math.round(100*x/(1-x)):Math.round(100*(1-x)/x),S=x<.5?-Math.round(100*(1-x)/x):Math.round(100*x/(1-x));j=j>0?j+15:j-15,S=S>0?S+15:S-15;try{var N,k,_,P,A,E,O,I;const i=String(n.team1_roster_id),l=String(n.team2_roster_id);if(!G[i]||!G[l])return null;const c=null!==s&&void 0!==s&&s.week?parseInt(s.week):null,u=(n.team1_score>0||n.team2_score>0)&&(!c||t<c),d=yB(e.rostersBySeason,D),h=null===d||void 0===d?void 0:d.find(e=>String(e.roster_id)===i),m=null===h||void 0===h?void 0:h.owner_id,f=r(m,D),p=null===d||void 0===d?void 0:d.find(e=>String(e.roster_id)===l),g=null===p||void 0===p?void 0:p.owner_id,y=r(g,D);let v=bB(i,l,R);.5!==v||R[i]&&R[l]||(console.warn("[Sportsbook] Falling back to legacy calculations for ".concat(i," vs ").concat(l)),v=ZF(i,l,G,w,e,D));const F=R[i]||G[i],B=R[l]||G[l];if(F&&B){const e=F.dpr||F.adjustedDPR||1,t=B.dpr||B.adjustedDPR||1;e>t+.1&&v<.5?(console.warn("Win probability seems inverted: ".concat(f.name," (DPR: ").concat(e.toFixed(3),") has ").concat((100*v).toFixed(1),"% vs ").concat(y.name," (DPR: ").concat(t.toFixed(3),")")),v=1-v):t>e+.1&&v>.5&&(console.warn("Win probability seems inverted: ".concat(y.name," (DPR: ").concat(t.toFixed(3),") should beat ").concat(f.name," (DPR: ").concat(e.toFixed(3),") but has ").concat((100*(1-v)).toFixed(1),"%")),v=1-v)}const W=1-v,U=iB(v),z=iB(W),V=(e,t)=>{try{const n="team1"===t?e.team1_players||e.team1_details||e.team1_players_points||e.team1_players_points_map||e.team1_players_points_by_id||null:e.team2_players||e.team2_details||e.team2_players_points||e.team2_players_points_map||e.team2_players_points_by_id||null;if(!n||"object"!==typeof n)return!1;const r=n.starters||n.starting_lineup||n.starting_lineup_ids||null,a=n.players_points||n.players_points_map||n.players_points_by_id||n;return!(!a||"object"!==typeof a)&&(Array.isArray(r)&&0!==r.length?r.some(e=>{if(null===e||void 0===e)return!1;const t=String(e),n=void 0!==a[t]?a[t]:a[Number(t)],r="string"===typeof n?Number(n):n;return"number"===typeof r&&!isNaN(r)&&r>0}):Object.values(a).some(e=>{const t="string"===typeof e?Number(e):e;return"number"===typeof t&&!isNaN(t)&&t>0}))}catch(VB){return!1}},H=V(n,"team1")||V(n,"team2"),q={matchupId:n.matchup_id,week:t,isCompleted:u,bettingLocked:!(!H||null===s||void 0===s||!s.week||parseInt(s.week)!==t),team1:{rosterId:i,name:f.name,avatar:f.avatar,record:(null===F||void 0===F?void 0:F.record)||"".concat((null===(N=G[i])||void 0===N?void 0:N.wins)||0,"-").concat((null===(k=G[i])||void 0===k?void 0:k.losses)||0),avgPoints:(null===F||void 0===F?void 0:F.avgPerGame)||(null===(_=G[i])||void 0===_?void 0:_.averageScore)||0,powerScore:(null===F||void 0===F?void 0:F.dpr)||(null===(P=G[i])||void 0===P?void 0:P.powerScore)||0,eloRating:w[i]||1500,momentum:sB(i,D,e),probability:v,odds:U.americanOdds,isHot:(null===F||void 0===F?void 0:F.isHot)||!1,isCold:(null===F||void 0===F?void 0:F.isCold)||!1,tier:(null===F||void 0===F?void 0:F.tier)||null},team2:{rosterId:l,name:y.name,avatar:y.avatar,record:(null===B||void 0===B?void 0:B.record)||"".concat((null===(A=G[l])||void 0===A?void 0:A.wins)||0,"-").concat((null===(E=G[l])||void 0===E?void 0:E.losses)||0),avgPoints:(null===B||void 0===B?void 0:B.avgPerGame)||(null===(O=G[l])||void 0===O?void 0:O.averageScore)||0,powerScore:(null===B||void 0===B?void 0:B.dpr)||(null===(I=G[l])||void 0===I?void 0:I.powerScore)||0,eloRating:w[l]||1500,momentum:sB(l,D,e),probability:W,odds:z.americanOdds,isHot:(null===B||void 0===B?void 0:B.isHot)||!1,isCold:(null===B||void 0===B?void 0:B.isCold)||!1,tier:(null===B||void 0===B?void 0:B.tier)||null},spread:b,moneyline:{[a]:j,[o]:S},winProb:x},K=R[i],Y=R[l];K&&Y&&!f.name.includes("Michael Vick")&&!y.name.includes("Michael Vick")||(console.log("[DEBUG] Team stats lookup for ".concat(f.name," vs ").concat(y.name,":")),console.log("  Team1: ".concat(f.name," (ID: ").concat(i,") - Found: ").concat(K?"YES":"NO")),console.log("  Team2: ".concat(y.name," (ID: ").concat(l,") - Found: ").concat(Y?"YES":"NO")),K||Y||(console.log("  Available dynamic stats:",Object.keys(R).map(e=>"".concat(e,": ").concat(R[e].name))),console.log("  Available power rankings:",Object.keys(G).map(e=>"".concat(e,": ").concat(G[e].rosterId||e)))),K&&console.log("  Team1 avg score:",K.averageScore),Y&&console.log("  Team2 avg score:",Y.averageScore));const Q=Object.keys(R).length>0,X=Q?R:G;K&&Y&&!f.name.includes("Michael Vick")&&!y.name.includes("Michael Vick")||(console.log("[STATS DEBUG] Using ".concat(Q?"dynamic":"power ranking"," stats")),console.log("  Dynamic stats count: ".concat(Object.keys(R).length)),console.log("  Power rankings count: ".concat(Object.keys(G).length)),console.log("  Team1 in chosen stats:",X[i]?"YES":"NO"),console.log("  Team2 in chosen stats:",X[l]?"YES":"NO"));const $=OB({team1RosterId:i,team2RosterId:l,team1Name:f.name,team2Name:y.name,winProbability:v},X,{vig:.055,includePropBets:!0,weekNumber:t});if(null!==$&&void 0!==$&&$.total){if(isNaN($.total.over.line)||!$.total.over.line){const e=1.05*(((null===F||void 0===F?void 0:F.avgPerGame)||120)+((null===B||void 0===B?void 0:B.avgPerGame)||120));$.total.over.line=Math.round(2*e)/2,$.total.under.line=$.total.over.line}isNaN($.total.over.odds)&&($.total.over.odds=-110),isNaN($.total.under.odds)&&($.total.under.odds=-110)}u&&(q.actualScores={team1Score:n.team1_score,team2Score:n.team2_score,team1Won:n.team1_score>n.team2_score,totalPoints:n.team1_score+n.team2_score,team1CoveredSpread:null!==$&&void 0!==$&&$.spread?(()=>{const e=$.spread.team1.line,t="PK"===e?0:parseFloat(e);return n.team1_score-n.team2_score>-t})():null,overHit:null!==$&&void 0!==$&&$.total?(()=>{const e=$.total.over.line;return n.team1_score+n.team2_score>e})():null});const J=$;var T,C,M,L;if("Crude Crushers"===f.name||"Team of Constant Sorrow"===f.name)console.log("\ud83c\udfaf UI DEBUG - ".concat(f.name," vs ").concat(y.name,":")),console.log("   Team1 ID: ".concat(i,", Team2 ID: ").concat(l)),console.log("   Team1 avg: ".concat((null===F||void 0===F?void 0:F.avgPerGame)||(null===F||void 0===F?void 0:F.averageScore))),console.log("   Team2 avg: ".concat((null===B||void 0===B?void 0:B.avgPerGame)||(null===B||void 0===B?void 0:B.averageScore))),console.log("   Team1 cold: ".concat(null===F||void 0===F?void 0:F.isCold,", Team2 cold: ").concat(null===B||void 0===B?void 0:B.isCold)),console.log("   Spread Team1: ".concat(null===J||void 0===J||null===(T=J.spread)||void 0===T||null===(C=T.team1)||void 0===C?void 0:C.line)),console.log("   Spread Team2: ".concat(null===J||void 0===J||null===(M=J.spread)||void 0===M||null===(L=M.team2)||void 0===L?void 0:L.line)),console.log("   \u26a0\ufe0f EXPECTED: Team1 should be -13.5 based on test algorithm");return q.markets=J,q}catch(F){return logger.error("Error generating matchup odds:",F),null}}).filter(Boolean)},Q=e=>{const t=G[e];if(!t)return 0;const n=t.gamesPlayed||0,r=Math.max(0,14-n);return cB(e,G,r,3e3)},X=(e,t)=>{const n=e.gamesPlayed||0;if(n<3)return!1;const r=n>0?(e.wins||0)/n:0,a=e.averageScore||0,s=Object.values(G),o=s.reduce((e,t)=>e+(t.averageScore||0),0)/s.length,i=s.reduce((e,t)=>{const n=t.gamesPlayed||0;return e+(n>0?(t.wins||0)/n:0)},0)/s.length;return r<i&&a>1.05*o};return(0,t.useEffect)(()=>{"gameLines"===l&&m&&G&&Object.keys(G).length>0?g(Y(m)):"futures"===l&&G&&Object.keys(G).length>0&&(y&&0!==y.length||v(G?Object.keys(G).map(t=>{const n=G[t],a=yB(e.rostersBySeason,D),s=null===a||void 0===a?void 0:a.find(e=>String(e.roster_id)===t),o=null===s||void 0===s?void 0:s.owner_id,i=r(o,D),l=Q(t),c=TB(l);return{rosterId:t,name:i.name,avatar:i.avatar,record:"".concat(n.wins||0,"-").concat(n.losses||0),powerScore:n.powerScore,rank:n.rank,probability:l,odds:c}}).sort((e,t)=>t.probability-e.probability):[]),x&&0!==x.length||b((()=>{if(!G)return[];const t=Math.max(...Object.values(G).map(e=>e.gamesPlayed||0)),n=Math.max(0,14-t);return Object.keys(G).map(t=>{const a=G[t],o=yB(e.rostersBySeason,D),i=null===o||void 0===o?void 0:o.find(e=>String(e.roster_id)===t),l=null===i||void 0===i?void 0:i.owner_id,c=r(l,D),u=uB(t,G,n,250,e,D,(e,t)=>{const n=r(e,t);return(null===n||void 0===n?void 0:n.name)||"Team ".concat(e)},s);return{rosterId:t,name:c.name,avatar:c.avatar,record:"".concat(a.wins||0,"-").concat(a.losses||0),powerScore:a.powerScore,rank:a.rank,probability:u.championshipProbability,odds:u.odds.american,playoffProb:u.playoffProbability,expectedSeed:u.expectedSeed,strengthOfSchedule:u.strengthOfSchedule,momentum:u.momentum,isWildcardContender:X(a,t),gamesPlayed:a.gamesPlayed||0}}).sort((e,t)=>t.probability-e.probability)})()))},[l,m,G,D,w,e]),o?(0,K.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,K.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Sportsbook..."})}):(0,K.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen ".concat(S.length>0?"pb-24":""),children:(0,K.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,K.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6",children:[(0,K.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Fantasy Sportsbook"}),(0,K.jsx)("p",{className:"text-blue-100",children:"Odds based on team performance, power rankings, and statistical analysis"})]}),(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[(0,K.jsxs)("div",{className:"flex border-b",children:[(0,K.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("gameLines"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("gameLines"),children:"Game Lines"}),(0,K.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("futures"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("futures"),children:"Futures"})]}),"gameLines"===l&&(0,K.jsx)("div",{className:"p-4 border-b flex flex-wrap gap-4",children:(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week"}),(0,K.jsx)("select",{id:"week-select",value:m||"",onChange:e=>f(parseInt(e.target.value)),className:"block w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:Array.from({length:18},(e,t)=>t+1).filter(e=>e>=(null!==s&&void 0!==s&&s.week?parseInt(s.week):1)).map(e=>(0,K.jsxs)("option",{value:e,children:["Week ",e," ",e>=15?"(Playoffs)":""]},e))})]})})]}),"gameLines"===l&&(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Week ",m," ",m>=15?"Playoffs":"Betting Odds"]}),m>=15?(0,K.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[(0,K.jsx)("div",{className:"text-blue-600 mb-2",children:(0,K.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,K.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,K.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Playoff Week"}),(0,K.jsx)("p",{className:"text-blue-700 mb-4",children:15===m?"Wildcard Round":16===m?"Semifinals":"Championship Game"}),(0,K.jsx)("p",{className:"text-sm text-blue-600",children:"Playoff matchups are determined by regular season standings. Regular season betting is available for weeks 1-14."})]}):p.length>0?(0,K.jsx)("div",{className:"grid gap-6",children:p.map(e=>{var t,n,r,a,s,o,i,l,c,u,d,h,f,p,g,y,v,x,b,w;return(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,K.jsx)("div",{className:"p-6",children:(0,K.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"h-10 flex items-center text-sm font-semibold text-gray-700 mb-4",children:"Teams"}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,K.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team1.avatar,alt:e.team1.name}),(0,K.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,K.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team1.name}),(0,K.jsx)("span",{className:"sm:hidden text-sm",children:L(e.team1.name)})]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team1.record})]})}),(0,K.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,K.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team2.avatar,alt:e.team2.name}),(0,K.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,K.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team2.name}),(0,K.jsx)("span",{className:"sm:hidden text-sm",children:L(e.team2.name)})]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team2.record})]})})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Spread"}),null!==(t=e.markets)&&void 0!==t&&t.spread?(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(n=e.actualScores)||void 0===n?void 0:n.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":S.some(t=>t.id==="".concat(e.matchupId,"-spread-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200 cursor-pointer"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");e.isCompleted||"PK"===e.markets.spread.team1.line||B({matchupId:e.matchupId,type:"spread",selection:"team1",team:e.team1.name,line:e.markets.spread.team1.line,odds:e.markets.spread.team1.odds,description:"".concat(e.team1.name," ").concat(e.markets.spread.team1.line),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:[(0,K.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(r=e.actualScores)||void 0===r?void 0:r.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-green-600":"text-red-600":"text-blue-600"),children:e.markets.spread.team1.line}),"PK"!==e.markets.spread.team1.line&&(0,K.jsx)("div",{className:"text-sm text-blue-600",children:CB(e.markets.spread.team1.odds)})]}),(0,K.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(a=e.actualScores)||void 0===a?void 0:a.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":S.some(t=>t.id==="".concat(e.matchupId,"-spread-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200 cursor-pointer"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");e.isCompleted||"PK"===e.markets.spread.team2.line||B({matchupId:e.matchupId,type:"spread",selection:"team2",team:e.team2.name,line:e.markets.spread.team2.line,odds:e.markets.spread.team2.odds,description:"".concat(e.team2.name," ").concat(e.markets.spread.team2.line),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:[(0,K.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(s=e.actualScores)||void 0===s?void 0:s.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-red-600":"text-green-600":"text-blue-600"),children:e.markets.spread.team2.line}),"PK"!==e.markets.spread.team2.line&&(0,K.jsx)("div",{className:"text-sm text-blue-600",children:CB(e.markets.spread.team2.odds)})]})]}):(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,K.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Total"}),null!==(o=e.markets)&&void 0!==o&&o.total?(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(i=e.actualScores)||void 0===i?void 0:i.overHit)?e.actualScores.overHit?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":S.some(t=>t.id==="".concat(e.matchupId,"-total-over"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");e.isCompleted||B({matchupId:e.matchupId,type:"total",selection:"over",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.over.line,odds:e.markets.total.over.odds,description:"Over ".concat(e.markets.total.over.line),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:[(0,K.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"OVER"}),(0,K.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(l=e.actualScores)||void 0===l?void 0:l.overHit)?e.actualScores.overHit?"text-green-600":"text-red-600":"text-blue-600"),children:isNaN(e.markets.total.over.line)?"N/A":e.markets.total.over.line}),(0,K.jsx)("div",{className:"text-sm text-blue-600",children:CB(e.markets.total.over.odds)})]}),(0,K.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(c=e.actualScores)||void 0===c?void 0:c.overHit)?e.actualScores.overHit?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":S.some(t=>t.id==="".concat(e.matchupId,"-total-under"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");e.isCompleted||B({matchupId:e.matchupId,type:"total",selection:"under",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.under.line,odds:e.markets.total.under.odds,description:"Under ".concat(e.markets.total.under.line),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:[(0,K.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"UNDER"}),(0,K.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(u=e.actualScores)||void 0===u?void 0:u.overHit)?e.actualScores.overHit?"text-red-600":"text-green-600":"text-blue-600"),children:isNaN(e.markets.total.under.line)?"N/A":e.markets.total.under.line}),(0,K.jsx)("div",{className:"text-sm text-blue-600",children:CB(e.markets.total.under.odds)})]})]}):(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,K.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Moneyline"}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(d=e.actualScores)||void 0===d?void 0:d.team1Won)?e.actualScores.team1Won?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":S.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200 cursor-pointer"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");var t,n,r;e.isCompleted||B({matchupId:e.matchupId,type:"moneyline",selection:"team1",team:e.team1.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team1)||void 0===r?void 0:r.odds)||e.team1.odds,description:"".concat(e.team1.name," ML"),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:(0,K.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(h=e.actualScores)||void 0===h?void 0:h.team1Won)?e.actualScores.team1Won?"text-green-600":"text-red-600":"text-blue-600"),children:CB((null===(f=e.markets)||void 0===f||null===(p=f.moneyline)||void 0===p||null===(g=p.team1)||void 0===g?void 0:g.odds)||e.team1.odds)})}),(0,K.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors h-20 flex flex-col justify-center ".concat(e.bettingLocked?"bg-gray-100 border border-gray-200 cursor-not-allowed opacity-70":e.isCompleted&&null!==(null===(y=e.actualScores)||void 0===y?void 0:y.team1Won)?e.actualScores.team1Won?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":S.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200 cursor-pointer"),onClick:()=>{if(e.bettingLocked)return F("Betting locked: players have already recorded points for this matchup","error");var t,n,r;e.isCompleted||B({matchupId:e.matchupId,type:"moneyline",selection:"team2",team:e.team2.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team2)||void 0===r?void 0:r.odds)||e.team2.odds,description:"".concat(e.team2.name," ML"),season:D,week:m,matchup:"".concat(e.team1.name," vs ").concat(e.team2.name)})},children:(0,K.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(v=e.actualScores)||void 0===v?void 0:v.team1Won)?e.actualScores.team1Won?"text-red-600":"text-green-600":"text-blue-600"),children:CB((null===(x=e.markets)||void 0===x||null===(b=x.moneyline)||void 0===b||null===(w=b.team2)||void 0===w?void 0:w.odds)||e.team2.odds)})})]})]})]})}),!1]},e.matchupId)})}):(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,K.jsxs)("div",{className:"text-gray-500",children:[(0,K.jsxs)("p",{className:"text-lg mb-2",children:["No upcoming matchups found for Week ",m]}),(0,K.jsx)("p",{className:"text-sm",children:"Games may have already been played or the schedule isn't available yet."})]})})]}),"futures"===l&&(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("div",{className:"flex border-b mb-4",children:[(0,K.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("playoffs"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("playoffs"),children:"Playoff Appearance"}),(0,K.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("championship"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("championship"),children:"Championship"})]}),"playoffs"===d&&(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Playoff Appearance Odds"}),(0,K.jsx)("div",{className:"grid gap-4",children:y.map((e,t)=>(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,K.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,K.jsx)("span",{className:"sm:hidden",children:L(e.name)})]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record})]})]}),(0,K.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(S.some(t=>t.id==="playoff-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>B({matchupId:"playoff-".concat(e.rosterId),type:"futures",selection:"playoffs",team:e.name,line:"Make Playoffs",odds:e.odds,description:"".concat(e.name," Make Playoffs"),season:D,week:"Futures",matchup:"Season-Long Bet"}),children:(0,K.jsx)("div",{className:"text-lg font-bold text-blue-600",children:CB(e.odds)})})]})},e.rosterId))})]}),"championship"===d&&(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Championship Odds"}),(0,K.jsx)("div",{className:"grid gap-4",children:x.map((e,t)=>(0,K.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,K.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,K.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,K.jsx)("span",{className:"sm:hidden",children:L(e.name)})]}),(0,K.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record}),e.isWildcardContender&&(0,K.jsx)("div",{className:"text-xs text-blue-600",children:"\ud83c\udfaf Wildcard Contender"})]})]}),(0,K.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(S.some(t=>t.id==="championship-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>B({matchupId:"championship-".concat(e.rosterId),type:"futures",selection:"championship",team:e.name,line:"Win Championship",odds:e.odds,description:"".concat(e.name," Win Championship"),season:D,week:"Futures",matchup:"Season-Long Bet"}),children:(0,K.jsx)("div",{className:"text-lg font-bold text-blue-600",children:CB(e.odds)})})]})},e.rosterId))})]})]}),P.length>0&&(0,K.jsx)("div",{className:"fixed top-4 right-4 space-y-2 z-50",children:P.map(e=>(0,K.jsx)("div",{className:"px-4 py-2 rounded-lg shadow-lg text-white ".concat("success"===e.type?"bg-green-500":"error"===e.type?"bg-red-500":"bg-blue-500"),children:e.message},e.id))}),S.length>0&&(0,K.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg transform transition-transform duration-300 z-40 ".concat(E?"translate-y-0":"translate-y-[calc(100%-60px)]"),children:[(0,K.jsxs)("div",{className:"px-4 py-3 border-b cursor-pointer flex justify-between items-center bg-gray-50",onClick:()=>O(!E),children:[(0,K.jsxs)("div",{className:"flex items-center gap-3",children:[(0,K.jsxs)("span",{className:"font-bold text-gray-800",children:["Bet Slip (",S.length,")"]}),S.length>0&&(0,K.jsx)("span",{className:"text-gray-600 text-sm",children:"\u2022"}),S.length>0&&(0,K.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:1===S.length?"".concat(CB(S[0].odds)):"".concat(CB(U(S))," (Parlay)")})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("button",{onClick:e=>{e.stopPropagation(),W()},className:"text-red-500 hover:text-red-700 text-sm font-medium px-2 py-1",children:"Clear"}),(0,K.jsx)("svg",{className:"w-4 h-4 text-gray-500 transform transition-transform ".concat(E?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,K.jsxs)("div",{className:"max-h-[50vh] overflow-y-auto",children:[(0,K.jsx)("div",{className:"p-3 space-y-2",children:S.map(e=>(0,K.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"text-sm font-medium text-gray-800",children:e.description}),(0,K.jsx)("div",{className:"text-xs text-gray-600",children:CB(e.odds)}),e.season&&e.week&&e.matchup&&(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.season," \u2022 Week ",e.week," \u2022 ",e.matchup]}),e.timestamp&&(0,K.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.timestamp})]}),(0,K.jsx)("button",{onClick:()=>{return t=e.id,N(e=>e.filter(e=>e.id!==t)),void F("Bet removed from slip","info");var t},className:"text-red-500 hover:text-red-700 text-lg leading-none",children:"\xd7"})]},e.id))}),(0,K.jsxs)("div",{className:"p-3 border-t bg-gray-50 space-y-3",children:[(0,K.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,K.jsx)("input",{type:"number",min:"1",step:"1",value:k,onChange:e=>_(e.target.value),className:"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm",placeholder:"Bet $"}),S.length>1&&(0,K.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:[S.length,"-leg parlay"]})]}),(0,K.jsxs)("div",{className:"flex justify-between items-center",children:[(0,K.jsxs)("div",{className:"text-sm",children:[(0,K.jsx)("span",{className:"text-gray-600",children:"To Win: "}),(0,K.jsx)("span",{className:"font-semibold text-green-600",children:XM(Number(V?z()-parseFloat(k):0),2)})]}),(0,K.jsx)("button",{className:"py-2 px-4 rounded transition-colors text-sm font-medium ".concat(V?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),disabled:!V,onClick:()=>{if(!V)return;const e=new Date,t=S.length>1?U(S):null,n=1===S.length?S[0].odds:null,r={bets:[...S],amount:k,potentialPayout:z(),potentialWin:z()-parseFloat(k),singleOdds:n,parlayOdds:t,submittedAt:e,ticketNumber:"TLO-".concat(Date.now())};M(r),T(!0),W(),O(!0)},children:"Place Bet"})]})]})]})]}),(0,K.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,K.jsx)("div",{className:"flex",children:(0,K.jsxs)("div",{className:"ml-3",children:[(0,K.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"For Entertainment Purposes Only"}),(0,K.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,K.jsx)("p",{children:"These odds are calculated using historical performance, team statistics, and power rankings. They are for entertainment and analytical purposes only. Fantasy football involves elements of skill and chance - actual results may vary significantly from projections."})})]})})}),I&&C&&(0,K.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,K.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,K.jsx)("div",{className:"bg-green-600 text-white p-4 rounded-t-lg",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("h2",{className:"text-xl font-bold",children:"Bet Confirmation"}),(0,K.jsx)("button",{onClick:()=>{T(!1),O(!1)},className:"text-white hover:text-gray-200 text-2xl leading-none",children:"\xd7"})]})}),(0,K.jsxs)("div",{className:"p-6",children:[(0,K.jsxs)("div",{className:"text-center mb-6",children:[(0,K.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"\u2705 BET PLACED"}),(0,K.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:["Ticket #",C.ticketNumber]})]}),(0,K.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,K.jsx)("h3",{className:"font-semibold text-gray-800 border-b pb-2",children:"Bet Details:"}),C.bets.map((e,t)=>(0,K.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,K.jsx)("div",{className:"font-medium text-gray-800",children:e.description}),(0,K.jsx)("div",{className:"text-sm text-gray-600",children:CB(e.odds)}),e.season&&e.week&&e.matchup&&(0,K.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.season," \u2022 Week ",e.week," \u2022 ",e.matchup]})]},e.id))]}),(0,K.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"font-medium",children:"Bet Amount:"}),(0,K.jsxs)("span",{className:"font-bold",children:["$",C.amount]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"font-medium",children:"Potential Payout:"}),(0,K.jsxs)("span",{className:"font-bold text-green-600",children:["$",XM(Number(C.potentialPayout),2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"font-medium",children:"Potential Win:"}),(0,K.jsxs)("span",{className:"font-bold text-green-600",children:["$",XM(Number(C.potentialWin),2)]})]}),C.parlayOdds&&(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"font-medium",children:"Parlay Odds:"}),(0,K.jsx)("span",{className:"font-bold",children:CB(C.parlayOdds)})]}),C.singleOdds&&(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"font-medium",children:"Single Odds:"}),(0,K.jsx)("span",{className:"font-bold",children:CB(C.singleOdds)})]}),C.bets.length>1&&(0,K.jsxs)("div",{className:"text-xs text-blue-600 mt-2",children:[C.bets.length,"-leg parlay \u2022 All selections must win"]})]})}),(0,K.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,K.jsxs)("div",{className:"text-center text-sm text-yellow-800",children:[(0,K.jsx)("div",{className:"font-medium mb-1",children:"\ud83d\udcf1 Save for Your Records"}),(0,K.jsx)("div",{children:"Screenshot this receipt to keep a record of your bet"})]})}),(0,K.jsx)("div",{className:"text-center border-t pt-4",children:(0,K.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,K.jsxs)("div",{children:["Submitted: ",C.submittedAt.toLocaleDateString()]}),(0,K.jsx)("div",{children:C.submittedAt.toLocaleTimeString()})]})}),"                                ",(0,K.jsx)("div",{className:"mt-6 text-center",children:(0,K.jsx)("button",{onClick:()=>T(!1),className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition-colors font-medium",children:"Close Receipt"})})]})]})})]})})};const DB=function(e,t,n,r){if(!e||!e.draftPicksBySeason)return{resolved:!1,label:"Round Cost: R".concat(r)};const a=e.draftPicksBySeason[String(n)]||e.draftPicksBySeason[n];if(!a||!a.length)return{resolved:!1,label:"Round Cost: R".concat(r)};let s=null;try{const r=e.rostersBySeason&&(e.rostersBySeason[String(n)]||e.rostersBySeason[n]);if(r&&null!=t){const e=r.find(e=>String(e.roster_id)===String(t));if(e&&(s=String(e.roster_id)),!s){const e=r.find(e=>String(e.owner_id)===String(t));e&&(s=String(e.roster_id))}}}catch(VB){}const o=e.tradedPicksBySeason&&(e.tradedPicksBySeason[String(n)]||e.tradedPicksBySeason[n])||[],i=new Map;Array.isArray(o)&&o.forEach(e=>{const t=Number(e.round||e.round_number||e.draft_round||0)||Number(e.round);i.has(t)||i.set(t,new Map);const n=null!=e.roster_id?String(e.roster_id):null!=e.original_roster_id?String(e.original_roster_id):null;n&&i.get(t).set(n,e)});const l=e=>{const n=a.find(n=>Number(n.round)===Number(e)&&(e=>{var n,r,a,o;if(!e)return!1;const i=[e.roster_id,e.picked_by,e.owner_id,null===(n=e.metadata)||void 0===n?void 0:n.owner_id,null===(r=e.metadata)||void 0===r?void 0:r.owner,null===(a=e.metadata)||void 0===a?void 0:a.original_owner_id,null===(o=e.metadata)||void 0===o?void 0:o.original_owner];for(const l of i)if(null!=l){if(String(l)===String(t))return!0;if(s&&String(l)===String(s))return!0}return!1})(n));if(n)return n;if(s&&i.has(Number(e))){const t=i.get(Number(e));for(const[n,r]of t.entries()){const t=null!=r.owner_id?String(r.owner_id):null!=r.owner?String(r.owner):null;if(t&&String(t)===String(s)){const t=a.find(t=>{var r,a,s;return Number(t.round)===Number(e)&&(String(t.roster_id)===String(n)||String(null===(r=t.metadata)||void 0===r?void 0:r.original_roster_id)===String(n)||String(null===(a=t.metadata)||void 0===a?void 0:a.original_owner_roster_id)===String(n)||String(null===(s=t.metadata)||void 0===s?void 0:s.original_owner)===String(n))});if(t)return t;if(null!=r.pick_no){const t=a.find(t=>Number(t.round)===Number(e)&&Number(t.pick_no)===Number(r.pick_no));if(t)return t}}}}return null};let c=l(r),u=r;if(!c)for(let d=r-1;d>=1;d--){const e=l(d);if(e){c=e,u=d;break}}if(c){const e=(e=>{if(null!=e.pick_in_round)return Number(e.pick_in_round);if(null!=e.pick_no&&a&&a.length){const t=a.filter(t=>Number(t.round)===Number(e.round)).slice().sort((e,t)=>Number(e.pick_no||0)-Number(t.pick_no||0)),n=t.findIndex(t=>String(t.pick_no)===String(e.pick_no));if(n>=0)return n+1}return null})(c),t=null!=c.pick_no?Number(c.pick_no):null;return{resolved:!0,round:u,pick_in_round:e,pick_no:t,label:"R".concat(u," \u2022 Pick ").concat(e||t||"\u2014")}}return{resolved:!1,label:"Round Cost: R".concat(r)}};function RB(){const{historicalData:e,usersData:n,currentSeason:r,nflPlayers:a,getTeamDetails:s,rostersWithDetails:o}=J(),i=(0,t.useMemo)(()=>{const t={};if(!e||!e.draftPicksBySeason)return t;const n={},s=Object.keys(e.draftPicksBySeason).map(e=>Number(e)).sort((e,t)=>e-t);for(const r of s){const t=(e.draftPicksBySeason[r]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const e of t){var i,l;if(!e.player_id)continue;const t=String(e.player_id);n[t]||(n[t]=[]),n[t].push({season:r,is_keeper:!!e.is_keeper,picked_by:e.picked_by,roster_id:e.roster_id,player_name:e.player_name||"".concat((null===(i=e.metadata)||void 0===i?void 0:i.first_name)||""," ").concat((null===(l=e.metadata)||void 0===l?void 0:l.last_name)||"").trim(),round:e.round||null,pick_in_round:e.pick_in_round||null,pick_no:e.pick_no||null})}}for(const[e,a]of Object.entries(n)){var c;const n=a.length?a[0].season:null;let s=null,o=null,i=null,l=null,u=null;for(const e of a)s=e.season,o=e.picked_by||o,i=i||e.player_name,e.is_keeper||(l=e.season),e.is_keeper&&(u=e.season);const d=null!==l?l:n,h=null===d?[]:a.filter(e=>e.season>=d),m=h.filter(e=>e.is_keeper).length,f=h.slice().reverse().find(e=>e.is_keeper),p=f?f.season:null,g=!(null===(c=a[a.length-1])||void 0===c||!c.is_keeper),y=h&&h.length?h[0]:a.length?a[0]:null,v=r?Number(r):null,x=a.find(e=>e.season===v),b=x&&(x.round||x.pick_in_round||x.pick_no),w=b||y&&(y.round||y.pick_in_round||y.pick_no)&&y.season===v,j=b?x:y,S=w&&(null===j||void 0===j?void 0:j.round)||null,N=w&&(null===j||void 0===j?void 0:j.pick_in_round)||null,k=w&&(null===j||void 0===j?void 0:j.pick_no)||null;t[e]={player_name:i||"Unknown",lastOwner:o,yearsKept:m,lastSeasonSeen:s,firstSeasonSeen:d,originalDraftSeason:n,originalDraftRound:S,originalPickInRound:N,originalPickNo:k,wasActuallyDrafted:w,lastKeeperSeason:p,isKeeper:g}}if(o&&a&&r)for(const e of o)if(e.players&&Array.isArray(e.players))for(const n of e.players){const e=String(n);if(t[e])continue;const s=a[n],o=s?"".concat(s.first_name," ").concat(s.last_name):"Player ".concat(n);t[e]={player_name:o,lastOwner:null,yearsKept:0,lastSeasonSeen:Number(r),firstSeasonSeen:Number(r),originalDraftSeason:null,originalDraftRound:null,originalPickInRound:null,originalPickNo:null,wasActuallyDrafted:!1,lastKeeperSeason:null,isKeeper:!1}}return t},[e,o,a,r]),[l,c]=(0,t.useState)("all"),[d,h]=(0,t.useState)("all"),[m,f]=(0,t.useState)("position"),{currentPlayersMap:p,rosterOptions:g,positionOptions:y,rosterLookup:v}=(0,t.useMemo)(()=>{var t;const s=new Map,i={},l=new Set;if(o&&o.length>0)for(const e of o)if(e.players&&Array.isArray(e.players))for(const t of e.players){const n=String(t),r=null===a||void 0===a?void 0:a[t],o=(null===r||void 0===r?void 0:r.position)||null;s.set(n,{roster_id:String(e.roster_id),position:o}),o&&l.add(o)}if(r&&null!==e&&void 0!==e&&null!==(t=e.rostersBySeason)&&void 0!==t&&t[r])for(const a of e.rostersBySeason[r]){var c;const e=String(a.roster_id);let t=null===(c=a.metadata)||void 0===c?void 0:c.team_name;if(!t&&a.owner_id&&n){const e=n.find(e=>String(e.user_id)===String(a.owner_id));var u;if(e)t=(null===(u=e.metadata)||void 0===u?void 0:u.team_name)||e.display_name||String(a.owner_id)}i[e]=t||a.owner_id||e}const d=Object.entries(i).map(t=>{var n;let[a,s]=t,o=null;if(r&&null!==e&&void 0!==e&&null!==(n=e.rostersBySeason)&&void 0!==n&&n[r]){const t=e.rostersBySeason[r].find(e=>String(e.roster_id)===String(a));t&&(o=t.owner_id||null)}return{id:a,name:s,ownerId:o}}),h=["QB","RB","WR","TE","K","DEF"],m=Array.from(l).map(e=>(e||"").toUpperCase()),f=h.filter(e=>m.includes(e)),p=m.filter(e=>!h.includes(e)).sort();return{currentPlayersMap:s,rosterOptions:d,positionOptions:[...f,...p],rosterLookup:i}},[e,r,o,a]),x=(0,t.useMemo)(()=>{const e=new Set;for(const[t,n]of Object.entries(i)){if(!p.get(String(t)))continue;const a=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,s=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,o=n.yearsKept||0,i=r?Number(r):null;let l=null;if(s){l=s+Math.max(0,3-o)}else!n.wasActuallyDrafted&&i?l=i+3:a&&(l=a+3);l&&e.add(l)}return Array.from(e).sort((e,t)=>e-t)},[i,p]),[b,w]=(0,t.useState)("all"),j=(0,t.useMemo)(()=>Object.entries(i).map(e=>{let[t,n]=e;return u({player_id:t},n)}).filter(e=>{const t=p.get(String(e.player_id));if(!t)return!1;if(l&&"all"!==l&&(!t.roster_id||String(t.roster_id)!==String(l)))return!1;if(d&&"all"!==d){const n=t.position||e.position||null;if(!n||String(n).toUpperCase()!==String(d).toUpperCase())return!1}const n=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,a=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,s=e.yearsKept||0,o=r?Number(r):null;let i=null;if(a){i=a+Math.max(0,3-s)}else!e.wasActuallyDrafted&&o?i=o+3:n&&(i=n+3);if(b&&"all"!==b){if(!i)return!1;if(String(i)!==String(b))return!1}return!0}),[i,p,l,d,b]);(0,t.useEffect)(()=>{if("all"!==l){const e=g.find(e=>String(e.id)===String(l));e||c("all")}},[g,l]),(0,t.useEffect)(()=>{if("all"!==d){const e=y.find(e=>String(e).toUpperCase()===String(d).toUpperCase());e||h("all")}},[y,d]),(0,t.useEffect)(()=>{if("all"!==b){x.find(e=>String(e)===String(b))||w("all")}},[x,b]);const[S,N]=(0,t.useState)("");return(0,K.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg shadow-lg",children:[(0,K.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-yellow-300",children:"Keepers"}),(0,K.jsxs)("p",{className:"text-sm text-gray-200 mb-4",children:["Rules: 3 players are to be kept from 3 different positions. Draft year + 2 keeper years for a total of 3 years max. Starting in ",r?Number(r)+3:2028,", ",(0,K.jsx)("span",{className:"underline decoration-dotted decoration-gray-400 cursor-help",title:r?"".concat(Number(r)+1," = 1 player kept at round value\n").concat(Number(r)+2," = 2 players kept at round value\n").concat(Number(r)+3," = 3 players kept at round value\nIf you do not have a pick in the assigned round, it will cost -1 round.\nFree Agent keepers are assigned the 10th round."):"F Jon Rule details",children:"F Jon"})," Rule will be completely implemented with draft pick values assigned to players."]}),(0,K.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Roster:"}),(0,K.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,K.jsx)("option",{value:"all",children:"All"}),g.map(e=>(0,K.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Position:"}),(0,K.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,K.jsx)("option",{value:"all",children:"All"}),y.map(e=>(0,K.jsx)("option",{value:e,children:e},e))]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Sort by:"}),(0,K.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,K.jsx)("option",{value:"position",children:"Position order"}),(0,K.jsx)("option",{value:"draftYear",children:"Draft-eligible year"}),(0,K.jsx)("option",{value:"round",children:"Round cost"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Year:"}),(0,K.jsxs)("select",{value:b,onChange:e=>w(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,K.jsx)("option",{value:"all",children:"All"}),x.map(e=>(0,K.jsx)("option",{value:String(e),children:e},e))]})]}),(0,K.jsxs)("div",{className:"mt-2 sm:mt-0",children:[(0,K.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Search:"}),(0,K.jsx)("input",{value:S,onChange:e=>N(e.target.value),placeholder:"Player name",className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),(0,K.jsx)("div",{className:"overflow-x-auto bg-gray-800 rounded-lg p-3",children:0===j.length?(0,K.jsx)("div",{className:"py-8 text-center text-gray-300",children:"No keeper data available for current season."}):(0,K.jsx)("div",{className:"w-full",children:(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:g.filter(e=>"all"===l||String(e.id)===String(l)).map(t=>{const n=j.filter(e=>{const n=p.get(String(e.player_id));if(!n||String(n.roster_id)!==String(t.id))return!1;if(S&&S.trim()){const t=S.trim().toLowerCase();return(e.player_name||"").toLowerCase().includes(t)}return!0});return(0,K.jsxs)("div",{className:"bg-white/5 border border-gray-700 rounded p-2",children:[(0,K.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[t.ownerId&&s?(()=>{const e=s(t.ownerId,r),n=(null===e||void 0===e?void 0:e.avatar)||"/LeagueLogo.PNG";return(0,K.jsx)("img",{src:n,alt:"".concat((null===e||void 0===e?void 0:e.name)||t.name," logo"),className:"w-6 h-6 mr-2 object-contain",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}})})():(0,K.jsx)("img",{src:"/LeagueLogo.PNG",alt:"league logo",className:"w-6 h-6 mr-2 object-contain"}),(0,K.jsx)("div",{className:"font-semibold text-yellow-300 text-center text-gray-100 text-sm",children:t.name})]}),(0,K.jsx)("div",{className:"space-y-1",children:0===n.length?(0,K.jsx)("div",{className:"text-sm text-gray-400",children:"No players"}):(()=>{const s=["QB","RB","WR","TE","K","DEF"],o=n.slice().sort((e,t)=>{var n,o,i,l;if("draftYear"===m){const n=e=>{const t=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,n=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,a=e.yearsKept||0,s=r?Number(r):null;let o=null;if(n){o=n+Math.max(0,3-a)}else!e.wasActuallyDrafted&&s?o=s+3:t&&(o=t+3);return null===o?9999:Number(o)},a=n(e),s=n(t);if(a!==s)return a-s}if("round"===m){const n=e.originalDraftRound?Number(e.originalDraftRound):null,r=t.originalDraftRound?Number(t.originalDraftRound):null,a=n?Math.max(1,n-(e.yearsKept||0)):9999,s=r?Math.max(1,r-(t.yearsKept||0)):9999;if(a!==s)return a-s}const c=((null===(n=p.get(String(e.player_id)))||void 0===n?void 0:n.position)||a&&(null===(o=a[e.player_id])||void 0===o?void 0:o.position)||"").toUpperCase(),u=((null===(i=p.get(String(t.player_id)))||void 0===i?void 0:i.position)||a&&(null===(l=a[t.player_id])||void 0===l?void 0:l.position)||"").toUpperCase(),d=-1===s.indexOf(c)?999:s.indexOf(c),h=-1===s.indexOf(u)?999:s.indexOf(u);return d!==h?d-h:(e.player_name||"").localeCompare(t.player_name||"")});return o.map(n=>{var s;const o=p.get(String(n.player_id)),i=((null===o||void 0===o?void 0:o.position)||a&&(null===(s=a[n.player_id])||void 0===s?void 0:s.position)||"").toUpperCase(),l=a&&a[n.player_id]?a[n.player_id].team:"";let c=n.player_name||"";if((!c||c.toLowerCase().includes("unknown"))&&"DEF"===i)if(l)c="".concat(l," DEF");else{let t=null;const r=Object.keys((null===e||void 0===e?void 0:e.draftPicksBySeason)||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const a of r){const r=(e.draftPicksBySeason[a]||[]).find(e=>String(e.player_id)===String(n.player_id));var u;if(r)if(t=(null===(u=r.metadata)||void 0===u?void 0:u.team)||r.player_team||null,t)break}c=t?"".concat(t," DEF"):"Unknown Defense"}const d=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,h=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,m=n.yearsKept||0,f=r?Number(r):null;let g=null;if(h){const e=Math.max(0,3-m);g=h+e}else!n.wasActuallyDrafted&&f?g=f+3:d&&(g=d+3);const y=n.wasActuallyDrafted&&n.originalDraftRound?Number(n.originalDraftRound):10,v=Math.max(1,y-(n.yearsKept||0));let x="bg-gray-900 border-gray-800",b="text-gray-100",w="text-gray-200";m>=2?(x="bg-red-900/10 border-red-500",b="text-red-200 font-medium",w="text-red-300"):1===m&&(x="bg-yellow-900/10 border-yellow-500",b="text-yellow-200 font-medium",w="text-yellow-300");const j=a?a[n.player_id]:null,S=(null===j||void 0===j?void 0:j.position)||(null===o||void 0===o?void 0:o.position)||"",N=l||(null===j||void 0===j?void 0:j.team)||"";return(0,K.jsxs)("div",{className:"flex justify-between items-center p-1 rounded border ".concat(x),children:[(0,K.jsx)("div",{className:"min-w-0 flex-1 text-sm text-left ".concat(b),children:(0,K.jsxs)("div",{className:"break-words sm:truncate",children:[(0,K.jsx)("span",{className:"block",children:c}),(S||N)&&(0,K.jsxs)("span",{className:"block mt-1 text-[10px] text-gray-400 dark:text-gray-500",children:[S?"".concat(S):"",S&&N?" \u2022 ".concat(N):N?"".concat(N):""]})]})}),(0,K.jsxs)("div",{className:"ml-3 flex-shrink-0 w-16 text-xs text-right",children:[(0,K.jsx)("div",{className:"font-semibold ".concat(w),children:g||"\u2014"}),g&&v?e&&e.draftPicksBySeason&&e.draftPicksBySeason[g]&&e.draftPicksBySeason[g].length>0?(()=>{const n=(e.draftPicksBySeason[g]||[]).find(e=>Number(e.round)===Number(v)&&(String(e.roster_id)===String(t.id)||String(e.picked_by)===String(t.id)||String(e.picked_by)===String(t.ownerId)||String(e.roster_id)===String(t.ownerId)));if(n){const n=DB(e,t.ownerId||t.id,g,v);return(0,K.jsx)("div",{className:"text-[10px] text-gray-300 mt-1 break-words",children:n.label})}return(0,K.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(v)})})():(0,K.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(v)}):(0,K.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: \u2014"})]})]},n.player_id)})})()})]},t.id)})})})})]})}function LB(e){let{handleTabClick:t,handleSubTabClick:n,openSubMenu:r,toggleSubMenu:a,NAV_CATEGORIES:s}=e;return(0,K.jsxs)("ul",{className:"hidden md:flex md:flex-row md:justify-center py-2",children:[(0,K.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t(s.HOME.tab),children:s.HOME.label}),(0,K.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("games"),children:["Games ",(0,K.jsx)("span",{className:"ml-1",children:"\u25bc"}),"games"===r&&(0,K.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.GAMECENTER.tab)},children:s.GAMECENTER.label}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.SPORTSBOOK.tab)},children:s.SPORTSBOOK.label}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.HEAD_TO_HEAD.tab)},children:s.HEAD_TO_HEAD.label})]})]}),(0,K.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("league"),children:["League ",(0,K.jsx)("span",{className:"ml-1",children:"\u25bc"}),"league"===r&&(0,K.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-56 z-10",children:[(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("hallOfChampions")},children:"Hall of Champions"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("keepers")},children:"Keepers"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("leagueHistory")},children:"League History"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("recordBook")},children:"Record Book"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("seasonBreakdown")},children:"Season Breakdown"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("financials")},children:"Finances"})]})]}),(0,K.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t("teamsOverview"),children:"Teams"}),(0,K.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("analysis"),children:["Analysis ",(0,K.jsx)("span",{className:"ml-1",children:"\u25bc"}),"analysis"===r&&(0,K.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("draftAnalysis")},children:"Draft"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("dprAnalysis")},children:"DPR Analysis"}),(0,K.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("luckRating")},children:"Luck Rating"})]})]})]})}const FB={HOME:{label:"Dashboard",tab:"dashboard"},GAMECENTER:{label:"Gamecenter",tab:"gamecenter"},SPORTSBOOK:{label:"Sportsbook",tab:"sportsbook"},HEAD_TO_HEAD:{label:"Head-to-Head",tab:"headToHead"},LEAGUE_DATA:{label:"League Data",subTabs:[{label:"League History",tab:"leagueHistory"},{label:"Hall of Champions",tab:"hallOfChampions"},{label:"Keepers",tab:"keepers"},{label:"Record Book",tab:"recordBook"},{label:"Head-to-Head",tab:"headToHead"},{label:"DPR Analysis",tab:"dprAnalysis"},{label:"Luck Rating",tab:"luckRating"}]},TEAMS:{label:"Teams",tab:"teamsOverview"},SEASON_BREAKDOWN:{label:"Season Breakdown",tab:"seasonBreakdown"},DRAFT:{label:"Draft",tab:"draftAnalysis"},FINANCIALS:{label:"Financials",tab:"financials"}},BB={HOME:"dashboard",GAMECENTER:"gamecenter",SPORTSBOOK:"sportsbook",LEAGUE_HISTORY:"leagueHistory",HALL_OF_CHAMPIONS:"hallOfChampions",RECORD_BOOK:"recordBook",HEAD_TO_HEAD:"headToHead",DPR_ANALYSIS:"dprAnalysis",LUCK_RATING:"luckRating",TEAMS_OVERVIEW:"teamsOverview",TEAMS:"teams",ROSTER:"roster",FINANCIALS:"financials",TRANSACTIONS:"transactions",SEASON_BREAKDOWN:"seasonBreakdown",DRAFT_ANALYSIS:"draftAnalysis",KEEPERS:"keepers",ACHIEVEMENTS:"achievements"},WB=()=>{const{loading:e,error:n,historicalData:r,usersData:s}=J(),[o,i]=(0,t.useState)(BB.HOME),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[y,v]=(0,t.useState)([]);(0,t.useEffect)(()=>{let t;return e?t=setTimeout(()=>{m(!0)},15e3):m(!1),()=>{t&&clearTimeout(t)}},[e]),(0,t.useEffect)(()=>{if(e){const e=a[Math.floor(Math.random()*a.length)];S(e)}else S("")},[e]),(0,t.useEffect)(()=>{const e={tab:o,selectedTeamName:p};window.history.replaceState(e,"",window.location.pathname);const t=e=>{f.A.debug("Pop state event:",e.state),e.state?(i(e.state.tab||BB.DASHBOARD),g(e.state.selectedTeamName||""),v(e=>e.slice(0,-1))):(i(BB.DASHBOARD),g(""),v([]))};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]);const x=(0,t.useCallback)((e,t)=>{if(!e||!t)return"Unknown Champion";const n=t.find(t=>t.user_id===e);if(n){var r;return(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name}return"Unknown Champion"},[s]),[b,w]=(0,t.useState)([]),[j,S]=(0,t.useState)("");(0,t.useEffect)(()=>{const e=(e=>{switch(e){case BB.HOME:return"Dashboard";case BB.GAMECENTER:return"Gamecenter";case BB.SPORTSBOOK:return"Sportsbook";case BB.LEAGUE_HISTORY:return"League History";case BB.HALL_OF_CHAMPIONS:return"Hall of Champions";case BB.RECORD_BOOK:return"Record Book";case BB.HEAD_TO_HEAD:return"Head-to-Head";case BB.DPR_ANALYSIS:return"DPR Analysis";case BB.LUCK_RATING:return"Luck Rating";case BB.TEAMS_OVERVIEW:return p?"".concat(p):"Teams";case BB.FINANCIALS:return"Financials";case BB.SEASON_BREAKDOWN:return"Season Breakdown";case BB.DRAFT_ANALYSIS:return"Draft Analysis";case BB.ACHIEVEMENTS:return"Achievements";default:return"Dashboard"}})(o);document.title="TLOED - ".concat(e)},[o,p]),(0,t.useEffect)(()=>{const t=null===r||void 0===r?void 0:r.rostersBySeason;if(!e&&!n&&r&&s&&t){if(r.seasonAwardsSummary||r.awardsSummary||r.winnersBracketBySeason){let e=[],n=!1;const a=new Set;r.seasonAwardsSummary&&Object.keys(r.seasonAwardsSummary).forEach(e=>a.add(Number(e))),r.awardsSummary&&Object.keys(r.awardsSummary).forEach(e=>a.add(Number(e))),r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).forEach(e=>a.add(Number(e)));const o=Array.from(a).sort((e,t)=>t-e);for(const i of o){if(r.winnersBracketBySeason&&r.winnersBracketBySeason[i]){const a=r.winnersBracketBySeason[i],o=a.find(e=>1===e.p&&e.w);let l=a.find(e=>2===e.p&&e.w);if(l||(l=a.find(e=>3===e.p&&e.w)),l||(l=a.find(e=>e.w&&e.p>1&&e.p<=3)),o&&t[i]){const r=e=>{const n=t[i].find(t=>String(t.roster_id)===String(e));return n&&n.owner_id?x(n.owner_id,s):null},a=r(o.w),c=r(o.l),u=l?r(l.w):null;if(a){e=[{place:1,name:a,emoji:"\ud83e\udd47"},...c?[{place:2,name:c,emoji:"\ud83e\udd48"}]:[],...u?[{place:3,name:u,emoji:"\ud83e\udd49"}]:[]],n=!0;break}}}if(!n){let t="";if(r.seasonAwardsSummary&&r.seasonAwardsSummary[i]){const e=r.seasonAwardsSummary[i];e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()&&(t=e.champion.trim())}if(!t&&r.awardsSummary&&r.awardsSummary[i]){const e=r.awardsSummary[i],n=e.champion||e.Champion;n&&"N/A"!==n&&""!==String(n).trim()&&(t=String(n).trim())}if(t){const r=x(t,s);e=[{place:1,name:"Unknown Champion"!==r?r:t,emoji:"\ud83e\udd47"}],n=!0;break}}}w(e)}}},[e,n,r,s,x]);const N=e=>{i(e),c(!1),d(null)},k=e=>{d(u===e?null:e)},_=()=>{window.location.reload()};return(0,K.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col font-inter overflow-x-hidden",children:[(0,K.jsx)("header",{className:"bg-gray-800 text-white shadow-md safe-area-top relative",children:(0,K.jsxs)("div",{className:"flex items-center justify-between px-4 py-1 md:px-6 md:py-2 max-w-6xl w-full mx-auto",children:[(0,K.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,K.jsx)("button",{onClick:()=>{i(BB.HOME),g(""),v([]);const e={tab:BB.HOME,selectedTeamName:""};try{window.history.pushState(e,"",window.location.pathname)}catch(VB){}},"aria-label":"Go to dashboard",title:"Go to dashboard",className:"p-0 mr-2 md:mr-4 bg-transparent border-0",children:(0,K.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 md:h-24 md:w-24 object-contain flex-shrink-0 transition-all duration-200"})}),(0,K.jsxs)("div",{className:"flex flex-col min-w-0 ml-0",children:[(0,K.jsxs)("h1",{className:"text-sm sm:text-base md:text-2xl font-bold truncate",children:[(0,K.jsx)("span",{className:"sm:hidden",children:"TLOED"}),(0,K.jsx)("span",{className:"hidden sm:inline",children:"The League of Extraordinary Douchebags"})]}),b.length>0&&(0,K.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 mt-1",children:b.map((e,t)=>(0,K.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(1===e.place?"Champion":2===e.place?"Runner-up":"3rd Place"),children:[(0,K.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.emoji}),(0,K.jsx)("span",{className:"font-medium text-white text-xs sm:text-sm md:text-base max-w-16 sm:max-w-24 md:max-w-none truncate",children:e.name})]},t))})]})]}),(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[y.length>0&&(0,K.jsx)("button",{className:"text-white text-xl touch-friendly flex items-center justify-center hover:text-gray-300",onClick:()=>{window.history.back(),y.length>0&&v(e=>e.slice(0,-1))},"aria-label":"Go back to previous page",title:"Go back",children:"\u2190"}),(0,K.jsx)("button",{className:"md:hidden text-white text-2xl touch-friendly flex items-center justify-center",onClick:()=>{c(!l)},"aria-label":l?"Close navigation menu":"Open navigation menu",children:l?"\u2715":"\u2630"})]})]})}),(0,K.jsx)("nav",{className:"bg-gray-700 text-white shadow-lg transition-all duration-300 md:block relative z-50 ".concat(l?"block max-h-screen":"hidden max-h-0"," md:max-h-none"),children:(0,K.jsxs)("div",{className:"max-w-6xl w-full mx-auto",children:[(0,K.jsxs)("ul",{className:"md:hidden flex flex-col",children:[(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>N(FB.HOME.tab),children:(0,K.jsxs)("span",{className:"text-base font-medium",children:["\ud83c\udfe0 ",FB.HOME.label]})})}),(0,K.jsxs)("li",{children:[(0,K.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>k("games"),children:[(0,K.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfae Games"}),(0,K.jsx)("span",{className:"transform transition-transform duration-200 ".concat("games"===u?"rotate-180":""),children:"\u25bc"})]}),"games"===u&&(0,K.jsxs)("ul",{className:"bg-gray-600",children:[(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N(FB.GAMECENTER.tab)},children:FB.GAMECENTER.label})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N(FB.SPORTSBOOK.tab)},children:FB.SPORTSBOOK.label})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N(FB.HEAD_TO_HEAD.tab)},children:FB.HEAD_TO_HEAD.label})})]})]}),(0,K.jsxs)("li",{children:[(0,K.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>k("league"),children:[(0,K.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfc6 League"}),(0,K.jsx)("span",{className:"transform transition-transform duration-200 ".concat("league"===u?"rotate-180":""),children:"\u25bc"})]}),"league"===u&&(0,K.jsxs)("ul",{className:"bg-gray-600",children:[(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("hallOfChampions")},children:"Hall of Champions"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("keepers")},children:"Keepers"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("leagueHistory")},children:"League History"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("recordBook")},children:"Record Book"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("seasonBreakdown")},children:"Season Breakdown"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("financials")},children:"Finances"})})]})]}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>N(FB.TEAMS.tab),children:(0,K.jsxs)("span",{className:"text-base font-medium",children:["\ud83d\udc65 ",FB.TEAMS.label]})})}),(0,K.jsxs)("li",{children:[(0,K.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>k("analysis"),children:[(0,K.jsx)("span",{className:"text-base font-medium",children:"\ud83d\udcca Analysis"}),(0,K.jsx)("span",{className:"transform transition-transform duration-200 ".concat("analysis"===u?"rotate-180":""),children:"\u25bc"})]}),"analysis"===u&&(0,K.jsxs)("ul",{className:"bg-gray-600",children:[(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("draftAnalysis")},children:"Draft"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("dprAnalysis")},children:"DPR Analysis"})}),(0,K.jsx)("li",{children:(0,K.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),N("luckRating")},children:"Luck Rating"})})]})]})]}),(0,K.jsx)(LB,{handleTabClick:N,handleSubTabClick:e=>{i(e),c(!1),d(null)},openSubMenu:u,toggleSubMenu:k,NAV_CATEGORIES:FB})]})}),(0,K.jsx)("main",{className:"flex-grow w-full max-w-6xl mx-auto p-3 sm:p-4 md:p-6 safe-area-bottom",children:(0,K.jsx)("div",{className:"mobile-scroll",children:(()=>{if(e)return(0,K.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:[(0,K.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md max-w-md w-full mx-4",children:[(0,K.jsxs)("div",{className:"mb-6",children:[(0,K.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 mx-auto mb-4 object-contain"}),(0,K.jsx)("p",{className:"text-lg font-semibold text-white mb-2",children:"Loading Sleeper fantasy data..."})]}),(0,K.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-4 overflow-hidden",children:(0,K.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full animate-progress shadow-sm"})}),j&&(0,K.jsx)("div",{className:"text-sm text-gray-200 italic mb-4",children:j}),h&&(0,K.jsxs)("div",{className:"bg-yellow-600 text-yellow-100 p-4 rounded-lg border border-yellow-500 mb-4",children:[(0,K.jsxs)("div",{className:"flex items-center mb-2",children:[(0,K.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,K.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,K.jsx)("span",{className:"font-semibold",children:"Taking longer than usual?"})]}),(0,K.jsx)("p",{className:"text-sm mb-3",children:"If the app seems stuck loading, try refreshing the page. The Sleeper API might be experiencing delays."}),(0,K.jsx)("button",{onClick:_,className:"bg-yellow-500 hover:bg-yellow-400 text-yellow-900 px-4 py-2 rounded font-medium text-sm transition-colors duration-200",children:"Refresh Page"})]})]}),(0,K.jsx)("style",{children:"\n                        @keyframes progress {\n                            0% {\n                                width: 0%;\n                                transform: translateX(-100%);\n                            }\n                            50% {\n                                width: 100%;\n                                transform: translateX(0%);\n                            }\n                            100% {\n                                width: 100%;\n                                transform: translateX(100%);\n                            }\n                        }\n                        .animate-progress {\n                            animation: progress 2s ease-in-out infinite;\n                        }\n                    "})]});if(n)return(0,K.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,K.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,K.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,K.jsxs)("p",{className:"text-base",children:["Failed to load historical data: ",n.message||String(n)]}),(0,K.jsx)("p",{className:"text-sm mt-2",children:"Please check your internet connection or the Sleeper API configuration in `config.js` and `sleeperApi.js`."})]})});const t=r&&r.matchupsBySeason?Object.values(r.matchupsBySeason).flat():[];switch(o){case BB.DASHBOARD:return(0,K.jsx)(GF,{});case BB.GAMECENTER:return(0,K.jsx)(XF,{});case BB.SPORTSBOOK:return(0,K.jsx)(MB,{});case BB.LEAGUE_HISTORY:return(0,K.jsx)(ZO,{});case BB.HALL_OF_CHAMPIONS:return(0,K.jsx)(QF,{});case BB.RECORD_BOOK:return(0,K.jsx)(QM,{historicalMatchups:t});case BB.HEAD_TO_HEAD:return(0,K.jsx)(SD,{historicalMatchups:t,getDisplayTeamName:x});case BB.DPR_ANALYSIS:return(0,K.jsx)(iD,{});case BB.LUCK_RATING:return(0,K.jsx)(lD,{});case BB.KEEPERS:return(0,K.jsx)(RB,{});case BB.TEAMS_OVERVIEW:return(0,K.jsx)(qF,{selectedTeamName:p});case BB.FINANCIALS:return(0,K.jsx)(UF,{});case BB.SEASON_BREAKDOWN:return(0,K.jsx)(KF,{});case BB.DRAFT_ANALYSIS:return(0,K.jsx)(YF,{});default:return(0,K.jsx)(GF,{})}})()})})]})},UB=()=>(0,K.jsx)($,{children:(0,K.jsx)(WB,{})}),zB=document.getElementById("root");r.createRoot(zB).render((0,K.jsx)(t.StrictMode,{children:(0,K.jsx)(UB,{})}))})()})();
//# sourceMappingURL=main.e5f14f91.js.map