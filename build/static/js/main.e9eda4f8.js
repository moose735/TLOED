/*! For license information please see main.e9eda4f8.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,o,i].join("|")+")"+c+l+")*"),d="(?:"+[s+r+"?",r,o,i,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,s,o,i){var l=-1,c=t.length;for(s||(s=a),i||(i=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,i):r(i,u):o||(i[i.length]=u)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),s=n(9841),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},891:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2021-champion.34e6429006ec20666e61.jpg"},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),s=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),s=n(6832),o=s&&s.isTypedArray,i=o?a(o):r;e.exports=i},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),a(e,function(e,a,s){r(n,a,t(e,a,s))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),s=n(2761),o=Function.prototype,i=Object.prototype,l=o.toString,c=i.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),s=n(9140),o=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var l=null==n?0:s(n);return l<0&&(l=o(i+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),s=n(9096),o=n(8883),i=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(s));var f=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return i(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2714:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2022-champion.89c19b30c0f504290fe9.jpg"},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function W(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,je=null;function _e(e){if(e=xa(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function Ne(e){ke?je?je.push(e):je=[e]:ke=e}function Pe(){if(ke){var e=ke,t=je;if(je=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Oe(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==ke||null!==je)&&(Oe(),Pe())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ce=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ce=!1}function Me(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Be=!1,Fe=null,We={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,a,s,o,i,l){Re=!1,Le=null,Me.apply(We,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=dt(i):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~a)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,jt,_t,Nt=!1,Pt=[],Et=null,Ot=null,At=null,It=new Map,Tt=new Map,Ct=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Wt(){Nt=!1,null!==Et&&Bt(Et)&&(Et=null),null!==Ot&&Bt(Ot)&&(Ot=null),null!==At&&Bt(At)&&(At=null),It.forEach(Ft),Tt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Ot&&Ut(Ot,e),null!==At&&Ut(At,e),It.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ct.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function Gt(e,t,n,r){var a=xt,s=Vt.transition;Vt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=a,Vt.transition=s}}function Kt(e,t,n,r){if(Ht){var a=Qt(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Rt(Et,e,t,n,r,a),!0;case"dragenter":return Ot=Rt(Ot,e,t,n,r,a),!0;case"mouseover":return At=Rt(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return It.set(s,Rt(It.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Rt(Tt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=va(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return jn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Nn),En=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(In),Cn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Fn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Br(e,0)}function Qn(e){if(K(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ie(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},jr={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=_r("animationend"),Pr=_r("animationiteration"),Er=_r("animationstart"),Or=_r("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ar.set(e,t),l(t,[e])}for(var Cr=0;Cr<Ir.length;Cr++){var Dr=Ir[Cr];Tr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Tr(Nr,"onAnimationEnd"),Tr(Pr,"onAnimationIteration"),Tr(Er,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,i,c),s=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Wr(t,!1,e),Wr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=va(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Ie(function(){var r=s,a=we(n),o=[];e:{var i=Ar.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Nr:case Pr:case Er:l=yn;break;case Or:l=An;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Te(m,h))&&u.push(qr(m,p,f)))),d)break;m=m.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ma])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?i:ba(l),f=null==c?i:ba(c),(i=new u(p,m+"leave",l,n,a)).target=d,i.relatedTarget=f,p=null,va(a)===r&&((u=new u(h,m+"enter",c,n,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=h;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)h=Kr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,i,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Hn(i))if($n)g=or;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(o,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?ba(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Wn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,zn=!0)),0<(y=Gr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Wn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Br(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Te(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Te(n,s))&&o.unshift(qr(n,l,i)):a||null!=(l=Te(n,s))&&o.push(qr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,ma="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var Sa=[],ka=-1;function ja(e){return{current:e}}function _a(e){0>ka||(e.current=Sa[ka],Sa[ka]=null,ka--)}function Na(e,t){ka++,Sa[ka]=e.current,e.current=t}var Pa={},Ea=ja(Pa),Oa=ja(!1),Aa=Pa;function Ia(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ca(){_a(Oa),_a(Ea)}function Da(e,t,n){if(Ea.current!==Pa)throw Error(s(168));Na(Ea,t),Na(Oa,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Aa=Ea.current,Na(Ea,e),Na(Oa,Oa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ma(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,_a(Oa),_a(Ea),Na(Ea,e)):_a(Oa),Na(Oa,n)}var Ba=null,Fa=!1,Wa=!1;function Ua(e){null===Ba?Ba=[e]:Ba.push(e)}function za(){if(!Wa&&null!==Ba){Wa=!0;var e=0,t=xt;try{var n=Ba;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ke(Ze,za),a}finally{xt=t,Wa=!1}}return null}var Va=[],Ha=0,qa=null,Ga=0,Ka=[],Ya=0,Qa=null,Xa=1,$a="";function Ja(e,t){Va[Ha++]=Ga,Va[Ha++]=qa,qa=e,Ga=t}function Za(e,t,n){Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Qa=e;var r=Xa;e=$a;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,$a=s+e}else Xa=1<<s|n<<a|r,$a=e}function es(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ts(e){for(;e===qa;)qa=Va[--Ha],Va[Ha]=null,Ga=Va[--Ha],Va[Ha]=null;for(;e===Qa;)Qa=Ka[--Ya],Ka[Ya]=null,$a=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Xa,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?u(e,t,n,r):null;case T:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function p(a,s,i,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(a,d,i[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=o(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===i.length)return n(a,d),as&&Ja(a,p),c;if(null===d){for(;p<i.length;p++)null!==(d=h(a,i[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&Ja(a,p),c}for(d=r(a,d);p<i.length;p++)null!==(g=m(d,a,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Ja(a,p),c}function g(a,i,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=i,g=i=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var x=f(a,p,v.value,c);if(null===x){null===p&&(p=y);break}e&&p&&null===x.alternate&&t(a,p),i=o(x,i,g),null===d?u=x:d.sibling=x,d=x,p=y}if(v.done)return n(a,p),as&&Ja(a,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return as&&Ja(a,g),u}for(p=r(a,p);!v.done;g++,v=l.next())null!==(v=m(p,a,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),i=o(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),as&&Ja(a,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&vs(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return i(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(o,r.mode,l)).return=r,r=s}return i(r);case T:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(M(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Lc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),Ss=ja(null),ks=null,js=null,_s=null;function Ns(){_s=js=ks=null}function Ps(e){var t=Ss.current;_a(Ss),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){ks=e,_s=js=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===js){if(null===ks)throw Error(s(308));js=e,ks.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Is=null;function Ts(e){null===Is?Is=[e]:Is.push(e)}function Cs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ts(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ds(e,n)}return null===(a=r.interleaved)?(t.next=t,Ts(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ds(e,n)}function Ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,p=i;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},qs=ja(Hs),Gs=ja(Hs),Ks=ja(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Na(Ks,t),Na(Gs,e),Na(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(qs),Na(qs,t)}function Xs(){_a(qs),_a(Gs),_a(Ks)}function $s(e){Ys(Ks.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Na(Gs,e),Na(qs,n))}function Js(e){Gs.current===e&&(_a(qs),_a(Gs))}var Zs=ja(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function mo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,a)}while(uo)}if(ro.current=Jo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=io,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(xi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function jo(e,t){var n=oo,r=xo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,xi=!0),r=r.queue,Ro(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,No.bind(null,n,r,a,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&so)||_o(n,t,a)}return a}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Oo(e)}function Po(e,t,n){return n(function(){Eo(t)&&Oo(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Oo(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return xo().memoizedState}function Co(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=xo();r=void 0===r?null:r;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(a.memoizedState=Io(t,n,s,r))}oo.flags|=e,a.memoizedState=Io(1|t,n,s,r)}function Mo(e,t){return Co(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Bo(e,t){return Do(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Fo.bind(null,t,e),n)}function Uo(){}function zo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function Go(){return xo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Cs(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ts(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Cs(e,t,a,r))&&(nc(n,e,r,a=ec()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:As,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Co(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&so)||_o(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Ol.identifierPrefix;if(as){var n=$a;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:As,useCallback:zo,useContext:As,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Bo,useMemo:Vo,useReducer:wo,useRef:To,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(xo(),io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1},ti={readContext:As,useCallback:zo,useContext:As,useEffect:Ro,useImperativeHandle:Wo,useInsertionEffect:Lo,useLayoutEffect:Bo,useMemo:Vo,useReducer:So,useRef:To,useState:function(){return So(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[So(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Bs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Bs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Bs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,r))&&(nc(t,e,r,n),Ws(t,e,r))}};function si(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function oi(e,t,n){var r=!1,a=Pa,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=Ta(t)?Aa:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ia(e,a):Pa),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=Ta(t)?Aa:Ea.current,a.context=Ia(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),zs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),di(0,t)},n}function mi(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=b.ReactCurrentOwner,xi=!1;function bi(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wi(e,t,n,r,a){n=n.render;var s=t.ref;return Os(t,a),r=go(e,t,n,r,s,a),n=yo(),null===e||xi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Si(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ki(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Cc(s,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(xi=!0)}}return Ni(e,t,n,r,a)}function ji(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Cl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Cl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Cl,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Cl,Tl),Tl|=r;return bi(e,t,a,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,a){var s=Ta(n)?Aa:Ea.current;return s=Ia(t,s),Os(t,a),n=go(e,t,n,r,s,a),r=yo(),null===e||xi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Pi(e,t,n,r,a){if(Ta(n)){var s=!0;Ra(t)}else s=!1;if(Os(t,a),null===t.stateNode)Vi(e,t),oi(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ia(t,c=Ta(n)?Aa:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Ms=!1;var h=t.memoizedState;o.state=h,zs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Oa.current||Ms?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ms||si(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ia(t,l=Ta(n)?Aa:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Ms=!1,h=t.memoizedState,o.state=h,zs(t,r,o,a);var m=t.memoizedState;i!==d||h!==m||Oa.current||Ms?("function"===typeof f&&(ri(t,n,f,r),m=t.memoizedState),(c=Ms||si(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,s,a)}function Ei(e,t,n,r,a,s){_i(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Hi(e,t,s);r=t.stateNode,vi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Oi(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Qs(e,t.containerInfo)}function Ai(e,t,n,r,a){return fs(),ms(a),t.flags|=256,bi(e,t,n,r),t.child}var Ii,Ti,Ci,Di,Mi={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Na(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Rc(l,a,0,null),e=Mc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(n),t.memoizedState=Mi,e):Bi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,r=ui(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Mi,o);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fi(e,t,i,r=ui(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=Ol)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ds(e,a),nc(r,e,a,-1))}return pc(),Fi(e,t,i,r=ui(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Xa=e.id,$a=e.overflow,Qa=t),t=Bi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Cc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Cc(r,i):(i=Mc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ri(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Mi,a}return e=(i=e.child).sibling,a=Cc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,n,r){return null!==r&&ms(r),bs(t,e.child,null,n),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function zi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(bi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Ta(t.type)&&Ca(),Gi(t),null;case 3:return r=t.stateNode,Xs(),_a(Oa),_a(Ea),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ti(e,t),Gi(t),null;case 5:Js(t);var a=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ci(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Gi(t),null}if(e=Ys(qs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=Q(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Di(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Gi(t),null;case 13:if(_a(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Xs(),Ti(e,t),null===e&&zr(t.stateNode.containerInfo),Gi(t),null;case 10:return Ps(t.type._context),Gi(t),null;case 19:if(_a(Zs),null===(o=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qi(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Gi(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Na(Zs,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yi(e,t){switch(ts(t),t.tag){case 1:return Ta(t.type)&&Ca(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),_a(Oa),_a(Ea),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(_a(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zs),null;case 4:return Xs(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},Ci=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ys(qs.current);var s,o=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qi=!1,Xi=!1,$i="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[pa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Xi||Zi(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){jc(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xi=(r=Xi)||null!==n.memoizedState,hl(e,t,n),Xi=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(a,o),xe(l,i);var u=xe(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":J(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(a,!!o.multiple,m,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){jc(e,e.return,g)}}break;case 6:if(pl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){jc(e,e.return,g)}}break;case 3:if(pl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:pl(t,e),yl(e);break;case 13:pl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(u=Xi)||d,pl(t,e),Xi=u):pl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(h=Ji=d;null!==Ji;){switch(m=(f=Ji).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zi(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Ji=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){jc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ji=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var a=Ji,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Qi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xi;i=Qi;var c=Xi;if(Qi=o,(Xi=l)&&!c)for(Ji=a;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Ji=l):Sl(a);for(;null!==s;)Ji=s,xl(s,t,n),s=s.sibling;Ji=a,Qi=i,Xi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Ji=s):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xi||512&t.flags&&al(t)}catch(f){jc(t,t.return,f)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function wl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Sl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var s=t.return;try{al(t)}catch(l){jc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){jc(t,o,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var kl,jl=Math.ceil,_l=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,El=0,Ol=null,Al=null,Il=0,Tl=0,Cl=ja(0),Dl=0,Ml=null,Rl=0,Ll=0,Bl=0,Fl=null,Wl=null,Ul=0,zl=1/0,Vl=null,Hl=!1,ql=null,Gl=null,Kl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Il?Il&-Il:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&El)&&e===Ol||(e===Ol&&(0===(2&El)&&(Ll|=n),4===Dl&&ic(e,Il)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(zl=$e()+500,Fa&&za()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ft(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=ht(e,e===Ol?Il:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&El)&&za()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var o=mc();for(Ol===e&&Il===t||(Vl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),_l.current=o,El=a,null!==Al?t=0:(Ol=null,Il=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ml,hc(e,0),ic(e,r),rc(e,$e()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=mt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ml,hc(e,0),ic(e,r),rc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Wl,Vl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),t);break}wc(e,Wl,Vl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Wl,Vl),r);break}wc(e,Wl,Vl);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=n,null!==t&&oc(t)),e}function oc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function ic(e,t){for(t&=~Bl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),ic(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Vl),rc(e,$e()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(zl=$e()+500,Fa&&za())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&El)&&Sc();var t=El;El|=1;var n=Pl.transition,r=xt;try{if(Pl.transition=null,xt=1,e)return e()}finally{xt=r,Pl.transition=n,0===(6&(El=t))&&za()}}function dc(){Tl=Cl.current,_a(Cl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ca();break;case 3:Xs(),_a(Oa),_a(Ea),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:_a(Zs);break;case 10:Ps(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,Al=e=Cc(e.current,null),Il=Tl=t,Dl=0,Ml=null,Bl=Ll=Rl=0,Wl=Fl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Is=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Ns(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Nl.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,yi(m,i,l,0,t),1&m.mode&&pi(o,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pi(o,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),ms(ci(c,l));break e}}o=c=ci(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[o]:Fl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,fi(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,mi(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Jo,null===e?Jo:e}function pc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Rl)&&0===(268435455&Ll)||ic(Ol,Il)}function gc(e,t){var n=El;El|=2;var r=mc();for(Ol===e&&Il===t||(Vl=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Ns(),El=n,_l.current=r,null!==Al)throw Error(s(261));return Ol=null,Il=0,Dl}function yc(){for(;null!==Al;)xc(Al)}function vc(){for(;null!==Al&&!Qe();)xc(Al)}function xc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Nl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Tl)))return void(Al=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,a=Pl.transition;try{Pl.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Ol&&(Al=Ol=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Oc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var i=xt;xt=1;var l=El;El|=4,Nl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++d===r&&(c=i),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),El=l,xt=i,Pl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,za()}(e,t,n,r)}finally{Pl.transition=a,xt=r}return null}function Sc(){if(null!==Yl){var e=bt(Ql),t=Pl.transition,n=xt;try{if(Pl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ji=u;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ji=h;else for(;null!==Ji;){var f=(d=Ji).sibling,m=d.return;if(sl(d),d===u){Ji=null;break}if(null!==f){f.return=m,Ji=f;break}Ji=m}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ji=v;break e}Ji=o.return}}var x=e.current;for(Ji=x;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=x;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){jc(l,l.return,S)}if(l===i){Ji=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ji=w;break e}Ji=l.return}}if(El=a,za(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{xt=n,Pl.transition=t}}return!1}function kc(e,t,n){e=Fs(e,t=fi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fs(t,e=mi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Il&n)===n&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>$e()-Ul?hc(e,0):Bl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Oc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Ac(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Mc(n.children,a,o,t);case j:i=8,a|=8;break;case _:return(e=Ic(12,n,t,2|a)).elementType=_,e.lanes=o,e;case O:return(e=Ic(13,n,t,a)).elementType=O,e.lanes=o,e;case A:return(e=Ic(19,n,t,a)).elementType=A,e.lanes=o,e;case C:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case P:i=9;break e;case E:i=11;break e;case I:i=14;break e;case T:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=C,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,a,s,o,i,l){return e=new Fc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uc(e){if(!e)return Pa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Ma(e,n,t)}return t}function zc(e,t,n,r,a,s,o,i,l){return(e=Wc(n,r,!0,e,0,s,0,i,l)).context=Uc(null),n=e.current,(s=Bs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Vc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(a,t,o))&&(nc(e,a,o,s),Ws(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Oi(t),fs();break;case 5:$s(t);break;case 1:Ta(t.type)&&Ra(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(Ss,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(Na(Zs,1&Zs.current),null!==(e=Hi(e,t,n))?e.sibling:null);Na(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return Hi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,as&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var a=Ia(t,Ea.current);Os(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ei(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),bi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===I)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=Pi(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ni(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Pi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Oi(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ai(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=Ai(e,t,r,n,a=ci(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Hi(e,t,n);break e}bi(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),_i(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Na(Ss,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Oa.current){t=Hi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Es(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Os(t,n),r=r(a=As(a)),t.flags|=1,bi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),Si(e,t,r,a=ni(r.type,a),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Vi(e,t),t.tag=1,Ta(r)?(e=!0,Ra(t)):e=!1,Os(t,n),oi(t,r,a),li(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return zi(e,t,n);case 22:return ji(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}Vc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[ma]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ma]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[ma]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&El)&&(zl=$e()+500,za()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},jt=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),J(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,Ne,Pe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,o,i),e[ma]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[a(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),s=n(4052),o=n(4543),i=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&a(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,m=f?r(e.length,String):[],p=m.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||m.push(g);return m}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3225:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2023-champion.1abe39833d904b2f85f0.jpg"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),s=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),s=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:s)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),s=n(8114);e.exports=function(e,t,n,o,i,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var m=-1,p=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++m<u;){var y=e[m],v=t[m];if(o)var x=c?o(v,y,m,t,e,l):o(y,v,m,e,t,l);if(void 0!==x){if(x)continue;p=!1;break}if(g){if(!a(t,function(e,t){if(!s(g,t)&&(y===e||i(y,e,n,o,l)))return g.push(t)})){p=!1;break}}else if(y!==v&&!i(y,v,n,o,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),s=n(2597),o=n(914);e.exports=function(e){return s(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),s=n(801),o=Math.max,i=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,m=0,p=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,m=t,d=e.apply(r,n)}function x(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-m>=u}function b(){var e=a();if(x(e))return w(e);h=setTimeout(b,function(e){var n=t-(e-f);return g?i(n,u-(e-m)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=a(),n=x(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return m=e,h=setTimeout(b,t),p?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(b,t),v(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=s(t)||0,r(n)&&(p=!!n.leading,u=(g="maxWait"in n)?o(s(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:w(a())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!j.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),O(o,t,a,"",function(e){return e})):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(i=e[c],c);l+=O(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=O(i=i.value,t,a,u=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},C={transition:null},D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:C,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),s=n(1558),o=n(8114),i=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],m=f;if(n)h=!1,u=s;else if(d>=200){var p=t?null:i(e);if(p)return l(p);h=!1,u=o,m=new r}else m=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=m.length;v--;)if(m[v]===y)continue e;t&&m.push(y),f.push(g)}else u(m,y,n)||(m!==f&&m.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),s=n(2165),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:s;return n&&i(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),s=n(438),o=n(9394),i=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),s=n(3366),o=n(2597),i=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&i(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?s(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),s=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[r(e)]}},5452:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const r="undefined"!==typeof window;const a=function(){try{if(process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERBOSE_LOGS){const e=String({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERBOSE_LOGS).toLowerCase();if("1"===e||"true"===e)return!0;if("0"===e||"false"===e)return!1}}catch(e){}if(r)try{const e=window.localStorage.getItem("debugLogs");if(null!==e){const t=String(e).toLowerCase();return"1"===t||"true"===t}}catch(e){}return!1}(),s={debug:function(){a&&console&&console.debug&&console.debug(...arguments)},info:function(){a&&console&&console.info&&console.info(...arguments)},warn:function(){console&&console.warn&&console.warn(...arguments)},error:function(){console&&console.error&&console.error(...arguments)}}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),s=n(793),o=n(7760),i=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,i=a(s.length-t,0),l=Array(i);++o<i;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),s=n(6350);e.exports=function(e,t){return s(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,i){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var x=l?s(v,y,h,t,e,i):s(y,v,h,e,t,i);if(!(void 0===x?y===v||o(y,v,n,s,i):x)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(e),i.delete(t),p}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,o=t.criteria,i=s.length,l=n.length;++a<i;){var c=r(s[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5900:e=>{"use strict";e.exports=JSON.parse('{"description":"The iconic font, CSS, and SVG framework","keywords":["font","awesome","fontawesome","icon","svg","bootstrap"],"homepage":"https://fontawesome.com","bugs":{"url":"https://github.com/FortAwesome/Font-Awesome/issues"},"author":"The Font Awesome Team (https://github.com/orgs/FortAwesome/people)","repository":{"type":"git","url":"https://github.com/FortAwesome/Font-Awesome"},"engines":{"node":">=6"},"dependencies":{"@fortawesome/fontawesome-common-types":"6.7.2"},"version":"6.7.2","name":"@fortawesome/fontawesome-svg-core","main":"index.js","module":"index.mjs","jsnext:main":"index.mjs","style":"styles.css","license":"MIT","types":"./index.d.ts","exports":{".":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","style":"./styles.css","default":"./index.js"},"./index":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./index.js":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./plugins":{"types":"./index.d.ts","module":"./plugins.mjs","import":"./plugins.mjs","default":"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},"sideEffects":["./index.js","./index.mjs","./styles.css"]}')},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case i:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case p:case m:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),s=n(9987),o=n(5752),i=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,y){var v=l(e),x=l(t),b=v?h:i(e),w=x?h:i(t),S=(b=b==d?f:b)==f,k=(w=w==d?f:w)==f,j=b==w;if(j&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(j&&!S)return y||(y=new r),v||u(e)?a(e,t,n,p,g,y):s(e,t,b,n,p,g,y);if(!(1&n)){var _=S&&m.call(e,"__wrapped__"),N=k&&m.call(t,"__wrapped__");if(_||N){var P=_?e.value():e,E=N?t.value():t;return y||(y=new r),g(P,E,n,p,y)}}return!!j&&(y||(y=new r),o(e,t,n,p,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,o=t?s:-1,i=Object(n);(t?o--:++o<s)&&!1!==a(i[o],o,i););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,s){var o=n.length,i=o,l=!s;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(s)var m=s(d,h,u,e,t,f);if(!(void 0===m?a(h,d,3,s,f):m))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e===e,o=r(e),i=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||a&&i&&c||!n&&c||!s)return 1;if(!a&&!o&&!u&&e<t||u&&n&&s&&!a&&!o||l&&n&&s||!i&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&r.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),s=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),s=n(5387),o=n(2070),i=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",m="[object DataView]",p=c(r),g=c(a),y=c(s),v=c(o),x=c(i),b=l;(r&&b(new r(new ArrayBuffer(1)))!=m||a&&b(new a)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=h||i&&b(new i)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return m;case g:return u;case y:return d;case v:return h;case x:return f}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),s=n(6686),o=n(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?h:i).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,s,o,i){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),s=n(9096),o=n(4052),i=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&i(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),s=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),s=n(4190),o=n(1946),i=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,C(S);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function S(e,n){p=!1,g&&(g=!1,v(N),N=-1),m=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,j=!1,_=null,N=-1,P=5,E=-1;function O(){return!(t.unstable_now()-E<P)}function A(){if(null!==_){var e=t.unstable_now();E=e;var n=!0;try{n=_(!0,e)}finally{n?k():(j=!1,_=null)}}else j=!1}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=A,k=function(){T.postMessage(null)}}else k=function(){y(A,0)};function C(e){_=e,j||(j=!0,k())}function D(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,C(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,D(w,s-o))):(e.sortIndex=i,n(c,e),p||m||(p=!0,C(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var i=new a(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],i]:e._events[l].push(i):(e._events[l]=i,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,o=new Array(s);a<s;a++)o[a]=r[a].fn;return o},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,a,s,o){var i=n?n+e:e;if(!this._events[i])return!1;var l,c,u=this._events[i],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,s),!0;case 6:return u.fn.call(u.context,t,r,a,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||a&&!i.once||r&&i.context!==r||o(this,s);else{for(var l=0,c=[],u=i.length;l<u;l++)(i[l].fn!==t||a&&!i[l].once||r&&i[l].context!==r)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),s=n(5647),o=n(929),i=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=i},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),s=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?s(t):void 0,i=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return i[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),s=n(2074),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,p=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),i?E(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),s>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/m|0,c[s]%=m;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,i?E(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=_(n)),s+=r;(n=7-(r=(o=e[t])+"").length)&&(s+=_(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(i=!1,t=w(N(n,o),N(e,o),o),i=!0,E(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(i=!1,t=w(n,e,0,1).times(e),i=!0,n.minus(t)):E(new r(n),a)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):O(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),i=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,o+2)).times(.5),b(s.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(E(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;o+=4}return i=!0,E(r,n)},y.times=y.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=p.length)&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],r=o=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+p[r]*f[a-r-1]+t,s[a--]=l%m|0,t=l/m|0;s[a]=(s[a]+t)%m|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,i?E(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,s),void 0===t?t=r.rounding:x(t,0,8),E(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,s),void 0===t?t=a.rounding:x(t,0,8),n=A(r=E(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?A(a):(x(e,0,s),void 0===t?t=o.rounding:x(t,0,8),n=A((r=E(new o(a),e+k(a)+1,t)).abs(),!1,e+k(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,s,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return E(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=p){for(s=new h(a),t=Math.ceil(r/7+4),i=!1;n%2&&I((s=s.times(u)).d,t),0!==(n=d(n/2));)I((u=u.times(u)).d,t);return i=!0,e.s<0?new h(a).div(s):E(s,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,i=!1,s=e.times(N(u,r+12)),i=!0,(s=S(s)).s=o,s},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=A(a,(n=k(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,s),void 0===t?t=o.rounding:x(t,0,8),r=A(a=E(new o(a),e,t),e<=(n=k(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,s),void 0===t?t=n.rounding:x(t,0,8)),E(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,o){var i,c,u,d,h,f,p,g,y,v,x,b,w,S,j,_,N,P,O=r.constructor,A=r.s==a.s?1:-1,I=r.d,T=a.d;if(!r.s)return new O(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,N=T.length,j=I.length,g=(p=new O(A)).d=[],u=0;T[u]==(I[u]||0);)++u;if(T[u]>(I[u]||0)&&--c,(b=null==s?s=O.precision:o?s+(k(r)-k(a))+1:s)<0)return new O(0);if(b=b/7+2|0,u=0,1==N)for(d=0,T=T[0],b++;(u<j||d)&&b--;u++)w=d*m+(I[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=m/(T[0]+1)|0)>1&&(T=e(T,d),I=e(I,d),N=T.length,j=I.length),S=N,v=(y=I.slice(0,N)).length;v<N;)y[v++]=0;(P=T.slice()).unshift(0),_=T[0],T[1]>=m/2&&++_;do{d=0,(i=t(T,y,N,v))<0?(x=y[0],N!=v&&(x=x*m+(y[1]||0)),(d=x/_|0)>1?(d>=m&&(d=m-1),1==(i=t(h=e(T,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?P:T,f))):(0==d&&(i=d=1),h=T.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==i&&(i=t(T,y,N,v=y.length))<1&&(d++,n(y,N<v?P:T,v)),v=y.length):0===i&&(d++,y=[0]),g[u++]=d,i&&y[0]?y[v++]=I[S]||0:(y=[I[S]],v=1)}while((S++<j||void 0!==y[0])&&b--)}return g[0]||g.shift(),p.e=c,E(p,o?s+k(p)+1:s)}}();function S(e,t){var n,r,s,o,l,c=0,d=0,f=e.constructor,m=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(a);for(null==t?(i=!1,l=m):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new f(a),f.precision=l;;){if(r=E(r.times(e),l),n=n.times(++c),b((o=s.plus(w(r,n,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;d--;)s=E(s.times(s),l);return f.precision=m,null==t?(i=!0,E(s,m)):s}s=o}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw i=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,s,o,c,u,d,h,f,m=1,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(a))return new y(0);if(null==t?(i=!1,h=v):h=t,p.eq(10))return null==t&&(i=!0),j(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),o=k(p),!(Math.abs(o)<15e14))return d=j(y,h+2,v).times(o+""),p=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(i=!0,E(p,v)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),m++;for(o=k(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1)),u=c=p=w(p.minus(a),p.plus(a),h),f=E(p.times(p),h),s=3;;){if(c=E(c.times(f),h),b((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(j(y,h+2,v).times(o+""))),u=w(u,new y(m),h),y.precision=v,null==t?(i=!0,E(u,v)):u;u=d,s+=2}}function P(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),i&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,a,s,o,l,c,f,p,y=e.d;for(o=1,s=y[0];s>=10;s/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[p=0];else{if((p=Math.ceil((r+1)/7))>=(s=y.length))return e;for(f=s=y[p],o=1;s>=10;s/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(s=h(10,o-a-1))%10|0,c=t<0||void 0!==y[p+1]||f%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(s=k(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,s=1,p--):(y.length=p+1,s=h(10,7-r),y[p]=a>0?(f/h(10,o-a)%h(10,a)|0)*s:0),c)for(;;){if(0==p){(y[0]+=s)==m&&(y[0]=1,++e.e);break}if(y[p]+=s,y[p]!=m)break;y[p--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(i&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function O(e,t){var n,r,a,s,o,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),i?E(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(p/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=m-1;--c[s],c[a]+=m}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,i?E(t,p):t):new f(0)}function A(e,t,n){var r,a=k(e),s=b(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+_(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+_(-a-1)+s,n&&(r=n-o)>0&&(s+=_(r))):a>=o?(s+=_(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+_(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=_(r))),e.s<0?"-"+s:s}function I(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);P(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),s=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),s=n(4052),o=n(9841),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),s=n(2154),o=n(8734),i=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),s=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),s=n(4052),o=n(9194),i=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&i(u)&&o(h,u)&&(s(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),s=n(3279),o=n(4052),i=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):i(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),s=n(715);e.exports=function(e){return a(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),s=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),s=n(8673);e.exports=function(e){return r(e,s,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:a;e.exports=i},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,s){for(var o=-1,i=n(t((r-e)/(a||1)),0),l=Array(i);i--;)l[s?i:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,s=e.length;++a<s;){var o=e[a],i=t(o);if(null!=i&&(void 0===l?i===i&&!r(i):n(i,l)))var l=i,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:s,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),s=n(3211),o=n(3668),i=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=i;case"[object Set]":var m=1&r;if(f||(f=l),e.size!=t.size&&!m)return!1;var p=h.get(e);if(p)return p==t;r|=2,h.set(e,t);var g=o(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),s=n(8673);e.exports=function(e){return function(t,n,o){var i=Object(t);if(!a(t)){var l=r(n,3);t=s(t),n=function(e){return l(i[e],e,i)}}var c=e(t,n,o);return c>-1?i[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Bs,scaleDiverging:()=>gd,scaleDivergingLog:()=>yd,scaleDivergingPow:()=>xd,scaleDivergingSqrt:()=>bd,scaleDivergingSymlog:()=>vd,scaleIdentity:()=>ul,scaleImplicit:()=>Rs,scaleLinear:()=>cl,scaleLog:()=>xl,scaleOrdinal:()=>Ls,scalePoint:()=>Ws,scalePow:()=>El,scaleQuantile:()=>Wl,scaleQuantize:()=>Ul,scaleRadial:()=>Il,scaleSequential:()=>cd,scaleSequentialLog:()=>ud,scaleSequentialPow:()=>hd,scaleSequentialQuantile:()=>md,scaleSequentialSqrt:()=>fd,scaleSequentialSymlog:()=>dd,scaleSqrt:()=>Ol,scaleSymlog:()=>kl,scaleThreshold:()=>zl,scaleTime:()=>sd,scaleUtc:()=>od,tickFormat:()=>il});var t=n(5043),r=n(4391);const a=["Loading collusion logs\u2026","Simulating 14 different ways to screw over the commish","Rebalancing the league to favor whoever complains loudest\u2026","Finalizing another lopsided trade no one will admit was rigged","Sacrificing league integrity for one more win\u2026","Filing formal complaints\u2026 directly into the trash","Backstabbing in progress. Please wait\u2026","Checking if that \u2018fair trade\u2019 passed the smell test. (It didn\u2019t.","Reading league bylaws... oh wait, you guys don\u2019t follow those","Injecting drama into your matchup\u2026 please hold","Identifying the next trade rape in progress\u2026","Plotting against the commish...","Rewriting the rules mid-season...","Engineering a trade so bad it starts a group chat war...","Screwing over the league in 4K...","Making Power Rankings just to trigger people...","Refusing trades out of pure pettiness...","Rejected the trade just because I don\u2019t like you...","Approving it \u201cjust to watch the league burn\u201d...","The commish is on mute for league safety...","Called a league-wide vote, ignored the results...","Faking civility while plotting social warfare...","Editing messages mid-fight like a gaslighting wizard...","Plotting against the commish...."],s=(e,t,r,a)=>{const s={},o={};if(!e||0===Object.keys(e).length)return{seasonalMetrics:{},careerDPRData:[]};const i=Object.keys(e.matchupsBySeason||{}).map(Number).sort((e,t)=>e-t);if(0===i.length)return{seasonalMetrics:{},careerDPRData:[]};const l=null!==a&&void 0!==a&&a.season?parseInt(a.season):(new Date).getFullYear(),c=null!==a&&void 0!==a&&a.week?parseInt(a.week):1;let u=!1;const d=i.length>0?Math.max(...i):null;if(d&&e.winnersBracketBySeason[d]){const t=e.winnersBracketBySeason[d].find(e=>1===e.p);t&&t.w&&t.l&&(u=!0)}i.forEach(t=>{var a;const i=e.matchupsBySeason[t],u=e.leaguesMetadataBySeason[t],d=e.rostersBySeason[t],h=e.usersBySeason[t],f=e.winnersBracketBySeason[t],m=e.losersBracketBySeason[t];if(!i||!u||!d||!h){try{n(5452).A.error("calculateAllLeagueMetrics: Missing critical data for year ".concat(t,". Skipping this year."))}catch(_){}return}const p=parseInt(null===(a=u.settings)||void 0===a?void 0:a.playoff_start_week)||15;let g=!1;if(t<l)g=!0;else if(t===l){const e=null===f||void 0===f?void 0:f.find(e=>1===e.p);e&&e.w&&e.l&&(g=!0)}const y={};d.forEach(e=>{const a=e.owner_id,s=e.roster_id;if(!a||!s){try{n(5452).A.warn("Roster entry in year ".concat(t," is missing owner_id or roster_id. Skipping initialization. Roster:"),e)}catch(_){}return}const i=r(a,t);y[s]={teamName:i,ownerId:a,rosterId:s,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,weeklyScores:[],weeklyLuck:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualWinsRecord:0,seasonalExpectedWinsSum:0,rank:"N/A",pointsRank:"N/A",isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1},o[a]||(o[a]={teamName:r(a,null),ownerId:a,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,careerWeeklyScores:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualCareerWinsRecord:0,careerExpectedWinsSum:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,playoffAppearancesCount:0,totalLuckRating:0,totalDPRSum:0,seasonsWithDPRData:0})});const v=Math.max((f||[]).reduce((e,t)=>Math.max(e,t.r||0),0),(m||[]).reduce((e,t)=>Math.max(e,t.r||0),0)),x=p-1+v,b=new Map,w=new Map;i.forEach(e=>{const t=parseInt(e.week),n=t<p&&!isNaN(t);if(e.team1_roster_id&&e.team2_roster_id){const r=String(e.team1_roster_id),a=String(e.team2_roster_id),s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,s),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:o,isRegularSeasonMatch:n,hasOpponent:!0}),b.has(a)||b.set(a,new Map),b.get(a).set(t,o),w.has(a)||w.set(a,new Map),w.get(a).set(t,{opponentScore:s,isRegularSeasonMatch:n,hasOpponent:!0})}else if(e.team1_roster_id&&null===e.team2_roster_id){const r=String(e.team1_roster_id),a=parseFloat(e.team1_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,a),w.has(r)||w.set(r,new Map),w.get(r).set(t,{opponentScore:0,isRegularSeasonMatch:n,hasOpponent:!1})}});const S=new Map;i.forEach(e=>{const t=parseInt(e.week);S.has(t)||S.set(t,[]),e.team1_roster_id&&void 0!==e.team1_score&&!isNaN(e.team1_score)&&S.get(t).push({roster_id:String(e.team1_roster_id),score:parseFloat(e.team1_score)}),e.team2_roster_id&&void 0!==e.team2_score&&!isNaN(e.team2_score)&&S.get(t).push({roster_id:String(e.team2_roster_id),score:parseFloat(e.team2_score)})}),Object.keys(y).forEach(e=>{const n=y[e],r=n.ownerId;for(let i=1;i<=x;i++){var a,s;const u=null===(a=b.get(e))||void 0===a?void 0:a.get(i),d=null===(s=w.get(e))||void 0===s?void 0:s.get(i),h="number"===typeof u&&!isNaN(u),f=null===d||void 0===d?void 0:d.opponentScore,m=null===d||void 0===d?void 0:d.isRegularSeasonMatch,p=null===d||void 0===d?void 0:d.hasOpponent,g=h?u:0,y=t<l||t===l&&i<c;if(y&&(n.weeklyScores.push(g),n.pointsFor+=g),h&&y&&u>0&&(n.highScore=Math.max(n.highScore,u),n.lowScore=Math.min(n.lowScore,u)),y&&o[r]&&o[r].careerWeeklyScores.push(g),y&&p&&(u>0||f>0)&&(n.pointsAgainst+=f,n.totalGames++,u>f?n.wins++:u<f?n.losses++:n.ties++,m)){const t=S.get(i)||[];let a=0,s=0,l=0;t.forEach(t=>{String(t.roster_id)!==String(e)&&(l++,u>t.score?(n.allPlayWins++,o[r]&&o[r].allPlayWins++,a++):u<t.score?(n.allPlayLosses++,o[r]&&o[r].allPlayLosses++):(n.allPlayTies++,o[r]&&o[r].allPlayTies++,s++))});let c=0;l>0&&(c=(a+.5*s)/l,n.seasonalExpectedWinsSum+=c);const d=u>f?1:u===f?.5:0;n.actualWinsRecord+=d;const h=d-c;n.weeklyLuck.push(h);const m=t.reduce((e,t)=>Math.max(e,t.score),-1/0),p=[...t].sort((e,t)=>t.score-e.score),g=[];p[0]&&g.push(p[0].score),p[1]&&g.push(p[1].score),u===m&&n.topScoreWeeksCount++,g.includes(u)&&n.weeklyTop2ScoresCount++,f>0&&(u>1.4*f?n.blowoutWins++:u<.6*f?n.blowoutLosses++:u>f&&u-f<.025*f?n.slimWins++:u<f&&f-u<.025*f&&n.slimLosses++)}}}),s[t]={};Object.keys(y).forEach(e=>{const n=y[e],r=(n.ownerId,n.totalGames>0?n.pointsFor/n.totalGames:0),a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=((e,t,n,r)=>(6*e+2*(t+n)+200*r*2)/10)(r,n.highScore!==-1/0?n.highScore:0,n.lowScore!==1/0?n.lowScore:0,a),i=n.actualWinsRecord-n.seasonalExpectedWinsSum,l=n.allPlayWins+n.allPlayLosses+n.allPlayTies,c=l>0?(n.allPlayWins+.5*n.allPlayTies)/l:0;s[t][e]={teamName:n.teamName,rosterId:e,ownerId:n.ownerId,wins:n.wins,losses:n.losses,ties:n.ties,pointsFor:n.pointsFor,pointsAgainst:n.pointsAgainst,averageScore:r,winPercentage:a,rawDPR:o,luckRating:i,actualWinsRecord:n.actualWinsRecord,seasonalExpectedWinsSum:n.seasonalExpectedWinsSum,allPlayWins:n.allPlayWins,allPlayLosses:n.allPlayLosses,allPlayTies:n.allPlayTies,allPlayWinPercentage:c,topScoreWeeksCount:n.topScoreWeeksCount,blowoutWins:n.blowoutWins,blowoutLosses:n.blowoutLosses,slimWins:n.slimWins,slimLosses:n.slimLosses,weeklyTop2ScoresCount:n.weeklyTop2ScoresCount,weeklyLuck:n.weeklyLuck,adjustedDPR:0,totalGames:n.totalGames,highScore:n.highScore,lowScore:n.lowScore,isPlayoffTeam:!1,isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1,rank:"N/A",pointsRank:"N/A"}});const k=Object.values(s[t]).map(e=>e.rawDPR).filter(e=>0!==e),j=k.length>0?k.reduce((e,t)=>e+t,0)/k.length:0;if(Object.keys(s[t]).forEach(e=>{s[t][e].adjustedDPR=j>0?s[t][e].rawDPR/j:0}),g){const e=Object.values(s[t]).filter(e=>"number"===typeof e.pointsFor&&!isNaN(e.pointsFor)).sort((e,t)=>t.pointsFor-e.pointsFor);if(e.length>0){let n=1;for(let r=0;r<e.length;r++){const a=e[r];r>0&&a.pointsFor<e[r-1].pointsFor&&(n=r+1),s[t][a.rosterId]&&(s[t][a.rosterId].pointsRank=n,1===n?s[t][a.rosterId].isPointsChampion=!0:2===n?s[t][a.rosterId].isPointsRunnerUp=!0:3===n&&(s[t][a.rosterId].isThirdPlacePoints=!0))}e[0].rosterId}if(f&&m&&(f.length>0||m.length>0)){const e=new Map(d.map(e=>[String(e.roster_id),String(e.owner_id)])),a=((e,t,r,a,s)=>{const{winnersBracket:o,losersBracket:i}=e,l=new Map,c=e=>{const n=t.get(String(e));return{roster_id:e,owner_id:n,teamName:r(n,a)}},u=o.filter(e=>1===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(u){const e=String(u.w),t=String(u.l);if(!l.has(e)){l.set(e,1);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Champion: ").concat(c(e).teamName))}catch(_){}}if(!l.has(t)){l.set(t,2);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit Runner-Up: ").concat(c(t).teamName))}catch(_){}}}const d=o.filter(e=>3===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(d){const e=String(d.w),t=String(d.l);if(!l.has(e)||l.get(e)>3){l.set(e,3);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 3rd Place: ").concat(c(e).teamName))}catch(_){}}if(!l.has(t)||l.get(t)>4){l.set(t,4);try{n(5452).A.info("[playoffRankings] Year ".concat(a,": Explicit 4th Place: ").concat(c(t).teamName))}catch(_){}}}const h=[...o,...i].filter(e=>e.w&&e.l&&"number"===typeof e.p&&1!==e.p&&3!==e.p).sort((e,t)=>e.p-t.p);h.forEach(e=>{const t=String(e.w),n=String(e.l);if(5===e.p&&i.includes(e))(!l.has(t)||l.get(t)>11)&&l.set(t,11),(!l.has(n)||l.get(n)>12)&&l.set(n,12);else{const r=e.p,a=e.p+1;(!l.has(t)||l.get(t)>r)&&l.set(t,r),(!l.has(n)||l.get(n)>a)&&l.set(n,a)}});const f=Array.from(t.keys());let m=f.filter(e=>!l.has(e));const p=new Map;[...o,...i].forEach(e=>{e.t1&&p.set(String(e.t1),Math.max(e.r,p.get(String(e.t1))||0)),e.t2&&p.set(String(e.t2),Math.max(e.r,p.get(String(e.t2))||0)),e.w&&p.set(String(e.w),Math.max(e.r,p.get(String(e.w))||0)),e.l&&p.set(String(e.l),Math.max(e.r,p.get(String(e.l))||0))});const g=m.filter(e=>p.has(e));g.sort((e,t)=>{const n=p.get(e)||0,r=p.get(t)||0;if(n!==r)return r-n;const a=s[e],o=s[t];if(!a&&!o)return 0;if(!a)return 1;if(!o)return-1;const i=a.totalGames>0?(a.wins+.5*a.ties)/a.totalGames:0,l=o.totalGames>0?(o.wins+.5*o.ties)/o.totalGames:0;return l!==i?l-i:o.pointsFor!==a.pointsFor?o.pointsFor-a.pointsFor:parseInt(e)-parseInt(t)});let y=1;const v=new Set(Array.from(l.values()).filter(e=>"number"===typeof e));for(;v.has(y);)y++;for(const n of g)if(!l.has(n))for(l.set(n,y),v.add(y),y++;v.has(y);)y++;const x=f.filter(e=>!l.has(e));x.sort((e,t)=>{const n=s[e],r=s[t];if(!n&&!r)return 0;if(!n)return 1;if(!r)return-1;const a=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,o=r.totalGames>0?(r.wins+.5*r.ties)/r.totalGames:0;return o!==a?o-a:r.pointsFor!==n.pointsFor?r.pointsFor-n.pointsFor:parseInt(e)-parseInt(t)});let b=1;for(const n of l.values())"number"===typeof n&&(b=Math.max(b,n+1));for(;v.has(b);)b++;for(const n of x)if(!l.has(n))for(l.set(n,b),v.add(b),b++;v.has(b);)b++;const w=Array.from(l.entries()).map(e=>{let[t,n]=e;return{roster_id:t,playoffFinish:n}});return w.sort((e,t)=>("number"===typeof e.playoffFinish?e.playoffFinish:1/0)-("number"===typeof t.playoffFinish?t.playoffFinish:1/0)),w})({winnersBracket:f,losersBracket:m},e,r,parseInt(t),y);a.forEach(e=>{const n=e.roster_id,r=e.playoffFinish;s[t][n]&&(s[t][n].rank=r,s[t][n].isChampion=!1,s[t][n].isRunnerUp=!1,s[t][n].isThirdPlace=!1,1===r?s[t][n].isChampion=!0:2===r?s[t][n].isRunnerUp=!0:3===r&&(s[t][n].isThirdPlace=!0))})}else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].rank="N/A"})}else Object.keys(s[t]).forEach(e=>{s[t][e].isChampion=!1,s[t][e].isRunnerUp=!1,s[t][e].isThirdPlace=!1,s[t][e].isPointsChampion=!1,s[t][e].isPointsRunnerUp=!1,s[t][e].isThirdPlacePoints=!1,s[t][e].rank="N/A",s[t][e].pointsRank="N/A"})});const h=[],f=[];Object.keys(o).forEach(e=>{const t=o[e];t.wins=0,t.losses=0,t.ties=0,t.pointsFor=0,t.pointsAgainst=0,t.totalGames=0,t.allPlayWins=0,t.allPlayLosses=0,t.allPlayTies=0,t.careerWeeklyScores=[],t.topScoreWeeksCount=0,t.blowoutWins=0,t.blowoutLosses=0,t.slimWins=0,t.slimLosses=0,t.weeklyTop2ScoresCount=0,t.actualCareerWinsRecord=0,t.careerExpectedWinsSum=0,t.championships=0,t.runnerUps=0,t.thirdPlaces=0,t.firstPoints=0,t.secondPoints=0,t.thirdPoints=0,t.playoffAppearancesCount=0,t.totalLuckRating=0,t.totalDPRSum=0,t.seasonsWithDPRData=0,Object.keys(s).forEach(n=>{const r=parseInt(n),a=s[r];if(a){const n=Object.values(a).find(t=>t.ownerId===e);n&&(t.wins+=n.wins,t.losses+=n.losses,t.ties+=n.ties,t.pointsFor+=n.pointsFor,t.pointsAgainst+=n.pointsAgainst,t.totalGames+=n.totalGames,t.actualCareerWinsRecord+=n.actualWinsRecord,t.allPlayWins+=n.allPlayWins,t.allPlayLosses+=n.allPlayLosses,t.allPlayTies+=n.allPlayTies,t.careerWeeklyScores.push(...n.weeklyScores||[]),t.topScoreWeeksCount+=n.topScoreWeeksCount||0,t.blowoutWins+=n.blowoutWins||0,t.blowoutLosses+=n.blowoutLosses||0,t.slimWins+=n.slimWins||0,t.slimLosses+=n.slimLosses||0,t.weeklyTop2ScoresCount+=n.weeklyTop2ScoresCount||0,t.totalLuckRating+=n.luckRating||0,t.careerExpectedWinsSum+=n.seasonalExpectedWinsSum||0,"number"===typeof n.rank&&n.rank<=6&&t.playoffAppearancesCount++,n.isChampion&&t.championships++,n.isRunnerUp&&t.runnerUps++,n.isThirdPlace&&t.thirdPlaces++,n.isPointsChampion&&t.firstPoints++,n.isPointsRunnerUp&&t.secondPoints++,n.isThirdPlacePoints&&t.thirdPoints++,void 0!==n.adjustedDPR&&null!==n.adjustedDPR&&n.totalGames>0&&(t.totalDPRSum+=n.adjustedDPR,t.seasonsWithDPRData++))}});let n=0;Object.values(s).forEach(t=>{const r={};Object.values(t).forEach(e=>{Array.isArray(e.weeklyScores)&&e.weeklyScores.forEach((t,n)=>{const a=n+1;r[a]||(r[a]=[]),r[a].push({ownerId:e.ownerId,score:t})})}),Object.entries(r).forEach(t=>{let[r,a]=t,s=-1/0;a.forEach(e=>{let{score:t}=e;"number"!==typeof t||isNaN(t)||t>s&&(s=t)}),a.forEach(t=>{let{ownerId:r,score:a}=t;r!==e||"number"!==typeof a||isNaN(a)||a!==s||s===-1/0||n++})})});let r=-1/0,a=1/0;Object.keys(s).forEach(t=>{const n=parseInt(t),o=Object.values(s[n]).find(t=>t.ownerId===e);if(o&&o.totalGames>0){const e=o.pointsFor/o.totalGames;e>r&&(r=e),e<a&&(a=e)}}),r===-1/0&&(r=0),a===1/0&&(a=0);const i=t.totalGames>0?t.pointsFor/t.totalGames:0,l=t.totalGames>0?(t.wins+.5*t.ties)/t.totalGames:0;let c=0;t.totalGames>0&&(c=(6*i+2*(r+a)+200*l*2)/10,f.push(c));const u=t.allPlayWins+t.allPlayLosses+t.allPlayTies,d=u>0?(t.allPlayWins+.5*t.allPlayTies)/u:0;t.actualCareerWinsRecord,t.careerExpectedWinsSum;h.push({ownerId:e,teamName:t.teamName,dpr:c,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,averageScore:i,winPercentage:l,totalGames:t.totalGames,allPlayWins:t.allPlayWins,allPlayLosses:t.allPlayLosses,allPlayTies:t.allPlayTies,allPlayWinPercentage:d,topScoreWeeksCount:t.topScoreWeeksCount,blowoutWins:t.blowoutWins,blowoutLosses:t.blowoutLosses,slimWins:t.slimWins,slimLosses:t.slimLosses,weeklyTop2ScoresCount:t.weeklyTop2ScoresCount,highScore:t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,lowScore:t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,weeklyHighScoreCount:n,totalLuckRating:t.totalLuckRating,highestSeasonalPointsAvg:r,lowestSeasonalPointsAvg:a,championships:t.championships,runnerUps:t.runnerUps,thirdPlaces:t.thirdPlaces,pointsChampionships:t.firstPoints,pointsRunnerUps:t.secondPoints,thirdPlacePoints:t.thirdPoints,playoffAppearancesCount:t.playoffAppearancesCount,actualCareerWinsRecord:t.actualCareerWinsRecord,careerExpectedWinsSum:t.careerExpectedWinsSum})});const m=[];Object.keys(s).forEach(e=>{const t=Object.values(s[e]).map(e=>"number"===typeof e.rawDPR?e.rawDPR:0).filter(e=>e>0);if(t.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length;m.push(e)}});const p=m.length>0?m.reduce((e,t)=>e+t,0)/m.length:0;return h.forEach(e=>{e.dpr=p>0?e.dpr/p:0}),h.sort((e,t)=>t.dpr-e.dpr),{seasonalMetrics:s,careerDPRData:h}};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d="1181984921049018368";new Set([]);var h=n(5452);const f="https://api.sleeper.app/v1",m=new Map;async function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=m.get(t),a=Date.now(),s=60*n*60*1e3;if(r&&a-r.timestamp<s)return h.A.debug("[Cache Hit] Returning cached data for ".concat(t)),r.data;try{h.A.debug("[Cache Miss] Fetching from ".concat(e," for ").concat(t));const r=await fetch(e);if(!r.ok){if(404===r.status)return h.A.warn("[API Error] 404 Not Found for ".concat(e,". Returning null.")),null;throw new Error("HTTP error! status: ".concat(r.status," for ").concat(e))}const s=await r.json();return m.set(t,{data:s,timestamp:a,expirationHours:n}),h.A.debug("[Cache Set] Data fetched and cached for ".concat(t,".")),s}catch(o){throw h.A.error("Error fetching ".concat(e,":"),o),o}}function g(e){return e?"https://sleepercdn.com/avatars/thumb/".concat(e):"https://sleeper.app/_next/static/images/default_avatar-e314631317c0a0c20a46960d705a2046.png"}async function y(e){return p("".concat(f,"/league/").concat(e),"league_details_".concat(e),1)}async function v(e){let t=[],n=e;if(!e||"0"===e||""===e)return h.A.error("CURRENT_LEAGUE_ID is invalid. Please ensure it's set correctly in config.js."),[];const r="league_chain_".concat(e),a=Date.now(),s=m.get(r);if(s&&a-s.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached league chain for ".concat(r)),s.data;try{for(;n;){const e=await y(n);e?(t.push(e),n=e.previous_league_id&&"0"!==e.previous_league_id&&""!==e.previous_league_id?e.previous_league_id:null):(h.A.warn("Could not fetch details for league ID ".concat(n,". Terminating historical league chain fetch.")),n=null)}}catch(o){h.A.error("Error fetching historical league chain:",o)}return m.set(r,{data:t,timestamp:a,expirationHours:24}),t}async function x(e){return p("".concat(f,"/league/").concat(e,"/users"),"users_".concat(e),24)}async function b(){return p("https://api.sleeper.app/v1/players/nfl","nfl_players",24)}async function w(){return p("".concat(f,"/state/nfl"),"nfl_state",.5)}async function S(e){return p("".concat(f,"/league/").concat(e,"/rosters"),"rosters_".concat(e),1)}async function k(e,t,n){let r=[];if("number"===typeof t)r=[t];else{if(!Array.isArray(t))return h.A.error("Invalid 'weeks' argument for fetchMatchupsForLeague. Must be a number or array of numbers."),{};r=t}const a={},s=await async function(e){const[t,n]=await Promise.all([S(e),x(e)]);if(!t||!n)return h.A.warn("Could not fetch rosters or users for league ".concat(e,".")),[];const r=new Map(n.map(e=>[e.user_id,e]));return t.map(e=>{var t;const n=r.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})})}(e),o=new Map(s.map(e=>[String(e.roster_id),e])),i=r.map(async t=>{try{const r=await p("".concat(f,"/league/").concat(e,"/matchups/").concat(t),"matchups_".concat(e,"_").concat(t),.5);r&&(a[t]=function(e,t,n,r){const a=[],s=new Set;return e?(e.forEach(o=>{const i=String(o.roster_id),l=parseFloat(o.points),c=o.matchup_id;if(isNaN(l))h.A.warn("[processRawMatchups] Skipping raw matchup entry for roster ".concat(i," in week ").concat(r," due to invalid points: ").concat(o.points));else if(null!==c){const u="".concat(c,"_").concat(r);if(!s.has(u)){const d=e.find(e=>e.matchup_id===c&&String(e.roster_id)!==i);if(d){const e=String(d.roster_id),f=parseFloat(d.points);if(isNaN(f))return void h.A.warn("[processRawMatchups] Skipping paired matchup for roster ".concat(i," in week ").concat(r," due to invalid opponent points: ").concat(d.points));const m=l,p=f,g=o.starters&&o.players_points?{starters:o.starters,players_points:o.players_points}:null,y=d.starters&&d.players_points?{starters:d.starters,players_points:d.players_points}:null,v={matchup_id:c,season:n,week:r,team1_roster_id:i,team1_score:m,team1_details:t.get(i),team1_players:g,team2_roster_id:e,team2_score:p,team2_details:t.get(e),team2_players:y};m>p?(v.winner_roster_id=i,v.loser_roster_id=e):p>m?(v.winner_roster_id=e,v.loser_roster_id=i):(v.winner_roster_id=null,v.loser_roster_id=null),a.push(v),s.add(u)}else h.A.warn("[processRawMatchups] Matchup ID ".concat(c," for roster ").concat(i," in week ").concat(r," has no apparent opponent. Treating as a bye.")),a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add("".concat(i,"_").concat(r,"_bye"))}}else{const e="".concat(i,"_").concat(r,"_bye");s.has(e)||(a.push({matchup_id:null,season:n,week:r,team1_roster_id:i,team1_score:l,team1_details:t.get(i),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?i:null,loser_roster_id:l<=0?i:null}),s.add(e))}}),a):[]}(r,o,n,t))}catch(r){h.A.error("Error fetching matchups for league ".concat(e,", week ").concat(t,":"),r)}});return await Promise.all(i),a}async function j(e){try{return await p("".concat(f,"/league/").concat(e,"/winners_bracket"),"winners_bracket_".concat(e),24)}catch(t){return h.A.error("Failed to fetch winners bracket for league ID ".concat(e,":"),t),[]}}async function _(e){try{return await p("".concat(f,"/league/").concat(e,"/losers_bracket"),"losers_bracket_".concat(e),24)}catch(t){return h.A.error("Failed to fetch losers bracket for league ID ".concat(e,":"),t),[]}}function N(e,t,n,r,a,s){if(h.A.debug("[enrichBracketWithScores] Starting for ".concat(a," bracket, season: ").concat(s,", raw data count: ").concat(e.length)),!e||0===e.length||!t||!n)return h.A.warn("[enrichBracketWithScores] Returning empty array due to missing input data for ".concat(a," bracket, season ").concat(s,".")),[];const o=[...e].sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m),i=new Map,l=e=>{if("number"===typeof e||"string"===typeof e)return String(e);if("object"===typeof e&&null!==e){if(e.w){const t=i.get(String(e.w));return t&&String(t.w)||null}if(e.l){const t=i.get(String(e.l));return t&&String(t.l)||null}}return null};return o.forEach(e=>{const o=String(e.m);h.A.debug("[enrichBracketWithScores] Processing ".concat(a," match M").concat(o," R").concat(e.r,", Season ").concat(s,":"),e);const c=u({},e),d=r+(e.r-1);c.week=d,c.playoffs=!0;const f=l(e.t1||e.t1_from),m=l(e.t2||e.t2_from);c.team1_roster_id=f,c.team2_roster_id=m,c.team1_details=n.get(f),c.team2_details=n.get(m),1===e.p?c.finalSeedingGame=1:3===e.p&&(c.finalSeedingGame=3),c.w=e.w?String(e.w):null,c.l=e.l?String(e.l):null;let p=null;const g=t[d];if(h.A.debug("[enrichBracketWithScores] Looking for matchups in week ".concat(d," for season ").concat(s,". Found ").concat(g?g.length:0," matchups.")),g&&g.length>0){if(f&&m&&(p=g.find(e=>String(e.team1_roster_id)===f&&String(e.team2_roster_id)===m||String(e.team1_roster_id)===m&&String(e.team2_roster_id)===f),p&&h.A.debug("[enrichBracketWithScores] Found matchup by resolved T1/T2 for M".concat(o," R").concat(e.r,"."))),!p&&(null===f||null===m)){const t=f||m;t&&(p=g.find(e=>String(e.team1_roster_id)===t&&null===e.team2_roster_id),p&&h.A.debug("[enrichBracketWithScores] Found bye matchup for ".concat(t," for M").concat(o," R").concat(e.r,".")))}!p&&e.m&&(p=g.find(t=>String(t.matchup_id)===String(e.m)),p&&h.A.debug("[enrichBracketWithScores] Found matchup by matchup_id for M".concat(o," R").concat(e.r,".")))}else h.A.warn("[enrichBracketWithScores] No weekly scores data found for playoff week ".concat(d," in season ").concat(s,"."));p?(String(p.team1_roster_id)===f?(c.t1_score=p.team1_score,c.t2_score=p.team2_score):String(p.team2_roster_id)===f?(c.t1_score=p.team2_score,c.t2_score=p.team1_score):(c.t1_score=p.team1_score,c.t2_score=p.team2_score),p.winner_roster_id&&(c.w=String(p.winner_roster_id)),p.loser_roster_id&&(c.l=String(p.loser_roster_id)),h.A.debug("[enrichBracketWithScores] Scores and W/L assigned for M".concat(o," R").concat(e.r,", Season ").concat(s,". Winner: ").concat(c.w,", Loser: ").concat(c.l,", T1 Score: ").concat(c.t1_score,", T2 Score: ").concat(c.t2_score))):(c.t1_score=null,c.t2_score=null,null===f&&null===m?h.A.debug("[enrichBracketWithScores] No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with both teams unresolved. Scores set to null.")):h.A.warn("[enrichBracketWithScores] WARNING: No weekly matchup found for bracket match M".concat(o," (R").concat(e.r,"), Season ").concat(s," with resolved teams T1:").concat(f,", T2:").concat(m,". Scores will be null."))),i.set(o,c)}),Array.from(i.values()).sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m)}async function P(){const e="all_historical_matchups_details",t=m.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached historical data for ".concat(e)),t.data;const r={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};try{const t=await v(d);if(!t||0===t.length)return h.A.error("No league data found for historical matchup fetching. Check CURRENT_LEAGUE_ID in config.js."),r;const s=await w(),o=(null===s||void 0===s?void 0:s.season)||(new Date).getFullYear().toString();for(const e of t){var a;const t=e.league_id,n=e.season;h.A.debug("[fetchAllHistoricalMatchups] Processing league ".concat(t," for season ").concat(n,".")),r.leaguesMetadataBySeason[n]=e;const s=await x(t);r.usersBySeason[n]=s;const i=await S(t),l=new Map(s.map(e=>[e.user_id,e])),c=i.map(e=>{var t;const n=l.get(e.owner_id);return u(u({},e),{},{ownerDisplayName:n&&n.display_name||"Unknown User",ownerTeamName:n?(null===(t=n.metadata)||void 0===t?void 0:t.team_name)||n.display_name:"Unknown Team",ownerAvatar:n?n.avatar:null})});r.rostersBySeason[n]=c;const d=new Map(c.map(e=>[String(e.roster_id),e]));let f=null===(a=e.settings)||void 0===a?void 0:a.playoff_start_week;f||(f=15),f=Math.max(1,f);let m=f-1,p={};if(parseInt(n)<=parseInt(o)){const e=Array.from({length:m},(e,t)=>t+1);h.A.debug("[fetchAllHistoricalMatchups] Fetching regular season matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await k(t,e,n);Object.assign(p,r),0===Object.keys(r).length&&parseInt(n)===parseInt(o)&&h.A.warn("[fetchAllHistoricalMatchups] No regular season matchups found for current season ".concat(n,"."))}else h.A.debug("[fetchAllHistoricalMatchups] Skipping regular season matchup fetch for future season ".concat(n,"."));let g=[],y=[];if(parseInt(n)<=parseInt(o)){[g,y]=await Promise.all([j(t),_(t)]);const e=g.reduce((e,t)=>Math.max(e,t.r||0),0),a=y.reduce((e,t)=>Math.max(e,t.r||0),0),s=Math.max(e,a);if(h.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Max playoff round: ").concat(s,", Playoff start week: ").concat(f)),s>0){const e=Array.from({length:s},(e,t)=>f+t);h.A.debug("[fetchAllHistoricalMatchups] Fetching playoff matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await k(t,e,n);Object.assign(p,r),h.A.debug("[fetchAllHistoricalMatchups] Season ".concat(n,": Playoff matchups fetched. Total weeks in seasonMatchupsData: ").concat(Object.keys(p).length))}else h.A.debug("[fetchAllHistoricalMatchups] No playoff rounds found for season ".concat(n,"."));r.winnersBracketBySeason[n]=N(g,p,d,f,"winners",n),r.losersBracketBySeason[n]=N(y,p,d,f,"losers",n)}else h.A.debug("[fetchAllHistoricalMatchups] Skipping playoff bracket fetch for future season ".concat(n,".")),r.winnersBracketBySeason[n]=[],r.losersBracketBySeason[n]=[];r.matchupsBySeason[n]=p,h.A.debug("[fetchAllHistoricalMatchups] Final seasonMatchupsData for season ".concat(n,":"),p)}return m.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(s){return h.A.error("Critical error in fetchAllHistoricalMatchups:",s),m.delete(e),{matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}}}}async function E(e,t){return p("".concat(f,"/league/").concat(e,"/transactions/").concat(t),"transactions_".concat(e,"_").concat(t),1)}async function O(e){return p("".concat(f,"/league/").concat(e,"/drafts"),"drafts_".concat(e),24)}async function A(e){return p("".concat(f,"/draft/").concat(e,"/picks"),"draft_picks_".concat(e),24)}async function I(e){return p("".concat(f,"/league/").concat(e,"/traded_picks"),"traded_picks_".concat(e),24)}async function T(){const e="all_draft_history",t=m.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return h.A.debug("[Cache Hit] Returning cached draft history for ".concat(e)),t.data;const r={};try{const t=await v(d),a=await b();for(const e of t){const t=e.season,n=e.league_id;h.A.debug("[fetchAllDraftHistory] Processing league ".concat(n," for season ").concat(t,"."));const s=await O(n),o=await I(n),i=[];for(const e of s){const t=(await A(e.draft_id)).map(e=>{var t,n,r;return u(u({},e),{},{player_name:(null===(t=a[e.player_id])||void 0===t?void 0:t.full_name)||"Unknown Player",player_position:(null===(n=a[e.player_id])||void 0===n?void 0:n.position)||"",player_team:(null===(r=a[e.player_id])||void 0===r?void 0:r.team)||""})});i.push(u(u({},e),{},{picks:t}))}r[t]={drafts:i,tradedPicks:o},h.A.debug("[fetchAllDraftHistory] Draft data for season ".concat(t,":"),r[t])}return m.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(a){return h.A.error("Critical error in fetchAllDraftHistory:",a),m.delete(e),{}}}const C=(e,t,n,r,a)=>{var s,o,i,l,c;let d=e.player_name||"Unknown Player";"DEF"===(null===(s=e.metadata)||void 0===s?void 0:s.position)&&(d="".concat(e.metadata.first_name||""," ").concat(e.metadata.last_name||"").trim(),d||(d="Unknown Defense"));const h=t.find(t=>t.user_id===e.picked_by),f=null===(o=n.rostersBySeason)||void 0===o||null===(i=o[r])||void 0===i?void 0:i.find(t=>String(t.owner_id)===String(e.picked_by));return u(u({},e),{},{player_name:d,player_position:e.player_position||"",player_team:(null===(l=e.metadata)||void 0===l?void 0:l.team)||e.player_team||"",picked_by_display_name:h&&h.display_name||"Unknown User",picked_by_team_name:f&&(null===(c=f.metadata)||void 0===c?void 0:c.team_name)||a(e.picked_by,r)})},D=e=>"number"===typeof e.fantasy_points?e.fantasy_points:0,M=e=>{const t=new Map;if(0===e){try{n(5452).A.warn("generateExpectedVorpByPickSlot: No picks to assign expected VORP values.")}catch(a){}return t}const r=27.1/Math.log(10);for(let n=1;n<=e;n++){const e=27.1-r*Math.log(Math.max(1,n));t.set(n,e)}return t},R=(e,t)=>e-t,L=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"regular",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Unknown Player";if(!e||!t)return h.A.warn("fetchPlayerStats: Player ID and season are required."),null;const a="https://api.sleeper.app/stats/nfl/player/".concat(e,"?season_type=").concat(n,"&season=").concat(t,"&grouping=week");try{const n=await fetch(a);if(!n.ok){h.A.error("Error fetching stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,": HTTP Status ").concat(n.status," - ").concat(n.statusText));try{const t=await n.text();h.A.error("Error response body for ".concat(r," (ID: ").concat(e,"):"),t)}catch(s){h.A.error("Could not read error response body for ".concat(r," (ID: ").concat(e,"):"),s)}return null}const o=await n.json();return h.A.debug("Successfully fetched stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,":"),o),o}catch(o){return h.A.error("Failed to fetch stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t," (network or JSON parse error):"),o),null}},B=async e=>{if(!e)return h.A.error("fetchLeagueScoringSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return h.A.error("Error fetching league settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json();return h.A.debug("Successfully fetched league settings for league ".concat(e,":"),r.scoring_settings),r.scoring_settings||null}catch(n){return h.A.error("Failed to fetch league settings for league ".concat(e,":"),n),null}},F=async e=>{if(!e)return h.A.error("fetchLeagueRosterSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return h.A.error("Error fetching league roster settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json(),a={roster_positions:r.roster_positions||[],total_rosters:r.total_rosters||0};return h.A.debug("Successfully fetched league roster settings for league ".concat(e,":"),a),a}catch(n){return h.A.error("Failed to fetch league roster settings for league ".concat(e,":"),n),null}},W=(e,t,n)=>{if(!e||!t)return 0;let r=0;for(const a in e)if(e[a]&&e[a].stats){const s=e[a].stats;for(const e in t){if(e.startsWith("pts_allow_")||e.startsWith("yds_allow_"))continue;const n=s[e],a=t[e];"number"===typeof n&&"number"===typeof a&&(r+=n*a)}if("string"===typeof n&&"DEF"===n.toUpperCase()){const e=s.pts_allow,n=s.yds_allow;"number"===typeof e&&(0===e&&"number"===typeof t.pts_allow_0?r+=t.pts_allow_0:e>=1&&e<=6&&"number"===typeof t.pts_allow_1_6?r+=t.pts_allow_1_6:e>=7&&e<=13&&"number"===typeof t.pts_allow_7_13?r+=t.pts_allow_7_13:e>=14&&e<=20&&"number"===typeof t.pts_allow_14_20?r+=t.pts_allow_14_20:e>=21&&e<=27&&"number"===typeof t.pts_allow_21_27?r+=t.pts_allow_21_27:e>=28&&e<=34&&"number"===typeof t.pts_allow_28_34?r+=t.pts_allow_28_34:e>=35&&"number"===typeof t.pts_allow_35p&&(r+=t.pts_allow_35p)),"number"===typeof n&&(n>=0&&n<=100&&"number"===typeof t.yds_allow_0_100?r+=t.yds_allow_0_100:n>=101&&n<=199&&"number"===typeof t.yds_allow_100_199?r+=t.yds_allow_100_199:n>=200&&n<=299&&"number"===typeof t.yds_allow_200_299?r+=t.yds_allow_200_299:n>=300&&n<=349&&"number"===typeof t.yds_allow_300_349?r+=t.yds_allow_300_349:n>=350&&n<=399&&"number"===typeof t.yds_allow_350_399?r+=t.yds_allow_350_399:n>=400&&n<=449&&"number"===typeof t.yds_allow_400_449?r+=t.yds_allow_400_449:n>=450&&n<=499&&"number"===typeof t.yds_allow_450_499?r+=t.yds_allow_450_499:n>=500&&n<=549&&"number"===typeof t.yds_allow_500_549?r+=t.yds_allow_500_549:n>=550&&"number"===typeof t.yds_allow_550p&&(r+=t.yds_allow_550p))}}return r},U=e=>{const t={},n=[],r=e.filter(e=>"number"===typeof e.fantasy_points&&"string"===typeof e.player_position&&e.player_position);n.push(...r),r.forEach(e=>{const n="string"===typeof e.player_position?e.player_position.toUpperCase():"";t[n]||(t[n]=[]),t[n].push(e)}),n.sort((e,t)=>t.fantasy_points-e.fantasy_points),n.forEach((e,t)=>{e.overall_rank=t+1});for(const a in t)t[a].sort((e,t)=>t.fantasy_points-e.fantasy_points),t[a].forEach((e,t)=>{e.positional_rank=t+1});return{positional:t,overall:n}},z=(e,t)=>{if(!e||!t||!Array.isArray(t.roster_positions)||"number"!==typeof t.total_rosters)return h.A.warn("calculateVORP: Missing or invalid positional rankings or league roster settings."),{};const n={},r={QB:18,RB:36,WR:48,TE:12,K:12,DEF:12};h.A.debug("VORP Calculation - Fixed Replacement Ranks:",r);for(const a in e){const t=e[a],s=a.toUpperCase(),o=r[s]||0,i=o>0?o-1:-1;let l=0,c="N/A";if(i>=0&&i<t.length){const e=t[i];l=e.fantasy_points,c=e.player_name,h.A.debug("Replacement player for ".concat(s," (rank ").concat(i+1,"): ").concat(c," with ").concat(l.toFixed(2)," points."))}else h.A.warn("Could not find a valid replacement player for ".concat(s," at calculated rank ").concat(o,". Not enough players ranked or rank is 0. Setting replacement points to 0."));n[s]=t.map(e=>u(u({},e),{},{vorp:e.fantasy_points-l}))}return n};function V(e,t){if(!e||0===e.length)return 0;const n=[...e].sort((e,t)=>e-t),r=n.findIndex(e=>e>=t);return-1===r?1:r/n.length}function H(e){return e&&0!==e.length?e.reduce((e,t)=>e+t,0)/e.length:0}const q={computeBadges:function(e){let{historicalData:t,processedSeasonalRecords:r,draftPicksBySeason:a={},transactions:s=[],usersData:o=[],getTeamName:i=()=>""}=e;const l={},c=[];try{console.log("computeBadges called")}catch(g){}if(!r)return{badgesByTeam:l,recentBadges:c};const u=Object.keys(r).map(Number).sort((e,t)=>e-t),d={};u.forEach(e=>{const a=r[e];if(!a)return;const o=Object.values(a).map(e=>({rosterId:e.rosterId||e.rosterId,ownerId:e.ownerId,teamName:e.teamName,wins:e.wins||0,pointsFor:e.pointsFor||0,allPlayWinPercentage:e.allPlayWinPercentage||0,luckRating:e.luckRating||0,adjustedDPR:e.adjustedDPR||0,isChampion:!!e.isChampion,isRunnerUp:!!e.isRunnerUp,isThirdPlace:!!e.isThirdPlace})),i=[...o].sort((e,t)=>t.wins-e.wins||t.pointsFor-e.pointsFor)[0];if(i){const t={id:"season_title_".concat(e),name:"Season Title",category:"season",year:e,teamId:i.ownerId};(l[i.ownerId]=l[i.ownerId]||[]).push(t),c.push(t)}const u=[...o].sort((e,t)=>t.pointsFor-e.pointsFor)[0];if(u){const t={id:"points_title_".concat(e),name:"Points Title",category:"season",year:e,teamId:u.ownerId};(l[u.ownerId]=l[u.ownerId]||[]).push(t),c.push(t)}const h=[...o].sort((e,t)=>t.allPlayWinPercentage-e.allPlayWinPercentage)[0];if(h){const t={id:"allplay_title_".concat(e),name:"Season All-Play Title",category:"season",year:e,teamId:h.ownerId};(l[h.ownerId]=l[h.ownerId]||[]).push(t),c.push(t)}if(i&&u&&h&&i.ownerId===u.ownerId&&i.ownerId===h.ownerId){const t={id:"triple_crown_".concat(e),name:"Triple Crown",category:"season",year:e,teamId:i.ownerId};(l[i.ownerId]=l[i.ownerId]||[]).push(t),c.push(t)}const f=o.filter(e=>e.isChampion);f.forEach(t=>{const n={id:"champion_".concat(e),name:"Champion",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n),d[e]||(d[e]=[]),d[e].push(t.ownerId)});const m=o.filter(e=>e.isRunnerUp);m.forEach(t=>{const n={id:"runner_up_".concat(e,"_").concat(t.ownerId),name:"Runner Up",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)});const p=o.filter(e=>e.isThirdPlace);p.forEach(t=>{const n={id:"third_place_".concat(e,"_").concat(t.ownerId),name:"3rd Place",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}),o.forEach(t=>{const n=Number(t.adjustedDPR||0);if(!n||isNaN(n))return;let r=null;if(n>=1.226?r="Diamond Season":n>=1.151&&n<=1.225?r="Gold Season":n>=1.076&&n<=1.15?r="Silver Season":n>=1&&n<=1.075&&(r="Bronze Season"),r){const n={id:"".concat(r.replace(/\s+/g,"_").toLowerCase(),"_").concat(e,"_").concat(t.ownerId),name:r,category:"season-tier",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n)}}),o.forEach(t=>{const n=Number(t.adjustedDPR||0);if(n&&!isNaN(n))if(n<=.999&&n>=.925){const r={id:"iron_season_".concat(e,"_").concat(t.ownerId),name:"Iron Season",displayName:"Iron Season",category:"blunder",year:e,teamId:t.ownerId,metadata:{adjustedDPR:n}};(l[t.ownerId]=l[t.ownerId]||[]).push(r),c.push(r)}else if(n<=.924&&n>=.85){const r={id:"wood_season_".concat(e,"_").concat(t.ownerId),name:"Wood Season",displayName:"Wood Season",category:"blunder",year:e,teamId:t.ownerId,metadata:{adjustedDPR:n}};(l[t.ownerId]=l[t.ownerId]||[]).push(r),c.push(r)}else if(n<=.849){const r={id:"clay_season_".concat(e,"_").concat(t.ownerId),name:"Clay Season",displayName:"Clay Season",category:"blunder",year:e,teamId:t.ownerId,metadata:{adjustedDPR:n}};(l[t.ownerId]=l[t.ownerId]||[]).push(r),c.push(r)}});try{const t=[...o].sort((e,t)=>(t.luckRating||0)-(e.luckRating||0))[0];if(t){const n={id:"lucky_duck_".concat(e),name:"Lucky Duck",displayName:"Lucky Duck",category:"season-luck",year:e,teamId:t.ownerId,accent:"championAccent",metadata:{luckRating:t.luckRating||0}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}catch(g){}try{const t=[...o].sort((e,t)=>(e.luckRating||0)-(t.luckRating||0))[0];if(t){const n={id:"cursed_".concat(e,"_").concat(t.ownerId),name:"Cursed",displayName:"Cursed",category:"blunder",year:e,teamId:t.ownerId,metadata:{luckRating:t.luckRating||0}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}catch(g){}let y=[];try{if(t){const n=String(e);[t.matchupsBySeason&&(t.matchupsBySeason[e]||t.matchupsBySeason[n]),t.matchups&&(t.matchups[e]||t.matchups[n]),t.allMatchups&&(t.allMatchups[e]||t.allMatchups[n]),t.winnersBracketBySeason&&(t.winnersBracketBySeason[e]||t.winnersBracketBySeason[n]),t.losersBracketBySeason&&(t.losersBracketBySeason[e]||t.losersBracketBySeason[n])].forEach(e=>{Array.isArray(e)&&(y=y.concat(e))})}}catch(g){y=[]}y=y||[];let v={score:-1/0,rosterId:null,week:null},x={total:-1/0,t1:null,t2:null,week:null};if(y.forEach(e=>{const t=Number(e.team1_score||e.team1Score||0),n=Number(e.team2_score||e.team2Score||0),r=e.week||e.w||null;t>v.score&&(v={score:t,rosterId:String(e.team1_roster_id),week:r}),n>v.score&&(v={score:n,rosterId:String(e.team2_roster_id),week:r});const a=(t||0)+(n||0);a>x.total&&(x={total:a,t1:String(e.team1_roster_id),t2:String(e.team2_roster_id),week:r})}),v.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(v.rosterId));if(t){const n={id:"peak_performance_".concat(e),name:"Peak Performance",category:"matchup",year:e,teamId:t.ownerId,metadata:{score:v.score,week:v.week}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}if(x.t1&&x.t2){const t=Object.values(a).find(e=>String(e.rosterId)===String(x.t1)),n=Object.values(a).find(e=>String(e.rosterId)===String(x.t2));if(t){const n={id:"shootout_".concat(e,"_").concat(t.ownerId),name:"The Shootout",category:"matchup",year:e,teamId:t.ownerId,metadata:{total:x.total,week:x.week}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}if(n){const t={id:"shootout_".concat(e,"_").concat(n.ownerId),name:"The Shootout",category:"matchup",year:e,teamId:n.ownerId,metadata:{total:x.total,week:x.week}};(l[n.ownerId]=l[n.ownerId]||[]).push(t),c.push(t)}}let b={margin:-1/0,rosterId:null,opponentRosterId:null,matchup:null,week:null},w={margin:1/0,rosterId:null,opponentRosterId:null,matchup:null,week:null},S={share:-1/0,rosterId:null,total:0,score:0,week:null},k={share:1/0,rosterId:null,total:0,score:0,week:null},j={total:1/0,matchup:null,week:null,rosterId1:null,rosterId2:null};const _={},N={};try{if(y.forEach(t=>{const n=Number(t.team1_score||t.team1Score||0),r=Number(t.team2_score||t.team2Score||0),s=String(t.team1_roster_id),o=String(t.team2_roster_id),i=t.week||t.w||null,u=(n||0)+(r||0);"number"===typeof u&&u<j.total&&(j={total:u,matchup:t,week:i,rosterId1:s,rosterId2:o});const d=n-r,h=r-n;if(d>b.margin&&(b={margin:d,rosterId:s,opponentRosterId:o,matchup:t,week:i}),h>b.margin&&(b={margin:h,rosterId:o,opponentRosterId:s,matchup:t,week:i}),d>0&&d<w.margin&&(w={margin:d,rosterId:s,opponentRosterId:o,matchup:t,week:i}),h>0&&h<w.margin&&(w={margin:h,rosterId:o,opponentRosterId:s,matchup:t,week:i}),u>0){const e=n/u,t=r/u;e>S.share&&(S={share:e,rosterId:s,total:u,score:n,week:i}),t>S.share&&(S={share:t,rosterId:o,total:u,score:r,week:i}),e<k.share&&(k={share:e,rosterId:s,total:u,score:n,week:i}),t<k.share&&(k={share:t,rosterId:o,total:u,score:r,week:i})}if(null!==i&&void 0!==i&&(N[i]=N[i]||[],N[i].push({rosterId:s,score:n,matchup:t}),N[i].push({rosterId:o,score:r,matchup:t})),r>0&&n>=2*r||n>0&&r>=2*n){const t=n>=2*r?s:o,d=n>=2*r?o:s,h=Object.values(a).find(e=>String(e.rosterId)===String(t)),f=Object.values(a).find(e=>String(e.rosterId)===String(d));if(h){const t={id:"double_up_".concat(e,"_").concat(h.ownerId,"_").concat(i||""),name:"Double Up",category:"matchup",year:e,teamId:h.ownerId,metadata:{opponent:d,scores:{s1:n,s2:r,total:u},week:i}};(l[h.ownerId]=l[h.ownerId]||[]).push(t),c.push(t)}if(f){const a={id:"doubled_up_".concat(e,"_").concat(f.ownerId,"_").concat(i||""),name:"Doubled Up",displayName:"Doubled Up",category:"blunder",year:e,teamId:f.ownerId,metadata:{opponent:t,scores:{s1:n,s2:r,total:u},week:i}};(l[f.ownerId]=l[f.ownerId]||[]).push(a),c.push(a)}}const f=Math.abs(n-r);if(f>0){const t=n>r?s:o,u=n>r?o:s,d=Object.values(a).find(e=>String(e.rosterId)===String(t)),h=Object.values(a).find(e=>String(e.rosterId)===String(u));if(f>=1&&f<=2){if(d){const t={id:"small_victory_".concat(e,"_").concat(d.ownerId,"_").concat(i||""),name:"A Small Victory",displayName:"A Small Victory",category:"matchup",year:e,teamId:d.ownerId,metadata:{margin:f,week:i}};(l[d.ownerId]=l[d.ownerId]||[]).push(t),c.push(t)}}else if(f>=.5&&f<=.99){if(d){const t={id:"micro_victory_".concat(e,"_").concat(d.ownerId,"_").concat(i||""),name:"A Micro Victory",displayName:"A Micro Victory",category:"matchup",year:e,teamId:d.ownerId,metadata:{margin:f,week:i}};(l[d.ownerId]=l[d.ownerId]||[]).push(t),c.push(t)}}else if(f>=.01&&f<=.49&&d){const t={id:"nano_victory_".concat(e,"_").concat(d.ownerId,"_").concat(i||""),name:"A Nano Victory",displayName:"A Nano Victory",category:"matchup",year:e,teamId:d.ownerId,metadata:{margin:f,week:i}};(l[d.ownerId]=l[d.ownerId]||[]).push(t),c.push(t)}if(h)if(f>=1&&f<=2){const t={id:"small_defeat_".concat(e,"_").concat(h.ownerId,"_").concat(i||""),name:"A Small Defeat",displayName:"A Small Defeat",category:"blunder",year:e,teamId:h.ownerId,metadata:{margin:f,week:i}};(l[h.ownerId]=l[h.ownerId]||[]).push(t),c.push(t)}else if(f>=.5&&f<=.99){const t={id:"nano_defeat_".concat(e,"_").concat(h.ownerId,"_").concat(i||""),name:"A Nano Defeat",displayName:"A Nano Defeat",category:"blunder",year:e,teamId:h.ownerId,metadata:{margin:f,week:i}};(l[h.ownerId]=l[h.ownerId]||[]).push(t),c.push(t)}else if(f>=.01&&f<=.49){const t={id:"micro_defeat_".concat(e,"_").concat(h.ownerId,"_").concat(i||""),name:"A Micro Defeat",displayName:"A Micro Defeat",category:"blunder",year:e,teamId:h.ownerId,metadata:{margin:f,week:i}};(l[h.ownerId]=l[h.ownerId]||[]).push(t),c.push(t)}}if(!isNaN(n)&&!isNaN(r)&&n!==r){const e=n>r?o:s,t="".concat(n>r?s:o,"_").concat(e);_[t]||(_[t]={count:0,weeks:[]}),_[t].count+=1,_[t].weeks.push(i)}}),b.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(b.rosterId));if(t){const n={id:"massacre_".concat(e,"_").concat(t.ownerId),name:"Massacre",category:"matchup",year:e,teamId:t.ownerId,metadata:{margin:b.margin,opponentRosterId:b.opponentRosterId,week:b.week}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}if(S.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(S.rosterId));if(t){const n={id:"firing_squad_".concat(e,"_").concat(t.ownerId),name:"Firing Squad",category:"matchup",year:e,teamId:t.ownerId,metadata:{share:S.share,score:S.score,total:S.total,week:S.week}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}if(w.rosterId){const t=Object.values(a).find(e=>String(e.rosterId)===String(w.rosterId));if(t){const n={id:"thread_the_needle_".concat(e,"_").concat(t.ownerId),name:"Thread The Needle",category:"matchup",year:e,teamId:t.ownerId,metadata:{margin:w.margin,opponentRosterId:w.opponentRosterId,week:w.week}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}Object.keys(_).forEach(t=>{const n=_[t]||{count:0,weeks:[]},r=n.count||0;if(r>=3){const[s,o]=t.split("_"),i=Object.values(a).find(e=>String(e.rosterId)===String(s));if(i){const t=n.weeks&&n.weeks.length>=3?n.weeks[2]:n.weeks&&n.weeks.length?n.weeks[n.weeks.length-1]:null,a={id:"bully_".concat(e,"_").concat(i.ownerId,"_").concat(o),name:"Bully",category:"matchup",year:e,teamId:i.ownerId,metadata:{opponentRosterId:o,winsAgainst:r,week:t}};(l[i.ownerId]=l[i.ownerId]||[]).push(a),c.push(a)}}})}catch(g){try{n(5452).A.error("computeBadges: error computing matchup-derived badges",g)}catch(M){}}try{if(b&&b.rosterId){const t=b.opponentRosterId,n=Object.values(a).find(e=>String(e.rosterId)===String(t));if(n){const t={id:"bye_week_".concat(e,"_").concat(n.ownerId),name:"The Bye Week",displayName:"The Bye Week",category:"blunder",year:e,teamId:n.ownerId,metadata:{margin:b.margin,week:b.week,opponentRosterId:b.rosterId}};(l[n.ownerId]=l[n.ownerId]||[]).push(t),c.push(t)}}if(j&&j.matchup){const t=j.matchup;try{const t={};Array.isArray(s)&&s.length>0&&s.forEach(n=>{if(Number(n.season||n.year||n.season_id||e)!==e)return;const r=String(n.team_id||n.owner_id||n.roster_id||n.payer||""),a=Number(n.fee||n.fees||n.metadata&&n.metadata.fee||0)||0;r&&(t[r]=(t[r]||0)+a)}),0===Object.keys(t).length&&Object.values(a).forEach(e=>{const n=String(e.ownerId||e.ownerId||e.rosterId||e.teamId||""),r=Number(e.transactionFees||e.fees||e.transaction_fee_total||0)||0;n&&(t[n]=(t[n]||0)+r)});const n=Object.keys(t).map(e=>({ownerId:e,total:t[e]}));if(n.length>0){n.sort((e,t)=>t.total-e.total);const t=n[0];if(t&&t.total>0){const n={id:"broke_ass_".concat(e,"_").concat(t.ownerId),name:"Broke Ass",displayName:"Broke Ass",category:"blunder",year:e,teamId:t.ownerId,metadata:{transactionFees:t.total}};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}}}catch(g){}const n=Number(t.team1_score||t.team1Score||0),r=Number(t.team2_score||t.team2Score||0),o=String(n>r?t.team2_roster_id:t.team1_roster_id),i=Object.values(a).find(e=>String(e.rosterId)===String(o));if(i){const t={id:"snoozer_".concat(e,"_").concat(i.ownerId,"_").concat(j.week||""),name:"The Snoozer",displayName:"The Snoozer",category:"blunder",year:e,teamId:i.ownerId,metadata:{total:j.total,week:j.week}};(l[i.ownerId]=l[i.ownerId]||[]).push(t),c.push(t)}}if(k&&k.rosterId){const t=k.rosterId,n=Object.values(a).find(e=>String(e.rosterId)===String(t));if(n){const t={id:"undercard_".concat(e,"_").concat(n.ownerId,"_").concat(k.week||""),name:"The Undercard",displayName:"The Undercard",category:"blunder",year:e,teamId:n.ownerId,metadata:{share:k.share,score:k.score,total:k.total,week:k.week}};(l[n.ownerId]=l[n.ownerId]||[]).push(t),c.push(t)}}Object.keys(N).forEach(t=>{const n=N[t]||[];if(n.length<2)return;const r=n.slice().sort((e,t)=>t.score-e.score),s=r[0],o=r[1];if(s&&o&&s.score>o.score){const n=s.matchup,r=o.matchup;if(n&&r&&n===r){const n=o.rosterId,r=Object.values(a).find(e=>String(e.rosterId)===String(n));if(r){const n={id:"spoiled_goods_".concat(e,"_").concat(r.ownerId,"_").concat(t),name:"Spoiled Goods",displayName:"Spoiled Goods",category:"blunder",year:e,teamId:r.ownerId,metadata:{week:t,score:o.score,opponentScore:s.score}};(l[r.ownerId]=l[r.ownerId]||[]).push(n),c.push(n)}}}}),Object.keys(_).forEach(t=>{const n=_[t]||{count:0,weeks:[]},r=n.count||0;if(r>=3){const[s,o]=t.split("_"),i=Object.values(a).find(e=>String(e.rosterId)===String(o));if(i){const t=n.weeks&&n.weeks.length>=3?n.weeks[2]:n.weeks&&n.weeks.length?n.weeks[n.weeks.length-1]:null,a={id:"bullied_".concat(e,"_").concat(i.ownerId,"_").concat(s),name:"Bullied",displayName:"Bullied",category:"blunder",year:e,teamId:i.ownerId,metadata:{opponentRosterId:s,lossesAgainst:r,week:t}};(l[i.ownerId]=l[i.ownerId]||[]).push(a),c.push(a)}}})}catch(g){try{n(5452).A.error("computeBadges: error awarding matchup blunders",g)}catch(M){}}const P={};Object.values(a).forEach(e=>{P[String(e.rosterId)]=e});const E={};y.forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id);P[t]&&P[n]&&(E[t]=E[t]||[],E[n]=E[n]||[],E[t].push(P[n].pointsFor||0),E[n].push(P[t].pointsFor||0))});const O=Object.keys(E).map(e=>H(E[e])),A=o.filter(e=>e.isChampion);A.forEach(t=>{const n=H(E[String(t.rosterId)]||[]);if(100*V(O,n)>=75){const n={id:"heavyweight_".concat(e,"_").concat(t.ownerId),name:"Heavyweight Champion",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}});const I={},T={};y.forEach(e=>{const t=Number(e.week||e.w||0),n=String(e.team1_roster_id),r=String(e.team2_roster_id);T[n]=T[n]||{},T[r]=T[r]||{},T[n][t]=Number(e.team1_score||e.team1Score||0),T[r][t]=Number(e.team2_score||e.team2Score||0),T[n]._opp=T[n]._opp||{}});for(let t=1;t<=5;t++)y.forEach(e=>{if(Number(e.week||e.w||0)!==t)return;const n=String(e.team1_roster_id),r=String(e.team2_roster_id),a=Number(e.team1_score||e.team1Score||0),s=Number(e.team2_score||e.team2Score||0);isNaN(a)||isNaN(s)||(a>s&&(I[n]=(I[n]||0)+1),s>a&&(I[r]=(I[r]||0)+1))});A.forEach(t=>{const n=String(t.rosterId);if(0===(I[n]||0)){const n={id:"comeback_".concat(e,"_").concat(t.ownerId),name:"Comeback Kid",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}});const C=o.map(e=>e.luckRating||0).filter(e=>"number"===typeof e),D=[...C].sort((e,t)=>e-t);A.forEach(t=>{var n;const r=a&&(null===(n=Object.values(a).find(e=>e.ownerId===t.ownerId))||void 0===n?void 0:n.luckRating)||0;if(100*V(D,r)<=25){const n={id:"against_odds_".concat(e,"_").concat(t.ownerId),name:"Against All Odds",category:"champion",year:e,teamId:t.ownerId};(l[t.ownerId]=l[t.ownerId]||[]).push(n),c.push(n)}})});try{u.forEach(e=>{const r=a&&a[e]||[];if(r&&r.length>0){const s=r.length,_=M(s),N={},P=[];r.forEach(n=>{const r=Number(n.pick_no||n.pick_number||n.overall_pick||0)||0,a=String(n.picked_by||n.owner_id||n.picked_by||"unknown"),s=C(n,o||[],t||{},Number(e),i||(()=>"")),l=D(s)||0;N[a]=(N[a]||0)+l;const c=_.get(r)||0,u=l-c;P.push({pick:s,rawPick:n,owner:a,pickNo:r,delta:u,expected:c,playerValue:l})});const E=Object.keys(N).sort((e,t)=>N[t]-N[e])[0];if(E&&(N[E]||0)>0){const t={id:"draft_king_".concat(e),name:"Draft King",displayName:"Draft King",category:"draft",year:e,teamId:E,metadata:{draftValue:N[E]}};(l[E]=l[E]||[]).push(t),c.push(t)}const O=P.slice().sort((e,t)=>e.delta-t.delta),A=O[0],I=O[O.length-1];try{if(console.log("computeBadges: season ".concat(e," - seasonPicks=").concat(r.length,", pickDeltas=").concat(P.length)),A){var u,d,h,f,m;const t=(null===(u=A.pick)||void 0===u?void 0:u.picked_by_team_name)||(null===(d=A.pick)||void 0===d?void 0:d.picked_by_team)||(null===(h=A.rawPick)||void 0===h?void 0:h.picked_by_team)||A.owner||"unknown";console.log("computeBadges: season ".concat(e," WORST_PICK -> pickNo=").concat(A.pickNo,", owner=").concat(A.owner,", teamName=").concat(t,", player=").concat((null===(f=A.pick)||void 0===f?void 0:f.player_name)||(null===(m=A.rawPick)||void 0===m?void 0:m.player_name)||"unknown",", delta=").concat(A.delta))}else console.log("computeBadges: season ".concat(e," WORST_PICK -> none"));if(I){var p,y,v,x,b;const t=(null===(p=I.pick)||void 0===p?void 0:p.picked_by_team_name)||(null===(y=I.pick)||void 0===y?void 0:y.picked_by_team)||(null===(v=I.rawPick)||void 0===v?void 0:v.picked_by_team)||I.owner||"unknown";console.log("computeBadges: season ".concat(e," BEST_PICK  -> pickNo=").concat(I.pickNo,", owner=").concat(I.owner,", teamName=").concat(t,", player=").concat((null===(x=I.pick)||void 0===x?void 0:x.player_name)||(null===(b=I.rawPick)||void 0===b?void 0:b.player_name)||"unknown",", delta=").concat(I.delta))}else console.log("computeBadges: season ".concat(e," BEST_PICK -> none"))}catch(g){}try{let t=!1;try{"undefined"!==typeof window&&window.location&&window.location.search&&(t=!(-1===window.location.search.indexOf("badgeDebug=1")))}catch(k){t=!1}try{var w,S;A&&console.log("computeBadges: worst pick for season ".concat(e,": pickNo=").concat(A.pickNo,", owner=").concat(A.owner,", player=").concat((null===(w=A.pick)||void 0===w?void 0:w.player_name)||(null===(S=A.enriched)||void 0===S?void 0:S.player_name)||A.playerValue,", delta=").concat(A.delta))}catch(g){}}catch(k){}if(I&&I.delta>0){const t=I.owner,n={id:"best_draft_pick_".concat(e),name:"Best Draft Pick",displayName:"Best Draft Pick",category:"draft",year:e,teamId:t,metadata:{delta:I.delta,expected:I.expected,playerValue:I.playerValue,pick:I.rawPick,pickNo:I.pickNo}};(l[t]=l[t]||[]).push(n),c.push(n)}if(A&&A.delta<0){const t=A.owner,n={id:"worst_draft_pick_".concat(e),name:"Worst Draft Pick",displayName:"Worst Draft Pick",category:"blunder",year:e,teamId:t,metadata:{delta:A.delta,expected:A.expected,playerValue:A.playerValue,pick:A.rawPick,pickNo:A.pickNo}};(l[t]=l[t]||[]).push(n),c.push(n)}try{const n=["QB","RB","WR","TE","K","DEF"],s={};try{a&&a[e]&&(a[e]||[]).forEach(e=>{if(!e)return;const t=e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id),n=e.picked_by||e.owner_id||e.picked_by_team||e.roster_id||null;t&&n&&(s[String(t)]=String(n))})}catch(j){}const o=t&&t.playerSeasonPoints?t.playerSeasonPoints:null;if(o&&o[e]){const r={};Object.values(o[e]).forEach(e=>{if(!e||!e.position)return;const t=(e.position||"").toString().toUpperCase();-1!==n.indexOf(t)&&(r[t]=r[t]||[],r[t].push(e))}),n.forEach(n=>{const o=r[n]||[];if(!o||0===o.length)return;o.sort((e,t)=>(t.totalPoints||0)-(e.totalPoints||0));const i=o[0];if(!i||(i.totalPoints||0)<=0)return;let u=s[String(i.playerId)]||null;if(!u&&t&&t.rostersBySeason&&t.rostersBySeason[e]){const n=t.rostersBySeason[e]||[];if(a&&a[e]){const t=(a[e]||[]).find(e=>String(e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id))===String(i.playerId));t&&(u=t.picked_by||t.owner_id||t.picked_by_team||u)}if(!u){const e=n.find(e=>!!e&&((!e.owner_id||e.owner_id!==i.playerId)&&!(!Array.isArray(e.players)||-1===e.players.indexOf(String(i.playerId)))));e&&(u=e.owner_id)}}if(!u)return;u=String(u);const d={id:"top_".concat(n.toLowerCase(),"_roster_").concat(e,"_").concat(u),name:"Top ".concat(n," Roster"),displayName:"Top ".concat(n," Roster"),category:"roster",year:e,teamId:u,metadata:{position:n,playerId:i.playerId,playerName:i.playerName,totalPoints:i.totalPoints}};(l[u]=l[u]||[]).push(d),c.push(d)})}else{const a={};(r||[]).forEach(r=>{if(!r)return;const s=(r.player_position||r.player_pos||r.metadata&&r.metadata.position||"").toString().toUpperCase()||"";if(!s||-1===n.indexOf(s))return;const o=Number(r.fantasy_points||r.fantasyPoints||r.player_fantasy_points||0)||0;if(!o||isNaN(o)||0===o)return;let i=r.picked_by||r.owner_id||r.picked_by_team||r.roster_id||"";i=i?String(i):"";try{if(t&&t.rostersBySeason){const n=t.rostersBySeason[e]||t.rostersBySeason[String(e)]||[];if(n&&n.length>0){const e=n.find(e=>String(e.roster_id)===String(i)||String(e.owner_id)===String(i));e&&e.owner_id&&(i=String(e.owner_id))}}}catch(g){}i&&(a[i]=a[i]||{},a[i][s]=(a[i][s]||0)+o)}),n.forEach(t=>{const n=Object.keys(a).map(e=>({ownerId:e,total:a[e][t]||0}));if(!n||0===n.length)return;n.sort((e,t)=>t.total-e.total);const r=n[0];if(r&&r.total>0){const n=r.ownerId,a={id:"top_".concat(t.toLowerCase(),"_roster_").concat(e,"_").concat(n),name:"Top ".concat(t," Roster"),displayName:"Top ".concat(t," Roster"),category:"roster",year:e,teamId:n,metadata:{position:t,totalPoints:r.total}};(l[n]=l[n]||[]).push(a),c.push(a)}})}}catch(g){try{n(5452).A.error("computeBadges: error computing top-positional roster badges",g)}catch(k){}}}if(s&&s.length>0&&t&&t.rostersBySeason&&t.rostersBySeason[e]){const n={};(t.rostersBySeason[e]||[]).forEach(e=>{n[String(e.roster_id)]=e.owner_id});const r={};s.forEach(t=>{const a=t.created?Number(t.created):null;let s=null;if(a){s=new Date(a*(a<9999999999?1e3:1)).getFullYear()}if(String(s)!==String(e))return;(t.roster_ids||[]).forEach(e=>{const t=n[String(e)];t&&(r[t]=(r[t]||0)+1)})});const a=Object.keys(r).sort((e,t)=>r[t]-r[e])[0];if(a&&r[a]>0){const t={id:"action_king_".concat(e),name:"Action King",displayName:"Action King",category:"transaction",year:e,teamId:a,accent:"blue",metadata:{txCount:r[a]}};(l[a]=l[a]||[]).push(t),c.push(t)}Object.keys(r).forEach(t=>{const n=r[t]||0;if(n>=50){const r={id:"season_transactions_".concat(e,"_").concat(t),name:"Season Transactions",displayName:"Season Transactions",category:"transaction",year:e,teamId:t,metadata:{txCount:n}};(l[t]=l[t]||[]).push(r),c.push(r)}})}})}catch(g){try{n(5452).A.error("computeBadges: error computing draft/transaction badges",g)}catch(y){}}u.forEach((e,t)=>{if(0===t)return;const n=u[t-1],a=r[e]||{},s=r[n]||{};Object.values(a).forEach(t=>{if(t.isRunnerUp){const n=t.ownerId,r=Object.values(s).some(e=>e.ownerId===n&&e.isRunnerUp);if(r){const t={id:"silverback_twoback_".concat(e,"_").concat(n),name:"Silverback-To-Back",category:"champion",year:e,teamId:n};(l[n]=l[n]||[]).push(t),c.push(t)}}})});try{const e=u,t={};e.forEach(e=>{(d[e]||[]).forEach(n=>{t[n]=e})});const n=e.length?e[e.length-1]:null;n&&Object.keys(l).forEach(r=>{const a=t[r]||null;let s=a?n-a:n-(e[0]-1);if(s>=5){const e=5*Math.floor(s/5),t={id:"champion_drought_".concat(e,"_").concat(r),name:"Champion Drought - ".concat(e),displayName:"Champion Drought - ".concat(e),category:"blunder",year:n,teamId:r};(l[r]=l[r]||[]).push(t)}})}catch(g){}c.sort((e,t)=>t.year-e.year);try{const e={},t={},n={};u.forEach(a=>{const s=r[a]||{};Object.values(s).forEach(r=>{const s=r.ownerId||r.owner_id||String(r.ownerId||"");if(!s)return;const o=Number(r.wins||0)||0;t[s]=t[s]||new Set,t[s].add(Number(a));const i=e[s]||0,l=i+o;e[s]=l,n[s]=n[s]||{};let c=25*Math.floor(i/25)+25;for(;c<=l;)n[s][c]||(n[s][c]=Number(a)),c+=25})}),Object.keys(e).forEach(r=>{const a=e[r]||0,s=25*Math.floor(a/25);for(let e=25;e<=s;e+=25){const t="total_wins_".concat(e,"_").concat(r),s=(l[r]||[]).some(e=>String(e.id)===t);if(s)continue;const o=n[r]&&n[r][e]||null,i={id:t,name:"Total Wins - ".concat(e),displayName:"Total Wins - ".concat(e),category:"league",year:o,teamId:r,accent:"leagueAccent",metadata:{totalWins:a,milestone:e}};(l[r]=l[r]||[]).push(i),c.push(i)}const o=t[r]?t[r].size:0;if(o>=5){const e="veteran_presence_".concat(r),t=(l[r]||[]).some(t=>String(t.id)===e);if(!t){const t={id:e,name:"Veteran Presence",displayName:"Veteran Presence",category:"league",year:null,teamId:r,accent:"leagueAccent",metadata:{seasons:o}};(l[r]=l[r]||[]).push(t),c.push(t)}}if(o>=10){const e="old_timer_".concat(r),t=(l[r]||[]).some(t=>String(t.id)===e);if(!t){const t={id:e,name:"Old Timer",displayName:"Old Timer",category:"league",year:null,teamId:r,accent:"leagueAccent",metadata:{seasons:o}};(l[r]=l[r]||[]).push(t),c.push(t)}}})}catch(g){try{n(5452).A.error("computeBadges: error computing career/tenure badges",g)}catch(y){}}const h={season_title:"Season Title",points_title:"Points Title",allplay_title:"Season All-Play Title",triple_crown:"Triple Crown",champion:"Champion",runner_up:"Runner Up",third_place:"3rd Place",peak_performance:"Peak Performance",shootout:"The Shootout",heavyweight:"Heavyweight Champion",comeback:"Comeback Kid",against_odds:"Against All Odds",draft_king:"Draft King",worst_draft_pick:"Worst Draft Pick",action_king:"Action King",massacre:"Massacre",double_up:"Double Up",micro_victory:"Micro Victory",small_victory:"Small Victory",firing_squad:"Firing Squad",thread_the_needle:"Thread The Needle",bully:"Bully",season_transactions:"Season Transactions"},f={season:"\ud83c\udfc6","season-tier":"\ud83c\udfc5",champion:"\ud83c\udfc6",matchup:"matchup-icon",massacre:"\ud83d\udca5",double_up:"2\ufe0f\u20e3",micro_victory:"\ud83d\udd39",small_victory:"\ud83d\udd38",firing_squad:"\ud83d\udd25",draft:"\ud83e\udde0","draft-blunder":"\ud83d\udc80",transaction:"\ud83d\udd01",blunder:"\ud83d\udca9"};function m(e){return e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function p(e){return e?(e.displayName||(e.name?e.displayName=e.name:e.displayName=function(e){if(!e)return"";let t=e.replace(/_(\d{4})_(\d{9,})$/,"_$1");t=t.replace(/_(\d{9,})$/,""),t=t.replace(/^(bronze|silver|gold|diamond)_season/,"$1 Season"),t=t.replace(/^shootout_/,"Shootout "),t=t.replace(/^peak_performance_/,"Peak Performance ");for(const n in h)if(-1!==t.indexOf(n))return h[n];return m(t)}(e.id)||m(String(e.id||"Badge"))),e.icon||(e.icon=f[e.category]||"\ud83c\udfc5"),e.accent||(e.id&&-1!==String(e.id).toLowerCase().indexOf("season_all_play")||e.id&&-1!==String(e.id).toLowerCase().indexOf("allplay")||e.id&&-1!==String(e.id).toLowerCase().indexOf("season_title")||"champion"===e.category?e.accent="championAccent":"season"===e.category?e.accent="yellow":(!e.id||-1===String(e.id).indexOf("massacre")&&-1===String(e.id).indexOf("shootout")&&-1===String(e.id).indexOf("peak_performance"))&&(!e.id||-1===String(e.id).indexOf("double_up")&&-1===String(e.id).indexOf("micro_victory")&&-1===String(e.id).indexOf("small_victory")&&-1===String(e.id).indexOf("nano_victory")&&-1===String(e.id).indexOf("firing_squad")&&-1===String(e.id).indexOf("perfectly_peaked")&&-1===String(e.id).indexOf("thread_the_needle")&&-1===String(e.id).indexOf("thread-the-needle")&&-1===String(e.id).indexOf("thread")&&-1===String(e.id).indexOf("bully"))?e.id&&-1!==String(e.id).indexOf("diamond_season")?e.accent="diamond":"matchup"===e.category?e.accent="red":e.category&&-1!==e.category.indexOf("draft")?e.accent="purple":"season-tier"===e.category?e.accent="blue":"blunder"===e.category||"draft-blunder"===e.category?e.accent="red":e.accent="gray":e.accent="matchupAccent"),e.timestamp||(e.year?e.timestamp=new Date(Number(e.year),11,31).getTime():e.timestamp=Date.now()),e):e}Object.keys(l).forEach(e=>{l[e]=(l[e]||[]).map(e=>p(e))});for(let n=0;n<c.length;n++)c[n]=p(c[n]);return{badgesByTeam:l,recentBadges:c}}};var G=n(579);const K=(0,t.createContext)(),Y="1074092015093413888",Q=async(e,t)=>{const n="https://api.sleeper.app/v1/league/".concat(e,"/transactions/").concat(t);try{const e=await fetch(n);if(!e.ok)throw new Error("Failed to fetch transactions for week ".concat(t,". Status: ").concat(e.status));return await e.json()}catch(r){return h.A.error("Error fetching transactions for week ".concat(t,":"),r),[]}},X=e=>{var r;let{children:a}=e;const[o,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[y,k]=(0,t.useState)(null),[j,_]=(0,t.useState)(null),[N,E]=(0,t.useState)({}),[O,A]=(0,t.useState)({}),[I,C]=(0,t.useState)({}),[D,M]=(0,t.useState)(null),[R,B]=(0,t.useState)({}),[F,U]=(0,t.useState)([]),[z,V]=(0,t.useState)([]),[H,X]=(0,t.useState)(!0),[$,J]=(0,t.useState)(null),Z={matchupsBySeason:[{team1_roster_id:"1",team1_score:155.04,team2_roster_id:"7",team2_score:175.4,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:123.47,team2_roster_id:"10",team2_score:121.27,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:141.71,team2_roster_id:"12",team2_score:135.24,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:151.61,team2_roster_id:"5",team2_score:183.29,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:136.88,team2_roster_id:"11",team2_score:168.74,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:135.89,team2_roster_id:"9",team2_score:119.19,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:128.19,team2_roster_id:"3",team2_score:179.42,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:125.49,team2_roster_id:"8",team2_score:135.28,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:95.71,team2_roster_id:"6",team2_score:128.81,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:142.02,team2_roster_id:"11",team2_score:136.58,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:147.1,team2_roster_id:"12",team2_score:139.7,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:182.01,team2_roster_id:"10",team2_score:124.79,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.72,team2_roster_id:"12",team2_score:117.53,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:153.86,team2_roster_id:"9",team2_score:137.5,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:126.72,team2_roster_id:"7",team2_score:118.27,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:126.08,team2_roster_id:"11",team2_score:80.37,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.67,team2_roster_id:"6",team2_score:165.55,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:132.49,team2_roster_id:"10",team2_score:134.76,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:95.22,team2_roster_id:"8",team2_score:139.42,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:110.04,team2_roster_id:"4",team2_score:151.08,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:134.74,team2_roster_id:"7",team2_score:153.16,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:176.2,team2_roster_id:"10",team2_score:110.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:131.12,team2_roster_id:"9",team2_score:142.27,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"11",team1_score:131.74,team2_roster_id:"12",team2_score:168.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:141.51,team2_roster_id:"12",team2_score:114.22,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:189.6,team2_roster_id:"7",team2_score:111.37,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:168.61,team2_roster_id:"10",team2_score:112.88,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:189.37,team2_roster_id:"9",team2_score:170.56,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:135.89,team2_roster_id:"11",team2_score:118.72,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:182.28,team2_roster_id:"8",team2_score:141.35,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:165.57,team2_roster_id:"9",team2_score:147.1,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:156.76,team2_roster_id:"8",team2_score:150.17,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:176.81,team2_roster_id:"6",team2_score:115.06,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:98.65,team2_roster_id:"5",team2_score:167.96,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:96.52,team2_roster_id:"12",team2_score:120.88,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:119.58,team2_roster_id:"11",team2_score:158.65,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:102.87,team2_roster_id:"2",team2_score:102.36,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:161.6,team2_roster_id:"9",team2_score:127.68,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:131.19,team2_roster_id:"11",team2_score:148.13,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:128.2,team2_roster_id:"12",team2_score:100.82,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:123.52,team2_roster_id:"10",team2_score:166.75,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:123.8,team2_roster_id:"8",team2_score:136.57,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:122.39,team2_roster_id:"10",team2_score:162.99,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:120.4,team2_roster_id:"9",team2_score:135.55,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:85.95,team2_roster_id:"8",team2_score:138,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:93.82,team2_roster_id:"12",team2_score:153.63,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:123.2,team2_roster_id:"7",team2_score:114.23,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:133.31,team2_roster_id:"11",team2_score:147.93,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:77.36,team2_roster_id:"11",team2_score:144.56,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:104.29,team2_roster_id:"3",team2_score:119.83,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:169.03,team2_roster_id:"6",team2_score:103.37,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.32,team2_roster_id:"9",team2_score:119.24,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:107.79,team2_roster_id:"10",team2_score:89.49,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:194.81,team2_roster_id:"12",team2_score:84.42,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.35,team2_roster_id:"5",team2_score:164.05,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:136.31,team2_roster_id:"6",team2_score:134.48,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:114.71,team2_roster_id:"4",team2_score:101.82,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:108.14,team2_roster_id:"11",team2_score:102.18,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:92.51,team2_roster_id:"10",team2_score:119.01,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.42,team2_roster_id:"12",team2_score:107.53,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:107.51,team2_roster_id:"3",team2_score:173.96,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:132.54,team2_roster_id:"10",team2_score:94.17,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:110.36,team2_roster_id:"7",team2_score:145.77,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:154.05,team2_roster_id:"8",team2_score:199.61,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:119.34,team2_roster_id:"12",team2_score:122.8,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:142.6,team2_roster_id:"11",team2_score:103.52,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:175.69,team2_roster_id:"7",team2_score:90.75,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:158.17,team2_roster_id:"11",team2_score:104.14,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:159.93,team2_roster_id:"12",team2_score:78.49,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:111.52,team2_roster_id:"8",team2_score:144.08,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:171.34,team2_roster_id:"6",team2_score:116,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.64,team2_roster_id:"10",team2_score:114.13,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:103.23,team2_roster_id:"4",team2_score:106.89,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:138.67,team2_roster_id:"5",team2_score:127.8,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:163.2,team2_roster_id:"11",team2_score:87.06,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:110.88,team2_roster_id:"7",team2_score:103.77,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:142.74,team2_roster_id:"9",team2_score:167.3,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:124.58,team2_roster_id:"12",team2_score:141.24,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.16,team2_roster_id:"6",team2_score:123.3,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:167.62,team2_roster_id:"12",team2_score:125.51,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:143.5,team2_roster_id:"5",team2_score:163.4,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:105.78,team2_roster_id:"10",team2_score:132.44,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:102.73,team2_roster_id:"9",team2_score:154.67,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:156.33,team2_roster_id:"11",team2_score:122.83,week:"14",year:"2021",regSeason:!0}],rostersBySeason:[{roster_id:"1",owner_id:"783790952367169536",metadata:{team_name:"Ainsworth"}},{roster_id:"2",owner_id:"783761299275382784",metadata:{team_name:"Bjarnar"}},{roster_id:"3",owner_id:"783789717920534528",metadata:{team_name:"Blumbergs"}},{roster_id:"4",owner_id:"783789669597999104",metadata:{team_name:"Boilard"}},{roster_id:"5",owner_id:"783767734491127808",metadata:{team_name:"Dembski"}},{roster_id:"6",owner_id:"467074573125283840",metadata:{team_name:"Irwin"}},{roster_id:"7",owner_id:"783778036578418688",metadata:{team_name:"Meer"}},{roster_id:"8",owner_id:"783763304463147008",metadata:{team_name:"Neufeglise"}},{roster_id:"9",owner_id:"783758716272009216",metadata:{team_name:"O'Donoghue"}},{roster_id:"10",owner_id:"783754997035876352",metadata:{team_name:"Randall"}},{roster_id:"11",owner_id:"783761892693905408",metadata:{team_name:"Schmitt"}},{roster_id:"12",owner_id:"787044291066380288",metadata:{team_name:"Tomczak"}}],usersBySeason:[{user_id:"783790952367169536",display_name:"Kurt's WAP"},{user_id:"783761299275382784",display_name:"Bohan's Bitches"},{user_id:"783789717920534528",display_name:"Hangin' With Hernandez"},{user_id:"783789669597999104",display_name:"Camel Toe Hounds"},{user_id:"783767734491127808",display_name:"Balls Mafia"},{user_id:"467074573125283840",display_name:"No Romo"},{user_id:"783778036578418688",display_name:"Christian McCockherpussy"},{user_id:"783763304463147008",display_name:"The Wolf of Waller Street"},{user_id:"783758716272009216",display_name:"O'D's Danglers"},{user_id:"783754997035876352",display_name:"The Team of Constant Sorrow"},{user_id:"783761892693905408",display_name:"Matt's O'DUI"},{user_id:"787044291066380288",display_name:"Michael Vick's Vet Clinic"}],leaguesMetadataBySeason:{settings:{playoff_start_week:15,scoring_settings:{pass_yd:.04,pass_td:4,pass_int:-1,rush_yd:.1,rush_td:6,rec_yd:.1,rec:.5,rec_td:6,fum_lost:-2},roster_positions:["QB","RB","RB","WR","WR","TE","FLEX","K","DEF","BN","BN","BN","BN","BN","BN","BN"]},season:"2021"},winnersBracketBySeason:[{m:1,r:1,w:"8",l:"9",t1:"8",t2:"9",t1_score:123.49,t2_score:113.36,week:15,playoffs:!0},{m:2,r:1,w:"1",l:"2",t1:"2",t2:"1",t1_score:142.05,t2_score:148.61,week:15,playoffs:!0},{m:3,r:2,w:"5",l:"8",t1:"5",t2:"8",t1_score:174.09,t2_score:114.7,week:16,playoffs:!0},{m:4,r:2,w:"1",l:"3",t1:"1",t2:"3",t1_score:163.38,t2_score:142.81,week:16,playoffs:!0},{m:5,r:3,p:1,w:"1",l:"5",t1:"5",t2:"1",t1_score:96.58,t2_score:134.51,week:17,playoffs:!0},{m:6,r:3,p:3,w:"3",l:"8",t1:"8",t2:"3",t1_score:159.89,t2_score:163.1,week:17,playoffs:!0},{m:7,r:2,p:5,w:"2",l:"9",t1:"9",t2:"2",t1_score:113.09,t2_score:143.89,week:16,playoffs:!0}],losersBracketBySeason:[{m:2,r:1,w:"11",l:"4",t1:"11",t2:"4",t1_score:97.93,t2_score:86.3,week:15,playoffs:!0},{m:3,r:1,w:"6",l:"7",t1:"7",t2:"6",t1_score:76.62,t2_score:81.32,week:15,playoffs:!0},{m:4,r:2,w:"10",l:"11",t1:"10",t2:"11",t1_score:83.46,t2_score:26.22,week:16,playoffs:!0},{m:5,r:2,w:"12",l:"6",t1:"6",t2:"12",t1_score:37.26,t2_score:49.31,week:16,playoffs:!0},{m:6,r:2,p:11,w:"7",l:"4",t1:"7",t2:"4",t1_score:111.27,t2_score:102.74,week:16,playoffs:!0},{m:7,r:3,p:7,w:"12",l:"10",t1:"10",t2:"12",t1_score:13.66,t2_score:47.98,week:17,playoffs:!0},{m:8,r:3,p:9,w:"6",l:"11",t1:"11",t2:"6",t1_score:9.4,t2_score:51.56,week:17,playoffs:!0}]},ee=(0,t.useMemo)(()=>{var e,t;const n=new Map,r=(new Map,u(u({},(null===j||void 0===j?void 0:j.usersBySeason)||{}),{},{2021:(null===(e=Z)||void 0===e?void 0:e.usersBySeason)||[]})),a=u(u({},(null===j||void 0===j?void 0:j.rostersBySeason)||{}),{},{2021:(null===(t=Z)||void 0===t?void 0:t.rostersBySeason)||[]});r&&Object.entries(r).forEach(e=>{let[t,r]=e;const a=new Map;Array.isArray(r)&&r.forEach(e=>{a.set(e.user_id,e)}),n.set(t,a)}),a&&Object.entries(a).forEach(e=>{let[t,n]=e;const r=new Map;Array.isArray(n)&&n.forEach(e=>{r.set(e.roster_id,e)}),r.set(t,r)});const s=new Map;return l&&l.forEach(e=>{s.set(e.user_id,e)}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.team_name?e.metadata.team_name:null!==e&&void 0!==e&&e.display_name?e.display_name:null};let a="Unknown Team (ID: ".concat(e,")");if(null===t){const t=r(s.get(e));if(t)a=t;else{const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=null===D||void 0===D?void 0:D.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}else{if(n.has(String(t))){const s=r(n.get(String(t)).get(e));s&&(a=s)}if(a.startsWith("Unknown Team (ID:")){const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const s of t){const t=r(n.get(s).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=r(s.get(e));t&&(a=t)}if(a.startsWith("Unknown Team (ID:")){const t=null===D||void 0===D?void 0:D.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}return a}},[l,j,D]),te=(0,t.useMemo)(()=>(e,t)=>{let n=null;var r,a;return j&&j.usersBySeason&&j.usersBySeason[t]&&e&&(n=j.usersBySeason[t].find(t=>t.user_id===e)),!n&&l&&e&&(n=l.find(t=>t.user_id===e)),n?{name:(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name,avatar:(null===(a=n.metadata)||void 0===a?void 0:a.avatar)||(n.avatar?"https://sleepercdn.com/avatars/".concat(n.avatar):"https://sleepercdn.com/avatars/default_avatar.png")}:"string"!==typeof e||/^\d+$/.test(e)?{name:"Team (ID: ".concat(e,")"),avatar:"https://sleepercdn.com/avatars/default_avatar.png"}:{name:e,avatar:"https://sleepercdn.com/avatars/default_avatar.png"}},[l,j]);(0,t.useEffect)(()=>{(async()=>{X(!0),J(null);try{var e,t,r,a,l,f;const O=d||Y;if(!O)return J(new Error("No league ID provided or fallback ID is invalid. Please set CURRENT_LEAGUE_ID in config.js or ensure FALLBACK_LEAGUE_ID is valid.")),void X(!1);0;const[I,D,R,F,z,H,G]=await Promise.all([v(O),x(O),S(O),b(),w(),P(),T()]);if(!I)return J(new Error("Failed to fetch initial league data for ID: ".concat(O,". Please check the league ID in config.js or the fallback ID."))),void X(!1);i(I),c(D),m(R),g(F),k(z);let K=[];if(z&&z.week)for(let e=1;e<=z.week;e++){const t=await Q(O,e);K=[...K,...t]}V(K),h.A.debug("SleeperDataContext: Fetched transactions:",K);const $={},te={};if(G)for(const e in G)if(G.hasOwnProperty(e)){var p,y;const t=G[e],n=(null===(p=t.drafts)||void 0===p?void 0:p.find(e=>"complete"===e.status))||(null===(y=t.drafts)||void 0===y?void 0:y[0]);n&&($[e]=n,te[e]=n.picks||[])}E($),A(te);const ne={};null!==H&&void 0!==H&&H.matchupsBySeason&&Object.entries(H.matchupsBySeason).forEach(e=>{let[t,n]=e;"object"!==typeof n||null===n||Array.isArray(n)?Array.isArray(n)?ne[t]=n:ne[t]=[]:ne[t]=Object.values(n).flat()});const re={matchupsBySeason:u(u({},ne||{}),{},{2021:(null===(e=Z)||void 0===e?void 0:e.matchupsBySeason)||[]}),rostersBySeason:u(u({},(null===H||void 0===H?void 0:H.rostersBySeason)||{}),{},{2021:(null===(t=Z)||void 0===t?void 0:t.rostersBySeason)||[]}),usersBySeason:u(u({},(null===H||void 0===H?void 0:H.usersBySeason)||{}),{},{2021:(null===(r=Z)||void 0===r?void 0:r.usersBySeason)||[]}),leaguesMetadataBySeason:u(u({},(null===H||void 0===H?void 0:H.leaguesMetadataBySeason)||{}),{},{2021:(null===(a=Z)||void 0===a?void 0:a.leaguesMetadataBySeason)||{}}),winnersBracketBySeason:u(u({},(null===H||void 0===H?void 0:H.winnersBracketBySeason)||{}),{},{2021:(null===(l=Z)||void 0===l?void 0:l.winnersBracketBySeason)||[]}),losersBracketBySeason:u(u({},(null===H||void 0===H?void 0:H.losersBracketBySeason)||{}),{},{2021:(null===(f=Z)||void 0===f?void 0:f.losersBracketBySeason)||[]}),draftsBySeason:$,draftPicksBySeason:te,tradedPicksBySeason:(()=>{const e={};if(G)for(const t in G){if(!G.hasOwnProperty(t))continue;const n=G[t];e[t]=n.tradedPicks||n.traded_picks||[]}return e})()};if(_(re),re&&Object.keys(re.matchupsBySeason).length>0){const{seasonalMetrics:e,careerDPRData:t}=s(re,0,ee,z);C(e),M(t);try{const t={};try{re.playerSeasonPoints=t;const e=Object.keys(te||{});for(const r of e){const e=String(r),a=te[e]||[],s=Array.from(new Set(a.map(e=>e&&(e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id))).filter(Boolean)));t[e]=t[e]||{},await Promise.all(s.map(async s=>{try{const n=a.find(e=>{const t=e&&(e.player_id||e.playerId||e.player||e.metadata&&(e.metadata.player_id||e.metadata.id));return String(t)===String(s)})||{},r=n.player_name||n.metadata&&(n.metadata.name||"".concat(n.metadata.first_name||""," ").concat(n.metadata.last_name||""))||"Unknown Player",i=(n.player_position||n.player_pos||n.metadata&&n.metadata.position||"").toString().toUpperCase(),l=re.leaguesMetadataBySeason&&re.leaguesMetadataBySeason[e]&&re.leaguesMetadataBySeason[e].settings&&re.leaguesMetadataBySeason[e].settings.scoring_settings||o&&o.settings&&o.settings.scoring_settings||{},c=await L(s,e,"regular",r),u=c?W(c,l,i):0;t[e][s]={playerId:s,playerName:r,position:i,totalPoints:u}}catch(i){try{n(5452).A.warn("Failed to fetch/calc points for player ".concat(s," in season ").concat(r,":"),i)}catch(l){}}}))}}catch(j){try{n(5452).A.warn("Error building playerSeasonPoints map:",j)}catch(N){}}const{badgesByTeam:r,recentBadges:a}=q.computeBadges({historicalData:re,processedSeasonalRecords:e,draftPicksBySeason:te,transactions:K,usersData:D,getTeamName:ee});B(r||{}),U(a||[])}catch(N){h.A.error("Error computing badges:",N),B({}),U([])}}else C({}),M(null);X(!1),h.A.debug("SleeperDataContext: Final nflPlayers state:",F),h.A.debug("SleeperDataContext: Final draftsBySeason state:",$),h.A.debug("SleeperDataContext: Final draftPicksBySeason state:",te),h.A.debug("SleeperDataContext: Final historicalMatchups (merged historicalData) state:",re)}catch(O){h.A.error("Failed to load initial Sleeper data:",O),J(O),X(!1)}})()},[]);const ne=(0,t.useMemo)(()=>({draftsBySeason:N,draftPicksBySeason:O,tradedPicksBySeason:(()=>{const e={};return N&&Object.keys(N).forEach(t=>{var n;e[t]=(null===(n=N[t])||void 0===n?void 0:n.tradedPicks)||[]}),j&&j.tradedPicksBySeason&&Object.assign(e,j.tradedPicksBySeason),e})()}),[N,O,j]),re=(0,t.useMemo)(()=>{try{const e=Object.values(O||{});return(Array.isArray(e)?e.flat():[])||[]}catch(e){return[]}},[O]),ae=Array.isArray(o)&&o.length>0?o[0]:o,se=(null===ae||void 0===ae?void 0:ae.season)||(Array.isArray(o)&&o.length>0?null===(r=o[0])||void 0===r?void 0:r.season:null),oe=(0,t.useMemo)(()=>({leagueData:o,usersData:l,rostersWithDetails:f,nflPlayers:p,nflState:y,historicalData:j,draftsBySeason:N,draftPicksBySeason:O,draftHistoryBySeason:ne,allDraftHistory:re,processedSeasonalRecords:I,badgesByTeam:R,recentBadges:F,careerDPRData:D,transactions:z,loading:H,error:$,currentSeason:se,getTeamName:ee,getTeamDetails:te}),[o,l,f,p,y,j,N,O,ne,re,I,D,z,H,$,se,ee,te]);return(0,G.jsx)(K.Provider,{value:oe,children:a})},$=()=>{const e=(0,t.useContext)(K);if(void 0===e)throw new Error("useSleeperData must be used within a SleeperDataProvider");return e};function J(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=J(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Z=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=J(e))&&(r&&(r+=" "),r+=t);return r};var ee=n(9889),te=n.n(ee),ne=n(620),re=n.n(ne),ae=n(5268),se=n.n(ae),oe=n(3097),ie=n.n(oe),le=n(9160),ce=n.n(le),ue=n(9686),de=n.n(ue),he=function(e){return 0===e?0:e>0?1:-1},fe=function(e){return re()(e)&&e.indexOf("%")===e.length-1},me=function(e){return ce()(e)&&!se()(e)},pe=function(e){return me(e)||re()(e)},ge=0,ye=function(e){var t=++ge;return"".concat(e||"").concat(t)},ve=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!me(e)&&!re()(e))return r;if(fe(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return se()(n)&&(n=r),a&&n>t&&(n=t),n},xe=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},be=function(e,t){return me(e)&&me(t)?function(n){return e+n*(t-e)}:function(){return t}};function we(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):ie()(e,t))===n}):null}var Se=function(e,t){return me(e)&&me(t)?e-t:re()(e)&&re()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},ke=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},je=n(1629),_e=n.n(je),Ne=n(6686),Pe=n.n(Ne),Ee=n(9062);function Oe(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}var Ie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Te=["points","pathLength"],Ce={svg:["viewBox","children"],polygon:Te,polyline:Te},De=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Me=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!Pe()(r))return null;var a={};return Object.keys(r).forEach(function(e){De.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},Re=function(e,t,n){if(!Pe()(e)||"object"!==Ae(e))return null;var r=null;return Object.keys(e).forEach(function(a){var s=e[a];De.includes(a)&&"function"===typeof s&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))}),r},Le=["children"],Be=["children"];function Fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}var Ue={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ze=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Ve=null,He=null,qe=function e(n){if(n===Ve&&Array.isArray(He))return He;var r=[];return t.Children.forEach(n,function(t){de()(t)||((0,Ee.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),He=r,Ve=n,r};function Ge(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return ze(e)}):[ze(t)],qe(e).forEach(function(e){var t=ie()(e,"type.displayName")||ie()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Ke(e,t){var n=Ge(e,t);return n&&n[0]}var Ye=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!me(n)||n<=0||!me(r)||r<=0)},Qe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xe=function(e){return e&&e.type&&re()(e.type)&&Qe.indexOf(e.type)>=0},$e=function(e){return e&&"object"===We(e)&&"clipDot"in e},Je=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!Pe()(a))return null;var s={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,s=null!==(a=null===Ce||void 0===Ce?void 0:Ce[r])&&void 0!==a?a:[];return t.startsWith("data-")||!_e()(e)&&(r&&s.includes(t)||Ie.includes(t))||n&&De.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(s[e]=a[e])}),s},Ze=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return et(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var o=n[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!et(o,i))return!1}return!0},et=function(e,t){if(de()(e)&&de()(t))return!0;if(!de()(e)&&!de()(t)){var n=e.props||{},r=n.children,a=Fe(n,Le),s=t.props||{},o=s.children,i=Fe(s,Be);return r&&o?Oe(a,i)&&Ze(r,o):!r&&!o&&Oe(a,i)}return!1},tt=function(e,t){var n=[],r={};return qe(e).forEach(function(e,a){if(Xe(e))n.push(e);else if(e){var s=ze(e.type),o=t[s]||{},i=o.handler,l=o.once;if(i&&(!l||!r[s])){var c=i(e,s,a);n.push(c),r[s]=!0}}}),n};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){st(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function st(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,s=void 0===a?{width:-1,height:-1}:a,o=e.width,i=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,p=e.debounce,g=void 0===p?0:p,y=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,S=(0,t.useRef)(null),k=(0,t.useRef)();k.current=x,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=ot((0,t.useState)({containerWidth:s.width,containerHeight:s.height}),2),_=j[0],N=j[1],P=(0,t.useCallback)(function(e,t){N(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;P(r,a),null===(t=k.current)||void 0===t||t.call(k,r,a)};g>0&&(e=te()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,a=n.height;return P(r,a),t.observe(S.current),function(){t.disconnect()}},[P,g]);var E=(0,t.useMemo)(function(){var e=_.containerWidth,n=_.containerHeight;if(e<0||n<0)return null;ke(fe(i)||fe(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,c),ke(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=fe(i)?e:i,s=fe(c)?n:c;r&&r>0&&(a?s=a/r:s&&(a=s*r),f&&s>f&&(s=f)),ke(a>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,s,i,c,d,h,r);var o=!Array.isArray(m)&&ze(m.type).endsWith("Chart");return t.Children.map(m,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,at({width:a,height:s},o?{style:at({height:"100%",width:"100%",maxHeight:s,maxWidth:a},e.props.style)}:{})):e})},[r,m,c,f,h,d,_,i]);return t.createElement("div",{id:y?"".concat(y):void 0,className:Z("recharts-responsive-container",v),style:at(at({},w),{},{width:i,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},E)}),ct=n(6604),ut=n.n(ct),dt=n(7424),ht=n.n(dt),ft="Invariant failed";function mt(e,t){if(!e)throw new Error(ft)}var pt=["children","width","height","viewBox","className","style","title","desc"];function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vt(e){var n=e.children,r=e.width,a=e.height,s=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,u=yt(e,pt),d=s||{width:r,height:a,x:0,y:0},h=Z("recharts-surface",o);return t.createElement("svg",gt({},Je(u,!0,"svg"),{className:h,width:r,height:a,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var xt=["children","className"];function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var St=t.forwardRef(function(e,n){var r=e.children,a=e.className,s=wt(e,xt),o=Z("recharts-layer",a);return t.createElement("g",bt({className:o},Je(s,!0),{ref:n}),r)});function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(t){Ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ot(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e){return Array.isArray(e)&&pe(e[0])&&pe(e[1])?e.join(" ~ "):e}var It=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,s=void 0===a?{}:a,o=e.itemStyle,i=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=Et({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Et({margin:0},c),w=!de()(p),S=w?p:"",k=Z("recharts-default-tooltip",f),j=Z("recharts-tooltip-label",m);w&&g&&void 0!==u&&null!==u&&(S=g(p,u));var _=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",jt({className:k,style:x},_),t.createElement("p",{className:j,style:b},t.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?ht()(u,h):u).map(function(e,n){if("none"===e.type)return null;var a=Et({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||d||At,o=e.value,l=e.name,c=o,h=l;if(s&&null!=c&&null!=h){var f=s(o,l,e,n,u);if(Array.isArray(f)){var m=_t(f,2);c=m[0],h=m[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},pe(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,pe(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt="recharts-tooltip-wrapper",Mt={visibility:"hidden"};function Rt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Z(Dt,Ct(Ct(Ct(Ct({},"".concat(Dt,"-right"),me(n)&&t&&me(t.x)&&n>=t.x),"".concat(Dt,"-left"),me(n)&&t&&me(t.x)&&n<t.x),"".concat(Dt,"-bottom"),me(r)&&t&&me(t.y)&&r>=t.y),"".concat(Dt,"-top"),me(r)&&t&&me(t.y)&&r<t.y))}function Lt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&me(s[r]))return s[r];var u=n[r]-i-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+i>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach(function(t){Gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kt(r.key),r)}}function zt(e,t,n){return t=Ht(t),function(e,t){if(t&&("object"===Bt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vt()?Reflect.construct(t,n||[],Ht(e).constructor):t.apply(e,n))}function Vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vt=function(){return!!e})()}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function Gt(e,t,n){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=function(e,t){if("object"!=Bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bt(t)?t:t+""}var Yt=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Gt(e=zt(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gt(e,"handleKeyDown",function(t){var n,r,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(n,e),r=n,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,m=n.useTranslate3d,p=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Lt({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Lt({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Mt,cssClasses:Rt({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),v=y.cssClasses,x=y.cssProperties,b=Wt(Wt({transition:u&&r?"transform ".concat(s,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},i)}}])&&Ut(r.prototype,a),s&&Ut(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent),Qt={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Qt[e]},set:function(e,t){if("string"===typeof e)Qt[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Qt[t]=e[t]})}}},Xt=n(977),$t=n.n(Xt);function Jt(e,t,n){return!0===t?$t()(e,n):_e()(t)?$t()(e,t):e}function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){ln(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cn(r.key),r)}}function rn(e,t,n){return t=sn(t),function(e,t){if(t&&("object"===Zt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,an()?Reflect.construct(t,n||[],sn(e).constructor):t.apply(e,n))}function an(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(an=function(){return!!e})()}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}function on(e,t){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},on(e,t)}function ln(e,t,n){return(t=cn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e){var t=function(e,t){if("object"!=Zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zt(t)?t:t+""}function un(e){return e.dataKey}var dn=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),rn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,s=n.animationDuration,o=n.animationEasing,i=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,m=n.position,p=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=Jt(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,un));var b=x.length>0;return t.createElement(Yt,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:b,offset:d,position:m,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(It,n)}(i,tn(tn({},this.props),{},{payload:x})))}}])&&nn(r.prototype,a),s&&nn(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);ln(dn,"displayName","Tooltip"),ln(dn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hn=n(643),fn=n.n(hn);Math.abs,Math.atan2;const mn=Math.cos,pn=(Math.max,Math.min,Math.sin),gn=Math.sqrt,yn=Math.PI,vn=2*yn;const xn={draw(e,t){const n=gn(t/yn);e.moveTo(n,0),e.arc(0,0,n,0,vn)}},bn={draw(e,t){const n=gn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wn=gn(1/3),Sn=2*wn,kn={draw(e,t){const n=gn(t/Sn),r=n*wn;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},jn={draw(e,t){const n=gn(t),r=-n/2;e.rect(r,r,n,n)}},_n=pn(yn/10)/pn(7*yn/10),Nn=pn(vn/10)*_n,Pn=-mn(vn/10)*_n,En={draw(e,t){const n=gn(.8908130915292852*t),r=Nn*n,a=Pn*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=vn*s/5,o=mn(t),i=pn(t);e.lineTo(i*n,-o*n),e.lineTo(o*r-i*a,i*r+o*a)}e.closePath()}},On=gn(3),An={draw(e,t){const n=-gn(t/(3*On));e.moveTo(0,2*n),e.lineTo(-On*n,-n),e.lineTo(On*n,-n),e.closePath()}},In=-.5,Tn=gn(3)/2,Cn=1/gn(12),Dn=3*(Cn/2+1),Mn={draw(e,t){const n=gn(t/Dn),r=n/2,a=n*Cn,s=r,o=n*Cn+n,i=-s,l=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(i,l),e.lineTo(In*r-Tn*a,Tn*r+In*a),e.lineTo(In*s-Tn*o,Tn*s+In*o),e.lineTo(In*i-Tn*l,Tn*i+In*l),e.lineTo(In*r+Tn*a,In*a-Tn*r),e.lineTo(In*s+Tn*o,In*o-Tn*s),e.lineTo(In*i+Tn*l,In*l-Tn*i),e.closePath()}};function Rn(e){return function(){return e}}function Ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Bn,Fn,Wn,Un,zn,Vn,Hn,qn,Gn,Kn,Yn,Qn,Xn,$n;const Jn=Math.PI,Zn=2*Jn,er=1e-6,tr=Zn-er;function nr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class rr{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?nr:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return nr;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Bn||(Bn=Ln(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Fn||(Fn=Ln(["Z"]))))}lineTo(e,t){this._append(Wn||(Wn=Ln(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Un||(Un=Ln(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(zn||(zn=Ln(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,o=this._y1,i=n-e,l=r-t,c=s-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(Vn||(Vn=Ln(["M",",",""])),this._x1=e,this._y1=t);else if(d>er)if(Math.abs(u*i-l*c)>er&&a){let h=n-s,f=r-o,m=i*i+l*l,p=h*h+f*f,g=Math.sqrt(m),y=Math.sqrt(d),v=a*Math.tan((Jn-Math.acos((m+d-p)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>er&&this._append(qn||(qn=Ln(["L",",",""])),e+x*c,t+x*u),this._append(Gn||(Gn=Ln(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*i,this._y1=t+b*l)}else this._append(Hn||(Hn=Ln(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),i=n*Math.sin(r),l=e+o,c=t+i,u=1^s,d=s?r-a:a-r;null===this._x1?this._append(Kn||(Kn=Ln(["M",",",""])),l,c):(Math.abs(this._x1-l)>er||Math.abs(this._y1-c)>er)&&this._append(Yn||(Yn=Ln(["L",",",""])),l,c),n&&(d<0&&(d=d%Zn+Zn),d>tr?this._append(Qn||(Qn=Ln(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-i,n,n,u,this._x1=l,this._y1=c):d>er&&this._append(Xn||(Xn=Ln(["A",",",",0,",",",",",",",""])),n,n,+(d>=Jn),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append($n||($n=Ln(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function ar(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new rr(t)}gn(3),gn(3);function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}var or=["type","size","sizeType"];function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach(function(t){ur(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ur(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sr(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var hr={symbolCircle:xn,symbolCross:bn,symbolDiamond:kn,symbolSquare:jn,symbolStar:En,symbolTriangle:An,symbolWye:Mn},fr=Math.PI/180,mr=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,s=void 0===a?64:a,o=e.sizeType,i=void 0===o?"area":o,l=cr(cr({},dr(e,or)),{},{type:r,size:s,sizeType:i}),c=l.className,u=l.cx,d=l.cy,h=Je(l,!0);return u===+u&&d===+d&&s===+s?t.createElement("path",ir({},h,{className:Z("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(fn()(e));return hr[t]||xn}(r),t=function(e,t){let n=null,r=ar(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Rn(e||xn),t="function"===typeof t?t:Rn(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Rn(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Rn(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*fr;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,i,r));return t()}()})):null};function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jr(r.key),r)}}function xr(e,t,n){return t=wr(t),function(e,t){if(t&&("object"===pr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,br()?Reflect.construct(t,n||[],wr(e).constructor):t.apply(e,n))}function br(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(br=function(){return!!e})()}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sr(e,t)}function kr(e,t,n){return(t=jr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e){var t=function(e,t){if("object"!=pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pr(t)?t:t+""}mr.registerSymbol=function(e,t){hr["symbol".concat(fn()(e))]=t};var _r=32,Nr=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),xr(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=_r/6,s=_r/3,o=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:_r,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(_r,"M").concat(2*s,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(_r,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach(function(t){kr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete i.legendIcon,t.cloneElement(e.legendIcon,i)}return t.createElement(mr,{fill:o,cx:r,cy:r,size:_r,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,s=n.layout,o=n.formatter,i=n.inactiveColor,l={x:0,y:0,width:_r,height:_r},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var s=n.formatter||o,d=Z(kr(kr({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=_e()(n.value)?null:n.value;ke(!_e()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?i:n.color;return t.createElement("li",gr({className:d,style:c,key:"legend-item-".concat(r)},Re(e.props,n,r)),t.createElement(vt,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],a&&vr(r.prototype,a),s&&vr(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}kr(Nr,"displayName","Legend"),kr(Nr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Er=["ref"];function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach(function(t){Rr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lr(r.key),r)}}function Tr(e,t,n){return t=Dr(t),function(e,t){if(t&&("object"===Pr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cr()?Reflect.construct(t,n||[],Dr(e).constructor):t.apply(e,n))}function Cr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Cr=function(){return!!e})()}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function Mr(e,t){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mr(e,t)}function Rr(e,t,n){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e){var t=function(e,t){if("object"!=Pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pr(t)?t:t+""}function Br(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fr(e){return e.value}var Wr=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Rr(e=Tr(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mr(e,t)}(n,e),r=n,s=[{key:"getWithHeight",value:function(e,t){var n=Ar(Ar({},this.defaultProps),e.props).layout;return"vertical"===n&&me(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ar({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,s=r.align,o=r.verticalAlign,i=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:i&&i.right||0}:{left:i&&i.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),Ar(Ar({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,s=n.height,o=n.wrapperStyle,i=n.payloadUniqBy,l=n.payload,c=Ar(Ar({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=Br(n,Er);return t.createElement(Nr,r)}(r,Ar(Ar({},this.props),{},{payload:Jt(l,i,Fr)})))}}])&&Ir(r.prototype,a),s&&Ir(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}Rr(Wr,"displayName","Legend"),Rr(Wr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zr=function(e){var n=e.cx,r=e.cy,a=e.r,s=e.className,o=Z("recharts-dot",s);return n===+n&&r===+r&&a===+a?t.createElement("circle",Ur({},Je(e,!1),Me(e),{className:o,cx:n,cy:r,r:a})):null},Vr=n(5173),Hr=n.n(Vr),qr=Object.getOwnPropertyNames,Gr=Object.getOwnPropertySymbols,Kr=Object.prototype.hasOwnProperty;function Yr(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Qr(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,s=a.get(t),o=a.get(n);if(s&&o)return s===n&&o===t;a.set(t,n),a.set(n,t);var i=e(t,n,r);return a.delete(t),a.delete(n),i}}function Xr(e){return qr(e).concat(Gr(e))}var $r=Object.hasOwn||function(e,t){return Kr.call(e,t)};function Jr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Zr=Object.getOwnPropertyDescriptor,ea=Object.keys;function ta(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function na(e,t){return Jr(e.getTime(),t.getTime())}function ra(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aa(e,t){return e===t}function sa(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.entries(),l=0;(a=i.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(o[d])d++;else{var h=a.value,f=s.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var oa=Jr;function ia(e,t,n){var r=ea(e),a=r.length;if(ea(t).length!==a)return!1;for(;a-- >0;)if(!ma(e,t,n,r[a]))return!1;return!0}function la(e,t,n){var r,a,s,o=Xr(e),i=o.length;if(Xr(t).length!==i)return!1;for(;i-- >0;){if(!ma(e,t,n,r=o[i]))return!1;if(a=Zr(e,r),s=Zr(t,r),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function ca(e,t){return Jr(e.valueOf(),t.valueOf())}function ua(e,t){return e.source===t.source&&e.flags===t.flags}function da(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,o=new Array(r),i=e.values();(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!o[u]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function ha(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function fa(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ma(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||$r(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var pa=Array.isArray,ga="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ya=Object.assign,va=Object.prototype.toString.call.bind(Object.prototype.toString);var xa=ba();ba({strict:!0}),ba({circular:!0}),ba({circular:!0,strict:!0}),ba({createInternalComparator:function(){return Jr}}),ba({strict:!0,createInternalComparator:function(){return Jr}}),ba({circular:!0,createInternalComparator:function(){return Jr}}),ba({circular:!0,createInternalComparator:function(){return Jr},strict:!0});function ba(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,s=e.createState,o=e.strict,i=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?la:ta,areDatesEqual:na,areErrorsEqual:ra,areFunctionsEqual:aa,areMapsEqual:r?Yr(sa,la):sa,areNumbersEqual:oa,areObjectsEqual:r?la:ia,arePrimitiveWrappersEqual:ca,areRegExpsEqual:ua,areSetsEqual:r?Yr(da,la):da,areTypedArraysEqual:r?la:ha,areUrlsEqual:fa};if(n&&(a=ya({},a,n(a))),t){var s=Qr(a.areArraysEqual),o=Qr(a.areMapsEqual),i=Qr(a.areObjectsEqual),l=Qr(a.areSetsEqual);a=ya({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,i=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,m){if(e===f)return!0;if(null==e||null==f)return!1;var p=typeof e;if(p!==typeof f)return!1;if("object"!==p)return"number"===p?o(e,f,m):"function"===p&&a(e,f,m);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return i(e,f,m);if(pa(e))return t(e,f,m);if(null!=ga&&ga(e))return d(e,f,m);if(g===Date)return n(e,f,m);if(g===RegExp)return c(e,f,m);if(g===Map)return s(e,f,m);if(g===Set)return u(e,f,m);var y=va(e);return"[object Date]"===y?n(e,f,m):"[object RegExp]"===y?c(e,f,m):"[object Map]"===y?s(e,f,m):"[object Set]"===y?u(e,f,m):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&i(e,f,m):"[object URL]"===y?h(e,f,m):"[object Error]"===y?r(e,f,m):"[object Arguments]"===y?i(e,f,m):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,m)}}(l),u=a?a(c):(t=c,function(e,n,r,a,s,o,i){return t(e,n,i)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(e,o){var i=r(),l=i.cache,c=void 0===l?t?new WeakMap:void 0:l,u=i.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:s,equals:u,strict:i})}function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function ka(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _a(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=ka(r),s=a[0],o=a.slice(1);return"number"===typeof s?void wa(n.bind(null,o),s):(n(s),void wa(n.bind(null,o)))}"object"===Sa(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Na(e){return Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(e)}function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach(function(t){Oa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Na(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Na(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aa=function(e){return e},Ia=function(e,t){return Object.keys(t).reduce(function(n,r){return Ea(Ea({},n),{},Oa({},r,e(r,t[r])))},{})},Ta=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function Ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Ma(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ma(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){if(e){if("string"===typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ra(e,t):void 0}}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var La=1e-4,Ba=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Fa=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},Wa=function(e,t){return function(n){var r=Ba(e,t);return Fa(r,n)}},Ua=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],s=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,s=1,o=1;break;case"ease":r=.25,a=.1,s=.25,o=1;break;case"ease-in":r=.42,a=0,s=1,o=1;break;case"ease-out":r=.42,a=0,s=.58,o=1;break;case"ease-in-out":r=0,a=0,s=.58,o=1;break;default:var i=t[0].split("(");if("cubic-bezier"===i[0]&&4===i[1].split(")")[0].split(",").length){var l=i[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=Ca(l,4);r=c[0],a=c[1],s=c[2],o=c[3]}}[r,s,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=Wa(r,s),f=Wa(a,o),m=(u=r,d=s,function(e){var t=Ba(u,d),n=[].concat(Da(t.map(function(e,t){return e*t}).slice(1)),[0]);return Fa(n,e)}),p=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,s=m(n);if(Math.abs(a-t)<La||s<La)return f(n);n=p(n-a/s)}return f(n)};return g.isStepper=!1,g},za=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ua(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,s=e.dt,o=void 0===s?17:s,i=function(e,t,r){var s=r+(-(e-t)*n-r*a)*o/1e3,i=r*o/1e3+e;return Math.abs(i-t)<La&&Math.abs(s)<La?[t,0]:[i,s]};return i.isStepper=!0,i.dt=o,i}();default:if("cubic-bezier"===r.split("(")[0])return Ua(r)}return"function"===typeof r?r:null};function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function Ha(e){return function(e){if(Array.isArray(e))return Xa(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach(function(t){Ka(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ka(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Va(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Va(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Qa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){if(e){if("string"===typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $a=function(e,t,n){return e+(t-e)*n},Ja=function(e){return e.from!==e.to},Za=function e(t,n,r){var a=Ia(function(e,n){if(Ja(n)){var r=Ya(t(n.from,n.to,n.velocity),2),a=r[0],s=r[1];return Ga(Ga({},n),{},{from:a,velocity:s})}return n},n);return r<1?Ia(function(e,t){return Ja(t)?Ga(Ga({},t),{},{velocity:$a(t.velocity,a[e].velocity,r),from:$a(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const es=function(e,t,n,r,a){var s,o,i,l,c=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return Ga(Ga({},n),{},Ka({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return Ga(Ga({},n),{},Ka({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){i||(i=r);var s=(r-i)/n.dt;d=Za(n,d,s),a(Ga(Ga(Ga({},e),t),Ia(function(e,t){return t.from},d))),i=r,Object.values(d).filter(Ja).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var o=(s-l)/r,i=Ia(function(e,t){return $a.apply(void 0,Ha(t).concat([n(o)]))},u);if(a(Ga(Ga(Ga({},e),t),i)),o<1)h=requestAnimationFrame(f);else{var c=Ia(function(e,t){return $a.apply(void 0,Ha(t).concat([n(1)]))},u);a(Ga(Ga(Ga({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}var ns=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rs(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function as(e){return function(e){if(Array.isArray(e))return ss(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ss(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach(function(t){ls(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ls(e,t,n){return(t=us(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,us(r.key),r)}}function us(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ts(t)?t:String(t)}function ds(e,t){return ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ds(e,t)}function hs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=ps(e);if(t){var a=ps(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(e,t){if(t&&("object"===ts(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ms(e)}function ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ps(e)}var gs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ds(e,t)}(o,e);var n,r,a,s=hs(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=s.call(this,e,t)).props,a=r.isActive,i=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(ms(n)),n.changeStyle=n.changeStyle.bind(ms(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),fs(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},fs(n);n.state={style:i?ls({},i,l):l}}else n.state={style:{}};return n}return n=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,o=t.to,i=t.from,l=this.state.style;if(r)if(n){if(!(xa(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?i:e.to;if(this.state&&l){var d={style:a?ls({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(is(is({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?ls({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,s=e.easing,o=e.begin,i=e.onAnimationEnd,l=e.onAnimationStart,c=es(n,r,za(s),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,i])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,s=n[0],o=s.style,i=s.duration,l=void 0===i?0:i;return this.manager.start([a].concat(as(n.reduce(function(e,r,a){if(0===a)return e;var s=r.duration,o=r.easing,i=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof i||"spring"===i)return[].concat(as(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:i}),s]);var f=Ta(h,s,i),m=is(is(is({},d.style),l),{},{transition:f});return[].concat(as(e),[m,s,u]).filter(Aa)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=_a());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,s=e.easing,o=e.onAnimationStart,i=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=r?ls({},r,a):a,h=Ta(Object.keys(d),n,s);u.start([o,t,is(is({},d),{},{transition:h}),n,i])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,rs(e,ns)),o=t.Children.count(n),i=this.state.style;if("function"===typeof n)return n(i);if(!a||0===o||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,o=n.className;return(0,t.cloneElement)(e,is(is({},s),{},{style:is(is({},a),i),className:o}))};return 1===o?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&cs(n.prototype,r),a&&cs(n,a),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.PureComponent);gs.displayName="Animate",gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},gs.propTypes={from:Hr().oneOfType([Hr().object,Hr().string]),to:Hr().oneOfType([Hr().object,Hr().string]),attributeName:Hr().string,duration:Hr().number,begin:Hr().number,easing:Hr().oneOfType([Hr().string,Hr().func]),steps:Hr().arrayOf(Hr().shape({duration:Hr().number.isRequired,style:Hr().object.isRequired,easing:Hr().oneOfType([Hr().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Hr().func]),properties:Hr().arrayOf("string"),onAnimationEnd:Hr().func})),children:Hr().oneOfType([Hr().node,Hr().func]),isActive:Hr().bool,canBegin:Hr().bool,onAnimationEnd:Hr().func,shouldReAnimate:Hr().bool,onAnimationStart:Hr().func,onAnimationReStart:Hr().func};const ys=gs;function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(this,arguments)}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach(function(t){js(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function js(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vs(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _s=function(e,t,n,r,a){var s,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),i=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];s="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+i*u[1])),s+="L ".concat(e+n,",").concat(t+r-i*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-i*u[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);s="M ".concat(e,",").concat(t+i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+i*h,"\n            L ").concat(e+n,",").concat(t+r-i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-i*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},Ns=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,s=t.y,o=t.width,i=t.height;if(Math.abs(o)>0&&Math.abs(i)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(s,s+i),d=Math.max(s,s+i);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Ps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Es=function(e){var n=ks(ks({},Ps),e),r=(0,t.useRef)(),a=bs((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,m=n.animationDuration,p=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=Z("recharts-rectangle",h);return y?t.createElement(ys,{canBegin:s>0,from:{width:c,height:u,x:i,y:l},to:{width:c,height:u,x:i,y:l},duration:m,animationEasing:f,isActive:y},function(e){var a=e.width,o=e.height,i=e.x,l=e.y;return t.createElement(ys,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:g,easing:f},t.createElement("path",xs({},Je(n,!0),{className:v,d:_s(i,l,a,o,d),ref:r})))}):t.createElement("path",xs({},Je(n,!0),{className:v,d:_s(i,l,c,u,d)}))};function Os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Is extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Ts(this,e))}has(e){return super.has(Ts(this,e))}set(e,t){return super.set(Cs(this,e),t)}delete(e){return super.delete(Ds(this,e))}}Set;function Ts(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function Cs(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Ds(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Ms(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Rs=Symbol("implicit");function Ls(){var e=new Is,t=[],n=[],r=Rs;function a(a){let s=e.get(a);if(void 0===s){if(r!==Rs)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Is;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Ls(t,n).unknown(r)},Os.apply(a,arguments),a}function Bs(){var e,t,n=Ls().unknown(void 0),r=n.domain,a=n.range,s=0,o=1,i=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<s,h=d?o:s,f=d?s:o;e=(f-h)/Math.max(1,n-l+2*c),i&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),i&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return a(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,d()):[s,o]},n.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,i=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(i=!!e,d()):i},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Bs(r(),[s,o]).round(i).paddingInner(l).paddingOuter(c).align(u)},Os.apply(d(),arguments)}function Fs(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fs(t())},e}function Ws(){return Fs(Bs.apply(null,arguments).paddingInner(1))}function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach(function(t){Hs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Us(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Us(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs={widthCache:{},cacheCount:0},Gs={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ks="recharts_measurement_span";var Ys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Qt.isSsr)return{width:0,height:0};var n=function(e){var t=Vs({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(qs.widthCache[r])return qs.widthCache[r];try{var a=document.getElementById(Ks);a||((a=document.createElement("span")).setAttribute("id",Ks),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Vs(Vs({},Gs),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),i={width:o.width,height:o.height};return qs.widthCache[r]=i,++qs.cacheCount>2e3&&(qs.cacheCount=0,qs.widthCache={}),i}catch(l){return{width:0,height:0}}};function Qs(e){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(e)}function Xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zs(r.key),r)}}function Zs(e){var t=function(e,t){if("object"!=Qs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qs(t)?t:t+""}var eo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,to=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,no=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ro=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ao={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},so=Object.keys(ao),oo="NaN";var io=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||no.test(n)||(this.num=NaN,this.unit=""),so.includes(n)&&(this.num=function(e,t){return e*ao[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Xs(null!==(n=ro.exec(t))&&void 0!==n?n:[],3),a=r[1],s=r[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Js(t.prototype,n),r&&Js(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function lo(e){if(e.includes(oo))return oo;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Xs(null!==(n=eo.exec(t))&&void 0!==n?n:[],4),a=r[1],s=r[2],o=r[3],i=io.parse(null!==a&&void 0!==a?a:""),l=io.parse(null!==o&&void 0!==o?o:""),c="*"===s?i.multiply(l):i.divide(l);if(c.isNaN())return oo;t=t.replace(eo,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Xs(null!==(u=to.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],m=d[3],p=io.parse(null!==h&&void 0!==h?h:""),g=io.parse(null!==m&&void 0!==m?m:""),y="+"===f?p.add(g):p.subtract(g);if(y.isNaN())return oo;t=t.replace(to,y.toString())}return t}var co=/\(([^()]*)\)/;function uo(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Xs(co.exec(t),2)[1];t=t.replace(co,lo(n))}return t}(t),t=lo(t)}function ho(e){var t=function(e){try{return uo(e)}catch(t){return oo}}(e.slice(5,-1));return t===oo?"":t}var fo=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mo=["dx","dy","angle","className","breakAll"];function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(this,arguments)}function go(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xo=/[ \f\n\r\t\v\u2028\u2029]+/,bo=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return de()(t)||(a=n?t.toString().split(""):t.toString().split(xo)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ys(e,r).width}}),spaceWidth:n?0:Ys("\xa0",r).width}}catch(s){return null}},wo=function(e){return[{words:de()(e)?[]:e.toString().split(xo)}]},So=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((t||n)&&!Qt.isSsr){var i=bo({breakAll:s,children:r,style:a});return i?function(e,t,n,r,a){var s=e.maxLines,o=e.children,i=e.style,l=e.breakAll,c=me(s),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,o=t.width,i=e[e.length-1];if(i&&(null==r||a||i.width+o+n<Number(r)))i.words.push(s),i.width+=o+n;else{var l={words:[s],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,m=function(e){var t=u.slice(0,e),n=bo({breakAll:l,style:i,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},p=0,g=u.length-1,y=0;p<=g&&y<=u.length-1;){var v=Math.floor((p+g)/2),x=yo(m(v-1),2),b=x[0],w=x[1],S=yo(m(v),1)[0];if(b||S||(p=v+1),b&&S&&(g=v-1),!b&&S){f=w;break}y++}return f||h}({breakAll:s,children:r,maxLines:o,style:a},i.wordsWithComputedWidth,i.spaceWidth,t,n):wo(r)}return wo(r)},ko="#808080",jo=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.lineHeight,i=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,m=e.verticalAnchor,p=void 0===m?"end":m,g=e.fill,y=void 0===g?ko:g,v=go(e,fo),x=(0,t.useMemo)(function(){return So({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,S=v.angle,k=v.className,j=v.breakAll,_=go(v,mo);if(!pe(r)||!pe(s))return null;var N,P=r+(me(b)?b:0),E=s+(me(w)?w:0);switch(p){case"start":N=ho("calc(".concat(c,")"));break;case"middle":N=ho("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:N=ho("calc(".concat(x.length-1," * -").concat(i,")"))}var O=[];if(d){var A=x[0].width,I=v.width;O.push("scale(".concat((me(I)?I/A:1)/A,")"))}return S&&O.push("rotate(".concat(S,", ").concat(P,", ").concat(E,")")),O.length&&(_.transform=O.join(" ")),t.createElement("text",po({},Je(_,!0),{x:P,y:E,className:Z("recharts-text",k),textAnchor:f,fill:y.includes("url")?ko:y}),x.map(function(e,n){var r=e.words.join(j?"":" ");return t.createElement("tspan",{x:P,dy:0===n?N:i,key:"".concat(r,"-").concat(n)},r)}))};const _o=Math.sqrt(50),No=Math.sqrt(10),Po=Math.sqrt(2);function Eo(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=_o?10:s>=No?5:s>=Po?2:1;let i,l,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(e*c),l=Math.round(t*c),i/c<e&&++i,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,i=Math.round(e/c),l=Math.round(t/c),i*c<e&&++i,l*c>t&&--l),l<i&&.5<=n&&n<2?Eo(e,t,2*n):[i,l,c]}function Oo(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,o]=r?Eo(t,e,n):Eo(e,t,n);if(!(s>=a))return[];const i=s-a+1,l=new Array(i);if(r)if(o<0)for(let c=0;c<i;++c)l[c]=(s-c)/-o;else for(let c=0;c<i;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<i;++c)l[c]=(a+c)/-o;else for(let c=0;c<i;++c)l[c]=(a+c)*o;return l}function Ao(e,t,n){return Eo(e=+e,t=+t,n=+n)[2]}function Io(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Ao(t,e,n):Ao(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function To(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Co(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Do(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=To,n=(t,n)=>To(e(t),n),r=(t,n)=>e(t)-n):(t=e===To||e===Co?e:Mo,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function Mo(){return 0}function Ro(e){return null===e?NaN:+e}const Lo=Do(To),Bo=Lo.right,Fo=(Lo.left,Do(Ro).center,Bo);function Wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zo(){}var Vo=.7,Ho=1/Vo,qo="\\s*([+-]?\\d+)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yo=/^#([0-9a-f]{3,8})$/,Qo=new RegExp("^rgb\\(".concat(qo,",").concat(qo,",").concat(qo,"\\)$")),Xo=new RegExp("^rgb\\(".concat(Ko,",").concat(Ko,",").concat(Ko,"\\)$")),$o=new RegExp("^rgba\\(".concat(qo,",").concat(qo,",").concat(qo,",").concat(Go,"\\)$")),Jo=new RegExp("^rgba\\(".concat(Ko,",").concat(Ko,",").concat(Ko,",").concat(Go,"\\)$")),Zo=new RegExp("^hsl\\(".concat(Go,",").concat(Ko,",").concat(Ko,"\\)$")),ei=new RegExp("^hsla\\(".concat(Go,",").concat(Ko,",").concat(Ko,",").concat(Go,"\\)$")),ti={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ni(){return this.rgb().formatHex()}function ri(){return this.rgb().formatRgb()}function ai(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?si(t):3===n?new li(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?oi(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?oi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Qo.exec(e))?new li(t[1],t[2],t[3],1):(t=Xo.exec(e))?new li(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=$o.exec(e))?oi(t[1],t[2],t[3],t[4]):(t=Jo.exec(e))?oi(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zo.exec(e))?mi(t[1],t[2]/100,t[3]/100,1):(t=ei.exec(e))?mi(t[1],t[2]/100,t[3]/100,t[4]):ti.hasOwnProperty(e)?si(ti[e]):"transparent"===e?new li(NaN,NaN,NaN,0):null}function si(e){return new li(e>>16&255,e>>8&255,255&e,1)}function oi(e,t,n,r){return r<=0&&(e=t=n=NaN),new li(e,t,n,r)}function ii(e,t,n,r){return 1===arguments.length?function(e){return e instanceof zo||(e=ai(e)),e?new li((e=e.rgb()).r,e.g,e.b,e.opacity):new li}(e):new li(e,t,n,null==r?1:r)}function li(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ci(){return"#".concat(fi(this.r)).concat(fi(this.g)).concat(fi(this.b))}function ui(){const e=di(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(hi(this.r),", ").concat(hi(this.g),", ").concat(hi(this.b)).concat(1===e?")":", ".concat(e,")"))}function di(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fi(e){return((e=hi(e))<16?"0":"")+e.toString(16)}function mi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gi(e,t,n,r)}function pi(e){if(e instanceof gi)return new gi(e.h,e.s,e.l,e.opacity);if(e instanceof zo||(e=ai(e)),!e)return new gi;if(e instanceof gi)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(n-r)/i+6*(n<r):n===s?(r-t)/i+2:(t-n)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new gi(o,i,l,e.opacity)}function gi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function yi(e){return(e=(e||0)%360)<0?e+360:e}function vi(e){return Math.max(0,Math.min(1,e||0))}function xi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function bi(e,t,n,r,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*a)/6}Wo(zo,ai,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ni,formatHex:ni,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return pi(this).formatHsl()},formatRgb:ri,toString:ri}),Wo(li,ii,Uo(zo,{brighter(e){return e=null==e?Ho:Math.pow(Ho,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Vo:Math.pow(Vo,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(hi(this.r),hi(this.g),hi(this.b),di(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ci,formatHex:ci,formatHex8:function(){return"#".concat(fi(this.r)).concat(fi(this.g)).concat(fi(this.b)).concat(fi(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ui,toString:ui})),Wo(gi,function(e,t,n,r){return 1===arguments.length?pi(e):new gi(e,t,n,null==r?1:r)},Uo(zo,{brighter(e){return e=null==e?Ho:Math.pow(Ho,e),new gi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Vo:Math.pow(Vo,e),new gi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new li(xi(e>=240?e-240:e+120,a,r),xi(e,a,r),xi(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new gi(yi(this.h),vi(this.s),vi(this.l),di(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=di(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(yi(this.h),", ").concat(100*vi(this.s),"%, ").concat(100*vi(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const wi=e=>()=>e;function Si(e,t){return function(n){return e+n*t}}function ki(e){return 1===(e=+e)?ji:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wi(isNaN(t)?n:t)}}function ji(e,t){var n=t-e;return n?Si(e,n):wi(isNaN(e)?t:e)}const _i=function e(t){var n=ki(t);function r(e,t){var r=n((e=ii(e)).r,(t=ii(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),o=ji(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Ni(e){return function(t){var n,r,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(n=0;n<a;++n)r=ii(t[n]),s[n]=r.r||0,o[n]=r.g||0,i[n]=r.b||0;return s=e(s),o=e(o),i=e(i),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=i(e),r+""}}}Ni(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,i=r<t-1?e[r+2]:2*s-a;return bi((n-r/t)*t,o,a,s,i)}}),Ni(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],i=e[(r+2)%t];return bi((n-r/t)*t,a,s,o,i)}});function Pi(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r);for(n=0;n<a;++n)s[n]=Mi(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=s[n](e);return o}}function Ei(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ai(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Mi(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Ii=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ti=new RegExp(Ii.source,"g");function Ci(e,t){var n,r,a,s=Ii.lastIndex=Ti.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(n=Ii.exec(e))&&(r=Ti.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(n=n[0])===(r=r[0])?i[o]?i[o]+=r:i[++o]=r:(i[++o]=null,l.push({i:o,x:Oi(n,r)})),s=Ti.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function Di(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function Mi(e,t){var n,r=typeof t;return null==t||"boolean"===r?wi(t):("number"===r?Oi:"string"===r?(n=ai(t))?(t=n,_i):Ci:t instanceof ai?_i:t instanceof Date?Ei:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Di:Array.isArray(t)?Pi:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Ai:Oi)(e,t)}function Ri(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Li(e){return+e}var Bi=[0,1];function Fi(e){return e}function Wi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Ui(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Wi(a,r),s=n(o,s)):(r=Wi(r,a),s=n(s,o)),function(e){return s(r(e))}}function zi(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Wi(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(t){var n=Fo(e,t,1,r)-1;return s[n](a[n](t))}}function Vi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hi(){var e,t,n,r,a,s,o=Bi,i=Bi,l=Mi,c=Fi;function u(){var e=Math.min(o.length,i.length);return c!==Fi&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?zi:Ui,a=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),i,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(i,o.map(e),Oi)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Li),u()):o.slice()},d.range=function(e){return arguments.length?(i=Array.from(e),u()):i.slice()},d.rangeRound=function(e){return i=Array.from(e),l=Ri,u()},d.clamp=function(e){return arguments.length?(c=!!e||Fi,u()):c!==Fi},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function qi(){return Hi()(Fi,Fi)}var Gi,Ki=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yi(e){if(!(t=Ki.exec(e)))throw new Error("invalid format: "+e);var t;return new Qi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Qi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $i(e){return(e=Xi(Math.abs(e)))?e[1]:NaN}function Ji(e,t){var n=Xi(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Yi.prototype=Qi.prototype,Qi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Zi={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ji(100*e,t),r:Ji,s:function(e,t){var n=Xi(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Gi=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Xi(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function el(e){return e}var tl,nl,rl,al=Array.prototype.map,sl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ol(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?el:(t=al.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],o=0,i=t[0],l=0;a>0&&i>0&&(l+i+1>r&&(i=Math.max(1,r-l)),s.push(e.substring(a-=i,a+i)),!((l+=i+1)>r));)i=t[o=(o+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?el:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(al.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Yi(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(p=!0,v="g"):Zi[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?s:/[%p]/.test(v)?l:"",w=Zi[v],S=/[defgprs%]/.test(v);function k(e){var a,s,l,h=x,k=b;if("c"===v)k=w(e)+k,e="";else{var j=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),j&&0===+e&&"+"!==d&&(j=!1),h=(j?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===v?sl[8+Gi/3]:"")+k+(j&&"("===d?")":""),S)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?o+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}p&&!f&&(e=r(e,1/0));var _=h.length+e.length+k.length,N=_<m?new Array(m-_+1).join(t):"";switch(p&&f&&(e=r(N+e,N.length?m-k.length:1/0),N=""),n){case"<":e=h+e+k+N;break;case"=":e=h+N+e+k;break;case"^":e=N.slice(0,_=N.length>>1)+h+e+k+N.slice(_);break;default:e=N+h+e+k}return i(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Yi(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor($i(t)/3))),a=Math.pow(10,-r),s=sl[8+r/3];return function(e){return n(a*e)+s}}}}function il(e,t,n,r){var a,s=Io(e,t,n);switch((r=Yi(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($i(t)/3)))-$i(Math.abs(e)))}(s,o))||(r.precision=a),rl(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$i(t)-$i(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-$i(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return nl(r)}function ll(e){var t=e.domain;return e.ticks=function(e){var n=t();return Oo(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return il(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),o=0,i=s.length-1,l=s[o],c=s[i],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=i,i=a);u-- >0;){if((a=Ao(l,c,n))===r)return s[o]=l,s[i]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function cl(){var e=qi();return e.copy=function(){return Vi(e,cl())},Os.apply(e,arguments),ll(e)}function ul(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Li),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ul(e).unknown(t)},e=arguments.length?Array.from(e,Li):[0,1],ll(n)}function dl(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],o=e[a];return o<s&&(n=r,r=a,a=n,n=s,s=o,o=n),e[r]=t.floor(s),e[a]=t.ceil(o),e}function hl(e){return Math.log(e)}function fl(e){return Math.exp(e)}function ml(e){return-Math.log(-e)}function pl(e){return-Math.exp(-e)}function gl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yl(e){return(t,n)=>-e(-t,n)}function vl(e){const t=e(hl,fl),n=t.domain;let r,a,s=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?gl:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=yl(r),a=yl(a),e(ml,pl)):e(hl,fl),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],i=t[t.length-1];const l=i<o;l&&([o,i]=[i,o]);let c,u,d=r(o),h=r(i);const f=null==e?10:+e;let m=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;m.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>i)break;m.push(u)}2*m.length<f&&(m=Oo(o,i,f))}else m=Oo(d,h,Math.min(h-d,f)).map(a);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=Yi(n)).precision||(n.trim=!0),n=nl(n)),e===1/0)return n;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=o?n(e):""}},t.nice=()=>n(dl(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function xl(){const e=vl(Hi()).domain([1,10]);return e.copy=()=>Vi(e,xl()).base(e.base()),Os.apply(e,arguments),e}function bl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sl(e){var t=1,n=e(bl(t),wl(t));return n.constant=function(n){return arguments.length?e(bl(t=+n),wl(t)):t},ll(n)}function kl(){var e=Sl(Hi());return e.copy=function(){return Vi(e,kl()).constant(e.constant())},Os.apply(e,arguments)}function jl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _l(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nl(e){return e<0?-e*e:e*e}function Pl(e){var t=e(Fi,Fi),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Fi,Fi):.5===n?e(_l,Nl):e(jl(n),jl(1/n)):n},ll(t)}function El(){var e=Pl(Hi());return e.copy=function(){return Vi(e,El()).exponent(e.exponent())},Os.apply(e,arguments),e}function Ol(){return El.apply(null,arguments).exponent(.5)}function Al(e){return Math.sign(e)*e*e}function Il(){var e,t=qi(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Al(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Li)).map(Al)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Il(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Os.apply(a,arguments),ll(a)}function Tl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Cl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:To;if(e===To)return Ml;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Ml(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Rl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Ml:Dl(a);r>n;){if(r-n>600){const s=r-n+1,o=t-n+1,i=Math.log(s),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1);Rl(e,t,Math.max(n,Math.floor(t-o*l/s+c)),Math.min(r,Math.floor(t+(s-o)*l/s+c)),a)}const s=e[t];let o=n,i=r;for(Ll(e,n,t),a(e[r],s)>0&&Ll(e,n,r);o<i;){for(Ll(e,o,i),++o,--i;a(e[o],s)<0;)++o;for(;a(e[i],s)>0;)--i}0===a(e[n],s)?Ll(e,n,i):(++i,Ll(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}return e}function Ll(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Bl(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Cl(e);if(t>=1)return Tl(e);var r,a=(r-1)*t,s=Math.floor(a),o=Tl(Rl(e,s).subarray(0,s+1));return o+(Cl(e.subarray(s+1))-o)*(a-s)}}function Fl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ro;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e);return o+(+n(e[s+1],s+1,e)-o)*(a-s)}}function Wl(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=Fl(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[Fo(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(To),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return Wl().domain(t).range(n).unknown(e)},Os.apply(s,arguments)}function Ul(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function o(t){return null!=t&&t<=t?s[Fo(a,t,0,r)]:e}function i(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,i()):[t,n]},o.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,i()):s.slice()},o.invertExtent=function(e){var o=s.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return Ul().domain([t,n]).range(s).unknown(e)},Os.apply(ll(o),arguments)}function zl(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Fo(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return zl().domain(t).range(n).unknown(e)},Os.apply(a,arguments)}tl=ol({thousands:",",grouping:[3],currency:["$",""]}),nl=tl.format,rl=tl.formatPrefix;const Vl=1e3,Hl=6e4,ql=36e5,Gl=864e5,Kl=6048e5,Yl=2592e6,Ql=31536e6,Xl=new Date,$l=new Date;function Jl(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return o;let i;do{o.push(i=new Date(+n)),t(n,s),e(n)}while(i<n&&n<r);return o},a.filter=n=>Jl(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Xl.setTime(+t),$l.setTime(+r),e(Xl),e($l),Math.floor(n(Xl,$l))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Zl=Jl(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zl.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Jl(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zl:null);Zl.range;const ec=Jl(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCSeconds()),tc=(ec.range,Jl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vl)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getMinutes())),nc=(tc.range,Jl(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCMinutes())),rc=(nc.range,Jl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vl-e.getMinutes()*Hl)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getHours())),ac=(rc.range,Jl(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getUTCHours())),sc=(ac.range,Jl(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hl)/Gl,e=>e.getDate()-1)),oc=(sc.range,Jl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>e.getUTCDate()-1)),ic=(oc.range,Jl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>Math.floor(e/Gl)));ic.range;function lc(e){return Jl(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hl)/Kl)}const cc=lc(0),uc=lc(1),dc=lc(2),hc=lc(3),fc=lc(4),mc=lc(5),pc=lc(6);cc.range,uc.range,dc.range,hc.range,fc.range,mc.range,pc.range;function gc(e){return Jl(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Kl)}const yc=gc(0),vc=gc(1),xc=gc(2),bc=gc(3),wc=gc(4),Sc=gc(5),kc=gc(6),jc=(yc.range,vc.range,xc.range,bc.range,wc.range,Sc.range,kc.range,Jl(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),_c=(jc.range,Jl(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Nc=(_c.range,Jl(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Nc.every=e=>isFinite(e=Math.floor(e))&&e>0?Jl(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Nc.range;const Pc=Jl(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pc.every=e=>isFinite(e=Math.floor(e))&&e>0?Jl(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Pc.range;function Ec(e,t,n,r,a,s){const o=[[ec,1,Vl],[ec,5,5e3],[ec,15,15e3],[ec,30,3e4],[s,1,Hl],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,ql],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Gl],[r,2,1728e5],[n,1,Kl],[t,1,Yl],[t,3,7776e6],[e,1,Ql]];function i(t,n,r){const a=Math.abs(n-t)/r,s=Do(e=>{let[,,t]=e;return t}).right(o,a);if(s===o.length)return e.every(Io(t/Ql,n/Ql,r));if(0===s)return Zl.every(Math.max(Io(t,n,r),1));const[i,l]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return i.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:i(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},i]}const[Oc,Ac]=Ec(Pc,_c,yc,ic,ac,nc),[Ic,Tc]=Ec(Nc,jc,cc,sc,rc,tc);function Cc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Rc,Lc,Bc,Fc={"-":"",_:" ",0:"0"},Wc=/^\s*\d+/,Uc=/^%/,zc=/[\\^$*+?|[\]().{}]/g;function Vc(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function Hc(e){return e.replace(zc,"\\$&")}function qc(e){return new RegExp("^(?:"+e.map(Hc).join("|")+")","i")}function Gc(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Kc(e,t,n){var r=Wc.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=Wc.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $c(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Jc(e,t,n){var r=Wc.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Zc(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eu(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tu(e,t,n){var r=Wc.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function nu(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ru(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Wc.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function su(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ou(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Wc.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lu(e,t,n){var r=Wc.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cu(e,t,n){var r=Wc.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uu(e,t,n){var r=Uc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function du(e,t,n){var r=Wc.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hu(e,t,n){var r=Wc.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fu(e,t){return Vc(e.getDate(),t,2)}function mu(e,t){return Vc(e.getHours(),t,2)}function pu(e,t){return Vc(e.getHours()%12||12,t,2)}function gu(e,t){return Vc(1+sc.count(Nc(e),e),t,3)}function yu(e,t){return Vc(e.getMilliseconds(),t,3)}function vu(e,t){return yu(e,t)+"000"}function xu(e,t){return Vc(e.getMonth()+1,t,2)}function bu(e,t){return Vc(e.getMinutes(),t,2)}function wu(e,t){return Vc(e.getSeconds(),t,2)}function Su(e){var t=e.getDay();return 0===t?7:t}function ku(e,t){return Vc(cc.count(Nc(e)-1,e),t,2)}function ju(e){var t=e.getDay();return t>=4||0===t?fc(e):fc.ceil(e)}function _u(e,t){return e=ju(e),Vc(fc.count(Nc(e),e)+(4===Nc(e).getDay()),t,2)}function Nu(e){return e.getDay()}function Pu(e,t){return Vc(uc.count(Nc(e)-1,e),t,2)}function Eu(e,t){return Vc(e.getFullYear()%100,t,2)}function Ou(e,t){return Vc((e=ju(e)).getFullYear()%100,t,2)}function Au(e,t){return Vc(e.getFullYear()%1e4,t,4)}function Iu(e,t){var n=e.getDay();return Vc((e=n>=4||0===n?fc(e):fc.ceil(e)).getFullYear()%1e4,t,4)}function Tu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vc(t/60|0,"0",2)+Vc(t%60,"0",2)}function Cu(e,t){return Vc(e.getUTCDate(),t,2)}function Du(e,t){return Vc(e.getUTCHours(),t,2)}function Mu(e,t){return Vc(e.getUTCHours()%12||12,t,2)}function Ru(e,t){return Vc(1+oc.count(Pc(e),e),t,3)}function Lu(e,t){return Vc(e.getUTCMilliseconds(),t,3)}function Bu(e,t){return Lu(e,t)+"000"}function Fu(e,t){return Vc(e.getUTCMonth()+1,t,2)}function Wu(e,t){return Vc(e.getUTCMinutes(),t,2)}function Uu(e,t){return Vc(e.getUTCSeconds(),t,2)}function zu(e){var t=e.getUTCDay();return 0===t?7:t}function Vu(e,t){return Vc(yc.count(Pc(e)-1,e),t,2)}function Hu(e){var t=e.getUTCDay();return t>=4||0===t?wc(e):wc.ceil(e)}function qu(e,t){return e=Hu(e),Vc(wc.count(Pc(e),e)+(4===Pc(e).getUTCDay()),t,2)}function Gu(e){return e.getUTCDay()}function Ku(e,t){return Vc(vc.count(Pc(e)-1,e),t,2)}function Yu(e,t){return Vc(e.getUTCFullYear()%100,t,2)}function Qu(e,t){return Vc((e=Hu(e)).getUTCFullYear()%100,t,2)}function Xu(e,t){return Vc(e.getUTCFullYear()%1e4,t,4)}function $u(e,t){var n=e.getUTCDay();return Vc((e=n>=4||0===n?wc(e):wc.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ju(){return"+0000"}function Zu(){return"%"}function ed(e){return+e}function td(e){return Math.floor(+e/1e3)}function nd(e){return new Date(e)}function rd(e){return e instanceof Date?+e:+new Date(+e)}function ad(e,t,n,r,a,s,o,i,l,c){var u=qi(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:i(e)<e?m:o(e)<e?p:s(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,rd)):h().map(nd)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(dl(n,e)):u},u.copy=function(){return Vi(u,ad(e,t,n,r,a,s,o,i,l,c))},u}function sd(){return Os.apply(ad(Ic,Tc,Nc,jc,cc,sc,rc,tc,ec,Lc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function od(){return Os.apply(ad(Oc,Ac,Pc,_c,yc,oc,ac,nc,ec,Bc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function id(){var e,t,n,r,a,s=0,o=1,i=Fi,l=!1;function c(t){return null==t||isNaN(t=+t)?a:i(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,i=e(n,r),c):[i(0),i(1)]}}return c.domain=function(a){return arguments.length?([s,o]=a,e=r(s=+s),t=r(o=+o),n=e===t?0:1/(t-e),c):[s,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=u(Mi),c.rangeRound=u(Ri),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(o),n=e===t?0:1/(t-e),c}}function ld(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cd(){var e=ll(id()(Fi));return e.copy=function(){return ld(e,cd())},As.apply(e,arguments)}function ud(){var e=vl(id()).domain([1,10]);return e.copy=function(){return ld(e,ud()).base(e.base())},As.apply(e,arguments)}function dd(){var e=Sl(id());return e.copy=function(){return ld(e,dd()).constant(e.constant())},As.apply(e,arguments)}function hd(){var e=Pl(id());return e.copy=function(){return ld(e,hd()).exponent(e.exponent())},As.apply(e,arguments)}function fd(){return hd.apply(null,arguments).exponent(.5)}function md(){var e=[],t=Fi;function n(n){if(null!=n&&!isNaN(n=+n))return t((Fo(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(To),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Bl(e,r/t))},n.copy=function(){return md(t).domain(e)},As.apply(n,arguments)}function pd(){var e,t,n,r,a,s,o,i=0,l=.5,c=1,u=1,d=Fi,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Mi);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([i,l,c]=o,e=s(i=+i),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[i,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(Mi),f.rangeRound=m(Ri),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return s=o,e=o(i),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function gd(){var e=ll(pd()(Fi));return e.copy=function(){return ld(e,gd())},As.apply(e,arguments)}function yd(){var e=vl(pd()).domain([.1,1,10]);return e.copy=function(){return ld(e,yd()).base(e.base())},As.apply(e,arguments)}function vd(){var e=Sl(pd());return e.copy=function(){return ld(e,vd()).constant(e.constant())},As.apply(e,arguments)}function xd(){var e=Pl(pd());return e.copy=function(){return ld(e,xd()).exponent(e.exponent())},As.apply(e,arguments)}function bd(){return xd.apply(null,arguments).exponent(.5)}function wd(e,t){if((a=e.length)>1)for(var n,r,a,s=1,o=e[t[0]],i=o.length;s<a;++s)for(r=o,o=e[t[s]],n=0;n<i;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Rc=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,i=e.months,l=e.shortMonths,c=qc(a),u=Gc(a),d=qc(s),h=Gc(s),f=qc(o),m=Gc(o),p=qc(i),g=Gc(i),y=qc(l),v=Gc(l),x={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:fu,e:fu,f:vu,g:Ou,G:Iu,H:mu,I:pu,j:gu,L:yu,m:xu,M:bu,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ed,s:td,S:wu,u:Su,U:ku,V:_u,w:Nu,W:Pu,x:null,X:null,y:Eu,Y:Au,Z:Tu,"%":Zu},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:Cu,e:Cu,f:Bu,g:Qu,G:$u,H:Du,I:Mu,j:Ru,L:Lu,m:Fu,M:Wu,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ed,s:td,S:Uu,u:zu,U:Vu,V:qu,w:Gu,W:Ku,x:null,X:null,y:Yu,Y:Xu,Z:Ju,"%":Zu},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return j(e,t,n,r)},d:ru,e:ru,f:cu,g:Zc,G:Jc,H:su,I:su,j:au,L:lu,m:nu,M:ou,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:tu,Q:du,s:hu,S:iu,u:Yc,U:Qc,V:Xc,w:Kc,W:$c,x:function(e,t,r){return j(e,n,t,r)},X:function(e,t,n){return j(e,r,t,n)},y:Zc,Y:Jc,Z:eu,"%":uu};function S(e,t){return function(n){var r,a,s,o=[],i=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++i<c;)37===e.charCodeAt(i)&&(o.push(e.slice(l,i)),null!=(a=Fc[r=e.charAt(++i)])?r=e.charAt(++i):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),o.push(r),l=i+1);return o.push(e.slice(l,i)),o.join("")}}function k(e,t){return function(n){var r,a,s=Mc(1900,void 0,1);if(j(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=Dc(Mc(s.y,0,1))).getUTCDay(),r=a>4||0===a?vc.ceil(r):vc(r),r=oc.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=Cc(Mc(s.y,0,1))).getDay(),r=a>4||0===a?uc.ceil(r):uc(r),r=sc.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?Dc(Mc(s.y,0,1)).getUTCDay():Cc(Mc(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Dc(s)):Cc(s)}}function j(e,t,n,r){for(var a,s,o=0,i=t.length,l=n.length;o<i;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(s=w[a in Fc?t.charAt(o++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),{format:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Lc=Rc.format,Rc.parse,Bc=Rc.utcFormat,Rc.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Sd(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kd(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jd(e,t){return e[t]}function _d(e){const t=[];return t.key=e,t}var Nd=n(539),Pd=n.n(Nd),Ed=n(6745),Od=n.n(Ed),Ad=n(3538),Id=n.n(Ad),Td=n(9853),Cd=n.n(Td),Dd=n(8210),Md=n.n(Dd);function Rd(e){return function(e){if(Array.isArray(e))return Ld(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ld(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bd=function(e){return e},Fd={"@@functional/placeholder":!0},Wd=function(e){return e===Fd},Ud=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Wd(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},zd=function e(t,n){return 1===t?n:Ud(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(function(e){return e!==Fd}).length;return o>=t?n.apply(void 0,a):e(t-o,Ud(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=a.map(function(e){return Wd(e)?t.shift():e});return n.apply(void 0,Rd(s).concat(t))}))})},Vd=function(e){return zd(e.length,e)},Hd=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},qd=Vd(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Gd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Bd;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Kd=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yd=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var Qd=Vd(function(e,t,n){var r=+e;return r+n*(+t-r)}),Xd=Vd(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),$d=Vd(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Jd={rangeStep:function(e,t,n){for(var r=new(Md())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(Md())(e).abs().log(10).toNumber())+1},interpolateNumber:Qd,uninterpolateNumber:Xd,uninterpolateTruncation:$d};function Zd(e){return function(e){if(Array.isArray(e))return nh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||th(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}(e,t)||th(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){if(e){if("string"===typeof e)return nh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nh(e,t):void 0}}function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rh(e){var t=eh(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function ah(e,t,n){if(e.lte(0))return new(Md())(0);var r=Jd.getDigitCount(e.toNumber()),a=new(Md())(10).pow(r),s=e.div(a),o=1!==r?.05:.1,i=new(Md())(Math.ceil(s.div(o).toNumber())).add(n).mul(o).mul(a);return t?i:new(Md())(Math.ceil(i))}function sh(e,t,n){var r=1,a=new(Md())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(Md())(10).pow(Jd.getDigitCount(e)-1),a=new(Md())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(Md())(Math.floor(e)))}else 0===e?a=new(Md())(Math.floor((t-1)/2)):n||(a=new(Md())(Math.floor(e)));var o=Math.floor((t-1)/2);return Gd(qd(function(e){return a.add(new(Md())(e-o).mul(r)).toNumber()}),Hd)(0,t)}function oh(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Md())(0),tickMin:new(Md())(0),tickMax:new(Md())(0)};var s,o=ah(new(Md())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(Md())(0):(s=new(Md())(e).add(t).div(2)).sub(new(Md())(s).mod(o));var i=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new(Md())(t).sub(s).div(o).toNumber()),c=i+l+1;return c>n?oh(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,i=t>0?i:i+(n-c)),{step:o,tickMin:s.sub(new(Md())(i).mul(o)),tickMax:s.add(new(Md())(l).mul(o))})}var ih=Yd(function(e){var t=eh(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=eh(rh([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Zd(Hd(0,a-1).map(function(){return 1/0}))):[].concat(Zd(Hd(0,a-1).map(function(){return-1/0})),[c]);return n>r?Kd(u):u}if(l===c)return sh(l,a,s);var d=oh(l,c,o,s),h=d.step,f=d.tickMin,m=d.tickMax,p=Jd.rangeStep(f,m.add(new(Md())(.1).mul(h)),h);return n>r?Kd(p):p}),lh=(Yd(function(e){var t=eh(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=eh(rh([n,r]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return sh(l,a,s);var u=ah(new(Md())(c).sub(l).div(o-1),s,0),d=Gd(qd(function(e){return new(Md())(l).add(new(Md())(e).mul(u)).toNumber()}),Hd)(0,o).filter(function(e){return e>=l&&e<=c});return n>r?Kd(d):d}),Yd(function(e,t){var n=eh(e,2),r=n[0],a=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=eh(rh([r,a]),2),i=o[0],l=o[1];if(i===-1/0||l===1/0)return[r,a];if(i===l)return[i];var c=Math.max(t,2),u=ah(new(Md())(l).sub(i).div(c-1),s,0),d=[].concat(Zd(Jd.rangeStep(new(Md())(i),new(Md())(l).sub(new(Md())(.99).mul(u)),u)),[l]);return r>a?Kd(d):d})),ch=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uh(e){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(this,arguments)}function hh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mh(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wh(r.key),r)}}function gh(e,t,n){return t=vh(t),function(e,t){if(t&&("object"===uh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yh()?Reflect.construct(t,n||[],vh(e).constructor):t.apply(e,n))}function yh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yh=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(e)}function xh(e,t){return xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xh(e,t)}function bh(e,t,n){return(t=wh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e){var t=function(e,t){if("object"!=uh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uh(t)?t:t+""}var Sh=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),gh(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xh(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,s=e.dataKey,o=e.data,i=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=mh(e,ch),d=Je(u,!1);"x"===this.props.direction&&"number"!==l.type&&mt(!1);var h=o.map(function(e){var o=i(e,s),u=o.x,h=o.y,f=o.value,m=o.errorVal;if(!m)return null;var p,g,y=[];if(Array.isArray(m)){var v=hh(m,2);p=v[0],g=v[1]}else p=g=m;if("vertical"===r){var x=l.scale,b=h+n,w=b+a,S=b-a,k=x(f-p),j=x(f+g);y.push({x1:j,y1:w,x2:j,y2:S}),y.push({x1:k,y1:b,x2:j,y2:b}),y.push({x1:k,y1:w,x2:k,y2:S})}else if("horizontal"===r){var _=c.scale,N=u+n,P=N-a,E=N+a,O=_(f-p),A=_(f+g);y.push({x1:P,y1:A,x2:E,y2:A}),y.push({x1:N,y1:O,x2:N,y2:A}),y.push({x1:P,y1:O,x2:E,y2:O})}return t.createElement(St,dh({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",dh({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(St,{className:"recharts-errorBars"},h)}}],a&&ph(r.prototype,a),s&&ph(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(t){Nh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bh(Sh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),bh(Sh,"displayName","ErrorBar");var Ph=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,s=Ke(t,Wr);if(!s)return null;var o,i=Wr.defaultProps,l=void 0!==i?_h(_h({},i),s.props):{};return o=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?_h(_h({},n),t.props):{},a=r.dataKey,s=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:Rh(t),value:s||a,payload:r}}),_h(_h(_h({},l),Wr.getWithHeight(s,r)),{},{payload:o,item:s})};function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function Oh(e){return function(e){if(Array.isArray(e))return Ah(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ah(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ah(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(t){Ch(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ch(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dh(e,t,n){return de()(e)||de()(t)?n:pe(t)?ie()(e,t,n):_e()(t)?t(e):n}function Mh(e,t,n,r){var a=Id()(e,function(e){return Dh(e,t)});if("number"===n){var s=a.filter(function(e){return me(e)||parseFloat(e)});return s.length?[Od()(s),Pd()(s)]:[1/0,-1/0]}return(r?a.filter(function(e){return!de()(e)}):a).map(function(e){return pe(e)||e instanceof Date?e:""})}var Rh=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:o;break;default:n=o}return n},Lh=function(e,t,n,r,a){var s=Ge(t.props.children,Sh).filter(function(e){return function(e,t,n){return!!de()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(s&&s.length){var o=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=Dh(t,n);if(de()(r))return e;var a=Array.isArray(r)?[Od()(r),Pd()(r)]:[r,r],s=o.reduce(function(e,n){var r=Dh(t,n,0),s=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},Bh=function(e,t,n,r,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&Lh(e,t,s,r)||Mh(e,s,n,a)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return s.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},Fh=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Wh=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,s,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate});return a||o.push(t),s||o.push(n),o},Uh=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,i="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/i:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*he(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!se()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},zh=new WeakMap,Vh=function(e,t){if("function"!==typeof t)return e;zh.has(e)||zh.set(e,new WeakMap);var n=zh.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Hh=1e-4,qh={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,o=0;o<t;++o){var i=se()(e[o][n][1])?e[o][n][0]:e[o][n][1];i>=0?(e[o][n][0]=a,e[o][n][1]=a+i,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+i,s=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,o=e[0].length;s<o;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}wd(e,t)}},none:wd,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var o=0,i=0;o<n;++o)i+=e[o][r][1]||0;a[r][1]+=a[r][0]=-i/2}wd(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,o=1;o<r;++o){for(var i=0,l=0,c=0;i<a;++i){for(var u=e[t[i]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<i;++f){var m=e[t[f]];h+=(m[o][1]||0)-(m[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=s,l&&(s-=c/l)}n[o-1][1]+=n[o-1][0]=s,wd(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var o=se()(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},Gh=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=qh[n],s=function(){var e=Rn([]),t=kd,n=wd,r=jd;function a(a){var s,o,i=Array.from(e.apply(this,arguments),_d),l=i.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(i[s][c]=[0,+r(e,i[s].key,c,a)]).data=e;for(s=0,o=Sd(t(i));s<l;++s)i[o[s]].index=s;return n(i,o),i}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Rn(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Rn(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?kd:"function"===typeof e?e:Rn(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?wd:e,a):n},a}().keys(r).value(function(e,t){return+Dh(e,t,0)}).order(kd).offset(a);return s(e)};function Kh(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!de()(a[t.dataKey])){var i=we(n,"value",a[t.dataKey]);if(i)return i.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Dh(a,de()(o)?t.dataKey:o);return de()(l)?null:t.scale(l)}var Yh=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,s=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var i=Dh(s,t.dataKey,t.domain[o]);return de()(i)?null:t.scale(i)-a/2+r},Qh=function(e,t,n){return Object.keys(e).reduce(function(r,a){var s=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[Od()(t.concat([e[0]]).filter(me)),Pd()(t.concat([e[1]]).filter(me))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Xh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$h=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jh=function(e,t,n){if(_e()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(me(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Xh.test(e[0])){var a=+Xh.exec(e[0])[1];r[0]=t[0]-a}else _e()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(me(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if($h.test(e[1])){var s=+$h.exec(e[1])[1];r[1]=t[1]+s}else _e()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Zh=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=ht()(t,function(e){return e.coordinate}),s=1/0,o=1,i=a.length;o<i;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ef=function(e,t,n){return e&&e.length?Cd()(e,ie()(n,"type.defaultProps.domain"))?t:e:t},tf=function(e,t){var n=e.type.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,s=n.unit,o=n.formatter,i=n.tooltipType,l=n.chartType,c=n.hide;return Th(Th({},Je(e,!1)),{},{dataKey:r,unit:s,formatter:o,name:a||r,color:Rh(e),value:Dh(t,r),type:i,payload:t,chartType:l,hide:c})};function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach(function(t){sf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var of=["Webkit","Moz","O","ms"];function lf(e){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach(function(t){yf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vf(r.key),r)}}function ff(e,t,n){return t=pf(t),function(e,t){if(t&&("object"===lf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mf()?Reflect.construct(t,n||[],pf(e).constructor):t.apply(e,n))}function mf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mf=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pf(e)}function gf(e,t){return gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gf(e,t)}function yf(e,t,n){return(t=vf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vf(e){var t=function(e,t){if("object"!=lf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lf(t)?t:t+""}var xf=function(e){return e.changedTouches&&!!e.changedTouches.length},bf=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),yf(t=ff(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),yf(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),yf(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),yf(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),yf(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),yf(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),yf(t,"handleSlideDragStart",function(e){var n=xf(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gf(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,s=this.props,o=s.gap,i=s.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===i?i:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,s=Dh(n[e],a,e);return _e()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,s=this.props,o=s.x,i=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+i-l-a,o+i-l-r):h<0&&(h=Math.max(h,o-r,o-a));var f=this.getIndex({startX:r+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=xf(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,s=t.startX,o=this.state[r],i=this.props,l=i.x,c=i.width,u=i.travellerWidth,d=i.onChange,h=i.gap,f=i.data,m={startX:this.state.startX,endX:this.state.endX},p=e.pageX-n;p>0?p=Math.min(p,l+c-u-o):p<0&&(p=Math.max(p,l-o)),m[r]=o+p;var g=this.getIndex(m),y=g.startIndex,v=g.endIndex;this.setState(yf(yf({},r,o+p),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(a>s?y%h===0:v%h===0)||a<s&&v===e||"endX"===r&&(a>s?v%h===0:y%h===0)||a>s&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,s=r.startX,o=r.endX,i=this.state[t],l=a.indexOf(i);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=s||this.setState(yf({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.fill,i=e.stroke;return t.createElement("rect",{stroke:i,fill:o,x:n,y:r,width:a,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.data,i=e.children,l=e.padding,c=t.Children.only(i);return c?t.cloneElement(c,{x:n,y:r,width:a,height:s,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,s,o=this,i=this.props,l=i.y,c=i.travellerWidth,u=i.height,d=i.traveller,h=i.ariaLabel,f=i.data,m=i.startIndex,p=i.endIndex,g=Math.max(e,this.props.x),y=df(df({},Je(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=f[m])||void 0===a?void 0:a.name,", Max value: ").concat(null===(s=f[p])||void 0===s?void 0:s.name);return t.createElement(St,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,s=r.height,o=r.stroke,i=r.travellerWidth,l=Math.min(e,n)+i,c=Math.max(Math.abs(n-e)-i,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,s=e.height,o=e.travellerWidth,i=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:i};return t.createElement(St,{className:"recharts-brush-texts"},t.createElement(jo,cf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+s/2},d),this.getTextOfTick(n)),t.createElement(jo,cf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+s/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,s=e.x,o=e.y,i=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,m=u.isSlideMoving,p=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!me(s)||!me(o)||!me(i)||!me(l)||i<=0||l<=0)return null;var y=Z("recharts-brush",r),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=of.reduce(function(e,r){return af(af({},e),{},sf({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(St,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||m||p||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,s=e.height,o=e.stroke,i=Math.floor(r+s/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:s,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:i,x2:n+a-1,y2:i,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:i+2,x2:n+a-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):_e()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,s=e.travellerWidth,o=e.updateId,i=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return df({prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var i=t.length,l=Ws().domain(ut()(0,i)).range([a,a+s-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:s,startIndex:i,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+r-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&hf(r.prototype,a),s&&hf(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function wf(e){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(e)}function Sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(n),!0).forEach(function(t){jf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yf(bf,"displayName","Brush"),yf(bf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _f=Math.PI/180,Nf=function(e){return 180*e/Math.PI},Pf=function(e,t,n,r){return{x:e+Math.cos(-_f*r)*n,y:t+Math.sin(-_f*r)*n}},Ef=function(e,t){var n=e.x,r=e.y,a=t.cx,s=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2))}({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o};var i=(n-a)/o,l=Math.acos(i);return r>s&&(l=2*Math.PI-l),{radius:o,angle:Nf(l),angleInRadian:l}},Of=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},Af=function(e,t){var n=e.x,r=e.y,a=Ef({x:n,y:r},t),s=a.radius,o=a.angle,i=t.innerRadius,l=t.outerRadius;if(s<i||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?kf(kf({},t),{},{radius:s,angle:Of(f,t)}):null};function If(e){return If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(e)}var Tf=["offset"];function Cf(e){return function(e){if(Array.isArray(e))return Df(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Df(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rf(Object(n),!0).forEach(function(t){Bf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=If(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=If(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==If(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}var Wf=function(e,n,r){var a,s,o=e.position,i=e.viewBox,l=e.offset,c=e.className,u=i,d=u.cx,h=u.cy,f=u.innerRadius,m=u.outerRadius,p=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+m)/2,x=function(e,t){return he(t-e)*Math.min(Math.abs(t-e),360)}(p,g),b=x>=0?1:-1;"insideStart"===o?(a=p+b*l,s=y):"insideEnd"===o?(a=g-b*l,s=!y):"end"===o&&(a=g+b*l,s=y),s=x<=0?s:!s;var w=Pf(d,h,v,a),S=Pf(d,h,v,a+359*(s?1:-1)),k="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(S.x,",").concat(S.y),j=de()(e.id)?ye("recharts-radial-line-"):e.id;return t.createElement("text",Ff({},r,{dominantBaseline:"central",className:Z("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:j,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(j)},n))};function Uf(e){var n,r=e.offset,a=Lf({offset:void 0===r?5:r},Mf(e,Tf)),s=a.viewBox,o=a.position,i=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!s||de()(i)&&de()(l)&&!(0,t.isValidElement)(c)&&!_e()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(_e()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=de()(e.children)?t:e.children;return _e()(n)?n(r):r}(a);var f=function(e){return"cx"in e&&me(e.cx)}(s),m=Je(a,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return Wf(a,n,m);var p=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,s=a.cx,o=a.cy,i=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=Pf(s,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=Pf(s,o,(i+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,s=t,o=s.x,i=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",m=l>=0?1:-1,p=m*r,g=m>0?"end":"start",y=m>0?"start":"end";if("top"===a)return Lf(Lf({},{x:o+l/2,y:i-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(i-n.y,0),width:l}:{});if("bottom"===a)return Lf(Lf({},{x:o+l/2,y:i+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(i+c),0),width:l}:{});if("left"===a){var v={x:o-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"};return Lf(Lf({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"};return Lf(Lf({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?Lf({x:o+p,y:i+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?Lf({x:o+l-p,y:i+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?Lf({x:o+l/2,y:i+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?Lf({x:o+l/2,y:i+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?Lf({x:o+p,y:i+d,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===a?Lf({x:o+l-p,y:i+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?Lf({x:o+p,y:i+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===a?Lf({x:o+l-p,y:i+c-d,textAnchor:g,verticalAnchor:h},b):Pe()(a)&&(me(a.x)||fe(a.x))&&(me(a.y)||fe(a.y))?Lf({x:o+ve(a.x,l),y:i+ve(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Lf({x:o+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(jo,Ff({className:Z("recharts-label",d)},m,p,{breakAll:h}),n)}Uf.displayName="Label";var zf=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,i=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,m=e.width,p=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(me(m)&&me(p)){if(me(u)&&me(d))return{x:u,y:d,width:m,height:p};if(me(h)&&me(f))return{x:h,y:f,width:m,height:p}}return me(u)&&me(d)?{x:u,y:d,width:0,height:0}:me(t)&&me(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||i||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};Uf.parseViewBox=zf,Uf.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=zf(e),o=Ge(a,Uf).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||s,key:"label-".concat(r)})});if(!r)return o;var i=function(e,n){return e?!0===e?t.createElement(Uf,{key:"label-implicit",viewBox:n}):pe(e)?t.createElement(Uf,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===Uf?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(Uf,{key:"label-implicit",content:e,viewBox:n}):_e()(e)?t.createElement(Uf,{key:"label-implicit",content:e,viewBox:n}):Pe()(e)?t.createElement(Uf,Ff({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||s);return[i].concat(Cf(o))};var Vf=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Hf=n(1733),qf=n.n(Hf),Gf=n(7002),Kf=n.n(Gf),Yf=function(e){return null};Yf.displayName="Cell";var Qf=n(4065),Xf=n.n(Qf);function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}var Jf=["valueAccessor"],Zf=["data","dataKey","clockWise","id","textBreakAll"];function em(e){return function(e){if(Array.isArray(e))return tm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nm.apply(this,arguments)}function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach(function(t){sm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$f(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function om(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var im=function(e){return Array.isArray(e.value)?Xf()(e.value):e.value};function lm(e){var n=e.valueAccessor,r=void 0===n?im:n,a=om(e,Jf),s=a.data,o=a.dataKey,i=a.clockWise,l=a.id,c=a.textBreakAll,u=om(a,Zf);return s&&s.length?t.createElement(St,{className:"recharts-label-list"},s.map(function(e,n){var a=de()(o)?r(e,n):Dh(e&&e.payload,o),s=de()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(Uf,nm({},Je(e,!0),u,s,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:Uf.parseViewBox(de()(i)?e:am(am({},e),{},{clockWise:i})),key:"label-".concat(n),index:n}))})):null}lm.displayName="LabelList",lm.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=Ge(e.children,lm).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(lm,{key:"labelList-implicit",data:n}):t.isValidElement(e)||_e()(e)?t.createElement(lm,{key:"labelList-implicit",data:n,content:e}):Pe()(e)?t.createElement(lm,nm({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(em(a)):a};var cm=n(2322),um=n.n(cm),dm=n(6361),hm=n.n(dm);function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(this,arguments)}function pm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach(function(t){xm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bm=function(e,t,n,r,a){var s,o=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-o/2,",").concat(t+a),s+="L ".concat(e+n-o/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},wm={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sm=function(e){var n=vm(vm({},wm),e),r=(0,t.useRef)(),a=pm((0,t.useState)(-1),2),s=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var i=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,m=n.animationDuration,p=n.animationBegin,g=n.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=Z("recharts-trapezoid",h);return g?t.createElement(ys,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:i,y:l},duration:m,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,i=e.height,l=e.x,c=e.y;return t.createElement(ys,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},t.createElement("path",mm({},Je(n,!0),{className:y,d:bm(l,c,a,o,i),ref:r})))}):t.createElement("g",null,t.createElement("path",mm({},Je(n,!0),{className:y,d:bm(i,l,c,u,d)})))};function km(e){return km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(e)}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jm.apply(this,arguments)}function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach(function(t){Pm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=km(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=km(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==km(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Em=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,s=e.sign,o=e.isExternal,i=e.cornerRadius,l=e.cornerIsExternal,c=i*(o?1:-1)+r,u=Math.asin(i/c)/_f,d=l?a:a+s*u,h=l?a-s*u:a;return{center:Pf(t,n,c,d),circleTangency:Pf(t,n,r,d),lineTangency:Pf(t,n,c*Math.cos(u*_f),h),theta:u}},Om=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=function(e,t){return he(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),i=s+o,l=Pf(t,n,a,s),c=Pf(t,n,a,i),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>i),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Pf(t,n,r,s),h=Pf(t,n,r,i);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=i),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Am={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Im=function(e){var n=Nm(Nm({},Am),e),r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,i=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<s||u===d)return null;var f,m=Z("recharts-sector",h),p=o-s,g=ve(i,p,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,i=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=he(c-l),d=Em({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:i}),h=d.circleTangency,f=d.lineTangency,m=d.theta,p=Em({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:i}),g=p.circleTangency,y=p.lineTangency,v=p.theta,x=i?Math.abs(l-c):Math.abs(l-c)-m-v;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):Om({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=Em({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),S=w.circleTangency,k=w.lineTangency,j=w.theta,_=Em({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),N=_.circleTangency,P=_.lineTangency,E=_.theta,O=i?Math.abs(l-c):Math.abs(l-c)-j-E;if(O<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Om({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",jm({},Je(n,!0),{className:m,d:f,role:"img"}))},Tm=["option","shapeType","propTransformer","activeClassName","isActive"];function Cm(e){return Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(e)}function Dm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mm(Object(n),!0).forEach(function(t){Lm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Cm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bm(e,t){return Rm(Rm({},t),e)}function Fm(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(Es,r);case"trapezoid":return t.createElement(Sm,r);case"sector":return t.createElement(Im,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(mr,r);break;default:return null}}function Wm(e){var n,r=e.option,a=e.shapeType,s=e.propTransformer,o=void 0===s?Bm:s,i=e.activeClassName,l=void 0===i?"recharts-active-shape":i,c=e.isActive,u=Dm(e,Tm);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,Rm(Rm({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(_e()(r))n=r(u);else if(um()(r)&&!hm()(r)){var d=o(r,u);n=t.createElement(Fm,{shapeType:a,elementProps:d})}else{var h=u;n=t.createElement(Fm,{shapeType:a,elementProps:h})}return c?t.createElement(St,{className:l},n):n}function Um(e,t){return null!=t&&"trapezoids"in e.props}function zm(e,t){return null!=t&&"sectors"in e.props}function Vm(e,t){return null!=t&&"points"in e.props}function Hm(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&s}function qm(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Gm(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function Km(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return Um(e,t)?n="trapezoids":zm(e,t)?n="sectors":Vm(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return Um(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:zm(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Vm(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=Cd()(s,e),i=n.props[a].filter(function(e){var r=function(e,t){var n;return Um(e,t)?n=Hm:zm(e,t)?n=qm:Vm(e,t)&&(n=Gm),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(i[i.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var Ym=["x","y"];function Qm(e){return Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xm.apply(this,arguments)}function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach(function(t){Zm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tp(e,t){var n=e.x,r=e.y,a=ep(e,Ym),s="".concat(n),o=parseInt(s,10),i="".concat(r),l=parseInt(i,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Jm(Jm(Jm(Jm(Jm({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function np(e){return t.createElement(Wm,Xm({shapeType:"rectangle",propTransformer:tp,activeClassName:"recharts-active-bar"},e))}var rp,ap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=me(n)||function(e){return de()(e)}(n);return a?e(n,r):(a||mt(!1),t)}},sp=["value","background"];function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function ip(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lp.apply(this,arguments)}function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(n),!0).forEach(function(t){gp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yp(r.key),r)}}function hp(e,t,n){return t=mp(t),function(e,t){if(t&&("object"===op(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fp()?Reflect.construct(t,n||[],mp(e).constructor):t.apply(e,n))}function fp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fp=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mp(e)}function pp(e,t){return pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pp(e,t)}function gp(e,t,n){return(t=yp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yp(e){var t=function(e,t){if("object"!=op(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==op(t)?t:t+""}var vp=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return gp(e=hp(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),gp(e,"id",ye("recharts-bar-")),gp(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),gp(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pp(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.dataKey,o=r.activeIndex,i=r.activeBar,l=Je(this.props,!1);return e&&e.map(function(e,r){var c=r===o,u=c?i:a,d=up(up(up({},l),e),{},{isActive:c,option:u,index:r,dataKey:s,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(St,lp({className:"recharts-bar-rectangle"},Re(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(np,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,s=n.isAnimationActive,o=n.animationBegin,i=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(ys,{begin:o,duration:i,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var s=n.t,o=r.map(function(e,t){var n=u&&u[t];if(n){var r=be(n.x,e.x),o=be(n.y,e.y),i=be(n.width,e.width),l=be(n.height,e.height);return up(up({},e),{},{x:r(s),y:o(s),width:i(s),height:l(s)})}if("horizontal"===a){var c=be(0,e.height)(s);return up(up({},e),{},{y:e.y+e.height-c,height:c})}var d=be(0,e.width)(s);return up(up({},e),{},{width:d})});return t.createElement(St,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Cd()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,s=n.activeIndex,o=Je(this.props.background,!1);return r.map(function(n,r){n.value;var i=n.background,l=ip(n,sp);if(!i)return null;var c=up(up(up(up(up({},l),{},{fill:"#eee"},i),o),Re(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(np,lp({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ge(r.children,Sh);if(!l)return null;var c="vertical"===i?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Dh(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(St,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,s=e.xAxis,o=e.yAxis,i=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,p=Z("recharts-bar",a),g=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,x=de()(f)?this.id:f;return t.createElement(St,{className:p},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?i:i-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(St,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||m)&&lm.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&dp(r.prototype,a),s&&dp(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function xp(e){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jp(r.key),r)}}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(n),!0).forEach(function(t){kp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kp(e,t,n){return(t=jp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jp(e){var t=function(e,t){if("object"!=xp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xp(t)?t:t+""}rp=vp,gp(vp,"displayName","Bar"),gp(vp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),gp(vp,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var m=t.layout,p=n.type.defaultProps,g=void 0!==p?up(up({},p),n.props):n.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===m?o:s,w=c?b.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),k=Ge(v,Yf),j=d.map(function(e,t){var r,d,h,p,g,v;c?r=function(e,t){if(!t||2!==t.length||!me(t[0])||!me(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!me(e[0])||e[0]<n)&&(a[0]=n),(!me(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=Dh(e,y),Array.isArray(r)||(r=[S,r]));var b=ap(x,rp.defaultProps.minPointSize)(r[1],t);if("horizontal"===m){var j,_=[o.scale(r[0]),o.scale(r[1])],N=_[0],P=_[1];d=Yh({axis:s,ticks:i,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(j=null!==P&&void 0!==P?P:N)&&void 0!==j?j:void 0,p=f.size;var E=N-P;if(g=Number.isNaN(E)?0:E,v={x:d,y:o.y,width:p,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var O=he(g||b)*(Math.abs(b)-Math.abs(g));h-=O,g+=O}}else{var A=[s.scale(r[0]),s.scale(r[1])],I=A[0],T=A[1];if(d=I,h=Yh({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),p=T-I,g=f.size,v={x:s.x,y:h,width:s.width,height:g},Math.abs(b)>0&&Math.abs(p)<Math.abs(b))p+=he(p||b)*(Math.abs(b)-Math.abs(p))}return up(up(up({},e),{},{x:d,y:h,width:p,height:g,value:c?r:r[1],payload:e,background:v},k&&k[t]&&k[t].props),{},{tooltipPayload:[tf(n,e)],tooltipPosition:{x:d+p/2,y:h+g/2}})});return up({data:j,layout:m},h)});var _p=function(t,n,r,a,s){var o=t.width,i=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},h=!!Ke(c,vp);return u.reduce(function(o,i){var c,u,f,m,p,g=n[i],y=g.orientation,v=g.domain,x=g.padding,b=void 0===x?{}:x,w=g.mirror,S=g.reversed,k="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var j=v[1]-v[0],_=1/0,N=g.categoricalDomain.sort(Se);if(N.forEach(function(e,t){t>0&&(_=Math.min((e||0)-(N[t-1]||0),_))}),Number.isFinite(_)){var P=_/j,E="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*E/2),"no-gap"===g.padding){var O=ve(t.barCategoryGap,P*E),A=P*E/2;c=A-O-(A-O)/E*O}}}u="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var I=function(t,n,r){var a=t.scale,s=t.type,o=t.layout,i=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===i?{scale:Bs(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:cl(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ws(),realScaleType:"point"}:"category"===s?{scale:Bs(),realScaleType:"band"}:{scale:cl(),realScaleType:"linear"};if(re()(a)){var l="scale".concat(fn()(a));return{scale:(e[l]||Ws)(),realScaleType:e[l]?l:"point"}}return _e()(a)?{scale:a}:{scale:Ws(),realScaleType:"point"}}(g,s,h),T=I.scale,C=I.realScaleType;T.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Hh,s=Math.max(r[0],r[1])+Hh,o=e(t[0]),i=e(t[n-1]);(o<a||o>s||i<a||i>s)&&e.domain([t[0],t[n-1]])}}(T);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,s=t.originalDomain,o=t.allowDecimals,i=n||t.scale;if("auto"!==i&&"linear"!==i)return null;if(a&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=ih(l,a,o);return e.domain([Od()(c),Pd()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:lh(u,a,o)}}return null}(T,Sp(Sp({},g),{},{realScaleType:C}));"xAxis"===a?(p="top"===y&&!w||"bottom"===y&&w,f=r.left,m=d[k]-p*g.height):"yAxis"===a&&(p="left"===y&&!w||"right"===y&&w,f=d[k]-p*g.width,m=r.top);var M=Sp(Sp(Sp({},g),D),{},{realScaleType:C,x:f,y:m,scale:T,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=Zh(M,D),g.hide||"xAxis"!==a?g.hide||(d[k]+=(p?-1:1)*M.width):d[k]+=(p?-1:1)*M.height,Sp(Sp({},o),{},kp({},i,M))},{})},Np=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)}},Pp=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&bp(t.prototype,n),r&&bp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();kp(Pp,"EPS",1e-4);var Ep=function(e){var t=Object.keys(e).reduce(function(t,n){return Sp(Sp({},t),{},kp({},n,Pp.create(e[n])))},{});return Sp(Sp({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return qf()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return Kf()(e,function(e,n){return t[n].isInRange(e)})}})};function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function Ap(e){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(e)}function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach(function(t){Bp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fp(r.key),r)}}function Dp(e,t,n){return t=Rp(t),function(e,t){if(t&&("object"===Ap(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mp()?Reflect.construct(t,n||[],Rp(e).constructor):t.apply(e,n))}function Mp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mp=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(e)}function Lp(e,t){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lp(e,t)}function Bp(e,t,n){return(t=Fp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e){var t=function(e,t){if("object"!=Ap(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ap(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ap(t)?t:t+""}var Wp=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Dp(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,s=e.r,o=e.alwaysShow,i=e.clipPathId,l=pe(r),c=pe(a);if(ke(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,s=Ep({x:r.scale,y:a.scale}),o=s.apply({x:t,y:n},{bandAware:!0});return Vf(e,"discard")&&!s.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,m=f.shape,p=f.className,g=Tp(Tp({clipPath:Vf(this.props,"hidden")?"url(#".concat(i,")"):void 0},Je(this.props,!0)),{},{cx:d,cy:h});return t.createElement(St,{className:Z("recharts-reference-dot",p)},n.renderDot(m,g),Uf.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],a&&Cp(r.prototype,a),s&&Cp(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);Bp(Wp,"displayName","ReferenceDot"),Bp(Wp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Bp(Wp,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):_e()(e)?e(n):t.createElement(zr,Op({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var Up=n(4597),zp=n.n(Up),Vp=n(8990),Hp=n.n(Vp),qp=n(5797),Gp=n.n(qp)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var Kp=(0,t.createContext)(void 0),Yp=(0,t.createContext)(void 0),Qp=(0,t.createContext)(void 0),Xp=(0,t.createContext)({}),$p=(0,t.createContext)(void 0),Jp=(0,t.createContext)(0),Zp=(0,t.createContext)(0),eg=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,s=n.offset,o=e.clipPathId,i=e.children,l=e.width,c=e.height,u=Gp(s);return t.createElement(Kp.Provider,{value:r},t.createElement(Yp.Provider,{value:a},t.createElement(Xp.Provider,{value:s},t.createElement(Qp.Provider,{value:u},t.createElement($p.Provider,{value:o},t.createElement(Jp.Provider,{value:c},t.createElement(Zp.Provider,{value:l},i)))))))};var tg=function(e){var n=(0,t.useContext)(Kp);null==n&&mt(!1);var r=n[e];return null==r&&mt(!1),r},ng=function(e){var n=(0,t.useContext)(Yp);null==n&&mt(!1);var r=n[e];return null==r&&mt(!1),r},rg=function(){return(0,t.useContext)(Zp)},ag=function(){return(0,t.useContext)(Jp)};function sg(e){return sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(e)}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mg(r.key),r)}}function ig(e,t,n){return t=cg(t),function(e,t){if(t&&("object"===sg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lg()?Reflect.construct(t,n||[],cg(e).constructor):t.apply(e,n))}function lg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lg=function(){return!!e})()}function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cg(e)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ug(e,t)}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(t){fg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fg(e,t,n){return(t=mg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mg(e){var t=function(e,t){if("object"!=sg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sg(t)?t:t+""}function pg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yg.apply(this,arguments)}function vg(e){var n=e.x,r=e.y,a=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)($p),d=tg(s),h=ng(o),f=(0,t.useContext)(Qp);if(!u||!f)return null;ke(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,n,r,a,s,o,i,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var f=l.y,m=e.y.apply(f,{position:s});if(Vf(l,"discard")&&!e.y.isInRange(m))return null;var p=[{x:c+d,y:m},{x:c,y:m}];return"left"===i?p.reverse():p}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(Vf(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:s})});return Vf(l,"discard")&&zp()(x,function(t){return!e.isInRange(t)})?null:x}return null}(Ep({x:d.scale,y:h.scale}),pe(n),pe(r),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!m)return null;var p=pg(m,2),g=p[0],y=g.x,v=g.y,x=p[1],b=x.x,w=x.y,S=hg(hg({clipPath:Vf(e,"hidden")?"url(#".concat(u,")"):void 0},Je(e,!0)),{},{x1:y,y1:v,x2:b,y2:w});return t.createElement(St,{className:Z("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):_e()(e)?e(n):t.createElement("line",yg({},n,{className:"recharts-reference-line-line"}))}(i,S),Uf.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return Np({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:b,y2:w})))}var xg=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ig(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(vg,this.props)}}])&&og(r.prototype,a),s&&og(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function wg(e){return wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(e)}function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach(function(t){Og(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ag(r.key),r)}}function _g(e,t,n){return t=Pg(t),function(e,t){if(t&&("object"===wg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ng()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function Ng(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ng=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pg(e)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eg(e,t)}function Og(e,t,n){return(t=Ag(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ag(e){var t=function(e,t){if("object"!=wg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wg(t)?t:t+""}fg(xg,"displayName","ReferenceLine"),fg(xg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Ig=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),_g(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,s=e.y1,o=e.y2,i=e.className,l=e.alwaysShow,c=e.clipPathId;ke(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=pe(r),d=pe(a),h=pe(s),f=pe(o),m=this.props.shape;if(!u&&!d&&!h&&!f&&!m)return null;var p=function(e,t,n,r,a){var s=a.x1,o=a.x2,i=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Ep({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(i,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!Vf(a,"discard")||d.isInRange(h)&&d.isInRange(f)?Np(h,f):null}(u,d,h,f,this.props);if(!p&&!m)return null;var g=Vf(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(St,{className:Z("recharts-reference-area",i)},n.renderRect(m,kg(kg({clipPath:g},Je(this.props,!0)),p)),Uf.renderCallByParent(this.props,p))}}])&&jg(r.prototype,a),s&&jg(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function Tg(e){return function(e){if(Array.isArray(e))return Cg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Og(Ig,"displayName","ReferenceArea"),Og(Ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Og(Ig,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):_e()(e)?e(n):t.createElement(Es,bg({},n,{className:"recharts-reference-area-rect"}))});var Dg=function(e,t,n,r,a){var s=Ge(e,xg),o=Ge(e,Wp),i=[].concat(Tg(s),Tg(o)),l=Ge(e,Ig),c="".concat(r,"Id"),u=r[0],d=t;if(i.length&&(d=i.reduce(function(e,t){if(t.props[c]===n&&Vf(t.props,"extendDomain")&&me(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&Vf(t.props,"extendDomain")&&me(t.props[h])&&me(t.props[f])){var r=t.props[h],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return me(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Mg=n(7283),Rg=new(n.n(Mg)()),Lg="recharts.syncMouseEvents";function Bg(e){return Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(e)}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ug(r.key),r)}}function Wg(e,t,n){return(t=Ug(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ug(e){var t=function(e,t){if("object"!=Bg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bg(t)?t:t+""}var zg=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wg(this,"activeIndex",0),Wg(this,"coordinateList",[]),Wg(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,s=void 0===a?null:a,o=e.layout,i=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==i&&void 0!==i?i:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,s=n.height,o=this.coordinateList[this.activeIndex].coordinate,i=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+i,u=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Fg(e.prototype,t),n&&Fg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Vg(){}function Hg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qg(e){this._context=e}function Gg(e){this._context=e}function Kg(e){this._context=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Gg.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Yg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Qg(e){this._context=e}function Xg(e){this._context=e}function $g(e){return new Xg(e)}function Jg(e){return e<0?-1:1}function Zg(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),i=(s*a+o*r)/(r+a);return(Jg(s)+Jg(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(i))||0}function ey(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ty(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,i=(s-r)/3;e._context.bezierCurveTo(r+i,a+i*t,s-i,o-i*n,s,o)}function ny(e){this._context=e}function ry(e){this._context=new ay(e)}function ay(e){this._context=e}function sy(e){this._context=e}function oy(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function iy(e,t){this._context=e,this._t=t}function ly(e){return e[0]}function cy(e){return e[1]}function uy(e,t){var n=Rn(!0),r=null,a=$g,s=null,o=ar(i);function i(i){var l,c,u,d=(i=Sd(i)).length,h=!1;for(null==r&&(s=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=i[l],l,i))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,i),+t(c,l,i));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?ly:Rn(e),t="function"===typeof t?t:void 0===t?cy:Rn(t),i.x=function(t){return arguments.length?(e="function"===typeof t?t:Rn(+t),i):e},i.y=function(e){return arguments.length?(t="function"===typeof e?e:Rn(+e),i):t},i.defined=function(e){return arguments.length?(n="function"===typeof e?e:Rn(!!e),i):n},i.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),i):a},i.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),i):r},i}function dy(e,t,n){var r=null,a=Rn(!0),s=null,o=$g,i=null,l=ar(c);function c(c){var u,d,h,f,m,p=(c=Sd(c)).length,g=!1,y=new Array(p),v=new Array(p);for(null==s&&(i=o(m=l())),u=0;u<=p;++u){if(!(u<p&&a(f=c[u],u,c))===g)if(g=!g)d=u,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),h=u-1;h>=d;--h)i.point(y[h],v[h]);i.lineEnd(),i.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),i.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(m)return i=null,m+""||null}function u(){return uy().defined(a).curve(o).context(s)}return e="function"===typeof e?e:void 0===e?ly:Rn(+e),t="function"===typeof t?t:Rn(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?cy:Rn(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Rn(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Rn(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Rn(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Rn(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Rn(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Rn(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Rn(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=s&&(i=o(s)),c):o},c.context=function(e){return arguments.length?(null==e?s=i=null:i=o(s=e),c):s},c}function hy(e){return hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?my(Object(n),!0).forEach(function(t){gy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qg.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ty(this,this._t0,ey(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ty(this,ey(this,n=Zg(this,e,t)),n);break;default:ty(this,this._t0,n=Zg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ry.prototype=Object.create(ny.prototype)).point=function(e,t){ny.prototype.point.call(this,t,e)},ay.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=oy(e),a=oy(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var yy={curveBasisClosed:function(e){return new Gg(e)},curveBasisOpen:function(e){return new Kg(e)},curveBasis:function(e){return new qg(e)},curveBumpX:function(e){return new Yg(e,!0)},curveBumpY:function(e){return new Yg(e,!1)},curveLinearClosed:function(e){return new Qg(e)},curveLinear:$g,curveMonotoneX:function(e){return new ny(e)},curveMonotoneY:function(e){return new ry(e)},curveNatural:function(e){return new sy(e)},curveStep:function(e){return new iy(e,.5)},curveStepAfter:function(e){return new iy(e,1)},curveStepBefore:function(e){return new iy(e,0)}},vy=function(e){return e.x===+e.x&&e.y===+e.y},xy=function(e){return e.x},by=function(e){return e.y},wy=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,s=void 0===a?[]:a,o=e.baseLine,i=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(_e()(e))return e;var n="curve".concat(fn()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?yy[n]||$g:yy["".concat(n).concat("vertical"===t?"Y":"X")]}(r,i),d=c?s.filter(function(e){return vy(e)}):s;if(Array.isArray(o)){var h=c?o.filter(function(e){return vy(e)}):o,f=d.map(function(e,t){return py(py({},e),{},{base:h[t]})});return(t="vertical"===i?dy().y(by).x1(xy).x0(function(e){return e.base.x}):dy().x(xy).y1(by).y0(function(e){return e.base.y})).defined(vy).curve(u),t(f)}return(t="vertical"===i&&me(o)?dy().y(by).x1(xy).x0(o):me(o)?dy().x(xy).y1(by).y0(o):uy().x(xy).y(by)).defined(vy).curve(u),t(d)},Sy=function(e){var n=e.className,r=e.points,a=e.path,s=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?wy(e):a;return t.createElement("path",fy({},Je(e,!1),Me(e),{className:Z("recharts-curve",n),d:o,ref:s}))};function ky(e){return ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(e)}var jy=["x","y","top","left","width","height","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(this,arguments)}function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Py(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ky(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ky(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ky(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ey(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Oy=function(e,t,n,r,a,s){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},Ay=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,s=void 0===a?0:a,o=e.top,i=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,m=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ny(Object(n),!0).forEach(function(t){Py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:s,top:i,left:c,width:d,height:f},Ey(e,jy));return me(r)&&me(s)&&me(d)&&me(f)&&me(i)&&me(c)?t.createElement("path",_y({},Je(p,!0),{className:Z("recharts-cross",m),d:Oy(r,s,d,f,i,c)})):null};function Iy(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle;return{points:[Pf(t,n,r,a),Pf(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function Ty(e,t,n){var r,a,s,o;if("horizontal"===e)s=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Iy(t);var i=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Pf(i,l,c,d),f=Pf(i,l,u,d);r=h.x,a=h.y,s=f.x,o=f.y}return[{x:r,y:a},{x:s,y:o}]}function Cy(e){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(e)}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach(function(t){Ry(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ry(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Cy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ly(e){var n,r,a,s=e.element,o=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=null!==(n=s.props.cursor)&&void 0!==n?n:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!p||!i||!l||"ScatterChart"!==m&&"axis"!==o)return null;var g=Sy;if("ScatterChart"===m)a=l,g=Ay;else if("BarChart"===m)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=Es;else if("radial"===f){var y=Iy(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=Im}else a={points:Ty(f,l,u)},g=Sy;var w=My(My(My(My({stroke:"#ccc",pointerEvents:"none"},u),a),Je(p,!1)),{},{payload:c,payloadIndex:d,className:Z("recharts-tooltip-cursor",p.className)});return(0,t.isValidElement)(p)?(0,t.cloneElement)(p,w):(0,t.createElement)(g,w)}var By=["item"],Fy=["children","className","width","height","style","compact","title","desc"];function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(this,arguments)}function zy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Xy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tv(r.key),r)}}function qy(e,t,n){return t=Ky(t),function(e,t){if(t&&("object"===Wy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gy()?Reflect.construct(t,n||[],Ky(e).constructor):t.apply(e,n))}function Gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gy=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ky(e)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yy(e,t)}function Qy(e){return function(e){if(Array.isArray(e))return $y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(e,t){if(e){if("string"===typeof e)return $y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$y(e,t):void 0}}function $y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jy(Object(n),!0).forEach(function(t){ev(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ev(e,t,n){return(t=tv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tv(e){var t=function(e,t){if("object"!=Wy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wy(t)?t:t+""}var nv={xAxis:["bottom","top"],yAxis:["left","right"]},rv={width:"100%",height:"100%"},av={x:0,y:0};function sv(e){return e}var ov=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Qy(e),Qy(n)):e},[]);return s.length>0?s:e&&e.length&&me(r)&&me(a)?e.slice(r,a+1):[]};function iv(e){return"number"===e?[0,"auto"]:void 0}var lv=function(e,t,n,r){var a=e.graphicalItems,s=e.tooltipAxis,o=ov(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,i){var l,c,u=null!==(l=i.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=we(void 0===u?o:u,s.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(Qy(a),[tf(i,c)]):a},[])},cv=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,i=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var i=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(he(u-c)!==he(d-u)){var f=[];if(he(d-u)===he(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+i[1]-i[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){s=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){s=n[x].index;break}return s}(s,o,l,i);if(c>=0&&l){var u=l[c]&&l[c].value,d=lv(e,t,c,u),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,o=r.radius;return Zy(Zy(Zy({},r),Pf(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var i=a.coordinate,l=r.angle;return Zy(Zy(Zy({},r),Pf(r.cx,r.cy,i,l)),{},{angle:l,radius:i})}return av}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},uv=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Fh(c,a);return n.reduce(function(t,n){var f,m=void 0!==n.type.defaultProps?Zy(Zy({},n.type.defaultProps),n.props):n.props,p=m.type,g=m.dataKey,y=m.allowDataOverflow,v=m.allowDuplicatedCategory,x=m.scale,b=m.ticks,w=m.includeHidden,S=m[s];if(t[S])return t;var k,j,_,N=ov(e.data,{graphicalItems:r.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===S}),dataStartIndex:i,dataEndIndex:l}),P=N.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&me(r)&&me(a))return!0}return!1})(m.domain,y,p)&&(k=Jh(m.domain,null,y),!h||"number"!==p&&"auto"===x||(_=Mh(N,g,"category")));var E=iv(p);if(!k||0===k.length){var O,A=null!==(O=m.domain)&&void 0!==O?O:E;if(g){if(k=Mh(N,g,p),"category"===p&&h){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);v&&I?(j=k,k=ut()(0,P)):v||(k=ef(A,k,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Qy(e),[t])},[]))}else if("category"===p)k=v?k.filter(function(e){return""!==e&&!de()(e)}):ef(A,k,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||de()(t)?e:[].concat(Qy(e),[t])},[]);else if("number"===p){var T=function(e,t,n,r,a){var s=t.map(function(t){return Lh(e,t,n,a,r)}).filter(function(e){return!de()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(N,r.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(w||!a)}),g,a,c);T&&(k=T)}!h||"number"!==p&&"auto"===x||(_=Mh(N,g,"category"))}else k=h?ut()(0,P):o&&o[S]&&o[S].hasStack&&"number"===p?"expand"===d?[0,1]:Qh(o[S].stackGroups,i,l):Bh(N,r.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(w||!n)}),p,c,!0);if("number"===p)k=Dg(u,k,S,a,b),A&&(k=Jh(A,k,y));else if("category"===p&&A){var C=A;k.every(function(e){return C.indexOf(e)>=0})&&(k=C)}}return Zy(Zy({},t),{},ev({},S,Zy(Zy({},m),{},{axisType:a,domain:k,categoricalDomain:_,duplicateDomain:j,originalDomain:null!==(f=m.domain)&&void 0!==f?f:E,isCategorical:h,layout:c})))},{})},dv=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Ge(c,a),h={};return d&&d.length?h=uv(e,{axes:d,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=ov(e.data,{graphicalItems:n,dataStartIndex:i,dataEndIndex:l}),h=d.length,f=Fh(c,a),m=-1;return n.reduce(function(e,t){var p,g=(void 0!==t.type.defaultProps?Zy(Zy({},t.type.defaultProps),t.props):t.props)[s],y=iv("number");return e[g]?e:(m++,f?p=ut()(0,h):o&&o[g]&&o[g].hasStack?(p=Qh(o[g].stackGroups,i,l),p=Dg(u,p,g,a)):(p=Jh(y,Bh(d,n.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),p=Dg(u,p,g,a)),Zy(Zy({},e),{},ev({},g,Zy(Zy({axisType:a},r.defaultProps),{},{hide:!0,orientation:ie()(nv,"".concat(a,".").concat(m%2),null),domain:p,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:i,dataEndIndex:l})),h},hv=function(e){var t=e.children,n=e.defaultShowTooltip,r=Ke(t,bf),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},fv=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mv=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,s=e.yAxisMap,o=void 0===s?{}:s,i=n.width,l=n.height,c=n.children,u=n.margin||{},d=Ke(c,bf),h=Ke(c,Wr),f=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:Zy(Zy({},e),{},ev({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),m=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Zy(Zy({},e),{},ev({},r,ie()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),p=Zy(Zy({},m),f),g=p.bottom;d&&(p.bottom+=d.props.height||bf.defaultProps.height),h&&t&&(p=function(e,t,n,r){var a=n.children,s=n.width,o=n.margin,i=s-(o.left||0)-(o.right||0),l=Ph({children:a,legendWidth:i});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===f)&&"center"!==h&&me(e[h]))return Th(Th({},e),{},Ch({},h,e[h]+(u||0)));if(("horizontal"===m||"vertical"===m&&"center"===h)&&"middle"!==f&&me(e[f]))return Th(Th({},e),{},Ch({},f,e[f]+(d||0)))}return e}(p,0,n,t));var y=i-p.left-p.right,v=l-p.top-p.bottom;return Zy(Zy({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(v,0)})},pv=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},gv=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,o=e.validateTooltipEventTypes,i=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,s=t.updateId,o=t.dataStartIndex,i=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,m=fv(u),p=m.numericAxisName,g=m.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=ze(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,m){var x=ov(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:i}),b=void 0!==n.type.defaultProps?Zy(Zy({},n.type.defaultProps),n.props):n.props,w=b.dataKey,S=b.maxBarSize,k=b["".concat(p,"Id")],j=b["".concat(g,"Id")],_=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||mt(!1);var s=r[a];return Zy(Zy({},e),{},ev(ev({},n.axisType,s),"".concat(n.axisType,"Ticks"),Uh(s)))},{}),N=_[g],P=_["".concat(g,"Ticks")],E=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Th(Th({},e.type.defaultProps),e.props):e.props).stackId;if(pe(r)){var a=t[r];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(n,r[k].stackGroups),O=ze(n.type).indexOf("Bar")>=0,A=Zh(N,P),I=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var s={},o=Object.keys(a),i=0,l=o.length;i<l;i++)for(var c=a[o[i]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],m=f.items,p=f.cateAxisId,g=m.filter(function(e){return ze(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Th(Th({},y),g[0].props):g[0].props,x=v.barSize,b=v[p];s[b]||(s[b]=[]);var w=de()(x)?t:x;s[b].push({item:g[0],stackList:g.slice(1),barSize:de()(w)?void 0:ve(w,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:pv(_,g)});if(O){var C,D,M=de()(S)?f:S,R=null!==(C=null!==(D=Zh(N,P,!0))&&void 0!==D?D:M)&&void 0!==C?C:0;I=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,o=e.maxBarSize,i=s.length;if(i<1)return null;var l,c=ve(t,r,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=r/i,f=s.reduce(function(e,t){return e+t.barSize||0},0);(f+=(i-1)*c)>=r&&(f-=(i-1)*c,c=0),f>=r&&h>0&&(d=!0,f=i*(h*=.9));var m={offset:((r-f)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:m.offset+m.size+c,size:d?h:t.barSize}},r=[].concat(Oh(e),[n]);return m=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:m})}),r},u)}else{var p=ve(n,r,0,!0);r-2*p-(i-1)*c<=0&&(c=0);var g=(r-2*p-(i-1)*c)/i;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=s.reduce(function(e,t,n){var r=[].concat(Oh(e),[{item:t.item,position:{offset:p+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==A?R:A,sizeList:T[j],maxBarSize:M}),R!==A&&(I=I.map(function(e){return Zy(Zy({},e),{},{position:Zy(Zy({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,B,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:Zy(Zy({},F(Zy(Zy({},_),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:A,barPosition:I,offset:a,stackedData:E,layout:u,dataStartIndex:o,dataEndIndex:i}))),{},ev(ev(ev({key:n.key||"item-".concat(m)},p,_[p]),g,_[g]),"animationId",s)),childIndex:(L=n,B=e.children,qe(B).indexOf(L)),item:n})}),v},f=function(e,t){var a=e.props,s=e.dataStartIndex,o=e.dataEndIndex,i=e.updateId;if(!Ye({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,m=a.data,p=a.reverseStackOrder,g=fv(d),y=g.numericAxisName,v=g.cateAxisName,x=Ge(c,r),b=function(e,t,n,r,a,s){if(!e)return null;var o=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Th(Th({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(s.hide)return e;var i=s[n],l=e[i]||{hasStack:!1,stackGroups:{}};if(pe(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[ye("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Th(Th({},e),{},Ch({},i,l))},{});return Object.keys(o).reduce(function(t,s){var i=o[s];return i.hasStack&&(i.stackGroups=Object.keys(i.stackGroups).reduce(function(t,s){var o=i.stackGroups[s];return Th(Th({},t),{},Ch({},s,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:Gh(e,o.items,a)}))},{})),Th(Th({},t),{},Ch({},s,i))},{})}(m,x,"".concat(y,"Id"),"".concat(v,"Id"),f,p),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Zy(Zy({},e),{},ev({},n,dv(a,Zy(Zy({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:o}))))},{}),S=mv(Zy(Zy({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],S,e.replace("Map",""),n)});var k=function(e){var t=xe(e),n=Uh(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ht()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Zh(t,n)}}(w["".concat(v,"Map")]),j=h(a,Zy(Zy({},w),{},{dataStartIndex:s,dataEndIndex:o,updateId:i,graphicalItems:x,stackGroups:b,offset:S}));return Zy(Zy({formattedGraphicalItems:j,graphicalItems:x,offset:S,stackGroups:b},k),w)},m=function(e){function r(e){var a,s,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ev(o=qy(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ev(o,"accessibilityManager",new zg),ev(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(Zy({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},Zy(Zy({},o.state),{},{legendBBox:e}))))}}),ev(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),ev(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return Zy({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),ev(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=Zy(Zy({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;_e()(r)&&r(n,e)}}),ev(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?Zy(Zy({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;_e()(r)&&r(n,e)}),ev(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),ev(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),ev(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),ev(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;_e()(n)&&n(t,e)}),ev(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&Ue[t]?Ue[t]:null}(e),r=ie()(o.props,"".concat(n));n&&_e()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),ev(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=Zy(Zy({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;_e()(r)&&r(n,e)}}),ev(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;_e()(t)&&t(o.getMouseInfo(e),e)}),ev(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;_e()(t)&&t(o.getMouseInfo(e),e)}),ev(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),ev(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),ev(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),ev(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;_e()(t)&&t(o.getMouseInfo(e),e)}),ev(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;_e()(t)&&t(o.getMouseInfo(e),e)}),ev(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&Rg.emit(Lg,o.props.syncId,e,o.eventEmitterSymbol)}),ev(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,s=e.dataStartIndex,i=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Zy({dataStartIndex:s,dataEndIndex:i},f({props:o.props,dataStartIndex:s,dataEndIndex:i,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,m=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(m,e);else if("value"===r){u=-1;for(var p=0;p<m.length;p++)if(m[p].value===e.activeLabel){u=p;break}}var g=Zy(Zy({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=m[u]&&m[u].value,b=lv(o.state,o.props.data,u),w=m[u]?{x:"horizontal"===n?m[u].coordinate:y,y:"horizontal"===n?v:m[u].coordinate}:av;o.setState(Zy(Zy({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),ev(o,"renderCursor",function(e){var r,a=o.state,s=a.isTooltipActive,i=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:s,m=o.props.layout,p=e.key||"_recharts-cursor";return t.createElement(Ly,{key:p,activeCoordinate:i,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:m,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),ev(o,"renderPolarAxis",function(e,n,r){var a=ie()(e,"type.axisType"),s=ie()(o.state,"".concat(a,"Map")),i=e.type.defaultProps,l=void 0!==i?Zy(Zy({},i),e.props):e.props,c=s&&s[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,Zy(Zy({},c),{},{className:Z(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:Uh(c,!0)}))}),ev(o,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,s=n.polarRadius,i=o.state,l=i.radiusAxisMap,c=i.angleAxisMap,u=xe(l),d=xe(c),h=d.cx,f=d.cy,m=d.innerRadius,p=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:Uh(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:Uh(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:m,outerRadius:p,key:e.key||"polar-grid",radialLines:r})}),ev(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,n=o.props,r=n.children,a=n.width,s=n.height,i=o.props.margin||{},l=a-(i.left||0)-(i.right||0),u=Ph({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Vy(u,By);return(0,t.cloneElement)(d,Zy(Zy({},h),{},{chartWidth:a,chartHeight:s,margin:i,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),ev(o,"renderTooltip",function(){var e,n=o.props,r=n.children,a=n.accessibilityLayer,s=Ke(r,dn);if(!s)return null;var i=o.state,l=i.isTooltipActive,c=i.activeCoordinate,u=i.activePayload,d=i.activeLabel,h=i.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(s,{viewBox:Zy(Zy({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),ev(o,"renderBrush",function(e){var n=o.props,r=n.margin,a=n.data,s=o.state,i=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Vh(o.handleBrushChange,e.props.onChange),data:a,x:me(e.props.x)?e.props.x:i.left,y:me(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:me(e.props.width)?e.props.width:i.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),ev(o,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=o.clipPathId,s=o.state,i=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,m=d.yAxisId,p=void 0===m?u.yAxisId:m;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:i[f],yAxis:l[p],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),ev(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,s=e.childIndex,o=e.isRange,i=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Zy(Zy({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=Zy(Zy({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Rh(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Je(u,!1)),Me(u));return i.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),a?i.push(r.renderActiveDot(u,Zy(Zy({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):o&&i.push(null),i}),ev(o,"renderGraphicChild",function(e,n,r){var a=o.filterFormatItem(e,n,r);if(!a)return null;var s=o.getTooltipEventType(),i=o.state,l=i.isTooltipActive,c=i.tooltipAxis,u=i.activeTooltipIndex,d=i.activeLabel,h=Ke(o.props.children,dn),f=a.props,m=f.points,p=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?Zy(Zy({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,S=Boolean(!x&&l&&h&&(v||b||w)),k={};"axis"!==s&&h&&"click"===h.props.trigger?k={onClick:Vh(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(k={onMouseLeave:Vh(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Vh(o.handleItemMouseEnter,e.props.onMouseEnter)});var j=(0,t.cloneElement)(e,Zy(Zy({},a.props),k));if(S){if(!(u>=0)){var _,N=(null!==(_=o.getItemByXY(o.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:j}).graphicalItem,P=N.item,E=void 0===P?e:P,O=N.childIndex,A=Zy(Zy(Zy({},a.props),k),{},{activeIndex:O});return[(0,t.cloneElement)(E,A),null,null]}var I,T;if(c.dataKey&&!c.allowDuplicatedCategory){var C="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());I=we(m,C,d),T=p&&g&&we(g,C,d)}else I=null===m||void 0===m?void 0:m[u],T=p&&g&&g[u];if(w||b){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,Zy(Zy(Zy({},a.props),k),{},{activeIndex:D})),null,null]}if(!de()(I))return[j].concat(Qy(o.renderActivePoints({item:a,activePoint:I,basePoint:T,childIndex:u,isRange:p})))}return p?[j,null,null]:[j,null]}),ev(o,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,Zy(Zy({key:"recharts-customized-".concat(r)},o.props),o.state))}),ev(o,"renderMap",{CartesianGrid:{handler:sv,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:sv},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:sv},YAxis:{handler:sv},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:ye("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=te()(o.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,s=Ke(t,dn);if(s){var o=s.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var i=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=lv(this.state,n,o,i),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=Zy(Zy({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:i,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Ze([Ke(e.children,dn)],[Ke(this.props.children,dn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ke(this.props.children,dn);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,i=this.inRange(s.chartX,s.chartY,o);if(!i)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=cv(this.state,this.props.data,this.props.layout,i);if("axis"!==d&&c&&u){var f=xe(c).scale,m=xe(u).scale,p=f&&f.invert?f.invert(s.chartX):null,g=m&&m.invert?m.invert(s.chartY):null;return Zy(Zy({},s),{},{xValue:p,yValue:g},h)}return h?Zy(Zy({},s),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&s>=o.top&&s<=o.top+o.height?{x:a,y:s}:null}var i=this.state,l=i.angleAxisMap,c=i.radiusAxisMap;if(l&&c){var u=xe(l);return Af({x:a,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Ke(e,dn),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Zy(Zy({},Me(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Rg.on(Lg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rg.removeListener(Lg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,s=r.length;a<s;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===ze(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,s=n.height,o=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:s,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=zy(t,2),r=n[0],a=n[1];return Zy(Zy({},e),{},ev({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=zy(t,2),r=n[0],a=n[1];return Zy(Zy({},e),{},ev({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,s=n.length;a<s;a++){var o=n[a],i=o.props,l=o.item,c=void 0!==l.type.defaultProps?Zy(Zy({},l.type.defaultProps),l.props):l.props,u=ze(l.type);if("Bar"===u){var d=(i.data||[]).find(function(t){return Ns(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(i.data||[]).find(function(t){return Af(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(Um(o,r)||zm(o,r)||Vm(o,r)){var f=Km({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),m=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Zy(Zy({},o),{},{childIndex:m}),payload:Vm(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Ye(this))return null;var n,r,a=this.props,s=a.children,o=a.className,i=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=Vy(a,Fy),m=Je(f,!1);if(u)return t.createElement(eg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(vt,Uy({},m,{width:i,height:l,title:d,desc:h}),this.renderClipPath(),tt(s,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,m.role=null!==(r=this.props.role)&&void 0!==r?r:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return t.createElement(eg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",Uy({className:Z("recharts-wrapper",o),style:Zy({position:"relative",cursor:"default",width:i,height:l},c)},p,{ref:function(t){e.container=t}}),t.createElement(vt,Uy({},m,{width:i,height:l,title:d,desc:h,style:rv}),this.renderClipPath(),tt(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Hy(a.prototype,o),l&&Hy(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);ev(m,"displayName",n),ev(m,"defaultProps",Zy({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ev(m,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,s=e.width,o=e.height,i=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=hv(e);return Zy(Zy(Zy({},h),{},{updateId:0},f(Zy(Zy({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||l!==t.prevStackOffset||!Oe(c,t.prevMargin)){var m=hv(e),p={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Zy(Zy({},cv(t,r,i)),{},{updateId:t.updateId+1}),y=Zy(Zy(Zy({},m),p),g);return Zy(Zy(Zy({},y),f(Zy({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ze(a,t.prevChildren)){var v,x,b,w,S=Ke(a,bf),k=S&&null!==(v=null===(x=S.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,j=S&&null!==(b=null===(w=S.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,_=k!==u||j!==d,N=!de()(r)&&!_?t.updateId:t.updateId+1;return Zy(Zy({updateId:N},f(Zy(Zy({props:e},t),{},{updateId:N,dataStartIndex:k,dataEndIndex:j}),t)),{},{prevChildren:a,dataStartIndex:k,dataEndIndex:j})}return null}),ev(m,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):_e()(e)?e(n):t.createElement(zr,n),t.createElement(St,{className:"recharts-active-dot",key:r},a)});var p=(0,t.forwardRef)(function(e,n){return t.createElement(m,Uy({},e,{ref:n}))});return p.displayName=m.displayName,p},yv=["type","layout","connectNulls","ref"],vv=["key"];function xv(e){return xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(e)}function bv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(t){Iv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jv(e){return function(e){if(Array.isArray(e))return _v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tv(r.key),r)}}function Pv(e,t,n){return t=Ov(t),function(e,t){if(t&&("object"===xv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ev()?Reflect.construct(t,n||[],Ov(e).constructor):t.apply(e,n))}function Ev(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ev=function(){return!!e})()}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ov(e)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Av(e,t)}function Iv(e,t,n){return(t=Tv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tv(e){var t=function(e,t){if("object"!=xv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xv(t)?t:t+""}var Cv=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Iv(e=Pv(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Iv(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),Iv(e,"getStrokeDasharray",function(t,r,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,t);for(var o=Math.floor(t/s),i=t%s,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>i){c=[].concat(jv(a.slice(0,u)),[i-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(jv(n.repeat(a,o)),jv(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),Iv(e,"id",ye("recharts-line-")),Iv(e,"pathRef",function(t){e.mainCurve=t}),Iv(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),Iv(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ge(r.children,Sh);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Dh(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(St,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,c=Je(this.props,!1),u=Je(o,!0),d=i.map(function(e,t){var r=kv(kv(kv({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:i});return n.renderDotItem(o,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(St,wv({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls,c=(s.ref,bv(s,yv)),u=kv(kv(kv({},Je(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:i,connectNulls:l});return t.createElement(Sy,wv({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.strokeDasharray,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,m=a.height,p=this.state,g=p.prevPoints,y=p.totalLength;return t.createElement(ys,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var i=g.length/s.length,l=s.map(function(e,t){var n=Math.floor(t*i);if(g[n]){var r=g[n],s=be(r.x,e.x),o=be(r.y,e.y);return kv(kv({},e),{},{x:s(a),y:o(a)})}if(h){var l=be(2*f,e.x),c=be(m/2,e.y);return kv(kv({},e),{},{x:l(a),y:c(a)})}return kv(kv({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=be(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(s,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return a&&r&&r.length&&(!o&&i>0||!Cd()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,f=n.isAnimationActive,m=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=Z("recharts-line",o),v=i&&i.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=de()(m)?this.id:m,S=null!==(e=Je(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,j=void 0===k?3:k,_=S.strokeWidth,N=void 0===_?2:_,P=($e(a)?a:{}).clipDot,E=void 0===P||P,O=2*j+N;return t.createElement(St,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-O/2,y:c-O/2,width:d+O,height:h+O}))):null,!g&&this.renderCurve(b,w),this.renderErrorBar(b,w),(g||a)&&this.renderDots(b,E,w),(!f||p)&&lm.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(jv(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(jv(r),jv(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(_e()(e))r=e(n);else{var a=n.key,s=bv(n,vv),o=Z("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(zr,wv({key:a},s,{className:o}))}return r}}],a&&Nv(r.prototype,a),s&&Nv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function Dv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function Mv(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),o=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function Rv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function Lv(e){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(e)}function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach(function(t){Wv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uv(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,i=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(me(l)||Qt.isSsr)return function(e,t){return Dv(e,t+1)}(a,"number"===typeof l&&me(l)?l:0);var h=[],f="top"===i||"bottom"===i?"width":"height",m=u&&"width"===f?Ys(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(e,r){var a=_e()(c)?c(e.value,r):e.value;return"width"===f?Mv(Ys(a,{fontSize:t,letterSpacing:n}),m,d):Ys(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?he(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,s=e.y,o=e.width,i=e.height;return 1===t?{start:r?a:s,end:r?a+o:s+i}:{start:r?a+o:s+i,end:r?a:s}}(s,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var s,o=(r||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Dv(r,u)};var s,o=c,h=function(){return void 0===s&&(s=n(t,o)),s},f=t.coordinate,m=0===c||Rv(e,f,h,d,l);m||(c=0,d=i,u+=1),m&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(s=h())return s.v;return[]}(g,y,p,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,s){var o=(r||[]).slice(),i=o.length,l=t.start,c=t.end;if(s){var u=r[i-1],d=n(u,i-1),h=e*(u.coordinate+e*d/2-c);o[i-1]=u=Fv(Fv({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Rv(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[i-1]=Fv(Fv({},u),{},{isShow:!0}))}for(var f=s?i-1:i,m=function(t){var r,s=o[t],i=function(){return void 0===r&&(r=n(s,t)),r};if(0===t){var u=e*(s.coordinate-e*i()/2-l);o[t]=s=Fv(Fv({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else o[t]=s=Fv(Fv({},s),{},{tickCoord:s.coordinate});Rv(e,s.tickCoord,i,l,c)&&(l=s.tickCoord+e*(i()/2+a),o[t]=Fv(Fv({},s),{},{isShow:!0}))},p=0;p<f;p++)m(p);return o}(g,y,p,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,i=t.start,l=t.end,c=function(t){var r,c=s[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=Fv(Fv({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=Fv(Fv({},c),{},{tickCoord:c.coordinate});Rv(e,c.tickCoord,u,i,l)&&(l=c.tickCoord-e*(u()/2+a),s[t]=Fv(Fv({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}(g,y,p,a,o),h.filter(function(e){return e.isShow}))}Iv(Cv,"displayName","Line"),Iv(Cv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Iv(Cv,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=Dh(e,o);return"horizontal"===u?{x:Kh({axis:n,ticks:a,bandSize:i,entry:e,index:t}),y:de()(l)?null:r.scale(l),value:l,payload:e}:{x:de()(l)?null:n.scale(l),y:Kh({axis:r,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}});return kv({points:d,layout:u},c)});var zv=["viewBox"],Vv=["viewBox"],Hv=["ticks"];function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(n),!0).forEach(function(t){tx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nx(r.key),r)}}function $v(e,t,n){return t=Zv(t),function(e,t){if(t&&("object"===qv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jv()?Reflect.construct(t,n||[],Zv(e).constructor):t.apply(e,n))}function Jv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jv=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zv(e)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ex(e,t)}function tx(e,t,n){return(t=nx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nx(e){var t=function(e,t){if("object"!=qv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qv(t)?t:t+""}var rx=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=$v(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Qv(e,zv),a=this.props,s=a.viewBox,o=Qv(a,Vv);return!Oe(n,s)||!Oe(r,o)||!Oe(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,s,o,i=this.props,l=i.x,c=i.y,u=i.width,d=i.height,h=i.orientation,f=i.tickSize,m=i.mirror,p=i.tickMargin,g=m?-1:1,y=e.tickSize||f,v=me(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(a=c+ +!m*d)-g*y)-g*p,s=v;break;case"left":r=a=e.coordinate,s=(t=(n=l+ +!m*u)-g*y)-g*p,o=v;break;case"right":r=a=e.coordinate,s=(t=(n=l+ +m*u)+g*y)+g*p,o=v;break;default:t=n=e.coordinate,o=(r=(a=c+ +m*d)+g*y)+g*p,s=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:s,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,s=e.height,o=e.orientation,i=e.mirror,l=e.axisLine,c=Yv(Yv(Yv({},Je(this.props,!1)),Je(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!i||"bottom"===o&&i);c=Yv(Yv({},c),{},{x1:n,y1:r+u*s,x2:n+a,y2:r+u*s})}else{var d=+("left"===o&&!i||"right"===o&&i);c=Yv(Yv({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+s})}return t.createElement("line",Gv({},c,{className:Z("recharts-cartesian-axis-line",ie()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var s=this,o=this.props,i=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=Uv(Yv(Yv({},this.props),{},{ticks:e}),r,a),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=Je(this.props,!1),g=Je(c,!1),y=Yv(Yv({},p),{},{fill:"none"},Je(i,!1)),v=h.map(function(e,r){var a=s.getTickLineCoord(e),o=a.line,v=a.tick,x=Yv(Yv(Yv(Yv({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(St,Gv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Re(s.props,e,r)),i&&t.createElement("line",Gv({},y,o,{className:Z("recharts-cartesian-axis-tick-line",ie()(i,"className"))})),c&&n.renderTickItem(c,x,"".concat(_e()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,s=n.height,o=n.ticksGenerator,i=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=Qv(l,Hv),d=c;return _e()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||s<=0||!d||!d.length?null:t.createElement(St,{className:Z("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Uf.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,n,r){var a=Z(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,Yv(Yv({},n),{},{className:a})):_e()(e)?e(Yv(Yv({},n),{},{className:a})):t.createElement(jo,Gv({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&Xv(r.prototype,a),s&&Xv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function ax(e){return ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(e)}function sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dx(r.key),r)}}function ox(e,t,n){return t=lx(t),function(e,t){if(t&&("object"===ax(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ix()?Reflect.construct(t,n||[],lx(e).constructor):t.apply(e,n))}function ix(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ix=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lx(e)}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cx(e,t)}function ux(e,t,n){return(t=dx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dx(e){var t=function(e,t){if("object"!=ax(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ax(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ax(t)?t:t+""}function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hx.apply(this,arguments)}function fx(e){var n=e.xAxisId,r=rg(),a=ag(),s=tg(n);return null==s?null:t.createElement(rx,hx({},s,{className:Z("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Uh(e,!0)}}))}tx(rx,"displayName","CartesianAxis"),tx(rx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mx=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ox(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(fx,this.props)}}])&&sx(r.prototype,a),s&&sx(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);function px(e){return px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(e)}function gx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sx(r.key),r)}}function yx(e,t,n){return t=xx(t),function(e,t){if(t&&("object"===px(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vx()?Reflect.construct(t,n||[],xx(e).constructor):t.apply(e,n))}function vx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vx=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xx(e)}function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bx(e,t)}function wx(e,t,n){return(t=Sx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sx(e){var t=function(e,t){if("object"!=px(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==px(t)?t:t+""}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(this,arguments)}ux(mx,"displayName","XAxis"),ux(mx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var jx=function(e){var n=e.yAxisId,r=rg(),a=ag(),s=ng(n);return null==s?null:t.createElement(rx,kx({},s,{className:Z("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Uh(e,!0)}}))},_x=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),yx(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bx(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(jx,this.props)}}])&&gx(r.prototype,a),s&&gx(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.Component);wx(_x,"displayName","YAxis"),wx(_x,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var Nx=gv({chartName:"LineChart",GraphicalChild:Cv,axisComponents:[{axisType:"xAxis",AxisComp:mx},{axisType:"yAxis",AxisComp:_x}],formatAxisMap:_p}),Px=["x1","y1","x2","y2","key"],Ex=["offset"];function Ox(e){return Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(e)}function Ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ax(Object(n),!0).forEach(function(t){Tx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ox(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ox(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ox(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(this,arguments)}function Dx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Mx=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.ry;return t.createElement("rect",{x:a,y:s,ry:l,width:o,height:i,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Rx(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(_e()(e))r=e(n);else{var a=n.x1,s=n.y1,o=n.x2,i=n.y2,l=n.key,c=Dx(n,Px),u=Je(c,!1),d=(u.offset,Dx(u,Ex));r=t.createElement("line",Cx({},d,{x1:a,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function Lx(e){var n=e.x,r=e.width,a=e.horizontal,s=void 0===a||a,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=Ix(Ix({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return Rx(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Bx(e){var n=e.y,r=e.height,a=e.vertical,s=void 0===a||a,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(t,a){var o=Ix(Ix({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return Rx(s,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Fx(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?s+i-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Wx(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?o+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:i,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Ux=function(e,t){var n=e.xAxis,r=e.width,a=e.height,s=e.offset;return Wh(Uv(Ix(Ix(Ix({},rx.defaultProps),n),{},{ticks:Uh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},zx=function(e,t){var n=e.yAxis,r=e.width,a=e.height,s=e.offset;return Wh(Uv(Ix(Ix(Ix({},rx.defaultProps),n),{},{ticks:Uh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},Vx={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hx(e){var n,r,a,s,o,i,l=rg(),c=ag(),u=(0,t.useContext)(Xp),d=Ix(Ix({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:Vx.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:Vx.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:Vx.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:Vx.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:Vx.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:Vx.verticalFill,x:me(e.x)?e.x:u.left,y:me(e.y)?e.y:u.top,width:me(e.width)?e.width:u.width,height:me(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,p=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(Kp);return xe(e)}(),b=function(){var e=(0,t.useContext)(Yp);return Hp()(e,function(e){return Kf()(e.domain,Number.isFinite)})||xe(e)}();if(!me(m)||m<=0||!me(p)||p<=0||!me(h)||h!==+h||!me(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||Ux,S=d.horizontalCoordinatesGenerator||zx,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&_e()(S)){var _=y&&y.length,N=S({yAxis:b?Ix(Ix({},b),{},{ticks:_?y:b.ticks}):void 0,width:l,height:c,offset:u},!!_||g);ke(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ox(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&_e()(w)){var P=v&&v.length,E=w({xAxis:x?Ix(Ix({},x),{},{ticks:P?v:x.ticks}):void 0,width:l,height:c,offset:u},!!P||g);ke(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ox(E),"]")),Array.isArray(E)&&(j=E)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Mx,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(Lx,Cx({},d,{offset:u,horizontalPoints:k,xAxis:x,yAxis:b})),t.createElement(Bx,Cx({},d,{offset:u,verticalPoints:j,xAxis:x,yAxis:b})),t.createElement(Fx,Cx({},d,{horizontalPoints:k})),t.createElement(Wx,Cx({},d,{verticalPoints:j})))}Hx.displayName="CartesianGrid";const qx=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:l,getTeamName:c,getTeamDetails:u}=$(),[d,f]=(0,t.useState)([]),[m,p]=(0,t.useState)("winPercentage"),[g,y]=(0,t.useState)("desc"),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)({}),[j,_]=(0,t.useState)([]),[N,P]=(0,t.useState)(!1),E=["#8884d8","#82ca9d","#ffc658","#f5222d","#fa8c16","#a0d911","#52c41a","#1890ff","#2f54eb","#722ed1","#eb2f96","#faad14","#13c2c2","#eb2f96","#fadb14","#52c41a"];(0,t.useEffect)(()=>{if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return f([]),x([]),w([]),k({}),void _([]);if("function"!==typeof c)return h.A.error("LeagueHistory: getDisplayTeamNameFromContext is not a function. Cannot process data."),f([]),x([]),w([]),k({}),void _([]);const{seasonalMetrics:e,careerDPRData:t}=s(o,0,c,l);h.A.debug("LeagueHistory: calculatedCareerDPRs after initial calculation:",t);const n=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),i={};t.forEach(e=>{const t=e.ownerId,n=c(t,null);n&&!n.startsWith("Unknown Team (ID:")?i[n]={totalWins:e.wins,totalLosses:e.losses,totalTies:e.ties,totalPointsFor:e.pointsFor,totalGames:e.totalGames,careerDPR:e.dpr,seasonsPlayed:new Set,awards:{championships:e.championships||0,runnerUps:e.runnerUps||0,thirdPlace:e.thirdPlaces||0,firstPoints:e.pointsChampionships||0,secondPoints:e.pointsRunnerUps||0,thirdPoints:e.thirdPlacePoints||0},ownerId:t}:h.A.warn("LeagueHistory: Skipping career stats for ownerId ".concat(t," due to unresolved team name."))}),h.A.debug("LeagueHistory: teamOverallStats after population:",i),Object.keys(o.rostersBySeason).forEach(e=>{const t=o.rostersBySeason[e];t&&t.forEach(t=>{const n=t.owner_id,r=c(n,null);i[r]&&i[r].seasonsPlayed.add(parseInt(e))})});const u={};n.forEach(t=>{var n;const r=e[t],a=(o.winnersBracketBySeason[t],null===(n=o.losersBracketBySeason)||void 0===n||n[t],o.rostersBySeason[t]||[]);new Map(a.map(e=>[String(e.roster_id),String(e.owner_id)]));u[t]={champion:"N/A",secondPlace:"N/A",thirdPlace:"N/A",pointsChamp:"N/A",pointsSecond:"N/A",pointsThird:"N/A"};let s=!1;if(r&&Object.values(r).forEach(e=>{e.isChampion&&(u[t].champion=c(e.ownerId,t),s=!0),e.isRunnerUp&&(u[t].secondPlace=c(e.ownerId,t),s=!0),e.isThirdPlace&&(u[t].thirdPlace=c(e.ownerId,t),s=!0)}),r){Object.values(r).map(e=>({ownerId:e.ownerId,points:e.pointsFor,isPointsChampion:e.isPointsChampion,isPointsRunnerUp:e.isPointsRunnerUp,isThirdPlacePoints:e.isThirdPlacePoints})).forEach(e=>{e.isPointsChampion&&(u[t].pointsChamp=c(e.ownerId,t)),e.isPointsRunnerUp&&(u[t].pointsSecond=c(e.ownerId,t)),e.isThirdPlacePoints&&(u[t].pointsThird=c(e.ownerId,t))})}else h.A.warn("LeagueHistory: No seasonal metrics found for year ".concat(t,". Cannot determine points awards."));const i=u[t];"N/A"!==i.champion||"N/A"!==i.secondPlace||"N/A"!==i.thirdPlace||"N/A"!==i.pointsChamp||"N/A"!==i.pointsSecond||"N/A"!==i.pointsThird||delete u[t]}),h.A.debug("LeagueHistory: newSeasonAwardsSummary after processing:",u);const d={},m={};Object.keys(o.rostersBySeason).forEach(e=>{(o.rostersBySeason[e]||[]).forEach(t=>{const n=String(t.owner_id),r=String(t.roster_id);d[n]||(d[n]=new Set),d[n].add(r),m[r]=String(e)})});const p=Object.keys(i).map(n=>{const r=i[n];if(0===r.seasonsPlayed.size)return null;const a=r.totalWins+r.totalLosses+r.totalTies,s=a>0?(r.totalWins+.5*r.totalTies)/a:0,o=Array.from(r.seasonsPlayed).sort((e,t)=>e-t),l=o.length>0?o[0]:"",c=o.length>0?o[o.length-1]:"",u=r.seasonsPlayed.size;let d=(0,G.jsx)(G.Fragment,{children:u>0?l===c?(0,G.jsxs)(G.Fragment,{children:[l," ",(0,G.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):(0,G.jsxs)(G.Fragment,{children:[l,"-",c," ",(0,G.jsxs)("span",{className:"text-xs text-gray-500",children:["(",u,")"]})]}):""});const h=t.find(e=>e.ownerId===r.ownerId),f=t=>{const n=[];return Object.entries(e).forEach(e=>{let[a,s]=e;const o=Object.values(s).find(e=>e.ownerId===r.ownerId&&e[t]);o&&n.push(a)}),n},m=h?{championships:h.championships||0,championshipsYears:f("isChampion"),runnerUps:h.runnerUps||0,runnerUpsYears:f("isRunnerUp"),thirdPlace:h.thirdPlaces||0,thirdPlaceYears:f("isThirdPlace"),firstPoints:h.pointsChampionships||0,firstPointsYears:f("isPointsChampion"),secondPoints:h.pointsRunnerUps||0,secondPointsYears:f("isPointsRunnerUp"),thirdPoints:h.thirdPlacePoints||0,thirdPointsYears:f("isThirdPlacePoints")}:{championships:0,championshipsYears:[],runnerUps:0,runnerUpsYears:[],thirdPlace:0,thirdPlaceYears:[],firstPoints:0,firstPointsYears:[],secondPoints:0,secondPointsYears:[],thirdPoints:0,thirdPointsYears:[]};return{team:n,seasons:d,totalDPR:r.careerDPR,record:"".concat(r.totalWins,"-").concat(r.totalLosses,"-").concat(r.totalTies),totalWins:r.totalWins,winPercentage:s,awards:m,ownerId:r.ownerId}}).filter(Boolean).sort((e,t)=>t.winPercentage-e.winPercentage);f(p);const g=[],y=Object.keys(o.matchupsBySeason).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t),v=Array.from(new Set(t.map(e=>e.ownerId))),b=v.map(e=>c(e,null)).sort();w(b),y.forEach(e=>{const t={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(o.matchupsBySeason).forEach(n=>{parseInt(n)<=e&&(t.matchupsBySeason[n]=o.matchupsBySeason[n],t.rostersBySeason[n]=o.rostersBySeason[n],t.leaguesMetadataBySeason[n]=o.leaguesMetadataBySeason[n],t.winnersBracketBySeason[n]=o.winnersBracketBySeason[n],t.losersBracketBySeason[n]=o.losersBracketBySeason[n],t.usersBySeason[n]=o.usersBySeason[n])});const{careerDPRData:n}=s(t,0,c,l),r=v.map(e=>{var t;const r=null===(t=n.find(t=>t.ownerId===e))||void 0===t?void 0:t.dpr;return{ownerId:e,dpr:void 0!==r?r:-9999,teamName:c(e,null)}});r.sort((e,t)=>t.dpr-e.dpr),r.forEach((e,t)=>{e.rank=t+1});const a={year:e};r.forEach(e=>{a[e.teamName]=e.rank}),g.push(a)}),x(g),k(u),_(Object.keys(u).map(Number).sort((e,t)=>t-e))},[o,i,l,c,r,a]);const O=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return".000%"},A=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),I=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e="string"===typeof r?parseInt(r):r,t=v.find(t=>parseInt(t.year)===e);let a=[];if(o&&i&&c&&l&&b){const t=Array.from(new Set(Object.keys(o.rostersBySeason).flatMap(e=>(o.rostersBySeason[e]||[]).map(e=>e.owner_id)))),n={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(o.matchupsBySeason).forEach(t=>{parseInt(t)<=e&&(n.matchupsBySeason[t]=o.matchupsBySeason[t],n.rostersBySeason[t]=o.rostersBySeason[t],n.leaguesMetadataBySeason[t]=o.leaguesMetadataBySeason[t],n.winnersBracketBySeason[t]=o.winnersBracketBySeason[t],n.losersBracketBySeason[t]=o.losersBracketBySeason[t],n.usersBySeason[t]=o.usersBySeason[t])});const{careerDPRData:r}=s(n,0,c,l);a=t.map(e=>{const t=r.find(t=>t.ownerId===e);return{ownerId:e,dpr:t?t.dpr:void 0,teamName:c(e,null)}})}const u={};a.forEach(e=>{u[e.ownerId]=e.dpr});const d=n.map(e=>{let n;if(a&&a.length>0){const t=a.find(t=>t.teamName===e.name);t&&(n=t.ownerId)}return{team:e.name,rank:t?t[e.name]:void 0,color:e.color,ownerId:n}});return d.sort((e,t)=>e.rank-t.rank),(0,G.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,G.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:"Year: ".concat(r)}),d.map((e,t)=>(0,G.jsx)("p",{style:{color:e.color},children:e.team},"item-".concat(t)))]})}return null},T=b.length,C=[];for(let t=1;t<=T;t++)C.push(t);const D=()=>{const e=[...d];return e.sort((e,t)=>{let n=e[m],r=t[m];var a,s;if("team"===m)return n=(null===(a=n)||void 0===a?void 0:a.toLowerCase())||"",r=(null===(s=r)||void 0===s?void 0:s.toLowerCase())||"",n<r?"asc"===g?-1:1:n>r?"asc"===g?1:-1:0;if("seasons"===m){var o,i,l,c,u,d,h,f,p,y;const n=(null===(o=e.seasons)||void 0===o||null===(i=o.props)||void 0===i||null===(l=i.children)||void 0===l||null===(c=l[1])||void 0===c||null===(u=c.props)||void 0===u?void 0:u.children)||0,r=(null===(d=t.seasons)||void 0===d||null===(h=d.props)||void 0===h||null===(f=h.children)||void 0===f||null===(p=f[1])||void 0===p||null===(y=p.props)||void 0===y?void 0:y.children)||0;return"asc"===g?n-r:r-n}if("awards"===m){const n=e.awards||{},r=t.awards||{};return n.championships!==r.championships?"asc"===g?n.championships-r.championships:r.championships-n.championships:n.runnerUps!==r.runnerUps?"asc"===g?n.runnerUps-r.runnerUps:r.runnerUps-n.runnerUps:n.thirdPlace!==r.thirdPlace?"asc"===g?n.thirdPlace-r.thirdPlace:r.thirdPlace-n.thirdPlace:0}return n="string"===typeof n?parseFloat(n):n,r="string"===typeof r?parseFloat(r):r,isNaN(n)&&(n=0),isNaN(r)&&(r=0),"asc"===g?n-r:r-n}),e};return(0,G.jsxs)("div",{className:"w-full max-w-5xl mx-auto p-2 sm:p-4 md:p-8 font-inter",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"League History & Awards"}),r?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Loading league history data..."}):a?(0,G.jsx)("p",{className:"text-center text-red-500 font-semibold",children:a.message||String(a)}):0===d.length?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No historical matchup data found to display league history. Please check your Sleeper API configuration."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3 mb-8",children:D().map((e,t)=>{const n=u?u(e.ownerId,null):{name:e.team,avatar:void 0};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),n.avatar&&(0,G.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:e.team}),(0,G.jsxs)("p",{className:"text-xs text-gray-500",children:["Seasons: ",e.seasons]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:A(e.totalDPR)}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Career DPR"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:e.record})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold text-blue-700",children:O(e.winPercentage)})]})]}),(0,G.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.awards.championships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,G.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,G.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,G.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})]},e.team)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg mb-8",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Seasons"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Awards"})]})}),(0,G.jsx)("tbody",{children:D().map((e,t)=>{const n=u?u(e.ownerId,null):{name:e.team,avatar:void 0};return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[n.avatar&&(0,G.jsx)("img",{src:n.avatar,alt:n.name+" logo",className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm flex items-center gap-1",children:e.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.seasons}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:A(e.totalDPR)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.record}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:O(e.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:(0,G.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap",children:[e.awards.championships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Championship".concat(e.awards.championshipsYears.length>0?" ("+e.awards.championshipsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up".concat(e.awards.runnerUpsYears.length>0?" ("+e.awards.runnerUpsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,G.jsxs)("span",{title:"3rd Place Finish".concat(e.awards.thirdPlaceYears.length>0?" ("+e.awards.thirdPlaceYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,G.jsxs)("span",{title:"1st Place - Points".concat(e.awards.firstPointsYears.length>0?" ("+e.awards.firstPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,G.jsxs)("span",{title:"2nd Place - Points".concat(e.awards.secondPointsYears.length>0?" ("+e.awards.secondPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points".concat(e.awards.thirdPointsYears.length>0?" ("+e.awards.thirdPointsYears.join(", ")+")":""),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})})]},e.team)})})]})}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season-by-Season Champions & Awards"}),Object.keys(S).length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"sm:hidden space-y-3 mb-4",children:[(N?j:j.slice(0,8)).map(e=>{const t=S[e];return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:e}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Awards"})]}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Champion"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.champion,children:t.champion})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"2nd Place"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.secondPlace,children:t.secondPlace})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"3rd Place"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.thirdPlace,children:t.thirdPlace})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points Champ"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsChamp,children:t.pointsChamp})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points 2nd"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsSecond,children:t.pointsSecond})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Points 3rd"}),(0,G.jsx)("div",{className:"font-medium truncate",title:t.pointsThird,children:t.pointsThird})]})]})]})]},"mobile-awards-".concat(e))}),j.length>8&&(0,G.jsx)("div",{className:"flex justify-center mt-2",children:(0,G.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>P(!N),children:N?"Show less":"Show all ".concat(j.length)})})]}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-2 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Year"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Champion"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"2nd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"3rd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points Champ"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points 2nd"}),(0,G.jsx)("th",{className:"py-2 px-2 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points 3rd"})]})}),(0,G.jsxs)("tbody",{children:[(N?j:j.slice(0,8)).map((e,t)=>{const n=S[e];return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-800 font-semibold text-center whitespace-nowrap",children:e}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 font-medium truncate",title:n.champion,children:n.champion}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.secondPlace,children:n.secondPlace}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.thirdPlace,children:n.thirdPlace}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsChamp,children:n.pointsChamp}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsSecond,children:n.pointsSecond}),(0,G.jsx)("td",{className:"py-2 px-2 text-sm text-gray-700 truncate",title:n.pointsThird,children:n.pointsThird})]},"desktop-awards-".concat(e))}),!N&&j.length>8&&(0,G.jsx)("tr",{children:(0,G.jsx)("td",{colSpan:7,className:"py-2 px-2 text-center",children:(0,G.jsx)("button",{className:"text-blue-600 text-sm font-medium",onClick:()=>P(!0),children:"Show all ".concat(j.length)})})})]})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No season-by-season award data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Total DPR Progression Over Seasons"}),v.length>0?(0,G.jsxs)(lt,{width:"100%",aspect:1.5,children:[" ",(0,G.jsxs)(Nx,{data:v,margin:{top:20,right:10,left:10,bottom:5},children:[(0,G.jsx)(Hx,{strokeDasharray:"3 3"}),(0,G.jsx)(mx,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:0}}),(0,G.jsx)(_x,{label:{value:"Rank (1 = Best)",angle:-90,position:"insideLeft",offset:0},domain:[1,T],tickFormatter:e=>"#".concat(e),ticks:C,reversed:!0,allowDataOverflow:!0,padding:{top:10,bottom:10}}),(0,G.jsx)(dn,{content:(0,G.jsx)(I,{})}),(0,G.jsx)(Wr,{}),b.map((e,t)=>(0,G.jsx)(Cv,{type:"monotone",dataKey:e,stroke:E[t%E.length],activeDot:{r:8},dot:{r:4},strokeWidth:2},e))]})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No total DPR progression data available for charting."})]})]})]})},Gx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,o=s?e[a+1]:0,i=a+2<e.length,l=i?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;i||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const i=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==o||null==i)throw new Yx;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==i){const e=o<<6&192|i;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qx=function(e){return function(e){const t=Gx(e);return Kx.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xx=function(e){try{return Kx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const $x=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Jx=()=>{try{return $x()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Xx(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Zx=e=>{var t,n;return null===(n=null===(t=Jx())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},eb=()=>{var e;return null===(e=Jx())||void 0===e?void 0:e.config},tb=e=>{var t;return null===(t=Jx())||void 0===t?void 0:t["_".concat(e)]};class nb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function rb(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ab(){return!function(){var e;const t=null===(e=Jx())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sb(){try{return"object"===typeof indexedDB}catch(e){return!1}}class ob extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ob.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ib.prototype.create)}}class ib{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(lb,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new ob(n,s,t)}}const lb=/\{\$([^}]+)}/g;function cb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(ub(n)&&ub(s)){if(!cb(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function ub(e){return null!==e&&"object"===typeof e}function db(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hb(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function fb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class mb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pb),void 0===r.error&&(r.error=pb),void 0===r.complete&&(r.complete=pb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pb(){}function gb(e){return e&&e._delegate?e._delegate:e}class yb{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vb="[DEFAULT]";class xb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new nb;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vb})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===vb?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;return this.component?this.component.multipleInstances?e:vb:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const wb=[];var Sb;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Sb||(Sb={}));const kb={debug:Sb.DEBUG,verbose:Sb.VERBOSE,info:Sb.INFO,warn:Sb.WARN,error:Sb.ERROR,silent:Sb.SILENT},jb=Sb.INFO,_b={[Sb.DEBUG]:"log",[Sb.VERBOSE]:"log",[Sb.INFO]:"info",[Sb.WARN]:"warn",[Sb.ERROR]:"error"},Nb=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_b[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Pb{constructor(e){this.name=e,this._logLevel=jb,this._logHandler=Nb,this._userLogHandler=null,wb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sb))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sb.DEBUG,...t),this._logHandler(this,Sb.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sb.VERBOSE,...t),this._logHandler(this,Sb.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sb.INFO,...t),this._logHandler(this,Sb.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sb.WARN,...t),this._logHandler(this,Sb.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sb.ERROR,...t),this._logHandler(this,Sb.ERROR,...t)}}let Eb,Ob;const Ab=new WeakMap,Ib=new WeakMap,Tb=new WeakMap,Cb=new WeakMap,Db=new WeakMap;let Mb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ib.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tb.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bb(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rb(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Fb(this),n),Bb(Ab.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bb(e.apply(Fb(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(Fb(this),t,...r);return Tb.set(s,t.sort?t.sort():[t]),Bb(s)}}function Lb(e){return"function"===typeof e?Rb(e):(e instanceof IDBTransaction&&function(e){if(Ib.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Ib.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Mb):e)}function Bb(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(Bb(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Ab.set(t,e)}).catch(()=>{}),Db.set(t,e),t}(e);if(Cb.has(e))return Cb.get(e);const t=Lb(e);return t!==e&&(Cb.set(e,t),Db.set(t,e)),t}const Fb=e=>Db.get(e);const Wb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],zb=new Map;function Vb(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(zb.get(t))return zb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Ub.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Wb.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r&&(s=s.index(i.shift())),(await Promise.all([s[n](...i),a&&t.done]))[0]};return zb.set(t,s),s}Mb=(e=>u(u({},e),{},{get:(t,n,r)=>Vb(t,n)||e.get(t,n,r),has:(t,n)=>!!Vb(t,n)||e.has(t,n)}))(Mb);class Hb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const qb="@firebase/app",Gb="0.10.13",Kb=new Pb("@firebase/app"),Yb="@firebase/app-compat",Qb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Jb="@firebase/app-check",Zb="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",rw="@firebase/database-compat",aw="@firebase/functions",sw="@firebase/functions-compat",ow="@firebase/installations",iw="@firebase/installations-compat",lw="@firebase/messaging",cw="@firebase/messaging-compat",uw="@firebase/performance",dw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",mw="@firebase/storage",pw="@firebase/storage-compat",gw="@firebase/firestore",yw="@firebase/vertexai-preview",vw="@firebase/firestore-compat",xw="firebase",bw="[DEFAULT]",ww={[qb]:"fire-core",[Yb]:"fire-core-compat",[Xb]:"fire-analytics",[Qb]:"fire-analytics-compat",[Jb]:"fire-app-check",[$b]:"fire-app-check-compat",[Zb]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[aw]:"fire-fn",[sw]:"fire-fn-compat",[ow]:"fire-iid",[iw]:"fire-iid-compat",[lw]:"fire-fcm",[cw]:"fire-fcm-compat",[uw]:"fire-perf",[dw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[mw]:"fire-gcs",[pw]:"fire-gcs-compat",[gw]:"fire-fst",[vw]:"fire-fst-compat",[yw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"},Sw=new Map,kw=new Map,jw=new Map;function _w(e,t){try{e.container.addComponent(t)}catch(n){Kb.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Nw(e){const t=e.name;if(jw.has(t))return Kb.debug("There were multiple attempts to register component ".concat(t,".")),!1;jw.set(t,e);for(const n of Sw.values())_w(n,e);for(const n of kw.values())_w(n,e);return!0}function Pw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ew(e){return void 0!==e.settings}const Ow=new ib("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Aw{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yb("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ow.create("app-deleted",{appName:this._name})}}const Iw="10.14.1";function Tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:bw,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Ow.create("bad-app-name",{appName:String(a)});if(n||(n=eb()),!n)throw Ow.create("no-options");const s=Sw.get(a);if(s){if(cb(n,s.options)&&cb(r,s.config))return s;throw Ow.create("duplicate-app",{appName:a})}const o=new bb(a);for(const l of jw.values())o.addComponent(l);const i=new Aw(n,r,o);return Sw.set(a,i),i}function Cw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bw;const t=Sw.get(e);if(!t&&e===bw&&eb())return Tw();if(!t)throw Ow.create("no-app",{appName:e});return t}function Dw(e,t,n){var r;let a=null!==(r=ww[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Kb.warn(e.join(" "))}Nw(new yb("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const Mw="firebase-heartbeat-store";let Rw=null;function Lw(){return Rw||(Rw=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),i=Bb(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Bb(o.result),e.oldVersion,e.newVersion,Bb(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Mw)}catch(n){console.warn(n)}}}).catch(e=>{throw Ow.create("idb-open",{originalErrorMessage:e.message})})),Rw}async function Bw(e,t){try{const n=(await Lw()).transaction(Mw,"readwrite"),r=n.objectStore(Mw);await r.put(t,Fw(e)),await n.done}catch(n){if(n instanceof ob)Kb.warn(n.message);else{const e=Ow.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Kb.warn(e.message)}}}function Fw(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ww{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zw(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uw();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){Kb.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Uw(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Vw(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Qx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Kb.warn(t),""}}}function Uw(){return(new Date).toISOString().substring(0,10)}class zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!sb()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Lw()).transaction(Mw),n=await t.objectStore(Mw).get(Fw(e));return await t.done,n}catch(t){if(t instanceof ob)Kb.warn(t.message);else{const e=Ow.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Kb.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Bw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Bw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Vw(e){return Qx(JSON.stringify({version:2,heartbeats:e})).length}var Hw;Hw="",Nw(new yb("platform-logger",e=>new Hb(e),"PRIVATE")),Nw(new yb("heartbeat",e=>new Ww(e),"PRIVATE")),Dw(qb,Gb,Hw),Dw(qb,Gb,"esm2017"),Dw("fire-js","");Dw("firebase","10.14.1","app");var qw,Gw,Kw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Yw={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var s=e.g[3],o=t+(s^n&(a^s))+r[0]+3614090360&4294967295;o=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(a^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^s&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^s&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(a^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(a^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=s+((o=a+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,a),s=0;break}}else for(;o<t;)if(a[s++]=e[o++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return i;if(0>e)return h(o(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var i=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(i,i);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(a=a.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=i;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=f(e,c)}return new p(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,s=[],o=0;o<a;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,s=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,s=0;s<=t;s++){var o=a+(65535&this.i(s))+(65535&e.i(s)),i=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);a=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return i;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var s=0;s<e.g.length;s++){var l=this.i(a)>>>16,f=65535&this.i(a),p=e.i(s)>>>16,g=65535&e.i(s);n[2*a+2*s]+=f*g,m(n,2*a+2*s),n[2*a+2*s+1]+=l*g,m(n,2*a+2*s+1),n[2*a+2*s+1]+=f*p,m(n,2*a+2*s+1),n[2*a+2*s+2]+=l*p,m(n,2*a+2*s+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gw=Yw.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),a=i,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),a=a.j(l).add(o(c))):a=(a=a.j(r)).add(o(c))}return a},qw=Yw.Integer=r}).apply("undefined"!==typeof Kw?Kw:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Qw,Xw,$w,Jw,Zw,eS,tS,nS,rS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},aS={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rS&&rS];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in a))break e;a=a[o]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function i(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){a.setTimeout(()=>{throw e},0)}function j(){var e=O;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,E=!1,O=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=a.Promise.resolve(void 0);P=()=>{e.then(I)}};var I=()=>{for(var e;e=j();){try{e.h.call(e.g)}catch(In){k(In)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function T(){this.s=this.s,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(In){}return e}();function M(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(s){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,C);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),B=0;function F(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++B,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=0<=s)&&Array.prototype.splice.call(a,s,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var a=0;a<e.length;++a){var s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}U.prototype.add=function(e,t,n,r,a){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=V(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,a){if(r&&r.once)return Y(e,t,n,r,a);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");var i=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new U(e)),(n=l.add(t,n,r,i,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=i),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Q(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,a);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(s=e.g[t],n,r,a))&&(W(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):W(e)}}}function $(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){T.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var a=t;w(t=new C(r,e),a)}if(a=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];a=ae(o,r,!0,t)&&a}if(a=ae(o=t.g=e,r,!0,t)&&a,a=ae(o,r,!1,t)&&a,n)for(s=0;s<n.length;s++)a=ae(o=t.g=n[s],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var i=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),a=!1!==i.call(l,r)&&a}}return a&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,T),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)W(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ie extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){T.call(this),this.h=e,this.g={}}d(le,T);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){C.call(this,"d")}function xe(){C.call(this,"c")}d(ve,C),d(xe,C);var be={},we=null;function Se(){return we=we||new ne}function ke(e){C.call(this,be.La,e)}function je(e){const t=Se();re(t,new ke(t))}function _e(e,t){C.call(this,be.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Se();re(t,new _e(t,e))}function Pe(e,t){C.call(this,be.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<a.length;o++)a[o]=""}}}return de(n)}catch(i){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(ke,C),be.STAT_EVENT="statevent",d(_e,C),be.Ma="timingevent",d(Pe,C),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Ie,Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ie=new De;var Le={},Be={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,We(e,null)}function We(e,t){e.F=Date.now(),Ve(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var s=0;s<a.length;s++){var o=G(n,a[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),je(),function(e,t,n,r,a,s){e.info(function(){if(e.g)if(s)for(var o="",i=s.split("&"),l=0;l<i.length;l++){var c=i[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Be:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Be:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function qe(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}nn(n),Ne(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!m(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var i=o,l=r.L;l&&(i.I=l),i.B&&(qe(i),Ve(i)),r.g=o}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}je()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||je(),qe(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=qt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var i="";break t}this.h.i=new a.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),Ge(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<i.length;){if(e=ze(this,i),e==Be){4==h&&(this.s=4,Ne(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Ae(this.i,this.l,i,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ye(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<i.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),rn(d),d.M=!0,Ne(11))}}else Ae(this.i,this.l,i,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Ae(this.i,this.l,i,null),Ye(this,i);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),Ge(this)}}}catch(sS){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(je(),Ne(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,it(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function it(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,xt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var s=e[n].substring(0,r);a=e[n].substring(r+1)}else s=e[n];t(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){wt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return wt(e),t=_t(e,t),e.g.has(t)}function jt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(s){}}function Pt(){this.g=new fe}function Et(e,t,n){const r=n||"";try{rt(e,function(e,n){let a=e;o(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,kt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var a=s;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")},d(Ot,me),Ot.prototype.g=function(){return new At(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Ct(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Qa=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Bt=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),zt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),s=!Lt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var i=2<Ht(e)?e.g.statusText:""}catch(l){i=""}e.l=i+" ["+e.Z()+"]",Wt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function Vt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lS){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(a.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||A(),E||(P(),E=!0),O.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const i=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{Et(i,e,"req"+n+"_")}catch(sS){r&&r(i)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||A(),E||(P(),E=!0),O.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,We(n,e)}function sn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Se(),new Pe(r,n)),$t(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||it(r,"https"),dt(r),t?function(e,t){const n=new Oe;if(a.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=a.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&it(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ot({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function pn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){xe.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?pe(this.o):pe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ft(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,i]of n)this.g.setRequestHeader(a,i);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ft(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(Dn){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Dn){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=x(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(a.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Fe(a,n,null)):Fe(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Yt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,pn.aa.N.call(this)},d(gn,ve),d(yn,xe),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,nS=aS.createWebChannelTransport=function(){return new mn},tS=aS.getStatEventTarget=function(){return Se()},eS=aS.Event=be,Zw=aS.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Jw=aS.ErrorCode=Te,Ce.COMPLETE="complete",$w=aS.EventType=Ce,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xw=aS.WebChannel=ge,aS.FetchXmlHttpFactory=Ot,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Qw=aS.XhrIo=Rt}).apply("undefined"!==typeof rS?rS:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const sS="@firebase/firestore";class oS{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oS.UNAUTHENTICATED=new oS(null),oS.GOOGLE_CREDENTIALS=new oS("google-credentials-uid"),oS.FIRST_PARTY=new oS("first-party-uid"),oS.MOCK_USER=new oS("mock-user");let iS="10.14.0";const lS=new Pb("@firebase/firestore");function cS(){return lS.logLevel}function uS(e){if(lS.logLevel<=Sb.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(fS);lS.debug("Firestore (".concat(iS,"): ").concat(e),...a)}}function dS(e){if(lS.logLevel<=Sb.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(fS);lS.error("Firestore (".concat(iS,"): ").concat(e),...a)}}function hS(e){if(lS.logLevel<=Sb.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(fS);lS.warn("Firestore (".concat(iS,"): ").concat(e),...a)}}function fS(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(LA){return e}}function mS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(iS,") INTERNAL ASSERTION FAILED: ")+e;throw dS(t),new Error(t)}function pS(e,t){e||mS()}function gS(e,t){return e}const yS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vS extends ob{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class xS{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oS.UNAUTHENTICATED))}shutdown(){}}class SS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kS{constructor(e){this.t=e,this.currentUser=oS.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pS(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new xS;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xS,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{uS("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(uS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xS)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(uS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pS("string"==typeof t.accessToken),new bS(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pS(null===e||"string"==typeof e),new oS(e)}}class jS{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=oS.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _S{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new jS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(oS.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pS(void 0===this.o);const n=e=>{null!=e.error&&uS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,uS("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{uS("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):uS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(pS("string"==typeof e.token),this.R=e.token,new NS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ES(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class OS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ES(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function AS(e,t){return e<t?-1:e>t?1:0}function IS(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class TS{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vS(yS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vS(yS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vS(yS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vS(yS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return TS.fromMillis(Date.now())}static fromDate(e){return TS.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new TS(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?AS(this.nanoseconds,e.nanoseconds):AS(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class CS{constructor(e){this.timestamp=e}static fromTimestamp(e){return new CS(e)}static min(){return new CS(new TS(0,0))}static max(){return new CS(new TS(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class DS{constructor(e,t,n){void 0===t?t=0:t>e.length&&mS(),void 0===n?n=e.length-t:n>e.length-t&&mS(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===DS.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof DS?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class MS extends DS{construct(e,t,n){return new MS(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new vS(yS.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new MS(e)}static emptyPath(){return new MS([])}}const RS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class LS extends DS{construct(e,t,n){return new LS(e,t,n)}static isValidIdentifier(e){return RS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),LS.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new LS(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new vS(yS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vS(yS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vS(yS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new vS(yS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new LS(t)}static emptyPath(){return new LS([])}}class BS{constructor(e){this.path=e}static fromPath(e){return new BS(MS.fromString(e))}static fromName(e){return new BS(MS.fromString(e).popFirst(5))}static empty(){return new BS(MS.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===MS.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return MS.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new BS(new MS(e.slice()))}}class FS{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}FS.UNKNOWN_ID=-1;function WS(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=CS.fromTimestamp(1e9===r?new TS(n+1,0):new TS(n,r));return new zS(a,BS.empty(),t)}function US(e){return new zS(e.readTime,e.key,-1)}class zS{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zS(CS.min(),BS.empty(),-1)}static max(){return new zS(CS.max(),BS.empty(),-1)}}function VS(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=BS.comparator(e.documentKey,t.documentKey),0!==n?n:AS(e.largestBatchId,t.largestBatchId))}const HS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function GS(e){if(e.code!==yS.FAILED_PRECONDITION||e.message!==HS)throw e;uS("LocalStore","Unexpectedly lost primary lease")}class KS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new KS((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof KS?t:KS.resolve(t)}catch(e){return KS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):KS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):KS.reject(t)}static resolve(e){return new KS((t,n)=>{t(e)})}static reject(e){return new KS((t,n)=>{n(e)})}static waitFor(e){return new KS((t,n)=>{let r=0,a=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++a,s&&a===r&&t()},e=>n(e))}),s=!0,a===r&&t()})}static or(e){let t=KS.resolve(!1);for(const n of e)t=t.next(e=>e?KS.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new KS((n,r)=>{const a=e.length,s=new Array(a);let o=0;for(let i=0;i<a;i++){const l=i;t(e[l]).next(e=>{s[l]=e,++o,o===a&&n(s)},e=>r(e))}})}static doWhile(e,t){return new KS((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function YS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function QS(e){return"IndexedDbTransactionError"===e.name}class XS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function $S(e){return null==e}function JS(e){return 0===e&&1/e==-1/0}function ZS(e){return"number"==typeof e&&Number.isInteger(e)&&!JS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}XS.oe=-1;const ek=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nk=tk,rk=[...nk,"indexConfiguration","indexState","indexEntries"];function ak(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sk(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ok(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ik{constructor(e,t){this.comparator=e,this.root=t||ck.EMPTY}insert(e,t){return new ik(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ck.BLACK,null,null))}remove(e){return new ik(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ck.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lk(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lk(this.root,e,this.comparator,!1)}getReverseIterator(){return new lk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lk(this.root,e,this.comparator,!0)}}class lk{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ck{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:ck.RED,this.left=null!=r?r:ck.EMPTY,this.right=null!=a?a:ck.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new ck(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ck.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ck.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ck.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ck.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mS();if(this.right.isRed())throw mS();const e=this.left.check();if(e!==this.right.check())throw mS();return e+(this.isRed()?0:1)}}ck.EMPTY=null,ck.RED=!0,ck.BLACK=!1,ck.EMPTY=new class{constructor(){this.size=0}get key(){throw mS()}get value(){throw mS()}get color(){throw mS()}get left(){throw mS()}get right(){throw mS()}copy(e,t,n,r,a){return this}insert(e,t,n){return new ck(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uk{constructor(e){this.comparator=e,this.data=new ik(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dk(this.data.getIterator())}getIteratorFrom(e){return new dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof uk))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new uk(this.comparator);return t.data=e,t}}class dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hk{constructor(e){this.fields=e,e.sort(LS.comparator)}static empty(){return new hk([])}unionWith(e){let t=new uk(LS.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hk(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return IS(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mk{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fk("Invalid base64 string: "+e):e}}(e);return new mk(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new mk(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return AS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mk.EMPTY_BYTE_STRING=new mk("");const pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gk(e){if(pS(!!e),"string"==typeof e){let t=0;const n=pk.exec(e);if(pS(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yk(e.seconds),nanos:yk(e.nanos)}}function yk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vk(e){return"string"==typeof e?mk.fromBase64String(e):mk.fromUint8Array(e)}function xk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bk(e){const t=e.mapValue.fields.__previous_value__;return xk(t)?bk(t):t}function wk(e){const t=gk(e.mapValue.fields.__local_write_time__.timestampValue);return new TS(t.seconds,t.nanos)}class Sk{constructor(e,t,n,r,a,s,o,i,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=i,this.useFetchStreams=l}}class kk{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kk("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kk&&e.projectId===this.projectId&&e.database===this.database}}const jk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _k(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xk(e)?4:Wk(e)?9007199254740991:Bk(e)?10:11:mS()}function Nk(e,t){if(e===t)return!0;const n=_k(e);if(n!==_k(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wk(e).isEqual(wk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gk(e.timestampValue),r=gk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vk(e.bytesValue).isEqual(vk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yk(e.geoPointValue.latitude)===yk(t.geoPointValue.latitude)&&yk(e.geoPointValue.longitude)===yk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yk(e.integerValue)===yk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yk(e.doubleValue),r=yk(t.doubleValue);return n===r?JS(n)===JS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return IS(e.arrayValue.values||[],t.arrayValue.values||[],Nk);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ak(n)!==ak(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Nk(n[a],r[a])))return!1;return!0}(e,t);default:return mS()}}function Pk(e,t){return void 0!==(e.values||[]).find(e=>Nk(e,t))}function Ek(e,t){if(e===t)return 0;const n=_k(e),r=_k(t);if(n!==r)return AS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return AS(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yk(e.integerValue||e.doubleValue),r=yk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ok(e.timestampValue,t.timestampValue);case 4:return Ok(wk(e),wk(t));case 5:return AS(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vk(e),r=vk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=AS(n[a],r[a]);if(0!==e)return e}return AS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=AS(yk(e.latitude),yk(t.latitude));return 0!==n?n:AS(yk(e.longitude),yk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ak(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,s;const o=e.fields||{},i=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=i.value)||void 0===r?void 0:r.arrayValue,u=AS((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ak(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===jk.mapValue&&t===jk.mapValue)return 0;if(e===jk.mapValue)return 1;if(t===jk.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=AS(r[o],s[o]);if(0!==e)return e;const t=Ek(n[r[o]],a[s[o]]);if(0!==t)return t}return AS(r.length,s.length)}(e.mapValue,t.mapValue);default:throw mS()}}function Ok(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return AS(e,t);const n=gk(e),r=gk(t),a=AS(n.seconds,r.seconds);return 0!==a?a:AS(n.nanos,r.nanos)}function Ak(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Ek(n[a],r[a]);if(e)return e}return AS(n.length,r.length)}function Ik(e){return Tk(e)}function Tk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vk(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return BS.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Tk(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(Tk(e.fields[a]));return n+"}"}(e.mapValue):mS()}function Ck(e){return!!e&&"integerValue"in e}function Dk(e){return!!e&&"arrayValue"in e}function Mk(e){return!!e&&"nullValue"in e}function Rk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lk(e){return!!e&&"mapValue"in e}function Bk(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sk(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Fk(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Wk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Uk{constructor(e){this.value=e}static empty(){return new Uk({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lk(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fk(t)}setAll(e){let t=LS.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Fk(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Lk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nk(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sk(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Uk(Fk(this.value))}}function zk(e){const t=[];return sk(e.fields,(e,n)=>{const r=new LS([e]);if(Lk(n)){const e=zk(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new hk(t)}class Vk{constructor(e,t,n,r,a,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Vk(e,0,CS.min(),CS.min(),CS.min(),Uk.empty(),0)}static newFoundDocument(e,t,n,r){return new Vk(e,1,t,CS.min(),n,r,0)}static newNoDocument(e,t){return new Vk(e,2,t,CS.min(),CS.min(),Uk.empty(),0)}static newUnknownDocument(e,t){return new Vk(e,3,t,CS.min(),CS.min(),Uk.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(CS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Uk.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Uk.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=CS.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vk&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vk(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hk{constructor(e,t){this.position=e,this.inclusive=t}}function qk(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],o=e.position[a];if(r=s.field.isKeyField()?BS.comparator(BS.fromName(o.referenceValue),n.key):Ek(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nk(e.position[n],t.position[n]))return!1;return!0}class Kk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Qk{}class Xk extends Qk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new aj(e,t,n):"array-contains"===t?new lj(e,n):"in"===t?new cj(e,n):"not-in"===t?new uj(e,n):"array-contains-any"===t?new dj(e,n):new Xk(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new sj(e,n):new oj(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ek(t,this.value)):null!==t&&_k(this.value)===_k(t)&&this.matchesComparison(Ek(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mS()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $k extends Qk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $k(e,t)}matches(e){return Jk(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jk(e){return"and"===e.op}function Zk(e){return ej(e)&&Jk(e)}function ej(e){for(const t of e.filters)if(t instanceof $k)return!1;return!0}function tj(e){if(e instanceof Xk)return e.field.canonicalString()+e.op.toString()+Ik(e.value);if(Zk(e))return e.filters.map(e=>tj(e)).join(",");{const t=e.filters.map(e=>tj(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function nj(e,t){return e instanceof Xk?function(e,t){return t instanceof Xk&&e.op===t.op&&e.field.isEqual(t.field)&&Nk(e.value,t.value)}(e,t):e instanceof $k?function(e,t){return t instanceof $k&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&nj(n,t.filters[r]),!0)}(e,t):void mS()}function rj(e){return e instanceof Xk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ik(e.value))}(e):e instanceof $k?function(e){return e.op.toString()+" {"+e.getFilters().map(rj).join(" ,")+"}"}(e):"Filter"}class aj extends Xk{constructor(e,t,n){super(e,t,n),this.key=BS.fromName(n.referenceValue)}matches(e){const t=BS.comparator(e.key,this.key);return this.matchesComparison(t)}}class sj extends Xk{constructor(e,t){super(e,"in",t),this.keys=ij("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oj extends Xk{constructor(e,t){super(e,"not-in",t),this.keys=ij("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ij(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>BS.fromName(e.referenceValue))}class lj extends Xk{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dk(t)&&Pk(t.arrayValue,this.value)}}class cj extends Xk{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pk(this.value.arrayValue,t)}}class uj extends Xk{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pk(this.value.arrayValue,t)}}class dj extends Xk{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dk(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Pk(this.value.arrayValue,e))}}class hj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function fj(e){return new hj(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mj(e){const t=gS(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>tj(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),$S(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ik(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ik(e)).join(",")),t.ue=e}return t.ue}function pj(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gk(e.startAt,t.startAt)&&Gk(e.endAt,t.endAt)}function gj(e){return BS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=i,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vj(e,t,n,r,a,s,o,i){return new yj(e,t,n,r,a,s,o,i)}function xj(e){return new yj(e)}function bj(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wj(e){return null!==e.collectionGroup}function Sj(e){const t=gS(e);if(null===t.ce){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new uk(LS.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Kk(r,n))}),e.has(LS.keyField().canonicalString())||t.ce.push(new Kk(LS.keyField(),n))}return t.ce}function kj(e){const t=gS(e);return t.le||(t.le=jj(t,Sj(e))),t.le}function jj(e,t){if("F"===e.limitType)return fj(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Kk(e.field,t)});const n=e.endAt?new Hk(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hk(e.startAt.position,e.startAt.inclusive):null;return fj(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _j(e,t,n){return new yj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nj(e,t){return pj(kj(e),kj(t))&&e.limitType===t.limitType}function Pj(e){return"".concat(mj(kj(e)),"|lt:").concat(e.limitType)}function Ej(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>rj(e)).join(", "),"]")),$S(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ik(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ik(e)).join(",")),"Target(".concat(t,")")}(kj(e)),"; limitType=").concat(e.limitType,")")}function Oj(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):BS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sj(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sj(e),t))&&!(e.endAt&&!function(e,t,n){const r=qk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sj(e),t))}(e,t)}function Aj(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ij(e){return(t,n)=>{let r=!1;for(const a of Sj(e)){const e=Tj(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Tj(e,t,n){const r=e.field.isKeyField()?BS.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Ek(r,a):mS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mS()}}class Cj{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sk(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return ok(this.inner)}size(){return this.innerSize}}const Dj=new ik(BS.comparator);function Mj(){return Dj}const Rj=new ik(BS.comparator);function Lj(){let e=Rj;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function Bj(e){let t=Rj;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Fj(){return Uj()}function Wj(){return Uj()}function Uj(){return new Cj(e=>e.toString(),(e,t)=>e.isEqual(t))}const zj=new ik(BS.comparator),Vj=new uk(BS.comparator);function Hj(){let e=Vj;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const qj=new uk(AS);function Gj(){return qj}function Kj(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:JS(t)?"-0":t}}function Yj(e){return{integerValue:""+e}}function Qj(e,t){return ZS(t)?Yj(t):Kj(e,t)}class Xj{constructor(){this._=void 0}}function $j(e,t,n){return e instanceof e_?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xk(t)&&(t=bk(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof t_?n_(e,t):e instanceof r_?a_(e,t):function(e,t){const n=Zj(e,t),r=o_(n)+o_(e.Pe);return Ck(n)&&Ck(e.Pe)?Yj(r):Kj(e.serializer,r)}(e,t)}function Jj(e,t,n){return e instanceof t_?n_(e,t):e instanceof r_?a_(e,t):n}function Zj(e,t){return e instanceof s_?function(e){return Ck(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class e_ extends Xj{}class t_ extends Xj{constructor(e){super(),this.elements=e}}function n_(e,t){const n=i_(t);for(const r of e.elements)n.some(e=>Nk(e,r))||n.push(r);return{arrayValue:{values:n}}}class r_ extends Xj{constructor(e){super(),this.elements=e}}function a_(e,t){let n=i_(t);for(const r of e.elements)n=n.filter(e=>!Nk(e,r));return{arrayValue:{values:n}}}class s_ extends Xj{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function o_(e){return yk(e.integerValue||e.doubleValue)}function i_(e){return Dk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class l_{constructor(e,t){this.version=e,this.transformResults=t}}class c_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new c_}static exists(e){return new c_(void 0,e)}static updateTime(e){return new c_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function u_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class d_{}function h_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new S_(e.key,c_.none()):new y_(e.key,e.data,c_.none());{const n=e.data,r=Uk.empty();let a=new uk(LS.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new v_(e.key,r,new hk(a.toArray()),c_.none())}}function f_(e,t,n){e instanceof y_?function(e,t,n){const r=e.value.clone(),a=b_(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof v_?function(e,t,n){if(!u_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=b_(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(x_(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function m_(e,t,n,r){return e instanceof y_?function(e,t,n,r){if(!u_(e.precondition,t))return n;const a=e.value.clone(),s=w_(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof v_?function(e,t,n,r){if(!u_(e.precondition,t))return n;const a=w_(e.fieldTransforms,r,t),s=t.data;return s.setAll(x_(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return u_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function p_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Zj(r.transform,e||null);null!=a&&(null===n&&(n=Uk.empty()),n.set(r.field,a))}return n||null}function g_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&IS(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof t_&&t instanceof t_||e instanceof r_&&t instanceof r_?IS(e.elements,t.elements,Nk):e instanceof s_&&t instanceof s_?Nk(e.Pe,t.Pe):e instanceof e_&&t instanceof e_}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class y_ extends d_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class v_ extends d_{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function x_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function b_(e,t,n){const r=new Map;pS(e.length===n.length);for(let a=0;a<n.length;a++){const s=e[a],o=s.transform,i=t.data.field(s.field);r.set(s.field,Jj(o,i,n[a]))}return r}function w_(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,$j(e,s,t))}return r}class S_ extends d_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k_ extends d_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j_{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&f_(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=m_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=m_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wj();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=t.has(r.key)?null:o;const i=h_(s,o);null!==i&&n.set(r.key,i),s.isValidDocument()||s.convertToNoDocument(CS.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hj())}isEqual(e){return this.batchId===e.batchId&&IS(this.mutations,e.mutations,(e,t)=>g_(e,t))&&IS(this.baseMutations,e.baseMutations,(e,t)=>g_(e,t))}}class __{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pS(e.mutations.length===n.length);let r=zj;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new __(e,t,n,r)}}class N_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class P_{constructor(e,t){this.count=e,this.unchangedNames=t}}var E_,O_;function A_(e){switch(e){default:return mS();case yS.CANCELLED:case yS.UNKNOWN:case yS.DEADLINE_EXCEEDED:case yS.RESOURCE_EXHAUSTED:case yS.INTERNAL:case yS.UNAVAILABLE:case yS.UNAUTHENTICATED:return!1;case yS.INVALID_ARGUMENT:case yS.NOT_FOUND:case yS.ALREADY_EXISTS:case yS.PERMISSION_DENIED:case yS.FAILED_PRECONDITION:case yS.ABORTED:case yS.OUT_OF_RANGE:case yS.UNIMPLEMENTED:case yS.DATA_LOSS:return!0}}function I_(e){if(void 0===e)return dS("GRPC error has no .code"),yS.UNKNOWN;switch(e){case E_.OK:return yS.OK;case E_.CANCELLED:return yS.CANCELLED;case E_.UNKNOWN:return yS.UNKNOWN;case E_.DEADLINE_EXCEEDED:return yS.DEADLINE_EXCEEDED;case E_.RESOURCE_EXHAUSTED:return yS.RESOURCE_EXHAUSTED;case E_.INTERNAL:return yS.INTERNAL;case E_.UNAVAILABLE:return yS.UNAVAILABLE;case E_.UNAUTHENTICATED:return yS.UNAUTHENTICATED;case E_.INVALID_ARGUMENT:return yS.INVALID_ARGUMENT;case E_.NOT_FOUND:return yS.NOT_FOUND;case E_.ALREADY_EXISTS:return yS.ALREADY_EXISTS;case E_.PERMISSION_DENIED:return yS.PERMISSION_DENIED;case E_.FAILED_PRECONDITION:return yS.FAILED_PRECONDITION;case E_.ABORTED:return yS.ABORTED;case E_.OUT_OF_RANGE:return yS.OUT_OF_RANGE;case E_.UNIMPLEMENTED:return yS.UNIMPLEMENTED;case E_.DATA_LOSS:return yS.DATA_LOSS;default:return mS()}}(O_=E_||(E_={}))[O_.OK=0]="OK",O_[O_.CANCELLED=1]="CANCELLED",O_[O_.UNKNOWN=2]="UNKNOWN",O_[O_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",O_[O_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",O_[O_.NOT_FOUND=5]="NOT_FOUND",O_[O_.ALREADY_EXISTS=6]="ALREADY_EXISTS",O_[O_.PERMISSION_DENIED=7]="PERMISSION_DENIED",O_[O_.UNAUTHENTICATED=16]="UNAUTHENTICATED",O_[O_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",O_[O_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",O_[O_.ABORTED=10]="ABORTED",O_[O_.OUT_OF_RANGE=11]="OUT_OF_RANGE",O_[O_.UNIMPLEMENTED=12]="UNIMPLEMENTED",O_[O_.INTERNAL=13]="INTERNAL",O_[O_.UNAVAILABLE=14]="UNAVAILABLE",O_[O_.DATA_LOSS=15]="DATA_LOSS";let T_=null;function C_(){return new TextEncoder}const D_=new qw([4294967295,4294967295],0);function M_(e){const t=C_().encode(e),n=new Gw;return n.update(t),new Uint8Array(n.digest())}function R_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qw([n,r],0),new qw([a,s],0)]}class L_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new B_("Invalid padding: ".concat(t));if(n<0)throw new B_("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new B_("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new B_("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=qw.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(qw.fromNumber(n)));return 1===r.compare(D_)&&(r=new qw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=M_(e),[n,r]=R_(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new L_(a,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=M_(e),[n,r]=R_(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class B_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class F_{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,W_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new F_(CS.min(),r,new ik(AS),Mj(),Hj())}}class W_{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new W_(n,t,Hj(),Hj(),Hj())}}class U_{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class z_{constructor(e,t){this.targetId=e,this.me=t}}class V_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mk.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class H_{constructor(){this.fe=0,this.ge=K_(),this.pe=mk.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Hj(),t=Hj(),n=Hj();return this.ge.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mS()}}),new W_(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=K_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pS(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q_{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mj(),this.qe=G_(),this.Qe=new ik(AS)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:mS()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const a=r.target;if(gj(a))if(0===n){const e=new BS(a.path);this.Ue(t,e,Vk.newNoDocument(e,CS.min()))}else pS(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),a=n?this.Xe(n,e,r):1;if(0!==a){this.je(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==T_||T_.et(function(e,t,n,r,a){var s,o,i,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(i=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===i?void 0:i.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,a))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,o;try{s=vk(n).toUint8Array()}catch(e){if(e instanceof fk)return hS("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new L_(s,r,a)}catch(e){return hS(e instanceof B_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Le.tt(),s="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const a=this.Je(r);if(a){if(n.current&&gj(a.target)){const t=new BS(a.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Vk.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Hj();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new F_(e,t,this.Qe,this.ke,n);return this.ke=Mj(),this.qe=G_(),this.Qe=new ik(AS),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new H_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new uk(AS),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||uS("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function G_(){return new ik(BS.comparator)}function K_(){return new ik(BS.comparator)}const Y_={asc:"ASCENDING",desc:"DESCENDING"},Q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X_={and:"AND",or:"OR"};class $_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J_(e,t){return e.useProto3Json||$S(t)?t:{value:t}}function Z_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tN(e,t){return Z_(e,t.toTimestamp())}function nN(e){return pS(!!e),CS.fromTimestamp(function(e){const t=gk(e);return new TS(t.seconds,t.nanos)}(e))}function rN(e,t){return aN(e,t).canonicalString()}function aN(e,t){const n=function(e){return new MS(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function sN(e){const t=MS.fromString(e);return pS(_N(t)),t}function oN(e,t){return rN(e.databaseId,t.path)}function iN(e,t){const n=sN(t);if(n.get(1)!==e.databaseId.projectId)throw new vS(yS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vS(yS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new BS(dN(n))}function lN(e,t){return rN(e.databaseId,t)}function cN(e){const t=sN(e);return 4===t.length?MS.emptyPath():dN(t)}function uN(e){return new MS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dN(e){return pS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hN(e,t,n){return{name:oN(e,t),fields:n.value.mapValue.fields}}function fN(e,t){let n;if(t instanceof y_)n={update:hN(e,t.key,t.value)};else if(t instanceof S_)n={delete:oN(e,t.key)};else if(t instanceof v_)n={update:hN(e,t.key,t.data),updateMask:jN(t.fieldMask)};else{if(!(t instanceof k_))return mS();n={verify:oN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof e_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof t_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof r_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof s_)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw mS()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mS()}(e,t.precondition)),n}function mN(e,t){return{documents:[lN(e,t.path)]}}function pN(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lN(e,a);const s=function(e){if(0!==e.length)return kN($k.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:wN(e.field),direction:vN(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const i=J_(e,t.limit);return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:a}}function gN(e){let t=cN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){pS(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=yN(e);return t instanceof $k&&Zk(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Kk(SN(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let i=null;n.limit&&(i=function(e){let t;return t="object"==typeof e?e.value:e,$S(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hk(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hk(n,t)}(n.endAt)),vj(t,a,o,s,i,"F",l,c)}function yN(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=SN(e.unaryFilter.field);return Xk.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=SN(e.unaryFilter.field);return Xk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=SN(e.unaryFilter.field);return Xk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=SN(e.unaryFilter.field);return Xk.create(a,"!=",{nullValue:"NULL_VALUE"});default:return mS()}}(e):void 0!==e.fieldFilter?function(e){return Xk.create(SN(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mS()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $k.create(e.compositeFilter.filters.map(e=>yN(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mS()}}(e.compositeFilter.op))}(e):mS()}function vN(e){return Y_[e]}function xN(e){return Q_[e]}function bN(e){return X_[e]}function wN(e){return{fieldPath:e.canonicalString()}}function SN(e){return LS.fromServerFormat(e.fieldPath)}function kN(e){return e instanceof Xk?function(e){if("=="===e.op){if(Rk(e.value))return{unaryFilter:{field:wN(e.field),op:"IS_NAN"}};if(Mk(e.value))return{unaryFilter:{field:wN(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rk(e.value))return{unaryFilter:{field:wN(e.field),op:"IS_NOT_NAN"}};if(Mk(e.value))return{unaryFilter:{field:wN(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wN(e.field),op:xN(e.op),value:e.value}}}(e):e instanceof $k?function(e){const t=e.getFilters().map(e=>kN(e));return 1===t.length?t[0]:{compositeFilter:{op:bN(e.op),filters:t}}}(e):mS()}function jN(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _N(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class NN{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:CS.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:CS.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mk.EMPTY_BYTE_STRING,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=i}withSequenceNumber(e){return new NN(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new NN(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new NN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new NN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PN{constructor(e){this.ct=e}}function EN(e){const t=gN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_j(t,t.limit,"L"):t}class ON{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(yk(e.integerValue));else if("doubleValue"in e){const n=yk(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),JS(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=gk(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(vk(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Wk(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bk(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):mS()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const a=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=a[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(yk(o)),this.Vt(s,t),this.Tt(a[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),BS.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}ON.vt=new ON;class AN{constructor(){this.un=new IN}addToCollectionParentIndex(e,t){return this.un.add(t),KS.resolve()}getCollectionParents(e,t){return KS.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return KS.resolve()}deleteFieldIndex(e,t){return KS.resolve()}deleteAllFieldIndexes(e){return KS.resolve()}createTargetIndexes(e,t){return KS.resolve()}getDocumentsMatchingTarget(e,t){return KS.resolve(null)}getIndexType(e,t){return KS.resolve(0)}getFieldIndexes(e,t){return KS.resolve([])}getNextCollectionGroupToUpdate(e){return KS.resolve(null)}getMinOffset(e,t){return KS.resolve(zS.min())}getMinOffsetFromCollectionGroup(e,t){return KS.resolve(zS.min())}updateCollectionGroup(e,t,n){return KS.resolve()}updateIndexEntries(e,t){return KS.resolve()}}class IN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uk(MS.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uk(MS.comparator)).toArray()}}new Uint8Array(0);class TN{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new TN(e,TN.DEFAULT_COLLECTION_PERCENTILE,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}TN.DEFAULT_COLLECTION_PERCENTILE=10,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,TN.DEFAULT=new TN(41943040,TN.DEFAULT_COLLECTION_PERCENTILE,TN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),TN.DISABLED=new TN(-1,0,0);class CN{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new CN(0)}static kn(){return new CN(-1)}}class DN{constructor(){this.changes=new Cj(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vk.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?KS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RN{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&m_(n.mutation,e,hk.empty(),TS.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Hj()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hj();const r=Fj();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Lj();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Fj();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Hj()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Mj();const s=Uj(),o=Uj();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof v_)?a=a.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),m_(o.mutation,t,o.mutation.getFieldMask(),TS.now())):s.set(t.key,hk.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new MN(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Uj();let r=new ik((e,t)=>e-t),a=Hj();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||hk.empty();o=a.applyToLocalView(s,o),n.set(e,o);const i=(r.get(a.batchId)||Hj()).add(e);r=r.insert(a.batchId,i)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),i=r.key,l=r.value,c=Wj();l.forEach(e=>{if(!a.has(e)){const r=h_(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,i,c))}return KS.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return BS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):KS.resolve(Fj());let o=-1,i=a;return s.next(t=>KS.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?KS.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{i=i.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,i,t,Hj())).next(e=>({batchId:o,changes:Bj(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new BS(t)).next(e=>{let t=Lj();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=Lj();return this.indexManager.getCollectionParents(e,a).next(o=>KS.forEach(o,o=>{const i=function(e,t){return new yj(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,i,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vk.newInvalidDocument(r)))});let n=Lj();return e.forEach((e,r)=>{const s=a.get(e);void 0!==s&&m_(s.mutation,r,hk.empty(),TS.now()),Oj(t,r)&&(n=n.insert(e,r))}),n})}}class LN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return KS.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:nN(e.createTime)}}(t)),KS.resolve()}getNamedQuery(e,t){return KS.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:EN(e.bundledQuery),readTime:nN(e.readTime)}}(t)),KS.resolve()}}class BN{constructor(){this.overlays=new ik(BS.comparator),this.Ir=new Map}getOverlay(e,t){return KS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fj();return KS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),KS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),KS.resolve()}getOverlaysForCollection(e,t,n){const r=Fj(),a=t.length+1,s=new BS(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return KS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new ik((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Fj(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Fj(),i=a.getIterator();for(;i.hasNext()&&(i.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return KS.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new N_(t,n));let a=this.Ir.get(t);void 0===a&&(a=Hj(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}class FN{constructor(){this.sessionToken=mk.EMPTY_BYTE_STRING}getSessionToken(e){return KS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,KS.resolve()}}class WN{constructor(){this.Tr=new uk(UN.Er),this.dr=new uk(UN.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new UN(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new UN(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new BS(new MS([])),n=new UN(t,e),r=new UN(t,e+1),a=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),a.push(e.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new BS(new MS([])),n=new UN(t,e),r=new UN(t,e+1);let a=Hj();return this.dr.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new UN(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class UN{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return BS.comparator(e.key,t.key)||AS(e.wr,t.wr)}static Ar(e,t){return AS(e.wr,t.wr)||BS.comparator(e.key,t.key)}}class zN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new uk(UN.Er)}checkEmpty(e){return KS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new j_(a,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new UN(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return KS.resolve(s)}lookupMutationBatch(e,t){return KS.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),a=r<0?0:r;return KS.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return KS.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return KS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new UN(t,0),r=new UN(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);a.push(t)}),KS.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uk(AS);return t.forEach(e=>{const t=new UN(e,0),r=new UN(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),KS.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;BS.isDocumentKey(a)||(a=a.child(""));const s=new UN(new BS(a),0);let o=new uk(AS);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)},s),KS.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){pS(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return KS.forEach(t.mutations,r=>{const a=new UN(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new UN(t,0),r=this.br.firstAfterOrEqual(n);return KS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,KS.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VN{constructor(e){this.Mr=e,this.docs=new ik(BS.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return KS.resolve(n?n.document.mutableCopy():Vk.newInvalidDocument(t))}getEntries(e,t){let n=Mj();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vk.newInvalidDocument(e))}),KS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Mj();const s=t.path,o=new BS(s.child("")),i=this.docs.getIteratorFrom(o);for(;i.hasNext();){const{key:e,value:{document:o}}=i.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||VS(US(o),n)<=0||(r.has(o.key)||Oj(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return KS.resolve(a)}getAllFromCollectionGroup(e,t,n,r){mS()}Or(e,t){return KS.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new HN(this)}getSize(e){return KS.resolve(this.size)}}class HN extends DN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),KS.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class qN{constructor(e){this.persistence=e,this.Nr=new Cj(e=>mj(e),pj),this.lastRemoteSnapshotVersion=CS.min(),this.highestTargetId=0,this.Lr=0,this.Br=new WN,this.targetCount=0,this.kr=CN.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),KS.resolve()}getLastRemoteSnapshotVersion(e){return KS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return KS.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),KS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),KS.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new CN(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,KS.resolve()}updateTargetData(e,t){return this.Kn(t),KS.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,KS.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),KS.waitFor(a).next(()=>r)}getTargetCount(e){return KS.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return KS.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),KS.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),KS.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),KS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return KS.resolve(n)}containsKey(e,t){return KS.resolve(this.Br.containsKey(t))}}class GN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new XS(0),this.Kr=!1,this.Kr=!0,this.$r=new FN,this.referenceDelegate=e(this),this.Ur=new qN(this),this.indexManager=new AN,this.remoteDocumentCache=function(e){return new VN(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new PN(t),this.Gr=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new zN(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){uS("MemoryPersistence","Starting transaction:",e);const r=new KN(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return KS.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class KN extends qS{constructor(e){super(),this.currentSequenceNumber=e}}class YN{constructor(e){this.persistence=e,this.Jr=new WN,this.Yr=null}static Zr(e){return new YN(e)}get Xr(){if(this.Yr)return this.Yr;throw mS()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),KS.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),KS.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),KS.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return KS.forEach(this.Xr,n=>{const r=BS.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,CS.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return KS.or([()=>KS.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class QN{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Hj(),r=Hj();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new QN(e,t.fromCache,n,r)}}class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $N{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ab()?8:YS(rb())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.Yi(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.Zi(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new XN;return this.Xi(e,t,n).next(r=>{if(a.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>a.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(cS()<=Sb.DEBUG&&uS("QueryEngine","SDK will not create cache indexes for query:",Ej(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),KS.resolve()):(cS()<=Sb.DEBUG&&uS("QueryEngine","Query:",Ej(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(cS()<=Sb.DEBUG&&uS("QueryEngine","The SDK decides to create cache indexes for query:",Ej(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kj(t))):KS.resolve())}Yi(e,t){if(bj(t))return KS.resolve(null);let n=kj(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=_j(t,null,"F"),n=kj(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=Hj(...r);return this.Ji.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,a,n.readTime)?this.Yi(e,_j(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return bj(t)||r.isEqual(CS.min())?KS.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(t,a);return this.ns(t,s,n,r)?KS.resolve(null):(cS()<=Sb.DEBUG&&uS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ej(t)),this.rs(e,s,t,WS(r,-1)).next(e=>e))})}ts(e,t){let n=new uk(Ij(e));return t.forEach((t,r)=>{Oj(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,t,n){return cS()<=Sb.DEBUG&&uS("QueryEngine","Using full collection scan to execute query:",Ej(t)),this.Ji.getDocumentsMatchingQuery(e,t,zS.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class JN{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ik(AS),this._s=new Cj(e=>mj(e),pj),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function ZN(e,t,n,r){return new JN(e,t,n,r)}async function eP(e,t){const n=gS(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],s=[];let o=Hj();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({hs:e,removedBatchIds:a,addedBatchIds:s}))})})}function tP(e){const t=gS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function nP(e,t,n){let r=Hj(),a=Hj();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Mj();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(CS.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):uS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Ps:r,Is:a}})}function rP(e,t){const n=gS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function aP(e,t){const n=gS(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(a=>a?(r=a,KS.resolve(r)):n.Ur.allocateTargetId(e).next(a=>(r=new NN(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function sP(e,t,n){const r=gS(e),a=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!QS(e))throw e;uS("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(a.target)}function oP(e,t,n){const r=gS(e);let a=CS.min(),s=Hj();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=gS(e),a=r._s.get(n);return void 0!==a?KS.resolve(r.os.get(a)):r.Ur.getTargetData(t,n)}(r,e,kj(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?a:CS.min(),n?s:Hj())).next(e=>(iP(r,Aj(t),e),{documents:e,Ts:s})))}function iP(e,t,n){let r=e.us.get(t)||CS.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class lP{constructor(){this.activeTargetIds=Gj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cP{constructor(){this.so=new lP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lP,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uP{_o(e){}shutdown(){}}class dP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){uS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){uS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hP=null;function fP(){return null===hP?hP=268435456+Math.round(2147483648*Math.random()):hP++,"0x"+hP.toString(16)}const mP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const gP="WebChannelConnection";class yP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,a){const s=fP(),o=this.xo(e,t.toUriEncodedString());uS("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const i={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(i,r,a),this.No(e,o,i,n).then(t=>(uS("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw hS("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Lo(e,t,n,r,a,s){return this.Mo(e,t,n,r,a)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+iS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=mP[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const a=fP();return new Promise((s,o)=>{const i=new Qw;i.setWithCredentials(!0),i.listenOnce($w.COMPLETE,()=>{try{switch(i.getLastErrorCode()){case Jw.NO_ERROR:const t=i.getResponseJson();uS(gP,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),s(t);break;case Jw.TIMEOUT:uS(gP,"RPC '".concat(e,"' ").concat(a," timed out")),o(new vS(yS.DEADLINE_EXCEEDED,"Request time out"));break;case Jw.HTTP_ERROR:const n=i.getStatus();if(uS(gP,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",i.getResponseText()),n>0){let e=i.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yS).indexOf(t)>=0?t:yS.UNKNOWN}(t.status);o(new vS(e,t.message))}else o(new vS(yS.UNKNOWN,"Server responded with status "+i.getStatus()))}else o(new vS(yS.UNAVAILABLE,"Connection failed."));break;default:mS()}}finally{uS(gP,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);uS(gP,"RPC '".concat(e,"' ").concat(a," sending request:"),r),i.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=fP(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nS(),o=tS(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(i.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(i.useFetchStreams=!0),this.Oo(i.initMessageHeaders,t,n),i.encodeInitMessageHeaders=!0;const c=a.join("");uS(gP,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),i);const u=s.createWebChannel(c,i);let d=!1,h=!1;const f=new pP({Io:t=>{h?uS(gP,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(uS(gP,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),uS(gP,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,Xw.EventType.OPEN,()=>{h||(uS(gP,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),m(u,Xw.EventType.CLOSE,()=>{h||(h=!0,uS(gP,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),m(u,Xw.EventType.ERROR,t=>{h||(h=!0,hS(gP,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new vS(yS.UNAVAILABLE,"The operation could not be completed")))}),m(u,Xw.EventType.MESSAGE,t=>{var n;if(!h){const a=t.data[0];pS(!!a);const s=a,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){uS(gP,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=E_[e];if(void 0!==t)return I_(t)}(t),a=o.message;void 0===n&&(n=yS.INTERNAL,a="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new vS(n,a)),u.close()}else uS(gP,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.bo(a)}}),m(o,eS.STAT_EVENT,t=>{t.stat===Zw.PROXY?uS(gP,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zw.NOPROXY&&uS(gP,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function vP(){return"undefined"!=typeof document?document:null}function xP(e){return new $_(e,!0)}class bP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&uS("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class wP{constructor(e,t,n,r,a,s,o,i){this.ui=e,this.Ho=n,this.Jo=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=i,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bP(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===yS.RESOURCE_EXHAUSTED?(dS(t.toString()),dS("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===yS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new vS(yS.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return uS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(uS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SP extends wP{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mS()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(pS(void 0===t||"string"==typeof t),mk.fromBase64String(t||"")):(pS(void 0===t||t instanceof Buffer||t instanceof Uint8Array),mk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,i=o&&function(e){const t=void 0===e.code?yS.UNKNOWN:I_(e.code);return new vS(t,e.message||"")}(o);n=new V_(r,a,s,i||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=iN(e,r.document.name),s=nN(r.document.updateTime),o=r.document.createTime?nN(r.document.createTime):CS.min(),i=new Uk({mapValue:{fields:r.document.fields}}),l=Vk.newFoundDocument(a,s,o,i),c=r.targetIds||[],u=r.removedTargetIds||[];n=new U_(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=iN(e,r.document),s=r.readTime?nN(r.readTime):CS.min(),o=Vk.newNoDocument(a,s),i=r.removedTargetIds||[];n=new U_([],i,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=iN(e,r.document),s=r.removedTargetIds||[];n=new U_([],s,a,null)}else{if(!("filter"in t))return mS();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new P_(r,a),o=e.targetId;n=new z_(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return CS.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?CS.min():t.readTime?nN(t.readTime):CS.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=uN(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=gj(r)?{documents:mN(e,r)}:{query:pN(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=eN(e,t.resumeToken);const r=J_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(CS.min())>0){n.readTime=Z_(e,t.snapshotVersion.toTimestamp());const r=J_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mS()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=uN(this.serializer),t.removeTarget=e,this.a_(t)}}class kP extends wP{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pS(!!e.streamToken),this.lastStreamToken=e.streamToken,pS(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){pS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(pS(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?nN(e.updateTime):nN(t);return n.isEqual(CS.min())&&(n=nN(t)),new l_(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=nN(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=uN(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>fN(this.serializer,e))};this.a_(t)}}class jP extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new vS(yS.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Mo(e,aN(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yS.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vS(yS.UNKNOWN,e.toString())})}Lo(e,t,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,i]=s;return this.connection.Lo(e,aN(t,n),r,o,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yS.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vS(yS.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _P{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(dS(t),this.D_=!1):uS("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class NP{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(e=>{n.enqueueAndForget(async()=>{MP(this)&&(uS("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gS(e);t.L_.add(4),await EP(t),t.q_.set("Unknown"),t.L_.delete(4),await PP(t)}(this))})}),this.q_=new _P(n,r)}}async function PP(e){if(MP(e))for(const t of e.B_)await t(!0)}async function EP(e){for(const t of e.B_)await t(!1)}function OP(e,t){const n=gS(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),DP(n)?CP(n):eE(n).r_()&&IP(n,t))}function AP(e,t){const n=gS(e),r=eE(n);n.N_.delete(t),r.r_()&&TP(n,t),0===n.N_.size&&(r.r_()?r.o_():MP(n)&&n.q_.set("Unknown"))}function IP(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(CS.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eE(e).A_(t)}function TP(e,t){e.Q_.xe(t),eE(e).R_(t)}function CP(e){e.Q_=new q_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),eE(e).start(),e.q_.v_()}function DP(e){return MP(e)&&!eE(e).n_()&&e.N_.size>0}function MP(e){return 0===gS(e).L_.size}function RP(e){e.Q_=void 0}async function LP(e){e.q_.set("Online")}async function BP(e){e.N_.forEach((t,n)=>{IP(e,t)})}async function FP(e,t){RP(e),DP(e)?(e.q_.M_(t),CP(e)):e.q_.set("Unknown")}async function WP(e,t,n){if(e.q_.set("Online"),t instanceof V_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){uS("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await UP(e,n)}else if(t instanceof U_?e.Q_.Ke(t):t instanceof z_?e.Q_.He(t):e.Q_.We(t),!n.isEqual(CS.min()))try{const t=await tP(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.N_.get(r);a&&e.N_.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(mk.EMPTY_BYTE_STRING,r.snapshotVersion)),TP(e,t);const a=new NN(r.target,t,n,r.sequenceNumber);IP(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){uS("RemoteStore","Failed to raise snapshot:",t),await UP(e,t)}}async function UP(e,t,n){if(!QS(t))throw t;e.L_.add(1),await EP(e),e.q_.set("Offline"),n||(n=()=>tP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{uS("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await PP(e)})}function zP(e,t){return t().catch(n=>UP(e,n,t))}async function VP(e){const t=gS(e),n=tE(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;HP(t);)try{const e=await rP(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,qP(t,e)}catch(e){await UP(t,e)}GP(t)&&KP(t)}function HP(e){return MP(e)&&e.O_.length<10}function qP(e,t){e.O_.push(t);const n=tE(e);n.r_()&&n.V_&&n.m_(t.mutations)}function GP(e){return MP(e)&&!tE(e).n_()&&e.O_.length>0}function KP(e){tE(e).start()}async function YP(e){tE(e).p_()}async function QP(e){const t=tE(e);for(const n of e.O_)t.m_(n.mutations)}async function XP(e,t,n){const r=e.O_.shift(),a=__.from(r,t,n);await zP(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await VP(e)}async function $P(e,t){t&&tE(e).V_&&await async function(e,t){if(function(e){return A_(e)&&e!==yS.ABORTED}(t.code)){const n=e.O_.shift();tE(e).s_(),await zP(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await VP(e)}}(e,t),GP(e)&&KP(e)}async function JP(e,t){const n=gS(e);n.asyncQueue.verifyOperationInProgress(),uS("RemoteStore","RemoteStore received new credentials");const r=MP(n);n.L_.add(3),await EP(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await PP(n)}async function ZP(e,t){const n=gS(e);t?(n.L_.delete(2),await PP(n)):t||(n.L_.add(2),await EP(n),n.q_.set("Unknown"))}function eE(e){return e.K_||(e.K_=function(e,t,n){const r=gS(e);return r.w_(),new SP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:LP.bind(null,e),Ro:BP.bind(null,e),mo:FP.bind(null,e),d_:WP.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),DP(e)?CP(e):e.q_.set("Unknown")):(await e.K_.stop(),RP(e))})),e.K_}function tE(e){return e.U_||(e.U_=function(e,t,n){const r=gS(e);return r.w_(),new kP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YP.bind(null,e),mo:$P.bind(null,e),f_:QP.bind(null,e),g_:XP.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await VP(e)):(await e.U_.stop(),e.O_.length>0&&(uS("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class nE{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new xS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,o=new nE(e,t,s,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vS(yS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rE(e,t){if(dS("AsyncQueue","".concat(t,": ").concat(e)),QS(e))return new vS(yS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class aE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||BS.comparator(t.key,n.key):(e,t)=>BS.comparator(e.key,t.key),this.keyedMap=Lj(),this.sortedSet=new ik(this.comparator)}static emptySet(e){return new aE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new aE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sE{constructor(){this.W_=new ik(BS.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):mS():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class oE{constructor(e,t,n,r,a,s,o,i,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=i,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new oE(e,t,aE.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nj(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class iE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lE{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=gS(e),r=n.queries;n.queries=cE(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new vS(yS.ABORTED,"Firestore shutting down"))}}function cE(){return new Cj(e=>Pj(e),Nj)}async function uE(e,t){const n=gS(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.H_()&&t.J_()&&(r=2):(s=new iE,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(a,!0);break;case 1:s.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=rE(e,"Initialization of query '".concat(Ej(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&mE(n)}async function dE(e,t){const n=gS(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?a=t.J_()?0:1:!s.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hE(e,t){const n=gS(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(a)&&(r=!0);t.z_=a}}r&&mE(n)}function fE(e,t,n){const r=gS(e),a=r.queries.get(t);if(a)for(const s of a.j_)s.onError(n);r.queries.delete(t)}function mE(e){e.Y_.forEach(e=>{e.next()})}var pE,gE;(gE=pE||(pE={})).ea="default",gE.Cache="cache";class yE{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new oE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=oE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pE.Cache}}class vE{constructor(e){this.key=e}}class xE{constructor(e){this.key=e}}class bE{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hj(),this.mutatedKeys=Hj(),this.Aa=Ij(e),this.Ra=new aE(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new sE,r=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const i="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Oj(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(i&&this.Aa(u,i)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(i||l)&&(o=!0)),f&&(u?(s=s.add(u),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mS()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],i=0===this.da.size&&this.current&&!r?1:0,l=i!==this.Ea;return this.Ea=i,0!==s.length||l?{snapshot:new oE(this.query,e.Ra,a,s,e.mutatedKeys,0===i,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Hj(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new xE(e))}),this.da.forEach(n=>{e.has(n)||t.push(new vE(n))}),t}ba(e){this.Ta=e.Ts,this.da=Hj();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return oE.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class SE{constructor(e){this.key=e,this.va=!1}}class kE{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Cj(e=>Pj(e),Nj),this.Ma=new Map,this.xa=new Set,this.Oa=new ik(BS.comparator),this.Na=new Map,this.La=new WN,this.Ba={},this.ka=new Map,this.qa=CN.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function jE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qE(e);let a;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Da()):a=await NE(r,t,n,!0),a}async function _E(e,t){const n=qE(e);await NE(n,t,!0,!1)}async function NE(e,t,n,r){const a=await aP(e.localStore,kj(t)),s=a.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let i;return r&&(i=await PE(e,t,s,"current"===o,a.resumeToken)),e.isPrimaryClient&&n&&OP(e.remoteStore,a),i}async function PE(e,t,n,r,a){e.Ka=(t,n,r)=>async function(e,t,n,r){let a=t.view.ma(n);a.ns&&(a=await oP(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,a)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),i=t.view.applyChanges(a,e.isPrimaryClient,s,o);return FE(e,t.targetId,i.wa),i.snapshot}(e,t,n,r);const s=await oP(e.localStore,t,!0),o=new bE(t,s.Ts),i=o.ma(s.documents),l=W_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(i,e.isPrimaryClient,l);FE(e,n,c.wa);const u=new wE(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function EE(e,t,n){const r=gS(e),a=r.Fa.get(t),s=r.Ma.get(a.targetId);if(s.length>1)return r.Ma.set(a.targetId,s.filter(e=>!Nj(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await sP(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&AP(r.remoteStore,a.targetId),LE(r,a.targetId)}).catch(GS)):(LE(r,a.targetId),await sP(r.localStore,a.targetId,!0))}async function OE(e,t){const n=gS(e),r=n.Fa.get(t),a=n.Ma.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AP(n.remoteStore,r.targetId))}async function AE(e,t){const n=gS(e);try{const e=await function(e,t){const n=gS(e),r=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((s,i)=>{const l=a.get(i);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,i).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,i)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(i)?c=c.withResumeToken(mk.EMPTY_BYTE_STRING,CS.min()).withLastLimboFreeSnapshotVersion(CS.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(i,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))});let i=Mj(),l=Hj();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(nP(e,s,t.documentUpdates).next(e=>{i=e.Ps,l=e.Is})),!r.isEqual(CS.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return KS.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,i,l)).next(()=>i)}).then(e=>(n.os=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(pS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?pS(r.va):e.removedDocuments.size>0&&(pS(r.va),r.va=!1))}),await zE(n,e,t)}catch(e){await GS(e)}}function IE(e,t,n){const r=gS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const a=r.view.Z_(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=gS(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.j_)a.Z_(t)&&(r=!0)}),r&&mE(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TE(e,t,n){const r=gS(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Na.get(t),s=a&&a.key;if(s){let e=new ik(BS.comparator);e=e.insert(s,Vk.newNoDocument(s,CS.min()));const n=Hj().add(s),a=new F_(CS.min(),new Map,new ik(AS),e,n);await AE(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(t),UE(r)}else await sP(r.localStore,t,!1).then(()=>LE(r,t,n)).catch(GS)}async function CE(e,t){const n=gS(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let o=KS.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);pS(null!==s),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hj();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);RE(n,r,null),ME(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zE(n,e)}catch(e){await GS(e)}}async function DE(e,t,n){const r=gS(e);try{const e=await function(e,t){const n=gS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(pS(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);RE(r,t,n),ME(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zE(r,e)}catch(n){await GS(n)}}function ME(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function RE(e,t,n){const r=gS(e);let a=r.Ba[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ba[r.currentUser.toKey()]=a}}function LE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||BE(e,t)})}function BE(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(AP(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),UE(e))}function FE(e,t,n){for(const r of n)r instanceof vE?(e.La.addReference(r.key,t),WE(e,r)):r instanceof xE?(uS("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||BE(e,r.key)):mS()}function WE(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(uS("SyncEngine","New document in limbo: "+n),e.xa.add(r),UE(e))}function UE(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new BS(MS.fromString(t)),r=e.qa.next();e.Na.set(r,new SE(n)),e.Oa=e.Oa.insert(n,r),OP(e.remoteStore,new NN(kj(xj(n.path)),r,"TargetPurposeLimboResolution",XS.oe))}}async function zE(e,t,n){const r=gS(e),a=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((e,i)=>{o.push(r.Ka(i,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(i.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(i.targetId,a?"current":"not-current")}if(e){a.push(e);const t=QN.Wi(i.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Ca.d_(a),await async function(e,t){const n=gS(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>KS.forEach(t,t=>KS.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>KS.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!QS(e))throw e;uS("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,a)}}}(r.localStore,s))}async function VE(e,t){const n=gS(e);if(!n.currentUser.isEqual(t)){uS("SyncEngine","User change. New user:",t.toKey());const e=await eP(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new vS(yS.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zE(n,e.hs)}}function HE(e,t){const n=gS(e),r=n.Na.get(t);if(r&&r.va)return Hj().add(r.key);{let e=Hj();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function qE(e){const t=gS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TE.bind(null,t),t.Ca.d_=hE.bind(null,t.eventManager),t.Ca.$a=fE.bind(null,t.eventManager),t}function GE(e){const t=gS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,t),t}class KE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xP(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ZN(this.persistence,new $N,e.initialUser,this.serializer)}Ga(e){return new GN(YN.Zr,this.serializer)}Wa(e){return new cP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}KE.provider={build:()=>new KE};class YE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>IE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=VE.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lE}createDatastore(e){const t=xP(e.databaseInfo.databaseId),n=function(e){return new yP(e)}(e.databaseInfo);return function(e,t,n,r){return new jP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new NP(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>IE(this.syncEngine,e,0),dP.D()?new dP:new uP)}createSyncEngine(e,t){return function(e,t,n,r,a,s,o){const i=new kE(e,t,n,r,a,s);return o&&(i.Qa=!0),i}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=gS(e);uS("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await EP(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}YE.provider={build:()=>new YE};class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dS("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class XE{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=oS.UNAUTHENTICATED,this.clientId=OS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{uS("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(uS("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(LA){const n=rE(LA,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $E(e,t){e.asyncQueue.verifyOperationInProgress(),uS("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await eP(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function JE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZE(e);uS("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>JP(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>JP(t.remoteStore,n)),e._onlineComponents=t}async function ZE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){uS("FirestoreClient","Using user provided OfflineComponentProvider");try{await $E(e,e._uninitializedComponentsProvider._offline)}catch(LA){const n=LA;if(!function(e){return"FirebaseError"===e.name?e.code===yS.FAILED_PRECONDITION||e.code===yS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;hS("Error using user provided cache. Falling back to memory cache: "+n),await $E(e,new KE)}}else uS("FirestoreClient","Using default OfflineComponentProvider"),await $E(e,new KE);return e._offlineComponents}async function eO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(uS("FirestoreClient","Using user provided OnlineComponentProvider"),await JE(e,e._uninitializedComponentsProvider._online)):(uS("FirestoreClient","Using default OnlineComponentProvider"),await JE(e,new YE))),e._onlineComponents}function tO(e){return eO(e).then(e=>e.syncEngine)}async function nO(e){const t=await eO(e),n=t.eventManager;return n.onListen=jE.bind(null,t.syncEngine),n.onUnlisten=EE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_E.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OE.bind(null,t.syncEngine),n}function rO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xS;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new QE({next:i=>{s.Za(),t.enqueueAndForget(()=>dE(e,o));const l=i.docs.has(n);!l&&i.fromCache?a.reject(new vS(yS.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&i.fromCache&&r&&"server"===r.source?a.reject(new vS(yS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:e=>a.reject(e)}),o=new yE(xj(n.path),s,{includeMetadataChanges:!0,_a:!0});return uE(e,o)}(await nO(e),e.asyncQueue,t,n,r)),r.promise}function aO(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const sO=new Map;function oO(e,t,n){if(!n)throw new vS(yS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iO(e){if(!BS.isDocumentKey(e))throw new vS(yS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function lO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":mS()}function cO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vS(yS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lO(e);throw new vS(yS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class uO{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vS(yS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vS(yS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vS(yS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aO(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vS(yS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vS(yS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vS(yS.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dO{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vS(yS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vS(yS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wS;switch(e.type){case"firstParty":return new _S(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vS(yS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sO.get(e);t&&(uS("ComponentProvider","Removing Datastore"),sO.delete(e),t.terminate())}(this),Promise.resolve()}}function hO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const s=(e=cO(e,dO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&hS("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=oS.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qx(JSON.stringify({alg:"none",type:"JWT"})),Qx(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vS(yS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new oS(s)}e._authCredentials=new SS(new bS(t,n))}}class fO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fO(this.firestore,e,this._query)}}class mO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mO(this.firestore,e,this._key)}}class pO extends fO{constructor(e,t,n){super(e,t,xj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mO(this.firestore,null,new BS(e))}withConverter(e){return new pO(this.firestore,e,this._path)}}function gO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=gb(e),1===arguments.length&&(t=OS.newId()),oO("doc","path",t),e instanceof dO){const n=MS.fromString(t,...r);return iO(n),new mO(e,null,new BS(n))}{if(!(e instanceof mO||e instanceof pO))throw new vS(yS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(MS.fromString(t,...r));return iO(n),new mO(e.firestore,e instanceof pO?e.converter:null,new BS(n))}}class yO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bP(this,"async_queue_retry"),this.Vu=()=>{const e=vP();e&&uS("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=vP();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=vP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new xS;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!QS(e))throw e;uS("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dS("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=nE.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&mS()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function vO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class xO extends dO{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yO(e),this._firestoreClient=void 0,await e}}}function bO(e,t){const n="string"==typeof e?e:t||"(default)",r=Pw("object"==typeof e?e:Cw(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Zx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&hO(r,...e)}return r}function wO(e){if(e._terminated)throw new vS(yS.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||SO(e),e._firestoreClient}function SO(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new Sk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,aO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new XE(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class kO{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kO(mk.fromBase64String(e))}catch(e){throw new vS(yS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kO(mk.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jO{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vS(yS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new LS(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _O{constructor(e){this._methodName=e}}class NO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vS(yS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vS(yS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return AS(this._lat,e._lat)||AS(this._long,e._long)}}class PO{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const EO=/^__.*__$/;class OO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new v_(e,this.data,this.fieldMask,t,this.fieldTransforms):new y_(e,this.data,t,this.fieldTransforms)}}function AO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mS()}}class IO{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new IO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zO(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(AO(this.Cu)&&EO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xP(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IO({Cu:e,methodName:t,qu:n,path:LS.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CO(e){const t=e._freezeSettings(),n=xP(e._databaseId);return new TO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DO(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,a);BO("Data must be an object, but it was:",o,r);const i=RO(r,o);let l,c;if(s.merge)l=new hk(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=FO(t,r,n);if(!o.contains(a))throw new vS(yS.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));VO(e,a)||e.push(a)}l=new hk(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new OO(new Uk(i),l,c)}function MO(e,t){if(LO(e=gb(e)))return BO("Unsupported field value:",t,e),RO(e,t);if(e instanceof _O)return function(e,t){if(!AO(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=MO(a,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=gb(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qj(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=TS.fromDate(e);return{timestampValue:Z_(t.serializer,n)}}if(e instanceof TS){const n=new TS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Z_(t.serializer,n)}}if(e instanceof NO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kO)return{bytesValue:eN(t.serializer,e._byteString)};if(e instanceof mO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:rN(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof PO)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Kj(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(lO(e)))}(e,t)}function RO(e,t){const n={};return ok(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sk(e,(e,r)=>{const a=MO(r,t.Mu(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function LO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof TS||e instanceof NO||e instanceof kO||e instanceof mO||e instanceof _O||e instanceof PO)}function BO(e,t,n){if(!LO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=lO(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function FO(e,t,n){if((t=gb(t))instanceof jO)return t._internalPath;if("string"==typeof t)return UO(e,t);throw zO("Field path arguments must be of type string or ",e,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function UO(e,t,n){if(t.search(WO)>=0)throw zO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new jO(...t.split("."))._internalPath}catch(J){throw zO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zO(e,t,n,r,a){const s=r&&!r.isEmpty(),o=void 0!==a;let i="Function ".concat(t,"() called with invalid data");n&&(i+=" (via `toFirestore()`)"),i+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(a)),l+=")"),new vS(yS.INVALID_ARGUMENT,i+e+l)}function VO(e,t){return e.some(e=>e.isEqual(t))}class HO{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qO extends HO{data(){return super.data()}}function GO(e,t){return"string"==typeof t?UO(e,t):t instanceof jO?t._internalPath:t._delegate._internalPath}function KO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vS(yS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YO{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_k(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mS()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sk(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>yk(e.doubleValue));return new PO(a)}convertGeoPoint(e){return new NO(yk(e.latitude),yk(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wk(e));default:return null}}convertTimestamp(e){const t=gk(e);return new TS(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=MS.fromString(e);pS(_N(n));const r=new kk(n.get(1),n.get(3)),a=new BS(n.popFirst(5));return r.isEqual(t)||dS("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function QO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class XO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $O extends HO{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new JO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(GO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class JO extends $O{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ZO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new XO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new JO(this._firestore,this._userDataWriter,n.key,n,new XO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vS(yS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new JO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new XO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new JO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:eA(t.type),doc:r,oldIndex:a,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function eA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mS()}}class tA extends YO{constructor(e){super(),this.firestore=e}convertBytes(e){return new kO(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mO(this.firestore,null,t)}}function nA(e,t,n){e=cO(e,mO);const r=cO(e.firestore,xO),a=QO(e.converter,t,n);return rA(r,[DO(CO(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,c_.none())])}function rA(e,t){return function(e,t){const n=new xS;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=GE(e);try{const e=await function(e,t){const n=gS(e),r=TS.now(),a=t.reduce((e,t)=>e.add(t.key),Hj());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let i=Mj(),l=Hj();return n.cs.getEntries(e,a).next(e=>{i=e,i.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,i)).next(a=>{s=a;const o=[];for(const e of t){const t=p_(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new v_(e.key,t,zk(t.value.mapValue),c_.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Bj(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ik(AS)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await zE(r,e.changes),await VP(r.remoteStore)}catch(e){const t=rE(e,"Failed to persist write");n.reject(t)}}(await tO(e),t,n)),n.promise}(wO(e),t)}function aA(e,t,n){const r=n.docs.get(t._key),a=new tA(e);return new $O(e,a,t._key,r,new XO(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){iS=e}(Iw),Nw(new yb("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),o=new xO(new kS(e.getProvider("auth-internal")),new PS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vS(yS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kk(e.options.projectId,t)}(s,r),s);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Dw(sS,"4.7.3",e),Dw(sS,"4.7.3","esm2017")}();const sA={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"};let oA,iA;const lA=async e=>{h.A.debug("Fetching financial data for year: ".concat(e));try{const n=(oA||(window.firebaseApp?oA=window.firebaseApp:(oA=Tw(sA),window.firebaseApp=oA),iA=bO(oA)),iA);h.A.debug("Firebase initialized, attempting to fetch document...");const r=gO(n,"league_finances",e);h.A.debug("Document reference created:",r.path);const a=await function(e){e=cO(e,mO);const t=cO(e.firestore,xO);return rO(wO(t),e._key).then(n=>aA(t,e,n))}(r);if(h.A.debug("Document snapshot received:",a.exists()?"EXISTS":"DOES NOT EXIST"),a.exists()){var t;const n=a.data();return h.A.debug("Raw financial data for ".concat(e,":"),Object.keys(n||{})),h.A.debug("Transactions count for ".concat(e,":"),(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.length)||0),null!==n&&void 0!==n&&n.transactions&&n.transactions.length>0&&h.A.debug("Sample transaction for ".concat(e,":"),n.transactions[0]),n&&n.transactions?n:{transactions:[],potentialFees:[],potentialPayouts:[]}}return h.A.debug("No financial document found for year ".concat(e," in Firestore")),{transactions:[],potentialFees:[],potentialPayouts:[]}}catch(n){return h.A.error("Error fetching financial data for year ".concat(e,":"),n),h.A.error("Error details:",n.message,n.code),{transactions:[],potentialFees:[],potentialPayouts:[]}}},cA=async e=>{if(!e||!Array.isArray(e)||0===e.length)return h.A.debug("No years provided for financial data fetch"),{};h.A.debug("Fetching financial data for multiple years:",e);try{const t=e.map(e=>lA(e)),n=await Promise.all(t),r={};return e.forEach((e,t)=>{r[e]=n[t]}),h.A.debug("Final financial data by year:",r),r}catch(t){return h.A.error("Error fetching financial data for multiple years:",t),{}}},uA=e=>"Waiver/FA Fee"===e.category&&Array.isArray(e.team)||"Trade Fee"===e.category&&Array.isArray(e.team)?Number(e.amount||0)*Number(e.quantity||1)*e.team.length:Number(e.amount||0),dA=(e,t)=>{if(!e||!Array.isArray(e)||!t)return{tradeFees:0,waiverFees:0,totalTransactions:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&(e.team.includes(t)&&"Fee"===e.type)),r=n.filter(e=>"Trade Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0),a=n.filter(e=>"Waiver/FA Fee"===e.category).reduce((e,t)=>e+Number(t.quantity||1),0);return{tradeFees:r,waiverFees:a,totalTransactions:r+a}},hA=e=>"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toFixed(2)),fA=()=>{var e;const{historicalData:n,allDraftHistory:r,getTeamName:a,getTeamDetails:o,currentSeason:i,loading:l,error:c,nflState:d}=$(),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)({}),[w,S]=(0,t.useState)(!0),[k,j]=(0,t.useState)({}),[_,N]=(0,t.useState)(!1),P={highestDPR:{decimals:3,type:"decimal"},lowestDPR:{decimals:3,type:"decimal"},bestLuck:{decimals:3,type:"decimal"},worstLuck:{decimals:3,type:"decimal"},mostWins:{decimals:0,type:"count"},mostLosses:{decimals:0,type:"count"},bestWinPct:{decimals:3,type:"percentage"},bestAllPlayWinPct:{decimals:3,type:"percentage"},mostWeeklyHighScores:{decimals:0,type:"count"},mostWeeklyTop2Scores:{decimals:0,type:"count"},mostWinningSeasons:{decimals:0,type:"count"},mostLosingSeasons:{decimals:0,type:"count"},mostBlowoutWins:{decimals:0,type:"count"},mostBlowoutLosses:{decimals:0,type:"count"},mostSlimWins:{decimals:0,type:"count"},mostSlimLosses:{decimals:0,type:"count"},mostTotalPoints:{decimals:2,type:"points"},mostPointsAgainst:{decimals:2,type:"points"},mostTrades:{decimals:0,type:"count"},mostWaivers:{decimals:0,type:"count"}},E=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t>e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==-1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},O=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t<e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))},A=(e,t,n)=>{const r=(e=>{const t={},n=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e[t]})).filter(e=>void 0!==e.value&&null!==e.value).sort((e,t)=>n?t.value-e.value:e.value-t.value).slice(0,5)};return t.highestDPR=n("dpr",!0),t.lowestDPR=n("dpr",!1),t.mostWins=n("wins",!0),t.mostLosses=n("losses",!0),t.bestWinPct=n("winPercentage",!0),t.bestAllPlayWinPct=n("allPlayWinPercentage",!0),t.mostWeeklyHighScores=n("topScoreWeeksCount",!0),t.mostWeeklyTop2Scores=n("weeklyTop2ScoresCount",!0),t.mostBlowoutWins=n("blowoutWins",!0),t.mostBlowoutLosses=n("blowoutLosses",!0),t.mostSlimWins=n("slimWins",!0),t.mostSlimLosses=n("slimLosses",!0),t.mostTotalPoints=n("pointsFor",!0),t.mostPointsAgainst=n("pointsAgainst",!0),t.bestLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>t.value-e.value).slice(0,5),t.worstLuck=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.totalLuckRating})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,t)=>e.value-t.value).slice(0,5),e.map(e=>({name:e.teamName,ownerId:e.ownerId,winningSeasons:0,losingSeasons:0})),t})(e);e.forEach(e=>{const r=e.ownerId;let a=0,s=0;if(Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?a++:n.winPercentage<.5&&s++)}),e.winningSeasonsCount=a,e.losingSeasonsCount=s,Object.keys(n).length>0){const t=((e,t)=>{if(!e||!t)return{careerTradeFees:0,careerWaiverFees:0,careerTotalTransactions:0};let n=0,r=0;return Object.keys(e).forEach(a=>{if(e[a]&&e[a].transactions){const s=dA(e[a].transactions,t);n+=s.tradeFees,r+=s.waiverFees}}),{careerTradeFees:n,careerWaiverFees:r,careerTotalTransactions:n+r}})(n,r);e.careerTradeFees=t.careerTradeFees,e.careerWaiverFees=t.careerWaiverFees,h.A.debug("Transaction counts for ".concat(e.teamName,":"),t)}else e.careerTradeFees=0,e.careerWaiverFees=0}),r.mostWinningSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.winningSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostLosingSeasons=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.losingSeasonsCount})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostTrades=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerTradeFees})).sort((e,t)=>t.value-e.value).slice(0,5),r.mostWaivers=e.map(e=>({name:e.teamName,ownerId:e.ownerId,value:e.careerWaiverFees})).sort((e,t)=>t.value-e.value).slice(0,5),v(r);let a={value:-1/0,teams:[],key:"highestDPR"},s={value:1/0,teams:[],key:"lowestDPR"},o={value:-1/0,teams:[],key:"mostWins"},i={value:-1/0,teams:[],key:"mostLosses"},l={value:-1/0,teams:[],key:"bestWinPct"},c={value:-1/0,teams:[],key:"bestAllPlayWinPct"},u={value:-1/0,teams:[],key:"mostWeeklyHighScores"},d={value:-1/0,teams:[],key:"mostWeeklyTop2Scores"},f={value:-1/0,teams:[],key:"mostWinningSeasons"},p={value:-1/0,teams:[],key:"mostLosingSeasons"},g={value:-1/0,teams:[],key:"mostBlowoutWins"},y={value:-1/0,teams:[],key:"mostBlowoutLosses"},x={value:-1/0,teams:[],key:"mostSlimWins"},b={value:-1/0,teams:[],key:"mostSlimLosses"},w={value:-1/0,teams:[],key:"mostTotalPoints"},S={value:-1/0,teams:[],key:"mostPointsAgainst"},k={value:-1/0,teams:[],key:"bestLuck"},j={value:1/0,teams:[],key:"worstLuck"},_={value:-1/0,teams:[],key:"mostTrades"},N={value:-1/0,teams:[],key:"mostWaivers"};e.forEach(e=>{const n=e.teamName,r=e.ownerId;0!==e.dpr&&(E(a,e.dpr,{name:n,value:e.dpr,ownerId:r}),O(s,e.dpr,{name:n,value:e.dpr,ownerId:r})),"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||(E(k,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r}),O(j,e.totalLuckRating,{name:n,value:e.totalLuckRating,ownerId:r})),e.totalGames>0&&(E(o,e.wins,{name:n,value:e.wins,ownerId:r}),E(i,e.losses,{name:n,value:e.losses,ownerId:r}),E(l,e.winPercentage,{name:n,value:e.winPercentage,ownerId:r}),E(w,e.pointsFor,{name:n,value:e.pointsFor,ownerId:r}),E(S,e.pointsAgainst,{name:n,value:e.pointsAgainst,ownerId:r}),E(g,e.blowoutWins,{name:n,value:e.blowoutWins,ownerId:r}),E(y,e.blowoutLosses,{name:n,value:e.blowoutLosses,ownerId:r}),E(x,e.slimWins,{name:n,value:e.slimWins,ownerId:r}),E(b,e.slimLosses,{name:n,value:e.slimLosses,ownerId:r}),E(d,e.weeklyTop2ScoresCount,{name:n,value:e.weeklyTop2ScoresCount,ownerId:r}),E(u,e.topScoreWeeksCount,{name:n,value:e.topScoreWeeksCount,ownerId:r}),E(c,e.allPlayWinPercentage,{name:n,value:e.allPlayWinPercentage,ownerId:r})),E(_,e.careerTradeFees,{name:n,value:e.careerTradeFees,ownerId:r}),E(N,e.careerWaiverFees,{name:n,value:e.careerWaiverFees,ownerId:r});let h=0,m=0;Object.keys(t).forEach(e=>{const n=Object.values(t[e]).find(e=>e.ownerId===r);n&&n.totalGames>0&&(n.winPercentage>.5?h++:n.winPercentage<.5&&m++)}),E(f,h,{name:n,value:h,ownerId:r}),E(p,m,{name:n,value:m,ownerId:r})}),m({highestDPR:a,lowestDPR:s,bestLuck:k,worstLuck:j,mostWins:o,mostLosses:i,bestWinPct:l,bestAllPlayWinPct:c,mostWeeklyHighScores:u,mostWeeklyTop2Scores:d,mostWinningSeasons:f,mostLosingSeasons:p,mostBlowoutWins:g,mostBlowoutLosses:y,mostSlimWins:x,mostSlimLosses:b,mostTotalPoints:w,mostPointsAgainst:S,mostTrades:_,mostWaivers:N})};if((0,t.useEffect)(()=>{if(S(!0),l||c||!n||!n.matchupsBySeason||0===Object.keys(n.matchupsBySeason).length||!d)return m({}),g({}),void S(!1);try{const{seasonalMetrics:e,careerDPRData:t}=s(n,0,a,d),r=(e=>{const t={},n=Object.keys(e).sort((e,t)=>Number(e)-Number(t)),r={mostWeeklyHighScores:{value:-1/0,holders:[],history:[]},mostWins:{value:-1/0,holders:[],history:[]},bestWinPct:{value:-1/0,holders:[],history:[]},mostTotalPoints:{value:-1/0,holders:[],history:[]}};return n.forEach(t=>{const n=e[t];Object.entries(r).forEach(e=>{let[r,s]=e,o=!1;Object.values(n).forEach(e=>{if(!e.ownerId||0===e.totalGames)return;let n=0;switch(r){case"mostWeeklyHighScores":n=e.topScoreWeeksCount||0;break;case"mostWins":n=e.wins||0;break;case"bestWinPct":n=e.winPercentage||0;break;case"mostTotalPoints":n=e.pointsFor||0}if(n>s.value){const r=a(e.ownerId,t);s.history.push({year:t,week:"End of Season",previousValue:s.value===-1/0?0:s.value,newValue:n,previousHolder:s.holders.length>0?s.holders[s.holders.length-1].name:"N/A",newHolder:r,ownerId:e.ownerId}),s.value=n,s.holders.push({name:r,ownerId:e.ownerId,year:t,value:n,startYear:t}),o=!0}})})}),Object.entries(r).forEach(e=>{let[n,r]=e;t[n]={currentValue:r.value,currentHolders:r.holders.slice(-1),allTimeHolders:r.holders,recordHistory:r.history}}),t})(e);g(r),N(!0);const o=Object.keys(n.matchupsBySeason||{}),i=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.A.debug("League Records: Processing with financial data for",Object.keys(n).length,"years"),j(n),N(!1),A(t,e,n),S(!1)};o.length>0?cA(o).then(i).catch(e=>{h.A.warn("Could not load financial data for transaction counts:",e),i({})}):i({})}catch(c){h.A.error("Error calculating league records:",c),m({}),g({}),S(!1)}},[n,r,a,l,c,d]),w)return(0,G.jsx)("div",{className:"text-center py-8",children:"Loading all-time league records..."});if(0===Object.keys(f).length||(null===(e=f.highestDPR)||void 0===e?void 0:e.value)===-1/0)return(0,G.jsx)("div",{className:"text-center py-8",children:"No historical data available to calculate all-time records."});const I=e=>{if(e.ownerId)return a(e.ownerId,null);if(e.rosterId&&e.year){var t,r;const s=null===(t=n.rostersBySeason)||void 0===t||null===(r=t[e.year])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.rosterId));if(null!==s&&void 0!==s&&s.owner_id)return a(s.owner_id,null)}return"Unknown Team"};return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udf0d"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time League Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Career-spanning achievements and historical league data."})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:Object.entries(f).map((e,n)=>{let[r,a]=e;const s=P[a.key]||{decimals:2,type:"default"},o=()=>{let e=a.key.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};if(!a||a.value===-1/0||a.value===1/0||!a.teams||0===a.teams.length)return(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()})})}),(0,G.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]},r);const i=y[a.key]||[],l=x[a.key];return(0,G.jsxs)(t.Fragment,{children:[(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:o()}),i.length>0&&(0,G.jsx)("button",{onClick:()=>{return e=a.key,void b(t=>u(u({},t),{},{[e]:!t[e]}));var e},className:"text-blue-600 hover:text-blue-800 transition-colors",children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-teal-100 border border-green-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*a.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":a.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:a.teams.map((e,t)=>(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:I(e)})},t))})})]}),l&&i.length>0&&(0,G.jsx)("tr",{className:"bg-blue-50/50",children:(0,G.jsx)("td",{colSpan:"3",className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"bg-white rounded-lg p-3 sm:p-4 border border-blue-200",children:[(0,G.jsx)("h4",{className:"font-semibold text-gray-800 text-xs sm:text-sm mb-3",children:"Top 5 Rankings"}),(0,G.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("span",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm",children:e.name})]}),(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:"percentage"===s.type?(100*e.value).toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})+"%":e.value.toLocaleString("en-US",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})})]},t))})]})})})]},r)})})]})})})]})},mA=()=>{const{processedSeasonalRecords:e,getTeamName:n,loading:r,error:a}=$(),[s,o]=(0,t.useState)(()=>({mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"},highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"}})),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{if(r||a||!e||0===Object.keys(e).length)return o({highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"},mostTradesSeason:{value:-1/0,entries:[],key:"tradeCount"},mostWaiversSeason:{value:-1/0,entries:[],key:"waiverCount"}}),void d({});const t={mostWinsSeason:[],mostLossesSeason:[],bestWinPctSeason:[],bestAllPlayWinPctSeason:[],mostWeeklyHighScoresSeason:[],mostWeeklyTop2ScoresSeason:[],mostBlowoutWinsSeason:[],mostBlowoutLossesSeason:[],mostSlimWinsSeason:[],mostSlimLossesSeason:[],mostPointsSeason:[],fewestPointsSeason:[],bestLuckRatingSeason:[],worstLuckRatingSeason:[],highestDPRSeason:[],lowestDPRSeason:[],mostTradesSeason:[],mostWaiversSeason:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),e);let l={value:-1/0,entries:[],key:"highestDPR"},c={value:1/0,entries:[],key:"lowestDPR"},f={value:-1/0,entries:[],key:"wins"},p={value:-1/0,entries:[],key:"losses"},y={value:-1/0,entries:[],key:"winPercentage"},v={value:-1/0,entries:[],key:"allPlayWinPercentage"},x={value:-1/0,entries:[],key:"topScoreWeeksCount"},b={value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},w={value:-1/0,entries:[],key:"blowoutWins"},S={value:-1/0,entries:[],key:"blowoutLosses"},k={value:-1/0,entries:[],key:"slimWins"},j={value:1/0,entries:[],key:"slimLosses"},_={value:-1/0,entries:[],key:"pointsFor"},N={value:1/0,entries:[],key:"pointsFor"},P={value:-1/0,entries:[],key:"luckRating"},E={value:1/0,entries:[],key:"luckRating"},O={value:-1/0,entries:[],key:"tradeCount"},A={value:-1/0,entries:[],key:"waiverCount"};const I=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)))};g(!0);const T=Object.keys(i),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.A.debug("Season Records: Processing with financial data for",Object.keys(e).length,"years"),m(e),g(!1),Object.keys(i).forEach(t=>{const r=i[t];if(!r||"object"!==typeof r)return;Object.values(r).forEach(r=>{if(!r||"object"!==typeof r||!r.rosterId||!r.ownerId)return;if(0===r.totalGames)return;const a={teamName:n(r.ownerId,t),year:t,ownerId:r.ownerId,rosterId:r.rosterId};if(e[t]&&e[t].transactions){const n=dA(e[t].transactions,r.ownerId),o=n.tradeFees,i=n.waiverFees;"number"===typeof o&&o>=0&&(I(O,o,u(u({},a),{},{value:o})),s("mostTradesSeason",o,u(u({},a),{},{value:o}))),"number"===typeof i&&i>=0&&(I(A,i,u(u({},a),{},{value:i})),s("mostWaiversSeason",i,u(u({},a),{},{value:i})))}"number"===typeof r.wins&&(I(f,r.wins,u(u({},a),{},{value:r.wins})),s("mostWinsSeason",r.wins,u(u({},a),{},{value:r.wins}))),"number"===typeof r.losses&&(I(p,r.losses,u(u({},a),{},{value:r.losses})),s("mostLossesSeason",r.losses,u(u({},a),{},{value:r.losses}))),"number"===typeof r.winPercentage&&(I(y,r.winPercentage,u(u({},a),{},{value:r.winPercentage})),s("bestWinPctSeason",r.winPercentage,u(u({},a),{},{value:r.winPercentage}))),"number"===typeof r.allPlayWinPercentage&&(I(v,r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage})),s("bestAllPlayWinPctSeason",r.allPlayWinPercentage,u(u({},a),{},{value:r.allPlayWinPercentage}))),"number"===typeof r.topScoreWeeksCount&&(I(x,r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount})),s("mostWeeklyHighScoresSeason",r.topScoreWeeksCount,u(u({},a),{},{value:r.topScoreWeeksCount}))),"number"===typeof r.weeklyTop2ScoresCount&&(I(b,r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount})),s("mostWeeklyTop2ScoresSeason",r.weeklyTop2ScoresCount,u(u({},a),{},{value:r.weeklyTop2ScoresCount}))),"number"===typeof r.blowoutWins&&(I(w,r.blowoutWins,u(u({},a),{},{value:r.blowoutWins})),s("mostBlowoutWinsSeason",r.blowoutWins,u(u({},a),{},{value:r.blowoutWins}))),"number"===typeof r.blowoutLosses&&(I(S,r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses})),s("mostBlowoutLossesSeason",r.blowoutLosses,u(u({},a),{},{value:r.blowoutLosses}))),"number"===typeof r.slimWins&&(I(k,r.slimWins,u(u({},a),{},{value:r.slimWins})),s("mostSlimWinsSeason",r.slimWins,u(u({},a),{},{value:r.slimWins}))),"number"===typeof r.slimLosses&&(I(j,r.slimLosses,u(u({},a),{},{value:r.slimLosses})),s("mostSlimLossesSeason",r.slimLosses,u(u({},a),{},{value:r.slimLosses}))),"number"===typeof r.pointsFor&&(I(_,r.pointsFor,u(u({},a),{},{value:r.pointsFor})),I(N,r.pointsFor,u(u({},a),{},{value:r.pointsFor}),!0),s("mostPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor})),s("fewestPointsSeason",r.pointsFor,u(u({},a),{},{value:r.pointsFor}))),"number"!==typeof r.luckRating||isNaN(r.luckRating)||(I(P,r.luckRating,u(u({},a),{},{value:r.luckRating})),I(E,r.luckRating,u(u({},a),{},{value:r.luckRating}),!0),s("bestLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating})),s("worstLuckRatingSeason",r.luckRating,u(u({},a),{},{value:r.luckRating}))),"number"!==typeof r.adjustedDPR||isNaN(r.adjustedDPR)||(I(l,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),I(c,r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR}),!0),s("highestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})),s("lowestDPRSeason",r.adjustedDPR,u(u({},a),{},{value:r.adjustedDPR})))})}),[f,p,y,v,x,b,w,S,k,j,_,N,P,E,l,c,O,A].forEach(e=>{e&&e.entries.length>1&&e.entries.sort((e,t)=>e.year!==t.year?parseInt(e.year)-parseInt(t.year):(e.teamName||"").localeCompare(t.teamName||""))}),o({mostWinsSeason:f,mostLossesSeason:p,bestWinPctSeason:y,bestAllPlayWinPctSeason:v,mostWeeklyHighScoresSeason:x,mostWeeklyTop2ScoresSeason:b,mostBlowoutWinsSeason:w,mostBlowoutLossesSeason:S,mostSlimWinsSeason:k,mostSlimLossesSeason:j,mostPointsSeason:_,fewestPointsSeason:N,bestLuckRatingSeason:P,worstLuckRatingSeason:E,highestDPRSeason:l,lowestDPRSeason:c,mostTradesSeason:O,mostWaiversSeason:A}),h.A.debug("Season Records - Final transaction counts:"),h.A.debug("Most Trades Season:",O),h.A.debug("Most Waivers Season:",A),d(t)};T.length>0?cA(T).then(C).catch(e=>{h.A.warn("Could not load financial data for Season Records transaction counts:",e),C({})}):C({})},[e,n,r,a]),r)return(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading seasonal records..."});if(a)return(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading seasonal data: ",a.message]});if(!e||0===Object.keys(e).length)return(0,G.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available to display."});const y=[s.mostWinsSeason,s.mostLossesSeason,s.bestWinPctSeason,s.bestAllPlayWinPctSeason,s.mostWeeklyHighScoresSeason,s.mostWeeklyTop2ScoresSeason,s.mostBlowoutWinsSeason,s.mostBlowoutLossesSeason,s.mostSlimWinsSeason,s.mostSlimLossesSeason,s.mostPointsSeason,s.fewestPointsSeason,s.bestLuckRatingSeason,s.worstLuckRatingSeason,s.highestDPRSeason,s.lowestDPRSeason,s.mostTradesSeason,s.mostWaiversSeason].filter(e=>e&&e.value!==-1/0&&e.value!==1/0&&e.entries&&e.entries.length>0);return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udcc5"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Season Records Highlights"}),(0,G.jsxs)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:["Outstanding records achieved in a single season \u2022 Excludes current ",(new Date).getFullYear()," season"]})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team (Season)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:y.map((e,r)=>{const a=i[e.key],s=((e,t)=>{if("luckRating"===e)return t.value>0?"Best Luck Rating":"Worst Luck Rating";if("pointsFor"===e)return t.value>0?"Most Points For":"Fewest Points For";if("highestDPR"===e)return"Highest Season DPR";if("lowestDPR"===e)return"Lowest Season DPR";if("tradeCount"===e)return"Most Trades in a Season";if("waiverCount"===e)return"Most FA/Waivers in a Season";const n=e.replace(/Season$/,"").replace(/([A-Z])/g," $1").trim();return n.charAt(0).toUpperCase()+n.slice(1)})(e.key,e);return(0,G.jsxs)(t.Fragment,{children:[e.entries.map((t,o)=>{const i=t.teamName||n(t.ownerId,t.year);let c="";return 0===o&&"number"===typeof t.value&&(c=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["luckRating","highestDPR","lowestDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"pointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})+"%":t.value),(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(r%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===o?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:s}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void l(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(s),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===o?(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-green-100 to-blue-100 border border-green-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:c})}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:i}),t.year&&(0,G.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:t.year})]})})]},"".concat(e.key,"-").concat(i,"-").concat(o))}),a&&(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason"}[e.key];return t&&c[t]&&c[t].length>0})()&&(0,G.jsx)("tr",{className:"".concat(r%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"3",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",s]}),(0,G.jsx)("div",{className:"space-y-2",children:(()=>{const t={wins:"mostWinsSeason",losses:"mostLossesSeason",winPercentage:"bestWinPctSeason",allPlayWinPercentage:"bestAllPlayWinPctSeason",topScoreWeeksCount:"mostWeeklyHighScoresSeason",weeklyTop2ScoresCount:"mostWeeklyTop2ScoresSeason",blowoutWins:"mostBlowoutWinsSeason",blowoutLosses:"mostBlowoutLossesSeason",slimWins:"mostSlimWinsSeason",slimLosses:"mostSlimLossesSeason",pointsFor:e.value>0?"mostPointsSeason":"fewestPointsSeason",luckRating:e.value>0?"bestLuckRatingSeason":"worstLuckRatingSeason",highestDPR:"highestDPRSeason",lowestDPR:"lowestDPRSeason",tradeCount:"mostTradesSeason",waiverCount:"mostWaiversSeason"}[e.key],n=(e.key,["fewestPointsSeason","worstLuckRatingSeason","lowestDPRSeason"].includes(t));return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((t,n)=>{let r="";return r=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses","tradeCount","waiverCount"].includes(e.key)?Math.round(t.value).toLocaleString("en-US",{maximumFractionDigits:0}):["luckRating","adjustedDPR"].includes(e.key)?t.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"pointsFor"===e.key?t.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key?(100*t.value).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})+"%":t.value,(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.teamName})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900",children:r}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:t.year})]})]},"".concat(t.teamName,"-").concat(t.value,"-").concat(t.year,"-").concat(n))})})()})]})})})]},e.key)})})]})})})]})},pA=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o}=$(),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({});(0,t.useEffect)(()=>{if(s||o||!n||0===n.length)return void l({});const e={},t={};n.forEach(n=>{var a,s,o,i,l,c;if(!n||!n.matchup_id||!n.team1_roster_id||void 0===n.team1_score||!n.team2_roster_id||void 0===n.team2_score||void 0===n.season||void 0===n.week)return void h.A.warn("StreaksRecords: Skipping invalid or incomplete matchup. Missing data:",{matchup_id:null===n||void 0===n?void 0:n.matchup_id,team1_roster_id:null===n||void 0===n?void 0:n.team1_roster_id,team1_score:null===n||void 0===n?void 0:n.team1_score,team2_roster_id:null===n||void 0===n?void 0:n.team2_roster_id,team2_score:null===n||void 0===n?void 0:n.team2_score,season:null===n||void 0===n?void 0:n.season,week:null===n||void 0===n?void 0:n.week,fullMatch:n});const u=parseInt(n.season),d=parseInt(n.week),f=String(n.team1_roster_id),m=String(n.team2_roster_id),p=parseFloat(n.team1_score),g=parseFloat(n.team2_score);if(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(g))return void h.A.warn("StreaksRecords: Skipping matchup due to invalid numerical data. Match:",n);const y=null===(a=r.rostersBySeason)||void 0===a||null===(s=a[u])||void 0===s||null===(o=s.find(e=>String(e.roster_id)===f))||void 0===o?void 0:o.owner_id,v=null===(i=r.rostersBySeason)||void 0===i||null===(l=i[u])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===m))||void 0===c?void 0:c.owner_id;if(!y||!v)return void h.A.warn("StreaksRecords: Skipping matchup due to missing owner ID for year ".concat(u,". Team1Roster: ").concat(f,", Team2Roster: ").concat(m));if(0===p&&0===g&&u>=(new Date).getFullYear())return;const x=p===g;e[y]||(e[y]=[]),e[v]||(e[v]=[]),e[y].push({year:u,week:d,isWin:p>g,isLoss:p<g,isTie:x,score:p,opponentScore:g,rosterId:f}),e[v].push({year:u,week:d,isWin:g>p,isLoss:g<p,isTie:x,score:g,opponentScore:p,rosterId:m}),t[u]||(t[u]={}),t[u][d]||(t[u][d]=[]),t[u][d].push({rosterId:f,score:p}),t[u][d].push({rosterId:m,score:g})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week)});const i={};Object.keys(t).forEach(e=>{i[e]={},Object.keys(t[e]).forEach(n=>{const r=[...t[e][n]].sort((e,t)=>t.score-e.score);i[e][n]={highestScore:r.length>0?r[0].score:-1/0,lowestScore:r.length>0?r[r.length-1].score:1/0,top3Scores:r.slice(0,Math.min(3,r.length)).map(e=>e.score)}})});const c={longestWinStreak:{value:0,entries:[]},longestLosingStreak:{value:0,entries:[]},longestConsecutiveHighestScoreWeeks:{value:0,entries:[]},longestConsecutiveLowestScoreWeeks:{value:0,entries:[]},longestConsecutiveTop3Weeks:{value:0,entries:[]}},f={longestWinStreak:[],longestLosingStreak:[],longestConsecutiveHighestScoreWeeks:[],longestConsecutiveLowestScoreWeeks:[],longestConsecutiveTop3Weeks:[]},m=(e,t,n,r,a)=>{const s=a(r,n.startYear),o=u(u({},n),{},{team:s,ownerId:r});if(t>e.value)e.value=t,e.entries=[o];else if(t===e.value&&t>0){e.entries.some(e=>e.team===o.team&&e.startYear===o.startYear&&e.startWeek===o.startWeek&&e.endYear===o.endYear&&e.endWeek===o.endWeek)||e.entries.push(o)}},p=(e,t,n,r,a)=>{if(t>0){const s=a(r,n.startYear);f[e].push(u(u({},n),{},{team:s,ownerId:r,streak:t}))}};Object.keys(e).forEach(n=>{const r=e[n];let s=0,o=0,l=null,u=null,d=null,h=null;for(let e=0;e<r.length;e++){const t=r[e];if(t.isWin){if(0===s&&(l=t.year,u=t.week),s++,o>0){const t={streak:o,startYear:d,startWeek:h,endYear:r[e-1]?r[e-1].year:d,endWeek:r[e-1]?r[e-1].week:h};m(c.longestLosingStreak,o,t,n,a),p("longestLosingStreak",o,t,n,a)}o=0,d=null,h=null}else if(t.isLoss){if(0===o&&(d=t.year,h=t.week),o++,s>0){const t={streak:s,startYear:l,startWeek:u,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:u};m(c.longestWinStreak,s,t,n,a),p("longestWinStreak",s,t,n,a)}s=0,l=null,u=null}else t.isTie&&(s>0&&m(c.longestWinStreak,s,{streak:s,startYear:l,startWeek:u,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:l},n,a),s=0,l=null,u=null,o>0&&m(c.longestLosingStreak,o,{streak:o,startYear:d,startWeek:h,endYear:r[e-1]?r[e-1].year:d,endWeek:r[e-1]?r[e-1].week:d},n,a),o=0,d=null,h=null)}s>0&&m(c.longestWinStreak,s,{streak:s,startYear:l,startWeek:u,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),o>0&&m(c.longestLosingStreak,o,{streak:o,startYear:d,startWeek:h,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a);let f=0,g=0,y=0,v=null,x=null,b=null,w=null,S=null,k=null;for(let e=0;e<r.length;e++){var j,_,N;const s=r[e],o=null===(j=t[s.year])||void 0===j?void 0:j[s.week],l=null===o||void 0===o||null===(_=o.find(e=>e.rosterId===s.rosterId))||void 0===_?void 0:_.score;if(void 0===l||null===l){f>0&&m(c.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:v,startWeek:x,endYear:r[e-1]?r[e-1].year:v,endWeek:r[e-1]?r[e-1].week:v},n,a),f=0,v=null,x=null,g>0&&m(c.longestConsecutiveLowestScoreWeeks,g,{streak:g,startYear:b,startWeek:w,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),g=0,b=null,w=null,y>0&&m(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:S,startWeek:k,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),y=0,S=null,k=null;continue}const u=null===(N=i[s.year])||void 0===N?void 0:N[s.week];l===u.highestScore?(0===f&&(v=s.year,x=s.week),f++):(f>0&&m(c.longestConsecutiveHighestScoreWeeks,f,{streak:f,startYear:v,startWeek:x,endYear:r[e-1]?r[e-1].year:v,endWeek:r[e-1]?r[e-1].week:v},n,a),f=0,v=null,x=null),l===u.lowestScore?(0===g&&(b=s.year,w=s.week),g++):(g>0&&m(c.longestConsecutiveLowestScoreWeeks,g,{streak:g,startYear:b,startWeek:w,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),g=0,b=null,w=null),u.top3Scores.includes(l)?(0===y&&(S=s.year,k=s.week),y++):(y>0&&m(c.longestConsecutiveTop3Weeks,y,{streak:y,startYear:S,startWeek:k,endYear:r[e-1]?r[e-1].year:S,endWeek:r[e-1]?r[e-1].week:S},n,a),y=0,S=null,k=null)}if(f>0){const e={streak:f,startYear:v,startWeek:x,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveHighestScoreWeeks,f,e,n,a),p("longestConsecutiveHighestScoreWeeks",f,e,n,a)}if(g>0){const e={streak:g,startYear:b,startWeek:w,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveLowestScoreWeeks,g,e,n,a),p("longestConsecutiveLowestScoreWeeks",g,e,n,a)}if(y>0){const e={streak:y,startYear:S,startWeek:k,endYear:r[r.length-1].year,endWeek:r[r.length-1].week};m(c.longestConsecutiveTop3Weeks,y,e,n,a),p("longestConsecutiveTop3Weeks",y,e,n,a)}}),Object.keys(c).forEach(e=>{const t=c[e];0===t.value&&0===t.entries.length&&(t.entries=[]),t.entries.sort((e,t)=>{const n=(e.team||"").localeCompare(t.team||"");return 0!==n?n:e.startYear!==t.startYear?e.startYear-t.startYear:e.startWeek-t.startWeek})}),l(c),d(f)},[n,r,a,s,o]);const p=[{key:"longestWinStreak",label:"Win Streak"},{key:"longestLosingStreak",label:"Losing Streak"},{key:"longestConsecutiveHighestScoreWeeks",label:"High Score Streak"},{key:"longestConsecutiveTop3Weeks",label:"Top 3 Score Streak"}];return s?(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading streak records..."}):o?(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading streak data: ",o.message]}):0===Object.keys(i).length||p.every(e=>{var t;return 0===(null===(t=i[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No streak data available to display records."}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83d\udd25"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Streak Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Longest consecutive achievements in league history"})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc6"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Length"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Team"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfaf"})," Started"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83c\udfc1"})," Ended"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:p.map((e,n)=>{const r=i[e.key],a=f[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[r.entries.map((t,r)=>(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===r?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void m(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===r?(0,G.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:t.streak}),(0,G.jsx)("span",{className:"text-gray-600 text-xs ml-1",children:"games"})]}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-medium text-gray-900 text-xs sm:text-sm",children:t.team})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-green-100 text-green-800 rounded-lg text-xs font-medium",children:[(0,G.jsx)("span",{children:t.startYear}),(0,G.jsx)("span",{className:"text-green-600",children:"\u2022"}),(0,G.jsxs)("span",{children:["Week ",t.startWeek]})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-red-100 text-red-800 rounded-lg text-xs font-medium",children:[(0,G.jsx)("span",{children:t.endYear}),(0,G.jsx)("span",{className:"text-red-600",children:"\u2022"}),(0,G.jsxs)("span",{children:["Week ",t.endWeek]})]})})]},"".concat(e.key,"-").concat(t.team,"-").concat(t.startYear,"-").concat(t.startWeek,"-").concat(r))),a&&c[e.key]&&c[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"5",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label,"s"]}),(0,G.jsx)("div",{className:"space-y-2",children:c[e.key].sort((e,t)=>t.streak-e.streak).slice(0,5).map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:t+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.team})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsxs)("span",{className:"font-bold text-gray-900",children:[e.streak," games"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.startYear," Week ",e.startWeek," - ",e.endYear," Week ",e.endWeek]})]})]},"".concat(e.team,"-").concat(e.streak,"-").concat(e.startYear,"-").concat(e.startWeek,"-").concat(t)))})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,G.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},gA=()=>{const{historicalData:e,getTeamName:n,loading:r,error:a}=$(),[s,o]=(0,t.useState)({}),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({});function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("number"===typeof t&&!isNaN(t))if(r){if(t<e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}else if(t>e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}(0,t.useEffect)(()=>{if(r||a||!e||!e.matchupsBySeason)return o({}),void d({});const t={mostPointsScored:[],fewestPointsScored:[],mostPointsInLoss:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]},s=(e,n,r)=>{"number"===typeof n&&!isNaN(n)&&t[e]&&t[e].push(u(u({},r),{},{value:n}))},i=((new Date).getFullYear().toString(),[]);for(const n in e.matchupsBySeason){const t=e.matchupsBySeason[n];Array.isArray(t)&&i.push(...t)}if(0===i.length)return void o({});const l={mostPointsScored:{value:-1/0,entries:[]},fewestPointsScored:{value:1/0,entries:[]},mostPointsInLoss:{value:-1/0,entries:[]},fewestPointsInWin:{value:1/0,entries:[]},highestCombinedScore:{value:-1/0,entries:[]},lowestCombinedScore:{value:1/0,entries:[]},biggestBlowout:{value:-1/0,entries:[]},slimmestWin:{value:1/0,entries:[]}};i.forEach(t=>{var r,a,o,i;const c=parseInt(t.season),d=parseInt(t.week),m=String(t.team1_roster_id),p=String(t.team2_roster_id),g=parseFloat(t.team1_score),y=parseFloat(t.team2_score),v=null===(r=e.rostersBySeason)||void 0===r||null===(a=r[c])||void 0===a?void 0:a.find(e=>String(e.roster_id)===m),x=null===v||void 0===v?void 0:v.owner_id,b=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===p),w=null===b||void 0===b?void 0:b.owner_id,S=n(x,c),k=n(w,c);let j=[];if(x||j.push("Missing team1OwnerId for roster ".concat(m," in year ").concat(c)),w||j.push("Missing team2OwnerId for roster ".concat(p," in year ").concat(c)),(isNaN(c)||isNaN(d)||isNaN(g)||isNaN(y))&&j.push("Invalid data point (year: ".concat(c,", week: ").concat(d,", scores: ").concat(g,", ").concat(y,")")),j.length>0)return void h.A.warn("MatchupRecords: Skipping matchup due to:",j.join("; "),". Match:",t);const _=g+y,N=Math.abs(g-y),P=g===y&&g>0;let E="",O="";P||(E=g>y?S:k,O=g>y?k:S);const A={matchup:"".concat(S," vs ").concat(k),year:c,week:d,team1:S,team2:k,team1Score:g,team2Score:y,team1RosterId:m,team2RosterId:p},I=u(u({},A),{},{team:S,score:g}),T=u(u({},A),{},{team:k,score:y});if(f(l.mostPointsScored,g,I),f(l.mostPointsScored,y,T),s("mostPointsScored",g,I),s("mostPointsScored",y,T),g>0&&(f(l.fewestPointsScored,g,I,!0),s("fewestPointsScored",g,I)),y>0&&(f(l.fewestPointsScored,y,T,!0),s("fewestPointsScored",y,T)),!P){const e=g<y,t=e?S:k,n=e?g:y,r=e?k:S,a=e?y:g,o=u(u({},A),{},{team:t,score:n,opponent:r,opponentScore:a});f(l.mostPointsInLoss,n,o),s("mostPointsInLoss",n,o)}if(!P){const e=g>y,t=e?S:k,n=e?g:y,r=e?k:S,a=e?y:g;if(n>0){const e=u(u({},A),{},{team:t,score:n,opponent:r,opponentScore:a});f(l.fewestPointsInWin,n,e,!0),s("fewestPointsInWin",n,e)}}const C=u(u({},A),{},{combinedScore:_});if(f(l.highestCombinedScore,_,C),s("highestCombinedScore",_,C),_>0&&g>0&&y>0&&(f(l.lowestCombinedScore,_,C,!0),s("lowestCombinedScore",_,C)),!P){const e=u(u({},A),{},{margin:N,winner:E,loser:O});f(l.biggestBlowout,N,e),s("biggestBlowout",N,e)}if(!P&&N>0){const e=u(u({},A),{},{margin:N,winner:E,loser:O});f(l.slimmestWin,N,e,!0),s("slimmestWin",N,e)}}),Object.keys(l).forEach(e=>{const t=l[e];t.value!==-1/0&&t.value!==1/0||(t.value=0,t.entries=[]),t.entries.sort((t,n)=>t.year!==n.year?t.year-n.year:t.week!==n.week?t.week-n.week:t.team&&n.team&&("mostPointsScored"===e||"fewestPointsScored"===e||"mostPointsInLoss"===e||"fewestPointsInWin"===e)?t.team.localeCompare(n.team):t.team1&&n.team1&&("highestCombinedScore"===e||"lowestCombinedScore"===e)?t.team1.localeCompare(n.team1):t.winner&&n.winner&&("biggestBlowout"===e||"slimmestWin"===e)?t.winner.localeCompare(n.winner):0)}),o(l),d(t)},[e,n,r,a]);const m=(e,t)=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),p=[{key:"mostPointsScored",label:"Most Points Scored by a Team"},{key:"mostPointsInLoss",label:"Most Points Scored in a Loss"},{key:"fewestPointsScored",label:"Fewest Points Scored by a Team"},{key:"fewestPointsInWin",label:"Fewest Points Scored in a Win"},{key:"highestCombinedScore",label:"Highest Combined Score"},{key:"lowestCombinedScore",label:"Lowest Combined Score"},{key:"biggestBlowout",label:"Biggest Blowout"},{key:"slimmestWin",label:"Slimmest Win"}];return r?(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading matchup records..."}):a?(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading matchup data: ",a.message]}):0===Object.keys(s).length||p.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No matchup data available to display records."}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\u2694\ufe0f"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Game Record Holders"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Outstanding single-game performances across all seasons \u2022 Minimum scores required for some records"})]})]})}),(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsx)("div",{className:"flex items-center gap-1 sm:gap-2",children:"Record Type"})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\u2694\ufe0f"})," Game Details"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcc5"})," Season"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udccd"})," Week"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:p.map((e,n)=>{const r=s[e.key],a=i[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[r.entries.map((t,s)=>{let o;const i=t.team1Score.toFixed(2),c=t.team2Score.toFixed(2),d=(t.winner===t.team1?t.team1Score:t.team2Score).toFixed(2),h=(t.loser===t.team1?t.team1Score:t.team2Score).toFixed(2);if("mostPointsScored"===e.key||"fewestPointsScored"===e.key||"mostPointsInLoss"===e.key||"fewestPointsInWin"===e.key){const e=t.team,n=t.score.toFixed(2),r=e===t.team1?t.team2:t.team1,a=(e===t.team1?t.team2Score:t.team1Score).toFixed(2);o=(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-2 sm:p-3 border border-blue-200",children:(0,G.jsxs)("div",{className:"space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:e}),(0,G.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:n})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:r}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:a})]})]})})})}else o="biggestBlowout"===e.key||"slimmestWin"===e.key?(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-2 sm:p-3 border border-orange-200",children:(0,G.jsxs)("div",{className:"space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:t.winner}),(0,G.jsx)("span",{className:"font-bold text-green-600 text-xs sm:text-sm text-right",children:d})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:t.loser}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:h})]})]})})}):(0,G.jsx)("div",{className:"space-y-2",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-2 sm:p-3 border border-green-200",children:(0,G.jsx)("div",{className:"space-y-1",children:(()=>{const e=t.team1Score>=t.team2Score,n=e?t.team1:t.team2,r=e?i:c,a=e?t.team2:t.team1,s=e?c:i;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate text-left",children:n}),(0,G.jsx)("span",{className:"font-bold text-blue-600 text-xs sm:text-sm text-right",children:r})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("span",{className:"text-gray-700 text-xs sm:text-sm truncate text-left",children:a}),(0,G.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm text-right",children:s})]})]})})()})})});return(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:0===s?(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void l(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):r.entries.length>1?(0,G.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm",children:"\u2022 Tied Record"}):null}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:0===s?(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-orange-100 to-red-100 border border-orange-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:m(r.value,e.key)})}):""}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"text-xs sm:text-sm",children:o})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-blue-100 text-blue-800 rounded-lg text-xs font-medium",children:t.year})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsxs)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium",children:["Week ",t.week]})})]},"".concat(e.key,"-").concat(s))}),a&&c[e.key]&&c[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"5",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,G.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.key,n=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(t);return c[t].sort((e,t)=>n?e.value-t.value:t.value-e.value).slice(0,5).map((e,n)=>{let r="";return r="mostPointsScored"===t||"fewestPointsScored"===t||"mostPointsInLoss"===t||"fewestPointsInWin"===t?"".concat(e.team,": ").concat(e.value.toFixed(2)," pts"):"biggestBlowout"===t||"slimmestWin"===t?"".concat(e.winner," beat ").concat(e.loser," by ").concat(e.value.toFixed(2)," pts"):"".concat(e.team1," vs ").concat(e.team2,": ").concat(e.value.toFixed(2)," pts combined"),(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:r})]}),(0,G.jsxs)("div",{className:"flex items-center gap-4",children:[(0,G.jsx)("span",{className:"font-bold text-gray-900",children:e.value.toFixed(2)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.year," Week ",e.week]})]})]},"".concat(e.year,"-").concat(e.week,"-").concat(n))})})()})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})})}),(0,G.jsx)("td",{colSpan:"4",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},yA=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:s,error:o}=$(),[i,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[f,m]=(0,t.useState)({});(0,t.useEffect)(()=>{if(s||o||!n||0===n.length||!r||!r.rostersBySeason)return l({}),void m({});const e={mostPlayoffAppearances:[],mostPlayoffWins:[],mostPlayoffLosses:[],bestPlayoffWinPercentage:[],worstPlayoffWinPercentage:[],mostPlayoffPointsFor:[],mostPlayoffPointsAgainst:[],mostChampionships:[],mostFirstPlaceFinishes:[],mostSecondPlaceFinishes:[],mostThirdPlaceFinishes:[]},t=(t,n,r)=>{"number"===typeof n&&!isNaN(n)&&e[t]&&e[t].push(u(u({},r),{},{value:n}))},i={};n.forEach((e,t)=>{var n,s,o,l;const c=parseInt(e.year),u=String(e.team1_roster_id),d=String(e.team2_roster_id),f=parseFloat(e.team1Score),m=parseFloat(e.team2Score),p=null===(n=r.rostersBySeason)||void 0===n||null===(s=n[c])||void 0===s?void 0:s.find(e=>String(e.roster_id)===u),g=null===p||void 0===p?void 0:p.owner_id,y=null===(o=r.rostersBySeason)||void 0===o||null===(l=o[c])||void 0===l?void 0:l.find(e=>String(e.roster_id)===d),v=null===y||void 0===y?void 0:y.owner_id;if(g&&v&&!isNaN(c)&&!isNaN(f)&&!isNaN(m)&&e.playoffs)if([g,v].forEach(e=>{i[e]||(i[e]={appearances:new Set,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,medals:{1:0,2:0,3:0},championships:0})}),e.isWinnersBracket?(i[g].appearances.add(c),i[v].appearances.add(c),h.A.debug("PlayoffRecords: Counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Winners Bracket). Match:"),e)):e.isLosersBracket&&h.A.debug("PlayoffRecords: NOT counting appearance for Owner ".concat(g," (").concat(a(g,c),") and Owner ").concat(v," (").concat(a(v,c),") in ").concat(c," (Losers Bracket). Match:"),e),e.isWinnersBracket){const t=f>m;if(f===m?(i[g].ties++,i[v].ties++):t?(i[g].wins++,i[v].losses++):(i[v].wins++,i[g].losses++),i[g].pointsFor+=f,i[g].pointsAgainst+=m,i[v].pointsFor+=m,i[v].pointsAgainst+=f,h.A.debug("PlayoffRecords: Processing winners bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),"). Match:"),e),"number"===typeof e.finalSeedingGame&&e.finalSeedingGame>0){let n="",r="";t?(n=g,r=v):m>f&&(n=v,r=g);const a=e.finalSeedingGame;1===a?n&&(i[n].medals[1]++,i[n].championships++,r&&i[r].medals[2]++):3===a&&n&&i[n].medals[3]++}}else e.isLosersBracket&&h.A.debug("PlayoffRecords: Skipping losers bracket stats for Owner ".concat(g," (").concat(a(g,c),") vs Owner ").concat(v," (").concat(a(v,c),") (only counting appearance). Match:"),e);else h.A.warn("PlayoffRecords useEffect: Skipping match ".concat(t," due to invalid data, not a playoff game, or missing owner IDs. Match:"),e,"Team1 Owner: ".concat(g,", Team2 Owner: ").concat(v))}),h.A.debug("PlayoffRecords: Aggregated Playoff Stats Per Team:"),Object.entries(i).forEach(e=>{let[t,n]=e;const r=a(t,null);h.A.debug("  Team: ".concat(r," (Owner ID: ").concat(t,")")),h.A.debug("    Playoff Appearances: ".concat(n.appearances.size," (Years: ").concat(Array.from(n.appearances).join(", "),")")),h.A.debug("    Wins: ".concat(n.wins)),h.A.debug("    Losses: ".concat(n.losses)),h.A.debug("    Ties: ".concat(n.ties)),h.A.debug("    Points For: ".concat(n.pointsFor.toFixed(2))),h.A.debug("    Points Against: ".concat(n.pointsAgainst.toFixed(2))),h.A.debug("    Championships: ".concat(n.championships)),h.A.debug("    2nd Place Finishes: ".concat(n.medals[2])),h.A.debug("    3rd Place Finishes: ".concat(n.medals[3]))});const c={mostPlayoffAppearances:{value:0,entries:[]},mostPlayoffWins:{value:0,entries:[]},totalPlayoffPoints:{value:0,entries:[]},mostPlayoffPointsAgainst:{value:0,entries:[]},mostChampionships:{value:0,entries:[]},most2ndPlaceFinishes:{value:0,entries:[]},most3rdPlaceFinishes:{value:0,entries:[]}},d=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)))};Object.keys(i).forEach(e=>{const n=i[e],r=a(e,null),s={team:r,appearances:n.appearances.size},o={team:r,wins:n.wins},l={team:r,points:n.pointsFor},u={team:r,pointsAgainst:n.pointsAgainst},h={team:r,championships:n.championships},f={team:r,place:n.medals[2]},m={team:r,place:n.medals[3]};d(c.mostPlayoffAppearances,n.appearances.size,s),d(c.mostPlayoffWins,n.wins,o),d(c.totalPlayoffPoints,n.pointsFor,l),d(c.mostPlayoffPointsAgainst,n.pointsAgainst,u),d(c.mostChampionships,n.championships,h),d(c.most2ndPlaceFinishes,n.medals[2],f),d(c.most3rdPlaceFinishes,n.medals[3],m),t("mostPlayoffAppearances",n.appearances.size,s),t("mostPlayoffWins",n.wins,o),t("mostPlayoffPointsFor",n.pointsFor,l),t("mostPlayoffPointsAgainst",n.pointsAgainst,u),t("mostChampionships",n.championships,h),t("mostFirstPlaceFinishes",n.championships,h),t("mostSecondPlaceFinishes",n.medals[2],f),t("mostThirdPlaceFinishes",n.medals[3],m)}),Object.keys(c).forEach(e=>{const t=c[e];t.value!==-1/0&&t.value!==1/0||0!==t.entries.length?t.value===1/0&&(t.value="N/A"):(t.value=0,t.entries=[]),t.entries.length>1&&t.entries.sort((t,n)=>{const r=(t.team||"").localeCompare(n.team||"");if(0!==r)return r;let a,s;return"mostPlayoffAppearances"===e?(a=t.appearances,s=n.appearances):"mostPlayoffWins"===e?(a=t.wins,s=n.wins):"totalPlayoffPoints"===e?(a=t.points,s=n.points):"mostPlayoffPointsAgainst"===e?(a=t.pointsAgainst,s=n.pointsAgainst):"mostChampionships"===e?(a=t.championships,s=n.championships):"most2ndPlaceFinishes"===e||"most3rdPlaceFinishes"===e?(a=t.place,s=n.place):(a=t.value,s=n.value),"number"===typeof a&&"number"===typeof s?s-a:0})}),l(c),m(e)},[n,r,a,s,o]);const p=(e,t)=>"number"===typeof e?"mostPlayoffAppearances"===t||"mostPlayoffWins"===t?e:"totalPlayoffPoints"===t||"mostPlayoffPointsAgainst"===t?e.toFixed(2):e:e,g=[{key:"mostPlayoffAppearances",label:"Most Playoff Appearances"},{key:"mostPlayoffWins",label:"Most Playoff Wins"},{key:"totalPlayoffPoints",label:"Total Playoff Points For"},{key:"mostPlayoffPointsAgainst",label:"Most Playoff Points Against Total"},{key:"mostChampionships",label:"Most Championships"},{key:"most2ndPlaceFinishes",label:"Most 2nd Place Finishes"},{key:"most3rdPlaceFinishes",label:"Most 3rd Place Finishes"}];return(0,G.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,G.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-4",children:[(0,G.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white text-lg sm:text-xl font-bold",children:"\ud83c\udfc6"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All-Time Playoff Records"}),(0,G.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Historical playoff performance and championship accolades."})]})]})}),0===Object.keys(i).length||g.every(e=>{var t;return 0===(null===(t=i[e.key])||void 0===t?void 0:t.entries.length)})?(0,G.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl sm:rounded-2xl border border-gray-200",children:[(0,G.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd37\u200d\u2642\ufe0f"}),(0,G.jsx)("h4",{className:"text-xl font-semibold text-gray-800",children:"No Playoff Data Available"}),(0,G.jsx)("p",{className:"text-gray-500",children:"Cannot display records without historical playoff data."})]}):(0,G.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl sm:rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ufffd"})," Record"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udcca"})," Value"]})}),(0,G.jsx)("th",{className:"py-3 px-3 sm:py-4 sm:px-6 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,G.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:"\ud83d\udc51"})," Holder(s)"]})})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-100",children:g.map((e,n)=>{const r=i[e.key],a=c[e.key];return r&&0!==r.entries.length?(0,G.jsxs)(t.Fragment,{children:[(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label}),(0,G.jsx)("button",{onClick:()=>{return t=e.key,void d(e=>u(u({},e),{},{[t]:!e[t]}));var t},className:"ml-2 p-1 rounded-md hover:bg-gray-200 transition-colors","aria-label":"".concat(a?"Hide":"Show"," top 5 for ").concat(e.label),children:(0,G.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("div",{className:"inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-200",children:(0,G.jsx)("span",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:p(r.value,e.key)})})}),(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:r.entries.map((e,t)=>(0,G.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-100 rounded-lg p-1.5 sm:p-2 border border-gray-200",children:(0,G.jsx)("span",{className:"font-medium text-gray-800 text-xs sm:text-sm truncate",children:e.team})},t))})})]}),a&&f[e.key]&&f[e.key].length>0&&(0,G.jsx)("tr",{className:"".concat(n%2===0?"bg-gray-50":"bg-gray-75"),children:(0,G.jsx)("td",{colSpan:"3",className:"p-0",children:(0,G.jsxs)("div",{className:"px-3 py-4 sm:px-6 sm:py-6",children:[(0,G.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Top 5 ",e.label]}),(0,G.jsx)("div",{className:"space-y-2",children:f[e.key].sort((e,t)=>t.value-e.value).slice(0,5).map((t,n)=>(0,G.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 text-xs font-bold rounded-full",children:n+1}),(0,G.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.team})]}),(0,G.jsx)("div",{className:"flex items-center gap-4",children:(0,G.jsx)("span",{className:"font-bold text-gray-900",children:p(t.value,e.key)})})]},"".concat(t.team,"-").concat(t.value,"-").concat(n)))})]})})})]},e.key):(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(n%2===0?"bg-white":"bg-gray-25"),children:[(0,G.jsx)("td",{className:"py-3 px-3 sm:py-4 sm:px-6",children:(0,G.jsx)("span",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:e.label})}),(0,G.jsx)("td",{colSpan:"2",className:"py-3 px-3 sm:py-4 sm:px-6 text-center",children:(0,G.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm italic",children:"No data available"})})]})},e.key)})})]})})})]})},vA=()=>{const{historicalData:e,nflPlayers:n,getTeamName:r,loading:a,error:s}=$(),[o,i]=(0,t.useState)("weekly"),l=(0,t.useMemo)(()=>{if(null===e||void 0===e||!e.matchupsBySeason||!n)return h.A.debug("Missing data for player records:",{hasMatchups:!(null===e||void 0===e||!e.matchupsBySeason),hasNflPlayers:!!n}),null;h.A.debug("Available seasons:",Object.keys(e.matchupsBySeason));const t={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},a={QB:[],RB:[],WR:[],TE:[],K:[],"D/ST":[]},s={};for(const[l,c]of Object.entries(e.matchupsBySeason))c.forEach(e=>{[{rosterInfo:e.team1_details,players:e.team1_players,rosterId:e.team1_roster_id},{rosterInfo:e.team2_details,players:e.team2_players,rosterId:e.team2_roster_id}].forEach(a=>{let{rosterInfo:o,players:i,rosterId:c}=a;if(!i||!i.starters||!i.players_points||!o)return;const u=r(o.owner_id,parseInt(l));i.starters.forEach(r=>{if(!r||!i.players_points[r])return;const a=n[r];if(!a)return;let o=a.position;"DEF"===o&&(o="D/ST");const c="".concat(a.first_name," ").concat(a.last_name),d=i.players_points[r]||0;if(!t[o])return;t[o].push({playerName:c,points:d,week:e.week,season:l,teamName:u,playerId:r});const h="".concat(r,"-").concat(l);s[h]||(s[h]={playerName:c,position:o,points:0,games:0,season:l,teamName:u,playerId:r}),s[h].points+=d,s[h].games+=1})})});Object.values(s).forEach(e=>{a[e.position]&&a[e.position].push(e)});const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.sort((e,t)=>t.points-e.points).slice(0,t)},i={weekly:{},seasonal:{}};return Object.keys(t).forEach(e=>{i.weekly[e]=o(t[e]),i.seasonal[e]=o(a[e])}),h.A.debug("Generated player records:",i),i},[e,n,r]);if(a)return(0,G.jsx)("div",{className:"p-8 text-center",children:(0,G.jsx)("div",{className:"text-lg",children:"Loading player records..."})});if(s||!l)return(0,G.jsxs)("div",{className:"p-8 text-center",children:[(0,G.jsx)("div",{className:"text-lg text-red-600",children:"Unable to load player records"}),(0,G.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Please try refreshing the page or check back later."}),s&&(0,G.jsxs)("div",{className:"text-sm text-gray-500 mt-4",children:["Error: ",s.message]})]});const c=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&0!==e.length?(0,G.jsx)("div",{className:"space-y-3",children:e.map((e,n)=>(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:n+1}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.playerName}),(0,G.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:e.teamName})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"font-bold text-blue-600 text-lg",children:e.points.toFixed(1)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[t?"Week ".concat(e.week," "):"".concat(e.games||"N/A"," games "),e.season]})]})]})},"".concat(e.playerId,"-").concat(e.season,"-").concat(e.week||"season")))}):(0,G.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No records available for this position"})},u={QB:"\ud83c\udfc8",RB:"\ud83c\udfc3",WR:"\ud83d\ude4c",TE:"\ud83d\udcaa",K:"\ud83e\uddb5","D/ST":"\ud83d\udee1\ufe0f"};return(0,G.jsxs)("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6",children:[(0,G.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,G.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"\u2b50 Player Records"}),(0,G.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Individual player achievements and performances"}),(0,G.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Note: only players who were in the starting lineup are counted toward these records."})]}),(0,G.jsx)("div",{className:"flex justify-center mb-6 sm:mb-8",children:(0,G.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1 flex w-full max-w-sm",children:[(0,G.jsx)("button",{onClick:()=>i("weekly"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("weekly"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Weekly"}),(0,G.jsx)("button",{onClick:()=>i("seasonal"),className:"flex-1 px-3 sm:px-6 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("seasonal"===o?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Seasonal"})]})}),(0,G.jsx)("div",{className:"space-y-4 sm:space-y-6",children:["QB","RB","WR","TE","K","D/ST"].map(e=>{"".concat(o,"-").concat(e);const t=l[o][e]||[];return(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 sm:p-4 border-b border-gray-200",children:(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("span",{className:"text-xl sm:text-2xl",children:u[e]}),(0,G.jsx)("div",{children:(0,G.jsxs)("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:[e," - ","weekly"===o?"Best Weekly":"Best Seasonal"]})})]})})}),(0,G.jsx)("div",{className:"p-3 sm:p-4",children:c(t,"weekly"===o)})]},e)})})]})};function xA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(t){xA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const SA=()=>{};let kA={},jA={},_A=null,NA={mark:SA,measure:SA};try{"undefined"!==typeof window&&(kA=window),"undefined"!==typeof document&&(jA=document),"undefined"!==typeof MutationObserver&&(_A=MutationObserver),"undefined"!==typeof performance&&(NA=performance)}catch(OF){}const{userAgent:PA=""}=kA.navigator||{},EA=kA,OA=jA,AA=_A,IA=NA,TA=(EA.document,!!OA.documentElement&&!!OA.head&&"function"===typeof OA.addEventListener&&"function"===typeof OA.createElement),CA=~PA.indexOf("MSIE")||~PA.indexOf("Trident/");var DA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},MA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],RA="classic",LA="duotone",BA=[RA,LA,"sharp","sharp-duotone"],FA=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),WA=["fak","fa-kit","fakd","fa-kit-duotone"],UA={fak:"kit","fa-kit":"kit"},zA={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},VA=["fak","fakd"],HA={kit:"fak"},qA={"kit-duotone":"fakd"},GA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},KA=["fak","fa-kit","fakd","fa-kit-duotone"],YA={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},QA=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],XA=[1,2,3,4,5,6,7,8,9,10],$A=XA.concat([11,12,13,14,15,16,17,18,19,20]),JA=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",GA.GROUP,GA.SWAP_OPACITY,GA.PRIMARY,GA.SECONDARY].concat(XA.map(e=>"".concat(e,"x"))).concat($A.map(e=>"w-".concat(e)));const ZA="___FONT_AWESOME___",eI=16,tI="svg-inline--fa",nI="data-fa-i2svg",rI="data-fa-pseudo-element",aI="data-prefix",sI="data-icon",oI="fontawesome-i2svg",iI=["HTML","HEAD","STYLE","SCRIPT"],lI=(()=>{try{return!0}catch(e){return!1}})();function cI(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[RA]})}const uI=wA({},DA);uI[RA]=wA(wA(wA(wA({},{"fa-duotone":"duotone"}),DA[RA]),UA),zA);const dI=cI(uI),hI=wA({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});hI[RA]=wA(wA(wA(wA({},{duotone:"fad"}),hI[RA]),HA),qA);const fI=cI(hI),mI=wA({},YA);mI[RA]=wA(wA({},mI[RA]),{fak:"fa-kit"});const pI=cI(mI),gI=wA({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});gI[RA]=wA(wA({},gI[RA]),{"fa-kit":"fak"});cI(gI);const yI=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,vI="fa-layers-text",xI=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,bI=(cI(wA({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),wI={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},SI=["kit",...JA],kI=EA.FontAwesomeConfig||{};if(OA&&"function"===typeof OA.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=OA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(kI[n]=r)})}const jI={styleDefault:"solid",familyDefault:RA,cssPrefix:"fa",replacementClass:tI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};kI.familyPrefix&&(kI.cssPrefix=kI.familyPrefix);const _I=wA(wA({},jI),kI);_I.autoReplaceSvg||(_I.observeMutations=!1);const NI={};Object.keys(jI).forEach(e=>{Object.defineProperty(NI,e,{enumerable:!0,set:function(t){_I[e]=t,PI.forEach(e=>e(NI))},get:function(){return _I[e]}})}),Object.defineProperty(NI,"familyPrefix",{enumerable:!0,set:function(e){_I.cssPrefix=e,PI.forEach(e=>e(NI))},get:function(){return _I.cssPrefix}}),EA.FontAwesomeConfig=NI;const PI=[];const EI=eI,OI={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function AI(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function II(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function TI(e){return e.classList?II(e.classList):(e.getAttribute("class")||"").split(" ").filter(e=>e)}function CI(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function DI(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function MI(e){return e.size!==OI.size||e.x!==OI.x||e.y!==OI.y||e.rotate!==OI.rotate||e.flipX||e.flipY}function RI(){const e="fa",t=tI,n=NI.cssPrefix,r=NI.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),i=new RegExp("\\.".concat(t),"g");a=a.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(i,".".concat(r))}return a}let LI=!1;function BI(){NI.autoAddCss&&!LI&&(!function(e){if(!e||!TA)return;const t=OA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=OA.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}OA.head.insertBefore(t,r)}(RI()),LI=!0)}var FI={mixout:()=>({dom:{css:RI,insertCss:BI}}),hooks:()=>({beforeDOMElementCreation(){BI()},beforeI2svg(){BI()}})};const WI=EA||{};WI[ZA]||(WI[ZA]={}),WI[ZA].styles||(WI[ZA].styles={}),WI[ZA].hooks||(WI[ZA].hooks={}),WI[ZA].shims||(WI[ZA].shims=[]);var UI=WI[ZA];const zI=[],VI=function(){OA.removeEventListener("DOMContentLoaded",VI),HI=1,zI.map(e=>e())};let HI=!1;function qI(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?CI(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(CI(e[n]),'" '),"").trim()}(n),">").concat(r.map(qI).join(""),"</").concat(t,">")}function GI(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}TA&&(HI=(OA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(OA.readyState),HI||OA.addEventListener("DOMContentLoaded",VI));var KI=function(e,t,n,r){var a,s,o,i=Object.keys(e),l=i.length,c=void 0!==r?function(e,t){return function(n,r,a,s){return e.call(t,n,r,a,s)}}(t,r):t;for(void 0===n?(a=1,o=e[i[0]]):(a=0,o=n);a<l;a++)o=c(o,e[s=i[a]],s,e);return o};function YI(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function QI(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function XI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=QI(t);"function"!==typeof UI.hooks.addPack||r?UI.styles[e]=wA(wA({},UI.styles[e]||{}),a):UI.hooks.addPack(e,QI(t)),"fas"===e&&XI("fa",t)}const{styles:$I,shims:JI}=UI,ZI=Object.keys(pI),eT=ZI.reduce((e,t)=>(e[t]=Object.keys(pI[t]),e),{});let tT=null,nT={},rT={},aT={},sT={},oT={};function iT(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(s=a,~SI.indexOf(s))?null:a;var s}const lT=()=>{const e=e=>KI($I,(t,n,r)=>(t[r]=KI(n,e,{}),t),{});nT=e((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter(e=>"number"===typeof e).forEach(t=>{e[t.toString(16)]=n})}return e}),rT=e((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter(e=>"string"===typeof e).forEach(t=>{e[t]=n})}return e}),oT=e((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach(t=>{e[t]=n}),e});const t="far"in $I||NI.autoFetchSvg,n=KI(JI,(e,n)=>{const r=n[0];let a=n[1];const s=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:s}),e},{names:{},unicodes:{}});aT=n.names,sT=n.unicodes,tT=mT(NI.styleDefault,{family:NI.familyDefault})};var cT;function uT(e,t){return(nT[e]||{})[t]}function dT(e,t){return(oT[e]||{})[t]}function hT(e){return aT[e]||{prefix:null,iconName:null}}function fT(){return tT}cT=e=>{tT=mT(e.styleDefault,{family:NI.familyDefault})},PI.push(cT),lT();function mT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=RA}=t,r=dI[n][e];if(n===LA&&!e)return"fad";const a=fI[n][e]||fI[n][r],s=e in UI.styles?e:null;return a||s||null}function pT(e){return e.sort().filter((e,t,n)=>n.indexOf(e)===t)}function gT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=QA.concat(KA),s=pT(e.filter(e=>a.includes(e))),o=pT(e.filter(e=>!QA.includes(e))),i=s.filter(e=>(r=e,!MA.includes(e))),[l=null]=i,c=function(e){let t=RA;const n=ZI.reduce((e,t)=>(e[t]="".concat(NI.cssPrefix,"-").concat(t),e),{});return BA.forEach(r=>{(e.includes(n[r])||e.some(e=>eT[r].includes(e)))&&(t=r)}),t}(s),u=wA(wA({},function(e){let t=[],n=null;return e.forEach(e=>{const r=iT(NI.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:mT(l,{family:c})});return wA(wA(wA({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:s={},config:o={}}=e,i=n===LA,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===o.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!i&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&yT.includes(n)){if(Object.keys(s).find(e=>vT.includes(e))||o.autoFetchSvg){const e=FA.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=dT(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=fT()||"fas");return r}({values:e,family:c,styles:$I,config:NI,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const s="fa"===t?hT(a):{},o=dT(r,a);a=s.iconName||o||a,r=s.prefix||r,"far"!==r||$I.far||!$I.fas||NI.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,u))}const yT=BA.filter(e=>e!==RA||e!==LA),vT=Object.keys(YA).filter(e=>e!==RA).map(e=>Object.keys(YA[e])).flat();let xT=[],bT={};const wT={},ST=Object.keys(wT);function kT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(bT[e]||[]).forEach(e=>{t=e.apply(null,[t,...r])}),t}function jT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(bT[e]||[]).forEach(e=>{e.apply(null,n)})}function _T(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return wT[e]?wT[e].apply(null,t):void 0}function NT(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||fT();if(t)return t=dT(n,t)||t,GI(PT.definitions,n,t)||GI(UI.styles,n,t)}const PT=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(e=>{this.definitions[e]=wA(wA({},this.definitions[e]||{}),r[e]),XI(e,r[e]);const t=pI[RA][e];t&&XI(t,r[e]),lT()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(t=>{const{prefix:r,iconName:a,icon:s}=n[t],o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach(t=>{"string"===typeof t&&(e[r][t]=s)}),e[r][a]=s}),e}},ET={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return TA?(jT("beforeI2svg",e),_T("pseudoElements2svg",e),_T("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===NI.autoReplaceSvg&&(NI.autoReplaceSvg=!0),NI.observeMutations=!0,n=()=>{IT({autoReplaceSvgRoot:t}),jT("watch",e)},TA&&(HI?setTimeout(n,0):zI.push(n))}},OT={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:dT(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=mT(e[0]);return{prefix:n,iconName:dT(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(NI.cssPrefix,"-"))>-1||e.match(yI))){const t=gT(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||fT(),iconName:dT(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=fT();return{prefix:t,iconName:dT(t,e)||e}}}},AT={noAuto:()=>{NI.autoReplaceSvg=!1,NI.observeMutations=!1,jT("noAuto")},config:NI,dom:ET,parse:OT,library:PT,findIconDefinition:NT,toHtml:qI},IT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=OA}=e;(Object.keys(UI.styles).length>0||NI.autoFetchSvg)&&TA&&NI.autoReplaceSvg&&AT.dom.i2svg({node:t})};function TT(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(e=>qI(e))}}),Object.defineProperty(e,"node",{get:function(){if(!TA)return;const t=OA.createElement("div");return t.innerHTML=e.html,t.children}}),e}function CT(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:s,symbol:o,title:i,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,m=VA.includes(r),p=[NI.replacementClass,a?"".concat(NI.cssPrefix,"-").concat(a):""].filter(e=>-1===u.classes.indexOf(e)).filter(e=>""!==e||!!e).concat(u.classes).join(" ");let g={children:[],attributes:wA(wA({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:p,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)})};const y=m&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[nI]=""),i&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||AI())},children:[i]}),delete g.attributes.title);const v=wA(wA({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:s,symbol:o,styles:wA(wA({},y),u.styles)}),{children:x,attributes:b}=n.found&&t.found?_T("generateAbstractMask",v)||{children:[],attributes:{}}:_T("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=x,v.attributes=b,o?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:s}=e;const o=!0===s?"".concat(t,"-").concat(NI.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:wA(wA({},a),{},{id:o}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:a,styles:s,transform:o}=e;if(MI(o)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=DI(wA(wA({},s),{},{"transform-origin":"".concat(r.x+o.x/16,"em ").concat(r.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(v)}function DT(e){const{content:t,width:n,height:r,transform:a,title:s,extra:o,watchable:i=!1}=e,l=wA(wA(wA({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});i&&(l[nI]="");const c=wA({},o.styles);MI(a)&&(c.transform=function(e){let{transform:t,width:n=eI,height:r=eI,startCentered:a=!1}=e,s="";return s+=a&&CA?"translate(".concat(t.x/EI-n/2,"em, ").concat(t.y/EI-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/EI,"em), calc(-50% + ").concat(t.y/EI,"em)) "):"translate(".concat(t.x/EI,"em, ").concat(t.y/EI,"em) "),s+="scale(".concat(t.size/EI*(t.flipX?-1:1),", ").concat(t.size/EI*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:a,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=DI(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}const{styles:MT}=UI;function RT(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(NI.cssPrefix,"-").concat(wI.GROUP)},children:[{tag:"path",attributes:{class:"".concat(NI.cssPrefix,"-").concat(wI.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(NI.cssPrefix,"-").concat(wI.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const LT={found:!1,width:512,height:512};function BT(e,t){let n=t;return"fa"===t&&null!==NI.styleDefault&&(t=fT()),new Promise((r,a)=>{if("fa"===n){const n=hT(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&MT[t]&&MT[t][e]){return r(RT(MT[t][e]))}!function(e,t){lI||NI.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(wA(wA({},LT),{},{icon:NI.showMissingIcons&&e&&_T("missingIconAbstract")||{}}))})}const FT=()=>{},WT=NI.measurePerformance&&IA&&IA.mark&&IA.measure?IA:{mark:FT,measure:FT},UT='FA "6.7.2"',zT=e=>{WT.mark("".concat(UT," ").concat(e," ends")),WT.measure("".concat(UT," ").concat(e),"".concat(UT," ").concat(e," begins"),"".concat(UT," ").concat(e," ends"))};var VT=e=>(WT.mark("".concat(UT," ").concat(e," begins")),()=>zT(e));const HT=()=>{};function qT(e){return"string"===typeof(e.getAttribute?e.getAttribute(nI):null)}function GT(e){return OA.createElementNS("http://www.w3.org/2000/svg",e)}function KT(e){return OA.createElement(e)}function YT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?GT:KT)}=t;if("string"===typeof e)return OA.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])});return(e.children||[]).forEach(function(e){r.appendChild(YT(e,{ceFn:n}))}),r}const QT={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(e=>{t.parentNode.insertBefore(YT(e),t)}),null===t.getAttribute(nI)&&NI.keepOriginalSource){let e=OA.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~TI(t).indexOf(NI.replacementClass))return QT.replace(e);const r=new RegExp("".concat(NI.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce((e,t)=>(t===NI.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map(e=>qI(e)).join("\n");t.setAttribute(nI,""),t.innerHTML=a}};function XT(e){e()}function $T(e,t){const n="function"===typeof t?t:HT;if(0===e.length)n();else{let t=XT;"async"===NI.mutateApproach&&(t=EA.requestAnimationFrame||XT),t(()=>{const t=!0===NI.autoReplaceSvg?QT.replace:QT[NI.autoReplaceSvg]||QT.replace,r=VT("mutate");e.map(t),r(),n()})}}let JT=!1;function ZT(){JT=!0}function eC(){JT=!1}let tC=null;function nC(e){if(!AA)return;if(!NI.observeMutations)return;const{treeCallback:t=HT,nodeCallback:n=HT,pseudoElementsCallback:r=HT,observeMutationsRoot:a=OA}=e;tC=new AA(e=>{if(JT)return;const a=fT();II(e).forEach(e=>{if("childList"===e.type&&e.addedNodes.length>0&&!qT(e.addedNodes[0])&&(NI.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&NI.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&qT(e.target)&&~bI.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(aI):null,n=e.getAttribute?e.getAttribute(sI):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=gT(TI(e.target));e.target.setAttribute(aI,t||a),n&&e.target.setAttribute(sI,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(NI.replacementClass)&&n(e.target);var s})}),TA&&tC.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function rC(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=gT(TI(e));return a.prefix||(a.prefix=fT()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function(e,t){return(rT[e]||{})[t]}(a.prefix,e.innerText)||uT(a.prefix,YI(e.innerText))),!a.iconName&&NI.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function aC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=rC(e),s=function(e){const t=II(e.attributes).reduce((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return NI.autoA11y&&(n?t["aria-labelledby"]="".concat(NI.replacementClass,"-title-").concat(r||AI()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=kT("parseNodeAttributes",{},e);let i=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e},{})),n}(e):[];return wA({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:OI,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:i,attributes:s}},o)}const{styles:sC}=UI;function oC(e){const t="nest"===NI.autoReplaceSvg?aC(e,{styleParser:!1}):aC(e);return~t.extra.classes.indexOf(vI)?_T("generateLayersText",e,t):_T("generateSvgReplacementMutation",e,t)}function iC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!TA)return Promise.resolve();const n=OA.documentElement.classList,r=e=>n.add("".concat(oI,"-").concat(e)),a=e=>n.remove("".concat(oI,"-").concat(e)),s=NI.autoFetchSvg?[...WA,...QA]:MA.concat(Object.keys(sC));s.includes("fa")||s.push("fa");const o=[".".concat(vI,":not([").concat(nI,"])")].concat(s.map(e=>".".concat(e,":not([").concat(nI,"])"))).join(", ");if(0===o.length)return Promise.resolve();let i=[];try{i=II(e.querySelectorAll(o))}catch(u){}if(!(i.length>0))return Promise.resolve();r("pending"),a("complete");const l=VT("onTree"),c=i.reduce((e,t)=>{try{const n=oC(t);n&&e.push(n)}catch(u){lI||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise((e,n)=>{Promise.all(c).then(n=>{$T(n,()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()})}).catch(e=>{l(),n(e)})})}function lC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;oC(e).then(e=>{e&&$T([e],t)})}const cC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=OI,symbol:r=!1,mask:a=null,maskId:s=null,title:o=null,titleId:i=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return TT(wA({type:"icon"},e),()=>(jT("beforeDOMElementCreation",{iconDefinition:e,params:t}),NI.autoA11y&&(o?c["aria-labelledby"]="".concat(NI.replacementClass,"-title-").concat(i||AI()):(c["aria-hidden"]="true",c.focusable="false")),CT({icons:{main:RT(f),mask:a?RT(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:wA(wA({},OI),n),symbol:r,title:o,maskId:s,titleId:i,extra:{attributes:c,styles:u,classes:l}})))};var uC={mixout(){return{icon:(e=cC,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:NT(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:NT(a||{})),e(r,wA(wA({},n),{},{mask:a}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=iC,e.nodeCallback=lC,e)}),provides(e){e.i2svg=function(e){const{node:t=OA,callback:n=()=>{}}=e;return iC(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:s,transform:o,symbol:i,mask:l,maskId:c,extra:u}=t;return new Promise((t,d)=>{Promise.all([BT(n,s),l.iconName?BT(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(l=>{let[d,h]=l;t([e,CT({icons:{main:d,mask:h},prefix:s,iconName:n,transform:o,symbol:i,maskId:c,title:r,titleId:a,extra:u,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:s}=e;const o=DI(s);let i;return o.length>0&&(n.style=o),MI(a)&&(i=_T("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(i||r.icon),{children:t,attributes:n}}}},dC={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return TT({type:"layer"},()=>{jT("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(e=>{Array.isArray(e)?e.map(e=>{r=r.concat(e.abstract)}):r=r.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(NI.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},hC={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:s={}}=t;return TT({type:"counter",content:e},()=>(jT("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=wA(wA(wA({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=DI(r.styles);s.length>0&&(a.style=s);const o=[];return o.push({tag:"span",attributes:a,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:a,styles:s,classes:["".concat(NI.cssPrefix,"-layers-counter"),...r]}})))}})},fC={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=OI,title:r=null,classes:a=[],attributes:s={},styles:o={}}=t;return TT({type:"text",content:e},()=>(jT("beforeDOMElementCreation",{content:e,params:t}),DT({content:e,transform:wA(wA({},OI),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(NI.cssPrefix,"-layers-text"),...a]}})))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let s=null,o=null;if(CA){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,o=n.height/t}return NI.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,DT({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:a,watchable:!0})])}}};const mC=new RegExp('"',"ug"),pC=[1105920,1112319],gC=wA(wA(wA(wA({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),yC=Object.keys(gC).reduce((e,t)=>(e[t.toLowerCase()]=gC[t],e),{}),vC=Object.keys(yC).reduce((e,t)=>{const n=yC[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function xC(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((r,a)=>{if(null!==e.getAttribute(n))return r();const s=II(e.children).filter(e=>e.getAttribute(rI)===t)[0],o=EA.getComputedStyle(e,t),i=o.getPropertyValue("font-family"),l=i.match(xI),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(yC[n]||{})[a]||vC[n]}(i,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(mC,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=pC[0]&&n<=pC[1],a=2===t.length&&t[0]===t[1];return{value:YI(a?t[0]:t),isSecondary:r||a}}(u),m=l[0].startsWith("FontAwesome");let p=uT(d,h),g=p;if(m){const e=function(e){const t=sT[e],n=uT("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(p=e.iconName,d=e.prefix)}if(!p||f||s&&s.getAttribute(aI)===d&&s.getAttribute(sI)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const o={iconName:null,title:null,titleId:null,prefix:null,transform:OI,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:i}=o;i.attributes[rI]=t,BT(p,d).then(a=>{const s=CT(wA(wA({},o),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:i,watchable:!0})),l=OA.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map(e=>qI(e)).join("\n"),e.removeAttribute(n),r()}).catch(a)}}else r()})}function bC(e){return Promise.all([xC(e,"::before"),xC(e,"::after")])}function wC(e){return e.parentNode!==document.head&&!~iI.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(rI)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function SC(e){if(TA)return new Promise((t,n)=>{const r=II(e.querySelectorAll("*")).filter(wC).map(bC),a=VT("searchPseudoElements");ZT(),Promise.all(r).then(()=>{a(),eC(),t()}).catch(()=>{a(),eC(),n()})})}var kC={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=SC,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=OA}=e;NI.searchPseudoElements&&SC(t)}}};let jC=!1;var _C={mixout:()=>({dom:{unwatch(){ZT(),jC=!0}}}),hooks:()=>({bootstrap(){nC(kT("mutationObserverCallbacks",{}))},noAuto(){tC&&tC.disconnect()},watch(e){const{observeMutationsRoot:t}=e;jC?eC():nC(kT("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const NC=e=>e.toLowerCase().split(" ").reduce((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var PC={mixout:()=>({parse:{transform:e=>NC(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=NC(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),i="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:s,inner:{transform:"".concat(o," ").concat(i," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:wA({},c.outer),children:[{tag:"g",attributes:wA({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:wA(wA({},t.icon.attributes),c.path)}]}]}}}};const EC={x:0,y:0,width:"100%",height:"100%"};function OC(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var AC={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?gT(n.split(" ").map(e=>e.trim())):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=fT()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:s,transform:o}=e;const{width:i,icon:l}=r,{width:c,icon:u}=a,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),i="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(i)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:i}),h={tag:"rect",attributes:wA(wA({},EC),{},{fill:"white"})},f=l.children?{children:l.children.map(OC)}:{},m={tag:"g",attributes:wA({},d.inner),children:[OC(wA({tag:l.tag,attributes:wA(wA({},l.attributes),d.path)},f))]},p={tag:"g",attributes:wA({},d.outer),children:[m]},g="mask-".concat(s||AI()),y="clip-".concat(s||AI()),v={tag:"mask",attributes:wA(wA({},EC),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(b=u,"g"===b.tag?b.children:[b])},v]};var b;return t.push(x,{tag:"rect",attributes:wA({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},EC)}),{children:t,attributes:n}}}},IC={provides(e){let t=!1;EA.matchMedia&&(t=EA.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:wA(wA({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=wA(wA({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:wA(wA({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:wA(wA({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:wA(wA({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:wA(wA({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:wA(wA({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:wA(wA({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:wA(wA({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;xT=e,bT={},Object.keys(wT).forEach(e=>{-1===ST.indexOf(e)&&delete wT[e]}),xT.forEach(e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach(r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){const t=e.hooks();Object.keys(t).forEach(e=>{bT[e]||(bT[e]=[]),bT[e].push(t[e])})}e.provides&&e.provides(wT)})}([FI,uC,dC,hC,fC,kC,_C,PC,AC,IC,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:AT});const TC=AT.parse,CC=AT.icon;function DC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function MC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(t){MC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||UC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FC(e){return function(e){if(Array.isArray(e))return DC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||UC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WC(e){return WC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WC(e)}function UC(e,t){if(e){if("string"==typeof e)return DC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DC(e,t):void 0}}var zC;try{var VC=n(5900);zC=VC.version}catch(OF){zC="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FA_VERSION||"7.0.0"}function HC(e){var t=e.beat,n=e.fade,r=e.beatFade,a=e.bounce,s=e.shake,o=e.flash,i=e.spin,l=e.spinPulse,c=e.spinReverse,u=e.pulse,d=e.fixedWidth,h=e.inverse,f=e.border,m=e.listItem,p=e.flip,g=e.size,y=e.rotation,v=e.pull,x=e.swapOpacity,b=e.rotateBy,w=e.widthAuto,S=function(e,t){for(var n=BC(e.split("-"),2),r=n[0],a=n[1],s=BC(t.split("-"),2),o=s[0],i=s[1],l=r.split("."),c=o.split("."),u=0;u<Math.max(l.length,c.length);u++){var d=l[u]||"0",h=c[u]||"0",f=parseInt(d,10),m=parseInt(h,10);if(f!==m)return f>m}for(var p=0;p<Math.max(l.length,c.length);p++){var g=l[p]||"0",y=c[p]||"0";if(g!==y&&g.length!==y.length)return g.length<y.length}return!(a&&!i)}(zC,"7.0.0"),k=MC(MC(MC(MC(MC(MC({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":u,"fa-fw":d,"fa-inverse":h,"fa-border":f,"fa-li":m,"fa-flip":!0===p,"fa-flip-horizontal":"horizontal"===p||"both"===p,"fa-flip-vertical":"vertical"===p||"both"===p},"fa-".concat(g),"undefined"!==typeof g&&null!==g),"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),"fa-swap-opacity",x),"fa-rotate-by",S&&b),"fa-width-auto",S&&w);return Object.keys(k).map(function(e){return k[e]?e:null}).filter(function(e){return e})}function qC(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var GC=["style"];var KC=!1;try{KC=!0}catch(OF){}function YC(e){return e&&"object"===WC(e)&&e.prefix&&e.iconName&&e.icon?e:TC.icon?TC.icon(e):null===e?null:e&&"object"===WC(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function QC(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?MC({},e,t):{}}var XC={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},$C=t.forwardRef(function(e,t){var n=LC(LC({},XC),e),r=n.icon,a=n.mask,s=n.symbol,o=n.className,i=n.title,l=n.titleId,c=n.maskId,u=YC(r),d=QC("classes",[].concat(FC(HC(n)),FC((o||"").split(" ")))),h=QC("transform","string"===typeof n.transform?TC.transform(n.transform):n.transform),f=QC("mask",YC(a)),m=CC(u,LC(LC(LC(LC({},d),h),f),{},{symbol:s,title:i,titleId:l,maskId:c}));if(!m)return function(){var e;!KC&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=m.abstract,g={ref:t};return Object.keys(n).forEach(function(e){XC.hasOwnProperty(e)||(g[e]=n[e])}),JC(p[0],g)});$C.displayName="FontAwesomeIcon",$C.propTypes={beat:Hr().bool,border:Hr().bool,beatFade:Hr().bool,bounce:Hr().bool,className:Hr().string,fade:Hr().bool,flash:Hr().bool,mask:Hr().oneOfType([Hr().object,Hr().array,Hr().string]),maskId:Hr().string,fixedWidth:Hr().bool,inverse:Hr().bool,flip:Hr().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Hr().oneOfType([Hr().object,Hr().array,Hr().string]),listItem:Hr().bool,pull:Hr().oneOf(["right","left"]),pulse:Hr().bool,rotation:Hr().oneOf([0,90,180,270]),rotateBy:Hr().bool,shake:Hr().bool,size:Hr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Hr().bool,spinPulse:Hr().bool,spinReverse:Hr().bool,symbol:Hr().oneOfType([Hr().bool,Hr().string]),title:Hr().string,titleId:Hr().string,transform:Hr().oneOfType([Hr().string,Hr().object]),swapOpacity:Hr().bool,widthAuto:Hr().bool};var JC=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map(function(n){return e(t,n)}),s=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),a=qC(t.slice(0,r)),s=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[a]=s,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[qC(t)]=r}return e},{attrs:{}}),o=r.style,i=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,GC);return s.attrs.style=LC(LC({},s.attrs.style),i),t.apply(void 0,[n.tag,LC(LC({},s.attrs),l)].concat(FC(a)))}.bind(null,t.createElement);const ZC={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},eD={prefix:"fas",iconName:"repeat",icon:[512,512,[128257],"f363","M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"]},tD={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},nD={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0L176 0c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8L24 64C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9L192 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-26.1 0C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24L446.4 64c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112l84.4 0c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6l84.4 0c-5.1 66.3-31.1 111.2-63 142.3z"]};const rD=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,currentSeason:a,nflState:o,loading:i,error:l}=$(),[c,d]=(0,t.useState)("totalWins"),[f,m]=(0,t.useState)({}),[p,g]=(0,t.useState)({}),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)({}),w={totalWins:{title:"Total Wins",description:"Career victory milestones celebrating the most successful franchises in league history. Every win counts toward these legendary achievements.",icon:"\ud83c\udfc6",thresholds:[25,50,75,100,150],color:"green"},totalLosses:{title:"Total Losses",description:"Career loss milestones that track the journey through adversity. Sometimes the path to greatness includes learning from defeat.",icon:"\ud83d\udc80",thresholds:[25,50,75,100,150],color:"red"},allPlayWins:{title:"All-Play Wins",description:"All-Play wins show how often your score would beat every other team that week. This milestone celebrates consistent high-level performance.",icon:"\u26a1",thresholds:[50,100,200,300,500],color:"blue"},allPlayLosses:{title:"All-Play Losses",description:"All-Play losses track how many teams would have beaten you each week. This milestone shows the journey through challenging performances.",icon:"\ud83d\udcb8",thresholds:[50,100,200,300,500],color:"purple"},totalPoints:{title:"Total Points",description:"Career scoring milestones recognizing the highest cumulative point totals in league history. These achievements showcase offensive consistency and excellence.",icon:"\ud83d\udcca",thresholds:[1e3,2500,5e3,7500,1e4],color:"yellow"},highScores:{title:"High Scores",description:"Milestones for achieving the most high-scoring weeks (top 3 performances each week). Recognition for explosive offensive performances.",icon:"\ud83d\ude80",thresholds:[5,10,25,50,75],color:"orange"}},S=e=>{const t=JSON.parse(JSON.stringify(w)),n=Object.keys(e||{}).length;return Object.keys(t).forEach(r=>{const a=t[r],s=[...a.thresholds];let o=0,i=0;Object.values(e).forEach(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}o=Math.max(o,t)});const l=Math.max(...s);if(n>0&&(i=Object.values(e).filter(e=>{let t=0;switch(r){case"totalWins":t=e.totalWins||0;break;case"totalLosses":t=e.totalLosses||0;break;case"allPlayWins":t=e.allPlayWins||0;break;case"allPlayLosses":t=e.allPlayLosses||0;break;case"totalPoints":t=e.totalPoints||0;break;case"highScores":t=e.highScores||0}return t>=l}).length),o>=l){const e=k(r,l,o);a.thresholds=[...new Set([...s,...e])].sort((e,t)=>e-t)}}),t},k=(e,t,n)=>{const r=[];let a=t;const s={totalWins:[25,50,25,25,50],totalLosses:[25,50,25,25,50],allPlayWins:[100,200,200,300,500],allPlayLosses:[100,200,200,300,500],totalPoints:[2500,2500,5e3,5e3,1e4],highScores:[25,25,50,50,100]}[e]||[50,100,100,200,500];let o=0;for(;a<=n+2*s[o%s.length]&&(a+=s[o%s.length],r.push(a),o++,!(r.length>=10)););return r},j=Object.keys(p).length>0?p:w;(0,t.useEffect)(()=>{if(!i&&e)try{_()}catch(t){h.A.error("Error calculating milestones:",t)}finally{v(!1)}else v(!0)},[e,i]);const _=()=>{h.A.debug("=== SIMPLE MILESTONE TRACKER START ===");const{careerDPRData:t}=s(e,0,n,o);if(!t||0===t.length)return void h.A.warn("No career data found");const i={},l={},c={};t.forEach(e=>{const t=e.ownerId,s=r(t,a);i[t]={wins:0,losses:0,ties:0,points:0,allPlayWins:0,allPlayLosses:0,highScores:0,finalWins:e.wins||0,finalLosses:e.losses||0,finalTies:e.ties||0,finalPoints:e.pointsFor||0,finalAllPlayWins:e.allPlayWins||0,finalAllPlayLosses:e.allPlayLosses||0,finalHighScores:e.topScoreWeeksCount||0},l[t]={name:e.teamName||n(t,a),avatar:null===s||void 0===s?void 0:s.avatar}});let u=S(i);Object.keys(u).forEach(e=>{c[e]={},u[e].thresholds.forEach(t=>{c[e][t]=[]})});const d=Object.keys(e.matchupsBySeason||{}).sort((e,t)=>parseInt(e)-parseInt(t));let f=0;h.A.debug("Processing ".concat(d.length," seasons chronologically")),d.forEach(t=>{var n,r;const a=(null===(n=e.matchupsBySeason)||void 0===n?void 0:n[t])||[],s=(null===(r=e.rostersBySeason)||void 0===r?void 0:r[t])||[],o={};a.forEach(e=>{const t=e.week;o[t]||(o[t]=[]),o[t].push(e)});const d=Object.keys(o).sort((e,t)=>parseInt(e)-parseInt(t));d.forEach(e=>{f++;const n=o[e],r=[];n.forEach(e=>{const t=s.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=null!==e.team2_roster_id&&void 0!==e.team2_roster_id?s.find(t=>String(t.roster_id)===String(e.team2_roster_id)):null;if(!t)return;const a=String(t.owner_id),o=n?String(n.owner_id):null,l=parseFloat(e.team1_score)||0,c=parseFloat(e.team2_score)||0;i[a]&&(i[a].points+=l,o&&i[o]&&(i[o].points+=c),o&&i[o]&&(l>c?(i[a].wins++,i[o].losses++):c>l?(i[o].wins++,i[a].losses++):(i[a].ties++,i[o].ties++)),r.push({ownerId:a,score:l}),o&&r.push({ownerId:o,score:c}))}),r.forEach(e=>{r.forEach(t=>{e.ownerId!==t.ownerId&&(e.score>t.score?i[e.ownerId].allPlayWins++:e.score<t.score&&i[e.ownerId].allPlayLosses++)})});const a=[...r].sort((e,t)=>t.score-e.score);for(let t=0;t<Math.min(3,a.length);t++)i[a[t].ownerId].highScores++;u=S(i),Object.keys(u).forEach(e=>{c[e]||(c[e]={}),u[e].thresholds.forEach(t=>{void 0===c[e][t]&&(c[e][t]=[])})}),Object.keys(i).forEach(n=>{const r=i[n],a={totalWins:r.wins,totalLosses:r.losses,allPlayWins:r.allPlayWins,allPlayLosses:r.allPlayLosses,totalPoints:r.points,highScores:r.highScores};Object.keys(a).forEach(r=>{const s=a[r];(u[r]||w[r]).thresholds.forEach(a=>{if(s>=a){var o,i;if(!c[r][a].some(e=>e.ownerId===n))c[r][a].push({ownerId:n,season:parseInt(t),week:parseInt(e),globalWeek:f,value:s,teamName:(null===(o=l[n])||void 0===o?void 0:o.name)||"Team ".concat(n)}),h.A.info("\ud83c\udfc6 ".concat(r," ").concat(a,": ").concat(null===(i=l[n])||void 0===i?void 0:i.name," achieved in S").concat(t,"W").concat(e," (value: ").concat(s,")"))}})})})})});const p={};Object.keys(i).forEach(e=>{p[e]={},Object.keys(w).forEach(t=>{p[e][t]={};const n=i[e]["totalWins"===t?"finalWins":"totalLosses"===t?"finalLosses":"allPlayWins"===t?"finalAllPlayWins":"allPlayLosses"===t?"finalAllPlayLosses":"totalPoints"===t?"finalPoints":"finalHighScores"];w[t].thresholds.forEach(r=>{p[e][t][r]={achieved:n>=r,currentValue:n,remaining:Math.max(0,r-n),progress:Math.min(100,n/r*100)}})})}),Object.keys(i).forEach(e=>{i[e].achievements=p[e]}),g(u),m({teamStats:i,allRosters:l,achievementHistory:c}),h.A.debug("=== MILESTONE TRACKING COMPLETE ==="),h.A.debug("Achievement timeline summary:",Object.keys(c).map(e=>({milestone:e,achievements:Object.keys(c[e]).map(t=>{var n;return{threshold:t,count:c[e][t].length,firstAchiever:(null===(n=c[e][t][0])||void 0===n?void 0:n.teamName)||"None"}})})))},N=(e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];if(null!==s&&void 0!==s&&s.achieved){var o,i,l;const a=null===(o=f.achievementHistory)||void 0===o||null===(i=o[e])||void 0===i||null===(l=i[t])||void 0===l?void 0:l.find(e=>e.ownerId===r);n.push(u(u({ownerId:r},f.allRosters[r]),{},{currentValue:s.currentValue,timingInfo:a||null}))}}),n.sort((e,t)=>e.timingInfo&&t.timingInfo?e.timingInfo.globalWeek-t.timingInfo.globalWeek:t.currentValue-e.currentValue)},P=(e,t)=>{const n=N(e,t),r=Object.keys(f.teamStats||{}).length;return n.length===r&&r>0},E=(e,t)=>"totalPoints"===t?e.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}):e.toString();return l?(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsxs)("p",{className:"text-red-600",children:["Error loading data: ",l]})}):y?(0,G.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,G.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading milestones..."})]}):(0,G.jsxs)("div",{className:"space-y-6",children:[(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 bg-gray-50 p-4 rounded-lg",children:Object.keys(j).map(e=>(0,G.jsxs)("button",{onClick:()=>d(e),className:"p-3 rounded-lg text-sm font-medium transition-all duration-200 ".concat(c===e?"bg-".concat(j[e].color,"-100 text-").concat(j[e].color,"-800 border-2 border-").concat(j[e].color,"-300"):"bg-white text-gray-600 border-2 border-transparent hover:bg-gray-100"),children:[(0,G.jsx)("div",{className:"text-lg mb-1",children:j[e].icon}),(0,G.jsx)("div",{className:"text-xs leading-tight",children:j[e].title})]},e))}),c&&j[c]&&(0,G.jsxs)("div",{className:"space-y-6",children:[(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,G.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,G.jsx)("div",{className:"text-4xl sm:text-5xl",children:j[c].icon}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:j[c].title}),(0,G.jsx)("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:j[c].description})]})]})}),(0,G.jsx)("div",{className:"space-y-4",children:((e=>{var t;const n=(null===(t=(Object.keys(p).length>0?p:w)[e])||void 0===t?void 0:t.thresholds)||[];if(null===f||void 0===f||!f.teamStats)return n.slice().sort((e,t)=>t-e);let r=0;Object.keys(f.teamStats).forEach(t=>{const n=f.teamStats[t];if(!n)return;let a=0;switch(e){case"totalWins":a=n.finalWins||0;break;case"totalLosses":a=n.finalLosses||0;break;case"allPlayWins":a=n.finalAllPlayWins||0;break;case"allPlayLosses":a=n.finalAllPlayLosses||0;break;case"totalPoints":a=n.finalPoints||0;break;case"highScores":a=n.finalHighScores||0;break;default:a=0}r=Math.max(r,a)});const a=n.slice().sort((e,t)=>e-t);let s=a.findIndex(e=>e>r);if(-1===s)return a.slice().sort((e,t)=>t-e);return a.slice(0,s+1).sort((e,t)=>t-e)})(c)||[]).map(e=>{const t=N(c,e),n=((e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];(null===s||void 0===s||!s.achieved)&&(null===s||void 0===s?void 0:s.remaining)<=10&&(null===s||void 0===s?void 0:s.remaining)>0&&n.push(u(u({ownerId:r},f.allRosters[r]),{},{remaining:s.remaining,currentValue:s.currentValue}))}),n.sort((e,t)=>e.remaining-t.remaining)})(c,e),r=((e,t)=>{if(!f.teamStats)return[];const n=[];return Object.keys(f.teamStats).forEach(r=>{var a;const s=null===(a=f.teamStats[r].achievements[e])||void 0===a?void 0:a[t];s&&n.push(u(u({ownerId:r},f.allRosters[r]),{},{currentValue:s.currentValue,remaining:s.remaining,progress:s.progress||0,achieved:s.achieved}))}),n.sort((e,t)=>e.achieved&&!t.achieved?-1:!e.achieved&&t.achieved?1:t.currentValue-e.currentValue)})(c,e),a=((e,t)=>{var n,r;if(null===(n=f.achievementHistory)||void 0===n||null===(r=n[e])||void 0===r||!r[t])return null;const a=f.achievementHistory[e][t];if(0===a.length)return null;const s=[...a].sort((e,t)=>e.globalWeek-t.globalWeek),o=s[0];return{firstAchiever:{ownerId:o.ownerId,name:o.teamName,globalWeek:o.globalWeek,season:o.season,week:o.week},allAchievements:s.map(e=>({ownerId:e.ownerId,name:e.teamName,globalWeek:e.globalWeek,weeksAfterFirst:e.globalWeek-o.globalWeek,season:e.season,week:e.week,achievedIn:e.globalWeek}))}})(c,e),s=P(c,e),o=((e,t)=>{const n="".concat(e,"-").concat(t),r=P(e,t);return void 0!==x[n]?x[n]:!r})(c,e);return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,G.jsx)("div",{className:"p-3 sm:p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>((e,t)=>{const n="".concat(e,"-").concat(t);b(e=>u(u({},e),{},{[n]:!e[n]}))})(c,e),children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-3 h-3 rounded-full bg-".concat(j[c].color,"-500")}),(0,G.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[E(e,c)," ",j[c].title]}),t.length>0&&(0,G.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-".concat(j[c].color,"-100 text-").concat(j[c].color,"-800"),children:[t.length," achieved"]})]}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,G.jsx)("span",{className:"text-xs text-gray-500 hidden sm:inline",children:"All teams achieved"}),o?(0,G.jsx)($C,{icon:ZC,className:"h-5 w-5 text-gray-400"}):(0,G.jsx)($C,{icon:tD,className:"h-5 w-5 text-gray-400"})]})]})}),o&&(0,G.jsxs)("div",{className:"border-t border-gray-200 p-4 sm:p-6 space-y-4",children:[t.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,G.jsx)($C,{icon:nD,className:"h-4 w-4 text-yellow-500 mr-2"}),"Achievement Timeline (",t.length,")"]}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,G.jsx)("thead",{className:"bg-".concat(j[c].color,"-50"),children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Team"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Season"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Week"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Weeks"}),(0,G.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Difference"})]})}),(0,G.jsx)("tbody",{className:"divide-y divide-gray-200",children:null!==a&&void 0!==a&&a.allAchievements?a.allAchievements.map((e,t)=>{var n;const r=0===t;return(0,G.jsxs)("tr",{className:r?"bg-yellow-50":"hover:bg-gray-50",children:[(0,G.jsx)("td",{className:"px-3 py-2",children:(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===(n=f.allRosters[e.ownerId])||void 0===n?void 0:n.avatar)&&(0,G.jsx)("img",{src:f.allRosters[e.ownerId].avatar,alt:e.name,className:"w-6 h-6 rounded-full"}),(0,G.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-900":"text-gray-900"),children:e.name}),r&&(0,G.jsx)("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-1 py-0.5 rounded",children:"1st"})]})}),(0,G.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.season}),(0,G.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.week}),(0,G.jsx)("td",{className:"px-3 py-2",children:(0,G.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-yellow-700":"text-gray-700"),children:e.achievedIn})}),(0,G.jsx)("td",{className:"px-3 py-2",children:r?(0,G.jsx)("span",{className:"text-sm font-medium text-yellow-700",children:"First"}):(0,G.jsxs)("span",{className:"text-sm text-red-600",children:["+",e.weeksAfterFirst," weeks"]})})]},e.ownerId)}):(0,G.jsx)("tr",{children:(0,G.jsx)("td",{colSpan:"5",className:"px-3 py-4 text-center text-sm text-gray-500",children:"No timing data available for this milestone"})})})]})})]}),n.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,G.jsx)("span",{className:"text-orange-500 mr-2",children:"\ud83d\udc40"}),"Close to Achievement (",n.length,")"]}),(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map(e=>(0,G.jsx)("div",{className:"p-3 rounded-lg bg-orange-50 border border-orange-200",children:(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar&&(0,G.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,G.jsxs)("p",{className:"text-xs text-orange-600",children:[e.remaining," away (",E(e.currentValue,c),")"]})]})]})},e.ownerId))})]}),r.filter(e=>!e.achieved&&e.remaining>10).length>0&&(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Progress Tracker"}),(0,G.jsx)("div",{className:"space-y-2",children:r.filter(e=>!e.achieved&&e.remaining>10).slice(0,5).map(t=>(0,G.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[t.avatar&&(0,G.jsx)("img",{src:t.avatar,alt:t.name,className:"w-6 h-6 rounded-full"}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.name})]}),(0,G.jsxs)("span",{className:"text-xs text-gray-600",children:[E(t.currentValue,c)," / ",E(e,c)]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("div",{className:"flex-1 w-full bg-gray-200 rounded-full h-2",children:(0,G.jsx)("div",{className:"bg-".concat(j[c].color,"-500 h-2 rounded-full transition-all duration-300"),style:{width:"".concat(Math.min(100,t.progress),"%")}})}),(0,G.jsx)("div",{className:"w-12 text-right",children:(0,G.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[Math.min(100,Math.round(t.progress)),"%"]})})]})]},t.ownerId))})]})]})]},e)})})]})]})},aD=()=>{const[e,n]=(0,t.useState)("overall"),{historicalData:r,processedSeasonalRecords:a,getTeamName:o,loading:i,error:l}=$();if(i)return(0,G.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading league data..."});if(l)return(0,G.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading data: ",l.message]});const c=[],d=new Set;if(null!==r&&void 0!==r&&r.matchupsBySeason)for(const t in r.matchupsBySeason){const e=parseInt(t),n=r.matchupsBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="".concat(n.matchup_id,"-").concat(n.season,"-").concat(n.week,"-").concat(n.team1_roster_id,"-").concat(n.team2_roster_id);if(!d.has(a)){var s,i,l,h;const f=String(n.team1_roster_id),m=String(n.team2_roster_id),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{year:e,team1:o(y,e),team2:o(v,e),team1Score:n.team1_score,team2Score:n.team2_score,playoffs:!1,finalSeedingGame:null,isWinnersBracket:!1,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.winnersBracketBySeason)for(const t in r.winnersBracketBySeason){const e=parseInt(t),n=r.winnersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const f=String(n.t1),m=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:m,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!0,isLosersBracket:!1})),d.add(a)}})}if(null!==r&&void 0!==r&&r.losersBracketBySeason)for(const t in r.losersBracketBySeason){const e=parseInt(t),n=r.losersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-loser-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!d.has(a)){var s,i,l,h;const f=String(n.t1),m=String(n.t2),p=null===(s=r.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.find(e=>String(e.roster_id)===f),g=null===(l=r.rostersBySeason)||void 0===l||null===(h=l[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===m),y=null===p||void 0===p?void 0:p.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(u(u({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:m,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!1,isLosersBracket:!0})),d.add(a)}})}const h=r&&Object.keys(r).length>0&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0,f=a&&Object.keys(a).length>0,m=c.length>0,p=r&&r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).length>0;return(0,G.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,G.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[(0,G.jsxs)("div",{className:"text-center mb-12",children:[(0,G.jsx)("h1",{className:"text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"\ud83c\udfc6 League Record Book"}),(0,G.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover the greatest achievements and records in our league's history"})]}),(0,G.jsx)("div",{className:"mb-10",children:(0,G.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-2 border border-gray-200",children:(0,G.jsxs)("nav",{className:"flex flex-col sm:flex-row gap-2 sm:gap-1",children:[(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("overall"===e?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("overall"),"aria-current":"overall"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Overall Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Leaders"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("seasonal"===e?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("seasonal"),"aria-current":"seasonal"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Seasonal Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Season"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("streaks"===e?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("streaks"),"aria-current":"streaks"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Streak Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Consecutive"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("matchup"===e?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("matchup"),"aria-current":"matchup"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Game Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Game"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("playoffs"===e?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("playoffs"),"aria-current":"playoffs"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Playoff Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Postseason"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("players"===e?"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("players"),"aria-current":"players"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Player Records"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Individual Stars"})]}),(0,G.jsxs)("button",{className:"w-full sm:flex-1 py-3 px-4 sm:py-4 sm:px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("milestones"===e?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("milestones"),"aria-current":"milestones"===e?"page":void 0,children:[(0,G.jsx)("span",{className:"block text-center",children:"Milestones"}),(0,G.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Milestones"})]})]})})}),(0,G.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:["overall"===e&&(h?(0,G.jsx)(fA,{historicalData:r,getTeamName:o,calculateAllLeagueMetrics:s}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Overall Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No overall league data available yet."})]})),"seasonal"===e&&(f?(0,G.jsx)(mA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Seasonal Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No seasonal data available for display."})]})),"streaks"===e&&(m?(0,G.jsx)(pA,{historicalMatchups:c}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Streak Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate streaks."})]})),"matchup"===e&&(m?(0,G.jsx)(gA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\u2694\ufe0f"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Matchup Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate matchup records."})]})),"playoffs"===e&&(p?(0,G.jsx)(yA,{historicalMatchups:c,getDisplayTeamName:o}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Playoff Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical playoff data available."})]})),"players"===e&&(r?(0,G.jsx)(vA,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\u2b50"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Player Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical player data available."})]})),"milestones"===e&&(r?(0,G.jsx)(rD,{}):(0,G.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,G.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Milestone Data"}),(0,G.jsx)("p",{className:"text-gray-500",children:"No historical data available to compute milestones."})]}))]})]})})},sD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(t)};function oD(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}function iD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n.filter(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id,r=void 0!==t.t2?t.t2:t.team2_roster_id;return String(n)===String(e)||String(r)===String(e)});r&&(a=a.slice(-r));const s=a.map(t=>{const n=void 0!==t.t1?t.t1:t.team1_roster_id;return String(n)===String(e)?void 0!==t.t1_score?t.t1_score:t.team1_score:void 0!==t.t2_score?t.t2_score:t.team2_score}).filter(e=>"number"===typeof e);if(0===s.length)return{mean:0,variance:0,count:0,recentMean:0};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=s.slice(-3),c=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:o;return{mean:o,variance:i,count:s.length,recentMean:c}}const lD=e=>"number"!==typeof e||isNaN(e)?"N/A":sD(e,3),cD=(e,t,n)=>n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),uD=e=>"number"!==typeof e||isNaN(e)?"N/A":sD(e,2),dD=e=>"number"!==typeof e||isNaN(e)?"N/A":sD(e,3),hD=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,loading:a,error:o,currentSeason:i,nflState:l}=$(),[c,d]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(0),x=e&&e.rostersBySeason&&e.rostersBySeason[i]?e.rostersBySeason[i].length:c&&c.length?c.length:12;(0,t.useEffect)(()=>{if(a||!e||!e.matchupsBySeason)return m(!0),void g(o||null);let t=i;if(!t){const n=Object.keys(e.matchupsBySeason);n.length>0&&(t=Math.max(...n.map(Number)).toString())}const r=e.matchupsBySeason[t];if(!r||0===r.length)return d([]),m(!1),void g("No games have been played for the current season yet. Please check back after the first week's games have been completed.");const c=l&&l.week?parseInt(l.week):1,f=c>1?c-1:1;v(f);const p=e.matchupsBySeason[t]||[],y=e.rostersBySeason[t]||[],x={};y.forEach(e=>{x[String(e.roster_id)]=e.owner_id});const b={};y.forEach(e=>{b[e.owner_id]=0}),p.filter(e=>parseInt(e.week)<=f&&parseInt(e.week)<=14).forEach(e=>{const t=void 0!==e.t1?e.t1:e.team1_roster_id,n=void 0!==e.t2?e.t2:e.team2_roster_id,r=x[String(t)]||t,a=x[String(n)]||n,s=void 0!==e.t1_score?e.t1_score:e.team1_score,o=void 0!==e.t2_score?e.t2_score:e.team2_score;s>o?b[r]=(b[r]||0)+1:o>s&&(b[a]=(b[a]||0)+1)});const w={},S={};y.forEach(e=>{w[e.owner_id]=0,S[e.owner_id]=[]});const k={};y.forEach(e=>{const t=p.filter(t=>(t.t1===e.roster_id||t.team1_roster_id===e.roster_id||t.t2===e.roster_id||t.team2_roster_id===e.roster_id)&&parseInt(t.week)<=f);let n=0,r=0;t.forEach(t=>{t.t1===e.roster_id||t.team1_roster_id===e.roster_id?(n+=void 0!==t.t1_score?t.t1_score:t.team1_points,r++):t.t2!==e.roster_id&&t.team2_roster_id!==e.roster_id||(n+=void 0!==t.t2_score?t.t2_score:t.team2_points,r++)}),k[e.owner_id]=r>0?n/r:0});for(let e=f+1;e<=14;e++){const n=p.filter(t=>parseInt(t.week)===e),r=p.filter(e=>parseInt(e.week)<=f);n.forEach(e=>{const n=void 0!==e.t1?e.t1:e.team1_roster_id,a=void 0!==e.t2?e.t2:e.team2_roster_id,s=x[String(n)]||n,o=x[String(a)]||a,i=iD(n,t,r,4),l=iD(a,t,r,4),c=i.mean,u=l.mean,d=i.variance,h=l.variance,f=i.count>=2?i.count:1,m=l.count>=2?l.count:1,p=c-u,g=Math.sqrt(d/f+h/m);let y=.5;g>0&&(y=.5+.5*oD(p/(Math.sqrt(2)*g))),y=Math.max(.05,Math.min(.95,y));let v=1-y;v=Math.max(.05,Math.min(.95,v)),w[s]+=y,w[o]+=v,S[s].push(k[o]),S[o].push(k[s])})}try{const r=s(e,0,n,l),a=(((null===r||void 0===r?void 0:r.seasonalMetrics)||{})[t],r=>{const a=JSON.parse(JSON.stringify(e));a.matchupsBySeason&&a.matchupsBySeason[t]&&(a.matchupsBySeason[t]=a.matchupsBySeason[t].filter(e=>parseInt(e.week)<=r));const o=s(a,0,n,l),i=((null===o||void 0===o?void 0:o.seasonalMetrics)||{})[t]||{};return Object.keys(i).map(e=>{const r=i[e];return{ownerId:r.ownerId,team:n(r.ownerId,t),dpr:r.adjustedDPR,wins:r.wins,losses:r.losses,ties:r.ties,pointsFor:r.pointsFor,pointsAgainst:r.pointsAgainst,luckRating:r.luckRating,year:t}}).filter(e=>e.wins+e.losses+e.ties>0).sort((e,t)=>t.dpr-e.dpr).map((e,t)=>u(u({},e),{},{rank:t+1}))});h.A.debug("DEBUG actualWins:",b),h.A.debug("DEBUG projectedFutureWins:",w);const o=a(f);h.A.debug("DEBUG currentRankings ownerIds:",o.map(e=>e.ownerId));const i=f>1?a(f-1):[],c={};i.forEach(e=>{c[e.ownerId]=e.rank});let p=[],y=1;p.push(y);for(let e=1;e<o.length;e++){const t=o[e-1].dpr,n=o[e].dpr;1-n/t>.0455&&y++,p.push(y)}const v={};Object.keys(S).forEach(e=>{const t=S[e];v[e]=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0});const x=Object.entries(v).sort((e,t)=>t[1]-e[1]),k={};x.forEach((e,t)=>{let[n]=e;k[n]=t+1});const j=o.map((e,t)=>{const n=c[e.ownerId];let r=0;void 0!==n&&(r=n-e.rank);const a=b[e.ownerId]||0,s=w[e.ownerId]||0,o=Math.round(a+s),i=14-o,l="".concat(o,"-").concat(i),d=k[e.ownerId]||1;return u(u({},e),{},{tier:p[t],movement:r,projectedWins:o,projectedLosses:i,projectedRecord:l,sosRank:d})});d(j),m(!1),g(null)}catch(j){d([]),m(!1),g("Failed to calculate power rankings: "+j.message)}},[a,o,e,n,i,l]);return(0,G.jsxs)("div",{className:"w-full max-w-5xl mx-auto p-2 sm:p-4 md:p-8 font-inter",children:[(0,G.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-800 mb-4 sm:mb-6 md:mb-8 text-center tracking-tight px-2",children:c.length>0?"Power Rankings (DPR) - ".concat(c[0].year," Season (Week ").concat(y,")"):"Current Power Rankings"}),f?(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 animate-pulse",children:"Calculating power rankings..."})}):p?(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-red-500 font-semibold text-center px-4",children:p})}):c.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,G.jsxs)(t.Fragment,{children:[o&&(0,G.jsxs)("div",{className:"flex items-center justify-center py-3",children:[(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,G.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e.rank}),(0,G.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:[n(e.ownerId,e.year),e.movement>=3&&(0,G.jsx)("span",{title:"Hot team",className:"ml-1",children:"\ud83d\udd25"}),e.movement<=-3&&(0,G.jsx)("span",{title:"Cold team",className:"ml-1",children:"\u2744\ufe0f"})]}),(0,G.jsxs)("p",{className:"text-xs text-gray-500",children:["Tier ",e.tier]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:lD(e.dpr)}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"DPR"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:cD(e.wins,e.losses,e.ties)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points For"}),(0,G.jsx)("div",{className:"font-semibold text-green-700",children:uD(e.pointsFor)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points Against"}),(0,G.jsx)("div",{className:"font-semibold text-red-700",children:uD(e.pointsAgainst)})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-3",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Proj. Record"}),(0,G.jsx)("div",{className:"font-semibold text-blue-700",children:e.projectedRecord})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Luck"}),(0,G.jsx)("div",{className:"font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:dD(e.luckRating)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Rem. SOS"}),(()=>{const t=x||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,G.jsx)("div",{className:"font-bold",style:{color:o},children:e.sosRank})})()]})]})]})]},e.ownerId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Change"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PA"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Luck"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Proj. Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rem. SOS"})]})}),(0,G.jsx)("tbody",{children:c.map((e,a)=>{var s;const o=a>0&&c[a-1].tier!==e.tier;return(0,G.jsxs)(t.Fragment,{children:[o&&(0,G.jsx)("tr",{className:"bg-blue-50",children:(0,G.jsx)("td",{colSpan:"10",className:"py-1 px-3 md:px-4 text-center",children:(0,G.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"}),(0,G.jsxs)("span",{className:"px-3 text-xs font-semibold text-blue-600 uppercase tracking-wide",children:["Tier ",e.tier]}),(0,G.jsx)("div",{className:"flex-1 h-px bg-blue-300"})]})})}),(0,G.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors touch-friendly",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:e.rank}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-center border-b border-gray-200",children:(i=e.movement,0===i?(0,G.jsx)("span",{className:"text-gray-500",children:"\u2014"}):i>0?(0,G.jsxs)("span",{className:"flex items-center justify-center gap-1 text-green-600",children:[(0,G.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),(0,G.jsx)("span",{className:"text-green-600 font-bold",children:i})]}):(0,G.jsxs)("span",{className:"flex items-center justify-center gap-1 text-red-600",children:[(0,G.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),(0,G.jsx)("span",{className:"text-red-600 font-bold",children:Math.abs(i)})]}))}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:(null===(s=r(e.ownerId,e.year))||void 0===s?void 0:s.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:n(e.ownerId,e.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("span",{className:"truncate font-semibold text-xs md:text-sm flex items-center gap-1",children:[n(e.ownerId,e.year),e.movement>=3&&(0,G.jsx)("span",{title:"Hot team",className:"ml-1",children:"\ud83d\udd25"}),e.movement<=-3&&(0,G.jsx)("span",{title:"Cold team",className:"ml-1",children:"\u2744\ufe0f"})]})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:lD(e.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:cD(e.wins,e.losses,e.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:uD(e.pointsFor)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-red-700",children:uD(e.pointsAgainst)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:dD(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:e.projectedRecord}),(()=>{const t=x||12,n=(e.sosRank-1)/(t-1||1),r=Math.round(220+-198*n),a=Math.round(38+125*n),s=Math.round(38+36*n),o="rgb(".concat(r,",").concat(a,",").concat(s,")");return(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-bold",style:{color:o},children:e.sosRank})})()]})]},e.ownerId);var i})})]})})]}):(0,G.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,G.jsx)("span",{className:"text-sm sm:text-lg text-gray-500 text-center px-4",children:p})}),(0,G.jsx)("p",{className:"mt-4 sm:mt-6 md:mt-8 text-xs sm:text-sm text-gray-500 text-center px-2",children:"Power Rankings are calculated based on DPR (Dominance Power Ranking) for the newest season available. Teams are automatically grouped into tiers based on significant performance gaps."})]})};let fD={},mD={},pD=[];const gD=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,getTeamName:l,nflState:c,getTeamDetails:d}=$(),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e,t;if(fD=s(o,0,l,c),mD=(null===(e=fD)||void 0===e?void 0:e.seasonalMetrics)||{},pD=(null===(t=fD)||void 0===t?void 0:t.careerDPRData)||[],r)return void v(!0);if(a)return void v(!1);if(!o||0===Object.keys(o.matchupsBySeason||{}).length)return m([]),g([]),void v(!1);if("function"!==typeof l)return h.A.error("DPRAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),v(!1),m([]),void g([]);v(!0);let n=[];const i=new Set([...Object.keys(mD||{}),...Object.keys((null===o||void 0===o?void 0:o.matchupsBySeason)||{}),...Object.keys((null===o||void 0===o?void 0:o.rostersBySeason)||{})].map(Number));let d=null;i.size>0&&(d=Math.max(...Array.from(i))),Object.keys(mD).sort((e,t)=>parseInt(t)-parseInt(e)).forEach(e=>{const t=[];Object.keys(mD[e]).forEach(r=>{const a=mD[e][r];if(a&&a.totalGames>0){var s;let i=a.ownerId;if(!i&&null!==o&&void 0!==o&&null!==(s=o.rostersBySeason)&&void 0!==s&&s[e]){const t=o.rostersBySeason[e].find(e=>String(e.roster_id)===String(r));t&&(i=t.owner_id)}const c=a.averageScore||0,u=a.highScore||0,h=a.lowScore||0,f=a.winPercentage||0,m=(6*c+2*(u+h)+200*f*2)/10;t.push(m),n.push({year:parseInt(e),team:l(i,e),rosterId:r,ownerId:i,rawDPR:m,wins:a.wins,losses:a.losses,ties:a.ties,winPercentage:f,pointsPerGame:c,highestPointsGame:u,lowestPointsGame:h,isCurrentSeason:null!==d&&parseInt(e)===d})}});const r=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:1;n.forEach(t=>{t.year===parseInt(e)&&(t.dpr=r>0?t.rawDPR/r:1)})}),n.sort((e,t)=>t.dpr-e.dpr);const f={year:null,team:"----------------Average Season 1.000 DPR----------------",dpr:1,wins:null,losses:null,ties:null,winPercentage:null,pointsPerGame:null,highestPointsGame:null,lowestPointsGame:null,isAverageRow:!0};let p=n.findIndex(e=>e.dpr<1);-1===p?n.push(f):n.splice(p,0,f);const y=pD.map(e=>{const t=e.wins+e.losses+e.ties,n=t>0?(e.wins+.5*e.ties)/t:0,r=t>0?e.pointsFor/t:0;let a=0,s=1/0,o=0;return Object.keys(mD).forEach(t=>{const n=Object.values(mD[t]).find(t=>t.ownerId===e.ownerId);if(n){const e=n.totalGames;if(e>0){const t=n.pointsFor/e;t>a&&(a=t),t<s&&(s=t),o++}}}),0===o&&(s=0),u(u({},e),{},{winPercentage:n,pointsPerGame:r,highestSeasonalPointsAvg:a,lowestSeasonalPointsAvg:s})});m(y),g(n),v(!1)},[o,i,l,r,a]);const w=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return""},S=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),k=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),j=(e,t,n)=>null===e?"":n>0?"".concat(e||0,"-").concat(t||0,"-").concat(n):"".concat(e||0,"-").concat(t||0),_=(()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=8?t:t-1})();let N;const P=(e=>{const t=e=>"".concat(e.rosterId,"-").concat(e.year),n=new Set,r=[];for(const a of e)n.has(t(a))||(r.push(a),n.add(t(a)));return r})(p);if(P.sort((e,t)=>t.dpr-e.dpr),x)N=P;else{const e=P.findIndex(e=>e.isAverageRow);if(e>=0&&e<20)N=P.slice(0,20);else{const e=P.filter(e=>!e.isAverageRow);N=e.slice(0,20)}}const E=(()=>{try{const e=p.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):_}catch(OF){return _}})();return(0,G.jsxs)("div",{className:"w-full",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"DPR Analysis (Career & Seasonal)"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Detailed breakdown of team performance using the DPR (Dominance Performance Rating) metric."}),y?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Calculating DPR data..."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career DPR Rankings"}),f.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:f.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var r;return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,null),className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,null)),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:l(e.ownerId,null)}):l(e.ownerId,null)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Record: ",j(e.wins,e.losses,e.ties)]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-blue-800",children:S(e.dpr)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["DPR \u2022 ",k(e.pointsPerGame)]})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm mt-2",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Points Avg"}),(0,G.jsx)("div",{className:"font-semibold text-green-700",children:k(e.pointsPerGame)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"High / Low"}),(0,G.jsxs)("div",{className:"font-semibold",children:[k(e.highestSeasonalPointsAvg)," / ",k(e.lowestSeasonalPointsAvg)]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold",children:w(e.winPercentage)})]})]})]},e.ownerId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Avg"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Avg"})]})}),(0,G.jsx)("tbody",{children:f.slice().sort((e,t)=>(t.dpr||0)-(e.dpr||0)).map((e,t)=>{var r;return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,null),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,null)),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:l(e.ownerId,null)}):l(e.ownerId,null)})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-800",children:S(e.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(e.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(e.wins,e.losses,e.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-700",children:k(e.pointsPerGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(e.highestSeasonalPointsAvg)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(e.lowestSeasonalPointsAvg)})]},e.ownerId)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No career DPR data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Best Seasons by DPR"}),p.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:N.map((e,t)=>{var r;if(e.isAverageRow)return(0,G.jsx)("div",{className:"bg-yellow-100 rounded-lg p-3 text-center font-bold",children:e.team},"avg-".concat(t));const a=e.year&&Number(e.year)===Number(E);return(0,G.jsxs)("div",{className:"rounded-lg shadow p-4 ".concat(a?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:d&&(null===(r=d(e.ownerId,e.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(e.ownerId,e.year),className:"w-10 h-10 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(l(e.ownerId,e.year)),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:l(e.ownerId,e.year)}):l(e.ownerId,e.year)}),a&&(0,G.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold",children:"Current"})]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Season: ",e.year]})]})]}),(0,G.jsxs)("div",{className:"text-right min-w-[88px]",children:[(0,G.jsx)("div",{className:"text-lg font-bold text-green-800",children:S(e.dpr)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["DPR \u2022 ",k(e.pointsPerGame)]})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-3 text-sm",children:[(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Record"}),(0,G.jsx)("div",{className:"font-semibold",children:j(e.wins,e.losses,e.ties)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"Win %"}),(0,G.jsx)("div",{className:"font-semibold",children:w(e.winPercentage)})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"High / Low"}),(0,G.jsxs)("div",{className:"font-semibold",children:[k(e.highestPointsGame)," / ",k(e.lowestPointsGame)]})]})]})]},"".concat(e.rosterId,"-").concat(e.year))})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season DPR"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Highest"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest"})]})}),(0,G.jsx)("tbody",{children:(()=>{let e=0;return N.map((t,r)=>{var a;t.isAverageRow||e++;const s=t.year&&Number(t.year)===Number(E)&&!t.isAverageRow,o=t.isAverageRow?"bg-yellow-100 font-bold":s?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,G.jsx)("tr",{className:o,children:t.isAverageRow?(0,G.jsx)("td",{colSpan:9,className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap text-center",children:t.team}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,G.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(s?"bg-green-500":"bg-transparent")}),(0,G.jsx)("span",{className:"",children:e})]}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:d&&(null===(a=d(t.ownerId,t.year))||void 0===a?void 0:a.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:l(t.ownerId,t.year),className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(l(t.ownerId,t.year)),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:l(t.ownerId,t.year)}):l(t.ownerId,t.year)})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-green-800",children:S(t.dpr)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:w(t.winPercentage)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:j(t.wins,t.losses,t.ties)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold text-blue-700",children:k(t.pointsPerGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(t.highestPointsGame)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:k(t.lowestPointsGame)})]})},"".concat(t.rosterId,"-").concat(t.year))})})()})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal DPR data available."}),p.length>20&&(0,G.jsx)("div",{className:"text-center mt-4",children:(0,G.jsx)("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:x?"Show Less":"Show All Seasons"})})]})]})]})},yD=e=>{let{onTeamNameClick:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,getTeamName:l,getTeamDetails:c,nflState:u}=$(),[d,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0),[v,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(r)return void y(!0);if(a)return void y(!1);if(!o||0===Object.keys(o.matchupsBySeason||{}).length)return f([]),p([]),void y(!1);if("function"!==typeof l)return h.A.error("LuckRatingAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),y(!1),f([]),void p([]);y(!0);const{seasonalMetrics:e,careerDPRData:t}=s(o,0,l,u),n=[],i=null!==u&&void 0!==u&&u.season?parseInt(u.season):(new Date).getFullYear();Object.keys(e).forEach(t=>{const r=parseInt(t);if(r===i){var a,s;const e=null===(a=o.matchupsBySeason)||void 0===a||null===(s=a[r])||void 0===s?void 0:s[1];if(!e||0===e.length)return void h.A.debug("LuckRatingAnalysis: Skipping year ".concat(r," (current season) as Week 1 data is not available."))}Object.keys(e[r]).forEach(t=>{const a=e[r][t];!a||"number"!==typeof a.luckRating||isNaN(a.luckRating)||"number"!==typeof a.actualWinsRecord||isNaN(a.actualWinsRecord)||"number"!==typeof a.seasonalExpectedWinsSum||isNaN(a.seasonalExpectedWinsSum)||n.push({year:parseInt(r),team:l(a.ownerId,r),ownerId:a.ownerId,luckRating:a.luckRating,actualWins:a.actualWinsRecord,projectedWins:a.seasonalExpectedWinsSum})})}),n.sort((e,t)=>t.luckRating-e.luckRating),p(n);const c=[];t.forEach(e=>{!e||"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||"number"!==typeof e.actualCareerWinsRecord||isNaN(e.actualCareerWinsRecord)||"number"!==typeof e.careerExpectedWinsSum||isNaN(e.careerExpectedWinsSum)||c.push({team:l(e.ownerId,null),ownerId:e.ownerId,luckRating:e.totalLuckRating,actualWins:e.actualCareerWinsRecord,projectedWins:e.careerExpectedWinsSum})}),c.sort((e,t)=>t.luckRating-e.luckRating),f(c),y(!1)},[o,i,l,u,r,a]);const b=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),w=v?m:m.slice(0,20),S=null!==u&&void 0!==u&&u.season?parseInt(u.season):(new Date).getFullYear(),k=(()=>{try{const e=m.map(e=>e&&e.year?Number(e.year):null).filter(Boolean);return e.length>0?Math.max(...e):S}catch(OF){return S}})();return(0,G.jsxs)("div",{className:"w-full",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"Luck Rating Analysis"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:'This analysis indicates how much "luckier" or "unluckier" a team was compared to their projected wins if every possible matchup against other teams in their league week-by-week were played. A positive score means luckier, negative means unluckier. Calculation includes regular season games only.'}),g?(0,G.jsx)("p",{className:"text-center text-gray-600",children:"Calculating luck ratings..."}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career Luck Rankings"}),d.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:d.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var r;return(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md mobile-card p-4 border-l-4 border-blue-500",children:(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-10 h-10 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:e.team}):e.team}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Actual: ",e.actualWins]})]})]}),(0,G.jsxs)("div",{className:"text-right",children:[(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Projected \u2022 ",b(e.projectedWins)]})]})]})},e.team)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career Luck"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,G.jsx)("tbody",{children:d.slice().sort((e,t)=>(t.luckRating||0)-(e.luckRating||0)).map((e,t)=>{var r;return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:t+1}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 font-medium border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,null))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-blue-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:e.team}):e.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:e.actualWins}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:b(e.projectedWins)})]},e.team)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No career luck data available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Seasonal Luck Rankings"}),m.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:w.map((e,t)=>{var r;return(0,G.jsx)("div",{className:"rounded-lg shadow p-4 ".concat(Number(e.year)===Number(k)?"border-l-4 border-green-500 bg-green-50":"bg-white"),children:(0,G.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsx)("img",{src:c&&(null===(r=c(e.ownerId,e.year))||void 0===r?void 0:r.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:e.team,className:"w-10 h-10 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:n?(0,G.jsx)("button",{onClick:()=>n(e.team),className:"text-gray-800 hover:underline p-0 bg-transparent border-none",children:e.team}):e.team}),Number(e.year)===Number(k)&&(0,G.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold",children:"Current"})]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Season: ",e.year]})]})]}),(0,G.jsxs)("div",{className:"text-right min-w-[88px]",children:[(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:b(e.luckRating)}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Luck \u2022 Actual ",e.actualWins]})]})]})},"".concat(e.team,"-").concat(e.year))})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-green-100 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Rating"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,G.jsx)("th",{className:"py-3 md:py-4 px-3 md:px-4 text-center text-xs font-bold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,G.jsx)("tbody",{children:(()=>{let e=0;return w.map((t,r)=>{var a;e++;const s=t.year&&Number(t.year)===Number(k),o=s?"bg-green-50":e%2===0?"bg-gray-50":"bg-white";return(0,G.jsxs)("tr",{className:o,children:[(0,G.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200 relative pl-3",children:[(0,G.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-sm ".concat(s?"bg-green-500":"bg-transparent")}),(0,G.jsx)("span",{className:"",children:e})]}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,G.jsx)("img",{src:c&&(null===(a=c(t.ownerId,t.year))||void 0===a?void 0:a.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:t.team,className:"w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-green-300 shadow-sm object-cover flex-shrink-0",onError:e=>{e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("span",{className:"truncate font-semibold text-xs md:text-sm",children:n?(0,G.jsx)("button",{onClick:()=>n(t.team),className:"text-gray-800 hover:text-gray-600 cursor-pointer bg-transparent border-none p-0 text-left",children:t.team}):t.team})]})}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-sm text-gray-800 whitespace-nowrap border-b border-gray-200",children:t.year}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold ".concat(t.luckRating>0?"text-green-600":t.luckRating<0?"text-red-600":"text-gray-700"),children:b(t.luckRating)}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:t.actualWins}),(0,G.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-center border-b border-gray-200 font-semibold",children:b(t.projectedWins)})]},"".concat(t.team,"-").concat(t.year))})})()})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal luck data available."}),m.length>20&&(0,G.jsx)("div",{className:"text-center mt-4",children:(0,G.jsx)("button",{onClick:()=>x(!v),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:v?"Show Less":"Show All Seasons"})})]})]})]})};function vD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;const r=Array.from({length:t},()=>Array.from({length:n},()=>({sum:0,count:0})));return e.forEach(e=>{if(!e||e.is_keeper)return;const a=e.round||Math.ceil((e.pick_no||1)/n),s=e.pick_in_round||(e.pick_no-1)%n+1;if(a<1||a>t)return;const o=a-1,i=s-1,l="number"===typeof e.scaled_vorp_delta?e.scaled_vorp_delta:"number"===typeof e.vorp_delta?e.vorp_delta:null;null!==l&&(r[o][i].sum+=l,r[o][i].count+=1)}),r.map(e=>e.map(e=>({avg:e.count>0?e.sum/e.count:null,count:e.count})))}function xD(){const e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{if(!t||t.is_keeper)return;const n=t.picked_by||"unknown";e[n]||(e[n]={total:0,count:0,picks:[]});const r="number"===typeof t.scaled_vorp_delta?t.scaled_vorp_delta:"number"===typeof t.vorp_delta?t.vorp_delta:0;e[n].total+=r,e[n].count+=1,e[n].picks.push(u(u({},t),{},{value:r}))}),Object.keys(e).forEach(t=>{const n=e[t];n.picks.sort((e,t)=>t.value-e.value),n.best=n.picks[0]||null,n.worst=n.picks[n.picks.length-1]||null,n.avg=n.count>0?n.total/n.count:0}),e}var bD=gv({chartName:"BarChart",GraphicalChild:vp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mx},{axisType:"yAxis",AxisComp:_x}],formatAxisMap:_p});const wD=e=>{let{ownerId:n,allDraftHistory:r=[],totalRounds:a=12,totalTeams:s=12}=e;const{historicalData:o,nflPlayers:i}=$(),l=(0,t.useMemo)(()=>{const e={};return o&&o.rostersBySeason&&Object.keys(o.rostersBySeason).forEach(t=>{const n=o.rostersBySeason[t]||[];e[t]={},n.forEach(n=>{n&&n.roster_id&&(e[t][String(n.roster_id)]=String(n.owner_id))})}),e},[o]),c=(0,t.useMemo)(()=>Array.isArray(r)?r.filter(e=>{if(!e)return!1;if(e.picked_by&&String(e.picked_by)===String(n))return!0;if(e.owner_id&&String(e.owner_id)===String(n))return!0;const t=e.season||e.year||e.draft_season||e.draft&&e.draft.season||null,r=e.roster_id||e.rosterId||e.picked_from_roster_id||null;if(r&&t&&l[t]){const e=l[t][String(r)];if(e&&String(e)===String(n))return!0}return!1}):[],[r,n,l]),u=(0,t.useMemo)(()=>xD(c),[c]),d=((0,t.useMemo)(()=>vD(c,a,s),[c,a,s]),Object.entries(u.roundCounts||{}).sort((e,t)=>t[1]-e[1]).slice(0,3).map(e=>{let[t,n]=e;return"".concat(t," (").concat(n,")")}).join(", "),["QB","RB","WR","TE","K","DEF"]),h={QB:"#ef4444",RB:"#f59e0b",WR:"#34d399",TE:"#60a5fa",K:"#a78bfa",DEF:"#f97316"},f=(0,t.useMemo)(()=>{const e=c.reduce((e,t)=>{const n=Number(t.round)||Number(t.draft_round)||0;return Math.max(e,isFinite(n)?n:0)},0),t=Math.max(a||0,e||0)||0,n=Array.from({length:t},(e,t)=>({round:t+1}));return c.forEach(e=>{var r;const a=Number(e.round)||Number(e.draft_round)||null;let s=e.position||e.player_position||(null===(r=e.metadata)||void 0===r?void 0:r.position)||null;if(!s&&e.player_id&&i&&i[e.player_id]){const t=i[e.player_id]||{};s=t.position||t.primary_position||null}s=s||"OTHER",s="string"===typeof s?s.toUpperCase():"OTHER";const o=d.includes(s)?s:null;if(!a||a<1||a>t)return;const l=a-1;o?(n[l][o]=(n[l][o]||0)+1,n[l].__total=(n[l].__total||0)+1):n[l].__unknown=(n[l].__unknown||0)+1}),n.map(e=>{const t=e.__total||0,n={round:e.round};return d.forEach(r=>{n[r]=t>0?(e[r]||0)/t*100:0}),n.__unknown=e.__unknown||0,n})},[c,a]);return(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Draft Habits"}),(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[(0,G.jsx)("p",{className:"text-sm text-gray-600",children:"Round-by-Round Position Mix (percent)"}),(0,G.jsx)("div",{className:"w-full h-64 mt-2",children:(0,G.jsx)(lt,{width:"100%",height:"100%",children:(0,G.jsxs)(bD,{data:f,margin:{top:8,right:16,left:8,bottom:4},children:[(0,G.jsx)(mx,{dataKey:"round",tick:{fontSize:12}}),(0,G.jsx)(_x,{domain:[0,100],tick:{fontSize:12},unit:"%"}),(0,G.jsx)(dn,{formatter:(e,t)=>["".concat(Number(e).toFixed(1),"%"),t]}),(0,G.jsx)(Wr,{}),d.map(e=>(0,G.jsx)(vp,{dataKey:e,stackId:"a",fill:h[e]},e))]})})}),(0,G.jsx)("div",{className:"mt-3"})]})]})};var SD,kD=["layout","type","stroke","connectNulls","isRange","ref"],jD=["key"];function _D(e){return _D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_D(e)}function ND(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PD(){return PD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PD.apply(this,arguments)}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(t){MD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RD(r.key),r)}}function ID(e,t,n){return t=CD(t),function(e,t){if(t&&("object"===_D(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TD()?Reflect.construct(t,n||[],CD(e).constructor):t.apply(e,n))}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TD=function(){return!!e})()}function CD(e){return CD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CD(e)}function DD(e,t){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DD(e,t)}function MD(e,t,n){return(t=RD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RD(e){var t=function(e,t){if("object"!=_D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_D(t)?t:t+""}var LD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return MD(e=ID(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),MD(e,"id",ye("recharts-area-")),MD(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),_e()(t)&&t()}),MD(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),_e()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DD(e,t)}(n,e),r=n,a=[{key:"renderDots",value:function(e,r,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,u=i.dataKey,d=Je(this.props,!1),h=Je(l,!0),f=c.map(function(e,t){var r=OD(OD(OD({key:"dot-".concat(t),r:3},d),h),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)}),m={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(St,PD({className:"recharts-area-dots"},m),f)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].x,i=a[a.length-1].x,l=e*Math.abs(o-i),c=Pd()(a.map(function(e){return e.y||0}));return me(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Pd()(r.map(function(e){return e.y||0})),c)),me(c)?t.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,s=n.strokeWidth,o=a[0].y,i=a[a.length-1].y,l=e*Math.abs(o-i),c=Pd()(a.map(function(e){return e.x||0}));return me(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Pd()(r.map(function(e){return e.x||0})),c)),me(c)?t.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,r,a){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,u=s.isRange,d=(s.ref,ND(s,kD));return t.createElement(St,{clipPath:r?"url(#clipPath-".concat(a,")"):null},t.createElement(Sy,PD({},Je(d,!0),{points:e,connectNulls:c,type:i,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(Sy,PD({},Je(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&t.createElement(Sy,PD({},Je(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var r=this,a=this.props,s=a.points,o=a.baseLine,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevPoints,m=h.prevBaseLine;return t.createElement(ys,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(f){var l,c=f.length/s.length,u=s.map(function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=be(r.x,e.x),s=be(r.y,e.y);return OD(OD({},e),{},{x:a(i),y:s(i)})}return e});return l=me(o)&&"number"===typeof o?be(m,o)(i):de()(o)||se()(o)?be(m,0)(i):o.map(function(e,t){var n=Math.floor(t*c);if(m[n]){var r=m[n],a=be(r.x,e.x),s=be(r.y,e.y);return OD(OD({},e),{},{x:a(i),y:s(i)})}return e}),r.renderAreaStatically(u,l,e,n)}return t.createElement(St,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(i))),t.createElement(St,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(s,o,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,s=n.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&r&&r.length&&(!i&&c>0||!Cd()(i,r)||!Cd()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,s=n.points,o=n.className,i=n.top,l=n.left,c=n.xAxis,u=n.yAxis,d=n.width,h=n.height,f=n.isAnimationActive,m=n.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,g=1===s.length,y=Z("recharts-area",o),v=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,w=de()(m)?this.id:m,S=null!==(e=Je(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,j=void 0===k?3:k,_=S.strokeWidth,N=void 0===_?2:_,P=($e(a)?a:{}).clipDot,E=void 0===P||P,O=2*j+N;return t.createElement(St,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?l:l-d/2,y:x?i:i-h/2,width:v?d:2*d,height:x?h:2*h})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:l-O/2,y:i-O/2,width:d+O,height:h+O}))):null,g?null:this.renderArea(b,w),(a||g)&&this.renderDots(b,E,w),(!f||p)&&lm.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&AD(r.prototype,a),s&&AD(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);function BD(e){return BD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BD(e)}function FD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qD(r.key),r)}}function WD(e,t,n){return t=zD(t),function(e,t){if(t&&("object"===BD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UD()?Reflect.construct(t,n||[],zD(e).constructor):t.apply(e,n))}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(UD=function(){return!!e})()}function zD(e){return zD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zD(e)}function VD(e,t){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VD(e,t)}function HD(e,t,n){return(t=qD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qD(e){var t=function(e,t){if("object"!=BD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BD(t)?t:t+""}SD=LD,MD(LD,"displayName","Area"),MD(LD,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),MD(LD,"getBaseValue",function(e,t,n,r){var a=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!==o&&void 0!==o?o:s;if(me(i)&&"number"===typeof i)return i;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===i?d:"dataMax"===i||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),MD(LD,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=n.layout,p=u&&u.length,g=SD.getBaseValue(n,r,a,s),y="horizontal"===m,v=!1,x=h.map(function(e,t){var n;p?n=u[d+t]:(n=Dh(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||p&&null==Dh(e,c);return y?{x:Kh({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:s.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:Kh({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=p||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?s.scale(g):a.scale(g),OD({points:x,baseLine:t,layout:m,isRange:v},f)}),MD(LD,"renderDotItem",function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(_e()(e))r=e(n);else{var a=Z("recharts-area-dot","boolean"!==typeof e?e.className:""),s=n.key,o=ND(n,jD);r=t.createElement(zr,PD({},o,{key:s,className:a}))}return r});var GD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WD(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VD(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&FD(n.prototype,r),a&&FD(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(t.Component);HD(GD,"displayName","ZAxis"),HD(GD,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var KD=["option","isActive"];function YD(){return YD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YD.apply(this,arguments)}function QD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XD(e){var n=e.option,r=e.isActive,a=QD(e,KD);return"string"===typeof n?t.createElement(Wm,YD({option:t.createElement(mr,YD({type:n},a)),isActive:r,shapeType:"symbols"},a)):t.createElement(Wm,YD({option:n,isActive:r,shapeType:"symbols"},a))}function $D(e){return $D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$D(e)}function JD(){return JD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JD.apply(this,arguments)}function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(t){oM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iM(r.key),r)}}function nM(e,t,n){return t=aM(t),function(e,t){if(t&&("object"===$D(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rM()?Reflect.construct(t,n||[],aM(e).constructor):t.apply(e,n))}function rM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rM=function(){return!!e})()}function aM(e){return aM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aM(e)}function sM(e,t){return sM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sM(e,t)}function oM(e,t,n){return(t=iM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iM(e){var t=function(e,t){if("object"!=$D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$D(t)?t:t+""}var lM=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return oM(e=nM(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),oM(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),oM(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),oM(e,"id",ye("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sM(e,t)}(n,e),r=n,a=[{key:"renderSymbolsStatically",value:function(e){var n=this,r=this.props,a=r.shape,s=r.activeShape,o=r.activeIndex,i=Je(this.props,!1);return e.map(function(e,r){var l=o===r,c=l?s:a,u=eM(eM({},i),e);return t.createElement(St,JD({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},Re(n.props,e,r),{role:"img"}),t.createElement(XD,JD({option:c,isActive:l,key:"symbol-".concat(r)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,n=this.props,r=n.points,a=n.isAnimationActive,s=n.animationBegin,o=n.animationDuration,i=n.animationEasing,l=n.animationId,c=this.state.prevPoints;return t.createElement(ys,{begin:s,duration:o,isActive:a,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t,s=r.map(function(e,t){var n=c&&c[t];if(n){var r=be(n.cx,e.cx),s=be(n.cy,e.cy),o=be(n.size,e.size);return eM(eM({},e),{},{cx:r(a),cy:s(a),size:o(a)})}var i=be(0,e.size);return eM(eM({},e),{},{size:i(a)})});return t.createElement(St,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&Cd()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,n=e.points,r=e.xAxis,a=e.yAxis,s=Ge(e.children,Sh);return s?s.map(function(e,s){var o=e.props,i=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(i,"-").concat(l,"-").concat(n[s]),data:n,xAxis:r,yAxis:a,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:Dh(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,n,r=this.props,a=r.points,s=r.line,o=r.lineType,i=r.lineJointType,l=Je(this.props,!1),c=Je(s,!1);if("joint"===o)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,s=0,o=1/0,i=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,s+=l*l,o=Math.min(o,l),i=Math.max(i,l);var d=t*s!==n*n?(t*a-n*r)/(t*s-n*n):0;return{xmin:o,xmax:i,a:d,b:(r-d*n)/t}}(a),d=u.xmin,h=u.xmax,f=u.a,m=u.b,p=function(e){return f*e+m};e=[{x:d,y:p(d)},{x:h,y:p(h)}]}var g=eM(eM(eM({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return n=t.isValidElement(s)?t.cloneElement(s,g):_e()(s)?s(g):t.createElement(Sy,JD({},g,{type:i})),t.createElement(St,{className:"recharts-scatter-line",key:"recharts-scatter-line"},n)}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.points,a=e.line,s=e.className,o=e.xAxis,i=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,h=e.id,f=e.isAnimationActive;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,p=Z("recharts-scatter",s),g=o&&o.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=de()(h)?this.id:h;return t.createElement(St,{className:p,clipPath:v?"url(#clipPath-".concat(x,")"):null},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,a&&this.renderLine(),this.renderErrorBar(),t.createElement(St,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||m)&&lm.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&tM(r.prototype,a),s&&tM(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(t.PureComponent);oM(lM,"displayName","Scatter"),oM(lM,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),oM(lM,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,o=e.xAxisTicks,i=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=Ge(a.props.children,Yf),d=de()(t.dataKey)?a.props.dataKey:t.dataKey,h=de()(n.dataKey)?a.props.dataKey:n.dataKey,f=r&&r.dataKey,m=r?r.range:GD.defaultProps.range,p=m&&m[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=s.map(function(e,s){var l=Dh(e,d),m=Dh(e,h),v=!de()(f)&&Dh(e,f)||"-",x=[{name:de()(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:de()(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:m,payload:e,dataKey:h,type:c}];"-"!==v&&x.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:f,type:c});var b=Kh({axis:t,ticks:o,bandSize:g,entry:e,index:s,dataKey:d}),w=Kh({axis:n,ticks:i,bandSize:y,entry:e,index:s,dataKey:h}),S="-"!==v?r.scale(v):p,k=Math.sqrt(Math.max(S,0)/Math.PI);return eM(eM({},e),{},{cx:b,cy:w,x:b-k,y:w-k,xAxis:t,yAxis:n,zAxis:r,width:2*k,height:2*k,size:S,node:{x:l,y:m,z:v},tooltipPayload:x,tooltipPosition:{x:b,y:w},payload:e},u&&u[s]&&u[s].props)});return eM({points:v},l)});var cM=gv({chartName:"ComposedChart",GraphicalChild:[Cv,LD,vp,lM],axisComponents:[{axisType:"xAxis",AxisComp:mx},{axisType:"yAxis",AxisComp:_x},{axisType:"zAxis",AxisComp:GD}],formatAxisMap:_p});const uM=e=>{if("number"!==typeof e||isNaN(e))return"";const t=["th","st","nd","rd"],n=e%100;return t[n-20]||t[n]||t[0]},dM=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=t.filter(e=>"number"===typeof e&&!isNaN(e));if(0===r.length)return"N/A";const a=[...new Set(r)].sort((e,t)=>n?t-e:e-t);let s=1;for(let o=0;o<a.length;o++){const t=a[o];if(t===e){const t=r.filter(t=>t===e).length;return t>1&&e>0?"T-".concat(s).concat(uM(s)):"".concat(s).concat(uM(s))}s+=r.filter(e=>e===t).length}return"N/A"},hM=e=>"number"===typeof e?"".concat(e.toFixed(3).substring(1),"%"):"N/A",fM=e=>"number"===typeof e?sD(e,3):"N/A",mM=e=>"number"!==typeof e||isNaN(e)?"N/A":sD(Number(e),3),pM=e=>{let{title:t,value:n,rank:r}=e;return(0,G.jsxs)("div",{className:"bg-blue-50 p-1.5 sm:p-2 rounded-lg shadow-sm flex flex-col items-center justify-center text-center border border-blue-200 min-w-[90px]",children:[r&&"N/A"!==r&&(0,G.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:r}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[t," (",(0,G.jsx)("span",{className:"font-semibold text-gray-600",children:n}),")"]})]})},gM=e=>{let{teamName:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:l,getTeamName:c,usersData:d}=$(),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,S]=(0,t.useState)(!0),[k,j]=(0,t.useState)({career:[],playoff:[],streak:[],season:[]}),[_,N]=(0,t.useState)("game"),[P,E]=(0,t.useState)({}),[O,A]=(0,t.useState)(!0),[I,T]=(0,t.useState)("year"),[C,D]=(0,t.useState)("desc"),M=(e,t,n)=>{try{var r;if(n){const t=c(n,e);if(t&&!String(t).startsWith("Unknown Team"))return t}const a=null===o||void 0===o||null===(r=o.rostersBySeason)||void 0===r?void 0:r[e],s=Array.isArray(a)?a.find(e=>String(null===e||void 0===e?void 0:e.roster_id)===String(t)):null,i=(null===s||void 0===s?void 0:s.metadata)||{},l=i.team_name||i.nickname||(null===s||void 0===s?void 0:s.display_name)||null;return l||"Roster ".concat(null!==t&&void 0!==t?t:"?")}catch(OF){return"Roster ".concat(null!==t&&void 0!==t?t:"?")}},R=e=>null===e||void 0===e||"null"===String(e)||"undefined"===String(e);(0,t.useEffect)(()=>{const e=String(n||"");if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return void S(!1);if("function"!==typeof c)return h.A.error("TeamDetailPage: getTeamNameFromContext is not a function. Cannot process data."),void S(!1);S(!0);const{seasonalMetrics:t,careerDPRData:i}=s(o,0,c,l);let d=null;const f=i.find(t=>c(t.ownerId,null)===e);if(f&&(d=f.ownerId),!d)return h.A.warn("TeamDetailPage: Could not find ownerId for teamName: ".concat(e,". Displaying no data.")),S(!1),m(null),void g([]);const p={totalWins:0,totalLosses:0,totalTies:0,totalPointsFor:0,totalGamesPlayed:0,overallTopScoreWeeksCount:0,playoffAppearancesCount:0,avgDPR:0,totalChampionships:0,totalRunnerUps:0,totalThirdPlaces:0,totalPointsChampionships:0,totalPointsRunnerUps:0,totalThirdPlacePoints:0,winRank:"N/A",winPercentageRank:"N/A",pointsForRank:"N/A",topScoreWeeksRank:"N/A",playoffRank:"N/A",championshipRank:"N/A",luckRank:"N/A",ownerId:d},y=[],x={},w=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),k=w.length>0?Math.max(...w):null;let _=!1;if(k&&o.winnersBracketBySeason[k]){const e=o.winnersBracketBySeason[k].find(e=>1===e.p);e&&e.w&&e.l&&(_=!0)}h.A.debug("TeamDetailPage: Latest season is ".concat(k,". Playoff completion status: ").concat(_?"COMPLETE":"IN PROGRESS/INCOMPLETE")),Object.keys(t).forEach(e=>{const n=parseInt(e),r=t[n];r&&Object.values(r).forEach(e=>{const t=e.ownerId,r=c(t,null);if(!r||r.startsWith("Unknown Team (ID:"))return;x[r]||(x[r]={wins:0,losses:0,ties:0,pointsFor:0,totalGamesPlayed:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,topScoreWeeksCount:0,playoffAppearancesCount:0,totalLuckRating:0,ownerId:t});const a=x[r];a.wins+=e.wins,a.losses+=e.losses,a.ties+=e.ties,a.pointsFor+=e.pointsFor,a.totalGamesPlayed+=e.totalGames;(n<k||n===k&&_)&&(a.topScoreWeeksCount+=e.topScoreWeeksCount||0,a.totalLuckRating+=e.luckRating||0,"number"===typeof e.rank&&e.rank<=6&&a.playoffAppearancesCount++,e.isChampion&&a.championships++,e.isRunnerUp&&a.runnerUps++,e.isThirdPlace&&a.thirdPlaces++,e.isPointsChampion&&a.firstPoints++,e.isPointsRunnerUp&&a.secondPoints++,e.isThirdPlacePoints&&a.thirdPoints++)})});const N=x[e];if(!N)return S(!1),m(null),void g([]);{Object.assign(p,{totalWins:N.wins,totalLosses:N.losses,totalTies:N.ties,totalPointsFor:N.pointsFor,totalGamesPlayed:N.totalGamesPlayed,overallTopScoreWeeksCount:N.topScoreWeeksCount,playoffAppearancesCount:N.playoffAppearancesCount,avgDPR:f&&"number"===typeof f.dpr?f.dpr:null,totalChampionships:N.championships,totalRunnerUps:N.runnerUps,totalThirdPlaces:N.thirdPlaces,totalPointsChampionships:N.firstPoints,totalPointsRunnerUps:N.secondPoints,totalThirdPlacePoints:N.thirdPoints,luckRating:N.totalLuckRating});const e=Object.values(x).map(e=>e.wins),t=Object.values(x).map(e=>(e.wins+(e.ties>0?.5*e.ties:0))/e.totalGamesPlayed),n=Object.values(x).map(e=>e.pointsFor),r=Object.values(x).map(e=>e.topScoreWeeksCount),a=Object.values(x).map(e=>e.playoffAppearancesCount),s=Object.values(x).map(e=>e.championships),o=Object.values(x).map(e=>e.totalLuckRating);p.winRank=dM(p.totalWins,e),p.winPercentageRank=dM((p.totalWins+(p.totalTies>0?.5*p.totalTies:0))/p.totalGamesPlayed,t),p.pointsForRank=dM(p.totalPointsFor,n),p.topScoreWeeksRank=dM(p.overallTopScoreWeeksCount,r),p.playoffRank=dM(p.playoffAppearancesCount,a),p.championshipRank=dM(p.totalChampionships,s),p.luckRank=dM(p.luckRating,o,!1)}w.forEach(e=>{const n=t[e];if(n){const t=Object.values(n).find(e=>e.ownerId===d);if(t&&t.totalGames>0){const n=c(d,e);y.push({year:e,team:n,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,luckRating:t.luckRating,adjustedDPR:"number"===typeof t.adjustedDPR?t.adjustedDPR:null,allPlayWinPercentage:t.allPlayWinPercentage,winPercentage:t.winPercentage,finish:(e!==k||_)&&t.rank?"".concat(t.rank).concat(uM(t.rank)):"N/A",pointsFinish:(e!==k||_)&&t.pointsRank?"".concat(t.pointsRank).concat(uM(t.pointsRank)):"N/A"})}}});const P=[],E=parseInt(null===l||void 0===l?void 0:l.season)||null,O=parseInt(null===l||void 0===l?void 0:l.week)||null;Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t,n;const r=parseInt(e),a=o.matchupsBySeason[e],s=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.find(e=>String(e.owner_id)===String(d));if(!s)return;const i=String(s.roster_id);a.forEach(e=>{var t,n,a;const s=String(e.team1_roster_id),l=String(e.team2_roster_id);if(R(s)||R(l))return;if(s!==i&&l!==i)return;const c=parseInt(e.week),u=Number(e.team1_score),d=Number(e.team2_score);if(isNaN(u)||isNaN(d))return;if(0===u&&0===d)return;if(E&&O&&(r>E||r===E&&c>=O))return;const h=s===i,f=h?u:d,m=h?d:u,p=h?l:s;if(R(p))return;const g=null===(t=o.rostersBySeason)||void 0===t||null===(n=t[r])||void 0===n||null===(a=n.find(e=>String(e.roster_id)===String(p)))||void 0===a?void 0:a.owner_id,y=M(r,p,g),v=f===m?"T":f>m?"W":"L",x=Math.abs(f-m);P.push({year:r,week:c,opponent:y,myScore:f,oppScore:m,result:v,margin:x})})}),P.sort((e,t)=>t.year-e.year||t.week-e.week),v(P.slice(0,5));const A={mostPointsScored:[],mostPointsInLoss:[],fewestPointsScored:[],fewestPointsInWin:[],highestCombinedScore:[],lowestCombinedScore:[],biggestBlowout:[],slimmestWin:[]};Object.keys(o.matchupsBySeason||{}).forEach(e=>{const t=parseInt(e);o.matchupsBySeason[e].forEach(e=>{var n,r,a,s,i,l;const c=parseInt(e.week),u=String(e.team1_roster_id),d=String(e.team2_roster_id);if(R(u)||R(d))return;const h=Number(e.team1_score),f=Number(e.team2_score);if([h,f,c,t].some(e=>"number"!==typeof e||isNaN(e)))return;const m=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,p=null===(s=o.rostersBySeason)||void 0===s||null===(i=s[t])||void 0===i||null===(l=i.find(e=>String(e.roster_id)===d))||void 0===l?void 0:l.owner_id,g=M(t,u,m),y=M(t,d,p),v=h+f,x=h===f&&h>0,b=x?null:h>f?g:y,w=x?null:h>f?y:g,S=Math.abs(h-f);if(A.mostPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:m,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),A.mostPointsScored.push({year:t,week:c,team:y,score:f,opponent:g,ownerId:p,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),h>0&&A.fewestPointsScored.push({year:t,week:c,team:g,score:h,opponent:y,ownerId:m,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),f>0&&A.fewestPointsScored.push({year:t,week:c,team:y,score:f,opponent:g,ownerId:p,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),!x){const e=h<f?g:y,n=Math.min(h,f),r=h<f?m:p,a=h>f?g:y;A.mostPointsInLoss.push({year:t,week:c,team:e,score:n,opponent:a,ownerId:r,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f});const s=Math.max(h,f),o=h>f?m:p,i=h<f?g:y,l=a;A.fewestPointsInWin.push({year:t,week:c,team:l,score:s,opponent:i,ownerId:o,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),A.biggestBlowout.push({year:t,week:c,winner:b,loser:w,value:S,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f}),S>0&&A.slimmestWin.push({year:t,week:c,winner:b,loser:w,value:S,owner1Id:m,owner2Id:p,team1:g,team2:y,team1Score:h,team2Score:f})}v>0&&h>0&&f>0&&A.lowestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:m,owner2Id:p,team1Score:h,team2Score:f}),(h>0||f>0)&&A.highestCombinedScore.push({year:t,week:c,team1:g,team2:y,value:v,owner1Id:m,owner2Id:p,team1Score:h,team2Score:f})})});const I={mostPointsScored:"Most Points Scored by a Team",mostPointsInLoss:"Most Points Scored in a Loss",fewestPointsScored:"Fewest Points Scored by a Team",fewestPointsInWin:"Fewest Points Scored in a Win",highestCombinedScore:"Highest Combined Score",lowestCombinedScore:"Lowest Combined Score",biggestBlowout:"Biggest Blowout",slimmestWin:"Slimmest Win"},T=[];Object.keys(A).forEach(e=>{const t=["fewestPointsScored","fewestPointsInWin","lowestCombinedScore","slimmestWin"].includes(e),n=A[e];if(!Array.isArray(n)||0===n.length)return;const r=n.map(e=>u(u({},e),{},{value:"number"===typeof e.value?e.value:"number"===typeof e.score?e.score:Number.NEGATIVE_INFINITY})).filter(e=>"number"===typeof e.value&&!isNaN(e.value)).sort((e,n)=>t?e.value-n.value:n.value-e.value).slice(0,5);r.forEach((t,n)=>{let r="";const a=t.ownerId&&String(t.ownerId)===String(d),s=t.owner1Id&&String(t.owner1Id)===String(d),o=t.owner2Id&&String(t.owner2Id)===String(d);if(a||s||o){r=a?"Record Holder":s||o?"Opponent":"";const i=t.team?"".concat(t.team," vs ").concat(t.opponent):"".concat(t.team1," vs ").concat(t.team2);T.push({recordKey:e,label:I[e],rank:n+1,value:t.value,year:t.year,week:t.week,teamsText:i,role:r})}})}),m(p),g(y),b(T),(async(e,t)=>{const{seasonalMetrics:n,careerDPRData:r}=s(o,0,c,l),a=[];if(r&&Array.isArray(r)){const e=[{key:"dpr",label:"Highest DPR",isMax:!0},{key:"wins",label:"Total Wins",isMax:!0},{key:"losses",label:"Total Losses",isMax:!0},{key:"winPercentage",label:"Best Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"allPlayWinPercentage",label:"Best All-Play Win %",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"topScoreWeeksCount",label:"Most Weekly High Scores",isMax:!0},{key:"weeklyTop2ScoresCount",label:"Most Weekly Top 2 Scores",isMax:!0},{key:"blowoutWins",label:"Most Blowout Wins",isMax:!0},{key:"blowoutLosses",label:"Most Blowout Losses",isMax:!0},{key:"slimWins",label:"Most Slim Wins",isMax:!0},{key:"slimLosses",label:"Most Slim Losses",isMax:!0},{key:"pointsFor",label:"Most Total Points",isMax:!0,format:e=>sD(e,2)},{key:"pointsAgainst",label:"Most Points Against",isMax:!0,format:e=>sD(e,2)},{key:"totalLuckRating",label:"Best Luck",isMax:!0,format:e=>sD(e,3)}];e.forEach(e=>{let n=e.isMax?-1/0:1/0,s=[];if(r.forEach(t=>{const r=t[e.key];"number"!==typeof r||isNaN(r)||(e.isMax&&r>n||!e.isMax&&r<n?(n=r,s=[t.ownerId]):r===n&&s.push(t.ownerId))}),s.includes(t)){const n=r.find(e=>e.ownerId===t);let s=n[e.key];e.format&&(s=e.format(s)),a.push({label:e.label,value:s,details:"",year:""})}})}const i={};Object.keys(o.winnersBracketBySeason||{}).forEach(e=>{const t=parseInt(e);o.winnersBracketBySeason[e].forEach(e=>{var n,r,a,s,l,c;const u=String(e.team1_roster_id),d=String(e.team2_roster_id),h=null===(n=o.rostersBySeason)||void 0===n||null===(r=n[t])||void 0===r||null===(a=r.find(e=>String(e.roster_id)===u))||void 0===a?void 0:a.owner_id,f=null===(s=o.rostersBySeason)||void 0===s||null===(l=s[t])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===d))||void 0===c?void 0:c.owner_id;[h,f].forEach(e=>{e&&(i[e]||(i[e]={appearances:0,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,championships:0,runnerUps:0,thirdPlaces:0}))}),h&&i[h].appearances++,f&&i[f].appearances++;const m=Number(e.team1_score),p=Number(e.team2_score);isNaN(m)||isNaN(p)||(m>p?(i[h].wins++,i[f].losses++):p>m?(i[f].wins++,i[h].losses++):m===p&&m>0&&(i[h].ties++,i[f].ties++),i[h].pointsFor+=m,i[h].pointsAgainst+=p,i[f].pointsFor+=p,i[f].pointsAgainst+=m),1===e.p&&e.w&&(1===e.w&&h&&i[h].championships++,2===e.w&&f&&i[f].championships++),1===e.p&&e.l&&(1===e.l&&h&&i[h].runnerUps++,2===e.l&&f&&i[f].runnerUps++),3===e.p&&e.w&&(1===e.w&&h&&i[h].thirdPlaces++,2===e.w&&f&&i[f].thirdPlaces++)})});const u=[{key:"appearances",label:"Playoff Appearances",isMax:!0},{key:"wins",label:"Playoff Wins",isMax:!0},{key:"losses",label:"Playoff Losses",isMax:!0},{key:"pointsFor",label:"Playoff Points For",isMax:!0,format:e=>sD(e,2)},{key:"pointsAgainst",label:"Playoff Points Against",isMax:!0,format:e=>sD(e,2)},{key:"championships",label:"Championships",isMax:!0},{key:"runnerUps",label:"Runner-Ups",isMax:!0},{key:"thirdPlaces",label:"Third Places",isMax:!0}],d=[];u.forEach(e=>{let n=e.isMax?-1/0:1/0,r=[];if(Object.entries(i).forEach(t=>{let[a,s]=t;const o=s[e.key];"number"!==typeof o||isNaN(o)||(e.isMax&&o>n||!e.isMax&&o<n?(n=o,r=[a]):o===n&&r.push(a))}),r.includes(String(t))){let n=i[t][e.key];if(e.format&&(n=e.format(n)),("pointsFor"===e.key||"pointsAgainst"===e.key)&&0===Number(n))return;if("appearances"===e.key){const e=Object.keys(o.winnersBracketBySeason||{}).length;n=Math.min(Number(n),e)}d.push({label:e.label,value:n})}});const h={};Object.keys(o.matchupsBySeason||{}).forEach(e=>{var t;const n=parseInt(e),r=o.matchupsBySeason[e];Object.values((null===(t=o.rostersBySeason)||void 0===t?void 0:t[n])||{}).forEach(e=>{const t=e.owner_id;if(!t)return;h[t]||(h[t]={win:0,loss:0});let n=0,a=0,s=r.filter(t=>String(t.team1_roster_id)===String(e.roster_id)||String(t.team2_roster_id)===String(e.roster_id));s=s.sort((e,t)=>parseInt(e.week)-parseInt(t.week)),s.forEach(r=>{const s=String(r.team1_roster_id)===String(e.roster_id),o=Number(s?r.team1_score:r.team2_score),i=Number(s?r.team2_score:r.team1_score);isNaN(o)||isNaN(i)||(o>i?(n++,a>h[t].loss&&(h[t].loss=a),a=0):o<i?(a++,n>h[t].win&&(h[t].win=n),n=0):(n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a),n=0,a=0))}),n>h[t].win&&(h[t].win=n),a>h[t].loss&&(h[t].loss=a)})});let f=-1/0,m=-1/0,p=[],g=[];Object.entries(h).forEach(e=>{let[t,n]=e;n.win>f?(f=n.win,p=[t]):n.win===f&&p.push(t),n.loss>m?(m=n.loss,g=[t]):n.loss===m&&g.push(t)});const y=[];p.includes(String(t))&&y.push({label:"Longest Win Streak",value:f,details:"",year:""}),g.includes(String(t))&&y.push({label:"Longest Losing Streak",value:m,details:"",year:""});const v=[],x=[{key:"wins",label:"Most Wins in a Season",isMax:!0},{key:"losses",label:"Most Losses in a Season",isMax:!0},{key:"winPercentage",label:"Best Win % in a Season",isMax:!0,format:e=>(100*e).toFixed(3)+"%"},{key:"pointsFor",label:"Most Points For in a Season",isMax:!0,format:e=>sD(e,2)},{key:"luckRating",label:"Best Luck Rating in a Season",isMax:!0,format:e=>sD(e,3)},{key:"adjustedDPR",label:"Highest DPR in a Season",isMax:!0,format:e=>sD(e,3)}];return x.forEach(e=>{let r=e.isMax?-1/0:1/0,a=[];Object.keys(n).forEach(t=>{const s=parseInt(t);Object.values(n[s]).forEach(t=>{const n=t[e.key];"number"!==typeof n||isNaN(n)||(e.isMax&&n>r||!e.isMax&&n<r?(r=n,a=[{ownerId:t.ownerId,year:s}]):n===r&&a.push({ownerId:t.ownerId,year:s}))})}),a.forEach(r=>{if(r.ownerId===t){let a=null;Object.keys(n).forEach(s=>{const o=parseInt(s);if(o!==r.year)return;const i=Object.values(n[o]).find(e=>e.ownerId===t);i&&(a=i[e.key])}),e.format&&(a=e.format(a)),v.push({label:e.label,value:a,year:r.year,details:""})}})}),{career:a,playoff:d,streak:y,season:v}})(0,d).then(j),S(!1),h.A.debug("TeamDetailPage: Final teamOverallStats for ".concat(e,":"),p)},[n,o,i,l,c,r,a]),(0,t.useEffect)(()=>{(async()=>{if(!o||!o.matchupsBySeason)return h.A.debug("No historical data available for financial fetch"),void A(!1);h.A.debug("Starting financial data fetch..."),A(!0);try{const e=Object.keys(o.matchupsBySeason).map(String);if(h.A.debug("Available years for financial data:",e),0===e.length)return h.A.debug("No years found in historical data"),E({}),void A(!1);h.A.debug("Fetching financial data for years:",e);const t=await cA(e);h.A.debug("Received financial data:",t),E(t)}catch(e){h.A.error("Error fetching financial data:",e),E({})}finally{A(!1)}})()},[o]);const L=(e,t)=>P[e]&&P[e].transactions&&t?((e,t)=>{if(!e||!Array.isArray(e)||!t)return{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0};const n=e.filter(e=>!(!e.team||!Array.isArray(e.team))&&e.team.includes(t)),r=n.filter(e=>"Fee"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+uA(t)/n},0),a=n.filter(e=>"Payout"===e.type).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+Number(t.amount||0)/n},0);return{totalFees:r,totalPayouts:a,netTotal:a-r,transactionCount:n.length}})(P[e].transactions,t):{totalFees:0,totalPayouts:0,netTotal:0,transactionCount:0},B=(e,t)=>P[e]&&P[e].transactions&&t?dA(P[e].transactions,t):{tradeFees:0,waiverFees:0,totalTransactions:0},F=(0,t.useMemo)(()=>{const e=[...p],t=e=>{var t;return"N/A"===e?1/0:parseInt((null===(t=e.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0")};return e.sort((e,n)=>{let r,a;if("record"===I)r=(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties),a=(n.wins+.5*n.ties)/(n.wins+n.losses+n.ties);else if("finish"===I||"pointsFinish"===I)r=t(e[I]),a=t(n[I]);else if("tradeCount"===I){const t=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=B(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.tradeFees,a=s.tradeFees}else if("waiverCount"===I){const t=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=B(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.waiverFees,a=s.waiverFees}else if("netFinancial"===I){const t=L(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),s=L(n.year.toString(),null===f||void 0===f?void 0:f.ownerId);r=t.netTotal,a=s.netTotal}else r=e[I],a=n[I];return(r<a?-1:r>a?1:0)*("asc"===C?1:-1)})},[p,I,C,P,null===f||void 0===f?void 0:f.ownerId]),W=e=>{I===e?D("asc"===C?"desc":"asc"):(T(e),D("asc"))};return w?(0,G.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-gray-600",children:["Loading ",n,"'s historical data..."]}):f?(0,G.jsxs)("div",{className:"w-full bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-md mt-4 sm:mt-8",children:[(0,G.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-blue-700 mb-4 sm:mb-6 text-center border-b pb-2 sm:pb-3",children:[n,(0,G.jsxs)("span",{className:"block text-base sm:text-lg font-medium text-gray-600 mt-1 sm:mt-2",children:["Record: ",f.totalWins,"-",f.totalLosses,"-",f.totalTies," | Career DPR: ",mM(f.avgDPR),(0,G.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 whitespace-nowrap mt-1",children:[f.totalChampionships>0&&(0,G.jsxs)("span",{title:"Sween Bowl Champion (".concat(f.totalChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalChampionships,"x"]})]}),f.totalRunnerUps>0&&(0,G.jsxs)("span",{title:"Sween Bowl Runner-Up (".concat(f.totalRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-gray-400 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalRunnerUps,"x"]})]}),f.totalThirdPlaces>0&&(0,G.jsxs)("span",{title:"3rd Place Finish (".concat(f.totalThirdPlaces,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalThirdPlaces,"x"]})]}),f.totalPointsChampionships>0&&(0,G.jsxs)("span",{title:"1st Place - Points (".concat(f.totalPointsChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-yellow-500 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalPointsChampionships,"x"]})]}),f.totalPointsRunnerUps>0&&(0,G.jsxs)("span",{title:"2nd Place - Points (".concat(f.totalPointsRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-gray-400 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalPointsRunnerUps,"x"]})]}),f.totalThirdPlacePoints>0&&(0,G.jsxs)("span",{title:"3rd Place - Points (".concat(f.totalThirdPlacePoints,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,G.jsx)("i",{className:"fas fa-medal text-amber-800 text-2xl"}),(0,G.jsxs)("span",{className:"text-xs font-medium",children:[f.totalThirdPlacePoints,"x"]})]})]})]})]})," ",(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"League Ranks"}),(0,G.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[(0,G.jsx)(pM,{title:"Total Wins",value:f.totalWins,rank:f.winRank}),(0,G.jsx)(pM,{title:"Win %",value:hM((f.totalWins+.5*f.totalTies)/f.totalGamesPlayed),rank:f.winPercentageRank}),(0,G.jsx)(pM,{title:"Total Points",value:sD(f.totalPointsFor),rank:f.pointsForRank}),(0,G.jsx)(pM,{title:"Weekly Top Scores",value:void 0!==f.overallTopScoreWeeksCount?"".concat(f.overallTopScoreWeeksCount):"N/A",rank:f.topScoreWeeksRank}),(0,G.jsx)(pM,{title:"Playoff Appearances",value:f.playoffAppearancesCount,rank:f.playoffRank}),(0,G.jsx)(pM,{title:"Championships",value:f.totalChampionships,rank:f.championshipRank})]})]}),(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Season History"}),p.length>0?(0,G.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,G.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("year"),children:["Year ","year"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("record"),children:["Record (W-L-T) ","record"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsFor"),children:["Points For ","pointsFor"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-red-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsAgainst"),children:["Points Against ","pointsAgainst"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("luckRating"),children:["Luck Rating ","luckRating"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-purple-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("finish"),children:["Finish ","finish"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("pointsFinish"),children:["Points Finish ","pointsFinish"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("adjustedDPR"),children:["Adjusted DPR ","adjustedDPR"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("allPlayWinPercentage"),children:["All-Play Win % ","allPlayWinPercentage"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-indigo-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("tradeCount"),children:["Trades ","tradeCount"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-cyan-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("waiverCount"),children:["FA/Waivers ","waiverCount"===I&&("asc"===C?"\u25b2":"\u25bc")]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-orange-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>W("netFinancial"),children:["Net Financial ","netFinancial"===I&&("asc"===C?"\u25b2":"\u25bc")]})]})}),(0,G.jsx)("tbody",{children:F.map((e,t)=>{const n=L(e.year.toString(),null===f||void 0===f?void 0:f.ownerId),r=B(e.year.toString(),null===f||void 0===f?void 0:f.ownerId);return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.ties>0?"".concat(e.wins,"-").concat(e.losses,"-").concat(e.ties):"".concat(e.wins,"-").concat(e.losses)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:sD(e.pointsFor)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:sD(e.pointsAgainst)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:fM(e.luckRating)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.finish}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.pointsFinish}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:mM(e.adjustedDPR)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:hM(e.allPlayWinPercentage)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:O?"...":r.tradeFees}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:O?"...":r.waiverFees}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat(O?"text-gray-400":n.netTotal>0?"text-green-600":n.netTotal<0?"text-red-600":"text-gray-700"),children:O?"...":hA(n.netTotal)})]},e.year)})})]})}):(0,G.jsxs)("p",{className:"text-gray-600",children:["No season-by-season data available for ",n," for completed seasons."]})]}),(0,G.jsxs)("section",{className:"mb-6 sm:mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Previous 5 Games"}),y.length>0?(0,G.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,G.jsxs)("table",{className:"min-w-full text-xs sm:text-sm bg-white",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Result"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Team"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Margin"})]})}),(0,G.jsx)("tbody",{children:y.map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:[e.year," \u2022 W",e.week]}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.opponent}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-center ".concat("W"===e.result?"text-green-700":"L"===e.result?"text-red-700":"text-gray-700"),children:e.result}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:sD(e.myScore)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:sD(e.oppScore)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:sD(e.margin)})]},"".concat(e.year,"-").concat(e.week,"-").concat(t)))})]})}):(0,G.jsx)("p",{className:"text-gray-600",children:"No recent games available."})]}),(0,G.jsxs)("section",{className:"mb-8",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"DPR & Finish by Season"}),p.length>0?(()=>{const e=p.map(e=>"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null).filter(e=>"number"===typeof e&&!isNaN(e));let t=Math.min(...e),n=Math.max(...e);if(isFinite(t)&&isFinite(n)){const e=Math.max(.03,.12*(n-t));t=Math.floor(1e3*(t-e))/1e3,n=Math.ceil(1e3*(n+e))/1e3,t=Math.max(.5,t),n=Math.min(1.5,n)}else t=.6,n=1.3;return(0,G.jsx)("div",{className:"w-full h-[220px] xs:h-[260px] sm:h-[340px] md:h-[400px] px-0 xs:px-1 sm:px-2",children:(0,G.jsx)(lt,{width:"100%",height:"100%",children:(0,G.jsxs)(cM,{data:p.map(e=>{var t;return{season:e.year,dpr:"number"===typeof e.adjustedDPR?Number(e.adjustedDPR):null,finish:"string"===typeof e.finish&&"N/A"!==e.finish?parseInt((null===(t=e.finish.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0"):null}}),margin:{top:10,right:20,left:0,bottom:10},children:[(0,G.jsx)(Hx,{strokeDasharray:"3 3",vertical:!1}),(0,G.jsx)(mx,{dataKey:"season",tick:{fontSize:10},padding:{left:8,right:8},children:(0,G.jsx)(Uf,{value:"Season",offset:-6,position:"insideBottom",style:{fontSize:11}})}),(0,G.jsx)(_x,{yAxisId:"left",orientation:"left",domain:[t,n],tickCount:8,tick:{fontSize:10},width:32,allowDecimals:!0,allowDataOverflow:!0,children:(0,G.jsx)(Uf,{value:"DPR",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:11}})}),(0,G.jsx)(_x,{yAxisId:"right",orientation:"right",domain:[1,12],reversed:!0,tick:{fontSize:10},width:32,allowDecimals:!1,allowDataOverflow:!0,ticks:[1,2,3,4,5,6,7,8,9,10,11,12],children:(0,G.jsx)(Uf,{value:"Finish",angle:90,position:"insideRight",style:{textAnchor:"middle",fontSize:11}})}),(0,G.jsx)(dn,{wrapperStyle:{fontSize:12},formatter:(e,t,n)=>"dpr"===t&&"number"===typeof e?[Number(e).toFixed(3),"DPR"]:"finish"===t&&"number"===typeof e?[Math.round(e),"Finish"]:[e,t]}),(0,G.jsx)(Wr,{verticalAlign:"top",height:28,iconSize:14,wrapperStyle:{fontSize:12,paddingBottom:2}}),(0,G.jsx)(vp,{yAxisId:"left",dataKey:"dpr",name:"DPR",fill:"#2563eb",barSize:18,radius:[5,5,0,0]}),(0,G.jsx)(Cv,{yAxisId:"right",type:"monotone",dataKey:"finish",name:"Finish",stroke:"#f59e42",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})})})():(0,G.jsx)("p",{className:"text-gray-600",children:"No season-by-season data available for this team."})]}),(0,G.jsxs)("section",{children:[(0,G.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 border-b pb-2",children:"Game Records"}),(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-x-auto",children:x.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Role"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Record"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Rank"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-right",children:"Value"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-left",children:"Game"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Season"}),(0,G.jsx)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center",children:"Week"})]})}),(0,G.jsx)("tbody",{children:x.sort((e,t)=>e.label.localeCompare(t.label)||e.rank-t.rank).map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.role}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.label}),(0,G.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:["#",e.rank]}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-right",children:sD(e.value)}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.teamsText}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.week})]},"".concat(e.recordKey,"-").concat(e.year,"-").concat(e.week,"-").concat(t)))})]})}):(0,G.jsx)("p",{className:"text-gray-600 p-4",children:"No record book involvements found for this team."})})]}),(0,G.jsx)(wD,{ownerId:f.ownerId,allDraftHistory:i,totalRounds:12,totalTeams:12})]}):(0,G.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-red-500",children:["No data found for ",n,"."]})},yM=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=[...new Set(t.filter(e=>null!==e&&"undefined"!==typeof e&&!isNaN(e)))].sort((e,t)=>n?t-e:e-t),a=r.indexOf(e)+1;return a>0?"".concat(a).concat((e=>{const t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"})(a)):"N/A"},vM=()=>{const{loading:e,error:n,historicalData:r,getTeamName:a,getTeamDetails:s,careerDPRData:o,nflState:i}=$(),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)({});(0,t.useEffect)(()=>{if(e||n)return void m(!0);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return c({}),g({}),void m(!1);m(!0);const t={},s={},o=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,l=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;Object.entries(r.matchupsBySeason).forEach(e=>{let[t,n]=e;const a={};n.forEach(e=>{const n=parseInt(e.week),r=parseInt(t);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),Object.entries(a).forEach(e=>{var n;let[a,o]=e;const i=(null===(n=r.rostersBySeason)||void 0===n?void 0:n[t])||[],l=[];if(o.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=i.find(t=>String(t.roster_id)===String(e.team2_roster_id)),r=null===t||void 0===t?void 0:t.owner_id,a=null===n||void 0===n?void 0:n.owner_id,s=parseFloat(e.team1_score),o=parseFloat(e.team2_score);r&&!isNaN(s)&&l.push({ownerId:r,score:s}),a&&!isNaN(o)&&l.push({ownerId:a,score:o})}),0===l.length)return;const c=Math.max(...l.map(e=>e.score)),u=l.filter(e=>e.score===c).map(e=>e.ownerId);u.forEach(e=>{s[e]=(s[e]||0)+1})})}),Object.entries(r.matchupsBySeason).forEach(e=>{var n,s,i,c;let[u,d]=e;const h=r.leaguesMetadataBySeason[u],f=null!==h&&void 0!==h&&null!==(n=h.settings)&&void 0!==n&&n.championship_week?parseInt(h.settings.championship_week):null,m=(null===(s=r.rostersBySeason)||void 0===s?void 0:s[u])||[],p=(null===(i=r.winnersBracketBySeason)||void 0===i?void 0:i[u])||[],g=(null===(c=r.losersBracketBySeason)||void 0===c?void 0:c[u])||[];d.forEach(e=>{const n=parseInt(e.week),r=parseInt(u);if(o){if(r>o)return;if(r===o&&l&&n>=l)return}const s=String(e.team1_roster_id),i=String(e.team2_roster_id),c=parseFloat(e.team1_score),d=parseFloat(e.team2_score);if(!s||!i||s===i||isNaN(c)||isNaN(d))return;const h=m.find(e=>String(e.roster_id)===s),y=m.find(e=>String(e.roster_id)===i),v=null===h||void 0===h?void 0:h.owner_id,x=null===y||void 0===y?void 0:y.owner_id;if(!v||!x)return;const b=a(v,u),w=a(x,u);if(b.startsWith("Unknown Team")||w.startsWith("Unknown Team"))return;const S=c===d,k=c>d;let j="Reg. Season";const _=String(e.team1_roster_id),N=String(e.team2_roster_id),P=e=>e.find(e=>{const t=[String(e.t1),String(e.t2)].filter(Boolean);return parseInt(e.week)===n&&t.includes(_)&&t.includes(N)}),E=P(p),O=P(g);if(E)if(E.p){const e=E.p;j=1===e?"Championship Game":3===e?"3rd Place Game":5===e?"5th Place Game":7===e?"7th Place Game":9===e?"9th Place Game":11===e?"11th Place Game":"".concat(e,"th Place Game")}else j=f&&n===f?"Championship Game":"Playoffs";else if(O)if(O.p){const e=O.p;j=1===e?"7th Place Game":3===e?"9th Place Game":5===e?"11th Place Game":"Placement Game"}else j="Consolation";else e.playoff&&(j="Playoffs (Uncategorized)");const A=[v,x].sort(),I="".concat(A[0]," vs ").concat(A[1]);t[I]||(t[I]={owners:A,[A[0]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},[A[1]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},allMatches:[]});const T=t[I];let C="Tie",D="Tie";k?(C=v,D=x):d>c&&(C=x,D=v);const M=v===A[0]?T[A[0]]:T[A[1]],R=x===A[0]?T[A[0]]:T[A[1]],L=j.includes("Playoff")||j.includes("Championship")||j.includes("Consolation");S?(M.ties++,R.ties++,L&&(M.playoffTies++,R.playoffTies++)):k?(M.wins++,R.losses++,L&&(M.playoffWins++,R.playoffLosses++)):(R.wins++,M.losses++,L&&(R.playoffWins++,M.playoffLosses++)),T.allMatches.push({year:parseInt(u),week:e.week,matchupId:e.match_id,team1RosterId:s,team2RosterId:i,team1OwnerId:v,team2OwnerId:x,team1Score:c,team2Score:d,winnerOwnerId:C,loserOwnerId:D,winnerDisplayName:C===v?b:w,loserDisplayName:D===v?b:w,winnerScore:C===v?c:d,loserScore:D===v?c:d,isTie:S,matchType:j})})}),c(t),g(s),m(!1)},[r,a,e,n]);const y=(0,t.useMemo)(()=>{const e=new Set;Object.values(l).forEach(t=>{t.owners.forEach(t=>e.add(t))});return Array.from(e).map(e=>({ownerId:e,displayName:a(e,null)})).sort((e,t)=>e.displayName.localeCompare(t.displayName))},[l,a]),v=(0,t.useCallback)(()=>{var e,t;const n=l[u];if(!n)return null;const r=n.owners[0],c=n.owners[1],f=a(r,null),m=a(c,null),g=n[r];n[c];let y={value:null,year:null,week:null,ownerId:null},v={value:null,year:null,week:null,winningOwnerId:null},x={value:1/0,year:null,week:null,winningOwnerId:null},b=0,w=0,S=null,k=0;const j=[...n.allMatches].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week),_=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,N=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;let P=0;const E=j.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&((0!==e.team1Score||0!==e.team2Score)&&("number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score))))}),O=E.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week),r="number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&((0!==e.team1Score||0!==e.team2Score)&&r))}).map(e=>{let t,n;e.team1OwnerId===r?(t=e.team1Score,n=e.team2Score):(t=e.team2Score,n=e.team1Score);const a=t-n;return P+=a,{name:"".concat(e.year," W").concat(e.week),netPoints:a,cumulativeNetPoints:P,positiveCumulativeNetPoints:P>=0?P:0,negativeCumulativeNetPoints:P<0?P:0,mainTeamScore:t,oppTeamScore:n,week:e.week,year:e.year}});h.A.debug("Net Points Data for chart:",O),E.forEach(e=>{let t,n;if(e.team1OwnerId===r)t=e.team1Score,n=e.team2Score;else{if(e.team1OwnerId!==c)return;t=e.team2Score,n=e.team1Score}if(!isNaN(t)&&!isNaN(n)){if(b+=t,w+=n,t>(y.value||0)&&(y={value:t,year:e.year,week:e.week,ownerId:e.team1OwnerId}),n>(y.value||0)&&(y={value:n,year:e.year,week:e.week,ownerId:e.team2OwnerId}),!e.isTie){const a=Math.abs(t-n);a>(v.value||0)&&(v={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(!e.isTie){const a=Math.abs(t-n);a<x.value&&(x={value:a,year:e.year,week:e.week,winningOwnerId:t>n?r:c})}if(e.isTie)S=null,k=0;else{const e=t>n?r:c;S===e?k++:(S=e,k=1)}}});S&&"".concat(a(S,null)," ").concat(k,"-game W streak");const A=o?o.map(e=>e.wins):[],I=o?o.map(e=>e.winPercentage):[],T=o?o.map(e=>e.dpr):[],C=o?o.map(e=>e.pointsFor):[],D=o?o.map(e=>e.highScore):[];return(0,G.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md border border-gray-200",children:[(0,G.jsx)("button",{onClick:()=>d(null),className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"\u2190 Back to All Rivalries"}),(0,G.jsxs)("div",{className:"text-center mb-6 flex flex-col items-center",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(r,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(f," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsxs)("h3",{className:"text-2xl font-extrabold text-gray-800 mb-2",children:[f," ",(0,G.jsx)("span",{className:"text-lg font-normal",children:"vs"})," ",m]}),(0,G.jsx)("img",{src:s&&(null===(t=s(c,null))||void 0===t?void 0:t.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(m," logo"),className:"w-12 h-12 object-contain rounded-full border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}})]}),(0,G.jsx)("p",{className:"text-sm text-gray-600",children:"Performance, stats, and records"})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-6 items-center",children:[(e=>{const t=r,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=c,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,f=i?i.dpr:null,m=p[t]||0,g=i?i.highScore:null,y=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=yM(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let S="bg-blue-50";v>w?S="bg-green-100 text-green-800":v<w?S="bg-red-100 text-red-800":v===w&&0!==v&&(S="bg-yellow-100 text-yellow-800");const k=u?u.wins:null,j=u?u.winPercentage:null,_=u?u.dpr:null,N=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},E=yM(d,A,!0),O=yM(h,I,!0),M=yM(f,T,!0),R=(yM(g,D,!0),yM(y,C,!0)),L=p[l]||0;let B="p-2 rounded-md ";B+=m>L?"bg-green-100 text-green-800":m<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=P(h,j,!0),W=(e,t,n,r)=>(0,G.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,G.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,G.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,G.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,G.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(E,"Total Wins",null!==d?d:"N/A",P(d,k)),W(O,"Win %",null!==h?h.toFixed(3)+"%":"N/A",F),W(M,"Career DPR",null!==f?sD(f,3):"N/A",P(f,_)),W(yM(m,Object.values(p),!0),"Weekly High Score",m,B),W(R,"Total Points",null!==y?sD(y,2):"N/A",P(y,N)),W(b,"Medal Score",v,S)]})]})})(),(0,G.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,G.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-xl shadow-lg border border-blue-600 text-center w-full max-w-xs mx-auto",children:[(0,G.jsx)("h4",{className:"text-2xl font-extrabold mb-3 tracking-wide",children:"\u2605 VERSUS \u2605"}),(0,G.jsxs)("p",{className:"text-xl font-semibold mb-2",children:["Record: ",(0,G.jsx)("span",{className:"font-bold",children:g.ties&&g.ties>0?(M=g,M?"".concat(M.wins||0,"-").concat(M.losses||0,"-").concat(M.ties||0):"0-0-0"):"".concat(g.wins||0,"-").concat(g.losses||0)})]}),S?(0,G.jsxs)("p",{className:"text-lg mb-2",children:["Streak: ",S===r?"W-".concat(k):"L-".concat(k)]}):(0,G.jsx)("div",{className:"mb-2 h-6"}),(0,G.jsxs)("p",{className:"text-lg",children:["Playoff Record: ",(0,G.jsx)("span",{className:"font-bold",children:(()=>{const e=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.winnerOwnerId===r).length,t=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.loserOwnerId===r).length,n=E.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.isTie).length;return n>0?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(t)})()})]})]})}),(e=>{const t=c,n=a(t,null),i=null===o||void 0===o?void 0:o.find(e=>e.ownerId===t),l=r,u=null===o||void 0===o?void 0:o.find(e=>e.ownerId===l),d=i?i.wins:null,h=i&&"number"===typeof i.winPercentage?i.winPercentage:null,f=i?i.dpr:null,m=p[t]||0,g=i?i.highScore:null,y=i?i.pointsFor:null;let v=0;i&&(v+=10*(i.championships||0),v+=6*(i.runnerUps||0),v+=4*(i.thirdPlaces||0),v+=8*(i.pointsChampionships||0),v+=5*(i.pointsRunnerUps||0),v+=3*(i.thirdPlacePoints||0));const x=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],b=yM(v,x,!0),w=(()=>{if(!u)return 0;let e=0;return e+=10*(u.championships||0),e+=6*(u.runnerUps||0),e+=4*(u.thirdPlaces||0),e+=8*(u.pointsChampionships||0),e+=5*(u.pointsRunnerUps||0),e+=3*(u.thirdPlacePoints||0),e})();let S="bg-blue-50";v>w?S="bg-green-100 text-green-800":v<w?S="bg-red-100 text-red-800":v===w&&0!==v&&(S="bg-yellow-100 text-yellow-800");const k=u?u.wins:null,j=u?u.winPercentage:null,_=u?u.dpr:null,N=(u&&u.highScore,u?u.pointsFor:null),P=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},E=yM(d,A,!0),O=yM(h,I,!0),M=yM(f,T,!0),R=(yM(g,D,!0),yM(y,C,!0)),L=p[l]||0;let B="p-2 rounded-md ";B+=m>L?"bg-green-100 text-green-800":m<L?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=P(h,j,!0),W=(e,t,n,r)=>(0,G.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,G.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,G.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,G.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,G.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,G.jsx)("img",{src:s&&(null===(e=s(t,null))||void 0===e?void 0:e.avatar)||"".concat(".","/LeagueLogoNoBack.PNG"),alt:"".concat(n," logo"),className:"w-16 h-16 object-contain rounded-full mb-3 border border-gray-200 shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="".concat(".","/LeagueLogoNoBack.PNG")}}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:n}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[W(E,"Total Wins",null!==d?d:"N/A",P(d,k)),W(O,"Win %",null!==h?h.toFixed(3)+"%":"N/A",F),W(M,"Career DPR",null!==f?sD(f,3):"N/A",P(f,_)),W(yM(m,Object.values(p),!0),"Weekly High Score",m,B),W(R,"Total Points",null!==y?sD(y,2):"N/A",P(y,N)),W(b,"Medal Score",v,S)]})]})})()]}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-2 border-b pb-2",children:"Net Points Over Time"}),(0,G.jsxs)("div",{className:"w-full h-64 mb-8",children:[(0,G.jsx)(lt,{width:"100%",height:"100%",children:(0,G.jsxs)(bD,{data:O,margin:{top:10,right:30,left:0,bottom:0},children:[(0,G.jsx)(Hx,{strokeDasharray:"3 3"}),(0,G.jsx)(mx,{dataKey:"name",fontSize:12,angle:-30,textAnchor:"end",height:50,interval:0,tickFormatter:(e,t)=>e,ticks:O.map(e=>e.name)}),(0,G.jsx)(_x,{domain:["auto","auto"],fontSize:12}),(0,G.jsx)(dn,{formatter:(e,t)=>["number"===typeof e?sD(e,2):e,"Cumulative Net Points"]}),(0,G.jsx)(xg,{y:0,stroke:"#374151",strokeWidth:2}),(0,G.jsx)(vp,{dataKey:"cumulativeNetPoints",children:O.map((e,t)=>(0,G.jsx)(Yf,{fill:e.cumulativeNetPoints>=0?"#10b981":"#ef4444"},"cell-".concat(t)))})]})}),(0,G.jsxs)("div",{className:"text-xs text-center mt-2 text-gray-600",children:["Green area: ",f," outscored ",m,". Red area: ",m," outscored ",f,"."]})]}),(0,G.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-4 border-b pb-2",children:"Matchup Highlights"}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Highest Score"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==y.value?sD(y.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:null!==y.value&&y.ownerId?"".concat(a(y.ownerId,null)," (").concat(y.year," Week ").concat(y.week,")"):""})]}),(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Biggest Win Margin"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==v.value?sD(v.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:null!==v.value&&v.winningOwnerId?"".concat(a(v.winningOwnerId,null)," (").concat(v.year," Week ").concat(v.week,")"):""})]}),(0,G.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,G.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Slimmest Win Margin"}),(0,G.jsx)("p",{className:"text-xl font-bold text-gray-800",children:x.value!==1/0?sD(x.value,2):"N/A"}),(0,G.jsx)("p",{className:"text-xs text-gray-500",children:x.value!==1/0&&x.winningOwnerId?"".concat(a(x.winningOwnerId,null)," (").concat(x.year," Week ").concat(x.week,")"):""})]})]}),(0,G.jsx)("h4",{className:"text-lg font-bold text-gray-800 mt-6 mb-3 border-b pb-2",children:"Match History"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-gray-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Year"}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Week"}),(0,G.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[f," Score"]}),(0,G.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[m," Score"]}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Winner"}),(0,G.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Type"})]})}),(0,G.jsx)("tbody",{children:n.allMatches.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week);return!(_&&t>_)&&(!(_&&t===_&&N&&n>=N)&&(0!==e.team1Score||0!==e.team2Score))}).sort((e,t)=>t.year-e.year||t.week-e.week).map((e,t)=>{let n=e.team1OwnerId===r?e.team1Score:e.team2Score,a=e.team1OwnerId===c?e.team1Score:e.team2Score;return(0,G.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,G.jsx)("td",{className:"py-2 px-3",children:e.year}),(0,G.jsx)("td",{className:"py-2 px-3",children:e.week}),(0,G.jsx)("td",{className:"py-2 px-3",children:sD(n,2)}),(0,G.jsx)("td",{className:"py-2 px-3",children:sD(a,2)}),(0,G.jsx)("td",{className:"py-2 px-3",children:"Tie"===e.winnerDisplayName?"Tie":e.winnerDisplayName}),(0,G.jsx)("td",{className:"py-2 px-3 text-xs text-gray-500",children:e.matchType})," "]},t)})})]})})]});var M},[u,l,o,a,s,r,i]);return f?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,G.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,G.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,G.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,G.jsx)("p",{className:"text-lg font-medium",children:"Loading Head-to-Head data..."})]}):n?(0,G.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,G.jsxs)("p",{children:["Error loading historical data: ",n.message||String(n)]}),(0,G.jsx)("p",{children:"Please check your Sleeper API configuration and network connection."})]}):r&&0!==Object.keys(r.matchupsBySeason||{}).length?(0,G.jsx)("div",{className:"w-full",children:u?v():(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Head-to-Head Rivalries"}),(0,G.jsxs)("div",{className:"overflow-x-auto relative",children:[" ",(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 sticky left-0 bg-blue-50 z-20 shadow-sm"}),y.map(e=>(0,G.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 min-w-[90px] sticky top-0 bg-blue-50 z-10",children:[" ",e.displayName]},e.ownerId))]})}),(0,G.jsx)("tbody",{children:y.map(e=>(0,G.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,G.jsxs)("td",{className:"py-2 px-3 text-left text-sm text-gray-800 font-semibold sticky left-0 bg-white z-20 border-r border-gray-200 shadow-sm",children:[" ",e.displayName]}),y.map(t=>{if(e.ownerId===t.ownerId)return(0,G.jsx)("td",{className:"py-2 px-3 text-center text-sm text-gray-400 bg-gray-100 border-b border-gray-200",children:"---"},"".concat(e.ownerId,"-").concat(t.ownerId));const n=[e.ownerId,t.ownerId].sort().join(" vs "),r=l[n];let a="0-0",s="py-2 px-3 text-center text-sm border-b border-gray-200 cursor-pointer ";if(r){const t=r[e.ownerId];t.wins+t.losses+t.ties>0?(a="".concat(t.wins,"-").concat(t.losses),t.wins>t.losses?s+="bg-green-100 text-green-800 hover:bg-green-200":t.losses>t.wins?s+="bg-red-100 text-red-800 hover:bg-red-200":s+="bg-yellow-100 text-yellow-800 hover:bg-yellow-200"):s+="text-gray-600 bg-white hover:bg-gray-50"}else s+="text-gray-600 bg-white hover:bg-gray-50";return(0,G.jsx)("td",{className:s,onClick:()=>r&&d(n),children:a},"".concat(e.ownerId,"-").concat(t.ownerId))})]},e.ownerId))})]})]}),(0,G.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Click on any record in the grid for more detailed head-to-head statistics."})]})}):(0,G.jsx)("div",{className:"text-center text-orange-600 text-lg p-4",children:"No historical matchup data available to build Head-to-Head grid."})};function xM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function bM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wM=bM,SM=new ib("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kM=new Pb("@firebase/auth");function jM(e){if(kM.logLevel<=Sb.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kM.error("Auth (".concat(Iw,"): ").concat(e),...n)}}function _M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw OM(e,...n)}function NM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return OM(e,...n)}function PM(e,t,n){const r=Object.assign(Object.assign({},wM()),{[t]:n});return new ib("auth","Firebase",r).create(t,{appName:e.name})}function EM(e){return PM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return SM.create(e,...n)}function AM(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw OM(t,...r)}}function IM(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jM(t),new Error(t)}function TM(e,t){e||IM(t)}function CM(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function DM(){return"http:"===MM()||"https:"===MM()}function MM(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function RM(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(DM()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class LM{constructor(e,t){this.shortDelay=e,this.longDelay=t,TM(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rb())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return RM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function BM(e,t){TM(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class FM{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void IM("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void IM("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void IM("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},UM=new LM(3e4,6e4);function zM(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function VM(e,t,n,r){return HM(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const o=db(Object.assign({key:e.config.apiKey},s)).slice(1),i=await e._getAdditionalHeaders();i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:i},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),FM.fetch()(GM(e,e.config.apiHost,n,o),l)})}async function HM(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},WM),t);try{const t=new YM(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw QM(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw QM(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw QM(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw QM(e,"user-disabled",s);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw PM(e,i,o);_M(e,i)}}catch(OF){if(OF instanceof ob)throw OF;_M(e,"network-request-failed",{message:String(OF)})}}async function qM(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await VM(e,t,n,r,a);return"mfaPendingCredential"in s&&_M(e,"multi-factor-auth-required",{_serverResponse:s}),s}function GM(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?BM(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}function KM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(NM(this.auth,"network-request-failed")),UM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function QM(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=NM(e,t,r);return a.customData._tokenResponse=n,a}function XM(e){return void 0!==e&&void 0!==e.enterprise}class $M{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KM(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function JM(e,t){return VM(e,"GET","/v2/recaptchaConfig",zM(e,t))}async function ZM(e,t){return VM(e,"POST","/v1/accounts:lookup",t)}function eR(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(OF){}}function tR(e){return 1e3*Number(e)}function nR(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jM("JWT malformed, contained fewer than 3 sections"),null;try{const e=Xx(n);return e?JSON.parse(e):(jM("Failed to decode base64 JWT payload"),null)}catch(OF){return jM("Caught error parsing JWT payload as JSON",null===OF||void 0===OF?void 0:OF.toString()),null}}function rR(e){const t=nR(e);return AM(t,"internal-error"),AM("undefined"!==typeof t.exp,"internal-error"),AM("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aR(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(OF){throw OF instanceof ob&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(OF)&&e.auth.currentUser===e&&await e.auth.signOut(),OF}}class sR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(OF){return void((null===OF||void 0===OF?void 0:OF.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class oR{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eR(this.lastLoginAt),this.creationTime=eR(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function iR(e){var t;const n=e.auth,r=await e.getIdToken(),a=await aR(e,ZM(n,{idToken:r}));AM(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?lR(s.providerUserInfo):[],i=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===i||void 0===i?void 0:i.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new oR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function lR(e){return e.map(e=>{var{providerId:t}=e,n=xM(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class cR{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){AM(e.idToken,"internal-error"),AM("undefined"!==typeof e.idToken,"internal-error"),AM("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):rR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){AM(0!==e.length,"internal-error");const t=rR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(AM(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await HM(e,{},async()=>{const n=db({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=GM(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",FM.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new cR;return n&&(AM("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(AM("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(AM("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cR,this.toJSON())}_performRefresh(){return IM("not implemented")}}function uR(e,t){AM("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class dR{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=xM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oR(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aR(this,this.stsTokenManager.getToken(this.auth,e));return AM(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gb(e),r=await n.getIdToken(t),a=nR(r);AM(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:eR(tR(a.auth_time)),issuedAtTime:eR(tR(a.iat)),expirationTime:eR(tR(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=gb(e);await iR(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(AM(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dR(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){AM(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await iR(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ew(this.auth.app))return Promise.reject(EM(this.auth));const e=await this.getIdToken();return await aR(this,async function(e,t){return VM(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,o,i,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:S}=t;AM(v&&S,e,"internal-error");const k=cR.fromJSON(this.name,S);AM("string"===typeof v,e,"internal-error"),uR(u,e.name),uR(d,e.name),AM("boolean"===typeof x,e,"internal-error"),AM("boolean"===typeof b,e,"internal-error"),uR(h,e.name),uR(f,e.name),uR(m,e.name),uR(p,e.name),uR(g,e.name),uR(y,e.name);const j=new dR({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(j.providerData=w.map(e=>Object.assign({},e))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new cR;r.updateFromServerResponse(t);const a=new dR({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await iR(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];AM(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?lR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),o=new cR;o.updateFromIdToken(n);const i=new dR({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new oR(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(i,l),i}}const hR=new Map;function fR(e){TM(e instanceof Function,"Expected a class definition");let t=hR.get(e);return t?(TM(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hR.set(e,t),t)}class mR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mR.type="NONE";const pR=mR;function gR(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class yR{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=gR(this.userKey,r.apiKey,a),this.fullPersistenceKey=gR("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dR._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new yR(fR(pR),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||fR(pR);const s=gR(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=dR._fromJSON(e,t);c!==a&&(o=n),a=c;break}}catch(l){}const i=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&i.length?(a=i[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(s)}catch(l){}})),new yR(a,e,n)):new yR(a,e,n)}}function vR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jR(t))return"Blackberry";if(_R(t))return"Webos";if(bR(t))return"Safari";if((t.includes("chrome/")||wR(t))&&!t.includes("edge/"))return"Chrome";if(kR(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/firefox\//i.test(e)}function bR(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/crios\//i.test(e)}function SR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/iemobile/i.test(e)}function kR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/android/i.test(e)}function jR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/blackberry/i.test(e)}function _R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/webos/i.test(e)}function NR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function PR(){return function(){const e=rb();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ER(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb();return NR(e)||kR(e)||_R(e)||jR(e)||/windows phone/i.test(e)||SR(e)}function OR(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vR(rb());break;case"Worker":t="".concat(vR(rb()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Iw,"/").concat(r)}class AR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(OF){r(OF)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(OF){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===OF||void 0===OF?void 0:OF.message})}}}class IR{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,o;const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=null===(t=i.meetsMinPasswordLength)||void 0===t||t),i.isValid&&(i.isValid=null===(n=i.meetsMaxPasswordLength)||void 0===n||n),i.isValid&&(i.isValid=null===(r=i.containsLowercaseLetter)||void 0===r||r),i.isValid&&(i.isValid=null===(a=i.containsUppercaseLetter)||void 0===a||a),i.isValid&&(i.isValid=null===(s=i.containsNumericCharacter)||void 0===s||s),i.isValid&&(i.isValid=null===(o=i.containsNonAlphanumericCharacter)||void 0===o||o),i}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class TR{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DR(this),this.idTokenSubscription=new DR(this),this.beforeStateQueue=new AR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fR(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await yR.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(OF){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ZM(this,{idToken:e}),n=await dR._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ew(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(OF){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(OF))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return AM(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(OF){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await iR(e)}catch(OF){if((null===OF||void 0===OF?void 0:OF.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ew(this.app))return Promise.reject(EM(this));const t=e?gb(e):null;return t&&AM(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&AM(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ew(this.app)?Promise.reject(EM(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ew(this.app)?Promise.reject(EM(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fR(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return VM(e,"GET","/v2/passwordPolicy",zM(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new IR(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ib("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return VM(e,"POST","/v2/accounts:revokeToken",zM(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fR(e)||this._popupRedirectResolver;AM(t,this,"argument-error"),this.redirectPersistenceManager=await yR.create(this,[fR(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(AM(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return AM(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(kM.logLevel<=Sb.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kM.warn("Auth (".concat(Iw,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function CR(e){return gb(e)}class DR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new mb(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return AM(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let MR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RR(e){return MR.loadJS(e)}function LR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class BR{constructor(e){this.type="recaptcha-enterprise",this.auth=CR(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;XM(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{JM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new $M(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&XM(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=MR.recaptchaEnterpriseScript;0!==t.length&&(t+=a),RR(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function FR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new BR(e);let s;try{s=await a.verify(n)}catch(i){s=await a.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function WR(e,t,n,r){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await FR(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await FR(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}function UR(e,t,n){const r=CR(e);AM(r._canInitEmulator,r,"emulator-config-failed"),AM(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=zR(t),{host:o,port:i}=function(e){const t=zR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:VR(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:VR(t)}}}(t),l=null===i?"":":".concat(i);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function VR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class HR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return IM("not implemented")}_getIdTokenResponse(e){return IM("not implemented")}_linkToIdToken(e,t){return IM("not implemented")}_getReauthenticationResolver(e){return IM("not implemented")}}async function qR(e,t){return VM(e,"POST","/v1/accounts:signUp",t)}async function GR(e,t){return qM(e,"POST","/v1/accounts:signInWithPassword",zM(e,t))}class KR extends HR{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new KR(e,t,"password")}static _fromEmailAndCode(e,t){return new KR(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return WR(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",GR);case"emailLink":return async function(e,t){return qM(e,"POST","/v1/accounts:signInWithEmailLink",zM(e,t))}(e,{email:this._email,oobCode:this._password});default:_M(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return WR(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qR);case"emailLink":return async function(e,t){return qM(e,"POST","/v1/accounts:signInWithEmailLink",zM(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_M(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function YR(e,t){return qM(e,"POST","/v1/accounts:signInWithIdp",zM(e,t))}class QR extends HR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new QR(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_M("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=xM(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new QR(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return YR(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,YR(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,YR(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=db(t)}return e}}const XR={USER_NOT_FOUND:"user-not-found"};class $R extends HR{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $R({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $R({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return qM(e,"POST","/v1/accounts:signInWithPhoneNumber",zM(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await qM(e,"POST","/v1/accounts:signInWithPhoneNumber",zM(e,t));if(n.temporaryProof)throw QM(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return qM(e,"POST","/v1/accounts:signInWithPhoneNumber",zM(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),XR)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new $R({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class JR{constructor(e){var t,n,r,a,s,o;const i=hb(fb(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,c=null!==(n=i.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);AM(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=i.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=i.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=i.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=hb(fb(e)).link,n=t?hb(fb(t)).deep_link_id:null,r=hb(fb(e)).deep_link_id;return(r?hb(fb(r)).link:null)||r||n||t||e}(e);try{return new JR(t)}catch(n){return null}}}class ZR{constructor(){this.providerId=ZR.PROVIDER_ID}static credential(e,t){return KR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=JR.parseLink(t);return AM(n,"argument-error"),KR._fromEmailAndCode(e,n.code,n.tenantId)}}ZR.PROVIDER_ID="password",ZR.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ZR.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tL extends eL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nL extends tL{constructor(){super("facebook.com")}static credential(e){return QR._fromParams({providerId:nL.PROVIDER_ID,signInMethod:nL.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nL.credentialFromTaggedObject(e)}static credentialFromError(e){return nL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nL.credential(t.oauthAccessToken)}catch(n){return null}}}nL.FACEBOOK_SIGN_IN_METHOD="facebook.com",nL.PROVIDER_ID="facebook.com";class rL extends tL{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return QR._fromParams({providerId:rL.PROVIDER_ID,signInMethod:rL.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rL.credentialFromTaggedObject(e)}static credentialFromError(e){return rL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rL.credential(n,r)}catch(a){return null}}}rL.GOOGLE_SIGN_IN_METHOD="google.com",rL.PROVIDER_ID="google.com";class aL extends tL{constructor(){super("github.com")}static credential(e){return QR._fromParams({providerId:aL.PROVIDER_ID,signInMethod:aL.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aL.credentialFromTaggedObject(e)}static credentialFromError(e){return aL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return aL.credential(t.oauthAccessToken)}catch(n){return null}}}aL.GITHUB_SIGN_IN_METHOD="github.com",aL.PROVIDER_ID="github.com";class sL extends tL{constructor(){super("twitter.com")}static credential(e,t){return QR._fromParams({providerId:sL.PROVIDER_ID,signInMethod:sL.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sL.credentialFromTaggedObject(e)}static credentialFromError(e){return sL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return sL.credential(n,r)}catch(a){return null}}}sL.TWITTER_SIGN_IN_METHOD="twitter.com",sL.PROVIDER_ID="twitter.com";class oL{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await dR._fromIdTokenResponse(e,n,r),s=iL(n);return new oL({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=iL(n);return new oL({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function iL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lL extends ob{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lL.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lL(e,t,n,r)}}function cL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw lL._fromErrorAndOperation(e,n,t,r);throw n})}async function uL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await aR(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return oL._forOperation(e,"link",r)}async function dL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ew(r.app))return Promise.reject(EM(r));const a="reauthenticate";try{const s=await aR(e,cL(r,a,t,e),n);AM(s.idToken,r,"internal-error");const o=nR(s.idToken);AM(o,r,"internal-error");const{sub:i}=o;return AM(e.uid===i,r,"user-mismatch"),oL._forOperation(e,a,s)}catch(OF){throw(null===OF||void 0===OF?void 0:OF.code)==="auth/".concat("user-not-found")&&_M(r,"user-mismatch"),OF}}async function hL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ew(e.app))return Promise.reject(EM(e));const r="signIn",a=await cL(e,r,t),s=await oL._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function fL(e,t){return hL(CR(e),t)}async function mL(e){const t=CR(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const pL="__sak";class gL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pL,"1"),this.storage.removeItem(pL),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yL extends gL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);PR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yL.type="LOCAL";const vL=yL;class xL extends gL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xL.type="SESSION";const bL=xL;class wL{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new wL(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,a)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function SL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wL.receivers=[];class kL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,i)=>{const l=SL("",20);r.port1.start();const c=setTimeout(()=>{i(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),i(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function jL(){return window}function _L(){return"undefined"!==typeof jL().WorkerGlobalScope&&"function"===typeof jL().importScripts}const NL="firebaseLocalStorageDb",PL="firebaseLocalStorage",EL="fbase_key";class OL{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function AL(e,t){return e.transaction([PL],t?"readwrite":"readonly").objectStore(PL)}function IL(){const e=indexedDB.open(NL,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(PL,{keyPath:EL})}catch(OF){n(OF)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(PL)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(NL);return new OL(e).toPromise()}(),t(await IL()))})})}async function TL(e,t,n){const r=AL(e,!0).put({[EL]:t,value:n});return new OL(r).toPromise()}function CL(e,t){const n=AL(e,!0).delete(t);return new OL(n).toPromise()}class DL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await IL()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(OF){if(t++>3)throw OF;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _L()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wL._getInstance(_L()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IL();return await TL(e,pL,"1"),await CL(e,pL),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TL(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=AL(e,!1).get(t),r=await new OL(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CL(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=AL(e,!1).getAll();return new OL(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}DL.type="LOCAL";const ML=DL;LR("rcb"),new LM(3e4,6e4);const RL="recaptcha";async function LL(e,t,n){var r;const a=await n.verify();try{let s;if(AM("string"===typeof a,e,"argument-error"),AM(n.type===RL,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){AM("enroll"===t.type,e,"internal-error");const n=await function(e,t){return VM(e,"POST","/v2/accounts/mfaEnrollment:start",zM(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{AM("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;AM(n,e,"missing-multi-factor-info");const o=await function(e,t){return VM(e,"POST","/v2/accounts/mfaSignIn:start",zM(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return VM(e,"POST","/v1/accounts:sendVerificationCode",zM(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class BL{constructor(e){this.providerId=BL.PROVIDER_ID,this.auth=CR(e)}verifyPhoneNumber(e,t){return LL(this.auth,e,gb(t))}static credential(e,t){return $R._fromVerification(e,t)}static credentialFromResult(e){const t=e;return BL.credentialFromTaggedObject(t)}static credentialFromError(e){return BL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?$R._fromTokenResponse(n,r):null}}function FL(e,t){return t?fR(t):(AM(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}BL.PROVIDER_ID="phone",BL.PHONE_SIGN_IN_METHOD="phone";class WL extends HR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return YR(e,this._buildIdpRequest())}_linkToIdToken(e,t){return YR(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return YR(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UL(e){return hL(e.auth,new WL(e),e.bypassAuthState)}function zL(e){const{auth:t,user:n}=e;return AM(n,t,"internal-error"),dL(n,new WL(e),e.bypassAuthState)}async function VL(e){const{auth:t,user:n}=e;return AM(n,t,"internal-error"),uL(n,new WL(e),e.bypassAuthState)}class HL{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(OF){this.reject(OF)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=e;if(s)return void this.reject(s);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(i))}catch(OF){this.reject(OF)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UL;case"linkViaPopup":case"linkViaRedirect":return VL;case"reauthViaPopup":case"reauthViaRedirect":return zL;default:_M(this.auth,"internal-error")}}resolve(e){TM(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){TM(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qL=new LM(2e3,1e4);class GL extends HL{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,GL.currentPopupAction&&GL.currentPopupAction.cancel(),GL.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return AM(e,this.auth,"internal-error"),e}async onExecution(){TM(1===this.filter.length,"Popup operations only handle one event");const e=SL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(NM(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(NM(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,GL.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(NM(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,qL.get())};e()}}GL.currentPopupAction=null;const KL=new Map;class YL extends HL{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=KL.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=$L(t),r=XL(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(OF){e=()=>Promise.reject(OF)}KL.set(this.auth._key(),e)}return this.bypassAuthState||KL.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function QL(e,t){KL.set(e._key(),t)}function XL(e){return fR(e._redirectPersistence)}function $L(e){return gR("pendingRedirect",e.config.apiKey,e.name)}async function JL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ew(e.app))return Promise.reject(EM(e));const r=CR(e),a=FL(r,t),s=new YL(r,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ZL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tB(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tB(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(NM(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eB(e))}saveEventToCache(e){this.cachedEventUids.add(eB(e)),this.lastProcessedEventTime=Date.now()}}function eB(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tB(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rB=/^https?/;async function aB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return VM(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(sB(r))return}catch(n){}_M(e,"unauthorized-domain")}function sB(e){const t=CM(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!rB.test(n))return!1;if(nB.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const oB=new LM(3e4,6e4);function iB(){const e=jL().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function lB(e){return new Promise((t,n)=>{var r,a,s;function o(){iB(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iB(),n(NM(e,"network-request-failed"))},timeout:oB.get()})}if(null===(a=null===(r=jL().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=jL().gapi)||void 0===s?void 0:s.load)){const t=LR("iframefcb");return jL()[t]=()=>{gapi.load?o():n(NM(e,"network-request-failed"))},RR("".concat(MR.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw cB=null,e})}let cB=null;const uB=new LM(5e3,15e3),dB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fB(e){const t=e.config;AM(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?BM(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Iw},a=hB.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(db(r).slice(1))}async function mB(e){const t=await function(e){return cB=cB||lB(e),cB}(e),n=jL().gapi;return AM(n,e,"internal-error"),t.open({where:document.body,url:fB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dB,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=NM(e,"network-request-failed"),s=jL().setTimeout(()=>{r(a)},uB.get());function o(){jL().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(a)})}))}const pB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(OF){}}}function yB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},pB),{width:r.toString(),height:a.toString(),top:s,left:o}),c=rb().toLowerCase();n&&(i=wR(c)?"_blank":n),xR(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return NR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",i),new gB(null);const d=window.open(t||"",i,u);AM(d,e,"popup-blocked");try{d.focus()}catch(OF){}return new gB(d)}const vB="__/auth/handler",xB="emulator/auth/handler",bB=encodeURIComponent("fac");async function wB(e,t,n,r,a,s){AM(e.config.authDomain,e,"auth-domain-config-required"),AM(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Iw,eventId:a};if(t instanceof eL){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof tL){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const u of Object.keys(i))void 0===i[u]&&delete i[u];const l=await e._getAppCheckToken(),c=l?"#".concat(bB,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vB);return BM(t,xB)}(e),"?").concat(db(i).slice(1)).concat(c)}const SB="webStorageSupport";const kB=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bL,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,t,n,r){var a;TM(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return yB(e,await wB(e,t,n,CM(),r),SL())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){jL().location.href=e}(await wB(e,t,n,CM(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(TM(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await mB(e),n=new ZL(e);return t.register("authEvent",t=>{AM(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(SB,{type:SB},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[SB];void 0!==a&&t(!!a),_M(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ER()||bR()||NR()}};var jB="@firebase/auth",_B="1.7.9";class NB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){AM(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const PB=tb("authIdTokenMaxAge")||300;let EB=null;function OB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cw();const t=Pw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Pw(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(cb(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;_M(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:kB,persistence:[ML,vL,bL]}),r=tb("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>PB)return;const r=null===t||void 0===t?void 0:t.token;EB!==r&&(EB=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){gb(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){gb(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=Zx("auth");return s&&UR(n,"http://".concat(s)),n}var AB;!function(e){MR=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=NM("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),AB="Browser",Nw(new yb("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:i}=r.options;AM(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:i,clientPlatform:AB,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(AB)},c=new TR(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Nw(new yb("auth-internal",e=>(e=>new NB(e))(CR(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Dw(jB,_B,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(AB)),Dw(jB,_B,"esm2017");const IB={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"},TB=()=>{var e,n,r;const{loading:a,error:s,usersData:o,historicalData:i}=$(),[l,c]=(0,t.useState)(null),[d,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,y]=(0,t.useState)({email:"",password:""}),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),[j,_]=(0,t.useState)({text:"",type:""}),[N,P]=(0,t.useState)(null),[E,O]=(0,t.useState)(!1),[A,I]=(0,t.useState)({type:"ALL",team:"ALL"}),[T,C]=(0,t.useState)({key:"date",direction:"desc"}),[D,M]=(0,t.useState)(1),[R,L]=(0,t.useState)([]),[B,F]=(0,t.useState)({description:"",amount:""}),[W,U]=(0,t.useState)(null),[z,V]=(0,t.useState)(""),[H,q]=(0,t.useState)({transactions:[],potentialFees:[],potentialPayouts:[]}),[K,Y]=(0,t.useState)(!0),[Q,X]=(0,t.useState)(null),J=!!l&&"QzIJSZWBHgSzhmC6pOOiuJNxbI83"===l.uid,Z=o?o.map(e=>({userId:e.user_id,displayName:e.display_name||e.username||e.user_id})):[],ee=Object.keys((null===i||void 0===i?void 0:i.rostersBySeason)||{}).sort((e,t)=>t-e),te=(0,t.useMemo)(()=>{const e={};return i?(Object.entries(i.matchupsBySeason||{}).forEach(t=>{let[n,r]=t;const a={};r.forEach(e=>{e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),e[n]={},Object.entries(a).forEach(t=>{let[r,a]=t,s=[];a.forEach(e=>{var t,r,a,o;const l=null===(t=i.rostersBySeason)||void 0===t||null===(r=t[n])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.team1_roster_id)),c=null===(a=i.rostersBySeason)||void 0===a||null===(o=a[n])||void 0===o?void 0:o.find(t=>String(t.roster_id)===String(e.team2_roster_id));l&&!isNaN(e.team1_score)&&s.push({userId:l.owner_id,score:e.team1_score}),c&&!isNaN(e.team2_score)&&s.push({userId:c.owner_id,score:e.team2_score})}),s.sort((e,t)=>t.score-e.score);const o=s.slice(0,2).map(e=>e.userId);e[n][r]=o})}),e):e},[i]),ne=(0,t.useMemo)(()=>{const e={};return i&&i.matchupsBySeason&&i.rostersBySeason?(Object.keys(i.matchupsBySeason).forEach(t=>{const n={},r=i.rostersBySeason[t];if(!r)return;r.forEach(e=>{e.owner_id&&(n[e.owner_id]=0)});i.matchupsBySeason[t].forEach(e=>{const t=r.find(t=>String(t.roster_id)===String(e.team1_roster_id));t&&t.owner_id&&!isNaN(e.team1_score)&&(n[t.owner_id]+=e.team1_score);const a=r.find(t=>String(t.roster_id)===String(e.team2_roster_id));a&&a.owner_id&&!isNaN(e.team2_score)&&(n[a.owner_id]+=e.team2_score)});const a=Object.entries(n).map(e=>{let[t,n]=e;return{userId:t,score:n}}).sort((e,t)=>t.score-e.score);e[t]=a}),e):e},[i]),re=(0,t.useMemo)(()=>{let e=H.transactions.filter(e=>{const t="ALL"===A.type||e.type===A.type,n="ALL"===A.team||(Array.isArray(e.team)?e.team.includes(A.team):e.team===A.team);return t&&n});return T.key&&(e=((e,t,n,r)=>{const a=[...e].sort((e,a)=>{let s=e[t],o=a[t];if("amount"===t)s=Number(s),o=Number(o);else if("date"===t)s=new Date(s),o=new Date(o);else if("team"===t){const t=e=>{var t;return(null===(t=r.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e};s=Array.isArray(e.team)?e.team.map(t).join(", "):t(e.team),o=Array.isArray(a.team)?a.team.map(t).join(", "):t(a.team)}return s<o?"asc"===n?-1:1:s>o?"asc"===n?1:-1:0});return a})(e,T.key,T.direction,Z)),e},[H,A,T,Z]),ae=Math.ceil(re.length/10),se=re.slice(10*(D-1),10*D);(0,t.useEffect)(()=>{window.firebaseApp||(window.firebaseApp=Tw(IB));const e=window.firebaseApp,t=OB(e),n=bO(e);p(t),f(n);const r=function(e,t,n,r){return gb(e).onAuthStateChanged(t,n,r)}(t,e=>{c(e)});return()=>{r()}},[]),(0,t.useEffect)(()=>{ee.length>0&&!z&&V(ee[0])},[ee,z]),(0,t.useEffect)(()=>{if(!z||!d)return;Y(!0);const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s,o;e=gb(e);let i={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||vO(n[l])||(i=n[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vO(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof mO)d=cO(e.firestore,xO),h=xj(e._key.path),u={next:t=>{n[l]&&n[l](aA(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=cO(e,fO);d=cO(t.firestore,xO),h=t._query;const r=new tA(d);u={next:e=>{n[l]&&n[l](new ZO(d,r,t,e))},error:n[l+1],complete:n[l+2]},KO(e._query)}return function(e,t,n,r){const a=new QE(r),s=new yE(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>uE(await nO(e),s)),()=>{a.Za(),e.asyncQueue.enqueueAndForget(async()=>dE(await nO(e),s))}}(wO(d),h,c,u)}(gO(d,"league_finances",z),e=>{if(e.exists()){const t=e.data();q(t&&t.transactions?t:{transactions:[],potentialFees:[],potentialPayouts:[]})}else q({transactions:[],potentialFees:[],potentialPayouts:[]});Y(!1)},e=>{h.A.error("Error fetching Firestore data:",e),Y(!1)});return()=>e()},[z,d]);const oe=H.transactions.filter(e=>"Fee"===e.type&&("Trade Fee"===e.category||"Waiver/FA Fee"===e.category)).reduce((e,t)=>e+uA(t),0),ie=H.transactions.filter(e=>"Fee"===e.type).reduce((e,t)=>e+uA(t),0),le=H.transactions.filter(e=>"Payout"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),ce=ie-le;if(a||K)return(0,G.jsx)("div",{className:"p-4 text-blue-600",children:"Loading financial tracker..."});if(s)return(0,G.jsxs)("div",{className:"p-4 text-red-600",children:["Error loading data: ",s.message]});if(!o||!i)return(0,G.jsx)("div",{className:"p-4 text-orange-600",children:"No data available."});const ue=e=>{let t="asc";T.key===e&&"asc"===T.direction&&(t="desc"),C({key:e,direction:t})},de=async e=>{if(!J||!d)return;const t=new Set(e.map(e=>e.id)),n=H.transactions.filter(e=>!t.has(e.id));try{const e=gO(d,"league_finances",z);await nA(e,u(u({},H),{},{transactions:n}),{merge:!0}),_({text:"Transaction(s) deleted successfully!",type:"success"})}catch(OF){h.A.error("Error deleting transaction: ",OF),_({text:"Error deleting transaction.",type:"error"})}L([])},he=R.length>0&&R.length===se.length,fe=async(e,t)=>{if(!J||!d)return;const n=H["fees"===t?"potentialFees":"potentialPayouts"].filter(t=>t.id!==e);try{const e=gO(d,"league_finances",z);await nA(e,u(u({},H),{},{["fees"===t?"potentialFees":"potentialPayouts"]:n}),{merge:!0}),_({text:"Potential ".concat(t.slice(0,-1)," deleted successfully!"),type:"success"})}catch(OF){h.A.error("Error deleting potential transaction: ",OF),_({text:"Error deleting potential ".concat(t.slice(0,-1),"."),type:"error"})}},me=(e,t,n,r,a)=>{var s;const o=Array.isArray(t)?t.map(e=>{var t;return(null===(t=n.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}):[(null===(s=n.find(e=>e.userId===t))||void 0===s?void 0:s.displayName)||t];return o.length>3&&r!==e?(0,G.jsxs)("div",{className:"flex flex-col items-start",children:[(0,G.jsxs)("span",{children:[o.slice(0,3).join(", ")," ..."]}),(0,G.jsxs)("button",{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 text-xs mt-1",children:["(+",o.length-3," more)"]})]}):(0,G.jsxs)("div",{className:"flex flex-col items-start",children:[(0,G.jsx)("span",{children:o.join(", ")}),o.length>3&&(0,G.jsx)("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-xs mt-1",children:"Show less"})]})};return(0,G.jsxs)("div",{className:"p-4 max-w-5xl mx-auto font-sans",children:[(0,G.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"League Financial Tracker"}),(0,G.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:(0,G.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,G.jsx)("span",{children:"League Year:"}),(0,G.jsx)("select",{className:"border rounded px-2 py-1 bg-gray-50",value:z,onChange:e=>{V(e.target.value),M(1)},children:ee.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]})}),(0,G.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,G.jsxs)("div",{className:"flex flex-col items-center bg-blue-50 rounded-lg px-6 py-3 shadow-md text-blue-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"League Bank"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",ce.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-red-50 rounded-lg px-6 py-3 shadow-md text-red-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Fees"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",ie.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-green-50 rounded-lg px-6 py-3 shadow-md text-green-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Payouts"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",le.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,G.jsxs)("div",{className:"flex flex-col items-center bg-yellow-50 rounded-lg px-6 py-3 shadow-md text-yellow-800 min-w-[120px]",children:[(0,G.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Transaction Bank"}),(0,G.jsxs)("span",{className:"text-2xl font-bold",children:["$",oe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,G.jsx)("div",{className:"flex flex-col md:flex-row md:justify-center md:items-center mb-6 gap-4",children:l?(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsxs)("span",{className:"text-green-700 font-semibold",children:["Logged in as ",l.email]}),J&&(0,G.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold",children:"Commissioner"}),(0,G.jsx)("button",{onClick:()=>{m&&function(e){gb(e).signOut()}(m)},className:"ml-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm",children:"Logout"})]}):(0,G.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,G.jsxs)("button",{onClick:()=>w(!b),className:"w-full text-center py-2 px-4 rounded-lg bg-blue-500 text-white font-semibold mb-4 flex items-center justify-center gap-2 hover:bg-blue-600 transition duration-200",children:["Commissioner Login",(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat(b?"rotate-180":"rotate-0"),children:"\u25bc"})]}),b&&(0,G.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-full mx-auto animate-fadeIn",children:[(0,G.jsxs)("div",{className:"text-center mb-6",children:[(0,G.jsx)("h1",{className:"text-xl font-bold text-slate-800 mb-2",children:"Commish Login"}),(0,G.jsx)("p",{className:"text-slate-500 text-sm",children:"Sign in to manage league finances."})]}),(0,G.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m){x("");try{await function(e,t,n){return Ew(e.app)?Promise.reject(EM(e)):fL(gb(e),ZR.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&mL(e),t})}(m,g.email,g.password)}catch(t){x("Login failed. Please check your credentials.")}}},className:"flex flex-col gap-4 items-center",children:[(0,G.jsx)("input",{type:"email",required:!0,placeholder:"Commish Email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:g.email,onChange:e=>y(t=>u(u({},t),{},{email:e.target.value}))}),(0,G.jsx)("input",{type:"password",required:!0,placeholder:"Password",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:g.password,onChange:e=>y(t=>u(u({},t),{},{password:e.target.value}))}),(0,G.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Log In"}),v&&(0,G.jsx)("span",{className:"text-red-600 text-xs mt-2",children:v})]})]})]})}),J&&(0,G.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[(0,G.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end bg-blue-50 p-4 rounded-lg",onSubmit:async e=>{if(e.preventDefault(),!J||!d)return;if(0===S.team.length)return void _({text:"Please select at least one team.",type:"error"});let t,n;if(N)t=H.transactions.map(e=>e.id===N.id?u(u({},S),{},{id:N.id,date:(new Date).toISOString()}):e),n="Transaction updated successfully!",P(null);else{const e=[];"Entry Fee"===S.category?S.team.forEach(t=>{e.push(u(u({},S),{},{id:crypto.randomUUID(),quantity:1,team:[t],date:(new Date).toISOString()}))}):e.push(u(u({},S),{},{id:crypto.randomUUID(),team:S.team,date:(new Date).toISOString()})),t=[...H.transactions,...e],n="Transaction saved successfully!"}try{const e=gO(d,"league_finances",z);await nA(e,u(u({},H),{},{transactions:t}),{merge:!0}),_({text:n,type:"success"})}catch(e){h.A.error("Error saving transaction: ",e),_({text:"Error saving transaction.",type:"error"})}setTimeout(()=>_({text:"",type:""}),3e3),O(!1)},children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Type"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.type,onChange:e=>{const t=e.target.value;k(e=>u(u({},e),{},{type:t,description:"",category:"",team:[]}))},disabled:N,children:[(0,G.jsx)("option",{value:"Fee",children:"Fee"}),(0,G.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Amount ($)"}),(0,G.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.amount,onChange:e=>k(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Category"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.category,onChange:e=>{const t=e.target.value;let n=S.team,r=S.description;if("Trade Fee"===t&&(n=[]),"Payout"===S.type&&t.startsWith("Weekly")&&S.week){var a,s;const e="Weekly 1st"===t?0:1,u=null===(a=te[z])||void 0===a||null===(s=a[S.week])||void 0===s?void 0:s[e];if(u){var o,l;n=[u];const e=null===(o=i.matchupsBySeason)||void 0===o||null===(l=o[z])||void 0===l?void 0:l.filter(e=>String(e.week)===String(S.week));let a=null;if(e)for(const t of e){var c;null!==(c=i.rostersBySeason)&&void 0!==c&&c[z]&&(String(t.team1_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(t.team1_roster_id)&&e.owner_id===u)&&(a=t.team1_score),String(t.team2_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(t.team2_roster_id)&&e.owner_id===u)&&(a=t.team2_score))}var d;if(null!==a&&!isNaN(a))r="".concat(t," (").concat(sD(Number(null!==(d=a)&&void 0!==d?d:0),2)," pts)")}}if("Payout"===S.type&&t.startsWith("Total Points")){const e=ne[z];let a=-1;if("Total Points 1st"===t&&(a=0),"Total Points 2nd"===t&&(a=1),"Total Points 3rd"===t&&(a=2),e&&e[a]){var h;const s=e[a];n=[s.userId],r="".concat(t," (").concat(sD(Number(null!==(h=s.score)&&void 0!==h?h:0),2)," pts)")}}k(e=>u(u({},e),{},{category:t,team:n,description:r}))},required:!0,children:[(0,G.jsx)("option",{value:"",children:"Select..."}),("Fee"===S.type?["Entry Fee","Trade Fee","Waiver/FA Fee","Other"]:["Weekly 1st","Weekly 2nd","Playoff 1st","Playoff 2nd","Playoff 3rd","Total Points 1st","Total Points 2nd","Total Points 3rd","Bonus","Other"]).map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),(0,G.jsxs)("div",{className:"relative",children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Team(s)"}),(0,G.jsx)("button",{type:"button",onClick:()=>O(!E),className:"w-full border rounded-lg px-2 py-2 text-left bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.team.length===Z.length?"All Teams":S.team.length>3?"".concat((null===(e=Z.find(e=>e.userId===S.team[0]))||void 0===e?void 0:e.displayName)||"Team",", ").concat((null===(n=Z.find(e=>e.userId===S.team[1]))||void 0===n?void 0:n.displayName)||"Team",", ").concat((null===(r=Z.find(e=>e.userId===S.team[2]))||void 0===r?void 0:r.displayName)||"Team","... (+").concat(S.team.length-3," more)"):S.team.length>0?S.team.map(e=>{var t;return null===(t=Z.find(t=>t.userId===e))||void 0===t?void 0:t.displayName}).join(", "):"Select Team(s)"}),E&&(0,G.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[(0,G.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:S.team.length===Z.length,onChange:e=>{const t=e.target.checked;k(e=>u(u({},e),{},{team:t?Z.map(e=>e.userId):[]}))}}),(0,G.jsx)("span",{children:"All Teams"})]},"all"),Z.map(e=>(0,G.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:S.team.includes(e.userId),onChange:t=>{const n=t.target.checked;k(t=>{const r=n?[...t.team,e.userId]:t.team.filter(t=>t!==e.userId);return u(u({},t),{},{team:r})})}}),(0,G.jsx)("span",{children:e.displayName})]},e.userId))]})]}),("Waiver/FA Fee"===S.category||"Trade Fee"===S.category)&&(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Quantity"}),(0,G.jsx)("input",{type:"number",min:"1",step:"1",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.quantity,onChange:e=>k(t=>u(u({},t),{},{quantity:parseInt(e.target.value)||1}))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Description"}),(0,G.jsx)("input",{type:"text",className:"w-full border rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat("Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-white"),value:S.description,onChange:e=>{"Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))||k(t=>u(u({},t),{},{description:e.target.value}))},placeholder:"e.g. Paid for entry, Weekly winner, etc.",disabled:"Payout"===S.type&&(S.category.startsWith("Weekly")&&S.week||S.category.startsWith("Total Points"))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Week #"}),(0,G.jsx)("input",{type:"number",min:"0",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.week,onChange:e=>{var t;const n=e.target.value;let r=S.team,a=S.description;if(n){if("Payout"===S.type&&("Weekly 1st"===S.category||"Weekly 2nd"===S.category)&&null!==(t=te[z])&&void 0!==t&&t[n]){const e="Weekly 1st"===S.category?0:1,t=te[z][n][e];if(t){var s,o;r=[t];const e=null===(s=i.matchupsBySeason)||void 0===s||null===(o=s[z])||void 0===o?void 0:o.filter(e=>String(e.week)===String(n));let u=null;if(e)for(const n of e){var l;null!==(l=i.rostersBySeason)&&void 0!==l&&l[z]&&(String(n.team1_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(n.team1_roster_id)&&e.owner_id===t)&&(u=n.team1_score),String(n.team2_roster_id)&&i.rostersBySeason[z].find(e=>String(e.roster_id)===String(n.team2_roster_id)&&e.owner_id===t)&&(u=n.team2_score))}var c;if(null!==u&&!isNaN(u))a="".concat(S.category," (").concat(sD(Number(null!==(c=u)&&void 0!==c?c:0),2)," pts)")}}}else r=[],a="";k(e=>u(u({},e),{},{week:n,team:r,description:a}))},placeholder:"e.g. 1, 2, ..."})]}),(0,G.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-2",children:[N&&(0,G.jsx)("button",{type:"button",className:"bg-gray-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-200",onClick:()=>{P(null),k({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),_({text:"Cancelled edit.",type:"info"})},children:"Cancel"}),(0,G.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-200",children:N?"Update Transaction":"Submit Transaction"})]})]}),j.text&&(0,G.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm font-medium ".concat("success"===j.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:j.text})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:"League Members & Dues"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Member"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Fees"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Transaction Fees"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Payouts"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Net Total"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Final Dues"})]})}),(0,G.jsx)("tbody",{children:Z.map(e=>{const t=H.transactions.filter(t=>"Fee"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+uA(t)/n},0),n=H.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>{const n=Array.isArray(t.team)?t.team.length:1;return e+uA(t)/n},0),r=H.transactions.filter(t=>"Payout"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),a=r-t,s=a<0?"text-red-600":"text-green-600",o=r-n,i=o<0?"text-red-600":"text-green-600";return(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.displayName}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(s),children:["$",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(i),children:["$",o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.userId)})})]})}),!J&&(0,G.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Login as commissioner to edit dues."})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-lg font-semibold text-blue-800",children:["All Transactions (",z,")"]}),(0,G.jsxs)("div",{className:"flex gap-2",children:[J&&(0,G.jsxs)("button",{onClick:()=>{R.length>0&&de(R)},disabled:0===R.length,className:"px-3 py-1 rounded-lg text-sm font-semibold transition duration-200 ".concat(R.length>0?"bg-red-500 text-white hover:bg-red-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Delete Selected (",R.length,")"]}),(0,G.jsx)("button",{onClick:()=>{const e=re.map(e=>{var t;const n=Array.isArray(e.team)?e.team.map(e=>{var t;return(null===(t=Z.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}).join(", "):(null===(t=Z.find(t=>t.userId===e.team))||void 0===t?void 0:t.displayName)||e.team;return[e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"",n,e.type,Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e.category,e.description,e.week,e.quantity||1]}),t=[["Date","Team","Type","Amount","Category","Description","Week","Quantity"].join(","),...e.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","league_finances_".concat(z,".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-600 transition duration-200",children:"Export to CSV"})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Type"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.type,onChange:e=>{I(t=>u(u({},t),{},{type:e.target.value})),M(1)},children:[(0,G.jsx)("option",{value:"ALL",children:"All Types"}),(0,G.jsx)("option",{value:"Fee",children:"Fees"}),(0,G.jsx)("option",{value:"Payout",children:"Payouts"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Team"}),(0,G.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.team,onChange:e=>{I(t=>u(u({},t),{},{team:e.target.value})),M(1)},children:[(0,G.jsx)("option",{value:"ALL",children:"All Teams"}),Z.map(e=>(0,G.jsx)("option",{value:e.userId,children:e.displayName},e.userId))]})]})]}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-blue-50",children:(0,G.jsxs)("tr",{children:[J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",onChange:e=>{e.target.checked?L(se):L([])},checked:he})}),(0,G.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("date"),children:(0,G.jsxs)("div",{className:"flex items-center",children:["Date","date"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("team"),children:(0,G.jsxs)("div",{className:"flex items-center",children:["Team","team"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("type"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Type","type"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Qty"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("amount"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Amount","amount"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("category"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Category","category"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("description"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Description","description"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),(0,G.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("week"),children:(0,G.jsxs)("div",{className:"flex items-center justify-center",children:["Week","week"===T.key&&(0,G.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===T.direction?"\u25b2":"\u25bc"})]})}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:se.map(e=>{const t=e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"";return(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:R.some(t=>t.id===e.id),onChange:t=>((e,t)=>{L(t?t=>[...t,e]:t=>t.filter(t=>t.id!==e.id))})(e,t.target.checked)})}),(0,G.jsx)("td",{className:"py-2 px-3 whitespace-nowrap",children:t}),(0,G.jsx)("td",{className:"py-2 px-3",children:me(e.id,e.team,Z,Q,X)}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.type}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:"Waiver/FA Fee"===e.category||"Trade Fee"===e.category?e.quantity||1:""}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.category}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.description}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:e.week}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,G.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-bold text-lg",title:"Edit transaction",onClick:()=>{return t=e,void(J&&(P(t),k(u(u({},t),{},{team:Array.isArray(t.team)?t.team:[t.team],quantity:t.quantity||1})),_({text:"Editing transaction...",type:"info"})));var t},children:"\u270e"}),(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>de([e]),children:"\u2716"})]})})]},e.id)})})]})}),(0,G.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:Array.from({length:ae},(e,t)=>(0,G.jsx)("button",{className:"px-3 py-1 rounded-lg transition duration-200 ".concat(D===t+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>M(t+1),disabled:D===t+1,children:t+1},t))})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-semibold text-red-800",children:["Fees (",z,")"]}),J&&(0,G.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>U("fees"),title:"Add Fee",children:"+"})]}),H.potentialFees.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-red-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:H.potentialFees.map(e=>(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"fees"),children:"\u2716"})})]},e.id))})]})}):(0,G.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No fees for this year."})]}),(0,G.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-semibold text-green-800",children:["Payouts (",z,")"]}),J&&(0,G.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>U("payouts"),title:"Add Payout",children:"+"})]}),H.potentialPayouts.length>0?(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,G.jsx)("thead",{className:"bg-green-50",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),J&&(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,G.jsx)("tbody",{children:H.potentialPayouts.map(e=>(0,G.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,G.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),J&&(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:(0,G.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"payouts"),children:"\u2716"})})]},e.id))})]})}):(0,G.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No payouts for this year."})]}),W&&(0,G.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,G.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-sm mx-auto",children:[(0,G.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Add ","fees"===W?"Fee":"Payout"]}),(0,G.jsxs)("form",{onSubmit:e=>(async(e,t)=>{if(e.preventDefault(),!J||!d)return;const n=u({id:(new Date).toISOString()},B);let r;r="fees"===t?[...H.potentialFees,n]:[...H.potentialPayouts,n];try{const e=gO(d,"league_finances",z);await nA(e,u(u({},H),{},{["fees"===t?"potentialFees":"potentialPayouts"]:r}),{merge:!0}),_({text:"Potential ".concat(t.slice(0,-1)," added successfully!"),type:"success"})}catch(e){h.A.error("Error saving potential transaction: ",e),_({text:"Error saving potential ".concat(t.slice(0,-1),"."),type:"error"})}U(null),F({description:"",amount:""})})(e,W),children:[(0,G.jsxs)("div",{className:"mb-4",children:[(0,G.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,G.jsx)("input",{type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.description,onChange:e=>F(t=>u(u({},t),{},{description:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{className:"mb-4",children:[(0,G.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Amount ($)"}),(0,G.jsx)("input",{type:"number",min:"0",step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.amount,onChange:e=>F(t=>u(u({},t),{},{amount:e.target.value})),required:!0})]}),(0,G.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,G.jsx)("button",{type:"button",className:"bg-gray-400 text-white font-bold py-2 px-4 rounded hover:bg-gray-500 transition duration-200",onClick:()=>{U(null),F({description:"",amount:""})},children:"Cancel"}),(0,G.jsx)("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600 transition duration-200",children:"Save"})]})]})]})})]})},CB=()=>{const{historicalData:e,processedSeasonalRecords:n,currentSeason:r,nflState:a,getTeamName:s,getTeamDetails:o}=$(),i=r?String(r):null,l=(0,t.useMemo)(()=>{var t,i,l,c,d;if(!e||!n||!r)return null;const h=String(r),f=(null===(t=e.rostersBySeason)||void 0===t?void 0:t[h])||[],m=null===(i=e.leaguesMetadataBySeason)||void 0===i?void 0:i[h],p=parseInt(null===m||void 0===m||null===(l=m.settings)||void 0===l?void 0:l.playoff_start_week)||15,g=null!==a&&void 0!==a&&a.week?parseInt(a.week):1,y=Math.max(0,p-g),v=(null===n||void 0===n?void 0:n[h])||{},x=(null===(c=e.matchupsBySeason)||void 0===c?void 0:c[h])||[],b=new Map;f.forEach(e=>{b.set(String(e.roster_id),{wins:0,losses:0,ties:0,pointsFor:0,games:0})}),x.forEach(e=>{const t=parseInt(e.week);if(!t||t>=p||t>=g)return;const n=e.team1_roster_id?String(e.team1_roster_id):null,r=e.team2_roster_id?String(e.team2_roster_id):null;if(!n||!r)return;const a=Number(e.team1_score)||0,s=Number(e.team2_score)||0,o=b.get(n),i=b.get(r);o&&i&&(o.pointsFor+=a,i.pointsFor+=s,o.games+=1,i.games+=1,a>s?(o.wins+=1,i.losses+=1):s>a?(i.wins+=1,o.losses+=1):a===s&&a>0&&(o.ties+=1,i.ties+=1))});const w=x.filter(e=>{const t=parseInt(e.week);return t&&t>=g&&t<p&&e.team1_roster_id&&e.team2_roster_id}).map(e=>({week:parseInt(e.week),t1:String(e.team1_roster_id),t2:String(e.team2_roster_id)})),S=new Map;f.forEach(e=>S.set(String(e.roster_id),[])),w.forEach(e=>{var t,n;null===(t=S.get(e.t1))||void 0===t||t.push({opponentId:e.t2,week:e.week}),null===(n=S.get(e.t2))||void 0===n||n.push({opponentId:e.t1,week:e.week})});const k=e=>{const t=v[e]||{},n="number"===typeof t.allPlayWinPercentage?t.allPlayWinPercentage:void 0,r="number"===typeof t.adjustedDPR?t.adjustedDPR:void 0;return r&&r>0?r:void 0!==n?Math.max(.1,2*n):1},j=f.map(e=>{var t;const n=String(e.roster_id),r=String(e.owner_id),a=v[n]||{},i=b.get(n)||{wins:0,losses:0,ties:0,pointsFor:0,games:0},l=S.get(n)||[],c="number"===typeof a.allPlayWinPercentage&&!isNaN(a.allPlayWinPercentage)&&a.allPlayWinPercentage>0?a.allPlayWinPercentage:i.games>0?(i.wins+(i.ties>0?.5*i.ties:0))/i.games:.5,u=a.averageScore&&!isNaN(a.averageScore)&&a.averageScore>0?a.averageScore:i.games>0?i.pointsFor/i.games:100;let d=0;const f=k(n);l.forEach(e=>{let{opponentId:t}=e;const n=k(t),r=f+n;d+=r>0?f/r:.5});const m=l.length,p=Math.max(0,y-m);d+=p*c;const g=i.wins+d,x=i.pointsFor+(m+p)*u;return{rosterId:n,ownerId:r,name:s(r,h),avatar:null===(t=o(r,h))||void 0===t?void 0:t.avatar,currentWins:i.wins,currentLosses:i.losses,currentTies:i.ties,currentPoints:i.pointsFor,projectedWins:g,projectedPoints:x,remainingOpponents:l,avgScore:u,allPlayWinPct:c}}),_=[...j].sort((e,t)=>t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:e.name.localeCompare(t.name)),N=_.slice(0,4),P=j.filter(e=>!N.find(t=>t.rosterId===e.rosterId)),E=P.sort((e,t)=>t.projectedPoints!==e.projectedPoints?t.projectedPoints-e.projectedPoints:t.projectedWins!==e.projectedWins?t.projectedWins-e.projectedWins:e.name.localeCompare(t.name)),O=E.slice(0,2),A=[...N,...O].slice(0,6).map((e,t)=>u({seed:t+1},e)).sort((e,t)=>e.seed-t.seed);let I=[{higher:A.find(e=>3===e.seed),lower:A.find(e=>6===e.seed)},{higher:A.find(e=>4===e.seed),lower:A.find(e=>5===e.seed)}];const T=[A.find(e=>1===e.seed),A.find(e=>2===e.seed)],C=(null===(d=e.winnersBracketBySeason)||void 0===d?void 0:d[h])||[];if(g>=p&&C.some(e=>1===parseInt(e.r)&&(e.t1||e.team1_roster_id)&&(e.t2||e.team2_roster_id))){const e=C.filter(e=>1===parseInt(e.r)),t=new Map(A.map(e=>[String(e.rosterId),e])),n=e=>t.get(String(e))||null,r=e.map(e=>{const t=String(e.t1||e.team1_roster_id),r=String(e.t2||e.team2_roster_id),a=n(t),s=n(r);if(!a||!s)return null;return{higher:a.seed<s.seed?a:s,lower:a.seed<s.seed?s:a}}).filter(Boolean).sort((e,t)=>e.higher.seed-t.higher.seed);2===r.length&&(I=r)}return{seeded:A,round1:I,byes:T,playoffStartWeek:p,isPlayoffs:g>=p}},[e,n,r,a,s,o]);if(!l)return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-2",children:"Projected Playoff Bracket"}),(0,G.jsx)("div",{className:"text-gray-500 text-sm",children:"Not enough data to project the bracket yet."})]});const{seeded:c,round1:d,byes:h,playoffStartWeek:f,isPlayoffs:m}=l,p=t=>{var n,r,a,o,l,c;let{seed:u,team:d}=t;return(0,G.jsxs)("div",{className:"group relative",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 shadow-sm",children:[(0,G.jsxs)("div",{className:"text-xs font-semibold text-blue-700 w-6",children:["#",u]}),(0,G.jsx)("img",{src:(null===d||void 0===d?void 0:d.avatar)||"https://sleepercdn.com/avatars/default_avatar.png",alt:(null===d||void 0===d?void 0:d.name)||"Team",className:"w-8 h-8 rounded-full border border-gray-300 object-cover",onError:e=>{e.currentTarget.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("div",{className:"min-w-0 flex-1",children:(0,G.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate max-w-[180px]",children:(null===d||void 0===d?void 0:d.name)||"TBD"})})]}),d&&(0,G.jsxs)("div",{className:"pointer-events-none absolute z-10 hidden group-hover:block bg-white border border-gray-200 shadow-lg rounded-md p-3 w-72 -left-2 top-10",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:d.name}),(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[(0,G.jsx)("div",{children:"Current Record"}),(0,G.jsxs)("div",{className:"text-right",children:[d.currentWins,"-",d.currentLosses,d.currentTies>0?"-".concat(d.currentTies):""]}),(0,G.jsx)("div",{children:"Current Points"}),(0,G.jsx)("div",{className:"text-right",children:sD(Number(null!==(n=d.currentPoints)&&void 0!==n?n:0),1)}),(0,G.jsx)("div",{children:"Avg Score"}),(0,G.jsx)("div",{className:"text-right",children:sD(Number(null!==(r=d.avgScore)&&void 0!==r?r:0),1)}),(0,G.jsx)("div",{children:"All-Play Win%"}),(0,G.jsxs)("div",{className:"text-right",children:[sD(null!==(a=100*d.allPlayWinPct)&&void 0!==a?a:0,1),"%"]}),(0,G.jsx)("div",{children:"Projected Wins"}),(0,G.jsx)("div",{className:"text-right",children:sD(Number(null!==(o=d.projectedWins)&&void 0!==o?o:0),2)}),(0,G.jsx)("div",{children:"Projected Points"}),(0,G.jsx)("div",{className:"text-right",children:sD(Number(null!==(l=d.projectedPoints)&&void 0!==l?l:0),1)})]}),(null===(c=d.remainingOpponents)||void 0===c?void 0:c.length)>0&&(0,G.jsxs)("div",{className:"mt-2",children:[(0,G.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Remaining Opponents"}),(0,G.jsx)("ul",{className:"text-xs text-gray-700 max-h-24 overflow-auto space-y-1",children:d.remainingOpponents.slice().sort((e,t)=>e.week-t.week).map((t,n)=>{var r,a,o;return(0,G.jsxs)("li",{className:"flex justify-between",children:[(0,G.jsxs)("span",{children:["Week ",t.week]}),(0,G.jsx)("span",{className:"truncate ml-2",children:s(i?null===(r=e.rostersBySeason)||void 0===r||null===(a=r[i])||void 0===a||null===(o=a.find(e=>String(e.roster_id)===String(t.opponentId)))||void 0===o?void 0:o.owner_id:void 0,i||void 0)})]},n)})})]})]})]})};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,G.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800",children:m?"Playoff Bracket":"Projected Playoff Bracket"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Playoffs start Week ",f]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Round 1"}),d.map((e,t)=>{var n,r;return(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:null===(n=e.higher)||void 0===n?void 0:n.seed,team:e.higher}),(0,G.jsx)("div",{className:"text-center text-xs text-gray-400",children:"vs"}),(0,G.jsx)(p,{seed:null===(r=e.lower)||void 0===r?void 0:r.seed,team:e.lower})]})},t)})]}),(0,G.jsxs)("div",{className:"space-y-10",children:[(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Semifinals"}),(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:1,team:h[0]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:"vs lowest remaining seed"})]})}),(0,G.jsx)("div",{className:"relative",children:(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)(p,{seed:2,team:h[1]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:"vs highest remaining seed"})]})})]})]}),(0,G.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Seeding: 1-4 by record (tiebreaker points); 5-6 by points among remaining. Semifinals reseed: 1 vs lowest remaining, 2 vs highest remaining."})]})},DB=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,transactions:a,nflPlayers:s,loading:o,error:i,currentSeason:l,nflState:c}=$(),d=(0,t.useMemo)(()=>{var t,a;if(!e||!l||!c)return[];const s=c.week?parseInt(c.week):1;let o=l;if(!o){const t=Object.keys(e.matchupsBySeason||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===(t=e.matchupsBySeason)||void 0===t?void 0:t[o])||[],u=(null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[];return i.filter(e=>parseInt(e.week)===s).map(e=>{var t,a;const s=u.find(t=>String(t.roster_id)===String(e.team1_roster_id)),i=u.find(t=>String(t.roster_id)===String(e.team2_roster_id)),l=null===s||void 0===s?void 0:s.owner_id,c=null===i||void 0===i?void 0:i.owner_id;return{team1:{ownerId:l,name:n(l,o),score:e.team1_score||0,avatar:null===(t=r(l,o))||void 0===t?void 0:t.avatar},team2:{ownerId:c,name:n(c,o),score:e.team2_score||0,avatar:null===(a=r(c,o))||void 0===a?void 0:a.avatar},week:e.week,isCompleted:(e.team1_score||0)>0||(e.team2_score||0)>0}})},[e,l,c,n,r]),h=(0,t.useMemo)(()=>a&&0!==a.length?[...a].filter(e=>"failed"!==e.status&&"commissioner"!==e.creator&&"commissioner"!==e.type).sort((e,t)=>t.created-e.created).slice(0,10).map(t=>{var a;let o=l;if(!o){const t=Object.keys((null===e||void 0===e?void 0:e.rostersBySeason)||{});t.length>0&&(o=Math.max(...t.map(Number)).toString())}const i=(null===e||void 0===e||null===(a=e.rostersBySeason)||void 0===a?void 0:a[o])||[],c=[];t.roster_ids&&t.roster_ids.length>0&&t.roster_ids.forEach(e=>{const t=i.find(t=>String(t.roster_id)===String(e));var a;t&&c.push({ownerId:t.owner_id,name:n(t.owner_id,o),avatar:null===(a=r(t.owner_id,o))||void 0===a?void 0:a.avatar})});let d=null;"trade"===t.type&&(d=c.map(e=>{const n=t.roster_ids.find(t=>{const n=i.find(e=>String(e.roster_id)===String(t));return(null===n||void 0===n?void 0:n.owner_id)===e.ownerId}),r=[],a=[];return t.adds&&Object.keys(t.adds).forEach(e=>{if(String(t.adds[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];r.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}}),t.drops&&Object.keys(t.drops).forEach(e=>{if(String(t.drops[e])===String(n)){const t=null===s||void 0===s?void 0:s[e];a.push({id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null})}}),u(u({},e),{},{receives:r,sends:a})}));const h=Object.keys(t.adds||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}}),f=Object.keys(t.drops||{}).map(e=>{const t=null===s||void 0===s?void 0:s[e];return{id:e,name:t?"".concat(t.first_name," ").concat(t.last_name):"Player ".concat(e),position:(null===t||void 0===t?void 0:t.position)||"N/A",team:(null===t||void 0===t?void 0:t.team)||"FA",headshot:t?"https://sleepercdn.com/content/nfl/players/thumb/".concat(e,".jpg"):null}});return{id:t.transaction_id,type:t.type,status:t.status,created:new Date(t.created),teamDetails:c,addedPlayers:h,droppedPlayers:f,tradeDetails:d,waiver_budget:t.waiver_budget||[]}}):[],[a,e,l,n]),f=e=>{switch(e){case"waiver":return"Waiver";case"free_agent":return"Free Agent";case"trade":return"Trade";default:return e}},m=e=>{const{addedPlayers:t,droppedPlayers:n}=e;if("trade"===e.type){const e=t.length+n.length;return"Trade involving ".concat(e," player").concat(1!==e?"s":"")}return t.length>0&&n.length>0?"Added ".concat(t[0].name,", dropped ").concat(n[0].name):t.length>0?"Added ".concat(t[0].name):n.length>0?"Dropped ".concat(n[0].name):"Transaction processed"};return o?(0,G.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-blue-50 to-gray-100 py-8",children:(0,G.jsx)("div",{className:"text-xl text-gray-500 animate-pulse",children:"Loading dashboard..."})}):i?(0,G.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-red-50 to-gray-100 py-8",children:(0,G.jsxs)("div",{className:"text-xl text-red-500",children:["Error: ",i]})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("style",{children:"\n                @keyframes scroll {\n                    0% { transform: translateX(0%); }\n                    100% { transform: translateX(-100%); }\n                }\n                .animate-scroll {\n                    animation: scroll 90s linear infinite;\n                }\n            "}),(0,G.jsxs)("div",{className:"w-full max-w-7xl mx-auto p-2 sm:p-4 md:p-8 font-inter space-y-4 sm:space-y-6 md:space-y-8",children:[(0,G.jsxs)("div",{className:"text-center px-2",children:[(0,G.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mb-2",children:"TLOED Dashboard"}),(0,G.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:[l?"".concat(l," Season"):"Fantasy Football League",null!==c&&void 0!==c&&c.week?" \u2022 Week ".concat(c.week):""]})]}),(0,G.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:(0,G.jsx)("div",{className:"xl:col-span-3",children:(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[(0,G.jsxs)("div",{className:"flex items-center py-2 px-4 bg-gray-50 border-b border-gray-200",children:[(0,G.jsx)("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,G.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Week ",(null===c||void 0===c?void 0:c.week)||1," Matchups"]})]}),(0,G.jsx)("div",{className:"relative h-20 overflow-hidden",children:(0,G.jsx)("div",{className:"absolute whitespace-nowrap flex items-center h-full animate-scroll",children:d.length>0?(0,G.jsxs)(G.Fragment,{children:[d.map((e,t)=>{const n=Number(e.team1.score||0),r=Number(e.team2.score||0),a=0===n&&0===r;return(0,G.jsx)("div",{className:"mx-6 bg-gray-50 rounded-lg px-4 py-3 border border-gray-200 min-w-[260px]",children:a?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:n>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:sD(n)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:r>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:sD(r)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"first-".concat(t))}),d.map((e,t)=>{const n=Number(e.team1.score||0),r=Number(e.team2.score||0),a=0===n&&0===r;return(0,G.jsx)("div",{className:"mx-6 bg-gray-50 rounded-lg px-4 py-3 border border-gray-200 min-w-[260px]",children:a?(0,G.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-semibold",children:"vs"}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-6 h-6 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[160px]",children:e.team2.name})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team1.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team1.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team1.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:n>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:sD(n)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("img",{src:e.team2.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.team2.name,className:"w-7 h-7 rounded-full border border-gray-300 flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[140px]",children:e.team2.name})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-right ml-4 w-20",children:r>0?(0,G.jsx)("div",{className:"text-sm font-bold text-gray-800",children:sD(r)}):(0,G.jsx)("div",{className:"text-xs text-gray-500",children:"\xa0"})})]})]})},"second-".concat(t))})]}):(0,G.jsx)("div",{className:"text-sm text-gray-500 mx-4",children:"No matchups available for this week"})})})]})})}),(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-lg mobile-card",children:(0,G.jsx)(hD,{})}),(0,G.jsx)(CB,{}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mobile-card p-4 sm:p-6",children:[(0,G.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-800 mb-4 sm:mb-6 flex items-center",children:[(0,G.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),(0,G.jsx)("span",{className:"mobile-text-lg",children:"Recent Transactions"})]}),(0,G.jsx)("div",{className:"space-y-4",children:h.length>0?h.map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-2 sm:gap-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,G.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:f(e.type)}),(0,G.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("complete"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,G.jsxs)("div",{className:"text-left sm:text-right",children:[(0,G.jsx)("div",{className:"text-xs text-gray-600",children:e.created.toLocaleDateString()}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:e.created.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),"trade"===e.type&&e.tradeDetails?(0,G.jsx)("div",{className:"space-y-3",children:e.tradeDetails.map((e,t)=>(0,G.jsxs)("div",{className:"bg-white rounded-lg p-3 border",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 mb-3 pb-2 border-b",children:[(0,G.jsx)("img",{src:e.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.name,className:"w-8 h-8 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("div",{children:(0,G.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name})})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.sends&&e.sends.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),(0,G.jsx)("span",{className:"font-medium text-red-700 text-sm",children:"Sends"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.sends.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-2 bg-red-50 rounded p-2",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-8 h-8 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]}),e.receives&&e.receives.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),(0,G.jsx)("span",{className:"font-medium text-green-700 text-sm",children:"Receives"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.receives.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 rounded p-2",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-8 h-8 rounded-full border object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \u2022 ",e.team]})]})]},t))})]})]})]},t))}):(0,G.jsxs)("div",{className:"space-y-3",children:[e.teamDetails&&e.teamDetails.length>0&&(0,G.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,G.jsx)("img",{src:e.teamDetails[0].avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:e.teamDetails[0].name,className:"w-10 h-10 rounded-full border border-gray-300",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"font-semibold text-gray-800",children:e.teamDetails[0].name}),(0,G.jsx)("p",{className:"text-sm text-gray-500",children:m(e)})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.addedPlayers.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,G.jsx)("span",{className:"font-medium text-green-700",children:"Added"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.addedPlayers.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-10 h-10 rounded-full border border-green-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,G.jsx)("div",{className:"text-sm text-green-700",children:e.position}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.team})]})]},t))})]}),e.droppedPlayers.length>0&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,G.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})}),(0,G.jsx)("span",{className:"font-medium text-red-700",children:"Dropped"})]}),(0,G.jsx)("div",{className:"space-y-2",children:e.droppedPlayers.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center space-x-3 bg-red-50 rounded-lg p-3 border border-red-200",children:[(0,G.jsx)("img",{src:e.headshot,alt:e.name,className:"w-10 h-10 rounded-full border border-red-300 object-cover",onError:e=>{e.target.style.display="none"}}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,G.jsx)("div",{className:"text-sm text-red-700",children:e.position}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.team})]})]},t))})]})]})]})]},e.id)):(0,G.jsx)("div",{className:"text-center text-gray-500 py-8 text-base",children:"No recent transactions"})})]})]})]})},MB=e=>{let{selectedTeamName:n}=e;const{loading:r,error:a,careerDPRData:s,getTeamName:o}=$(),[i,l]=(0,t.useState)(""),[c,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!r&&!a&&s){const e=s.map(e=>o(e.ownerId,null)).filter(e=>e&&!e.startsWith("Unknown Team (ID:")).sort((e,t)=>e.localeCompare(t));u(e),e.length>0&&(n&&e.includes(n)?l(n):i||l(e[0]))}},[r,a,s,o,n,i]);return r?(0,G.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"Loading league data for teams..."}):a?(0,G.jsxs)("div",{className:"w-full p-8 text-center text-red-500 font-semibold",children:["Error loading league data: ",a.message||String(a)]}):0===c.length?(0,G.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"No teams found or data is not yet available."}):(0,G.jsxs)("div",{className:"container mx-auto p-4",children:[(0,G.jsxs)("div",{className:"mb-6 text-center",children:[(0,G.jsx)("label",{htmlFor:"team-select",className:"block text-lg font-medium text-gray-700 mb-2",children:"Select a Team:"}),(0,G.jsx)("select",{id:"team-select",value:i,onChange:e=>{l(e.target.value)},className:"mt-1 block w-full md:w-1/2 lg:w-1/3 mx-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm",children:c.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]}),i&&(0,G.jsx)(gM,{teamName:i})]})},RB=()=>{var e,n;const{loading:r,error:a,historicalData:o,getTeamName:i,getTeamDetails:l,currentSeason:c,nflState:u}=$(),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)("N/A"),[x,b]=(0,t.useState)("N/A"),[w,S]=(0,t.useState)("N/A"),[k,j]=(0,t.useState)(""),[_,N]=(0,t.useState)([]),{seasonalMetrics:P,careerDPRData:E}=(0,t.useMemo)(()=>!o||!u||r||a?{seasonalMetrics:{},careerDPRData:[]}:s(o,0,i,u),[o,u,r,a,i]);if((0,t.useEffect)(()=>{if(!r&&!a&&o){const e=new Set;P&&Object.keys(P).length>0?Object.keys(P).forEach(t=>e.add(Number(t))):(o.matchupsBySeason&&Object.keys(o.matchupsBySeason).forEach(t=>e.add(Number(t))),o.seasonAwardsSummary&&Object.keys(o.seasonAwardsSummary).forEach(t=>e.add(Number(t))),o.winnersBracketBySeason&&Object.keys(o.winnersBracketBySeason).forEach(t=>e.add(Number(t))));const t=Array.from(e).sort((e,t)=>t-e);if(m(t),t.length>0){const e=c&&t.includes(Number(c))?Number(c):t[0];h(e)}}},[r,a,o,P,c]),(0,t.useEffect)(()=>{if(d&&o&&P[d]){const e=P[d],t=o.rostersBySeason[d];if(!e||!t)return g([]),v("N/A"),b("N/A"),void S("N/A");const n=Object.values(e).map(e=>({teamName:e.teamName,wins:e.wins,losses:e.losses,ties:e.ties,pointsFor:e.pointsFor,pointsAgainst:e.pointsAgainst,rosterId:e.rosterId,ownerId:e.ownerId})).sort((e,t)=>t.wins!==e.wins?t.wins-e.wins:e.losses!==t.losses?e.losses-t.losses:t.pointsFor-e.pointsFor);g(n);let r="N/A",a="N/A",s="N/A";if(o.winnersBracketBySeason&&o.winnersBracketBySeason[d]){const e=o.winnersBracketBySeason[d],n=e.find(e=>1===e.p&&e.w&&e.l);if(n){const e=String(n.w).trim(),s=String(n.l).trim(),o=t.find(t=>String(t.roster_id)===e),l=t.find(e=>String(e.roster_id)===s);o&&o.owner_id&&(r=i(o.owner_id,d)),l&&l.owner_id&&(a=i(l.owner_id,d))}const l=e.find(e=>3===e.p&&e.w);if(l){const e=String(l.w).trim(),n=t.find(t=>String(t.roster_id)===e);n&&n.owner_id&&(s=i(n.owner_id,d))}}if("N/A"===r&&o.seasonAwardsSummary&&o.seasonAwardsSummary[d]){const e=o.seasonAwardsSummary[d];if(e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()){const t=e.champion.trim(),n=i(t,d);r="Unknown Team"!==n?n:t}}if("N/A"===r&&o.awardsSummary&&o.awardsSummary[d]){const e=o.awardsSummary[d],t=e.champion||e.Champion;if(t&&"N/A"!==t&&""!==String(t).trim()){const e=String(t).trim(),n=i(e,d);r="Unknown Team"!==n?n:e}}v(r),b(a),S(s)}else d||(g([]),v("N/A"),b("N/A"),S("N/A"))},[d,o,P,i]),r)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading season data..."})]})});if(a)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load season data: ",a.message||String(a)]})]})});const O=e=>{const t=p.find(t=>String(t.rosterId)===String(e));return t?t.teamName:"Unknown"},A=e=>{if("number"===typeof e&&!isNaN(e)){const t=e.toFixed(3);return e<1?t.replace(/^0/,""):t}return"N/A"};let I=null;if(d&&P[d]){const e=Object.values(P[d]),t=e.reduce((e,t)=>e.pointsFor>t.pointsFor?e:t,{}),n=e.reduce((e,t)=>e.wins>t.wins?e:t,{}),r=e.reduce((e,t)=>e.luckRating>t.luckRating?e:t,{}),a=e.reduce((e,t)=>e.luckRating<t.luckRating?e:t,{}),s=e.reduce((e,t)=>e.allPlayWinPercentage>t.allPlayWinPercentage?e:t,{}),i=e.reduce((e,t)=>e.blowoutWins>t.blowoutWins?e:t,{}),l=e.reduce((e,t)=>e.slimWins>t.slimWins?e:t,{}),c=e.reduce((e,t)=>e.topScoreWeeksCount>t.topScoreWeeksCount?e:t,{});let u={score:-1/0,team:null,week:null},h={score:1/0,team:null,week:null};o.matchupsBySeason&&o.matchupsBySeason[d]&&o.matchupsBySeason[d].forEach(e=>{"number"===typeof e.team1_score&&e.team1_score>u.score&&(u={score:e.team1_score,team:O(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>u.score&&(u={score:e.team2_score,team:O(e.team2_roster_id),week:e.week}),"number"===typeof e.team1_score&&e.team1_score>0&&e.team1_score<h.score&&(h={score:e.team1_score,team:O(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>0&&e.team2_score<h.score&&(h={score:e.team2_score,team:O(e.team2_roster_id),week:e.week})}),h.score===1/0&&(h={score:"N/A",team:"N/A",week:"N/A"}),I={pointsChampion:t,bestRecord:n,luckiest:r,unluckiest:a,allPlayChamp:s,blowoutKing:i,slimMaster:l,topScorer:c,highestWeek:u,lowestWeek:h}}const{allPlayStandings:T,weeklyPointsMap:C,scheduleMap:D}=(0,t.useMemo)(()=>{var e;const t={allPlayStandings:[],weeklyPointsMap:{},scheduleMap:{}};if(!d||!o||!o.matchupsBySeason||!o.matchupsBySeason[d])return t;const n=o.matchupsBySeason[d]||[],r=[],a=new Set;n.forEach(e=>{const t=String(e.week),n=String(e.team1_roster_id),s=String(e.team2_roster_id);if(n===s)return;const o="".concat(t,":").concat([n,s].sort().join("-"));a.has(o)||(a.add(o),r.push(e))});const s=(null===(e=o.rostersBySeason)||void 0===e?void 0:e[d])||[],l=s.map(e=>String(e.roster_id)),h=new Set(l),f={},m={};s.forEach(e=>{const t=String(e.roster_id);f[t]=e.owner_id,m[t]=i?i(e.owner_id,d):e.team_name||"Roster ".concat(t)});const p={},g={},y={},v=[];l.forEach(e=>{p[e]={},g[e]={},y[e]=0}),r.forEach(e=>{const t=Number(e.week);if(isNaN(t)||t<1||t>14)return;const n="number"===typeof e.team1_score&&!isNaN(e.team1_score),r="number"===typeof e.team2_score&&!isNaN(e.team2_score);if(!n||!r)return;const a=String(t),s=String(e.team1_roster_id),o=String(e.team2_roster_id),i=Number(e.team1_score),l=Number(e.team2_score);h.has(s)&&(p[s][a]=i),h.has(o)&&(p[o][a]=l),h.has(s)&&(g[s][a]={opponentId:o,opponentPoints:l}),h.has(o)&&(g[o][a]={opponentId:s,opponentPoints:i}),h.has(s)&&h.has(o)&&i===l&&(y[s]=(y[s]||0)+1,y[o]=(y[o]||0)+1,v.push({week:a,roster1:s,roster2:o,score:i}))});const x={};l.forEach(e=>{x[e]={wins:0,losses:0,ties:0,pointsFor:0}});const b=new Set;l.forEach(e=>{Object.keys(p[e]||{}).forEach(e=>{const t=Number(e);!isNaN(t)&&t>=1&&t<=14&&b.add(String(t))})});const w=Array.from(b).sort((e,t)=>Number(e)-Number(t)),S=w.filter(e=>l.every(t=>p[t]&&Object.prototype.hasOwnProperty.call(p[t],e)));let k=S;const j=u&&u.week?Number(u.week):null;Number(d)===Number(c)&&j&&!isNaN(j)&&(k=k.filter(e=>Number(e)<j)),k.forEach(e=>{const t=l.map(t=>{var n;return{rid:t,pts:null!==(n=p[t][e])&&void 0!==n?n:0}});t.forEach(e=>{const n=e.pts;let r=0,a=0,s=0;t.forEach(t=>{t.rid!==e.rid&&(n>t.pts?r++:n<t.pts?a++:s++)}),x[e.rid].wins+=r,x[e.rid].losses+=a,x[e.rid].ties+=s,x[e.rid].pointsFor+=n})});const _=v.filter(e=>k.includes(String(e.week))),N={};l.forEach(e=>{N[e]=0}),_.forEach(e=>{h.has(e.roster1)&&(N[e.roster1]=(N[e.roster1]||0)+1),h.has(e.roster2)&&(N[e.roster2]=(N[e.roster2]||0)+1)});const P=l.map(e=>{const t=m[e]||O(e)||e,n=x[e],r=n.wins+n.losses+n.ties,a=r>0?(n.wins+.5*n.ties)/r:0,s=k.length||14,o=N[e]||0,i=Math.max(0,Math.min(o,s));return{rosterId:e,teamName:t,wins:n.wins,losses:n.losses,ties:i,pointsFor:n.pointsFor,pct:a}}).sort((e,t)=>t.pct-e.pct||t.pointsFor-e.pointsFor);return t.allPlayStandings=P,t.weeklyPointsMap=p,t.scheduleMap=g,t.headToHeadTies=N,t.weeksUsed=k,t.tieMatchups=_,t},[d,o,u,i,p,c]),M=(0,t.useCallback)((e,t)=>{if(!e||!t)return null;const n=D[t]?Object.keys(D[t]):[];let r=0,a=0,s=0,o=0,i=0,l=0;const h=u&&u.week?Number(u.week):null,f=Number(d)===Number(c);n.forEach(n=>{var c,u,d,m;const p=Number(n);if(f&&!isNaN(h)&&h&&p>=h)return;const g=D[t][n];if(g&&String(g.opponentId)===String(e))return;const y=null===(c=C[e])||void 0===c?void 0:c[n],v=g&&null!==(u=null!==(d=null===(m=C[g.opponentId])||void 0===m?void 0:m[n])&&void 0!==d?d:g.opponentPoints)&&void 0!==u?u:null,x="number"===typeof y&&!isNaN(y),b="number"===typeof v&&!isNaN(v);x&&b&&(o+=y,i+=v,l++,y>v?r++:y<v?a++:s++)});const m=r+a+s;return{wins:r,losses:a,ties:s,pointsFor:o,pointsAgainst:i,pct:m>0?(r+.5*s)/m:0,totalWeeks:l}},[C,D,u,d,c]),R="N/A"!==y||"N/A"!==x||"N/A"!==w,L=(p.some(e=>e.ties&&e.ties>0),(T||[]).some(e=>e.ties&&e.ties>0));return(0,G.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,G.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Season Breakdown"}),(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"text-lg font-semibold text-gray-700",children:"Select Season:"}),(0,G.jsxs)("select",{id:"season-select",value:d||"",onChange:e=>h(Number(e.target.value)),className:"p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-800 text-lg",children:[0===f.length&&(0,G.jsx)("option",{value:"",children:"No Seasons Available"}),f.map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),d&&(0,G.jsxs)("div",{className:"mt-8",children:[(0,G.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-20 text-center",children:[d," Season Summary"]}),R&&(0,G.jsxs)("div",{className:"relative flex justify-center items-end h-56 gap-2 md:gap-4 mb-8",children:["N/A"!==x&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-4/5 bg-gray-300 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,G.jsx)("i",{className:"fas fa-trophy text-gray-500 text-5xl"})}),(0,G.jsx)("span",{className:"text-xl md:text-2xl font-bold text-gray-700",children:"2nd Place"}),(0,G.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800",children:x})]}),"N/A"!==y&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-full bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2",children:(0,G.jsx)("span",{className:"text-7xl",children:"\ud83c\udfc6"})}),(0,G.jsx)("span",{className:"text-2xl md:text-3xl font-bold text-white",children:"SWEEN BOWL CHAMPION"}),(0,G.jsx)("p",{className:"text-lg md:text-xl font-semibold text-white",children:y})]}),"N/A"!==w&&(0,G.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-3/5 bg-amber-700 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center text-white transition-all duration-300 hover:scale-105",children:[(0,G.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,G.jsx)("i",{className:"fas fa-trophy text-amber-800 text-5xl"})}),(0,G.jsx)("span",{className:"text-xl md:text-2xl font-bold",children:"3rd Place"}),(0,G.jsx)("p",{className:"text-base md:text-lg font-semibold",children:w})]})]}),I&&(0,G.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[(0,G.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-blue-700 mb-1",children:"Points Champion"}),(0,G.jsxs)("div",{children:[I.pointsChampion.teamName," (",sD(Number(null!==(e=I.pointsChampion.pointsFor)&&void 0!==e?e:0),2)," pts)"]})]}),(0,G.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-green-700 mb-1",children:"Best Record"}),(0,G.jsxs)("div",{children:[I.bestRecord.teamName," (",I.bestRecord.wins,"-",I.bestRecord.losses,"-",I.bestRecord.ties,")"]})]}),(0,G.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-yellow-700 mb-1",children:"Luckiest Team"}),(0,G.jsxs)("div",{children:[I.luckiest.teamName," (","number"===typeof I.luckiest.luckRating?sD(I.luckiest.luckRating,3):"N/A",")"]})]}),(0,G.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-red-700 mb-1",children:"Unluckiest Team"}),(0,G.jsxs)("div",{children:[I.unluckiest.teamName," (","number"===typeof I.unluckiest.luckRating?sD(I.unluckiest.luckRating,3):"N/A",")"]})]}),(0,G.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-purple-700 mb-1",children:"All-Play Champion"}),(0,G.jsxs)("div",{children:[I.allPlayChamp.teamName," (",sD(null!==(n=100*I.allPlayChamp.allPlayWinPercentage)&&void 0!==n?n:0,1),"%)"]})]}),(0,G.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-pink-700 mb-1",children:"Blowout King"}),(0,G.jsxs)("div",{children:[I.blowoutKing.teamName," (",I.blowoutKing.blowoutWins," blowout wins)"]})]}),(0,G.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-orange-700 mb-1",children:"Slim Margin Master"}),(0,G.jsxs)("div",{children:[I.slimMaster.teamName," (",I.slimMaster.slimWins," slim wins)"]})]}),(0,G.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-indigo-700 mb-1",children:"Weekly Top Scorer"}),(0,G.jsxs)("div",{children:[I.topScorer.teamName," (",I.topScorer.topScoreWeeksCount," times)"]})]}),(0,G.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-teal-700 mb-1",children:"Highest Single-Week Score"}),(0,G.jsxs)("div",{children:[I.highestWeek.team," (",sD("number"===typeof I.highestWeek.score?I.highestWeek.score:NaN,2)," pts, Week ",I.highestWeek.week,")"]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 shadow",children:[(0,G.jsx)("h4",{className:"font-bold text-gray-700 mb-1",children:"Lowest Single-Week Score"}),(0,G.jsxs)("div",{children:[I.lowestWeek.team," (",sD("number"===typeof I.lowestWeek.score?I.lowestWeek.score:NaN,2)," pts, Week ",I.lowestWeek.week,")"]})]})]}),(0,G.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Season Standings"}),p.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3",children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===P||void 0===P||null===(n=P[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,f=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,m="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?sD(c.luckRating,3):"N/A";return(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["Record: ",m," \u2022 DPR: ",u?sD(Number(u),3):"N/A"]})]})]}),(0,G.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,G.jsxs)("div",{children:["PF: ",sD(Number(h),2)]}),(0,G.jsxs)("div",{children:["PA: ",sD(Number(f),2)]}),(0,G.jsxs)("div",{children:["Luck: ",p]})]})]})},e.rosterId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto shadow-lg rounded-lg",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,G.jsx)("thead",{className:"bg-blue-50 sticky top-0 z-10",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Rank"}),(0,G.jsx)("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider border-b",children:"Team"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"DPR"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Record"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PF"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"PA"}),(0,G.jsx)("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase tracking-wider border-b",children:"Luck"})]})}),(0,G.jsx)("tbody",{children:p.map((e,t)=>{var n,r,a,s,o,i,l;const c=(null===P||void 0===P||null===(n=P[d])||void 0===n?void 0:n[e.rosterId])||{},u=null!==(r=null!==(a=c.adjustedDPR)&&void 0!==a?a:c.dpr)&&void 0!==r?r:null,h=null!==(s=null!==(o=c.pointsFor)&&void 0!==o?o:e.pointsFor)&&void 0!==s?s:0,f=null!==(i=null!==(l=c.pointsAgainst)&&void 0!==l?l:e.pointsAgainst)&&void 0!==i?i:0,m="".concat(e.wins||0,"-").concat(e.losses||0).concat(e.ties?"-".concat(e.ties):""),p="number"===typeof c.luckRating?sD(c.luckRating,3):"N/A";return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-3 px-4 font-medium",children:t+1}),(0,G.jsx)("td",{className:"py-3 px-4",children:e.teamName}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:u?sD(Number(u),3):"N/A"}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:m}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:sD(Number(h),2)}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:sD(Number(f),2)}),(0,G.jsx)("td",{className:"py-3 px-4 text-center",children:p})]},e.rosterId)})})]})})]}):(0,G.jsx)("p",{className:"text-center text-gray-600",children:"No standings data available for this season."}),(0,G.jsxs)("div",{className:"mt-8",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"All-Play Standings"}),T&&T.length>0?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-3 mb-4",children:T.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 border-l-4 border-purple-600",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-semibold text-sm truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:["W/L: ",e.wins,"/",e.losses]})]})]}),(0,G.jsxs)("div",{className:"text-sm text-gray-600",children:["Pct: ",A(e.pct)]})]})},e.rosterId))}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mb-6",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,G.jsx)("thead",{className:"bg-purple-50 text-gray-700 uppercase text-sm",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-4 text-left",children:"Rank"}),(0,G.jsx)("th",{className:"py-2 px-4 text-left",children:"Team"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Wins"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Losses"}),L&&(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Ties"}),(0,G.jsx)("th",{className:"py-2 px-4 text-center",children:"Pct"})]})}),(0,G.jsx)("tbody",{children:T.map((e,t)=>(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-4 font-semibold",children:t+1}),(0,G.jsx)("td",{className:"py-2 px-4",children:e.teamName}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.wins}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.losses}),L&&(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:e.ties}),(0,G.jsx)("td",{className:"py-2 px-4 text-center",children:A(e.pct)})]},e.rosterId))})]})})]}):(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"All-play data is not available for this season."}),(0,G.jsxs)("div",{className:"mt-4 bg-green-50 p-4 rounded-lg shadow",children:[(0,G.jsx)("h4",{className:"font-semibold mb-2",children:"Hypothetical Schedule"}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select a subject team below to simulate hypothetical W/L results against each other team's schedules."}),(0,G.jsxs)("div",{className:"mb-3",children:[(0,G.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Subject Team"}),(0,G.jsxs)("select",{className:"w-full p-2 border rounded",value:k,onChange:e=>j(e.target.value),children:[(0,G.jsx)("option",{value:"",children:"Select team"}),T.map(e=>(0,G.jsx)("option",{value:e.rosterId,children:e.teamName},e.rosterId))]})]}),(0,G.jsx)("div",{id:"hypo-results",children:k?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"sm:hidden space-y-2 mt-3",children:T.filter(e=>e.rosterId!==k).map((e,t)=>{const n=M(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-3 flex items-center justify-between border-l-4 border-green-600",children:[(0,G.jsx)("div",{className:"font-semibold truncate",children:e.teamName}),(0,G.jsxs)("div",{className:"text-sm text-gray-600",children:[n.wins," - ",n.losses," \u2022 ",A(n.pct)]})]},e.rosterId)})}),(0,G.jsx)("div",{className:"hidden sm:block overflow-x-auto rounded-lg shadow-md mt-3",children:(0,G.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,G.jsx)("thead",{className:"bg-green-50 text-gray-700 uppercase text-sm",children:(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{className:"py-2 px-3 text-left",children:"Opponent"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"W"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"L"}),(0,G.jsx)("th",{className:"py-2 px-3 text-center",children:"Win %"})]})}),(0,G.jsx)("tbody",{children:T.filter(e=>e.rosterId!==k).map((e,t)=>{const n=M(k,e.rosterId)||{wins:0,losses:0,pct:0};return(0,G.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,G.jsx)("td",{className:"py-2 px-3 font-semibold",children:e.teamName}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:n.wins}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:n.losses}),(0,G.jsx)("td",{className:"py-2 px-3 text-center",children:A(n.pct)})]},e.rosterId)})})]})})]}):(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a subject team to see hypothetical results vs the other schedules."})})]})]})]}),!d&&!r&&!a&&(0,G.jsx)("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Please select a season from the dropdown to view its breakdown."})]})},LB=()=>{var e;const{loading:n,error:r,historicalData:a,usersData:s,getTeamName:o,allDraftHistory:i,processedSeasonalRecords:l}=$(),[c,d]=(0,t.useState)([]),[f,m]=(0,t.useState)(null),[p,y]=(0,t.useState)(null),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)(null),[j,_]=(0,t.useState)(null),[N,P]=(0,t.useState)([]),[O,A]=(0,t.useState)({}),[T,V]=(0,t.useState)("board"),[H,q]=(0,t.useState)(null);h.A.debug("--- DraftAnalysis Component Render ---"),h.A.debug("Loading:",n),h.A.debug("Error:",r),h.A.debug("Historical Data (raw):",a),h.A.debug("Users Data (raw):",s),h.A.debug("------------------------------------");const K=(0,t.useCallback)((e,t,n)=>{const r=null===n||void 0===n?void 0:n[t],a=null===r||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e));return a?a.owner_id:null},[]);(0,t.useEffect)(()=>{if(h.A.debug("useEffect: Populating seasons and setting default season."),h.A.debug("Current loading status:",n),h.A.debug("Current error status:",r),h.A.debug("Historical Data in season useEffect:",a),!n&&!r&&a&&a.draftsBySeason){const e=Object.keys(a.draftsBySeason).map(Number).sort((e,t)=>t-e);d(e),e.length>0&&!f&&m("Overview")}},[n,r,a,f]),(0,t.useEffect)(()=>{(async()=>{if(f&&"number"===typeof f&&a&&a.draftsBySeason){const e=a.draftsBySeason[f];if(e&&e.league_id){h.A.debug("Fetching league settings for league ID: ".concat(e.league_id));const t=await B(e.league_id);k(t);const n=await F(e.league_id);_(n)}else h.A.debug("No league ID found for season ".concat(f," to fetch league settings.")),k(null),_(null)}else k(null),_(null)})()},[f,a]),(0,t.useEffect)(()=>{h.A.debug("useEffect: Processing draft data for selected season and board structure."),h.A.debug("Current selectedSeason:",f),h.A.debug("Historical Data in draft processing useEffect:",a),h.A.debug("Users Data in draft processing useEffect:",s),h.A.debug("League Scoring Settings:",S),h.A.debug("League Roster Settings:",j);(async()=>{var e,t,n,r;if(!f||"Overview"===f||!a||!a.draftsBySeason||!a.draftPicksBySeason||!s)return h.A.debug("Missing data dependencies for draft processing or Overview selected (selectedSeason, historicalData.draftsBySeason, historicalData.draftPicksBySeason, usersData, leagueScoringSettings, or leagueRosterSettings are not fully loaded or available)."),y(null),x([]),P([]),A({}),void w([]);const i=a.draftsBySeason[f],l=a.draftPicksBySeason[f],c=null===(e=a.leaguesMetadataBySeason)||void 0===e||null===(t=e[f])||void 0===t?void 0:t.league_id;let d=[];if(c){var m;const e=(null===(m=a.leaguesMetadataBySeason[f])||void 0===m?void 0:m.settings)||{},t=e.playoff_start_week?parseInt(e.playoff_start_week,10)+3:18;d=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;const n=await I(e)||[];let r=[];const a=[];for(let s=1;s<=t;s++)a.push(E(e,s).then(e=>e?e.filter(e=>{var t;return"trade"===e.type&&Array.isArray(null===(t=e.metadata)||void 0===t?void 0:t.traded_picks)}).flatMap(e=>e.metadata.traded_picks.map(t=>u(u({},t),{},{trade_transaction_id:e.transaction_id,trade_week:s,source:"transaction"}))):[]));return r=(await Promise.all(a)).flat(),[...(n||[]).map(e=>u(u({},e),{},{source:"endpoint"})),...r]}(c,t)}w(d),y(i);const v=i.draft_order,b=(null===(n=i.settings)||void 0===n?void 0:n.rounds)||0,k=(null===(r=i.settings)||void 0===r?void 0:r.teams)||12,_=Object.entries(v).reduce((e,t)=>{let[n,r]=t;return e[r]=n,e},{}),N=[];for(let a=1;a<=b;a++){let e=Array.from({length:k},(e,t)=>t+1);a%2===0&&(e=e.reverse()),N.push(e.map(e=>_[e]))}const O=N[0].map(e=>{var t,n,r;const i=s.find(t=>t.user_id===e),l=null===(t=a.rostersBySeason)||void 0===t||null===(n=t[f])||void 0===n?void 0:n.find(t=>String(t.owner_id)===String(e));return{userId:e,teamName:l&&(null===(r=l.metadata)||void 0===r?void 0:r.team_name)||o(e,f),teamAvatar:g(i?i.avatar:null)}});P(O);const T={},B=l.map(async e=>{var t,n;const r=C(e,s,a,f,o);r.pick_in_round=e.draft_slot;let l=null,c=0;if(!e.is_keeper&&e.player_id){var u,d;const t="DEF"===r.player_position?"".concat((null===(u=r.metadata)||void 0===u?void 0:u.first_name)||""," ").concat((null===(d=r.metadata)||void 0===d?void 0:d.last_name)||"").trim():r.player_name;l=await L(e.player_id,f,"regular",t),l&&S&&(c=W(l,S,r.player_position))}r.player_stats=l,r.fantasy_points=c;const m=D(r),p=((e,t,n)=>e<=0?0:5*(t*n-e+1))(r.pick_no,null===(t=i.settings)||void 0===t?void 0:t.rounds,null===(n=i.settings)||void 0===n?void 0:n.teams);return r.calculated_player_value=m,r.calculated_pick_slot_value=p,h.A.debug("Processed Pick ".concat(e.pick_no," (").concat(r.player_name,"):")),h.A.debug("  Fantasy Points: ".concat(r.fantasy_points)),h.A.debug("  Calculated Player Value: ".concat(r.calculated_player_value)),r}),F=await Promise.all(B),V=F.filter(e=>!e.is_keeper);let H={overall:[],positional:{}},G={},K=[],Y=new Map,Q=0;if(V.length>0&&j){if(H=U(V),Object.keys(H.positional).length>0){G=z(H.positional,j);for(const e in G)K.push(...G[e]);K.sort((e,t)=>t.vorp-e.vorp)}const e=l.length;Y=M(e);let t=0,n=0;V.forEach(e=>{const r=K.find(t=>t.player_id===e.player_id),a=r?r.vorp:0,s=Y.get(e.pick_no)||0,o=R(a,s);t+=o,n++}),Q=n>0?t/n:0}let X=F.map(e=>{let t=0,n=0,r=0,a=0;if(!e.is_keeper){const s=K.find(t=>t.player_id===e.player_id);t=s?s.vorp:0,n=Y.get(e.pick_no)||0,r=R(t,n),a=(r-Q)/10}return u(u({},e),{},{player_actual_vorp:t,draft_pick_assigned_vorp:n,vorp_delta:r,scaled_vorp_delta:a})});try{const e={},t=Object.keys(a.draftPicksBySeason||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const n of t){const t=(a.draftPicksBySeason[n]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const n of t){const t=n.player_id;t&&(n.is_keeper?e[t]?(e[t].yearsKept=(e[t].yearsKept||0)+1,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null):e[t]={yearsKept:1,lastPickedBy:n.picked_by||null}:(e[t]=e[t]||{yearsKept:0,lastPickedBy:n.picked_by||null},e[t].yearsKept=0,e[t].lastPickedBy=n.picked_by||e[t].lastPickedBy||null))}}X=X.map(t=>{const n=t.player_id;if(!n)return t;const r=(e[n]||{yearsKept:0}).yearsKept||0,a=Math.max(0,3-r);return u(u({},t),{},{keeper_years:r,keeper_remaining:a})})}catch(Z){h.A.warn("Error computing keeper history:",Z)}const $={};X.forEach(e=>{$[e.round]||($[e.round]={}),$[e.round][e.pick_in_round]=e});for(let a=1;a<=b;a++){let e=Array.from({length:k},(e,t)=>t+1);a%2===0&&(e=e.reverse()),T[a]||(T[a]=Array(k).fill(null));for(let t=0;t<k;t++){const n=e[t];_[n];let r=null;r=$[a]&&$[a][t+1]?$[a][t+1]:X.find(e=>e.round===a&&e.pick_in_round===t+1),T[a][t]=r||null}}A(T),x(X.sort((e,t)=>e.pick_no-t.pick_no));try{const e=X.filter(e=>!e.is_keeper&&"number"===typeof e.scaled_vorp_delta);if(e&&0!==e.length){var J;const t=e.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],n=e.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],r={};e.forEach(e=>{const t=e.picked_by||"unknown";r[t]||(r[t]={total:0,count:0,teamName:e.picked_by_team_name||"Unknown"}),r[t].total+=e.scaled_vorp_delta,r[t].count+=1,e.season&&(!r[t].latestSeason||e.season>r[t].latestSeason)&&(r[t].teamName=e.picked_by_team_name||r[t].teamName,r[t].latestSeason=e.season)});const a=Object.entries(r).map(e=>{let[t,n]=e;return{ownerId:t,team:n.teamName,totalScaledVorp:n.total}});a.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp);const s=a[0]||{team:"Unknown",totalScaledVorp:0},o=a[a.length-1]||{team:"Unknown",totalScaledVorp:0},i=[],l=(null===p||void 0===p||null===(J=p.settings)||void 0===J?void 0:J.rounds)||b||0;for(let c=1;c<=l;c++){const t=e.filter(e=>{var t;return(e.round||Math.ceil(e.pick_no/((null===p||void 0===p||null===(t=p.settings)||void 0===t?void 0:t.teams)||12)))===c});if(!t||0===t.length){i.push(null);continue}const n=t.slice().sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta)[0],r=t.slice().sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta)[0],a=t.reduce((e,t)=>e+(t.scaled_vorp_delta||0),0)/t.length;i.push({round:c,best:n,worst:r,avgScaledVorp:a})}q({bestTeam:s,worstTeam:o,bestPick:t,worstPick:n,roundSummaries:i})}else q(null)}catch(ee){h.A.warn("Error computing draftYearSummary:",ee),q(null)}})()},[f,a,s,o,K,S,j]);const[Y,Q]=(0,t.useState)(null),[X,J]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{(async()=>{if(h.A.debug("Computing overview data..."),h.A.debug("allDraftHistory:",i),h.A.debug("usersData:",s),h.A.debug("historicalData:",a),"Overview"===f&&null!==a&&void 0!==a&&a.draftsBySeason&&null!==a&&void 0!==a&&a.draftPicksBySeason&&s){J(!0);try{const e=Object.keys(a.draftsBySeason).map(async e=>{const t=Number(e),n=a.draftsBySeason[e],r=a.draftPicksBySeason[e];if(!n||!r||!r.length)return[];try{const i=await B(n.league_id),l=await F(n.league_id);if(!i||!l)return h.A.debug("Missing league settings for season ".concat(e)),[];const c=r.map(async e=>{const n=C(e,s,a,t,o);n.pick_in_round=e.draft_slot,n.season=t;let r=null,l=0;if(!e.is_keeper&&e.player_id){var c,u;const a="DEF"===n.player_position?"".concat((null===(c=n.metadata)||void 0===c?void 0:c.first_name)||""," ").concat((null===(u=n.metadata)||void 0===u?void 0:u.last_name)||"").trim():n.player_name;r=await L(e.player_id,t,"regular",a),r&&i&&(l=W(r,i,n.player_position))}return n.player_stats=r,n.fantasy_points=l,n}),d=await Promise.all(c),f=d.filter(e=>!e.is_keeper);let m=[],p=new Map,g=0;if(f.length>0&&l){const e=U(f);if(Object.keys(e.positional).length>0){const t=z(e.positional,l);for(const e in t)m.push(...t[e]);m.sort((e,t)=>t.vorp-e.vorp)}const t=r.length;p=M(t);let n=0,a=0;f.forEach(e=>{const t=m.find(t=>t.player_id===e.player_id),r=t?t.vorp:0,s=p.get(e.pick_no)||0,o=R(r,s);n+=o,a++}),g=a>0?n/a:0}const y=d.map(e=>{let n=0,r=0,a=0,s=0;if(!e.is_keeper){const t=m.find(t=>t.player_id===e.player_id);n=t?t.vorp:0,r=p.get(e.pick_no)||0,a=R(n,r),s=(a-g)/10}return u(u({},e),{},{player_actual_vorp:n,draft_pick_assigned_vorp:r,vorp_delta:a,scaled_vorp_delta:s,season:t})});return y}catch(i){return h.A.error("Error processing season ".concat(e,":"),i),[]}}),t=(await Promise.all(e)).flat().filter(Boolean);if(h.A.debug("Total processed picks with real VORP:",t.length),h.A.debug("Sample processed pick:",t[0]),0===t.length)return void Q({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]});const n=t.map(e=>{const t=e.round||Math.ceil(e.pick_no/12),n=e.draft_slot||(e.pick_no-1)%12+1;return u(u({},e),{},{round:t,pick_in_round:n,team:e.picked_by_team_name||"Unknown Team",player_name:e.player_name||"Unknown Player",position:e.player_position||"NA",team_abbrev:e.player_team||""})}),r=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta).slice(0,5),i=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta).slice(0,5),l={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t=e.picked_by||"unknown";l[t]||(l[t]={total:0,count:0,latestTeamName:e.team||"Unknown",latestSeason:e.season||0}),l[t].total+=e.scaled_vorp_delta,l[t].count+=1,e.season>l[t].latestSeason&&(l[t].latestTeamName=e.team||"Unknown",l[t].latestSeason=e.season)});const c=Object.entries(l).map(e=>{let[t,n]=e;return{ownerId:t,team:n.latestTeamName,value:n.count>0?n.total/n.count:0}}).sort((e,t)=>t.value-e.value),d=[],f={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t="".concat(e.season,"_").concat(e.picked_by);f[t]||(f[t]={season:e.season,ownerId:e.picked_by,team:e.team,totalScaledVorp:0,picks:[]}),f[t].totalScaledVorp+=e.scaled_vorp_delta,f[t].picks.push(e)}),Object.values(f).forEach(e=>{d.push(e)}),d.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp),h.A.debug("Overview data computed with real VORP values:",{topPicks:r.length,worstPicks:i.length,teamRankings:c.length,draftsSummaries:d.length}),Q({topPicks:r,worstPicks:i,teamRankings:c,draftsSummaries:d})}catch(e){h.A.error("Overview computation error:",e),Q({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]})}finally{J(!1)}}})()},[i,s,a,o,f]),h.A.debug("Rendering: Main content"),h.A.debug("Current seasons state:",c),h.A.debug("Current selectedSeason state:",f),h.A.debug("Current draftSummary state:",p),h.A.debug("Current draftPicks state (flat):",v.length),h.A.debug("Current orderedTeamColumns state:",N.length),h.A.debug("Current picksGroupedByRound state (rounds):",Object.keys(O).length),h.A.debug("Current tradedPicksData state:",b.length),h.A.debug("Current leagueScoringSettings state:",S),h.A.debug("Current leagueRosterSettings state:",j),h.A.debug("Current activeTab state:",T),n)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md",children:[(0,G.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-300",children:"Loading draft data..."})]})});if(r)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-800 border border-red-600 text-red-100 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load draft data: ",r.message||String(r)]})]})});const Z=(null===p||void 0===p||null===(e=p.settings)||void 0===e?void 0:e.rounds)||0,ee=Array.from({length:Z},(e,t)=>t+1),te=(0,t.useMemo)(()=>{const e=new Map;return b.forEach(t=>{e.has(t.round)||e.set(t.round,new Map),e.get(t.round).set(String(t.roster_id),t)}),e},[b]),ne={RB:"bg-green-700",QB:"bg-red-700",WR:"bg-blue-700",TE:"bg-yellow-700",K:"bg-purple-700",DEF:"bg-zinc-700",DL:"bg-zinc-700",LB:"bg-zinc-700",DB:"bg-zinc-700",IDP:"bg-zinc-700",DP:"bg-gray-700",NA:"bg-gray-700"},re=e=>{const t="string"===typeof e?e.toUpperCase():"";return ne[t]||"bg-gray-700"};return(0,G.jsxs)("div",{className:"container mx-auto p-4 bg-gray-900 text-white min-h-screen",children:[(0,G.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:"Draft Analysis"}),(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row justify-center items-center sm:space-x-4 space-y-3 sm:space-y-0",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"text-lg",children:"Select Season:"}),(0,G.jsxs)("select",{id:"season-select",className:"p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500 w-44",value:f||"",onChange:e=>{const t=e.target.value;m("Overview"===t?"Overview":Number(t)),V("board")},disabled:0===c.length,children:[(0,G.jsx)("option",{value:"Overview",children:"Overview"}),c.length>0?c.map(e=>(0,G.jsx)("option",{value:e,children:e},e)):(0,G.jsx)("option",{value:"",children:"No Seasons Available"})]})]}),"Overview"===f&&(0,G.jsxs)("div",{className:"p-6 mb-8",children:[(0,G.jsx)("h2",{className:"text-3xl font-semibold mb-6 text-center text-yellow-400",children:"All-Time Draft Overview"}),X?(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsx)("p",{className:"text-gray-400",children:"Computing all-time draft data with real Draft Value..."})}):Y?(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-blue-300 mb-4",children:"Top Picks All-Time"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Top draft picks by value all-time."}),(0,G.jsx)("div",{className:"space-y-4",children:Y.topPicks.map((e,t)=>(0,G.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-green-400",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,G.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,G.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,G.jsxs)("div",{className:"text-sm text-gray-200",children:[(0,G.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,G.jsx)("div",{className:"text-2xl font-bold text-green-400",children:sD(e.scaled_vorp_delta,2)})]}),(0,G.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Worst Picks All-Time"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Worst draft picks by value all-time."}),(0,G.jsx)("div",{className:"space-y-4",children:Y.worstPicks.map((e,t)=>(0,G.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-red-400",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,G.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,G.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,G.jsxs)("div",{className:"text-sm text-gray-200",children:[(0,G.jsx)("div",{className:"text-xs",children:"Draft Value"}),(0,G.jsx)("div",{className:"text-2xl font-bold text-red-400",children:sD(e.scaled_vorp_delta,2)})]}),(0,G.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]})]}),(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-4",children:"All-Time Draft Rankings"}),(0,G.jsx)("p",{className:"text-gray-300 mb-4",children:"Members ranked by all-time avg. draft pick value."}),(0,G.jsx)("div",{className:"space-y-2",children:Y.teamRankings.map((e,t)=>(0,G.jsxs)("div",{className:"flex justify-between items-center bg-gray-600 p-3 rounded",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,G.jsxs)("span",{className:"text-gray-400 font-medium",children:["#",t+1]}),(0,G.jsx)("span",{className:"text-white font-medium",children:e.team})]}),(0,G.jsx)("span",{className:"font-bold ".concat(e.value>=0?"text-green-400":"text-red-400"),children:sD(e.value,2)})]},t))})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,G.jsx)("h3",{className:"text-2xl font-bold text-green-300 mb-4",children:"Best & Worst All-Time Drafts"}),(0,G.jsxs)("div",{className:"mb-6",children:[(0,G.jsx)("h4",{className:"text-lg font-semibold text-blue-300 mb-3",children:"Best All-Time Drafts"}),(0,G.jsx)("div",{className:"space-y-2",children:Y.draftsSummaries.slice(0,3).map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-green-400",children:[(0,G.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,G.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,G.jsx)("div",{className:"text-lg font-bold text-green-400",children:sD(e.totalScaledVorp,2)})]},t))})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-3",children:"Worst All-Time Drafts"}),(0,G.jsx)("div",{className:"space-y-2",children:Y.draftsSummaries.slice(-3).reverse().map((e,t)=>(0,G.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-red-400",children:[(0,G.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,G.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,G.jsx)("div",{className:"text-lg font-bold text-red-400",children:sD(e.totalScaledVorp,2)})]},t))})]})]})]}),(0,G.jsx)("div",{className:"mt-6"})]}):(0,G.jsx)("div",{className:"text-center py-8",children:(0,G.jsx)("p",{className:"text-gray-400",children:"No all-time draft data available."})})]}),"Overview"!==f&&f&&p?(0,G.jsxs)("div",{className:"p-6 mb-8",children:[(0,G.jsxs)("h2",{className:"text-3xl font-semibold mb-4 text-center text-green-400",children:[f," Draft Summary"]}),(0,G.jsxs)("div",{className:"flex justify-center mb-6 border-b border-gray-600",children:[(0,G.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("board"===T?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-gray-200"),onClick:()=>V("board"),children:"Draft Board"}),(0,G.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("summary"===T?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-gray-200"),onClick:()=>V("summary"),children:"Draft Summary"})]}),"board"===T&&(0,G.jsxs)("div",{className:"mt-6",children:[(0,G.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-purple-400",children:"Draft Board"}),N.length>0&&Z>0?(0,G.jsx)("div",{className:"w-full overflow-auto",children:(0,G.jsxs)("div",{className:"grid gap-1 p-2",style:{gridTemplateColumns:"auto repeat(".concat(N.length,", minmax(100px, 1fr))"),minWidth:"".concat(Math.max(100*(N.length+1),480),"px")},children:[(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-2 text-center rounded-tl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:"Round"}),N.map(e=>(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-1 text-center flex flex-col items-center justify-center rounded-t-md min-h-[40px] sticky top-0 z-10",children:(0,G.jsx)("span",{className:"text-xs leading-tight break-words text-center max-w-full block",style:{wordBreak:"break-word",hyphens:"auto"},children:e.teamName})},e.userId)),ee.map(e=>(0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-2 px-2 text-center flex items-center justify-center rounded-bl-md text-xs sticky left-0 z-30 shadow-sm",style:{left:0},children:e}),N.map((t,n)=>{var r,s;const i=null===(r=O[e])||void 0===r?void 0:r[n],l=(null===(s=p.settings)||void 0===s?void 0:s.teams)||12,c=e%2!==0?n+1:l-n;let u=null;for(const e in p.draft_order)if(p.draft_order[e]===c){u=e;break}let d=null;if(u&&i&&i.picked_by!==u){var h,m;const t=null===(h=a.rostersBySeason)||void 0===h||null===(m=h[f])||void 0===m?void 0:m.find(e=>String(e.owner_id)===String(u)),n=t?String(t.roster_id):null;var g;if(n)d=null===(g=te.get(e))||void 0===g?void 0:g.get(n)}const y=i&&u&&i.picked_by!==u&&!!d;let v="",x="";var b,w;if(i&&"DEF"===i.player_position)v=(null===(b=i.metadata)||void 0===b?void 0:b.first_name)||"",x=(null===(w=i.metadata)||void 0===w?void 0:w.last_name)||"";else if(i){const e=i.player_name.split(" ");v=e[0],x=e.slice(1).join(" ")}const S=x.length>12?"text-base":"text-lg";return(0,G.jsx)("div",{className:"relative p-1 border border-gray-700 text-xs min-h-[60px] sm:min-h-[70px]\n                                                                        ".concat(i?re(i.player_position):"bg-gray-900"),children:i?i.is_keeper?(0,G.jsx)("div",{className:"flex items-center justify-center h-full text-sm font-bold text-green-300",children:"KEEPER"}):(0,G.jsxs)("div",{className:"flex flex-col h-full w-full p-1",children:[(0,G.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-200 mb-1",children:[(0,G.jsx)("div",{className:"font-medium",children:i.player_position}),(0,G.jsx)("div",{className:"font-medium",children:i.player_team})]}),(0,G.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center min-w-0 text-center px-1",children:[(0,G.jsx)("div",{className:"w-full truncate text-xs text-white font-medium leading-tight",children:v}),(0,G.jsx)("div",{className:"w-full truncate text-sm font-bold text-white leading-tight ".concat(S),children:x})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between mt-2 w-full",children:["number"===typeof i.scaled_vorp_delta?(0,G.jsx)("div",{className:"flex-shrink-0 inline-flex items-center justify-center text-[10px] font-bold text-white px-1.5 py-0.5 rounded ".concat(i.scaled_vorp_delta>=0?"bg-green-500":"bg-red-500"),style:{minWidth:"28px",maxWidth:"48px"},title:"Draft Value: ".concat(sD(i.scaled_vorp_delta,2)),children:sD(parseFloat(i.scaled_vorp_delta),1)}):(0,G.jsx)("div",{className:"text-xs text-gray-400 w-6",children:"\xa0"}),y?(0,G.jsx)("div",{className:"flex-shrink-0 cursor-help ml-2",title:"Pick acquired by: ".concat(i.picked_by_team_name),children:(0,G.jsx)($C,{icon:eD,className:"w-3 h-3 text-yellow-400"})}):(0,G.jsx)("div",{className:"w-3"})]})]}):d?(0,G.jsx)("div",{className:"absolute bottom-0.5 right-0.5 cursor-help",title:"Pick acquired by: ".concat(o(K(d.owner_id,f,a.rostersBySeason),f)),children:(0,G.jsx)($C,{icon:eD,className:"w-3 h-3 text-yellow-400"})}):(0,G.jsx)("span",{className:"text-gray-600 text-xs",children:"Empty"})},"".concat(e,"-").concat(n))})]},e))]})}):(0,G.jsx)("p",{className:"text-center text-gray-400",children:"No draft board data available for this season."})]}),"summary"===T&&(0,G.jsxs)("div",{className:"mt-6",children:[(0,G.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-green-400",children:"Draft Year Summary"}),H?(0,G.jsxs)("div",{className:"space-y-8",children:[(0,G.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Team by Total Draft Value"}),(0,G.jsxs)("p",{className:"text-lg",children:[H.bestTeam.team," ",(0,G.jsxs)("span",{className:"text-green-400 font-semibold",children:["(",sD(H.bestTeam.totalScaledVorp,2),")"]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Team by Total Draft Value"}),(0,G.jsxs)("p",{className:"text-lg",children:[H.worstTeam.team," ",(0,G.jsxs)("span",{className:"text-red-400 font-semibold",children:["(",sD(H.worstTeam.totalScaledVorp,2),")"]})]})]})]}),(0,G.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Pick (Draft Value)"}),(0,G.jsxs)("p",{className:"text-lg",children:[H.bestPick.player_name," (",H.bestPick.player_position,")",(0,G.jsx)("span",{className:"ml-2 text-green-400 font-semibold",children:sD("number"===typeof H.bestPick.scaled_vorp_delta?H.bestPick.scaled_vorp_delta:H.bestPick.vorp_delta,2)}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",H.bestPick.picked_by_team_name," | Pick: ",H.bestPick.pick_no]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Pick (Draft Value)"}),(0,G.jsxs)("p",{className:"text-lg",children:[H.worstPick.player_name," (",H.worstPick.player_position,")",(0,G.jsx)("span",{className:"ml-2 text-red-400 font-semibold",children:sD("number"===typeof H.worstPick.scaled_vorp_delta?H.worstPick.scaled_vorp_delta:H.worstPick.vorp_delta,2)}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",H.worstPick.picked_by_team_name," | Pick: ",H.worstPick.pick_no]})]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[(0,G.jsx)("h4",{className:"text-xl font-bold text-purple-300 mb-4",children:"Round-by-Round Summary"}),(0,G.jsx)("div",{className:"overflow-x-auto",children:(0,G.jsxs)("table",{className:"min-w-full text-sm text-gray-200",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gray-800",children:[(0,G.jsx)("th",{className:"py-2 px-4",children:"Round"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Best Pick (Draft Value)"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Worst Pick (Draft Value)"}),(0,G.jsx)("th",{className:"py-2 px-4",children:"Avg Draft Value"})]})}),(0,G.jsx)("tbody",{children:H.roundSummaries.map((e,n)=>{var r,a,s,o;return e&&(0,G.jsx)(t.Fragment,{children:(0,G.jsxs)("tr",{className:"border-b border-gray-600 align-top",children:[(0,G.jsx)("td",{className:"py-2 px-4 text-center font-bold align-top",children:e.round}),(0,G.jsx)("td",{className:"py-2 px-4 align-top",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,G.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.best.player_name," ",(0,G.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.best.player_position,")"]})]}),(0,G.jsxs)("div",{className:"text-sm font-bold text-green-400",children:["Draft Value: ","number"===typeof(null===(r=e.best)||void 0===r?void 0:r.scaled_vorp_delta)?sD(e.best.scaled_vorp_delta,2):"number"===typeof(null===(a=e.best)||void 0===a?void 0:a.vorp_delta)?sD(e.best.vorp_delta,2):"\u2014"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.best.picked_by_team_name||"Unknown"," | Pick: ",e.best.pick_no||"\u2014"]})]})}),(0,G.jsx)("td",{className:"py-2 px-4 align-top",children:(0,G.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,G.jsxs)("div",{className:"text-sm font-semibold text-white truncate",children:[e.worst.player_name," ",(0,G.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.worst.player_position,")"]})]}),(0,G.jsxs)("div",{className:"text-sm font-bold text-red-400",children:["Draft Value: ","number"===typeof(null===(s=e.worst)||void 0===s?void 0:s.scaled_vorp_delta)?sD(e.worst.scaled_vorp_delta,2):"number"===typeof(null===(o=e.worst)||void 0===o?void 0:o.vorp_delta)?sD(e.worst.vorp_delta,2):"\u2014"]}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:["Team: ",e.worst.picked_by_team_name||"Unknown"," | Pick: ",e.worst.pick_no||"\u2014"]})]})}),(0,G.jsx)("td",{className:"py-2 px-4 text-center align-top",children:"number"===typeof e.avgScaledVorp?sD(e.avgScaledVorp,2):"\u2014"})]})},n)})})]})})]})]}):(0,G.jsx)("p",{className:"text-center text-gray-400",children:"No draft summary data available for this season."})]})]}):"Overview"!==f?(0,G.jsx)("p",{className:"text-center text-gray-400",children:"Select a season to view draft analysis."}):null]})},BB=()=>{const{historicalData:e,getTeamName:r,getTeamDetails:a,nflPlayers:s}=$(),[o,i]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)(!1),[w,S]=(0,t.useState)(null),k={2023:n(3225),2022:n(2714),2021:n(891)},j=e=>{try{return k[e]||null}catch(t){return null}},_=t=>{const n=(t=>{var n,s,o;if(null===e||void 0===e||null===(n=e.winnersBracketBySeason)||void 0===n||!n[t])return null;const i=e.winnersBracketBySeason[t],l=(null===(s=e.losersBracketBySeason)||void 0===s?void 0:s[t])||[],c=(null===(o=e.rostersBySeason)||void 0===o?void 0:o[t])||[];let u=[];return c&&Array.isArray(c)&&(u=c.map(e=>{var n;return{rosterId:e.roster_id,ownerId:e.owner_id,name:r(e.owner_id,t),avatar:null===(n=a(e.owner_id,t))||void 0===n?void 0:n.avatar}})),{year:t,winnersBracket:i,losersBracket:l,rosters:c,teams:u}})(t);n&&(h(t),g(n),m(!0))},N=(e,t)=>r(e,t)||"Unknown Champion";(0,t.useEffect)(()=>{const t=e&&e.winnersBracketBySeason&&e.rostersBySeason;if(c(t),t){const t=[],o=Object.keys(e.winnersBracketBySeason).sort((e,t)=>t-e);for(const i of o){const o=Number(i);let l=null;const c=e.winnersBracketBySeason[o],u=null===c||void 0===c?void 0:c.find(e=>1===e.p&&e.w);if(u){var n;const t=String(u.w),r=null===(n=e.rostersBySeason)||void 0===n?void 0:n[o];if(r&&Array.isArray(r)){const e=r.find(e=>String(e.roster_id)===t);e&&e.owner_id&&(l=e.owner_id)}}if(!l){var r;const t=null===(r=e.seasonAwardsSummary)||void 0===r?void 0:r[o];if(null!==t&&void 0!==t&&t.champion&&"N/A"!==t.champion)l=t.champion;else{var s;const t=null===(s=e.awardsSummary)||void 0===s?void 0:s[o],n=(null===t||void 0===t?void 0:t.champion)||(null===t||void 0===t?void 0:t.Champion);n&&"N/A"!==n&&(l=n)}}if(l){const e=N(l,o),n=a(l,o);t.push({year:o,name:"Unknown Champion"!==e?e:l,championId:l,avatar:null===n||void 0===n?void 0:n.avatar,image:j(o),hasBracket:!!c&&c.length>0})}}i(t)}},[e,r,a]),(0,t.useEffect)(()=>{if(!e||!o||0===o.length)return;const t={};o.forEach(n=>{var r,a;const o=n.year,i=n.championId,l=n.name,c=(t=>{var n;const r=null===(n=e.winnersBracketBySeason)||void 0===n?void 0:n[t];if(r&&Array.isArray(r)){const e=r.find(e=>1===e.p&&e.w);if(e&&e.w)return String(e.w)}return null})(o);let u=null;const d=(null===(r=e.rostersBySeason)||void 0===r?void 0:r[o])||(null===(a=e.rostersBySeason)||void 0===a?void 0:a[String(o)]);if(d&&Array.isArray(d)){const e=d.find(e=>String(e.roster_id)===String(c));u=(e=>{if(!e)return null;if(Array.isArray(e.players)&&e.players.length>0)return e.players;if(Array.isArray(e.starters)&&e.starters.length>0)return e.starters;if(e.players_by_week&&"object"===typeof e.players_by_week){const t=Object.keys(e.players_by_week).sort((e,t)=>parseInt(t)-parseInt(e));if(t.length>0)return e.players_by_week[t[0]]}return null})(e)}if((!u||0===u.length)&&e.matchupsBySeason&&e.matchupsBySeason[o]){var h;const t=e.matchupsBySeason[o],n=((null===(h=e.winnersBracketBySeason)||void 0===h?void 0:h[o])||[]).find(e=>1===e.p&&e.w),r=(null===n||void 0===n?void 0:n.week)||(null===n||void 0===n?void 0:n.weekNumber)||null,a=e=>{for(let t=e.length-1;t>=0;t--){const n=e[t];if(String(n.team1_roster_id)===String(c)){if(n.team1_players)return n.team1_players;if(n.team1_details&&n.team1_details.starters)return n.team1_details.starters}if(String(n.team2_roster_id)===String(c)){if(n.team2_players)return n.team2_players;if(n.team2_details&&n.team2_details.starters)return n.team2_details.starters}}return null};if(r){u=a(t.filter(e=>String(e.week)===String(r)||e.weekNumber===r))||u}u&&0!==u.length||(u=a(t)||u)}const f=[];if(Array.isArray(u)){var m,p;const t=((null===(m=e.winnersBracketBySeason)||void 0===m?void 0:m[o])||[]).find(e=>1===e.p&&e.w),n=(null===t||void 0===t?void 0:t.week)||(null===t||void 0===t?void 0:t.weekNumber)||null;let r=null;const a=(null===(p=e.matchupsBySeason)||void 0===p?void 0:p[o])||[];if(n){r=a.filter(e=>String(e.week)===String(n)||e.weekNumber===n||e.playoffs).find(e=>String(e.team1_roster_id)===String(c)||String(e.team2_roster_id)===String(c))||null}if(!r&&Array.isArray(a)&&a.length>0)for(let e=a.length-1;e>=0;e--){const t=a[e];if(String(t.team1_roster_id)===String(c)||String(t.team2_roster_id)===String(c)){r=t;break}}const i=r?((e,t)=>{if(!e)return null;const n=String(e.team1_roster_id)===String(t)?e.team1_players||e.team1_details||{}:e.team2_players||e.team2_details||{};return{playersPoints:n.players_points||n.players_points_map||n.players_points_by_id||null,starters:n.starters||null}})(r,c):null,l=i&&Array.isArray(i.starters)?new Set(i.starters.map(e=>String(e))):null;u.forEach(t=>{const r=s&&s[t]||null;let a=null;const c=String(t),u=!!l&&l.has(c);if(i&&i.playersPoints){const e=i.playersPoints;if(Array.isArray(i.starters)&&i.starters.length>0){const n=new Set(i.starters.map(e=>String(e))),r=String(t);n.has(r)&&"number"===typeof e[r]&&(a=e[r])}else{const n=e[String(t)];"number"===typeof n&&(a=n)}}const d=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=(null===(r=e.matchupsBySeason)||void 0===r?void 0:r[t])||[],o=new Set;a&&o.add(String(a)),s.slice(-6).map(e=>String(e.week||e.weekNumber||"")).forEach(e=>{e&&o.add(e)});const i=(e,t)=>{if(!e)return null;if("object"===typeof e){if(e.hasOwnProperty(t)&&e[t]&&"object"===typeof e[t]){if(e[t].team)return e[t].team;if(e[t].player_team)return e[t].player_team}if(Array.isArray(e))for(const n of e){const e=i(n,t);if(e)return e}else for(const n of Object.keys(e)){const r=e[n];if("team"===n&&"string"===typeof r)return r;if(("player_id"===n||"player"===n||"playerId"===n)&&String(e[n])===String(t)&&e.team)return e.team;const a=i(r,t);if(a)return a}}return null};for(const e of s){const t=String(e.week||e.weekNumber||"");if(o.size>0&&!o.has(t))continue;const r=[e.team1_players,e.team2_players,e.team1_details,e.team2_details,e.team1_players_points,e.team2_players_points,e.players,e.players_points,e.players_points_map];for(const e of r){const t=i(e,String(n));if(t)return t}const a=i(e,String(n));if(a)return a}return null}(o,t,n),h=d||(null===r||void 0===r?void 0:r.team)||null;f.push({playerId:t,name:r?"".concat(r.first_name," ").concat(r.last_name):t,position:r?r.position:null,nflMeta:r||null,teamAtChampionship:h,starterPoints:a,isStarter:u})})}t[o]={year:o,championId:i,championName:l,rosterId:c||null,players:f}}),console.debug("HallOfChampions: built championPlayersByYear",t),v(t)},[e,o,s]);const P=e=>{var n,r,a,s,o;let{p:i,size:l=40,className:c=""}=e;const u=(null===i||void 0===i||null===(n=i.nflMeta)||void 0===n?void 0:n.headshot)||(null===i||void 0===i||null===(r=i.nflMeta)||void 0===r?void 0:r.headshot_url)||(null===i||void 0===i||null===(a=i.nflMeta)||void 0===a?void 0:a.img)||null,d=null!==i&&void 0!==i&&i.playerId?(h=i.playerId)?"https://sleepercdn.com/content/nfl/players/thumb/".concat(h,".jpg"):null:null;var h;const f=u||d,[m,p]=(null!==i&&void 0!==i&&i.nflMeta?"".concat((null===(s=i.nflMeta.first_name)||void 0===s?void 0:s[0])||"").concat((null===(o=i.nflMeta.last_name)||void 0===o?void 0:o[0])||"").toUpperCase():(i.playerId||"").slice(0,2).toUpperCase(),(0,t.useState)(!1));return f&&!m?(0,G.jsxs)("div",{style:{width:l,height:l},className:"relative rounded-full flex-shrink-0 ".concat(c),children:[(0,G.jsx)("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 0 4px rgba(250,204,21,0.95)"}}),(0,G.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,G.jsx)("img",{src:f,alt:i.name||i.playerId,style:{width:l-8,height:l-8,borderRadius:"50%"},className:"object-cover",onError:e=>{console.debug("PlayerAvatar: headshot failed to load for",i.playerId,f),p(!0)}})})]}):(0,G.jsx)("div",{style:{width:l,height:l},className:"relative rounded-full overflow-hidden flex-shrink-0 ".concat(c),children:(0,G.jsx)("div",{className:"w-full h-full rounded-full bg-amber-100 text-amber-800 flex items-center justify-center font-semibold text-sm border",children:(0,G.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 text-amber-800",fill:"currentColor","aria-hidden":!0,children:(0,G.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})})},E=e=>{let{bracket:t,onClose:n}=e;if(!t)return null;const{year:r,winnersBracket:a,losersBracket:s,teams:o}=t;if(!a||!Array.isArray(a))return(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[(0,G.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"No Bracket Data"}),(0,G.jsxs)("p",{className:"text-gray-600 mb-4",children:["Bracket data is not available for ",r,"."]}),(0,G.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})});const i=e=>{if(!o||!Array.isArray(o))return{name:"Unknown Team",avatar:null};const t=o.find(t=>String(t.rosterId)===String(e));return t||{name:"Unknown Team",avatar:null}},l=[];a.forEach(e=>{e.p&&1!==e.p||l.push(e)});const c={};l.forEach(e=>{const t=e.r||1;c[t]||(c[t]=[]),c[t].push(e)});const u=Object.keys(c).sort((e,t)=>parseInt(e)-parseInt(t)),d=e=>{const t=i(e.t1),n=i(e.t2);return(0,G.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden shadow-sm w-48 h-20",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 border-b border-gray-200 ".concat(String(e.w)===String(e.t1)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,G.jsx)("img",{src:t.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:t.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"font-medium text-xs truncate",children:t.name})]}),(0,G.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t1_score?parseFloat(e.t1_score).toFixed(1):"-"})]}),(0,G.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 h-10 ".concat(String(e.w)===String(e.t2)?"bg-green-50 border-l-4 border-l-green-500":"bg-gray-50"),children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,G.jsx)("img",{src:n.avatar||"https://sleepercdn.com/avatars/default_avatar.png",alt:n.name,className:"w-5 h-5 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://sleepercdn.com/avatars/default_avatar.png"}}),(0,G.jsx)("span",{className:"font-medium text-xs truncate",children:n.name})]}),(0,G.jsx)("div",{className:"font-bold text-sm ml-2 flex-shrink-0",children:e.t2_score?parseFloat(e.t2_score).toFixed(1):"-"})]})]})};return(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[(0,G.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:[r," Tournament Bracket"]}),(0,G.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,G.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,G.jsx)("div",{className:"flex justify-center",children:(0,G.jsx)("div",{className:"flex items-center space-x-16 overflow-x-auto pb-4",children:u.map((e,t)=>{const n=c[e],r=((e,t)=>{const n=parseInt(e),r=t.filter(e=>e.p);if(r.length>0){const e=r.find(e=>1===e.p);if(e)return"Championship"}const a=Math.max(...u.map(e=>parseInt(e)));return n===a?"Championship":n===a-1?"Semifinals":n===a-2?"Quarterfinals":1===n?"First Round":"Round ".concat(n)})(e,n),a="Championship"===r;return(0,G.jsxs)("div",{className:"flex flex-col items-center min-w-max",children:[(0,G.jsx)("div",{className:"mb-6 text-center",children:(0,G.jsx)("h4",{className:"font-bold ".concat(a?"text-lg text-yellow-600":"text-sm text-gray-600"),children:r})}),(0,G.jsx)("div",{className:"flex flex-col justify-center space-y-12",children:n.map((e,n)=>(0,G.jsxs)("div",{className:"relative flex items-center",children:[d(e),t<u.length-1&&(0,G.jsx)("div",{className:"absolute top-1/2 left-full w-8 h-0.5 bg-gray-300 transform -translate-y-1/2"})]},"".concat(e.r,"-").concat(e.m,"-").concat(n)))})]},e)})})}),0===u.length&&(0,G.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,G.jsxs)("p",{className:"text-lg",children:["No playoff games found for ",r]}),(0,G.jsx)("p",{className:"text-sm mt-2",children:"The bracket data may be incomplete or unavailable."})]})]})]})})};return l?0===o.length?(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md font-inter",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"No Champion Data Found"}),(0,G.jsx)("p",{className:"text-base",children:"Could not find any historical champions in the provided data."})]}):(0,G.jsxs)("div",{className:"p-4 sm:p-6 bg-gradient-to-b from-gray-50 to-white rounded-lg shadow-xl font-inter",children:[(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,t)=>{var n;return(0,G.jsxs)("div",{className:"relative p-6 bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-2xl flex flex-col items-center text-center transition-transform transform hover:-translate-y-1 hover:scale-102 border border-yellow-200",children:[(0,G.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-amber-400 to-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-md border border-amber-300",children:e.year}),(0,G.jsx)("div",{className:"mb-4 p-1 bg-white rounded-lg shadow-inner inline-flex items-center justify-center",style:{border:"6px solid rgba(250, 204, 21, 0.15)"},children:e.image?(0,G.jsx)("img",{src:e.image,alt:"".concat(e.year," Champion"),className:"max-w-full max-h-40 sm:max-h-44 md:max-h-48 object-contain rounded-md",onError:e=>{e.target.style.display="none"}}):(0,G.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-amber-200 to-yellow-300 rounded-md flex items-center justify-center text-xl font-bold text-amber-800",children:null===(n=(e.name||"").split(" ")[0])||void 0===n?void 0:n.slice(0,2)})}),(0,G.jsx)("div",{className:"text-gray-800 text-lg font-semibold mb-1",children:e.name}),(0,G.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[e.hasBracket&&(0,G.jsx)("button",{onClick:()=>_(e.year),className:"px-3 py-1 bg-amber-600 text-white text-sm rounded shadow",children:"View Bracket"}),(0,G.jsx)("button",{onClick:()=>{return t=e.year,S(t),void b(!0);var t},className:"px-3 py-1 bg-white border border-gray-200 text-sm rounded shadow-sm",children:"View Roster"})]})]},t)})}),(0,G.jsxs)("div",{className:"mt-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,G.jsx)("h3",{className:"text-2xl font-extrabold text-gray-800",children:"Multi-Time Champions"})}),(0,G.jsx)("div",{className:"space-y-3",children:0===Object.keys(y).length?(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Champion roster player data not available or still processing."}):(()=>{const e={};Object.values(y).forEach(t=>{(t.players||[]).forEach(n=>{n&&n.playerId&&(e[n.playerId]||(e[n.playerId]=u(u({},n),{},{count:0,years:[]})),e[n.playerId].count+=1,e[n.playerId].years.push(t.year))})});const t=Object.values(e).filter(e=>e.count>1).sort((e,t)=>t.count-e.count||e.name.localeCompare(t.name));return 0===t.length?(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"No multi-time champions found in the current dataset."}):(0,G.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,G.jsxs)("div",{className:"flex flex-col items-center gap-3 bg-white p-4 rounded shadow-md",children:[(0,G.jsx)(P,{p:e,size:64}),(0,G.jsxs)("div",{className:"text-center",children:[(0,G.jsx)("div",{className:"font-semibold text-lg",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Championships: ",(0,G.jsx)("span",{className:"font-medium text-amber-600",children:e.count})]}),(0,G.jsx)("div",{className:"text-xs text-gray-400",children:e.years.join(", ")})]})]},"multi-".concat(e.playerId)))})})})()})]}),(0,G.jsx)("div",{className:"mt-2",children:(0,G.jsx)("div",{id:"champion-gif-container",className:"relative flex justify-center mb-1",children:(0,G.jsx)("div",{className:"w-full max-w-2xl sm:max-w-3xl px-2",children:(0,G.jsx)("img",{src:"/hall-of-champions/tom-brady-rings.gif",alt:"celebration",className:"w-full h-auto object-contain max-h-56 sm:max-h-64",onError:e=>{e.target.style.display="none"}})})})}),x&&w&&(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,G.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-auto p-6",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,G.jsxs)("h3",{className:"text-xl font-bold",children:[w," Champion Roster"]}),(0,G.jsx)("button",{onClick:()=>{b(!1),S(null)},className:"text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,G.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:(e=>{const t=(null===(e=y[w])||void 0===e?void 0:e.players)||[]||0,n=["QB","RB","RB","FLEX","WR","WR","TE","K","DEF"],r=t.filter(e=>e.isStarter),a=t.filter(e=>!e.isStarter),s=e=>(e||"").toUpperCase(),o={};r.forEach(e=>{const t=s(e.position)||"FLEX";o[t]||(o[t]=[]),o[t].push(e)});const i=[],l=new Set;for(const d of n){if("FLEX"===d){const e=r.filter(e=>!l.has(e.playerId)),t=e.find(e=>["RB","WR","TE"].includes(s(e.position))),n=t||e[0];n&&(i.push(n),l.add(n.playerId));continue}const e=o[d];if(e&&e.length>0){const t=e.find(e=>!l.has(e.playerId));t&&(i.push(t),l.add(t.playerId))}}r.forEach(e=>{l.has(e.playerId)||(i.push(e),l.add(e.playerId))});const c={QB:1,RB:2,WR:3,TE:4,K:5,DEF:6},u=a.slice().sort((e,t)=>{const n=c[s(e.position)]||99,r=c[s(t.position)]||99;return n!==r?n-r:(e.name||"").localeCompare(t.name||"")});i.concat(u);return(0,G.jsxs)(G.Fragment,{children:[i.map(e=>(0,G.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded h-20",children:[(0,G.jsx)(P,{p:e,size:44}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"}),"number"===typeof e.starterPoints&&(0,G.jsxs)("div",{className:"text-xs text-amber-600 font-semibold",children:["Starter points: ",e.starterPoints]})]})]},"modal-".concat(w,"-starter-").concat(e.playerId))),u.length>0&&(0,G.jsx)("div",{className:"col-span-full my-1",children:(0,G.jsx)("div",{className:"border-t border-dashed border-gray-300 w-full"})}),u.map(e=>(0,G.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-white rounded h-18",children:[(0,G.jsx)(P,{p:e,size:40}),(0,G.jsxs)("div",{className:"min-w-0",children:[(0,G.jsx)("div",{className:"font-medium text-sm",title:e.name,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.name}),(0,G.jsx)("div",{className:"text-xs text-gray-500",children:e.position||"N/A"})]})]},"modal-".concat(w,"-bench-").concat(e.playerId)))]})})()})]})}),f&&(0,G.jsx)(E,{bracket:p,onClose:()=>{m(!1),h(null),g(null)}})]}):(0,G.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md font-inter",children:[(0,G.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading historical champion data..."}),(0,G.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment to process the league history."})]})},FB=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:s,loading:o,nflPlayers:i}=$(),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null);(0,t.useEffect)(()=>{var e;h.A.debug("Gamecenter useEffect 1 - loading:",o,"leagueData:",n,"nflState:",s),!o&&n&&Array.isArray(n)&&null!==(e=n[0])&&void 0!==e&&e.season&&null!==s&&void 0!==s&&s.week&&(h.A.debug("Setting selectedSeason to:",n[0].season,"and selectedWeek to:",s.week),c(n[0].season),d(s.week))},[o,n,s]),(0,t.useEffect)(()=>{var t;if(l&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[l]){const t=new Set(e.matchupsBySeason[l].map(e=>e.week));m(Array.from(t).sort((e,t)=>e-t))}},[l,e]),(0,t.useEffect)(()=>{var t;if(l&&u&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[l]){const t=e.matchupsBySeason[l].filter(e=>e.week==u);g(t)}},[l,u,e]);const w=(0,t.useMemo)(()=>(t,n)=>{var r,o,i,l;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n]||!s)return null!==(o=null===a||void 0===a||null===(i=a[n])||void 0===i||null===(l=i[t])||void 0===l?void 0:l.averageScore)&&void 0!==o?o:0;const c=parseInt(s.season),u=parseInt(s.week),d=parseInt(n);var h,f,m;if(d<c)return null!==(h=null===a||void 0===a||null===(f=a[n])||void 0===f||null===(m=f[t])||void 0===m?void 0:m.averageScore)&&void 0!==h?h:0;const p=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t));let g=0,y=0;return p.forEach(e=>{const n=parseInt(e.week),r=String(e.team1_roster_id)===String(t),a=r?e.team1_score:e.team2_score,s=r?e.team2_score:e.team1_score;(d<c||d===c&&n<u)&&(a>0||s>0)&&(g+=a,y++)}),y>0?g/y:0},[e,a,s]),S=(0,t.useMemo)(()=>null!==e&&void 0!==e&&e.matchupsBySeason?Object.keys(e.matchupsBySeason).sort((e,t)=>t-e):[],[e]),k=(0,t.useMemo)(()=>{const t={};return e&&e.matchupsBySeason&&e.rostersBySeason?(Object.keys(e.matchupsBySeason).forEach(n=>{const r=e.rostersBySeason[n];if(!r)return;const a=r.reduce((e,t)=>(e[t.roster_id]=t.owner_id,e),{});e.matchupsBySeason[n].forEach(e=>{if(e.team1_score>0||e.team2_score>0){const r=a[e.team1_roster_id],s=a[e.team2_roster_id];if(r&&s){t[r]||(t[r]=[]),t[s]||(t[s]=[]);let a="T";e.team1_score>e.team2_score&&(a="W"),e.team1_score<e.team2_score&&(a="L");let o="T";e.team2_score>e.team1_score&&(o="W"),e.team2_score<e.team1_score&&(o="L"),t[r].push({season:n,week:e.week,result:a,opponent:s}),t[s].push({season:n,week:e.week,result:o,opponent:r})}}})}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>e.season!==t.season?e.season-t.season:e.week-t.week)}),t):t},[e]),j=(0,t.useMemo)(()=>{if(!a||!l||!a[l])return{};const e={},t=a[l];return Object.keys(t).forEach(n=>{const r=t[n];r.weeklyLuck&&(e[n]=r.weeklyLuck)}),e},[a,l]),_=async(e,t)=>{const n=[],r=[],a=["QB","RB","RB","WR","WR","TE","FLEX","K","DEF"];if(e.starters&&Array.isArray(e.starters))for(let l=0;l<e.starters.length;l++){var s;const t=e.starters[l],r=null===i||void 0===i?void 0:i[t],o=(null===(s=e.players_points)||void 0===s?void 0:s[t])||0;r&&n.push({playerId:t,name:"".concat(r.first_name," ").concat(r.last_name),position:r.position,team:r.team,points:o,isStarter:!0,lineupPosition:a[l]||"FLEX"})}if(e.players&&Array.isArray(e.players)){const t=new Set(e.starters||[]),n=e.players.filter(e=>!t.has(e));for(const a of n){var o;const t=null===i||void 0===i?void 0:i[a],n=(null===(o=e.players_points)||void 0===o?void 0:o[a])||0;t&&r.push({playerId:a,name:"".concat(t.first_name," ").concat(t.last_name),position:t.position,team:t.team,points:n,isStarter:!1})}}return{lineup:n,bench:r,totalPoints:e.points||0}},N=t=>{(t.team1_score>0||t.team2_score>0)&&(v(t),(async(t,r,a)=>{try{b(null);let o=null;if(r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))o=n&&Array.isArray(n)?n[0].league_id:null===n||void 0===n?void 0:n.league_id;else{var s;const t=null===e||void 0===e||null===(s=e.leaguesMetadataBySeason)||void 0===s?void 0:s[r];o=null===t||void 0===t?void 0:t.league_id}if(!o)return h.A.warn("No league ID available for season ".concat(r)),void b({error:!0,message:"Detailed roster data is not available for the ".concat(r," season. This may be from a previous platform or the data is no longer accessible.")});h.A.debug("Fetching roster data for season ".concat(r,", week ").concat(a,", league ").concat(o));const i=await fetch("https://api.sleeper.app/v1/league/".concat(o,"/matchups/").concat(a));if(!i.ok)throw new Error("API request failed with status ".concat(i.status));const l=await i.json();if(l&&Array.isArray(l)&&l.length>0){const e=l.find(e=>e.roster_id===parseInt(t.team1_roster_id)),n=l.find(e=>e.roster_id===parseInt(t.team2_roster_id));if(e&&n){const r={team1:await _(e,t.team1_roster_id),team2:await _(n,t.team2_roster_id)};b(r)}else h.A.warn("Could not find roster data for teams ".concat(t.team1_roster_id," and ").concat(t.team2_roster_id," in week ").concat(a," of season ").concat(r)),b({error:!0,message:"Roster details for this matchup are not available. The teams may not have been active in week ".concat(a," of the ").concat(r," season.")})}else h.A.warn("No roster data returned for season ".concat(r,", week ").concat(a)),b({error:!0,message:"No roster data available for week ".concat(a," of the ").concat(r," season. The data may not be accessible or this week may not have occurred yet.")})}catch(o){h.A.error("Error fetching matchup roster data:",o),b({error:!0,message:"Failed to load detailed roster data: ".concat(o.message,". This may be due to data not being available for historical seasons or network issues.")})}})(t,l,u))},P=(e,t)=>{const n=k[e];if(!n)return"N/A";const r=n.filter(e=>e.season===t);if(0===r.length)return"N/A";let a=0,s="";for(let o=r.length-1;o>=0;o--){const e=r[o];if(o===r.length-1)s=e.result,a=1;else{if(e.result!==s)break;a++}}return"".concat(a).concat(s)},E=(e,t)=>{const n=k[e];if(!n||!e||!t)return"0-0";let r=0,a=0,s=0;return n.forEach(e=>{e.opponent===t&&("W"===e.result?r++:"L"===e.result?a++:"T"===e.result&&s++)}),s>0?"".concat(r,"-").concat(a,"-").concat(s):"".concat(r,"-").concat(a)};return o?(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,G.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Gamecenter..."})}):l&&u?(0,G.jsx)("div",{className:"p-2 sm:p-4 bg-gray-50 min-h-screen",children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-6 px-2",children:"Gamecenter"}),(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6 bg-white p-3 sm:p-4 rounded-lg shadow mobile-card",children:[(0,G.jsxs)("div",{className:"flex-1",children:[(0,G.jsx)("label",{htmlFor:"season-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Season"}),(0,G.jsx)("select",{id:"season-select",value:l,onChange:t=>{const r=t.target.value;var a;if(c(r),r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))d(s.week);else if(null!==e&&void 0!==e&&null!==(a=e.matchupsBySeason)&&void 0!==a&&a[r]){const t=new Set(e.matchupsBySeason[r].map(e=>e.week)),n=Array.from(t).sort((e,t)=>e-t)[0];d(n)}},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:S.map(e=>(0,G.jsx)("option",{value:e,children:e},e))})]}),(0,G.jsxs)("div",{className:"flex-1",children:[(0,G.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Week"}),(0,G.jsx)("select",{id:"week-select",value:u,onChange:e=>{d(parseInt(e.target.value))},className:"mt-1 block w-full pl-3 pr-10 py-3 sm:py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm touch-friendly",children:f.map(e=>(0,G.jsxs)("option",{value:e,children:["Week ",e]},e))})]})]}),(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:p.map(t=>{var n,a,o,i,c,d,h,f,m,p,g,y;const v=String(t.team1_roster_id),x=String(t.team2_roster_id),b=null===(n=e.rostersBySeason)||void 0===n||null===(a=n[l])||void 0===a?void 0:a.find(e=>String(e.roster_id)===v),S=null===b||void 0===b?void 0:b.owner_id,k=r(S,l),_=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[l])||void 0===i?void 0:i.find(e=>String(e.roster_id)===x),O=null===_||void 0===_?void 0:_.owner_id,A=r(O,l),I=t.team1_score>0||t.team2_score>0,T=parseInt((null===s||void 0===s?void 0:s.season)||(new Date).getFullYear()),C=parseInt((null===s||void 0===s?void 0:s.week)||1),D=parseInt(l),M=parseInt(u),R=D<T||D===T&&M<C,L=null!==(c=null===(d=j[v])||void 0===d?void 0:d[u-1])&&void 0!==c?c:0,B=null!==(h=null===(f=j[x])||void 0===f?void 0:f[u-1])&&void 0!==h?h:0,F=w(v,l),W=w(x,l),U=(E(S,O),P(S,l)),z=P(O,l);return(0,G.jsx)("div",{className:"bg-white rounded-xl shadow-md mobile-card overflow-hidden transition-all duration-300 hover:shadow-lg touch-friendly ".concat(I?"cursor-pointer hover:bg-gray-50 active:bg-gray-100":""),onClick:()=>N(t),children:(0,G.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,G.jsxs)("div",{className:"space-y-3 sm:space-y-0",children:[(0,G.jsxs)("div",{className:"sm:hidden",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:k.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[U," \u2022 Avg: ",sD(Number(null!==F&&void 0!==F?F:0),1)]})]})]}),(0,G.jsx)("div",{className:"text-right flex-shrink-0",children:(0,G.jsx)("div",{className:"font-bold text-lg ".concat(I&&R&&t.team1_score>t.team2_score?"text-green-600":"text-gray-800"),children:I?sD(Number(null!==(m=t.team1_score)&&void 0!==m?m:0),1):"-"})})]}),(0,G.jsxs)("div",{className:"text-center py-1",children:[(0,G.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:"VS"}),(()=>{const e=E(S,O);return"0-0"!==e&&(0,G.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["H2H: ",e]})})()]}),(0,G.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-10 h-10 rounded-full border-2 border-gray-200 flex-shrink-0",src:A.avatar,alt:"".concat(A.name," avatar")}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm truncate",children:A.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[z," \u2022 Avg: ",sD(Number(null!==W&&void 0!==W?W:0),1)]})]})]}),(0,G.jsx)("div",{className:"text-right flex-shrink-0",children:(0,G.jsx)("div",{className:"font-bold text-lg ".concat(I&&R&&t.team2_score>t.team1_score?"text-green-600":"text-gray-800"),children:I?sD(Number(null!==(p=t.team2_score)&&void 0!==p?p:0),1):"-"})})]})]}),(0,G.jsxs)("div",{className:"hidden sm:flex items-center justify-between gap-3",children:[(0,G.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:k.avatar,alt:"".concat(k.name," avatar")}),(0,G.jsxs)("div",{className:"text-center w-full",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:k.name}),(0,G.jsx)("div",{className:"font-bold text-lg ".concat(I&&R&&t.team1_score>t.team2_score?"text-green-600":"text-gray-800"),children:I?sD(Number(null!==(g=t.team1_score)&&void 0!==g?g:0),2):"-"})]})]}),(0,G.jsx)("div",{className:"flex-shrink-0 text-gray-400 font-medium text-sm px-2",children:"vs"}),(0,G.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:A.avatar,alt:"".concat(A.name," avatar")}),(0,G.jsxs)("div",{className:"text-center w-full",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:A.name}),(0,G.jsx)("div",{className:"font-bold text-lg ".concat(I&&R&&t.team2_score>t.team1_score?"text-green-600":"text-gray-800"),children:I?sD(Number(null!==(y=t.team2_score)&&void 0!==y?y:0),2):"-"})]})]})]})]}),(0,G.jsxs)("div",{className:"border-t border-gray-200 mt-3 pt-3",children:[I?(0,G.jsx)(G.Fragment,{children:(()=>{const e=parseInt((null===s||void 0===s?void 0:s.season)||(new Date).getFullYear()),n=parseInt((null===s||void 0===s?void 0:s.week)||1),r=parseInt(l),a=parseInt(u),o=r<e||r===e&&a<n,i=t.team1_score>0&&t.team2_score>0;return o&&i?(0,G.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,G.jsxs)("div",{className:"sm:hidden text-center",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Luck Factor"}),(0,G.jsxs)("div",{className:"flex justify-between items-center",children:[(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(L>0?"text-green-500":"text-red-500"),children:sD(Number(null!==L&&void 0!==L?L:0),2)}),(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(B>0?"text-green-500":"text-red-500"),children:sD(Number(null!==B&&void 0!==B?B:0),2)})]})]}),(0,G.jsx)("div",{className:"hidden sm:block",children:(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(L>0?"text-green-500":"text-red-500"),children:sD(Number(null!==L&&void 0!==L?L:0),2)})}),(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Luck"})}),(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)("span",{className:"font-semibold text-sm ".concat(B>0?"text-green-500":"text-red-500"),children:sD(Number(null!==B&&void 0!==B?B:0),2)})})]})})]}):(0,G.jsx)("div",{className:"text-center text-xs text-gray-500",children:"Game in progress or incomplete"})})()}):(0,G.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,G.jsx)("div",{className:"sm:hidden space-y-1",children:(0,G.jsx)("div",{className:"text-center text-xs text-gray-500 font-medium",children:"Pre-Game Stats"})}),(0,G.jsxs)("div",{className:"hidden sm:block",children:[(0,G.jsx)("div",{className:"text-center mb-2",children:(0,G.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["H2H: ",E(S,O)]})}),(0,G.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs font-semibold",children:U}),(0,G.jsx)("div",{className:"text-xs font-semibold",children:sD(Number(null!==F&&void 0!==F?F:0),1)})]}),(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Streak"}),(0,G.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Avg Pts"})]}),(0,G.jsxs)("div",{className:"text-center space-y-1",children:[(0,G.jsx)("div",{className:"text-xs font-semibold",children:z}),(0,G.jsx)("div",{className:"text-xs font-semibold",children:sD(Number(null!==W&&void 0!==W?W:0),1)})]})]})]})]}),I&&(0,G.jsx)("div",{className:"text-center mt-2",children:(0,G.jsx)("span",{className:"text-xs text-blue-500 font-medium",children:"Tap for details"})})]})]})},t.matchup_id)})}),y&&(0,G.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:(0,G.jsxs)("div",{className:"bg-white w-full h-full sm:h-auto sm:rounded-xl sm:max-w-6xl sm:w-full sm:max-h-[90vh] overflow-y-auto mobile-scroll",children:[(0,G.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10 safe-area-top",children:[(0,G.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:[(0,G.jsxs)("span",{className:"sm:hidden",children:[l," W",u]}),(0,G.jsxs)("span",{className:"hidden sm:inline",children:[l," Week ",u," Details"]})]}),(0,G.jsx)("button",{onClick:()=>{v(null),b(null)},className:"text-gray-500 hover:text-gray-700 text-2xl sm:text-3xl font-bold p-2 touch-friendly rounded-full hover:bg-gray-100","aria-label":"Close modal",children:"\xd7"})]}),(0,G.jsx)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 safe-area-bottom",children:((t,n,s,o,i,c,d,h,f,m,p,g,v,b,S,k,_,N,O,A,I,T,C,D,M,R)=>{const L=String(y.team1_roster_id),B=String(y.team2_roster_id),F=null===(t=e.rostersBySeason)||void 0===t||null===(n=t[l])||void 0===n?void 0:n.find(e=>String(e.roster_id)===L),W=null===F||void 0===F?void 0:F.owner_id,U=r(W,l),z=null===(s=e.rostersBySeason)||void 0===s||null===(o=s[l])||void 0===o?void 0:o.find(e=>String(e.roster_id)===B),V=null===z||void 0===z?void 0:z.owner_id,H=r(V,l),q=null!==(i=null===(c=j[L])||void 0===c?void 0:c[u-1])&&void 0!==i?i:0,K=null!==(d=null===(h=j[B])||void 0===h?void 0:h[u-1])&&void 0!==d?d:0,Y=w(L,l),Q=w(B,l),X=E(W,V),$=P(W,l),J=P(V,l),Z=y.team1_score>y.team2_score,ee=y.team2_score>y.team1_score,te=e=>{if(!e)return new Set;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});const a=new Set;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{i.find(t=>t.playerId===e.playerId)&&a.add(e.playerId)})}),a},ne=e=>{if(!e)return 0;const t=e.lineup||[],n=e.bench||[],r={};t.forEach(e=>{const t=e.lineupPosition||e.position||"FLEX";r[t]=(r[t]||0)+1});let a=0;return Object.keys(r).forEach(e=>{const s=r[e];if(!s)return;let o=[],i=[];"FLEX"===e?(o=t.filter(e=>"FLEX"===e.lineupPosition),i=n.filter(e=>["RB","WR","TE"].includes(e.position)),o=o.concat(t.filter(e=>["RB","WR","TE"].includes(e.position)))):(o=t.filter(t=>(t.lineupPosition||t.position)===e),i=n.filter(t=>t.position===e));const l=[...o,...i].sort((e,t)=>(t.points||0)-(e.points||0));l.slice(0,s).forEach(e=>{a+=e.points||0})}),a},re=te(null===x||void 0===x?void 0:x.team1),ae=te(null===x||void 0===x?void 0:x.team2),se=ne(null===x||void 0===x?void 0:x.team1),oe=ne(null===x||void 0===x?void 0:x.team2),ie=null!==(f=null!==(m=null===x||void 0===x||null===(p=x.team1)||void 0===p?void 0:p.totalPoints)&&void 0!==m?m:y.team1_score)&&void 0!==f?f:0,le=null!==(g=null!==(v=null===x||void 0===x||null===(b=x.team2)||void 0===b?void 0:b.totalPoints)&&void 0!==v?v:y.team2_score)&&void 0!==g?g:0,ce=se>0?ie/se*100:0,ue=oe>0?le/oe*100:0;try{const e=(e,t)=>{if(!e)return;const n="coachScore:".concat(e),r=localStorage.getItem(n);let a=r?JSON.parse(r):[];a.push({ts:Date.now(),score:t}),a.length>200&&(a=a.slice(a.length-200)),localStorage.setItem(n,JSON.stringify(a))},t=e=>{if(!e)return null;const t=localStorage.getItem("coachScore:".concat(e));if(!t)return null;const n=JSON.parse(t);if(!Array.isArray(n)||0===n.length)return null;const r=n.reduce((e,t)=>e+(t.score||0),0);return r/n.length},n=(null===F||void 0===F?void 0:F.roster_id)||L,r=(null===z||void 0===z?void 0:z.roster_id)||B;n&&e(n,ce),r&&e(r,ue);t(n),t(r)}catch(OF){}return(0,G.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,G.jsxs)("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-8",children:[(0,G.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,G.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:U.avatar,alt:"".concat(U.name," avatar")}),(0,G.jsxs)("div",{className:"text-left",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:U.name}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[l," Week ",u]})]})]}),(0,G.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(Z?"text-green-600":"text-gray-600"),children:sD(Number(null!==(S=y.team1_score)&&void 0!==S?S:0),2)}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,G.jsx)("span",{className:"font-semibold text-gray-800",children:se>0?"".concat(sD(Number(null!==ce&&void 0!==ce?ce:0),1),"%"):"N/A"})]})]}),(0,G.jsxs)("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,G.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:H.avatar,alt:"".concat(H.name," avatar")}),(0,G.jsxs)("div",{className:"text-left",children:[(0,G.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:H.name}),(0,G.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[l," Week ",u]})]})]}),(0,G.jsx)("div",{className:"text-3xl sm:text-4xl font-bold ".concat(ee?"text-green-600":"text-gray-600"),children:sD(Number(null!==(k=y.team2_score)&&void 0!==k?k:0),2)}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"}),(0,G.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Coach Score: ",(0,G.jsx)("span",{className:"font-semibold text-gray-800",children:oe>0?"".concat(sD(Number(null!==ue&&void 0!==ue?ue:0),1),"%"):"N/A"})]})]})]}),(0,G.jsxs)("div",{className:"space-y-4 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-8",children:[(0,G.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,G.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[U.name," Stats"]}),(0,G.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Record:"}),(0,G.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(_=a[l])||void 0===_||null===(N=_[L])||void 0===N?void 0:N.wins)||0,"-",(null===a||void 0===a||null===(O=a[l])||void 0===O||null===(A=O[L])||void 0===A?void 0:A.losses)||0]})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Current Streak:"}),(0,G.jsx)("span",{className:"font-medium",children:$})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Avg:"}),(0,G.jsx)("span",{className:"font-medium",children:sD(Number(null!==Y&&void 0!==Y?Y:0),2)})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Luck Factor:"}),(0,G.jsxs)("span",{className:"font-medium ".concat(q>0?"text-green-600":"text-red-600"),children:[q>0?"+":"",sD(Number(null!==q&&void 0!==q?q:0),2)]})]})]})]}),(0,G.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:[(0,G.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[H.name," Stats"]}),(0,G.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Record:"}),(0,G.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(I=a[l])||void 0===I||null===(T=I[B])||void 0===T?void 0:T.wins)||0,"-",(null===a||void 0===a||null===(C=a[l])||void 0===C||null===(D=C[B])||void 0===D?void 0:D.losses)||0]})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Current Streak:"}),(0,G.jsx)("span",{className:"font-medium",children:J})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Season Avg:"}),(0,G.jsx)("span",{className:"font-medium",children:sD(Number(null!==Q&&void 0!==Q?Q:0),2)})]}),(0,G.jsxs)("div",{className:"flex justify-between",children:[(0,G.jsx)("span",{children:"Luck Factor:"}),(0,G.jsxs)("span",{className:"font-medium ".concat(K>0?"text-green-600":"text-red-600"),children:[K>0?"+":"",sD(Number(null!==K&&void 0!==K?K:0),2)]})]})]})]})]}),(0,G.jsx)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mobile-card",children:(0,G.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"H2H Record"}),(0,G.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:X})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Point Difference"}),(0,G.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:sD(Math.abs(Number(null!==(M=y.team1_score)&&void 0!==M?M:0)-Number(null!==(R=y.team2_score)&&void 0!==R?R:0)),2)})]}),(0,G.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Matchup Type"}),(0,G.jsx)("div",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Regular Season"})]})]})}),x?x.error?(0,G.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,G.jsx)("div",{className:"text-gray-500 mb-2",children:(0,G.jsx)("svg",{className:"mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,G.jsx)("p",{className:"text-gray-600 max-w-md mx-auto text-sm sm:text-base px-4",children:x.message})]}):(0,G.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,G.jsxs)("div",{className:"space-y-3",children:[(0,G.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[U.name," Roster"]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,G.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,G.jsx)("div",{className:"space-y-1 sm:space-y-2",children:x.team1.lineup.map((e,t)=>{var n,r;const a=x.team2.lineup[t],s=null!==(n=null===a||void 0===a?void 0:a.points)&&void 0!==n?n:0,o=null!==(r=null===e||void 0===e?void 0:e.points)&&void 0!==r?r:0,i=o>s?"win":o<s?"loss":"tie";return(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:(0,G.jsx)("span",{children:e.name})}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)}),"win"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-600","aria-label":"scored more"}):"loss"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-red-600","aria-label":"scored less"}):(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-300","aria-label":"tied"})]})]},e.playerId)})})]}),(0,G.jsxs)("details",{className:"bg-gray-50 rounded-lg mobile-card",children:[(0,G.jsxs)("summary",{className:"font-semibold text-gray-700 p-3 sm:p-4 text-sm sm:text-base cursor-pointer hover:bg-gray-100 rounded-lg touch-friendly",children:["Bench (",x.team1.bench.length," players)"]}),(0,G.jsx)("div",{className:"p-3 sm:p-4 pt-0 space-y-1",children:x.team1.bench.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"}),re.has(e.playerId)&&(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-yellow-400","aria-label":"optimal start"})]})]},e.playerId))})]})]}),(0,G.jsxs)("div",{className:"space-y-3",children:[(0,G.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[H.name," Roster"]}),(0,G.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mobile-card",children:[(0,G.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,G.jsx)("div",{className:"space-y-1 sm:space-y-2",children:x.team2.lineup.map((e,t)=>{var n,r;const a=x.team1.lineup[t],s=null!==(n=null===a||void 0===a?void 0:a.points)&&void 0!==n?n:0,o=null!==(r=null===e||void 0===e?void 0:e.points)&&void 0!==r?r:0,i=o>s?"win":o<s?"loss":"tie";return(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:(0,G.jsx)("span",{className:"truncate",children:e.name})}),(0,G.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)}),"win"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-600","aria-label":"scored more"}):"loss"===i?(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-red-600","aria-label":"scored less"}):(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-300","aria-label":"tied"})]})]},e.playerId)})})]}),(0,G.jsxs)("details",{className:"bg-gray-50 rounded-lg mobile-card",children:[(0,G.jsxs)("summary",{className:"font-semibold text-gray-700 p-3 sm:p-4 text-sm sm:text-base cursor-pointer hover:bg-gray-100 rounded-lg touch-friendly",children:["Bench (",x.team2.bench.length," players)"]}),(0,G.jsx)("div",{className:"p-3 sm:p-4 pt-0 space-y-1",children:x.team2.bench.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,G.jsx)("span",{className:"w-8 sm:w-10 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,G.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,G.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,G.jsxs)("div",{className:"text-right flex-shrink-0 flex items-center gap-2",children:[(0,G.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"}),ae.has(e.playerId)&&(0,G.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-yellow-400","aria-label":"optimal start"})]})]},e.playerId))})]})]})]}):(0,G.jsx)("div",{className:"text-center py-6 sm:py-8",children:(0,G.jsx)("div",{className:"text-gray-500 text-sm sm:text-base",children:"Loading roster details..."})})]})})()})]})})]})}):(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Gamecenter"}),(0,G.jsx)("div",{className:"text-center text-gray-500",children:(0,G.jsx)("p",{children:"Setting up Gamecenter..."})})]})})};let WB={data:{},timestamp:null,season:null,cacheKey:null};const UB=(e,t,n,r)=>{if(!e||!t)return{};const a=(null===r||void 0===r?void 0:r.week)||1,o="".concat(t,"-").concat(a),i=Date.now();if(WB.cacheKey===o&&WB.timestamp&&i-WB.timestamp<3e4)return WB.data;try{h.A.debug("Calculating DPR values for season ".concat(t,", week ").concat(a));const{seasonalMetrics:l}=s(e,0,n,r),c=l[t]||{},u={};return Object.keys(c).forEach(e=>{const t=c[e];if(t){const n=t.adjustedDPR||1,r=t.totalGames||0;let a=1;r<=3?a=.6:r<=6?a=.8:r<=10&&(a=.9),u[e]={adjustedDPR:n,rawDPR:t.rawDPR||0,gamesPlayed:r,confidenceMultiplier:a,averageScore:t.averageScore||0,winPercentage:t.winPercentage||0,allPlayWinPercentage:t.allPlayWinPercentage||0,luckRating:t.luckRating||0,highScore:t.highScore||0,lowScore:t.lowScore||0}}}),WB={data:u,timestamp:i,season:t,cacheKey:o},h.A.debug("DPR calculation complete. Cached ".concat(Object.keys(u).length," teams.")),u}catch(l){return h.A.error("Error calculating team DPR values:",l),{}}},zB=function(e,t,n,r,a,s){var o,i;let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;!u&&a&&s&&l&&c&&(u=UB(a,s,l,c));const d=null===(o=u)||void 0===o?void 0:o[e],h=null===(i=u)||void 0===i?void 0:i[t],f=n[e],m=n[t];if(!d&&!f||!h&&!m)return.5;const p=d||{adjustedDPR:1,averageScore:(null===f||void 0===f?void 0:f.averageScore)||100,gamesPlayed:(null===f||void 0===f?void 0:f.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},g=h||{adjustedDPR:1,averageScore:(null===m||void 0===m?void 0:m.averageScore)||100,gamesPlayed:(null===m||void 0===m?void 0:m.gamesPlayed)||0,confidenceMultiplier:.5,winPercentage:.5,allPlayWinPercentage:.5,luckRating:0},y=Math.max(p.gamesPlayed,g.gamesPlayed),v=p.adjustedDPR-g.adjustedDPR,x=.5*Math.tanh(2*v),b=(r[e]||1500)-(r[t]||1500),w=.2*Math.tanh(b/200),S=.15*(YB(e,s,a,4)-YB(t,s,a,4)),k=.1*VB(e,t,a,s),j=(p.allPlayWinPercentage||.5)-(g.allPlayWinPercentage||.5);let _=x+w+S+k+.05*Math.tanh(2*j),N=Math.min(p.confidenceMultiplier,g.confidenceMultiplier);y<=3?N*=.7:y<=6?N*=.85:y<=10&&(N*=.95),_*=N;let P=.12;y<=3?P=.25:y<=6?P=.18:y<=10&&(P=.15);const E=.5+_+((9301*(7*parseInt(e)+11*parseInt(t))+49297)%233280/233280-.5)*P;return Math.max(.05,Math.min(.95,E))},VB=(e,t,n,r)=>{if(null===n||void 0===n||!n.matchupsBySeason)return 0;const a=[r,(parseInt(r)-1).toString()];let s=0,o=0;if(a.forEach(r=>{(n.matchupsBySeason[r]||[]).filter(n=>String(n.team1_roster_id)===String(e)&&String(n.team2_roster_id)===String(t)||String(n.team1_roster_id)===String(t)&&String(n.team2_roster_id)===String(e)).forEach(t=>{if(t.team1_score>0||t.team2_score>0){o++;const n=String(t.team1_roster_id)===String(e);(n?t.team1_score:t.team2_score)>(n?t.team2_score:t.team1_score)?s++:0}})}),0===o)return 0;return 2*(s/o-.5)},HB=(e,t)=>{var n,r;const a={};if(((null===e||void 0===e||null===(n=e.rostersBySeason)||void 0===n?void 0:n[t])||[]).forEach(e=>{a[e.roster_id]=1500}),null!==e&&void 0!==e&&null!==(r=e.matchupsBySeason)&&void 0!==r&&r[t]){const n=e.matchupsBySeason[t].filter(e=>e.team1_score>0||e.team2_score>0).sort((e,t)=>parseInt(e.week)-parseInt(t.week));n.forEach(e=>{const t=String(e.team1_roster_id),n=String(e.team2_roster_id);if(!a[t]||!a[n])return;const r=a[t],s=a[n],o=1/(1+Math.pow(10,(s-r)/400)),i=1-o;let l,c;e.team1_score>e.team2_score?(l=1,c=0):e.team2_score>e.team1_score?(l=0,c=1):(l=.5,c=.5),a[t]=r+32*(l-o),a[n]=s+32*(c-i)})}return a},qB=(e,t,n,r)=>{const a=t[e];if(!a)return{strategy:"unknown",confidence:0,metrics:{}};const s=a.gamesPlayed||0,o=a.wins||0,i=(a.losses,a.averageScore||0),l=a.powerScore||0,c=s>0?o/s:0,u=a.pointsFor||0,d=a.pointsAgainst||0,h=YB(e,r,n,4),f=Object.values(t).map(e=>e.powerScore||0),m=f.reduce((e,t)=>e+t,0)/f.length,p=f.filter(e=>e<l).length/f.length,g={winPct:c,avgScore:i,powerScore:l,powerScorePercentile:p,recentMomentum:h,pointsDifferential:u-d,gamesPlayed:s};let y="middle",v=.5;c>=.7&&p>=.75&&h>.2?(y="contender",v=.9):c>=.6&&p>=.7?(y="contender",v=.7):p>=.8&&i>1.15*m?(y="contender",v=.6):c<=.3&&p<=.25&&h<-.2?(y="rebuilding",v=.9):c<=.4&&p<=.3?(y="rebuilding",v=.7):p<=.2&&i<.85*m?(y="rebuilding",v=.6):h>.1&&c>.45?(y="rising",v=.6):h<-.1&&c<.55?(y="declining",v=.6):(y="middle",v=.8);return v*=Math.min(1,s/6),{strategy:y,confidence:v,metrics:g,description:GB(y,v)}},GB=(e,t)=>{const n=t>.8?"Very":t>.6?"Moderately":"Somewhat";switch(e){case"contender":return"".concat(n," likely championship contender - selling out to win now");case"rebuilding":return"".concat(n," likely rebuilding - tanking for future assets");case"rising":return"".concat(n," likely on the rise - building momentum");case"declining":return"".concat(n," likely declining - losing momentum");case"middle":return"".concat(n," likely stuck in the middle - mediocre performance");default:return"Unknown strategy - insufficient data"}},KB=(e,t,n,r)=>{var a;if(!t[e])return{consistency:.5,variance:0,reliability:.5};let s=[];if(null!==n&&void 0!==n&&null!==(a=n.matchupsBySeason)&&void 0!==a&&a[r]){const t=n.matchupsBySeason[r].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(e.week)-parseInt(t.week));s=t.map(t=>String(t.team1_roster_id)===String(e)?t.team1_score:t.team2_score)}if(s.length<3)return{consistency:.5,variance:0,reliability:.5,sampleSize:s.length};const o=s.reduce((e,t)=>e+t,0)/s.length,i=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,l=Math.sqrt(i),c=o>0?l/o:1,u=Math.max(0,Math.min(1,1-c/.4));let d=[];for(let p=1;p<s.length;p++)d.push(Math.abs(s[p]-s[p-1]));const h=d.length>0?d.reduce((e,t)=>e+t,0)/d.length:0,f=Math.max(0,Math.min(1,1-h/(.4*o)));let m=.5;if(s.length>=4){const e=s.slice(0,Math.floor(s.length/2)),t=s.slice(Math.floor(s.length/2)),n=e.reduce((e,t)=>e+t,0)/e.length,r=t.reduce((e,t)=>e+t,0)/t.length,a=Math.abs(r-n);m=Math.max(0,Math.min(1,1-a/(.3*o)))}return{consistency:u,variance:i,reliability:f,trendStability:m,coefficientOfVariation:c,avgScore:o,standardDeviation:l,sampleSize:s.length,weeklyScores:s}},YB=function(e,t,n){var r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;if(null===n||void 0===n||null===(r=n.matchupsBySeason)||void 0===r||!r[t])return 0;const s=n.matchupsBySeason[t].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&(t.team1_score>0||t.team2_score>0)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return 0;let o=0,i=0;const l=[];s.forEach((t,n)=>{const r=String(t.team1_roster_id)===String(e),a=r?t.team1_score:t.team2_score,s=r?t.team2_score:t.team1_score;l.push({teamScore:a,opponentScore:s,week:t.week});const c=Math.pow(.7,n),u=a-s;let d=Math.tanh(u/50);u>30||u<-30?d*=1.2:Math.abs(u)<10&&(d*=.8),o+=d*c,i+=c});let c=i>0?o/i:0,u=0,d="none";if(l.length>=3){const e=l.slice(0,3).map(e=>e.teamScore>e.opponentScore);e.every(e=>!0===e)?(d="win",u=e.length):e.every(e=>!1===e)&&(d="loss",u=e.length);const t=l.reduce((e,t)=>e+t.teamScore,0)/l.length,n=l.slice(0,3),r=n.reduce((e,t)=>e+t.teamScore,0)/n.length;r>1.15*t?(d="none"===d?"hot":d,u=Math.max(u,2)):r<.85*t&&(d="none"===d?"cold":d,u=Math.max(u,2))}let h=0;if(u>=3)switch(d){case"win":case"hot":h=.2*Math.min(u/3,2);break;case"loss":case"cold":h=-.2*Math.min(u/3,2)}let f=0;if(l.length>=4){const e=l.slice(-Math.floor(l.length/2)),t=l.slice(0,Math.floor(l.length/2)),n=e.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/e.length,r=t.reduce((e,t)=>e+(t.teamScore-t.opponentScore),0)/t.length,a=(r-n)/50;f=.15*Math.tanh(a)}const m=c+h+f;return Math.max(-1,Math.min(1,m))},QB=(e,t,n,r)=>{var a;if(null===n||void 0===n||null===(a=n.matchupsBySeason)||void 0===a||!a[t])return 0;const s=n.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e));if(0===s.length)return 0;let o=0,i=0;return s.forEach(t=>{const n=String(t.team1_roster_id)===String(e),a=String(n?t.team2_roster_id:t.team1_roster_id);r[a]&&(o+=r[a],i++)}),i>0?o/i:0},XB=function(e){const t=e*(1+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)),n=Math.max(.01,Math.min(.99,t));let r,a;return r=n>=.5?Math.round(-100*n/(1-n)):Math.round(100*(1-n)/n),a=r<0?-r/(100-r):100/(r+100),{americanOdds:r,impliedProbability:a,originalProbability:e,edge:a-e}},$B=e=>{const t=Object.keys(e).map(t=>({rosterId:t,wins:e[t].wins||0,losses:e[t].losses||0,pointsFor:e[t].pointsFor||0,gamesPlayed:e[t].gamesPlayed||0}));t.forEach(e=>{e.winPercentage=e.gamesPlayed>0?e.wins/e.gamesPlayed:0});const n=[...t].sort((e,t)=>e.winPercentage!==t.winPercentage?t.winPercentage-e.winPercentage:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor),r=n.slice(0,4).map((e,t)=>u(u({},e),{},{seed:t+1,qualifyMethod:"record"})),a=new Set(r.map(e=>e.rosterId)),s=t.filter(e=>!a.has(e.rosterId)).sort((e,t)=>t.pointsFor-e.pointsFor),o=s.slice(0,2).map((e,t)=>u(u({},e),{},{seed:t+5,qualifyMethod:"wildcard"})),i=[...r,...o].sort((e,t)=>e.seed-t.seed);return i},JB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;if(0===n){return $B(t).some(t=>t.rosterId===e)?1:0}let a=0;Object.keys(t).length;const s=Object.keys(t);for(let o=0;o<r;o++){const r={};Object.keys(t).forEach(e=>{r[e]={wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100,powerScore:t[e].powerScore||0}});const o={};Object.keys(r).forEach(e=>{const t=r[e],n=t.gamesPlayed||1,a=Math.max(0,(14-n)/14),s=1-a,i=(t.powerScore||0)/5*.15,l=n>0?t.wins/n:.5;let c;c=n<=2?.5+.05*i+.1*(l-.5):n<=5?.5+.15*i+.25*(l-.5):a*i+s*l;const u=.3*(Math.random()-.5);o[e]=Math.max(.25,Math.min(.75,c+u))});for(let e=0;e<n;e++){const e=[...s],t=[];for(;e.length>=2;){const n=Math.floor(Math.random()*e.length),r=e.splice(n,1)[0],a=Math.floor(Math.random()*e.length),s=e.splice(a,1)[0];t.push([r,s])}if(1===e.length){const t=e[0],n=r[t],a=n.averageScore||100;Math.random()<.5?(n.wins++,n.pointsFor+=a+20*(Math.random()-.5)):(n.losses++,n.pointsFor+=.9*a+20*(Math.random()-.5)),n.gamesPlayed++,n.averageScore=n.pointsFor/n.gamesPlayed}t.forEach(e=>{let[t,n]=e;const a=r[t],s=r[n],i=o[t],l=o[n],c=.5+.4*(i-l),u=.2*(Math.random()-.5),d=Math.max(.15,Math.min(.85,c+u)),h=Math.random()<d,f=a.averageScore+30*(i-.5),m=s.averageScore+30*(l-.5),p=Math.max(40,f+50*(Math.random()-.5)),g=Math.max(40,m+50*(Math.random()-.5));h?(a.wins++,s.losses++,a.pointsFor+=Math.max(p,g+5),s.pointsFor+=Math.min(p-5,g)):(s.wins++,a.losses++,s.pointsFor+=Math.max(p,g+5),a.pointsFor+=Math.min(p,g-5)),a.gamesPlayed++,s.gamesPlayed++,a.averageScore=a.pointsFor/a.gamesPlayed,s.averageScore=s.pointsFor/s.gamesPlayed;const y=h?.02:-.02;o[t]=Math.max(.1,Math.min(.9,o[t]+y)),o[n]=Math.max(.1,Math.min(.9,o[n]-y))})}$B(r).some(t=>t.rosterId===e)&&a++}return a/r},ZB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l={};a&&s&&o&&i&&r>=500&&(l=UB(a,s,o,i));const c=JB(e,t,n,r),u=t[e],d=l[e];if(!u)return{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:0,momentum:0,recentForm:.5,dprAdjustedRating:1,odds:{american:5e4,decimal:501,implied:.002}};const f=a&&r>=500?QB(e,s,a,t):50,m=a&&r>=500?YB(e,s,a,4):0,p=r>=500?eF(e,s,4,a):.5,g=(null===d||void 0===d?void 0:d.adjustedDPR)||1,y=(null===d||void 0===d?void 0:d.confidenceMultiplier)||.5,v=u.gamesPlayed||0,x=u.wins||0,b=(u.losses,u.pointsFor||0),w=u.averageScore||100,S=14-v,k=x+S,j=Object.keys(t).map(e=>({rosterId:e,wins:t[e].wins||0,losses:t[e].losses||0,pointsFor:t[e].pointsFor||0,gamesPlayed:t[e].gamesPlayed||0,averageScore:t[e].averageScore||100})).sort((e,t)=>{const n=e.gamesPlayed>0?e.wins/e.gamesPlayed:0,r=t.gamesPlayed>0?t.wins/t.gamesPlayed:0;return n!==r?r-n:e.wins!==t.wins?t.wins-e.wins:t.pointsFor-e.pointsFor});let _=!1,N=!1;if(v>=8){const e=j.slice(0,4),t=e[3],n=k/14>=(t.gamesPlayed>0?t.wins/t.gamesPlayed:0),r=(t.wins,14-t.gamesPlayed),a=t.wins+r;if(_=!n||k<a,_){const t=new Set(e.map(e=>e.rosterId)),n=j.filter(e=>!t.has(e.rosterId));if(n.sort((e,t)=>t.pointsFor-e.pointsFor),n.length>=2){const e=n[1],t=e.pointsFor;N=b+S*Math.max(1.5*w,150)<t+(14-e.gamesPlayed)*Math.max(.7*e.averageScore,60)}else N=!1}}const P=_&&N;if(P)return h.A.debug("Team ".concat(e," mathematically eliminated: Record path blocked: ").concat(_,", Points path blocked: ").concat(N)),{championshipProbability:0,playoffProbability:0,expectedSeed:null,strengthOfSchedule:f,momentum:m,recentForm:p,dprAdjustedRating:g,eliminationStatus:{isEliminated:!0,eliminatedFromRecord:_,eliminatedFromPoints:N,maxPossibleWins:k,remainingGames:S},odds:{american:null,decimal:null,implied:0}};v>0&&u.wins,(null===d||void 0===d?void 0:d.averageScore)||u.averageScore;let E=0,O=0,A={1:0,2:0,3:0,4:0,5:0,6:0};if(c>0){const n=u.averageScore||100,a=t._leagueAvgScore||(()=>{const e=Object.values(t).reduce((e,t)=>e+(t.averageScore||100),0)/Object.keys(t).length;return t._leagueAvgScore=e,e})(),s=n/a,o=c*(1/6*Math.max(.5,Math.min(2,s))*(g>0?g:1)*(1+.2*m)*(1+.3*(p-.5)));if(O=Math.round(c*r),O>0){const n=Object.keys(t),r=u.averageScore||100,s=u.wins||0,o=u.losses||0,i=r/a*.7+.3*(s+o>0?s/(s+o):.5);let l=0;for(const u of n){if(u===e)continue;const n=t[u],r=n.averageScore||100,s=n.wins||0,o=n.losses||0;r/a*.7+.3*(s+o>0?s/(s+o):.5)>i&&l++}const c=l+1;c<=2?(A[1]=Math.round(.6*O),A[2]=Math.round(.25*O),A[3]=Math.round(.1*O),A[4]=Math.round(.05*O)):c<=4?(A[1]=Math.round(.2*O),A[2]=Math.round(.35*O),A[3]=Math.round(.3*O),A[4]=Math.round(.15*O)):c<=6?(A[2]=Math.round(.15*O),A[3]=Math.round(.25*O),A[4]=Math.round(.3*O),A[5]=Math.round(.2*O),A[6]=Math.round(.1*O)):c<=8?(A[4]=Math.round(.2*O),A[5]=Math.round(.4*O),A[6]=Math.round(.4*O)):(A[5]=Math.round(.6*O),A[6]=Math.round(.4*O))}E=Math.round(o*r)}const I=r>0?E/r:0,T=O>0?Object.keys(A).reduce((e,t)=>e+parseInt(t)*A[t],0)/O:null;let C={american:null,decimal:null,implied:I},D=I;if(D=I,D<.005&&c>.05?D=Math.max(.005,.12*c):0!==D||P||(D=.001),D>0){const e=Math.min(.95,1.1*D);C.american=e>=.5?Math.round(-100*e/(1-e)):Math.round(100*(1-e)/e),C.decimal=e>0?1/e:null,C.implied=e}return{championshipProbability:I,playoffProbability:c,expectedSeed:T,strengthOfSchedule:f,momentum:m,recentForm:p,dprAdjustedRating:g,dprConfidence:y,seedDistribution:A,eliminationStatus:{isEliminated:!1,eliminatedFromRecord:!1,eliminatedFromPoints:!1,maxPossibleWins:k,remainingGames:S},odds:C}},eF=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null===a||void 0===a||null===(n=a.matchupsBySeason)||void 0===n||!n[t])return.5;const s=a.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,r);if(0===s.length)return.5;return s.filter(t=>String(t.team1_roster_id)===String(e)?parseFloat(t.team1_score)>parseFloat(t.team2_score):parseFloat(t.team2_score)>parseFloat(t.team1_score)).length/s.length},tF=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.045;const r=Math.abs(e);if(0===r){return-110+Math.round(10*(Math.random()-.5))}if(r>=20)return t?-1500:800;let a,s;r<=1.5?(a=-115-10*r,s=100+10*r):r<=3?(a=-130-20*(r-1.5),s=110+20*(r-1.5)):r<=4.5?(a=-160-30*(r-3),s=140+25*(r-3)):r<=6.5?(a=-205-50*(r-4.5),s=175+35*(r-4.5)):r<=10?(a=-305-70*(r-6.5),s=245+55*(r-6.5)):r<=14?(a=-550-100*(r-10),s=435+90*(r-10)):(a=-950-75*(r-14),s=795+60*(r-14));const o=1+.5*n;return a=Math.round(a*o),s=Math.round(s*o),a=Math.max(-2e3,a),s=Math.min(2e3,Math.max(100,s)),t?a:s},nF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e-.5;let r;const a=Math.abs(n);if(a<=.05)r=60*-n;else if(a<=.15){r=-(3+40*(a-.05))*Math.sign(n)}else if(a<=.3){r=-(7+30*(a-.15))*Math.sign(n)}else{r=-(14+20*(a-.3))*Math.sign(n)}return r-=.2*t,Math.round(2*r)/2},rF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e+t;r<150&&(r=200+60*Math.random());const a=r/5.2,{pace:s=1,defensive:o=1,weather:i=1,variance:l=.06,weekNumber:c=3}=n;let u=a*s*o*i;c<=4&&(u*=1.03);u*=1+(Math.random()-.5)*l;let d=5.2*u;return d=Math.max(205,Math.min(290,d)),Math.round(2*d)/2},aF=function(e){const t=Math.abs(e);if(t<=1.5){return{favoriteJuice:-115-Math.round(10*Math.random()),underdogJuice:-105-Math.round(10*Math.random())}}if(t>=10){const e=-108-Math.round(8*Math.random());return{favoriteJuice:e,underdogJuice:e}}{const e=Math.round(16*(Math.random()-.5)),t=-110+e,n=-110-e;return{favoriteJuice:Math.max(-125,Math.min(-100,t)),underdogJuice:Math.max(-125,Math.min(-100,n))}}},sF=function(e){const t=Math.round(12*(Math.random()-.5)),n=-110+t,r=-110-t;return{overJuice:Math.max(-120,Math.min(-105,n)),underJuice:Math.max(-120,Math.min(-105,r))}},oF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{powerScore:50,pointsComponent:0,consistencyComponent:0,momentumComponent:0};const{averageScore:r=100,scores:a=[],gamesPlayed:s=0,wins:o=0,losses:i=0}=e,l=Object.values(n).map(e=>e.averageScore||100),c=l.reduce((e,t)=>e+t,0)/l.length,u=(r-c)/c,d=60*Math.tanh(3*u);let h=0;if(a.length>=2){const e=a.reduce((e,t)=>e+Math.pow(t-r,2),0)/a.length,t=Math.sqrt(e)/r;h=25*Math.max(0,1-t/.3)}let f=0;if(a.length>=2){const e=Math.min(3,a.length),t=a.slice(-e),n=a.slice(0,-e);if(n.length>0){const e=t.reduce((e,t)=>e+t,0)/t.length,r=n.reduce((e,t)=>e+t,0)/n.length,a=(e-r)/r;f=15*Math.tanh(2*a)}}const m=50+d+h+f;return{powerScore:Math.max(0,Math.min(100,m)),pointsComponent:d,consistencyComponent:h,momentumComponent:f,details:{averageScore:r,leagueAverage:c,pointsAdvantage:100*u,consistency:h/25,momentum:f/15}}},iF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=oF(e,null===e||void 0===e?void 0:e.rosterId,n),a=oF(t,null===t||void 0===t?void 0:t.rosterId,n);return{powerDiff:(r.powerScore-a.powerScore)/10,team1Power:r.powerScore,team2Power:a.powerScore,team1Details:r.details,team2Details:a.details}},lF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{team1RosterId:r,team2RosterId:a,team1Name:s,team2Name:o,winProbability:i=.5}=e,{vig:l=.045,includePropBets:c=!0,includeSpecialMarkets:u=!1,weekNumber:d=3}=n,h=t[r]||{averageScore:120,gamesPlayed:0,scores:[],rosterId:r},f=t[a]||{averageScore:120,gamesPlayed:0,scores:[],rosterId:a},m=iF(h,f,t),p=.02*m.powerDiff,g=Math.max(.1,Math.min(.9,i+p));let y=nF(g,m.powerDiff);const v=y<0,x=Math.abs(y),b=0===x;let w,S;b?(w=tF(0,!0,l),S=tF(0,!1,l)):(w=tF(x,v,l),S=tF(x,!v,l));const k=rF(h.averageScore,f.averageScore,{weekNumber:d,variance:.06,pace:1+.01*m.powerDiff,defensive:1}),j=aF(y,.6),_=sF(k,.5),N=(e,t)=>b?"PK":t?e>0?"+".concat(e):e.toString():e>0?(-e).toString():"+".concat(Math.abs(e)),P={spread:{team1:{name:s,line:N(y,!0),odds:b||v?j.favoriteJuice:j.underdogJuice},team2:{name:o,line:N(y,!1),odds:b||v?j.underdogJuice:j.favoriteJuice}},moneyline:{team1:{name:s,odds:w},team2:{name:o,odds:S}},total:{over:{line:k,odds:_.overJuice},under:{line:k,odds:_.underJuice}},powerAnalysis:{team1Power:m.team1Power,team2Power:m.team2Power,powerDiff:m.powerDiff,team1Details:m.team1Details,team2Details:m.team2Details,originalWinProb:i,adjustedWinProb:g,isPick:b}};return c&&(P.props=cF(h,f,s,o)),P},cF=(e,t,n,r)=>{const a=e.averageScore||100,s=t.averageScore||100;return{teamTotals:{team1:{name:n,over:{line:Math.round(2*(a-5))/2,odds:-115},under:{line:Math.round(2*(a-5))/2,odds:-105}},team2:{name:r,over:{line:Math.round(2*(s-5))/2,odds:-115},under:{line:Math.round(2*(s-5))/2,odds:-105}}},marginOfVictory:{under7:{odds:140},"7to14":{odds:180},over14:{odds:250}}}},uF=e=>{const t=Math.max(.01,Math.min(.99,e));return t>=.5?Math.round(-100*t/(1-t)):Math.round(100*(1-t)/t)},dF=e=>e>0?"+".concat(e):"".concat(e),hF=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:s,loading:o,rostersWithDetails:i}=$(),[l,c]=(0,t.useState)("gameLines"),[d,h]=(0,t.useState)("playoffs"),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,S]=(0,t.useState)({}),[k,j]=(0,t.useState)([]),[_,N]=(0,t.useState)(""),[P,E]=(0,t.useState)([]),[O,A]=(0,t.useState)(!1),I=(0,t.useMemo)(()=>{var e;return n&&Array.isArray(n)?null===(e=n[0])||void 0===e?void 0:e.season:null===n||void 0===n?void 0:n.season},[n]);(0,t.useEffect)(()=>{if(null!==s&&void 0!==s&&s.week&&!f&&m(parseInt(s.week)),I&&e){const t=HB(e,I);S(t)}},[s,f,I,e]);const T=e=>{if(!e)return"";let t=e;if(Object.entries({"The ":"","Team ":""," FC":""," United":""," City":"",Dynasty:"Dyn",Champions:"Champs",Destroyers:"Dest",Crushers:"Crush",Warriors:"War",Titans:"Tit",Thunder:"Thund",Lightning:"Light",Hurricanes:"Hurr",Tornadoes:"Torn",Blizzard:"Bliz",Avalanche:"Aval",Storm:"Storm",Fire:"Fire",Ice:"Ice",Steel:"Steel",Iron:"Iron",Gold:"Gold",Silver:"Silv",Diamond:"Diam",Platinum:"Plat",Elite:"Elite",Power:"Pow",Force:"Force",Impact:"Imp",Explosion:"Exp",Revolution:"Rev",Evolution:"Evo",Domination:"Dom",Destruction:"Dest",Annihilation:"Ann",Obliteration:"Obl",Decimation:"Dec",Devastation:"Dev"}).forEach(e=>{let[n,r]=e;t=t.replace(new RegExp(n,"gi"),r)}),t.length>12){const e=t.split(" ");if(e.length>1){const n=e[0],r=e.slice(1).map(e=>e.charAt(0)).join("");t=n+r}}return t.length>12&&(t=t.substring(0,10)+"..."),t},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();E(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>{E(e=>e.filter(e=>e.id!==n))},3e3)},D=e=>{const t="".concat(e.matchupId,"-").concat(e.type,"-").concat(e.selection),n=k.findIndex(e=>e.id===t);if(n>=0)return j(e=>e.filter(e=>e.id!==t)),void C("Bet removed from slip","info");k.filter(t=>{if(t.matchupId===e.matchupId){if("spread"===e.type&&"spread"===t.type)return!0;if("total"===e.type&&"total"===t.type)return!0;if("moneyline"===e.type&&"moneyline"===t.type)return!0;if(("spread"===e.type&&"moneyline"===t.type||"moneyline"===e.type&&"spread"===t.type)&&e.team===t.team)return!0}return!1}).length>0?C("Cannot add conflicting bets from the same game","error"):(j(n=>[...n,u(u({},e),{},{id:t})]),C("Bet added to slip","success"))},M=()=>{j([]),N(""),C("Bet slip cleared","info")},R=()=>{if(!_||0===k.length)return 0;const e=parseFloat(_);if(isNaN(e)||e<=0)return 0;if(1===k.length){const t=k[0].odds;return e+(t>0?e*t/100:100*e/Math.abs(t))}{const t=(e=>{if(0===e.length)return 0;let t=1;e.forEach(e=>{const n=e.odds>0?e.odds/100+1:100/Math.abs(e.odds)+1;t*=n});const n=t>=2?100*(t-1):-100/(t-1);return Math.round(n)})(k);return e+(t>0?e*t/100:100*e/Math.abs(t))}},L=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return.5;const s=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===s.length)return.5;return s.filter(e=>{const n=String(e.team1_roster_id)===String(t);return(n?e.team1_score:e.team2_score)>(n?e.team2_score:e.team1_score)}).length/s.length},B=(0,t.useMemo)(()=>{if(!a||!I||!a[I])return{};const t=a[I],n=Object.keys(t).map(n=>{const r=t[n],a=((t,n,r)=>{const a=t.gamesPlayed>0?t.wins/t.gamesPlayed:0,s=t.averageScore||0,o=t.pointsFor||0,i=t.pointsAgainst||0,l=t.luckRating||0,c=t.strengthOfSchedule||0,u=100*a*.25+s/10*.2+10*L(n,r,4)*.15+(o-i)/100*.15+20*YB(n,r,e,6)*.1+.1*(w[n]?(w[n]-1500)/10:0)+50*l*.03+10*c*.02;return Math.max(0,u)})(r,n,I),s=qB(n,t,e,I),o=KB(n,t,e,I),i=YB(n,I,e,6);return u(u({rosterId:n},r),{},{powerScore:a,classification:s,consistency:o,momentum:i})}).sort((e,t)=>t.powerScore-e.powerScore),r={};return n.forEach((e,t)=>{r[e.rosterId]=u(u({},e),{},{rank:t+1,powerScore:e.powerScore})}),r},[a,I,w,e]),F=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return{mean:0,variance:0,count:0};let s=e.matchupsBySeason[n].filter(e=>e.t1===t||e.t2===t);a&&(s=s.slice(-a));const o=s.map(e=>e.t1===t?e.t1_score:e.t2_score).filter(e=>"number"===typeof e);if(0===o.length)return{mean:0,variance:0,count:0};const i=o.reduce((e,t)=>e+t,0)/o.length,l=o.reduce((e,t)=>e+Math.pow(t-i,2),0)/o.length;return{mean:i,variance:l,count:o.length}};const W=t=>{if(!a||!e)return[];return e.matchupsBySeason[I].filter(e=>parseInt(e.week)===t).map(n=>{const a=n.t1,o=n.t2,i=F(a,I,4),l=F(o,I,4),c=F(a,I),u=F(o,I),d=i.count>=2?i.mean:c.mean,h=l.count>=2?l.mean:u.mean,f=i.count>=2?i.variance:c.variance,m=l.count>=2?l.variance:u.variance,p=i.count>=2?i.count:c.count,g=l.count>=2?l.count:u.count,y=d-h,v=Math.sqrt(f/p+m/g);let x=.5;v>0&&(x=.5+.5*function(e){const t=e>=0?1:-1,n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}(y/(Math.sqrt(2)*v)));const b=y;let S=x>.5?-Math.round(100*x/(1-x)):Math.round(100*(1-x)/x),k=x<.5?-Math.round(100*(1-x)/x):Math.round(100*x/(1-x));S=S>0?S+15:S-15,k=k>0?k+15:k-15;try{var j,_,N,P,E,O,A,T,C,D,M,R;const i=String(n.team1_roster_id),l=String(n.team2_roster_id);if(!B[i]||!B[l])return null;const c=null!==s&&void 0!==s&&s.week?parseInt(s.week):null,u=(n.team1_score>0||n.team2_score>0)&&(!c||t<c),d=null===(j=e.rostersBySeason)||void 0===j||null===(_=j[I])||void 0===_?void 0:_.find(e=>String(e.roster_id)===i),h=null===d||void 0===d?void 0:d.owner_id,f=r(h,I),m=null===(N=e.rostersBySeason)||void 0===N||null===(P=N[I])||void 0===P?void 0:P.find(e=>String(e.roster_id)===l),p=null===m||void 0===m?void 0:m.owner_id,g=r(p,I),y=zB(i,l,B,w,e,I),v=1-y,L=XB(y),F=XB(v),W={matchupId:n.matchup_id,week:t,isCompleted:u,team1:{rosterId:i,name:f.name,avatar:f.avatar,record:"".concat((null===(E=B[i])||void 0===E?void 0:E.wins)||0,"-").concat((null===(O=B[i])||void 0===O?void 0:O.losses)||0),avgPoints:(null===(A=B[i])||void 0===A?void 0:A.averageScore)||0,powerScore:(null===(T=B[i])||void 0===T?void 0:T.powerScore)||0,eloRating:w[i]||1500,momentum:YB(i,I,e),probability:y,odds:L.americanOdds},team2:{rosterId:l,name:g.name,avatar:g.avatar,record:"".concat((null===(C=B[l])||void 0===C?void 0:C.wins)||0,"-").concat((null===(D=B[l])||void 0===D?void 0:D.losses)||0),avgPoints:(null===(M=B[l])||void 0===M?void 0:M.averageScore)||0,powerScore:(null===(R=B[l])||void 0===R?void 0:R.powerScore)||0,eloRating:w[l]||1500,momentum:YB(l,I,e),probability:v,odds:F.americanOdds},spread:b,moneyline:{[a]:S,[o]:k},winProb:x},U=lF({team1RosterId:i,team2RosterId:l,team1Name:f.name,team2Name:g.name,winProbability:y},B,{vig:.045,includePropBets:!0});u&&(W.actualScores={team1Score:n.team1_score,team2Score:n.team2_score,team1Won:n.team1_score>n.team2_score,totalPoints:n.team1_score+n.team2_score,team1CoveredSpread:null!==U&&void 0!==U&&U.spread?(()=>{const e=U.spread.team1.line,t="PK"===e?0:parseFloat(e);return n.team1_score-n.team2_score>-t})():null,overHit:null!==U&&void 0!==U&&U.total?(()=>{const e=U.total.over.line;return n.team1_score+n.team2_score>e})():null});const z=U;return W.markets=z,W}catch(L){return logger.error("Error generating matchup odds:",L),null}}).filter(Boolean)},U=e=>{const t=B[e];if(!t)return 0;const n=t.gamesPlayed||0,r=Math.max(0,14-n);return JB(e,B,r,3e3)},z=(e,t)=>{const n=e.gamesPlayed||0;if(n<3)return!1;const r=n>0?(e.wins||0)/n:0,a=e.averageScore||0,s=Object.values(B),o=s.reduce((e,t)=>e+(t.averageScore||0),0)/s.length,i=s.reduce((e,t)=>{const n=t.gamesPlayed||0;return e+(n>0?(t.wins||0)/n:0)},0)/s.length;return r<i&&a>1.05*o};return(0,t.useEffect)(()=>{"gameLines"===l&&f&&B&&Object.keys(B).length>0?g(W(f)):"futures"===l&&B&&Object.keys(B).length>0&&(y&&0!==y.length||v(B?Object.keys(B).map(t=>{var n,a;const s=B[t],o=null===(n=e.rostersBySeason)||void 0===n||null===(a=n[I])||void 0===a?void 0:a.find(e=>String(e.roster_id)===t),i=null===o||void 0===o?void 0:o.owner_id,l=r(i,I),c=U(t),u=uF(c);return{rosterId:t,name:l.name,avatar:l.avatar,record:"".concat(s.wins||0,"-").concat(s.losses||0),powerScore:s.powerScore,rank:s.rank,probability:c,odds:u}}).sort((e,t)=>t.probability-e.probability):[]),x&&0!==x.length||b((()=>{if(!B)return[];const t=Math.max(...Object.values(B).map(e=>e.gamesPlayed||0)),n=Math.max(0,14-t);return Object.keys(B).map(t=>{var a,o;const i=B[t],l=null===(a=e.rostersBySeason)||void 0===a||null===(o=a[I])||void 0===o?void 0:o.find(e=>String(e.roster_id)===t),c=null===l||void 0===l?void 0:l.owner_id,u=r(c,I),d=ZB(t,B,n,250,e,I,(e,t)=>{const n=r(e,t);return(null===n||void 0===n?void 0:n.name)||"Team ".concat(e)},s);return{rosterId:t,name:u.name,avatar:u.avatar,record:"".concat(i.wins||0,"-").concat(i.losses||0),powerScore:i.powerScore,rank:i.rank,probability:d.championshipProbability,odds:d.odds.american,playoffProb:d.playoffProbability,expectedSeed:d.expectedSeed,strengthOfSchedule:d.strengthOfSchedule,momentum:d.momentum,isWildcardContender:z(i,t),gamesPlayed:i.gamesPlayed||0}}).sort((e,t)=>t.probability-e.probability)})()))},[l,f,B,I,w,e]),o?(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,G.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Sportsbook..."})}):(0,G.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen ".concat(k.length>0?"pb-24":""),children:(0,G.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,G.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6",children:[(0,G.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Fantasy Sportsbook"}),(0,G.jsx)("p",{className:"text-blue-100",children:"Odds based on team performance, power rankings, and statistical analysis"})]}),(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[(0,G.jsxs)("div",{className:"flex border-b",children:[(0,G.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("gameLines"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("gameLines"),children:"Game Lines"}),(0,G.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("futures"===l?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>c("futures"),children:"Futures"})]}),"gameLines"===l&&(0,G.jsx)("div",{className:"p-4 border-b flex flex-wrap gap-4",children:(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week"}),(0,G.jsx)("select",{id:"week-select",value:f||"",onChange:e=>m(parseInt(e.target.value)),className:"block w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:Array.from({length:18},(e,t)=>t+1).map(e=>(0,G.jsxs)("option",{value:e,children:["Week ",e," ",e>=15?"(Playoffs)":""]},e))})]})})]}),"gameLines"===l&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Week ",f," ",f>=15?"Playoffs":"Betting Odds"]}),f>=15?(0,G.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[(0,G.jsx)("div",{className:"text-blue-600 mb-2",children:(0,G.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,G.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,G.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Playoff Week"}),(0,G.jsx)("p",{className:"text-blue-700 mb-4",children:15===f?"Wildcard Round":16===f?"Semifinals":"Championship Game"}),(0,G.jsx)("p",{className:"text-sm text-blue-600",children:"Playoff matchups are determined by regular season standings. Regular season betting is available for weeks 1-14."})]}):p.length>0?(0,G.jsx)("div",{className:"grid gap-6",children:p.map(e=>{var t,n,r,a,s,o,i,l,c,u,d,h,f,m,p,g,y,v,x,b;return(0,G.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,G.jsx)("div",{className:"p-6",children:(0,G.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center text-sm font-semibold text-gray-700 mb-4",children:"Teams"}),(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team1.avatar,alt:e.team1.name}),(0,G.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,G.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team1.name}),(0,G.jsx)("span",{className:"sm:hidden text-sm",children:T(e.team1.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team1.record})]})}),(0,G.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,G.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,G.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.team2.avatar,alt:e.team2.name}),(0,G.jsxs)("div",{className:"font-medium text-gray-800 text-center",children:[(0,G.jsx)("span",{className:"hidden sm:inline text-lg",children:e.team2.name}),(0,G.jsx)("span",{className:"sm:hidden text-sm",children:T(e.team2.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:e.team2.record})]})})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Spread"}),null!==(t=e.markets)&&void 0!==t&&t.spread?(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(n=e.actualScores)||void 0===n?void 0:n.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-spread-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&"PK"!==e.markets.spread.team1.line&&D({matchupId:e.matchupId,type:"spread",selection:"team1",team:e.team1.name,line:e.markets.spread.team1.line,odds:e.markets.spread.team1.odds,description:"".concat(e.team1.name," ").concat(e.markets.spread.team1.line)}),children:[(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(r=e.actualScores)||void 0===r?void 0:r.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-green-600":"text-red-600":"text-blue-600"),children:e.markets.spread.team1.line}),"PK"!==e.markets.spread.team1.line&&(0,G.jsx)("div",{className:"text-sm text-blue-600",children:dF(e.markets.spread.team1.odds)})]}),(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(a=e.actualScores)||void 0===a?void 0:a.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-spread-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&"PK"!==e.markets.spread.team2.line&&D({matchupId:e.matchupId,type:"spread",selection:"team2",team:e.team2.name,line:e.markets.spread.team2.line,odds:e.markets.spread.team2.odds,description:"".concat(e.team2.name," ").concat(e.markets.spread.team2.line)}),children:[(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(s=e.actualScores)||void 0===s?void 0:s.team1CoveredSpread)?e.actualScores.team1CoveredSpread?"text-red-600":"text-green-600":"text-blue-600"),children:e.markets.spread.team2.line}),"PK"!==e.markets.spread.team2.line&&(0,G.jsx)("div",{className:"text-sm text-blue-600",children:dF(e.markets.spread.team2.odds)})]})]}):(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Total"}),null!==(o=e.markets)&&void 0!==o&&o.total?(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(i=e.actualScores)||void 0===i?void 0:i.overHit)?e.actualScores.overHit?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-total-over"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&D({matchupId:e.matchupId,type:"total",selection:"over",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.over.line,odds:e.markets.total.over.odds,description:"Over ".concat(e.markets.total.over.line)}),children:[(0,G.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"OVER"}),(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(l=e.actualScores)||void 0===l?void 0:l.overHit)?e.actualScores.overHit?"text-green-600":"text-red-600":"text-blue-600"),children:e.markets.total.over.line}),(0,G.jsx)("div",{className:"text-sm text-blue-600",children:dF(e.markets.total.over.odds)})]}),(0,G.jsxs)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(c=e.actualScores)||void 0===c?void 0:c.overHit)?e.actualScores.overHit?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-total-under"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>!e.isCompleted&&D({matchupId:e.matchupId,type:"total",selection:"under",team:"".concat(e.team1.name," vs ").concat(e.team2.name),line:e.markets.total.under.line,odds:e.markets.total.under.odds,description:"Under ".concat(e.markets.total.under.line)}),children:[(0,G.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"UNDER"}),(0,G.jsx)("div",{className:"text-lg font-bold mb-1 ".concat(e.isCompleted&&null!==(null===(u=e.actualScores)||void 0===u?void 0:u.overHit)?e.actualScores.overHit?"text-red-600":"text-green-600":"text-blue-600"),children:e.markets.total.under.line}),(0,G.jsx)("div",{className:"text-sm text-blue-600",children:dF(e.markets.total.under.odds)})]})]}):(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"}),(0,G.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-20 flex items-center justify-center",children:"-"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Moneyline"}),(0,G.jsxs)("div",{className:"space-y-2",children:[(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(d=e.actualScores)||void 0===d?void 0:d.team1Won)?e.actualScores.team1Won?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":k.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team1"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{var t,n,r;return!e.isCompleted&&D({matchupId:e.matchupId,type:"moneyline",selection:"team1",team:e.team1.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team1)||void 0===r?void 0:r.odds)||e.team1.odds,description:"".concat(e.team1.name," ML")})},children:(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(h=e.actualScores)||void 0===h?void 0:h.team1Won)?e.actualScores.team1Won?"text-green-600":"text-red-600":"text-blue-600"),children:dF((null===(f=e.markets)||void 0===f||null===(m=f.moneyline)||void 0===m||null===(p=m.team1)||void 0===p?void 0:p.odds)||e.team1.odds)})}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-20 flex flex-col justify-center ".concat(e.isCompleted&&null!==(null===(g=e.actualScores)||void 0===g?void 0:g.team1Won)?e.actualScores.team1Won?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":k.some(t=>t.id==="".concat(e.matchupId,"-moneyline-team2"))?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),onClick:()=>{var t,n,r;return!e.isCompleted&&D({matchupId:e.matchupId,type:"moneyline",selection:"team2",team:e.team2.name,line:"ML",odds:(null===(t=e.markets)||void 0===t||null===(n=t.moneyline)||void 0===n||null===(r=n.team2)||void 0===r?void 0:r.odds)||e.team2.odds,description:"".concat(e.team2.name," ML")})},children:(0,G.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted&&null!==(null===(y=e.actualScores)||void 0===y?void 0:y.team1Won)?e.actualScores.team1Won?"text-red-600":"text-green-600":"text-blue-600"),children:dF((null===(v=e.markets)||void 0===v||null===(x=v.moneyline)||void 0===x||null===(b=x.team2)||void 0===b?void 0:b.odds)||e.team2.odds)})})]})]})]})}),!1]},e.matchupId)})}):(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,G.jsxs)("div",{className:"text-gray-500",children:[(0,G.jsxs)("p",{className:"text-lg mb-2",children:["No upcoming matchups found for Week ",f]}),(0,G.jsx)("p",{className:"text-sm",children:"Games may have already been played or the schedule isn't available yet."})]})})]}),"futures"===l&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsxs)("div",{className:"flex border-b mb-4",children:[(0,G.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("playoffs"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("playoffs"),children:"Playoff Appearance"}),(0,G.jsx)("button",{className:"flex-1 py-2 px-4 text-center font-medium ".concat("championship"===d?"bg-gray-900 text-white border-b-2 border-yellow-400":"text-gray-600 hover:text-gray-800"),onClick:()=>h("championship"),children:"Championship"})]}),"playoffs"===d&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Playoff Appearance Odds"}),(0,G.jsx)("div",{className:"grid gap-4",children:y.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,G.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,G.jsx)("span",{className:"sm:hidden",children:T(e.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record})]})]}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(k.some(t=>t.id==="playoff-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>D({matchupId:"playoff-".concat(e.rosterId),type:"futures",selection:"playoffs",team:e.name,line:"Make Playoffs",odds:e.odds,description:"".concat(e.name," Make Playoffs")}),children:(0,G.jsx)("div",{className:"text-lg font-bold text-blue-600",children:dF(e.odds)})})]})},e.rosterId))})]}),"championship"===d&&(0,G.jsxs)("div",{className:"space-y-4",children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Championship Odds"}),(0,G.jsx)("div",{className:"grid gap-4",children:x.map((e,t)=>(0,G.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,G.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"font-medium text-gray-800",children:[(0,G.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,G.jsx)("span",{className:"sm:hidden",children:T(e.name)})]}),(0,G.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:e.record}),e.isWildcardContender&&(0,G.jsx)("div",{className:"text-xs text-blue-600",children:"\ud83c\udfaf Wildcard Contender"})]})]}),(0,G.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer min-w-[80px] ".concat(k.some(t=>t.id==="championship-".concat(e.rosterId))?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200 border border-gray-300"),onClick:()=>D({matchupId:"championship-".concat(e.rosterId),type:"futures",selection:"championship",team:e.name,line:"Win Championship",odds:e.odds,description:"".concat(e.name," Win Championship")}),children:(0,G.jsx)("div",{className:"text-lg font-bold text-blue-600",children:dF(e.odds)})})]})},e.rosterId))})]})]}),P.length>0&&(0,G.jsx)("div",{className:"fixed top-4 right-4 space-y-2 z-50",children:P.map(e=>(0,G.jsx)("div",{className:"px-4 py-2 rounded-lg shadow-lg text-white ".concat("success"===e.type?"bg-green-500":"error"===e.type?"bg-red-500":"bg-blue-500"),children:e.message},e.id))}),k.length>0&&(0,G.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg transform transition-transform duration-300 z-40 ".concat(O?"translate-y-0":"translate-y-[calc(100%-60px)]"),children:[(0,G.jsxs)("div",{className:"px-4 py-3 border-b cursor-pointer flex justify-between items-center bg-gray-50",onClick:()=>A(!O),children:[(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsxs)("span",{className:"font-bold text-gray-800",children:["Bet Slip (",k.length,")"]}),_&&parseFloat(_)>0&&(0,G.jsxs)("span",{className:"text-green-600 font-semibold text-sm",children:["$",sD(Number(R()),2)]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[(0,G.jsx)("button",{onClick:e=>{e.stopPropagation(),M()},className:"text-red-500 hover:text-red-700 text-sm font-medium px-2 py-1",children:"Clear"}),(0,G.jsx)("svg",{className:"w-4 h-4 text-gray-500 transform transition-transform ".concat(O?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,G.jsxs)("div",{className:"max-h-[50vh] overflow-y-auto",children:[(0,G.jsx)("div",{className:"p-3 space-y-2",children:k.map(e=>(0,G.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-sm font-medium text-gray-800",children:e.description}),(0,G.jsx)("div",{className:"text-xs text-gray-600",children:dF(e.odds)})]}),(0,G.jsx)("button",{onClick:()=>{return t=e.id,j(e=>e.filter(e=>e.id!==t)),void C("Bet removed from slip","info");var t},className:"text-red-500 hover:text-red-700 text-lg leading-none",children:"\xd7"})]},e.id))}),(0,G.jsxs)("div",{className:"p-3 border-t bg-gray-50 space-y-3",children:[(0,G.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,G.jsx)("input",{type:"number",min:"1",step:"1",value:_,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm",placeholder:"Bet $"}),k.length>1&&(0,G.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:[k.length,"-leg parlay"]})]}),_&&parseFloat(_)>0&&(0,G.jsxs)("div",{className:"flex justify-between items-center",children:[(0,G.jsxs)("div",{className:"text-sm",children:[(0,G.jsx)("span",{className:"text-gray-600",children:"To Win: "}),(0,G.jsx)("span",{className:"font-semibold text-green-600",children:sD(Number(R()-parseFloat(_)),2)})]}),(0,G.jsx)("button",{className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors text-sm font-medium",onClick:()=>{C("Bet placed: $".concat(_," to win $").concat(sD(Number(R()-parseFloat(_)),2)),"success"),M(),A(!1)},children:"Place Bet"})]})]})]})]}),(0,G.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,G.jsx)("div",{className:"flex",children:(0,G.jsxs)("div",{className:"ml-3",children:[(0,G.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"For Entertainment Purposes Only"}),(0,G.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,G.jsx)("p",{children:"These odds are calculated using historical performance, team statistics, and power rankings. They are for entertainment and analytical purposes only. Fantasy football involves elements of skill and chance - actual results may vary significantly from projections."})})]})})})]})})};const fF=function(e,t,n,r){if(!e||!e.draftPicksBySeason)return{resolved:!1,label:"Round Cost: R".concat(r)};const a=e.draftPicksBySeason[String(n)]||e.draftPicksBySeason[n];if(!a||!a.length)return{resolved:!1,label:"Round Cost: R".concat(r)};let s=null;try{const r=e.rostersBySeason&&(e.rostersBySeason[String(n)]||e.rostersBySeason[n]);if(r&&null!=t){const e=r.find(e=>String(e.roster_id)===String(t));if(e&&(s=String(e.roster_id)),!s){const e=r.find(e=>String(e.owner_id)===String(t));e&&(s=String(e.roster_id))}}}catch(OF){}const o=e.tradedPicksBySeason&&(e.tradedPicksBySeason[String(n)]||e.tradedPicksBySeason[n])||[],i=new Map;Array.isArray(o)&&o.forEach(e=>{const t=Number(e.round||e.round_number||e.draft_round||0)||Number(e.round);i.has(t)||i.set(t,new Map);const n=null!=e.roster_id?String(e.roster_id):null!=e.original_roster_id?String(e.original_roster_id):null;n&&i.get(t).set(n,e)});const l=e=>{const n=a.find(n=>Number(n.round)===Number(e)&&(e=>{var n,r,a,o;if(!e)return!1;const i=[e.roster_id,e.picked_by,e.owner_id,null===(n=e.metadata)||void 0===n?void 0:n.owner_id,null===(r=e.metadata)||void 0===r?void 0:r.owner,null===(a=e.metadata)||void 0===a?void 0:a.original_owner_id,null===(o=e.metadata)||void 0===o?void 0:o.original_owner];for(const l of i)if(null!=l){if(String(l)===String(t))return!0;if(s&&String(l)===String(s))return!0}return!1})(n));if(n)return n;if(s&&i.has(Number(e))){const t=i.get(Number(e));for(const[n,r]of t.entries()){const t=null!=r.owner_id?String(r.owner_id):null!=r.owner?String(r.owner):null;if(t&&String(t)===String(s)){const t=a.find(t=>{var r,a,s;return Number(t.round)===Number(e)&&(String(t.roster_id)===String(n)||String(null===(r=t.metadata)||void 0===r?void 0:r.original_roster_id)===String(n)||String(null===(a=t.metadata)||void 0===a?void 0:a.original_owner_roster_id)===String(n)||String(null===(s=t.metadata)||void 0===s?void 0:s.original_owner)===String(n))});if(t)return t;if(null!=r.pick_no){const t=a.find(t=>Number(t.round)===Number(e)&&Number(t.pick_no)===Number(r.pick_no));if(t)return t}}}}return null};let c=l(r),u=r;if(!c)for(let d=r-1;d>=1;d--){const e=l(d);if(e){c=e,u=d;break}}if(c){const e=(e=>{if(null!=e.pick_in_round)return Number(e.pick_in_round);if(null!=e.pick_no&&a&&a.length){const t=a.filter(t=>Number(t.round)===Number(e.round)).slice().sort((e,t)=>Number(e.pick_no||0)-Number(t.pick_no||0)),n=t.findIndex(t=>String(t.pick_no)===String(e.pick_no));if(n>=0)return n+1}return null})(c),t=null!=c.pick_no?Number(c.pick_no):null;return{resolved:!0,round:u,pick_in_round:e,pick_no:t,label:"R".concat(u," \u2022 Pick ").concat(e||t||"\u2014")}}return{resolved:!1,label:"Round Cost: R".concat(r)}};function mF(){const{historicalData:e,usersData:n,currentSeason:r,nflPlayers:a,getTeamDetails:s}=$(),o=(0,t.useMemo)(()=>{const t={};if(!e||!e.draftPicksBySeason)return t;const n={},r=Object.keys(e.draftPicksBySeason).map(e=>Number(e)).sort((e,t)=>e-t);for(const i of r){const t=(e.draftPicksBySeason[i]||[]).slice().sort((e,t)=>(e.pick_no||0)-(t.pick_no||0));for(const e of t){var a,s;if(!e.player_id)continue;const t=String(e.player_id);n[t]||(n[t]=[]),n[t].push({season:i,is_keeper:!!e.is_keeper,picked_by:e.picked_by,roster_id:e.roster_id,player_name:e.player_name||"".concat((null===(a=e.metadata)||void 0===a?void 0:a.first_name)||""," ").concat((null===(s=e.metadata)||void 0===s?void 0:s.last_name)||"").trim(),round:e.round||null,pick_in_round:e.pick_in_round||null,pick_no:e.pick_no||null})}}for(const[e,i]of Object.entries(n)){var o;const n=i.length?i[0].season:null;let r=null,a=null,s=null,l=null,c=null;for(const e of i)r=e.season,a=e.picked_by||a,s=s||e.player_name,e.is_keeper||(l=e.season),e.is_keeper&&(c=e.season);const u=null!==l?l:n,d=null===u?[]:i.filter(e=>e.season>=u),h=d.filter(e=>e.is_keeper).length,f=d.slice().reverse().find(e=>e.is_keeper),m=f?f.season:null,p=!(null===(o=i[i.length-1])||void 0===o||!o.is_keeper),g=d&&d.length?d[0]:i.length?i[0]:null,y=g&&g.round||null,v=g&&g.pick_in_round||null,x=g&&g.pick_no||null;t[e]={player_name:s||"Unknown",lastOwner:a,yearsKept:h,lastSeasonSeen:r,firstSeasonSeen:u,originalDraftSeason:n,originalDraftRound:y,originalPickInRound:v,originalPickNo:x,lastKeeperSeason:m,isKeeper:p}}return t},[e]),[i,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)("all"),[h,f]=(0,t.useState)("position"),{currentPlayersMap:m,rosterOptions:p,positionOptions:g,rosterLookup:y}=(0,t.useMemo)(()=>{var t,a;const s=new Map,o={},i=new Set;if(r&&null!==e&&void 0!==e&&null!==(t=e.draftPicksBySeason)&&void 0!==t&&t[r])for(const n of e.draftPicksBySeason[r]){var l,c,u;if(!n.player_id)continue;const e=String(n.player_id);n.roster_id?s.set(e,{roster_id:String(n.roster_id),position:n.player_position||(null===(l=n.metadata)||void 0===l?void 0:l.position)||null}):s.set(e,{roster_id:null,position:n.player_position||(null===(c=n.metadata)||void 0===c?void 0:c.position)||null});const t=n.player_position||(null===(u=n.metadata)||void 0===u?void 0:u.position);t&&i.add(t)}if(r&&null!==e&&void 0!==e&&null!==(a=e.rostersBySeason)&&void 0!==a&&a[r])for(const v of e.rostersBySeason[r]){var d;const e=String(v.roster_id);let t=null===(d=v.metadata)||void 0===d?void 0:d.team_name;if(!t&&v.owner_id&&n){const e=n.find(e=>String(e.user_id)===String(v.owner_id));var h;if(e)t=(null===(h=e.metadata)||void 0===h?void 0:h.team_name)||e.display_name||String(v.owner_id)}o[e]=t||v.owner_id||e}const f=Object.entries(o).map(t=>{var n;let[a,s]=t,o=null;if(r&&null!==e&&void 0!==e&&null!==(n=e.rostersBySeason)&&void 0!==n&&n[r]){const t=e.rostersBySeason[r].find(e=>String(e.roster_id)===String(a));t&&(o=t.owner_id||null)}return{id:a,name:s,ownerId:o}}),m=["QB","RB","WR","TE","K","DEF"],p=Array.from(i).map(e=>(e||"").toUpperCase()),g=m.filter(e=>p.includes(e)),y=p.filter(e=>!m.includes(e)).sort();return{currentPlayersMap:s,rosterOptions:f,positionOptions:[...g,...y],rosterLookup:o}},[e,r]),v=(0,t.useMemo)(()=>{const e=new Set;for(const[t,n]of Object.entries(o)){if(!m.get(String(t)))continue;const r=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,a=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,s=n.yearsKept||0;let o=null;if(a){o=a+Math.max(0,3-s)}else r&&(o=r+3);o&&e.add(o)}return Array.from(e).sort((e,t)=>e-t)},[o,m]),[x,b]=(0,t.useState)("all"),w=(0,t.useMemo)(()=>Object.entries(o).map(e=>{let[t,n]=e;return u({player_id:t},n)}).filter(e=>{const t=m.get(String(e.player_id));if(!t)return!1;if(i&&"all"!==i&&(!t.roster_id||String(t.roster_id)!==String(i)))return!1;if(c&&"all"!==c){const n=t.position||e.position||null;if(!n||String(n).toUpperCase()!==String(c).toUpperCase())return!1}const n=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,r=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,a=e.yearsKept||0;let s=null;if(r){s=r+Math.max(0,3-a)}else n&&(s=n+3);if(x&&"all"!==x){if(!s)return!1;if(String(s)!==String(x))return!1}return!0}),[o,m,i,c,x]);(0,t.useEffect)(()=>{if("all"!==i){const e=p.find(e=>String(e.id)===String(i));e||l("all")}},[p,i]),(0,t.useEffect)(()=>{if("all"!==c){const e=g.find(e=>String(e).toUpperCase()===String(c).toUpperCase());e||d("all")}},[g,c]),(0,t.useEffect)(()=>{if("all"!==x){v.find(e=>String(e)===String(x))||b("all")}},[v,x]);const[S,k]=(0,t.useState)("");return(0,G.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg shadow-lg",children:[(0,G.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-yellow-300",children:"Keepers"}),(0,G.jsxs)("p",{className:"text-sm text-gray-200 mb-4",children:["Rules: 3 players are to be kept from 3 different positions. Draft year + 2 keeper years for a total of 3 years max. Starting in 2028, ",(0,G.jsx)("span",{className:"underline decoration-dotted decoration-gray-400 cursor-help",title:"2026 = 1 player kept at round value\n2027 = 2 players kept at round value\n2028 = 3 players kept at round value\nIf you do not have a pick in the assigned round, it will cost -1 round.\nFree Agent keepers are assigned the 10th round.",children:"F Jon"})," Rule will be completely implemented with draft pick values assigned to players."]}),(0,G.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Roster:"}),(0,G.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),p.map(e=>(0,G.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Position:"}),(0,G.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),g.map(e=>(0,G.jsx)("option",{value:e,children:e},e))]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Sort by:"}),(0,G.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"position",children:"Position order"}),(0,G.jsx)("option",{value:"draftYear",children:"Draft-eligible year"}),(0,G.jsx)("option",{value:"round",children:"Round cost"})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Year:"}),(0,G.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[(0,G.jsx)("option",{value:"all",children:"All"}),v.map(e=>(0,G.jsx)("option",{value:String(e),children:e},e))]})]}),(0,G.jsxs)("div",{className:"mt-2 sm:mt-0",children:[(0,G.jsx)("label",{className:"text-sm text-gray-100 mr-2",children:"Search:"}),(0,G.jsx)("input",{value:S,onChange:e=>k(e.target.value),placeholder:"Player name",className:"bg-gray-800 text-gray-100 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),(0,G.jsx)("div",{className:"overflow-x-auto bg-gray-800 rounded-lg p-3",children:0===w.length?(0,G.jsx)("div",{className:"py-8 text-center text-gray-300",children:"No keeper data available for current season."}):(0,G.jsx)("div",{className:"w-full",children:(0,G.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.filter(e=>"all"===i||String(e.id)===String(i)).map(t=>{const n=w.filter(e=>{const n=m.get(String(e.player_id));if(!n||String(n.roster_id)!==String(t.id))return!1;if(S&&S.trim()){const t=S.trim().toLowerCase();return(e.player_name||"").toLowerCase().includes(t)}return!0});return(0,G.jsxs)("div",{className:"bg-white/5 border border-gray-700 rounded p-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[t.ownerId&&s?(()=>{const e=s(t.ownerId,r),n=(null===e||void 0===e?void 0:e.avatar)||"/LeagueLogo.PNG";return(0,G.jsx)("img",{src:n,alt:"".concat((null===e||void 0===e?void 0:e.name)||t.name," logo"),className:"w-6 h-6 mr-2 object-contain",onError:e=>{e.target.onerror=null,e.target.src="/LeagueLogo.PNG"}})})():(0,G.jsx)("img",{src:"/LeagueLogo.PNG",alt:"league logo",className:"w-6 h-6 mr-2 object-contain"}),(0,G.jsx)("div",{className:"font-semibold text-yellow-300 text-center text-gray-100 text-sm",children:t.name})]}),(0,G.jsx)("div",{className:"space-y-1",children:0===n.length?(0,G.jsx)("div",{className:"text-sm text-gray-400",children:"No players"}):(()=>{const r=["QB","RB","WR","TE","K","DEF"],s=n.slice().sort((e,t)=>{var n,s,o,i;if("draftYear"===h){const n=e=>{const t=e.firstSeasonSeen?Number(e.firstSeasonSeen):e.lastSeasonSeen?Number(e.lastSeasonSeen):null,n=e.lastKeeperSeason?Number(e.lastKeeperSeason):null,r=e.yearsKept||0;let a=null;if(n){a=n+Math.max(0,3-r)}else t&&(a=t+3);return null===a?9999:Number(a)},r=n(e),a=n(t);if(r!==a)return r-a}if("round"===h){const n=e.originalDraftRound?Number(e.originalDraftRound):null,r=t.originalDraftRound?Number(t.originalDraftRound):null,a=n?Math.max(1,n-(e.yearsKept||0)):9999,s=r?Math.max(1,r-(t.yearsKept||0)):9999;if(a!==s)return a-s}const l=((null===(n=m.get(String(e.player_id)))||void 0===n?void 0:n.position)||a&&(null===(s=a[e.player_id])||void 0===s?void 0:s.position)||"").toUpperCase(),c=((null===(o=m.get(String(t.player_id)))||void 0===o?void 0:o.position)||a&&(null===(i=a[t.player_id])||void 0===i?void 0:i.position)||"").toUpperCase(),u=-1===r.indexOf(l)?999:r.indexOf(l),d=-1===r.indexOf(c)?999:r.indexOf(c);return u!==d?u-d:(e.player_name||"").localeCompare(t.player_name||"")});return s.map(n=>{var r;const s=m.get(String(n.player_id)),o=((null===s||void 0===s?void 0:s.position)||a&&(null===(r=a[n.player_id])||void 0===r?void 0:r.position)||"").toUpperCase(),i=a&&a[n.player_id]?a[n.player_id].team:"";let l=n.player_name||"";if((!l||l.toLowerCase().includes("unknown"))&&"DEF"===o)if(i)l="".concat(i," DEF");else{let t=null;const r=Object.keys((null===e||void 0===e?void 0:e.draftPicksBySeason)||{}).map(e=>Number(e)).sort((e,t)=>e-t);for(const a of r){const r=(e.draftPicksBySeason[a]||[]).find(e=>String(e.player_id)===String(n.player_id));var c;if(r)if(t=(null===(c=r.metadata)||void 0===c?void 0:c.team)||r.player_team||null,t)break}l=t?"".concat(t," DEF"):"Unknown Defense"}const u=n.firstSeasonSeen?Number(n.firstSeasonSeen):n.lastSeasonSeen?Number(n.lastSeasonSeen):null,d=n.lastKeeperSeason?Number(n.lastKeeperSeason):null,h=n.yearsKept||0;let f=null;if(d){const e=Math.max(0,3-h);f=d+e}else u&&(f=u+3);const p=n.originalDraftRound?Number(n.originalDraftRound):null,g=p?Math.max(1,p-(n.yearsKept||0)):null;let y="bg-gray-900 border-gray-800",v="text-gray-100",x="text-gray-200";h>=2?(y="bg-red-900/10 border-red-500",v="text-red-200 font-medium",x="text-red-300"):1===h&&(y="bg-yellow-900/10 border-yellow-500",v="text-yellow-200 font-medium",x="text-yellow-300");const b=a?a[n.player_id]:null,w=(null===b||void 0===b?void 0:b.position)||(null===s||void 0===s?void 0:s.position)||"",S=i||(null===b||void 0===b?void 0:b.team)||"";return(0,G.jsxs)("div",{className:"flex justify-between items-center p-1 rounded border ".concat(y),children:[(0,G.jsx)("div",{className:"min-w-0 flex-1 text-sm text-left ".concat(v),children:(0,G.jsxs)("div",{className:"break-words sm:truncate",children:[(0,G.jsx)("span",{className:"block",children:l}),(w||S)&&(0,G.jsxs)("span",{className:"block mt-1 text-[10px] text-gray-400 dark:text-gray-500",children:[w?"".concat(w):"",w&&S?" \u2022 ".concat(S):S?"".concat(S):""]})]})}),(0,G.jsxs)("div",{className:"ml-3 flex-shrink-0 w-16 text-xs text-right",children:[(0,G.jsx)("div",{className:"font-semibold ".concat(x),children:f||"\u2014"}),f&&g?e&&e.draftPicksBySeason&&e.draftPicksBySeason[f]&&e.draftPicksBySeason[f].length>0?(()=>{const n=(e.draftPicksBySeason[f]||[]).find(e=>Number(e.round)===Number(g)&&(String(e.roster_id)===String(t.id)||String(e.picked_by)===String(t.id)||String(e.picked_by)===String(t.ownerId)||String(e.roster_id)===String(t.ownerId)));if(n){const n=fF(e,t.ownerId||t.id,f,g);return(0,G.jsx)("div",{className:"text-[10px] text-gray-300 mt-1 break-words",children:n.label})}return(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(g)})})():(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: R".concat(g)}):(0,G.jsx)("div",{className:"text-[10px] text-gray-400 mt-1",children:"Round Cost: \u2014"})]})]},n.player_id)})})()})]},t.id)})})})})]})}const pF={blue:{bg:"#eaf2ff",border:"#2563eb",icon:"#1e40af"},diamond:{bg:"#eef6ff",border:"#2b6cf6",icon:"#1e40af"},championAccent:{bg:"#fff8e6",border:"#EFBF04",icon:"#b36b00"},yellow:{bg:"#07122b",border:"#d4a017",icon:"#d4a017"},gray:{bg:"#f3f4f6",border:"#9ca3af",icon:"#374151"},green:{bg:"#ecfdf5",border:"#10b981",icon:"#059669"},red:{bg:"#fff5f5",border:"#ef4444",icon:"#b91c1c"},purple:{bg:"#f5f3ff",border:"#7c3aed",icon:"#6d28d9"},orange:{bg:"#fff7ed",border:"#f97316",icon:"#c2410c"},brown:{bg:"#fffbeb",border:"#c08400",icon:"#92400e"},matchupAccent:{bg:"#f7f3ff",border:"#B069DB",icon:"#6b21a8"},leagueAccent:{bg:"#f2fff7",border:"#50C878",icon:"#10784f"}},gF={"bronze-season":"/badges/achievement/season-score-bronze.svg","season-bronze":"/badges/achievement/season-score-bronze.svg","season-score-bronze":"/badges/achievement/season-score-bronze.svg","season-score-bronze.svg":"/badges/achievement/season-score-bronze.svg","silver-season":"/badges/achievement/season-score-silver.svg","season-silver":"/badges/achievement/season-score-silver.svg","season-score-silver":"/badges/achievement/season-score-silver.svg","season-score-silver.svg":"/badges/achievement/season-score-silver.svg","gold-season":"/badges/achievement/season-score-gold.svg","season-gold":"/badges/achievement/season-score-gold.svg","season-score-gold":"/badges/achievement/season-score-gold.svg","season-score-gold.svg":"/badges/achievement/season-score-gold.svg","diamond-season":"/badges/achievement/season-score-diamond.svg","season-diamond":"/badges/achievement/season-score-diamond.svg","season-score-diamond":"/badges/achievement/season-score-diamond.svg","season-score-diamond.svg":"/badges/achievement/season-score-diamond.svg","season-all-play-title":"/badges/achievement/season-all-play-champion.svg","season-all-play-champion":"/badges/achievement/season-all-play-champion.svg","all-play-title":"/badges/achievement/season-all-play-champion.svg","allplay-title":"/badges/achievement/season-all-play-champion.svg","regular-season-champion":"/badges/achievement/regular-season-champion.svg","season-title":"/badges/achievement/regular-season-champion.svg","season-title.svg":"/badges/achievement/regular-season-champion.svg","league-champion":"/badges/achievement/league-champion.svg",champion:"/badges/achievement/league-champion.svg","points-title":"/badges/achievement/points-champion.svg","points-title.svg":"/badges/achievement/points-champion.svg","points-champion":"/badges/achievement/points-champion.svg","triple-crown":"/badges/achievement/triple-crown.svg","triple-crown.svg":"/badges/achievement/triple-crown.svg","heavyweight-champion":"/badges/achievement/heavyweight-champion.svg","heavyweight-champion.svg":"/badges/achievement/heavyweight-champion.svg"},yF="/badges/blunders/matchup-icon.svg";["peak-performance","peak-performance.svg","the-shootout","shootout","massacre","massacre.svg","firing-squad","firing-squad.svg","a-small-victory","a-small-victory.svg","a-micro-victory","a-nano-victory","micro-victory","small-victory","nano-victory","double-up","double-up.svg","bully","thread-the-needle","thread-the-needle.svg"].forEach(e=>{gF[e]="/badges/achievement/matchup-icon.svg"}),["the-snoozer","the-snoozer.svg","the_snoozer","snoozer","snoozer.svg","the-undercard","the-undercard.svg","the_undercard","undercard","undercard.svg","a-small-defeat","a-small-defeat.svg","a_small_defeat","a small defeat","small-defeat","small_defeat","doubled-up","doubled-up.svg","doubled_up","doubled up","doubledup","spoiled-goods","spoiled-goods.svg","spoiled_goods","spoiled goods","spoiledgoods","bullied","bullied.svg","bye-week","bye-week.svg","bye_week","the-bye-week","the-bye-week.svg"].forEach(e=>{gF[e]=yF}),gF["lucky-duck"]="/badges/achievement/season-lucky-duck.svg",gF["lucky-duck.svg"]="/badges/achievement/season-lucky-duck.svg",gF.lucky_duck="/badges/achievement/season-lucky-duck.svg",gF["season-lucky-duck"]="/badges/achievement/season-lucky-duck.svg",gF["action-king"]="/badges/achievement/season-action-king.svg",gF["action-king.svg"]="/badges/achievement/season-action-king.svg",gF.action_king="/badges/achievement/season-action-king.svg",gF["season-action-king"]="/badges/achievement/season-action-king.svg",gF["season-action-king.svg"]="/badges/achievement/season-action-king.svg",gF["veteran-presence"]="/badges/achievement/veteran-presence.svg",gF["veteran-presence.svg"]="/badges/achievement/veteran-presence.svg",gF.veteran_presence="/badges/achievement/veteran-presence.svg",gF["old-timer"]="/badges/achievement/old-timer.svg",gF["old-timer.svg"]="/badges/achievement/old-timer.svg",gF.old_timer="/badges/achievement/old-timer.svg",gF["career-win-flag"]="/badges/achievement/career-win-flag.svg",gF["career-win-flag.svg"]="/badges/achievement/career-win-flag.svg",gF.career_win_flag="/badges/achievement/career-win-flag.svg",gF["total-wins"]="/badges/achievement/career-win-flag.svg",gF["best-draft-pick"]="/badges/achievement/best-pick-smiley.svg",gF.best_draft_pick="/badges/achievement/best-pick-smiley.svg",gF["best-draft-pick.svg"]="/badges/achievement/best-pick-smiley.svg",gF["worst-draft-pick"]="/badges/blunders/worst-pick-yuck.svg",gF.worst_draft_pick="/badges/blunders/worst-pick-yuck.svg",gF["worst-draft-pick.svg"]="/badges/blunders/worst-pick-yuck.svg",gF["broke-ass"]="/badges/blunders/broke-ass.svg",gF["broke-ass.svg"]="/badges/blunders/broke-ass.svg",gF.broke_ass="/badges/blunders/broke-ass.svg",gF["champ-drought"]="/badges/blunders/champ-drought.svg",gF["champ-drought.svg"]="/badges/blunders/champ-drought.svg",gF["champion-drought"]="/badges/blunders/champ-drought.svg",gF["champion-drought.svg"]="/badges/blunders/champ-drought.svg",["5","10","15","20","25","30","35","40","45","50"].forEach(e=>{gF["champion-drought-".concat(e)]="/badges/blunders/champ-drought.svg",gF["champion-drought-".concat(e,".svg")]="/badges/blunders/champ-drought.svg",gF["champ-drought-".concat(e)]="/badges/blunders/champ-drought.svg",gF["champ-drought_".concat(e)]="/badges/blunders/champ-drought.svg"}),gF["iron-season"]="/badges/blunders/iron-season.svg",gF["iron-season.svg"]="/badges/blunders/iron-season.svg",gF.iron_season="/badges/blunders/iron-season.svg",gF.iron="/badges/blunders/iron-season.svg",gF["iron.svg"]="/badges/blunders/iron-season.svg",gF["iron_season.svg"]="/badges/blunders/iron-season.svg",gF["wood-season"]="/badges/blunders/wood-season.svg",gF["wood-season.svg"]="/badges/blunders/wood-season.svg",gF.wood_season="/badges/blunders/wood-season.svg",gF.wood="/badges/blunders/wood-season.svg",gF["wood.svg"]="/badges/blunders/wood-season.svg",gF["wood_season.svg"]="/badges/blunders/wood-season.svg",gF["clay-season"]="/badges/blunders/clay-season.svg",gF["clay-season.svg"]="/badges/blunders/clay-season.svg",gF.clay_season="/badges/blunders/clay-season.svg",gF.clay="/badges/blunders/clay-season.svg",gF["clay.svg"]="/badges/blunders/clay-season.svg",gF["clay_season.svg"]="/badges/blunders/clay-season.svg",gF["cursed-season"]="/badges/blunders/cursed-season.svg",gF["cursed-season.svg"]="/badges/blunders/cursed-season.svg",gF.cursed_season="/badges/blunders/cursed-season.svg",gF.cursed="/badges/blunders/cursed-season.svg",gF["cursed.svg"]="/badges/blunders/cursed-season.svg",gF["least-luck"]="/badges/blunders/cursed-season.svg",gF["least-luck.svg"]="/badges/blunders/cursed-season.svg",gF.least_luck="/badges/blunders/cursed-season.svg";const vF={"Season Title":"Awarded to the team with the best regular season record (most wins).","Points Title":"Awarded to the team with the most total points scored in the regular season (full season weeks).","Season All-Play Title":"Awarded to the team with the best all-play win percentage across the season.","Triple Crown":"Won Season Title, Points Title, and All-Play Title in the same year.",Champion:"Playoff champion for the season.","Runner Up":"Playoff runner-up (2nd place).","3rd Place":"Playoff third-place finisher.","Heavyweight Champion":"Champion who defeated a schedule at or above the 75th percentile of difficulty.","Comeback Kid":"Champion who started 0-5 and still won the title.","Against All Odds":"Champion who had a very low luck rating (<=25th percentile).","Silverback-To-Back":"Runner-up in consecutive seasons.","Bronze Season":"Season performance ranked in the Bronze percentile tier for DPR.","Silver Season":"Season performance ranked in the Silver percentile tier for DPR.","Gold Season":"Season performance ranked in the Gold percentile tier for DPR.","Diamond Season":"Season performance ranked in the Diamond percentile tier for DPR.","The Gauntlet":"Award for sustained excellence across a difficult run of opponents.","Peak Performance":"Highest single-game score recorded by any team that season.","The Shootout":"The single matchup with the highest combined score in the season.",Massacre:"A dominant win by a large margin in a single matchup.","Firing Squad":"Awarded for achieving the highest points share in a matchup in a season.","A Small Victory":"A narrow, hard-fought win.","A Micro Victory":"A win by a very small margin.","A Nano Victory":"An extremely narrow win (fractions of a point).","Double Up":"Won twice in a single matchup window or achieved two identical outcomes in a season.","Perfectly Peaked":"Team peaked perfectly for the playoffs with ideal matchups/performance.",Bully:"Consistently large-margin wins vs weaker opponents.","Thread The Needle":"A risky lineup move that paid off dramatically in a matchup.","Lucky Duck":"Recognizes the team who had the most amount of luck in a season (highest luck rating).","Draft King":"Team with the highest combined draft pick value (best draft) for the season.","Worst Draft Pick":"The single draft selection with the largest negative return relative to expectation.","The Mastermind":"A particularly shrewd or valuable draft strategy executed by a team.","Top Draft Pick":"The single highest-valued draft pick for that roster.","Action King":"Team with the most transactions in the season year (adds/drops/trades).","Top QB Roster":"Roster with the highest combined QB value for the season.","Top RB Roster":"Roster with the highest combined RB value for the season.","Top WR Roster":"Roster with the highest combined WR value for the season.","Top TE Roster":"Roster with the highest combined TE value for the season.","Top K Roster":"Roster with the highest combined kicker value for the season.","Top DEF Roster":"Roster with the highest combined defense/special teams value for the season.","Veteran Presence":"Team/user with long-term participation in the league.","Total Wins - 25":"Reached 25 total wins across career.","Total Wins - 50":"Reached 50 total wins across career.","Total Wins - 100":"Reached 100 total wins across career.","All-Play Wins - 250":"Reached 250 all-play wins across career.","All-Play Wins - 500":"Reached 500 all-play wins across career.","All-Play Wins - 1000":"Reached 1000 all-play wins across career.","Total Points - 10000":"Accumulated 10,000 points across the team career.","The Worst":"A catastrophic season or play that earns a special blunder badge.","Trash Trifecta":"Series of poor outcomes across multiple categories in the same season.","Flawless Garbage":"Consistently poor performance with particularly bad outcomes.","Champion Drought - 5":"Has not won a championship in 5+ seasons.","Champion Drought - 10":"Has not won a championship in 10+ seasons.","Champion Drought - 15":"Has not won a championship in 15+ seasons.","The Cupcake":"Lost many games to significantly weaker opponents.","Season Worst Scores -5":"Recorded among the bottom single-game scores in a season.","Iron Season":'Consistently low variance but poor results\u2014an "iron" level season.',"Wood Season":"A lower-tier season classification for poor performance.","Clay Season":"A bottom-tier season classification for very poor performance.","Bye Week":"A season where an important week (bye) damaged season outcomes.",Heartbreaker:"Lost multiple games by extremely small margins.","The Snoozer":"Low scoring, unexciting season.","The Undercard":"Lowest points share in a matchup for the season (undercard performance).","Doubled Up":"Suffered repeated losses that compound into a blunder.","True Lowlight":"A painfully bad highlight that stands out in league history.","Spoiled Goods":"Drafted players who severely underperformed relative to expectations.",Bullied:"Consistently got beaten by other teams in the league.","The Madman":"Made an unorthodox series of moves that backfired spectacularly.","A Small Defeat":"Lost a matchup by 1.00 - 2.00 points.","A Nano Defeat":"Lost a matchup by 0.50 - 0.99 points.","A Micro Defeat":"Lost a matchup by 0.01 - 0.49 points."};gF["a-small-defeat"]=yF,gF["a-small-defeat.svg"]=yF,gF.a_small_defeat=yF,gF["a-nano-defeat"]=yF,gF["a-nano-defeat.svg"]=yF,gF.a_nano_defeat=yF,gF["a-micro-defeat"]=yF,gF["a-micro-defeat.svg"]=yF,gF.a_micro_defeat=yF,vF["Broke Ass"]="Team that paid the most in transaction fees in a season.",vF["Veteran Presence"]="Recognition for reaching five seasons of tenure with the league.",vF["Old Timer"]="Recognition for reaching ten seasons of tenure with the league.",vF["Total Wins - 25"]="Career milestone for accumulating 25 total wins.",vF["Total Wins - 50"]="Career milestone for accumulating 50 total wins.",vF["Champion Drought - 5"]="Recognizes a team that has not won the championship for five consecutive seasons.",vF["Champion Drought - 10"]="Recognizes a team that has not won the championship for ten consecutive seasons.",vF["Champion Drought - 15"]="Recognizes a team that has not won the championship for fifteen consecutive seasons.",vF["Champion Drought - 20"]="Recognizes a team that has not won the championship for twenty consecutive seasons.",vF["Champion Drought - 25"]="Recognizes a team that has not won the championship for twenty-five consecutive seasons.",vF["Iron Season"]="Season DPR between 0.925 and 0.999 (very low variance / iron season).",vF["Wood Season"]="Season DPR between 0.850 and 0.924 (low performance tier).",vF["Clay Season"]="Season DPR below 0.849 (bottom-tier performance).",vF.Cursed="Awarded to the team with the least luck in a season (lowest luck rating).";const xF=e=>{let{text:t,children:n}=e;return(0,G.jsx)("div",{title:t,className:"relative inline-block",children:n})},bF=e=>{var n;let{badge:r,count:a=1,years:s=[]}=e;const o=r.displayName||r.name||r.id,i=(r.metadata&&r.metadata.pick&&"Pick: ".concat(r.metadata.pick.overall_pick||r.metadata.pick.pick_no||""),r.accent||"blue"),l=pF[i]||pF.blue,c=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),u=c(r.displayName||o),d=c(r.id||""),h=new Set;[u,d].forEach(e=>{e&&(h.add(e),h.add(e.replace(/-/g,"_")),h.add(e.replace(/-/g,"")),h.add(e.replace(/_/g,"-")))});const f=Array.from(h).filter(e=>e&&-1!==e.indexOf(u)),m=Array.from(h).filter(e=>e&&-1!==e.indexOf(d)&&e!==u),p=[];"matchup-icon"===r.icon&&p.push("/badges/achievement/matchup-icon.svg"),p.push(...f.flatMap(e=>["/badges/".concat(e,".svg"),"/badges/".concat(e,".png"),"/badges/achievement/".concat(e,".svg"),"/badges/achievement/".concat(e,".png")])),p.push(...m.flatMap(e=>["/badges/".concat(e,".svg"),"/badges/".concat(e,".png"),"/badges/achievement/".concat(e,".svg"),"/badges/achievement/".concat(e,".png")]));const g=c(r.displayName||o);let y=gF[g]||null;try{const e=String(r.displayName||r.name||r.id||"").toLowerCase();y||-1===e.indexOf("total wins")&&!/^total_wins_/.test(String(r.id||""))||(y=gF["career-win-flag"]||gF["total-wins"]||null)}catch(N){}const v=t.useMemo(()=>y?"".concat(y).concat(-1===y.indexOf("?")?"?":"&","cb=").concat(Date.now()):null,[y,r.id,r.displayName]);let x=!1;try{const e="undefined"!==typeof window&&window.location&&window.location.search;x=!(!e||-1===e.indexOf("badgeDebug=1")),x&&console.debug("Badge candidateSources for",r.displayName||r.id,p)}catch(N){}const b="undefined"!==typeof window&&window.innerWidth<500?96:80,w={backgroundColor:l.bg,border:"4px solid ".concat(l.border),color:l.icon,width:b,height:b},S={backgroundColor:"transparent",width:b,height:b,position:"relative"},[k,j]=t.useState([]);t.useEffect(()=>{j([])},[r.id,r.displayName]);const _=(()=>{if(v&&!k.includes(v))return v;if(y&&!k.includes(y))return y;for(let e=0;e<p.length;e++){const t=p[e];if(!k.includes(t))return t}return null})();encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">\n            <circle cx="32" cy="28" r="20" fill="#e6b800" stroke="#2563eb" stroke-width="4" />\n            <text x="32" y="36" font-size="12" text-anchor="middle" fill="#fff" font-family="Arial">BR</text>\n        </svg>'),c(r.displayName||o);return(0,G.jsx)(xF,{text:r.description||(null===(n=r.metadata)||void 0===n?void 0:n.description)||o,children:(0,G.jsxs)("div",{className:"relative flex flex-col items-center text-center p-2",style:{minWidth:b+16,maxWidth:160},children:[a>1&&(0,G.jsxs)("div",{className:"absolute -top-1 -right-1 px-2 py-0.5 bg-gray-800 text-white text-xs rounded",children:["x",a]}),_?(0,G.jsxs)("div",{style:S,className:"rounded-full overflow-hidden",children:[(0,G.jsx)("img",{src:_,alt:o,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},onLoad:e=>{try{console.debug("Badge image loaded:",_)}catch(N){}},onError:e=>{e.target.onerror=null,(e=>{try{console.debug("Badge image failed to load:",e)}catch(N){}j(t=>t.concat([e]))})(_)}}),(0,G.jsx)("div",{style:{position:"absolute",inset:0,borderRadius:"9999px",border:"4px solid ".concat(l.border),boxSizing:"border-box",pointerEvents:"none"}})]}):(0,G.jsx)("div",{style:w,className:"rounded-full flex items-center justify-center",children:(0,G.jsx)("div",{style:{color:l.icon,fontSize:.35*b},children:r.icon&&!r.icon.startsWith("/")?r.icon:"\ud83c\udfc6"})}),x&&(0,G.jsxs)("div",{className:"mt-2 text-xs text-left text-red-600 bg-white bg-opacity-80 px-2 py-1 rounded max-w-xs break-words",children:[(0,G.jsx)("div",{className:"font-semibold",children:"Attempting:"}),(0,G.jsx)("div",{className:"text-xs text-gray-700",children:_||"none"}),(0,G.jsx)("div",{className:"mt-1 font-semibold",children:"Candidates:"}),(0,G.jsx)("div",{className:"text-xs text-gray-600",children:p.join(", ")})]}),(0,G.jsx)("div",{className:"mt-2 text-base font-semibold text-gray-800",style:{fontSize:b<90?14:16},children:o}),s&&s.length>0&&(0,G.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:s.join(", ")})]})})},wF=e=>{let{title:t}=e;return(0,G.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-md mb-4",children:(0,G.jsx)("h3",{className:"text-lg font-semibold",children:t})})},SF=()=>{var e;const n=$(),{historicalData:r,usersData:a,getTeamName:s,getTeamDetails:o,processedSeasonalRecords:i,careerDPRData:l,badgesByTeam:c,recentBadges:u,currentSeason:d}=n||{},[h,f]=(0,t.useState)("overview"),[m,p]=(0,t.useState)(!1),[g,y]=(0,t.useState)("achievements"),[v,x]=(0,t.useState)({key:"totalBadges",dir:"desc"}),b=e=>{x(t=>{if(t.key===e)return{key:e,dir:"asc"===t.dir?"desc":"asc"};const n=String(e).startsWith("blunders")?"asc":"desc";return{key:e,dir:n}})},w=(e,t,n)=>{const r=parseInt(e.replace("#",""),16),a=parseInt(t.replace("#",""),16),s=r>>16&255,o=r>>8&255,i=255&r,l=a>>16&255,c=a>>8&255,u=255&a,d=Math.round(s+(l-s)*n),h=Math.round(o+(c-o)*n),f=Math.round(i+(u-i)*n);return"#".concat(((d<<16)+(h<<8)+f).toString(16).padStart(6,"0"))},S=e=>{const t=Array.from(e);return t.sort((e,t)=>{const n=e[v.key]||0,r=t[v.key]||0;return n===r?0:"asc"===v.dir?n-r:r-n}),t},k=t.useMemo(()=>{try{if(!d||!i)return!1;const e=i[d]||{};return Object.values(e).some(e=>!!e.isChampion)}catch(OF){return!1}},[d,i]),j=(0,t.useMemo)(()=>{const e=[{key:"overview",label:"Overview"}],t=new Set;a&&Array.isArray(a)&&a.forEach(n=>{var r;const a=String(n.user_id);t.add(a);const s=(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name||"User ".concat(n.user_id);e.push({key:a,label:s})});try{Object.keys(c||{}).forEach(n=>{const r=String(n);if(t.has(r))return;let s=o&&o(r)&&o(r).name||null;if(!s&&a&&Array.isArray(a)){var i;const e=a.find(e=>String(e.user_id)===r);e&&(s=(null===(i=e.metadata)||void 0===i?void 0:i.team_name)||e.display_name)}if(!s){const e=c&&c[r]||[];for(let t=0;t<e.length&&!s;t++){const n=e[t];n&&n.metadata&&(s=n.metadata.picked_by_team_name||n.metadata.picked_by_team||n.metadata.teamName||null)}}s||(s="Team ".concat(r)),t.add(r),e.push({key:r,label:s})})}catch(OF){}return e},[r,a]),[_,N]=(0,t.useState)(!1),P=e=>{const t=String(e||"");try{if(o){const e=o(t);if(e&&e.name)return e.name}}catch(OF){}try{if(a&&Array.isArray(a)){var n;const e=a.find(e=>String(e.user_id)===t);if(e)return(null===(n=e.metadata)||void 0===n?void 0:n.team_name)||e.display_name||"User ".concat(t)}}catch(OF){}try{const e=c&&c[t]||[];for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.metadata){if(n.metadata.picked_by_team_name)return n.metadata.picked_by_team_name;if(n.metadata.picked_by_team)return n.metadata.picked_by_team;if(n.metadata.teamName)return n.metadata.teamName}}}catch(OF){}return"Team ".concat(t)};return(0,G.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,G.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Achievements"}),(0,G.jsx)("p",{className:"text-sm text-gray-500",children:"Trophy Room, Champion badges, Season badges, Matchup badges, Draft & Transaction badges, Roster badges, League badges and Blunders."})]}),(0,G.jsxs)("div",{className:"flex items-center gap-3",children:[(0,G.jsx)("label",{htmlFor:"team-select",className:"text-sm text-gray-600",children:"View:"}),(0,G.jsx)("select",{id:"team-select",value:h,onChange:e=>{f(e.target.value)},className:"px-3 py-2 border rounded-md bg-white",children:j.map(e=>(0,G.jsx)("option",{value:e.key,children:e.label},e.key))}),(0,G.jsx)("button",{onClick:()=>p(e=>!e),className:"ml-3 px-3 py-2 bg-gray-100 border rounded-md text-sm","aria-pressed":m,children:m?"Hide full catalog":"Show all badges"})]})]}),h&&"overview"!==h&&(0,G.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-md border border-gray-100 flex items-center gap-4",children:[(0,G.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:(0,G.jsx)("img",{src:o?null===(e=o(h))||void 0===e?void 0:e.avatar:"",alt:"avatar",className:"w-full h-full object-cover"})}),(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:P(h)}),(()=>{const e=c&&c[h]||[],t=e.filter(e=>"blunder"!==e.category).length,n=e.filter(e=>"blunder"===e.category).length;return(0,G.jsxs)("div",{className:"text-sm text-gray-500",children:["Badge Count: ",t," \u2022 Blunders: ",n]})})()]}),(0,G.jsx)("div",{className:"ml-auto text-sm",children:(0,G.jsxs)("label",{className:"inline-flex items-center gap-2 text-gray-600",children:[(0,G.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:_,onChange:e=>N(e.target.checked)}),(0,G.jsx)("span",{children:"Show raw badges"})]})})]}),_&&h&&"overview"!==h&&(0,G.jsxs)("div",{className:"mb-4 p-3 bg-white border rounded text-xs text-gray-700 max-h-64 overflow-auto",children:[(0,G.jsxs)("div",{className:"font-semibold mb-2",children:["Raw badges for ",P(h)]}),(0,G.jsx)("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c&&c[h]||[],null,2)})]}),"overview"===h&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(wF,{title:"MEMBER BADGE TOTALS"}),(0,G.jsx)("div",{className:"mb-6 overflow-x-auto",children:(()=>{const e=Object.keys(c||{});if(0===e.length)return(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No team badge data available for overview."});const t=e.map(e=>{const t=c[e]||[],n=t.filter(e=>"blunder"!==e.category),r=t.filter(e=>"blunder"===e.category),a=new Set(n.map(e=>e.displayName||e.name||e.id)),s=new Set(r.map(e=>e.displayName||e.name||e.id));return{ownerId:e,name:P(e),achievementsUnique:a.size,achievementsTotal:n.length,blundersUnique:s.size,blundersTotal:r.length,totalUnique:a.size+s.size,totalBadges:t.length}}),n=Math.max(...t.map(e=>e.achievementsUnique),1),r=(Math.max(...t.map(e=>e.achievementsTotal),1),Math.max(...t.map(e=>e.blundersUnique),1));Math.max(...t.map(e=>e.blundersTotal),1),Math.max(...t.map(e=>e.totalBadges),1);return(0,G.jsxs)("table",{className:"w-full table-auto border-collapse bg-white rounded-md overflow-hidden",children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{className:"bg-gray-800 text-white text-sm",children:[(0,G.jsx)("th",{className:"text-left px-4 py-3",children:"MEMBER"}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("achievementsUnique"),children:["ACHIEVEMENTS ","achievementsUnique"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("achievementsTotal"),children:["# ","achievementsTotal"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("blundersUnique"),children:["BLUNDERS ","blundersUnique"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("blundersTotal"),children:["# ","blundersTotal"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("totalUnique"),children:["TOTAL BADGES ","totalUnique"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]}),(0,G.jsxs)("th",{className:"text-center px-4 py-3 cursor-pointer",onClick:()=>b("totalBadges"),children:["# ","totalBadges"===v.key?"asc"===v.dir?"\u25b2":"\u25bc":""]})]})}),(0,G.jsx)("tbody",{children:S(t).map(e=>{var a;const s=e.achievementsUnique/n||0,i=e.blundersUnique/r||0,l=e.totalUnique/Math.max(...t.map(e=>e.totalUnique),1)||0,c=(w("#dff6e9","#059669",s),w("#ffecec","#b91c1c",i),w("#eaf2ff","#2563eb",l),Math.round(100*s)),u=Math.round(100*i),d=Math.round(100*l);return(0,G.jsxs)("tr",{className:"border-t",children:[(0,G.jsxs)("td",{className:"px-4 py-3 flex items-center gap-3",children:[(0,G.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 overflow-hidden",children:(0,G.jsx)("img",{src:o?null===(a=o(e.ownerId))||void 0===a?void 0:a.avatar:"",alt:"avatar",className:"w-full h-full object-cover"})}),(0,G.jsx)("div",{className:"text-sm font-medium truncate",children:e.name})]}),(0,G.jsx)("td",{className:"px-2 py-3 align-middle",children:(0,G.jsxs)("div",{className:"relative w-full h-8 bg-green-50 rounded-md overflow-hidden flex items-center",children:[(0,G.jsx)("div",{className:"h-full ".concat(100===c?"rounded-md":"rounded-l-md"," bg-gradient-to-r from-green-400 to-green-600 flex items-center"),style:{width:"".concat(c,"%")},children:c>=12?(0,G.jsx)("div",{className:"ml-3 text-sm font-semibold text-white",children:e.achievementsUnique}):null}),c<12&&(0,G.jsx)("div",{className:"absolute left-2 text-sm font-semibold text-gray-800",children:e.achievementsUnique})]})}),(0,G.jsx)("td",{className:"px-4 py-3 text-center text-sm font-semibold",children:e.achievementsTotal}),(0,G.jsx)("td",{className:"px-2 py-3 align-middle",children:(0,G.jsxs)("div",{className:"relative w-full h-8 bg-red-50 rounded-md overflow-hidden flex items-center",children:[(0,G.jsx)("div",{className:"h-full ".concat(100===u?"rounded-md":"rounded-l-md"," bg-gradient-to-r from-red-400 to-red-600 flex items-center"),style:{width:"".concat(u,"%")},children:u>=12?(0,G.jsx)("div",{className:"ml-3 text-sm font-semibold text-white",children:e.blundersUnique}):null}),u<12&&(0,G.jsx)("div",{className:"absolute left-2 text-sm font-semibold text-gray-800",children:e.blundersUnique})]})}),(0,G.jsx)("td",{className:"px-4 py-3 text-center text-sm font-semibold",children:e.blundersTotal}),(0,G.jsx)("td",{className:"px-2 py-3 align-middle",children:(0,G.jsxs)("div",{className:"relative w-full h-8 bg-blue-50 rounded-md overflow-hidden flex items-center",children:[(0,G.jsx)("div",{className:"h-full ".concat(100===d?"rounded-md":"rounded-l-md"," bg-gradient-to-r from-blue-500 to-blue-600 flex items-center"),style:{width:"".concat(d,"%")},children:d>=12?(0,G.jsx)("div",{className:"ml-3 text-sm font-semibold text-white",children:e.totalUnique}):null}),d<12&&(0,G.jsx)("div",{className:"absolute left-2 text-sm font-semibold text-gray-800",children:e.totalUnique})]})}),(0,G.jsx)("td",{className:"px-4 py-3 text-center text-sm font-semibold",children:e.totalBadges})]},e.ownerId)})})]})})()}),(0,G.jsx)(wF,{title:"Recently Earned Badges"}),(0,G.jsx)("div",{className:"mb-6",children:u&&u.length>0?(0,G.jsx)("div",{className:"space-y-2",children:u.slice(0,8).map((e,t)=>{const n=e.year===Number(d)||e.year===d,r="champion"===e.category||"season"===e.category||"season-tier"===e.category;return n&&r&&!k?null:(0,G.jsx)(bF,{badge:e},t)})}):(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No recent badges"})}),(0,G.jsx)(wF,{title:"Badge Catalog (icons & descriptions)"}),(()=>{const e=[{title:"Champion Badges",key:"champion",items:["Season Title","Points Title","Season All-Play Title","Triple Crown","Champion","Runner Up","3rd Place","Heavyweight Champion","Comeback Kid","Against All Odds"]},{title:"Season Badges",key:"season",items:["Bronze Season","Silver Season","Gold Season","Diamond Season","The Gauntlet","Lucky Duck","Iron Season","Wood Season","Clay Season","Cursed"]},{title:"Matchup Badges",key:"matchup",items:["Peak Performance","The Shootout","Massacre","Firing Squad","A Small Victory","A Micro Victory","A Nano Victory","Double Up","Perfectly Peaked","Bully","Thread The Needle","The Snoozer","A Small Defeat","Bye Week","Bullied","Spoiled Goods"]},{title:"Draft Badges",key:"draft",items:["Draft King","Top Draft Pick","Top QB Draft","Top RB Draft","Top WR Draft","Top TE Draft","Top K Draft","Top DEF Draft"]},{title:"Transaction Badges",key:"tx",items:["Action King","Season Transactions"]},{title:"Roster Badges",key:"roster",items:["Top QB Roster","Top RB Roster","Top WR Roster","Top TE Roster","Top K Roster","Top DEF Roster"]},{title:"League Badges",key:"league",items:["Veteran Presence","Old Timer","Total Wins - 25","Total Wins - 50","All-Play Wins - 250","All-Play Wins - 500","Total Points - 10000"]}],n=new Set(["Iron Season","Wood Season","Clay Season","Cursed","The Snoozer","A Small Defeat","Bye Week","Bullied","Spoiled Goods","Doubled Up","Champion Drought - 5","Champion Drought - 10","Champion Drought - 15","Champion Drought - 20","Champion Drought - 25","The Worst","Trash Trifecta","Flawless Garbage","The Cupcake","Season Worst Scores -5","True Lowlight","The Madman","Worst Draft Pick"]),r=(e,n)=>(0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)(wF,{title:e}),(0,G.jsx)("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:n.map(t=>{const n=String(t).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),r=(/^total-wins(-|\s)?/.test(n)||-1!==String(t).toLowerCase().indexOf("total wins")?gF["career-win-flag"]:null)||gF[n]||gF[n+".svg"]||null,a=Date.now(),s=r?"".concat(r).concat(-1===r.indexOf("?")?"?":"&","cb=").concat(a):"/badges/achievement/".concat(n,".svg?cb=").concat(a),o=vF&&vF[t]?vF[t]:"",i=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g," ").trim(),l=i(t),u=[];try{Object.keys(c||{}).forEach(e=>{(c&&c[e]||[]).forEach(t=>{if(i(t.displayName||t.name||t.id)===l){const n=P(e)||"Team ".concat(e),r=t.year?" ".concat(t.year):"";u.push("".concat(n).concat(r))}})})}catch(f){}const d=Array.from(new Set(u)),h=0===d.length?"None":d.slice(0,5).join(", ")+(d.length>5?" (+".concat(d.length-5," more)"):"");return(0,G.jsxs)("div",{className:"p-3 rounded-md border border-gray-100 bg-white text-center",children:[(0,G.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,G.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden relative mx-auto",children:(0,G.jsx)("img",{src:s,alt:t,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="/badges/default.svg"}})})}),(0,G.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:t}),(0,G.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:o}),(0,G.jsxs)("div",{className:"text-xs text-gray-600 mt-2",children:["Winners: ",h]})]},"".concat(e,"-").concat(n))})})]},e);return(0,G.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,G.jsxs)("div",{children:[(0,G.jsx)(wF,{title:"Achievements Catalog"}),e.map(e=>{const t=e.items.filter(e=>!n.has(e));return t&&0!==t.length?r(e.title,t):null})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)(wF,{title:"Blunders Catalog"}),(()=>{const t=new Set(["Iron Season","Wood Season","Clay Season","Cursed","The Snoozer","A Small Defeat","Bye Week","Bullied","Spoiled Goods","Doubled Up","Champion Drought - 5","Champion Drought - 10","Champion Drought - 15","Champion Drought - 20","Champion Drought - 25","The Worst","Trash Trifecta","Flawless Garbage","The Cupcake","Season Worst Scores -5","True Lowlight","The Madman","Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst WR Draft","Worst TE Draft","Worst K Draft","Worst DEF Draft","Broke Ass"]),n={draft:["Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst WR Draft","Worst TE Draft","Worst K Draft","Worst DEF Draft"],tx:["Broke Ass"]};return e.map(e=>{const a=e.items.filter(e=>t.has(e)),s=n[e.key]||[],o=Array.from(new Set([...a,...s]));return o&&0!==o.length?r(e.title,o):null})})()]})]})})()]}),("overview"!==h||m)&&(()=>{if(!h||"overview"===h)return null;const e=c&&c[h]||[];let n=e;const r=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g," ").trim(),a=e=>new Set((e||[]).map(e=>r(e))),s=a(["Playoff 1st","Champion","Playoff 2nd","Runner Up","Playoff 3rd","3rd Place","Points 1st","Top Scoring","Points 2nd","2nd Scoring","Points 3rd","3rd Scoring"]),o=a(["Season Title","Points Title","Season All-Play Title","Triple Crown","Champion","Heavyweight Champion","Comeback Kid","Against All Odds","Draft King","Silverback-To-Back","Lucky Duck"]),i=a(["Bronze Season","Silver Season","Gold Season","Diamond Season","The Gauntlet","Season Top-Half Scoring - 75%","Lucky Duck","Action King"]),l=a(["Peak Performance","The Shootout","Massacre","Firing Squad","A Small Victory","A Micro Victory","A Nano Victory","Double Up","Perfectly Peaked","Bully","Thread The Needle"]),u=a(["The Mastermind","Top Draft Pick","Top QB Draft","Top RB Draft","Top WR Draft","Top TE Draft","Top K Draft","Top DEF Draft","Draft King","Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst K Draft","Worst DL Draft","Worst DB Draft","Worst LB Draft","Worst WR Draft","Worst TE Draft"]),d=a(["Top QB Roster","Top RB Roster","Top WR Roster","Top TE Roster","Top K Roster","Top DEF Roster"]),f=a(["Veteran Presence","Old Timer","Total Wins - 25","Total Wins - 50","Total Wins - 75","Total Wins - 100","All-Play Wins - 250","All-Play Wins - 500","Total Points - 10000","All-Play Wins - 1000","Total Wins - 100"]),p=a(["The Worst","Trash Trifecta","Flawless Garbage","Champion Drought - 5","Champion Drought - 10","Champion Drought - 15","Champion Drought - 20","Champion Drought - 25","Champion Drought - 30","Champion Drought - 35","Champion Drought - 40","Champion Drought - 45","Champion Drought - 50","The Cupcake","Season Worst Scores -5","Iron Season","Wood Season","Clay Season","Cursed","Season Bottom-Half Scoring - 75%","Bye Week","Heartbreaker","The Snoozer","Doubled Up","True Lowlight","Spoiled Goods","Bullied","The Madman","Worst Draft Pick","Worst QB Draft","Worst RB Draft","Worst K Draft","Worst DL Draft","Worst DB Draft","Worst LB Draft","Worst WR Draft","Worst TE Draft","Worst QB Roster","Worst RB Roster","Worst WR Roster","Worst TE Roster","Worst K Roster","Worst DEF Roster","Worst DL Roster","Worst LB Roster","Worst DB Roster"]),v=(a(["Total Losses - 25","Total Losses - 50","Total Losses - 100","All-Play Losses - 250","All-Play Losses - 500","All-Play Losses - 1000","Total Opponent Points - 10000","Champion Drought - 5","Champion Drought - 10","Champion Drought - 15","Champion Drought - 20","Champion Drought - 25"]),(0,G.jsx)("div",{className:"mb-4",children:(0,G.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[(0,G.jsx)("button",{onClick:()=>y("achievements"),className:"".concat("achievements"===g?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"," w-full sm:w-auto px-3 py-2 rounded-md text-sm mb-2 sm:mb-0"),children:"Achievements"}),(0,G.jsx)("button",{onClick:()=>y("blunders"),className:"".concat("blunders"===g?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"," w-full sm:w-auto px-3 py-2 rounded-md text-sm"),children:"Blunders"})]})})),x=(e,t)=>new Set(Array.from(e).filter(e=>t.has(e))),b=[{title:"Trophy Room",set:s},{title:"Champion Badges",set:o},{title:"Season Badges",set:i},{title:"Matchup Badges",set:l},{title:"Draft & Transaction Badges",set:u},{title:"Roster Badges",set:d},{title:"League Badges",set:f}],w=new Set(["Iron Season","Wood Season","Clay Season","Cursed"].map(e=>r(e))),S=new Set([...Array.from(x(i,p)),...Array.from(p).filter(e=>w.has(e))]),k=x(l,p),j=x(u,p),_=x(d,p),N=x(f,p),P=Array.from(p).filter(e=>e.startsWith("champion drought")),E=new Set([...Array.from(x(o,p)),...P]),O=new Set([...S,...k,...j,..._,...N,...E]),A=new Set(Array.from(p).filter(e=>!O.has(e))),I="blunders"===g?[{title:"Season Blunders",set:S},{title:"Champion Badges",set:E},{title:"Matchup Blunders",set:k},{title:"Draft & Transaction Blunders",set:j},{title:"Roster Blunders",set:_},{title:"League Blunders",set:N},{title:"Other Blunders",set:A}]:b;let T=Array.from(n);if(n="achievements"===g?e.filter(e=>{const t="blunder"===String(e.category||"").toLowerCase(),n=p.has(r(e.displayName));return!t&&!n}):"blunders"===g?e.filter(e=>{const t="blunder"===String(e.category||"").toLowerCase(),n=p.has(r(e.displayName));return t||n}):e,T=Array.from(n),!e||0===e.length||!n||0===n.length)return(0,G.jsxs)(G.Fragment,{children:[v,(0,G.jsx)("div",{className:"text-sm text-gray-500",children:"No badges found for this team in the selected tab."})]});const C=[];if(I.forEach(e=>{const n=e.set,a=T.filter(e=>n.has(r(e.displayName)));if(!a||0===a.length)return;const s={};a.forEach(e=>{const t=e.displayName||e.name||e.id;s[t]=s[t]||{badge:e,years:[],count:0},s[t].count+=1;const n=(e=>{if(!e)return"";const t=e.year?String(e.year):"",n=e.metadata&&(e.metadata.week||0===e.metadata.week)?e.metadata.week:e.week||null;return n?"".concat(t," W").concat(n):t})(e);n&&s[t].years.push(n)}),C.push((0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)(wF,{title:e.title}),(0,G.jsx)("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:Object.keys(s).map(e=>{var t;const n=s[e];return n.badge.description||(n.badge.description=vF[n.badge.displayName]||(null===(t=n.badge.metadata)||void 0===t?void 0:t.description)||n.badge.displayName),(0,G.jsx)(bF,{badge:n.badge,count:n.count,years:Array.from(new Set(n.years))},e)})})]},e.title));const o=new Set(a.map(e=>e.id||"".concat(e.displayName,"-").concat(e.year||"","-").concat(Math.random())));T=T.filter(e=>!o.has(e.id))}),m&&T.length>0){const e={},n=e=>{if(!e)return"";const t=e.year?String(e.year):"",n=e.metadata&&(e.metadata.week||0===e.metadata.week)?e.metadata.week:e.week||null;return n?"".concat(t," W").concat(n):t};T.forEach(t=>{const r=t.displayName||t.name||t.id;e[r]=e[r]||{badge:t,years:[],count:0},e[r].count+=1;const a=n(t);a&&e[r].years.push(a)}),C.push((0,G.jsxs)(t.Fragment,{children:[(0,G.jsx)(wF,{title:"Other Badges"}),(0,G.jsx)("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:Object.keys(e).map(t=>{var n;const r=e[t];return r.badge.description||(r.badge.description=vF[r.badge.displayName]||(null===(n=r.badge.metadata)||void 0===n?void 0:n.description)||r.badge.displayName),(0,G.jsx)(bF,{badge:r.badge,count:r.count,years:Array.from(new Set(r.years))},t)})})]},"other"))}return(0,G.jsxs)(G.Fragment,{children:[v,C]})})()]})};function kF(e){let{handleTabClick:t,handleSubTabClick:n,openSubMenu:r,toggleSubMenu:a,NAV_CATEGORIES:s}=e;return(0,G.jsxs)("ul",{className:"hidden md:flex md:flex-row md:justify-center py-2",children:[(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t(s.HOME.tab),children:s.HOME.label}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("games"),children:["Games ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"games"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.GAMECENTER.tab)},children:s.GAMECENTER.label}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.SPORTSBOOK.tab)},children:s.SPORTSBOOK.label}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t(s.HEAD_TO_HEAD.tab)},children:s.HEAD_TO_HEAD.label})]})]}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("league"),children:["League ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"league"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-56 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("hallOfChampions")},children:"Hall of Champions"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("keepers")},children:"Keepers"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("leagueHistory")},children:"League History"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("recordBook")},children:"Record Book"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("seasonBreakdown")},children:"Season Breakdown"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("financials")},children:"Finances"})]})]}),(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t("teamsOverview"),children:"Teams"}),(0,G.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>t("achievements"),children:"Achievements"}),(0,G.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-1 text-lg text-center touch-friendly",onClick:()=>a("analysis"),children:["Analysis ",(0,G.jsx)("span",{className:"ml-1",children:"\u25bc"}),"analysis"===r&&(0,G.jsxs)("ul",{className:"absolute left-0 top-full bg-gray-700 shadow-lg rounded-md mt-2 w-48 z-10",children:[(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("draftAnalysis")},children:"Draft"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("dprAnalysis")},children:"DPR Analysis"}),(0,G.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-base touch-friendly",onClick:e=>{e.stopPropagation(),t("luckRating")},children:"Luck Rating"})]})]})]})}const jF={HOME:{label:"Dashboard",tab:"dashboard"},GAMECENTER:{label:"Gamecenter",tab:"gamecenter"},SPORTSBOOK:{label:"Sportsbook",tab:"sportsbook"},HEAD_TO_HEAD:{label:"Head-to-Head",tab:"headToHead"},LEAGUE_DATA:{label:"League Data",subTabs:[{label:"League History",tab:"leagueHistory"},{label:"Hall of Champions",tab:"hallOfChampions"},{label:"Keepers",tab:"keepers"},{label:"Record Book",tab:"recordBook"},{label:"Head-to-Head",tab:"headToHead"},{label:"DPR Analysis",tab:"dprAnalysis"},{label:"Luck Rating",tab:"luckRating"}]},TEAMS:{label:"Teams",tab:"teamsOverview"},SEASON_BREAKDOWN:{label:"Season Breakdown",tab:"seasonBreakdown"},DRAFT:{label:"Draft",tab:"draftAnalysis"},FINANCIALS:{label:"Financials",tab:"financials"},ACHIEVEMENTS:{label:"Achievements",tab:"achievements"}},_F={HOME:"dashboard",GAMECENTER:"gamecenter",SPORTSBOOK:"sportsbook",LEAGUE_HISTORY:"leagueHistory",HALL_OF_CHAMPIONS:"hallOfChampions",RECORD_BOOK:"recordBook",HEAD_TO_HEAD:"headToHead",DPR_ANALYSIS:"dprAnalysis",LUCK_RATING:"luckRating",TEAMS_OVERVIEW:"teamsOverview",TEAMS:"teams",ROSTER:"roster",FINANCIALS:"financials",TRANSACTIONS:"transactions",SEASON_BREAKDOWN:"seasonBreakdown",DRAFT_ANALYSIS:"draftAnalysis",KEEPERS:"keepers",ACHIEVEMENTS:"achievements"},NF=()=>{const{loading:e,error:n,historicalData:r,usersData:s}=$(),[o,i]=(0,t.useState)(_F.HOME),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[y,v]=(0,t.useState)([]);(0,t.useEffect)(()=>{let t;return e?t=setTimeout(()=>{m(!0)},15e3):m(!1),()=>{t&&clearTimeout(t)}},[e]),(0,t.useEffect)(()=>{if(e){const e=a[Math.floor(Math.random()*a.length)];k(e)}else k("")},[e]),(0,t.useEffect)(()=>{const e={tab:o,selectedTeamName:p};window.history.replaceState(e,"",window.location.pathname);const t=e=>{h.A.debug("Pop state event:",e.state),e.state?(i(e.state.tab||_F.DASHBOARD),g(e.state.selectedTeamName||""),v(e=>e.slice(0,-1))):(i(_F.DASHBOARD),g(""),v([]))};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]);const x=(0,t.useCallback)((e,t)=>{if(!e||!t)return"Unknown Champion";const n=t.find(t=>t.user_id===e);if(n){var r;return(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name}return"Unknown Champion"},[s]),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)("");(0,t.useEffect)(()=>{const t=null===r||void 0===r?void 0:r.rostersBySeason;if(!e&&!n&&r&&s&&t){if(r.seasonAwardsSummary||r.awardsSummary||r.winnersBracketBySeason){let e=[],n=!1;const a=new Set;r.seasonAwardsSummary&&Object.keys(r.seasonAwardsSummary).forEach(e=>a.add(Number(e))),r.awardsSummary&&Object.keys(r.awardsSummary).forEach(e=>a.add(Number(e))),r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).forEach(e=>a.add(Number(e)));const o=Array.from(a).sort((e,t)=>t-e);for(const i of o){if(r.winnersBracketBySeason&&r.winnersBracketBySeason[i]){const a=r.winnersBracketBySeason[i],o=a.find(e=>1===e.p&&e.w);let l=a.find(e=>2===e.p&&e.w);if(l||(l=a.find(e=>3===e.p&&e.w)),l||(l=a.find(e=>e.w&&e.p>1&&e.p<=3)),o&&t[i]){const r=e=>{const n=t[i].find(t=>String(t.roster_id)===String(e));return n&&n.owner_id?x(n.owner_id,s):null},a=r(o.w),c=r(o.l),u=l?r(l.w):null;if(a){e=[{place:1,name:a,emoji:"\ud83e\udd47"},...c?[{place:2,name:c,emoji:"\ud83e\udd48"}]:[],...u?[{place:3,name:u,emoji:"\ud83e\udd49"}]:[]],n=!0;break}}}if(!n){let t="";if(r.seasonAwardsSummary&&r.seasonAwardsSummary[i]){const e=r.seasonAwardsSummary[i];e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()&&(t=e.champion.trim())}if(!t&&r.awardsSummary&&r.awardsSummary[i]){const e=r.awardsSummary[i],n=e.champion||e.Champion;n&&"N/A"!==n&&""!==String(n).trim()&&(t=String(n).trim())}if(t){const r=x(t,s);e=[{place:1,name:"Unknown Champion"!==r?r:t,emoji:"\ud83e\udd47"}],n=!0;break}}}w(e)}}},[e,n,r,s,x]);const j=e=>{i(e),c(!1),d(null)},_=e=>{d(u===e?null:e)},N=()=>{window.location.reload()},P=e=>{const t={tab:o,selectedTeamName:p};window.history.pushState(t,"",window.location.pathname),v(e=>[...e,{tab:o,teamName:p}]),g(e),i(_F.TEAMS_OVERVIEW),c(!1),d(null);const n={tab:_F.TEAMS_OVERVIEW,selectedTeamName:e};window.history.pushState(n,"",window.location.pathname)};return(0,G.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col font-inter overflow-x-hidden",children:[(0,G.jsx)("header",{className:"bg-gray-800 text-white shadow-md safe-area-top relative",children:(0,G.jsxs)("div",{className:"flex items-center justify-between px-4 py-1 md:px-6 md:py-2 max-w-6xl w-full mx-auto",children:[(0,G.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,G.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 md:h-24 md:w-24 mr-2 md:mr-4 object-contain flex-shrink-0 transition-all duration-200"}),(0,G.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,G.jsxs)("h1",{className:"text-sm sm:text-base md:text-2xl font-bold truncate",children:[(0,G.jsx)("span",{className:"sm:hidden",children:"TLOED"}),(0,G.jsx)("span",{className:"hidden sm:inline",children:"The League of Extraordinary Douchebags"})]}),b.length>0&&(0,G.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 mt-1",children:b.map((e,t)=>(0,G.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(1===e.place?"Champion":2===e.place?"Runner-up":"3rd Place"),children:[(0,G.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.emoji}),(0,G.jsx)("span",{className:"font-medium text-white text-xs sm:text-sm md:text-base max-w-16 sm:max-w-24 md:max-w-none truncate",children:e.name})]},t))})]})]}),(0,G.jsxs)("div",{className:"flex items-center gap-2",children:[y.length>0&&(0,G.jsx)("button",{className:"text-white text-xl touch-friendly flex items-center justify-center hover:text-gray-300",onClick:()=>{window.history.back(),y.length>0&&v(e=>e.slice(0,-1))},"aria-label":"Go back to previous page",title:"Go back",children:"\u2190"}),(0,G.jsx)("button",{className:"md:hidden text-white text-2xl touch-friendly flex items-center justify-center",onClick:()=>{c(!l)},"aria-label":l?"Close navigation menu":"Open navigation menu",children:l?"\u2715":"\u2630"})]})]})}),(0,G.jsx)("nav",{className:"bg-gray-700 text-white shadow-lg transition-all duration-300 md:block relative z-50 ".concat(l?"block max-h-screen":"hidden max-h-0"," md:max-h-none"),children:(0,G.jsxs)("div",{className:"max-w-6xl w-full mx-auto",children:[(0,G.jsxs)("ul",{className:"md:hidden flex flex-col",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j(jF.HOME.tab),children:(0,G.jsxs)("span",{className:"text-base font-medium",children:["\ud83c\udfe0 ",jF.HOME.label]})})}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("games"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfae Games"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("games"===u?"rotate-180":""),children:"\u25bc"})]}),"games"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(jF.GAMECENTER.tab)},children:jF.GAMECENTER.label})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(jF.SPORTSBOOK.tab)},children:jF.SPORTSBOOK.label})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j(jF.HEAD_TO_HEAD.tab)},children:jF.HEAD_TO_HEAD.label})})]})]}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("league"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfc6 League"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("league"===u?"rotate-180":""),children:"\u25bc"})]}),"league"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("hallOfChampions")},children:"Hall of Champions"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("keepers")},children:"Keepers"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("leagueHistory")},children:"League History"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("recordBook")},children:"Record Book"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("seasonBreakdown")},children:"Season Breakdown"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("financials")},children:"Finances"})})]})]}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j("achievements"),children:(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83c\udfc6 Achievements"})})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600",onClick:()=>j(jF.TEAMS.tab),children:(0,G.jsxs)("span",{className:"text-base font-medium",children:["\ufffd ",jF.TEAMS.label]})})}),(0,G.jsxs)("li",{children:[(0,G.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-600 active:bg-gray-500 touch-friendly border-b border-gray-600 flex items-center justify-between",onClick:()=>_("analysis"),children:[(0,G.jsx)("span",{className:"text-base font-medium",children:"\ud83d\udcca Analysis"}),(0,G.jsx)("span",{className:"transform transition-transform duration-200 ".concat("analysis"===u?"rotate-180":""),children:"\u25bc"})]}),"analysis"===u&&(0,G.jsxs)("ul",{className:"bg-gray-600",children:[(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("draftAnalysis")},children:"Draft"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("dprAnalysis")},children:"DPR Analysis"})}),(0,G.jsx)("li",{children:(0,G.jsx)("button",{className:"w-full px-8 py-3 text-left hover:bg-gray-500 active:bg-gray-400 touch-friendly text-sm border-b border-gray-500 last:border-b-0",onClick:e=>{e.stopPropagation(),j("luckRating")},children:"Luck Rating"})})]})]})]}),(0,G.jsx)(kF,{handleTabClick:j,handleSubTabClick:e=>{i(e),c(!1),d(null)},openSubMenu:u,toggleSubMenu:_,NAV_CATEGORIES:jF})]})}),(0,G.jsx)("main",{className:"flex-grow w-full max-w-6xl mx-auto p-3 sm:p-4 md:p-6 safe-area-bottom",children:(0,G.jsx)("div",{className:"mobile-scroll",children:(()=>{if(e)return(0,G.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:[(0,G.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md max-w-md w-full mx-4",children:[(0,G.jsxs)("div",{className:"mb-6",children:[(0,G.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-16 w-16 mx-auto mb-4 object-contain"}),(0,G.jsx)("p",{className:"text-lg font-semibold text-white mb-2",children:"Loading Sleeper fantasy data..."})]}),(0,G.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-4 overflow-hidden",children:(0,G.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full animate-progress shadow-sm"})}),S&&(0,G.jsx)("div",{className:"text-sm text-gray-200 italic mb-4",children:S}),f&&(0,G.jsxs)("div",{className:"bg-yellow-600 text-yellow-100 p-4 rounded-lg border border-yellow-500 mb-4",children:[(0,G.jsxs)("div",{className:"flex items-center mb-2",children:[(0,G.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,G.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,G.jsx)("span",{className:"font-semibold",children:"Taking longer than usual?"})]}),(0,G.jsx)("p",{className:"text-sm mb-3",children:"If the app seems stuck loading, try refreshing the page. The Sleeper API might be experiencing delays."}),(0,G.jsx)("button",{onClick:N,className:"bg-yellow-500 hover:bg-yellow-400 text-yellow-900 px-4 py-2 rounded font-medium text-sm transition-colors duration-200",children:"Refresh Page"})]})]}),(0,G.jsx)("style",{jsx:!0,children:"\n                        @keyframes progress {\n                            0% {\n                                width: 0%;\n                                transform: translateX(-100%);\n                            }\n                            50% {\n                                width: 100%;\n                                transform: translateX(0%);\n                            }\n                            100% {\n                                width: 100%;\n                                transform: translateX(100%);\n                            }\n                        }\n                        .animate-progress {\n                            animation: progress 2s ease-in-out infinite;\n                        }\n                    "})]});if(n)return(0,G.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,G.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,G.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,G.jsxs)("p",{className:"text-base",children:["Failed to load historical data: ",n.message||String(n)]}),(0,G.jsx)("p",{className:"text-sm mt-2",children:"Please check your internet connection or the Sleeper API configuration in `config.js` and `sleeperApi.js`."})]})});const t=r&&r.matchupsBySeason?Object.values(r.matchupsBySeason).flat():[];switch(o){case _F.DASHBOARD:return(0,G.jsx)(DB,{});case _F.GAMECENTER:return(0,G.jsx)(FB,{});case _F.SPORTSBOOK:return(0,G.jsx)(hF,{});case _F.LEAGUE_HISTORY:return(0,G.jsx)(qx,{onTeamNameClick:P});case _F.HALL_OF_CHAMPIONS:return(0,G.jsx)(BB,{onTeamNameClick:P});case _F.RECORD_BOOK:return(0,G.jsx)(aD,{historicalMatchups:t,onTeamNameClick:P});case _F.HEAD_TO_HEAD:return(0,G.jsx)(vM,{historicalMatchups:t,getDisplayTeamName:x,onTeamNameClick:P});case _F.DPR_ANALYSIS:return(0,G.jsx)(gD,{onTeamNameClick:P});case _F.LUCK_RATING:return(0,G.jsx)(yD,{onTeamNameClick:P});case _F.KEEPERS:return(0,G.jsx)(mF,{});case _F.TEAMS_OVERVIEW:return(0,G.jsx)(MB,{selectedTeamName:p});case _F.FINANCIALS:return(0,G.jsx)(TB,{});case _F.SEASON_BREAKDOWN:return(0,G.jsx)(RB,{});case _F.DRAFT_ANALYSIS:return(0,G.jsx)(LB,{});case _F.ACHIEVEMENTS:return(0,G.jsx)(SF,{});default:return(0,G.jsx)(DB,{})}})()})})]})},PF=()=>(0,G.jsx)(X,{children:(0,G.jsx)(NF,{})}),EF=document.getElementById("root");r.createRoot(EF).render((0,G.jsx)(t.StrictMode,{children:(0,G.jsx)(PF,{})}))})()})();
//# sourceMappingURL=main.e9eda4f8.js.map