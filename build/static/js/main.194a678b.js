/*! For license information please see main.194a678b.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,i,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,i,s,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,o,i,s){var l=-1,c=t.length;for(o||(o=a),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,i,s):r(s,u):i||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),o=n(9841),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),o=n(9194),i=n(6686);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),o=n(6832),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),a(e,function(e,a,o){r(n,a,t(e,a,o))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),o=n(2761),i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),o=n(9140),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=i(s+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),o=n(9096),i=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(o));var f=i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case j:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function je(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Pe(){if(_e){var e=_e,t=ke;if(ke=_e=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Oe(e,t){return e(t)}function Ee(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Oe(e,t,n)}finally{Te=!1,(null!==_e||null!==ke)&&(Ee(),Pe())}}function Ce(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Be=null,Ue={onError:function(e){Re=!0,Le=e}};function We(e,t,n,r,a,o,i,s,l){Re=!1,Le=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,kt,jt,Nt=!1,Pt=[],Ot=null,Et=null,Tt=null,At=new Map,Ct=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Rt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void jt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==Et&&Ft(Et)&&(Et=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(Bt),Ct.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Wt(t,e)}if(0<Pt.length){Wt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Wt(Ot,e),null!==Et&&Wt(Et,e),null!==Tt&&Wt(Tt,e),At.forEach(t),Ct.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function Gt(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function Kt(e,t,n,r){if(Ht){var a=Qt(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ot=Rt(Ot,e,t,n,r,a),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,a),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return At.set(o,Rt(At.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ct.set(o,Rt(Ct.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=va(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function jn(){return kn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Nn),On=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=an(An),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(xa(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function jr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=jr("animationend"),Pr=jr("animationiteration"),Or=jr("animationstart"),Er=jr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Tr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Ar.length;Ir++){var Dr=Ar[Ir];Cr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Cr(Nr,"onAnimationEnd"),Cr(Pr,"onAnimationIteration"),Cr(Or,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,c){if(We.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Wr]){e[Wr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=va(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=o,a=we(n),i=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Nr:case Pr:case Or:l=yn;break;case Er:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Cn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ce(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xa(l),f=null==c?s:xa(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,va(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(i,s,l,u,!1),null!==c&&null!==d&&Yr(i,d,c,u,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Hn(s))if($n)g=ir;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?qn(i,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xa(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(i,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,zn=!0)),0<(y=Gr(r,b)).length&&(b=new xn(b,e,null,n,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}Fr(i,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ce(e,n))&&r.unshift(qr(e,o,a)),null!=(o=Ce(e,t))&&r.push(qr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ce(n,o))&&i.unshift(qr(n,l,s)):a||null!=(l=Ce(n,o))&&i.push(qr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var Sa=[],_a=-1;function ka(e){return{current:e}}function ja(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function Na(e,t){_a++,Sa[_a]=e.current,e.current=t}var Pa={},Oa=ka(Pa),Ea=ka(!1),Ta=Pa;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ca(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){ja(Ea),ja(Oa)}function Da(e,t,n){if(Oa.current!==Pa)throw Error(o(168));Na(Oa,t),Na(Ea,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,V(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Ta=Oa.current,Na(Oa,e),Na(Ea,Ea.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,ja(Ea),ja(Oa),Na(Oa,e)):ja(Ea),Na(Ea,n)}var Fa=null,Ba=!1,Ua=!1;function Wa(e){null===Fa?Fa=[e]:Fa.push(e)}function za(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,za),a}finally{bt=t,Ua=!1}}return null}var Va=[],Ha=0,qa=null,Ga=0,Ka=[],Ya=0,Qa=null,Xa=1,$a="";function Ja(e,t){Va[Ha++]=Ga,Va[Ha++]=qa,qa=e,Ga=t}function Za(e,t,n){Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Qa=e;var r=Xa;e=$a;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Xa=1<<32-it(t)+a|n<<a|r,$a=o+e}else Xa=1<<o|n<<a|r,$a=e}function eo(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function to(e){for(;e===qa;)qa=Va[--Ha],Va[Ha]=null,Ga=Va[--Ha],Va[Ha]=null;for(;e===Qa;)Qa=Ka[--Ya],Ka[Ya]=null,$a=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Xa,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ca(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&bo(o)===t.type)?((r=a(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case C:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?u(e,t,n,r):null;case C:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function m(a,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(a,d),ao&&Ja(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return ao&&Ja(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ao&&Ja(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ao&&Ja(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return ao&&Ja(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ao&&Ja(a,g),u}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===_){if(7===u.tag){n(r,u.sibling),(o=a(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&bo(c)===u.type){n(r,u.sibling),(o=a(u,i.props)).ref=yo(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===_?((o=Mc(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Dc(i.type,i.key,i.props,null,r.mode,l)).ref=yo(r,o,i),l.return=r,r=l)}return s(r);case S:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(i,r.mode,l)).return=r,r=o}return s(r);case C:return e(r,o,(u=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(M(i))return g(r,o,i,l);vo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lc(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var wo=xo(!0),So=xo(!1),_o=ka(null),ko=null,jo=null,No=null;function Po(){No=jo=ko=null}function Oo(e){var t=_o.current;ja(_o),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){ko=e,No=jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},null===jo){if(null===ko)throw Error(o(308));jo=e,ko.dependencies={lanes:0,firstContext:e}}else jo=jo.next=e;return t}var Co=null;function Io(e){null===Co?Co=[e]:Co.push(e)}function Do(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Mo(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Mo(e,n)}function Wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var qo={},Go=ka(qo),Ko=ka(qo),Yo=ka(qo);function Qo(e){if(e===qo)throw Error(o(174));return e}function Xo(e,t){switch(Na(Yo,t),Na(Ko,e),Na(Go,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ja(Go),Na(Go,t)}function $o(){ja(Go),ja(Ko),ja(Yo)}function Jo(e){Qo(Yo.current);var t=Qo(Go.current),n=le(t,e.type);t!==n&&(Na(Ko,e),Na(Go,n))}function Zo(e){Ko.current===e&&(ja(Go),ja(Ko))}var ei=ka(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=x.ReactCurrentDispatcher,oi=x.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,ui=!1,di=!1,hi=0,fi=0;function pi(){throw Error(o(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,a,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:es,e=n(r,a),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(o(301));i+=1,ci=li=null,t.updateQueue=null,ai.current=ts,e=n(r,a)}while(di)}if(ai.current=Ji,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,ui=!1,t)throw Error(o(300));return e}function yi(){var e=0!==hi;return hi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function xi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,si.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _i(){}function ki(e,t){var n=si,r=bi(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,bs=!0),r=r.queue,Ri(Pi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Ai(9,Ni.bind(null,n,r,a,t),void 0,null),null===El)throw Error(o(349));0!==(30&ii)||ji(n,t,a)}return a}function ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Oi(t)&&Ei(e)}function Pi(e,t,n){return n(function(){Oi(t)&&Ei(e)})}function Oi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ei(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ti(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,si,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ci(){return bi().memoizedState}function Ii(e,t,n,r){var a=vi();si.flags|=e,a.memoizedState=Ai(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var a=bi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ai(t,n,o,r))}si.flags|=e,a.memoizedState=Ai(1|t,n,o,r)}function Mi(e,t){return Ii(8390656,8,e,t)}function Ri(e,t){return Di(2048,8,e,t)}function Li(e,t){return Di(4,2,e,t)}function Fi(e,t){return Di(4,4,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,Bi.bind(null,t,e),n)}function Wi(){}function zi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),si.lanes|=n,Rl|=n,e.baseState=!0),t)}function qi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function Gi(){return bi().memoizedState}function Ki(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qi(e))Xi(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$i(n,t,r)}}function Yi(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qi(e))Xi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Io(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Do(e,t,a,r))&&(nc(n,e,r,a=ec()),$i(n,t,r))}}function Qi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Xi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $i(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ji={readContext:Ao,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Ao,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Mi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ii(4194308,4,Bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ti,useDebugValue:Wi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=qi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=vi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===El)throw Error(o(349));0!==(30&ii)||ji(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Mi(Pi.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=El.identifierPrefix;if(ao){var n=$a;t=":"+t+"R"+(n=(Xa&~(1<<32-it(Xa)-1)).toString(32)+n),0<(n=hi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:zi,useContext:Ao,useEffect:Ri,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Fi,useMemo:Vi,useReducer:wi,useRef:Ci,useState:function(){return wi(xi)},useDebugValue:Wi,useDeferredValue:function(e){return Hi(bi(),li.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:zi,useContext:Ao,useEffect:Ri,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Fi,useMemo:Vi,useReducer:Si,useRef:Ci,useState:function(){return Si(xi)},useDebugValue:Wi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[Si(xi)[0],bi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Bo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nc(t,e,a,r),Wo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Bo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nc(t,e,a,r),Wo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Bo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Uo(e,a,r))&&(nc(t,e,r,n),Wo(t,e,r))}};function os(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function is(e,t,n){var r=!1,a=Pa,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(a=Ca(t)?Ta:Oa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Pa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Ao(o):(o=Ca(t)?Ta:Oa.current,a.context=Aa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),ds(0,t)},n}function ps(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var o=t.ref;return To(t,a),r=gi(e,t,n,r,o,a),n=yi(),null===e||bs?(ao&&n&&eo(t),t.flags|=1,xs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Cc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Il,Cl),Cl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Il,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Na(Il,Cl),Cl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Na(Il,Cl),Cl|=r;return xs(e,t,a,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,a){var o=Ca(n)?Ta:Oa.current;return o=Aa(t,o),To(t,a),n=gi(e,t,n,r,o,a),r=yi(),null===e||bs?(ao&&r&&eo(t),t.flags|=1,xs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ps(e,t,n,r,a){if(Ca(n)){var o=!0;Ra(t)}else o=!1;if(To(t,a),null===t.stateNode)Vs(e,t),is(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Aa(t,c=Ca(n)?Ta:Oa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,i,r,c),Ro=!1;var h=t.memoizedState;i.state=h,Vo(t,r,i,a),l=t.memoizedState,s!==r||h!==l||Ea.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Aa(t,l=Ca(n)?Ta:Oa.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,i,r,l),Ro=!1,h=t.memoizedState,i.state=h,Vo(t,r,i,a);var p=t.memoizedState;s!==d||h!==p||Ea.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,a)}function Os(e,t,n,r,a,o){js(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Hs(e,t,o);r=t.stateNode,vs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Xo(e,t.containerInfo)}function Ts(e,t,n,r,a){return po(),mo(a),t.flags|=256,xs(e,t,n,r),t.child}var As,Cs,Is,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(i=Mc(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=us(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=El)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Mo(e,a),nc(r,e,a,-1))}return mc(),Bs(e,t,s,r=us(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Ya++]=Xa,Ka[Ya++]=$a,Ka[Ya++]=Qa,Xa=e.id,$a=e.overflow,Qa=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ic(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ic(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Ws(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function zs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ws(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ca(t.type)&&Ia(),Gs(t),null;case 3:return r=t.stateNode,$o(),ja(Ea),ja(Oa),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Cs(e,t),Gs(t),null;case 5:Zo(t);var a=Qo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Qo(Go.current),ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":X(e,r),a=Q(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Br("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Yo.current),Qo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Gs(t),null;case 13:if(ja(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,i=!1;else if(i=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ha]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),i=!1}else null!==oo&&(ic(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return $o(),Cs(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return Oo(t.type._context),Gs(t),null;case 19:if(ja(ei),null===(i=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qs(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,qs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&$e()>zl&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Gs(t),null}else 2*$e()-i.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=ei.current,Na(ei,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ca(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),ja(Ea),ja(Oa),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ja(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ja(ei),null;case 4:return $o(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Cs=function(){},Is=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qo(Go.current);var o,i=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(i,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&$(a,i),be(l,s);var u=be(l,i);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":J(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Wl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Qs;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=i,(Xs=l)&&!c)for(Js=a;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?Sl(a):null!==l?(l.return=i,Js=l):Sl(a);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=a,Qs=s,Xs=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Js=o):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ho(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&al(t)}catch(f){kc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var o=t.return;try{al(t)}catch(l){kc(t,o,l)}break;case 5:var i=t.return;try{al(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,kl=Math.ceil,jl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,Pl=x.ReactCurrentBatchConfig,Ol=0,El=null,Tl=null,Al=0,Cl=0,Il=ka(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Bl=null,Ul=null,Wl=0,zl=1/0,Vl=null,Hl=!1,ql=null,Gl=null,Kl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Ol)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Al?Al&-Al:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(o(185));yt(e,n,r),0!==(2&Ol)&&e===El||(e===El&&(0===(2&Ol)&&(Ll|=n),4===Dl&&sc(e,Al)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(zl=$e()+500,Ba&&za()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===El?Al:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ba=!0,Wa(e)}(lc.bind(null,e)):Wa(lc.bind(null,e)),ia(function(){0===(6&Ol)&&za()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&Ol))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Ol;Ol|=2;var i=pc();for(El===e&&Al===t||(Vl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Po(),jl.current=i,Ol=a,null!==Tl?t=0:(El=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Ul,Vl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Wl+500-$e())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ul,Vl),t);break}wc(e,Ul,Vl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ul,Vl),r);break}wc(e,Ul,Vl);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Vl),rc(e,$e()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(zl=$e()+500,Ba&&za())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&Sc();var t=Ol;Ol|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Ol=t))&&za()}}function dc(){Cl=Il.current,ja(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:$o(),ja(Ea),ja(Oa),ri();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:ja(ei);break;case 10:Oo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Tl=e=Ic(e.current,null),Al=Cl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Ul=Bl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Co=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Po(),ai.current=Ji,ui){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=si=null,di=!1,hi=0,Nl.current=null,null===n||null===n.return){Dl=1,Ml=t,Tl=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(i,u,t),mc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}i=c=cs(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,zo(i,fs(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,zo(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=jl.current;return jl.current=Ji,null===e?Ji:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Rl)&&0===(268435455&Ll)||sc(El,Al)}function gc(e,t){var n=Ol;Ol|=2;var r=pc();for(El===e&&Al===t||(Vl=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Po(),Ol=n,jl.current=r,null!==Tl)throw Error(o(261));return El=null,Al=0,Dl}function yc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Qe();)bc(Tl)}function bc(e){var t=_l(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Cl)))return void(Tl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,a=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Ol))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===El&&(Tl=El=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ec(tt,function(){return Sc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,Nl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),Ol=l,bt=s,Pl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=a),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,za()}(e,t,n,r)}finally{Pl.transition=a,bt=r}return null}function Sc(){if(null!==Yl){var e=xt(Ql),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Ol))throw Error(o(331));var a=Ol;for(Ol|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Js=v;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Ol=a,za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function _c(e,t,n){e=Uo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Uo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>$e()-Wl?hc(e,0):Fl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nc(e,n)}function Ec(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Cc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,a,i,t);case k:s=8,a|=8;break;case j:return(e=Ac(12,n,t,2|a)).elementType=j,e.lanes=i,e;case E:return(e=Ac(13,n,t,a)).elementType=E,e.lanes=i,e;case T:return(e=Ac(19,n,t,a)).elementType=T,e.lanes=i,e;case I:return Rc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case P:s=9;break e;case O:s=11;break e;case A:s=14;break e;case C:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,o,i,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Wc(e){if(!e)return Pa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ca(n))return Ma(e,n,t)}return t}function zc(e,t,n,r,a,o,i,s,l){return(e=Uc(n,r,!0,e,0,o,0,s,l)).context=Wc(null),n=e.current,(o=Bo(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Vc(e,t,n,r){var a=t.current,o=ec(),i=tc(a);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(a,t,i))&&(nc(e,a,i,o),Wo(e,a,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Es(t),po();break;case 5:Jo(t);break;case 1:Ca(t.type)&&Ra(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(_o,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Na(ei,1&ei.current),null!==(e=Hs(e,t,n))?e.sibling:null);Na(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ao&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var a=Aa(t,Oa.current);To(t,n),a=gi(null,t,r,e,a,n);var i=yi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ca(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Lo(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),xs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Cc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ps(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Es(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Fo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ts(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Ts(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),js(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Na(_o,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ea.current){t=Hs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Bo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Eo(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}xs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,To(t,n),r=r(a=Ao(a)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),Ss(e,t,r,a=ns(r.type,a),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Vs(e,t),t.tag=1,Ca(r)?(e=!0,Ra(t)):e=!1,To(t,n),is(t,r,a),ls(t,r,a,n),Os(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Hc(i);s.call(e)}}Vc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Hc(i);o.call(e)}}var i=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[pa]=i.current,zr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(i)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[pa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Ol)&&(zl=$e()+500,za()))}break;case 13:uc(function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return bt},jt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));K(r),J(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,Ne,Pe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),o=n(4052),i=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),o=n(7303);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),o=n(8883),i=n(4052);e.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),o=n(8114);e.exports=function(e,t,n,i,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(i)var b=c?i(v,y,p,t,e,l):i(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,i,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),o=n(2597),i=n(914);e.exports=function(e){return o(e)?r(i(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),o=n(801),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=a();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=a(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?i(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:w(a())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)}),t});e.exports=i},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!k.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+O(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),E(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+O(s=e[c],c);l+=E(s,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,a,u=o+O(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},I={transition:null},D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,n){return C.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,n){return C.current.useReducer(e,t,n)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),o=n(1558),i=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=i,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),o=n(2165),i=n(4052),s=n(929);e.exports=function(e,t,n){var l=i(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),o=n(438),i=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),o=n(3366),i=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return i(e)&&s(t)?l(c(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),o=n(4079),i=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),o=n(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),o=n(793),i=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),l=Array(s);++i<s;)l[i]=o[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=o[i];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),o=n(6350);e.exports=function(e,t){return o(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||i(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,l=n.length;++a<s;){var c=r(o[a],i[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5900:e=>{"use strict";e.exports=JSON.parse('{"description":"The iconic font, CSS, and SVG framework","keywords":["font","awesome","fontawesome","icon","svg","bootstrap"],"homepage":"https://fontawesome.com","bugs":{"url":"https://github.com/FortAwesome/Font-Awesome/issues"},"author":"The Font Awesome Team (https://github.com/orgs/FortAwesome/people)","repository":{"type":"git","url":"https://github.com/FortAwesome/Font-Awesome"},"engines":{"node":">=6"},"dependencies":{"@fortawesome/fontawesome-common-types":"6.7.2"},"version":"6.7.2","name":"@fortawesome/fontawesome-svg-core","main":"index.js","module":"index.mjs","jsnext:main":"index.mjs","style":"styles.css","license":"MIT","types":"./index.d.ts","exports":{".":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","style":"./styles.css","default":"./index.js"},"./index":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./index.js":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./plugins":{"types":"./index.d.ts","module":"./plugins.mjs","import":"./plugins.mjs","default":"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},"sideEffects":["./index.js","./index.mjs","./styles.css"]}')},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case i:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===o}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),o=n(9987),i=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?h:s(e),w=b?h:s(t),S=(x=x==d?f:x)==f,_=(w=w==d?f:w)==f,k=x==w;if(k&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(k&&!S)return y||(y=new r),v||u(e)?a(e,t,n,m,g,y):o(e,t,x,n,m,g,y);if(!(1&n)){var j=S&&p.call(e,"__wrapped__"),N=_&&p.call(t,"__wrapped__");if(j||N){var P=j?e.value():e,O=N?t.value():t;return y||(y=new r),g(P,O,n,m,y)}}return!!k&&(y||(y=new r),i(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,o){var i=n.length,s=i,l=!o;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=n[i])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),o=16-(a-r);if(r=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e===e,i=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!o)return 1;if(!a&&!i&&!u&&e<t||u&&n&&o&&!a&&!i||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),o=n(5387),i=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(a),y=c(o),v=c(i),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||a&&x(new a)!=u||o&&x(o.resolve())!=d||i&&x(new i)!=h||s&&x(new s)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),a=n(7857),o=n(6686),i=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?h:s).test(i(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,o,i,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),o=n(9096),i=n(4052),s=n(929);e.exports=function(e,t,n){var l=i(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),o=n(4052),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),o=n(4190),i=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,I(S);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,j=null,N=-1,P=5,O=-1;function E(){return!(t.unstable_now()-O<P)}function T(){if(null!==j){var e=t.unstable_now();O=e;var n=!0;try{n=j(!0,e)}finally{n?_():(k=!1,j=null)}}else k=!1}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=T,_=function(){C.postMessage(null)}}else _=function(){y(T,0)};function I(e){j=e,k||(k=!0,_())}function D(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,D(w,o-i))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(S))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,o||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,o,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,o),!0;case 6:return u.fn.call(u.context,t,r,a,o,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||i(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),o=n(5647),i=n(929),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),o=n(9115),i=n(1069);e.exports=function(e){return function(t){t=i(t);var n=a(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),o=n(2074),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,o=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,o,i,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,h):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a){for(o<0?(r=c,o=-o,l=u.length):(r=u,a=i,l=c.length),o>(l=(i=Math.ceil(h/7))>l?i+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?O(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(o+=j(n)),o+=r;(n=7-(r=(i=e[t])+"").length)&&(o+=j(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return o+i}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(a=e.d.length)?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,i=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(N(n,i),N(e,i),i),s=!0,O(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):O(new r(n),a)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):E(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,o,i,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=i=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,i+2)).times(.5),x(o.d).slice(0,i)===(t=x(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(O(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;i+=4}return s=!0,O(r,n)},y.times=y.mul=function(e){var t,n,r,a,o,i,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,i=c,c=u,u=i),o=[],r=i=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=o[a]+m[r]*f[a-r-1]+t,o[a--]=l%p|0,t=l/p|0;o[a]=(o[a]+t)%p|0}for(;!o[--i];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?O(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),O(n,e+_(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=T(r,!0):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=T(r=O(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?T(a):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=T((r=O(new i(a),e+_(a)+1,t)).abs(),!1,e+_(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return O(new t(e),_(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,i,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),i=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&A((o=o.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(o):O(o,r)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(N(u,r+12)),s=!0,(o=S(o)).s=i,o},y.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=T(a,(n=_(a))<=i.toExpNeg||n>=i.toExpPos):(b(e,1,o),void 0===t?t=i.rounding:b(t,0,8),r=T(a=O(new i(a),e,t),e<=(n=_(a))||n<=i.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),O(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=_(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,o,i){var s,c,u,d,h,f,m,g,y,v,b,x,w,S,k,j,N,P,E=r.constructor,T=r.s==a.s?1:-1,A=r.d,C=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,N=C.length,k=A.length,g=(m=new E(T)).d=[],u=0;C[u]==(A[u]||0);)++u;if(C[u]>(A[u]||0)&&--c,(x=null==o?o=E.precision:i?o+(_(r)-_(a))+1:o)<0)return new E(0);if(x=x/7+2|0,u=0,1==N)for(d=0,C=C[0],x++;(u<k||d)&&x--;u++)w=d*p+(A[u]||0),g[u]=w/C|0,d=w%C|0;else{for((d=p/(C[0]+1)|0)>1&&(C=e(C,d),A=e(A,d),N=C.length,k=A.length),S=N,v=(y=A.slice(0,N)).length;v<N;)y[v++]=0;(P=C.slice()).unshift(0),j=C[0],C[1]>=p/2&&++j;do{d=0,(s=t(C,y,N,v))<0?(b=y[0],N!=v&&(b=b*p+(y[1]||0)),(d=b/j|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(C,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?P:C,f))):(0==d&&(s=d=1),h=C.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(C,y,N,v=y.length))<1&&(d++,n(y,N<v?P:C,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=A[S]||0:(y=[A[S]],v=1)}while((S++<k||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,O(m,i?o+_(m)+1:o)}}();function S(e,t){var n,r,o,i,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(a),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),x((i=o.plus(w(r,n,l))).d).slice(0,l)===x(o.d).slice(0,l)){for(;d--;)o=O(o.times(o),l);return f.precision=p,null==t?(s=!0,O(o,p)):o}o=i}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function j(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,o,i,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),k(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),i=_(m),!(Math.abs(i)<15e14))return d=k(y,h+2,v).times(i+""),m=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,O(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(i=_(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=O(m.times(m),h),o=3;;){if(c=O(c.times(f),h),x((d=u.plus(w(c,new y(o),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==i&&(u=u.plus(k(y,h+2,v).times(i+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,O(u,v)):u;u=d,o+=2}}function P(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,a,o,i,l,c,f,m,y=e.d;for(i=1,o=y[0];o>=10;o/=10)i++;if((r=t-i)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],i=1;o>=10;o/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(l=f/(o=h(10,i-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,i-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=_(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=a>0?(f/h(10,i-a)%h(10,a)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+_(e));return e}function E(e,t){var n,r,a,o,i,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),i=u-r){for((d=i<0)?(n=c,i=-i,l=h.length):(n=h,r=u,l=c.length),i>(a=Math.max(Math.ceil(m/7),l)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}i=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(o=a;o&&0===c[--o];)c[o]=p-1;--c[o],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?O(t,m):t):new f(0)}function T(e,t,n){var r,a=_(e),o=x(e.d),i=o.length;return t?(n&&(r=n-i)>0?o=o.charAt(0)+"."+o.slice(1)+j(r):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+j(-a-1)+o,n&&(r=n-i)>0&&(o+=j(r))):a>=i?(o+=j(a+1-i),n&&(r=n-a-1)>0&&(o=o+"."+j(r))):((r=a+1)<i&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(o+="."),o+=j(r))),e.s<0?"-"+o:o}function A(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);P(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=C,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return o.config(t),o}(i),i.default=i.Decimal=i,a=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),o=n(3279),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},8468:(e,t,n)=>{var r=n(5816),a=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),o=n(4052),i=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),o=n(2154),i=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),o=n(6704);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),o=n(4052),i=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(h,u)&&(o(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),o=n(3279),i=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),o=n(715);e.exports=function(e){return a(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),o=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),o=n(8673);e.exports=function(e){return r(e,o,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return o.call(e,t)}))}:a;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var i=-1,s=n(t((r-e)/(a||1)),0),l=Array(s);s--;)l[o?s:++i]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,o=e.length;++a<o;){var i=e[a],s=t(i);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=i}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:o,maxWait:t,trailing:i})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),o=n(3211),i=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=i(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),o=n(8673);e.exports=function(e){return function(t,n,i){var s=Object(t);if(!a(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,i);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>No,scaleDiverging:()=>rd,scaleDivergingLog:()=>ad,scaleDivergingPow:()=>id,scaleDivergingSqrt:()=>sd,scaleDivergingSymlog:()=>od,scaleIdentity:()=>$s,scaleImplicit:()=>ko,scaleLinear:()=>Xs,scaleLog:()=>il,scaleOrdinal:()=>jo,scalePoint:()=>Oo,scalePow:()=>ml,scaleQuantile:()=>Pl,scaleQuantize:()=>Ol,scaleRadial:()=>vl,scaleSequential:()=>Xu,scaleSequentialLog:()=>$u,scaleSequentialPow:()=>Zu,scaleSequentialQuantile:()=>td,scaleSequentialSqrt:()=>ed,scaleSequentialSymlog:()=>Ju,scaleSqrt:()=>gl,scaleSymlog:()=>ul,scaleThreshold:()=>El,scaleTime:()=>Gu,scaleUtc:()=>Ku,tickFormat:()=>Ys});var t=n(5043),r=n(4391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c="1181984921049018368";new Set([]);const u="https://api.sleeper.app/v1",d=new Map;async function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=d.get(t),a=Date.now(),o=60*n*60*1e3;if(r&&a-r.timestamp<o)return console.log("[Cache Hit] Returning cached data for ".concat(t)),r.data;try{console.log("[Cache Miss] Fetching from ".concat(e," for ").concat(t));const r=await fetch(e);if(!r.ok){if(404===r.status)return console.warn("[API Error] 404 Not Found for ".concat(e,". Returning null.")),null;throw new Error("HTTP error! status: ".concat(r.status," for ").concat(e))}const o=await r.json();return d.set(t,{data:o,timestamp:a,expirationHours:n}),console.log("[Cache Set] Data fetched and cached for ".concat(t,".")),o}catch(i){throw console.error("Error fetching ".concat(e,":"),i),i}}function f(e){return e?"https://sleepercdn.com/avatars/thumb/".concat(e):"https://sleeper.app/_next/static/images/default_avatar-e314631317c0a0c20a46960d705a2046.png"}async function p(e){return h("".concat(u,"/league/").concat(e),"league_details_".concat(e),1)}async function m(e){let t=[],n=e;if(!e||"0"===e||""===e)return console.error("CURRENT_LEAGUE_ID is invalid. Please ensure it's set correctly in config.js."),[];const r="league_chain_".concat(e),a=Date.now(),o=d.get(r);if(o&&a-o.timestamp<864e5)return console.log("[Cache Hit] Returning cached league chain for ".concat(r)),o.data;try{for(;n;){const e=await p(n);e?(t.push(e),n=e.previous_league_id&&"0"!==e.previous_league_id&&""!==e.previous_league_id?e.previous_league_id:null):(console.warn("Could not fetch details for league ID ".concat(n,". Terminating historical league chain fetch.")),n=null)}}catch(i){console.error("Error fetching historical league chain:",i)}return d.set(r,{data:t,timestamp:a,expirationHours:24}),t}async function g(e){return h("".concat(u,"/league/").concat(e,"/users"),"users_".concat(e),24)}async function y(){return h("https://api.sleeper.app/v1/players/nfl","nfl_players",24)}async function v(){return h("".concat(u,"/state/nfl"),"nfl_state",.5)}async function b(e){return h("".concat(u,"/league/").concat(e,"/rosters"),"rosters_".concat(e),1)}async function x(e,t,n){let r=[];if("number"===typeof t)r=[t];else{if(!Array.isArray(t))return console.error("Invalid 'weeks' argument for fetchMatchupsForLeague. Must be a number or array of numbers."),{};r=t}const a={},o=await async function(e){const[t,n]=await Promise.all([b(e),g(e)]);if(!t||!n)return console.warn("Could not fetch rosters or users for league ".concat(e,".")),[];const r=new Map(n.map(e=>[e.user_id,e]));return t.map(e=>{var t,n;const a=r.get(e.owner_id);return l(l({},e),{},{ownerDisplayName:a&&a.display_name||"Unknown User",ownerTeamName:a?(null===(t=a.metadata)||void 0===t?void 0:t.team_name)||a.display_name:"Unknown Team",ownerAvatar:a?(null===(n=a.metadata)||void 0===n?void 0:n.avatar)||a.avatar:null})})}(e),i=new Map(o.map(e=>[String(e.roster_id),e])),s=r.map(async t=>{try{const r=await h("".concat(u,"/league/").concat(e,"/matchups/").concat(t),"matchups_".concat(e,"_").concat(t),.5);r&&(a[t]=function(e,t,n,r){const a=[],o=new Set;return e?(e.forEach(i=>{const s=String(i.roster_id),l=parseFloat(i.points),c=i.matchup_id;if(isNaN(l))console.warn("[processRawMatchups] Skipping raw matchup entry for roster ".concat(s," in week ").concat(r," due to invalid points: ").concat(i.points));else if(null!==c){const i="".concat(c,"_").concat(r);if(!o.has(i)){const u=e.find(e=>e.matchup_id===c&&String(e.roster_id)!==s);if(u){const e=String(u.roster_id),d=parseFloat(u.points);if(isNaN(d))return void console.warn("[processRawMatchups] Skipping paired matchup for roster ".concat(s," in week ").concat(r," due to invalid opponent points: ").concat(u.points));const h=l,f=d,p={matchup_id:c,season:n,week:r,team1_roster_id:s,team1_score:h,team1_details:t.get(s),team2_roster_id:e,team2_score:f,team2_details:t.get(e)};h>f?(p.winner_roster_id=s,p.loser_roster_id=e):f>h?(p.winner_roster_id=e,p.loser_roster_id=s):(p.winner_roster_id=null,p.loser_roster_id=null),a.push(p),o.add(i)}else console.warn("[processRawMatchups] Matchup ID ".concat(c," for roster ").concat(s," in week ").concat(r," has no apparent opponent. Treating as a bye.")),a.push({matchup_id:null,season:n,week:r,team1_roster_id:s,team1_score:l,team1_details:t.get(s),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?s:null,loser_roster_id:l<=0?s:null}),o.add("".concat(s,"_").concat(r,"_bye"))}}else{const e="".concat(s,"_").concat(r,"_bye");o.has(e)||(a.push({matchup_id:null,season:n,week:r,team1_roster_id:s,team1_score:l,team1_details:t.get(s),team2_roster_id:null,team2_score:0,team2_details:null,winner_roster_id:l>0?s:null,loser_roster_id:l<=0?s:null}),o.add(e))}}),a):[]}(r,i,n,t))}catch(r){console.error("Error fetching matchups for league ".concat(e,", week ").concat(t,":"),r)}});return await Promise.all(s),a}async function w(e){try{return await h("".concat(u,"/league/").concat(e,"/winners_bracket"),"winners_bracket_".concat(e),24)}catch(t){return console.error("Failed to fetch winners bracket for league ID ".concat(e,":"),t),[]}}async function S(e){try{return await h("".concat(u,"/league/").concat(e,"/losers_bracket"),"losers_bracket_".concat(e),24)}catch(t){return console.error("Failed to fetch losers bracket for league ID ".concat(e,":"),t),[]}}function _(e,t,n,r,a,o){if(console.log("[enrichBracketWithScores] Starting for ".concat(a," bracket, season: ").concat(o,", raw data count: ").concat(e.length)),!e||0===e.length||!t||!n)return console.warn("[enrichBracketWithScores] Returning empty array due to missing input data for ".concat(a," bracket, season ").concat(o,".")),[];const i=[...e].sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m),s=new Map,c=e=>{if("number"===typeof e||"string"===typeof e)return String(e);if("object"===typeof e&&null!==e){if(e.w){const t=s.get(String(e.w));return t&&String(t.w)||null}if(e.l){const t=s.get(String(e.l));return t&&String(t.l)||null}}return null};return i.forEach(e=>{const i=String(e.m);console.log("[enrichBracketWithScores] Processing ".concat(a," match M").concat(i," R").concat(e.r,", Season ").concat(o,":"),e);const u=l({},e),d=r+(e.r-1);u.week=d,u.playoffs=!0;const h=c(e.t1||e.t1_from),f=c(e.t2||e.t2_from);u.team1_roster_id=h,u.team2_roster_id=f,u.team1_details=n.get(h),u.team2_details=n.get(f),1===e.p?u.finalSeedingGame=1:3===e.p&&(u.finalSeedingGame=3),u.w=e.w?String(e.w):null,u.l=e.l?String(e.l):null;let p=null;const m=t[d];if(console.log("[enrichBracketWithScores] Looking for matchups in week ".concat(d," for season ").concat(o,". Found ").concat(m?m.length:0," matchups.")),m&&m.length>0){if(h&&f&&(p=m.find(e=>String(e.team1_roster_id)===h&&String(e.team2_roster_id)===f||String(e.team1_roster_id)===f&&String(e.team2_roster_id)===h),p&&console.log("[enrichBracketWithScores] Found matchup by resolved T1/T2 for M".concat(i," R").concat(e.r,"."))),!p&&(null===h||null===f)){const t=h||f;t&&(p=m.find(e=>String(e.team1_roster_id)===t&&null===e.team2_roster_id),p&&console.log("[enrichBracketWithScores] Found bye matchup for ".concat(t," for M").concat(i," R").concat(e.r,".")))}!p&&e.m&&(p=m.find(t=>String(t.matchup_id)===String(e.m)),p&&console.log("[enrichBracketWithScores] Found matchup by matchup_id for M".concat(i," R").concat(e.r,".")))}else console.warn("[enrichBracketWithScores] No weekly scores data found for playoff week ".concat(d," in season ").concat(o,"."));p?(String(p.team1_roster_id)===h?(u.t1_score=p.team1_score,u.t2_score=p.team2_score):String(p.team2_roster_id)===h?(u.t1_score=p.team2_score,u.t2_score=p.team1_score):(u.t1_score=p.team1_score,u.t2_score=p.team2_score),p.winner_roster_id&&(u.w=String(p.winner_roster_id)),p.loser_roster_id&&(u.l=String(p.loser_roster_id)),console.log("[enrichBracketWithScores] Scores and W/L assigned for M".concat(i," R").concat(e.r,", Season ").concat(o,". Winner: ").concat(u.w,", Loser: ").concat(u.l,", T1 Score: ").concat(u.t1_score,", T2 Score: ").concat(u.t2_score))):(u.t1_score=null,u.t2_score=null,console.warn("[enrichBracketWithScores] WARNING: No weekly matchup found for bracket match M".concat(i," (R").concat(e.r,"), Season ").concat(o," with resolved teams T1:").concat(h,", T2:").concat(f,". Scores will be null."))),s.set(i,u)}),Array.from(s.values()).sort((e,t)=>e.r!==t.r?e.r-t.r:e.m-t.m)}async function k(){const e="all_historical_matchups_details",t=d.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return console.log("[Cache Hit] Returning cached historical data for ".concat(e)),t.data;const r={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};try{const t=await m(c);if(!t||0===t.length)return console.error("No league data found for historical matchup fetching. Check CURRENT_LEAGUE_ID in config.js."),r;const o=await v(),i=(null===o||void 0===o?void 0:o.season)||(new Date).getFullYear().toString();for(const e of t){var a;const t=e.league_id,n=e.season;console.log("[fetchAllHistoricalMatchups] Processing league ".concat(t," for season ").concat(n,".")),r.leaguesMetadataBySeason[n]=e;const o=await g(t);r.usersBySeason[n]=o;const s=await b(t),c=new Map(o.map(e=>[e.user_id,e])),u=s.map(e=>{var t,n;const r=c.get(e.owner_id);return l(l({},e),{},{ownerDisplayName:r&&r.display_name||"Unknown User",ownerTeamName:r?(null===(t=r.metadata)||void 0===t?void 0:t.team_name)||r.display_name:"Unknown Team",ownerAvatar:r?(null===(n=r.metadata)||void 0===n?void 0:n.avatar)||r.avatar:null})});r.rostersBySeason[n]=u;const d=new Map(u.map(e=>[String(e.roster_id),e]));let h=null===(a=e.settings)||void 0===a?void 0:a.playoff_start_week;h||(h=15),h=Math.max(1,h);let f=h-1,p={};if(parseInt(n)<=parseInt(i)){const e=Array.from({length:f},(e,t)=>t+1);console.log("[fetchAllHistoricalMatchups] Fetching regular season matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await x(t,e,n);Object.assign(p,r),0===Object.keys(r).length&&parseInt(n)===parseInt(i)&&console.warn("[fetchAllHistoricalMatchups] No regular season matchups found for current season ".concat(n,"."))}else console.log("[fetchAllHistoricalMatchups] Skipping regular season matchup fetch for future season ".concat(n,"."));let m=[],y=[];if(parseInt(n)<=parseInt(i)){[m,y]=await Promise.all([w(t),S(t)]);const e=m.reduce((e,t)=>Math.max(e,t.r||0),0),a=y.reduce((e,t)=>Math.max(e,t.r||0),0),o=Math.max(e,a);if(console.log("[fetchAllHistoricalMatchups] Season ".concat(n,": Max playoff round: ").concat(o,", Playoff start week: ").concat(h)),o>0){const e=Array.from({length:o},(e,t)=>h+t);console.log("[fetchAllHistoricalMatchups] Fetching playoff matchups for ".concat(n,", weeks: ").concat(e.join(", ")));const r=await x(t,e,n);Object.assign(p,r),console.log("[fetchAllHistoricalMatchups] Season ".concat(n,": Playoff matchups fetched. Total weeks in seasonMatchupsData: ").concat(Object.keys(p).length))}else console.log("[fetchAllHistoricalMatchups] No playoff rounds found for season ".concat(n,"."));r.winnersBracketBySeason[n]=_(m,p,d,h,"winners",n),r.losersBracketBySeason[n]=_(y,p,d,h,"losers",n)}else console.log("[fetchAllHistoricalMatchups] Skipping playoff bracket fetch for future season ".concat(n,".")),r.winnersBracketBySeason[n]=[],r.losersBracketBySeason[n]=[];r.matchupsBySeason[n]=p,console.log("[fetchAllHistoricalMatchups] Final seasonMatchupsData for season ".concat(n,":"),p)}return d.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(o){return console.error("Critical error in fetchAllHistoricalMatchups:",o),d.delete(e),{matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}}}}async function j(e,t){return h("".concat(u,"/league/").concat(e,"/transactions/").concat(t),"transactions_".concat(e,"_").concat(t),1)}async function N(e){return h("".concat(u,"/league/").concat(e,"/drafts"),"drafts_".concat(e),24)}async function P(e){return h("".concat(u,"/draft/").concat(e,"/picks"),"draft_picks_".concat(e),24)}async function O(e){return h("".concat(u,"/league/").concat(e,"/traded_picks"),"traded_picks_".concat(e),24)}async function E(){const e="all_draft_history",t=d.get(e),n=Date.now();if(t&&n-t.timestamp<864e5)return console.log("[Cache Hit] Returning cached draft history for ".concat(e)),t.data;const r={};try{const t=await m(c),a=await y();for(const e of t){const t=e.season,n=e.league_id;console.log("[fetchAllDraftHistory] Processing league ".concat(n," for season ").concat(t,"."));const o=await N(n),i=await O(n),s=[];for(const e of o){const t=(await P(e.draft_id)).map(e=>{var t,n,r;return l(l({},e),{},{player_name:(null===(t=a[e.player_id])||void 0===t?void 0:t.full_name)||"Unknown Player",player_position:(null===(n=a[e.player_id])||void 0===n?void 0:n.position)||"",player_team:(null===(r=a[e.player_id])||void 0===r?void 0:r.team)||""})});s.push(l(l({},e),{},{picks:t}))}r[t]={drafts:s,tradedPicks:i},console.log("[fetchAllDraftHistory] Draft data for season ".concat(t,":"),r[t])}return d.set(e,{data:r,timestamp:n,expirationHours:24}),r}catch(a){return console.error("Critical error in fetchAllDraftHistory:",a),d.delete(e),{}}}const T=(e,t,n,r)=>(6*e+2*(t+n))/10,A=(e,t,n,r)=>{const a={},o={};if(!e||0===Object.keys(e).length)return{seasonalMetrics:{},careerDPRData:[]};const i=Object.keys(e.matchupsBySeason||{}).map(Number).sort((e,t)=>e-t);if(0===i.length)return{seasonalMetrics:{},careerDPRData:[]};const s=null!==r&&void 0!==r&&r.season?parseInt(r.season):(new Date).getFullYear(),l=null!==r&&void 0!==r&&r.week?parseInt(r.week):1;let c=!1;const u=i.length>0?Math.max(...i):null;if(u&&e.winnersBracketBySeason[u]){const t=e.winnersBracketBySeason[u].find(e=>1===e.p);t&&t.w&&t.l&&(c=!0)}i.forEach(t=>{var r;const i=e.matchupsBySeason[t],c=e.leaguesMetadataBySeason[t],u=e.rostersBySeason[t],d=e.usersBySeason[t],h=e.winnersBracketBySeason[t],f=e.losersBracketBySeason[t];if(!i||!c||!u||!d)return void console.error("calculateAllLeagueMetrics: Missing critical data for year ".concat(t,". Skipping this year."));const p=parseInt(null===(r=c.settings)||void 0===r?void 0:r.playoff_start_week)||15;let m=!1;if(t<s)m=!0;else if(t===s){const e=null===h||void 0===h?void 0:h.find(e=>1===e.p);e&&e.w&&e.l&&(m=!0)}const g={};u.forEach(e=>{const r=e.owner_id,a=e.roster_id;if(!r||!a)return void console.warn("Roster entry in year ".concat(t," is missing owner_id or roster_id. Skipping initialization. Roster:"),e);const i=n(r,t);g[a]={teamName:i,ownerId:r,rosterId:a,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,weeklyScores:[],weeklyLuck:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualWinsRecord:0,seasonalExpectedWinsSum:0,rank:"N/A",pointsRank:"N/A",isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1},o[r]||(o[r]={teamName:n(r,null),ownerId:r,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,totalGames:0,allPlayWins:0,allPlayLosses:0,allPlayTies:0,careerWeeklyScores:[],highScore:-1/0,lowScore:1/0,topScoreWeeksCount:0,blowoutWins:0,blowoutLosses:0,slimWins:0,slimLosses:0,weeklyTop2ScoresCount:0,actualCareerWinsRecord:0,careerExpectedWinsSum:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,playoffAppearancesCount:0,totalLuckRating:0,totalDPRSum:0,seasonsWithDPRData:0})});const y=Math.max((h||[]).reduce((e,t)=>Math.max(e,t.r||0),0),(f||[]).reduce((e,t)=>Math.max(e,t.r||0),0)),v=p-1+y,b=new Map,x=new Map;i.forEach(e=>{const t=parseInt(e.week),n=t<p&&!isNaN(t);if(e.team1_roster_id&&e.team2_roster_id){const r=String(e.team1_roster_id),a=String(e.team2_roster_id),o=parseFloat(e.team1_score),i=parseFloat(e.team2_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,o),x.has(r)||x.set(r,new Map),x.get(r).set(t,{opponentScore:i,isRegularSeasonMatch:n,hasOpponent:!0}),b.has(a)||b.set(a,new Map),b.get(a).set(t,i),x.has(a)||x.set(a,new Map),x.get(a).set(t,{opponentScore:o,isRegularSeasonMatch:n,hasOpponent:!0})}else if(e.team1_roster_id&&null===e.team2_roster_id){const r=String(e.team1_roster_id),a=parseFloat(e.team1_score);b.has(r)||b.set(r,new Map),b.get(r).set(t,a),x.has(r)||x.set(r,new Map),x.get(r).set(t,{opponentScore:0,isRegularSeasonMatch:n,hasOpponent:!1})}});const w=new Map;i.forEach(e=>{const t=parseInt(e.week);w.has(t)||w.set(t,[]),e.team1_roster_id&&void 0!==e.team1_score&&!isNaN(e.team1_score)&&w.get(t).push({roster_id:String(e.team1_roster_id),score:parseFloat(e.team1_score)}),e.team2_roster_id&&void 0!==e.team2_score&&!isNaN(e.team2_score)&&w.get(t).push({roster_id:String(e.team2_roster_id),score:parseFloat(e.team2_score)})}),Object.keys(g).forEach(e=>{const n=g[e],r=n.ownerId;for(let c=1;c<=v;c++){var a,i;const u=null===(a=b.get(e))||void 0===a?void 0:a.get(c),d=null===(i=x.get(e))||void 0===i?void 0:i.get(c),h="number"===typeof u&&!isNaN(u),f=null===d||void 0===d?void 0:d.opponentScore,p=null===d||void 0===d?void 0:d.isRegularSeasonMatch,m=null===d||void 0===d?void 0:d.hasOpponent,g=h?u:0;n.weeklyScores.push(g),n.pointsFor+=g,h&&(n.highScore=Math.max(n.highScore,u),n.lowScore=Math.min(n.lowScore,u)),o[r]&&o[r].careerWeeklyScores.push(g);if((t<s||t===s&&c<l)&&m&&(u>0||f>0)&&(n.pointsAgainst+=f,n.totalGames++,u>f?n.wins++:u<f?n.losses++:n.ties++,p)){const t=w.get(c)||[];let a=0,i=0,s=0;t.forEach(t=>{String(t.roster_id)!==String(e)&&(s++,u>t.score?(n.allPlayWins++,o[r]&&o[r].allPlayWins++,a++):u<t.score?(n.allPlayLosses++,o[r]&&o[r].allPlayLosses++):(n.allPlayTies++,o[r]&&o[r].allPlayTies++,i++))});let l=0;s>0&&(l=(a+.5*i)/s,n.seasonalExpectedWinsSum+=l);const d=u>f?1:u===f?.5:0;n.actualWinsRecord+=d;const h=d-l;n.weeklyLuck.push(h);const p=t.reduce((e,t)=>Math.max(e,t.score),-1/0),m=[...t].sort((e,t)=>t.score-e.score),g=[];m[0]&&g.push(m[0].score),m[1]&&g.push(m[1].score),u===p&&n.topScoreWeeksCount++,g.includes(u)&&n.weeklyTop2ScoresCount++,f>0&&(u>1.4*f?n.blowoutWins++:u<.6*f?n.blowoutLosses++:u>f&&u-f<.025*f?n.slimWins++:u<f&&f-u<.025*f&&n.slimLosses++)}}}),a[t]={};Object.keys(g).forEach(e=>{const n=g[e],r=(n.ownerId,n.totalGames>0?n.pointsFor/n.totalGames:0),o=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,i=T(r,n.highScore!==-1/0?n.highScore:0,n.lowScore!==1/0?n.lowScore:0),s=n.actualWinsRecord-n.seasonalExpectedWinsSum,l=n.allPlayWins+n.allPlayLosses+n.allPlayTies,c=l>0?(n.allPlayWins+.5*n.allPlayTies)/l:0;a[t][e]={teamName:n.teamName,rosterId:e,ownerId:n.ownerId,wins:n.wins,losses:n.losses,ties:n.ties,pointsFor:n.pointsFor,pointsAgainst:n.pointsAgainst,averageScore:r,winPercentage:o,rawDPR:i,luckRating:s,actualWinsRecord:n.actualWinsRecord,seasonalExpectedWinsSum:n.seasonalExpectedWinsSum,allPlayWins:n.allPlayWins,allPlayLosses:n.allPlayLosses,allPlayTies:n.allPlayTies,allPlayWinPercentage:c,topScoreWeeksCount:n.topScoreWeeksCount,blowoutWins:n.blowoutWins,blowoutLosses:n.blowoutLosses,slimWins:n.slimWins,slimLosses:n.slimLosses,weeklyTop2ScoresCount:n.weeklyTop2ScoresCount,weeklyLuck:n.weeklyLuck,adjustedDPR:0,totalGames:n.totalGames,highScore:n.highScore,lowScore:n.lowScore,isPlayoffTeam:!1,isChampion:!1,isRunnerUp:!1,isThirdPlace:!1,isPointsChampion:!1,isPointsRunnerUp:!1,isThirdPlacePoints:!1,rank:"N/A",pointsRank:"N/A"}});const S=Object.values(a[t]).map(e=>e.rawDPR).filter(e=>0!==e),_=S.length>0?S.reduce((e,t)=>e+t,0)/S.length:0;if(Object.keys(a[t]).forEach(e=>{a[t][e].adjustedDPR=_>0?a[t][e].rawDPR/_:0}),m){const e=Object.values(a[t]).filter(e=>"number"===typeof e.pointsFor&&!isNaN(e.pointsFor)).sort((e,t)=>t.pointsFor-e.pointsFor);if(e.length>0){let n=1;for(let r=0;r<e.length;r++){const o=e[r];r>0&&o.pointsFor<e[r-1].pointsFor&&(n=r+1),a[t][o.rosterId]&&(a[t][o.rosterId].pointsRank=n,1===n?a[t][o.rosterId].isPointsChampion=!0:2===n?a[t][o.rosterId].isPointsRunnerUp=!0:3===n&&(a[t][o.rosterId].isThirdPlacePoints=!0))}e[0].rosterId}if(h&&f&&(h.length>0||f.length>0)){const e=new Map(u.map(e=>[String(e.roster_id),String(e.owner_id)])),r=((e,t,n,r,a)=>{const{winnersBracket:o,losersBracket:i}=e,s=new Map,l=e=>{const a=t.get(String(e));return{roster_id:e,owner_id:a,teamName:n(a,r)}},c=o.filter(e=>1===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(c){const e=String(c.w),t=String(c.l);s.has(e)||(s.set(e,1),console.log("[playoffRankings] Year ".concat(r,": Explicit Champion: ").concat(l(e).teamName))),s.has(t)||(s.set(t,2),console.log("[playoffRankings] Year ".concat(r,": Explicit Runner-Up: ").concat(l(t).teamName)))}const u=o.filter(e=>3===e.p&&e.w&&e.l).sort((e,t)=>t.r-e.r)[0];if(u){const e=String(u.w),t=String(u.l);(!s.has(e)||s.get(e)>3)&&(s.set(e,3),console.log("[playoffRankings] Year ".concat(r,": Explicit 3rd Place: ").concat(l(e).teamName))),(!s.has(t)||s.get(t)>4)&&(s.set(t,4),console.log("[playoffRankings] Year ".concat(r,": Explicit 4th Place: ").concat(l(t).teamName)))}const d=[...o,...i].filter(e=>e.w&&e.l&&"number"===typeof e.p&&1!==e.p&&3!==e.p).sort((e,t)=>e.p-t.p);d.forEach(e=>{const t=String(e.w),n=String(e.l);if(5===e.p&&i.includes(e))(!s.has(t)||s.get(t)>11)&&s.set(t,11),(!s.has(n)||s.get(n)>12)&&s.set(n,12);else{const r=e.p,a=e.p+1;(!s.has(t)||s.get(t)>r)&&s.set(t,r),(!s.has(n)||s.get(n)>a)&&s.set(n,a)}});const h=Array.from(t.keys());let f=h.filter(e=>!s.has(e));const p=new Map;[...o,...i].forEach(e=>{e.t1&&p.set(String(e.t1),Math.max(e.r,p.get(String(e.t1))||0)),e.t2&&p.set(String(e.t2),Math.max(e.r,p.get(String(e.t2))||0)),e.w&&p.set(String(e.w),Math.max(e.r,p.get(String(e.w))||0)),e.l&&p.set(String(e.l),Math.max(e.r,p.get(String(e.l))||0))});const m=f.filter(e=>p.has(e));m.sort((e,t)=>{const n=p.get(e)||0,r=p.get(t)||0;if(n!==r)return r-n;const o=a[e],i=a[t];if(!o&&!i)return 0;if(!o)return 1;if(!i)return-1;const s=o.totalGames>0?(o.wins+.5*o.ties)/o.totalGames:0,l=i.totalGames>0?(i.wins+.5*i.ties)/i.totalGames:0;return l!==s?l-s:i.pointsFor!==o.pointsFor?i.pointsFor-o.pointsFor:parseInt(e)-parseInt(t)});let g=1;const y=new Set(Array.from(s.values()).filter(e=>"number"===typeof e));for(;y.has(g);)g++;for(const w of m)if(!s.has(w))for(s.set(w,g),y.add(g),g++;y.has(g);)g++;const v=h.filter(e=>!s.has(e));v.sort((e,t)=>{const n=a[e],r=a[t];if(!n&&!r)return 0;if(!n)return 1;if(!r)return-1;const o=n.totalGames>0?(n.wins+.5*n.ties)/n.totalGames:0,i=r.totalGames>0?(r.wins+.5*r.ties)/r.totalGames:0;return i!==o?i-o:r.pointsFor!==n.pointsFor?r.pointsFor-n.pointsFor:parseInt(e)-parseInt(t)});let b=1;for(const w of s.values())"number"===typeof w&&(b=Math.max(b,w+1));for(;y.has(b);)b++;for(const w of v)if(!s.has(w))for(s.set(w,b),y.add(b),b++;y.has(b);)b++;const x=Array.from(s.entries()).map(e=>{let[t,n]=e;return{roster_id:t,playoffFinish:n}});return x.sort((e,t)=>("number"===typeof e.playoffFinish?e.playoffFinish:1/0)-("number"===typeof t.playoffFinish?t.playoffFinish:1/0)),x})({winnersBracket:h,losersBracket:f},e,n,parseInt(t),g);r.forEach(e=>{const n=e.roster_id,r=e.playoffFinish;a[t][n]&&(a[t][n].rank=r,a[t][n].isChampion=!1,a[t][n].isRunnerUp=!1,a[t][n].isThirdPlace=!1,1===r?a[t][n].isChampion=!0:2===r?a[t][n].isRunnerUp=!0:3===r&&(a[t][n].isThirdPlace=!0))}),console.log("calculations.js: Playoff/Points Award Flags for year ".concat(t,":")),Object.values(a[t]).forEach(e=>{console.log("  Team: ".concat(e.teamName,", Champion: ").concat(e.isChampion,", RunnerUp: ").concat(e.isRunnerUp,", ThirdPlace: ").concat(e.isThirdPlace,", PointsChamp: ").concat(e.isPointsChampion,", PointsRunnerUp: ").concat(e.isPointsRunnerUp,", PointsThird: ").concat(e.isThirdPlacePoints))})}else Object.keys(a[t]).forEach(e=>{a[t][e].isChampion=!1,a[t][e].isRunnerUp=!1,a[t][e].isThirdPlace=!1,a[t][e].rank="N/A"})}else Object.keys(a[t]).forEach(e=>{a[t][e].isChampion=!1,a[t][e].isRunnerUp=!1,a[t][e].isThirdPlace=!1,a[t][e].isPointsChampion=!1,a[t][e].isPointsRunnerUp=!1,a[t][e].isThirdPlacePoints=!1,a[t][e].rank="N/A",a[t][e].pointsRank="N/A"})});const d=[],h=[];Object.keys(o).forEach(e=>{const t=o[e];t.wins=0,t.losses=0,t.ties=0,t.pointsFor=0,t.pointsAgainst=0,t.totalGames=0,t.allPlayWins=0,t.allPlayLosses=0,t.allPlayTies=0,t.careerWeeklyScores=[],t.topScoreWeeksCount=0,t.blowoutWins=0,t.blowoutLosses=0,t.slimWins=0,t.slimLosses=0,t.weeklyTop2ScoresCount=0,t.actualCareerWinsRecord=0,t.careerExpectedWinsSum=0,t.championships=0,t.runnerUps=0,t.thirdPlaces=0,t.firstPoints=0,t.secondPoints=0,t.thirdPoints=0,t.playoffAppearancesCount=0,t.totalLuckRating=0,t.totalDPRSum=0,t.seasonsWithDPRData=0,Object.keys(a).forEach(n=>{const r=parseInt(n),o=a[r];if(o){const n=Object.values(o).find(t=>t.ownerId===e);n&&(t.wins+=n.wins,t.losses+=n.losses,t.ties+=n.ties,t.pointsFor+=n.pointsFor,t.pointsAgainst+=n.pointsAgainst,t.totalGames+=n.totalGames,t.actualCareerWinsRecord+=n.actualWinsRecord,t.allPlayWins+=n.allPlayWins,t.allPlayLosses+=n.allPlayLosses,t.allPlayTies+=n.allPlayTies,t.careerWeeklyScores.push(...n.weeklyScores||[]),t.topScoreWeeksCount+=n.topScoreWeeksCount||0,t.blowoutWins+=n.blowoutWins||0,t.blowoutLosses+=n.blowoutLosses||0,t.slimWins+=n.slimWins||0,t.slimLosses+=n.slimLosses||0,t.weeklyTop2ScoresCount+=n.weeklyTop2ScoresCount||0,t.totalLuckRating+=n.luckRating||0,t.careerExpectedWinsSum+=n.seasonalExpectedWinsSum||0,"number"===typeof n.rank&&n.rank<=6&&t.playoffAppearancesCount++,n.isChampion&&t.championships++,n.isRunnerUp&&t.runnerUps++,n.isThirdPlace&&t.thirdPlaces++,n.isPointsChampion&&t.firstPoints++,n.isPointsRunnerUp&&t.secondPoints++,n.isThirdPlacePoints&&t.thirdPoints++,void 0!==n.adjustedDPR&&null!==n.adjustedDPR&&n.totalGames>0&&(t.totalDPRSum+=n.adjustedDPR,t.seasonsWithDPRData++))}});let n=0;Object.values(a).forEach(t=>{const r={};Object.values(t).forEach(e=>{Array.isArray(e.weeklyScores)&&e.weeklyScores.forEach((t,n)=>{const a=n+1;r[a]||(r[a]=[]),r[a].push({ownerId:e.ownerId,score:t})})}),Object.entries(r).forEach(t=>{let[r,a]=t,o=-1/0;a.forEach(e=>{let{score:t}=e;"number"!==typeof t||isNaN(t)||t>o&&(o=t)}),a.forEach(t=>{let{ownerId:r,score:a}=t;r!==e||"number"!==typeof a||isNaN(a)||a!==o||o===-1/0||n++})})});const r=t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,i=t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,s=t.totalGames>0?t.pointsFor/t.totalGames:0,l=t.totalGames>0?(t.wins+.5*t.ties)/t.totalGames:0;let c=0;t.totalGames>0&&(c=T(s,r,i),h.push(c));const u=t.allPlayWins+t.allPlayLosses+t.allPlayTies,f=u>0?(t.allPlayWins+.5*t.allPlayTies)/u:0;t.actualCareerWinsRecord,t.careerExpectedWinsSum;let p=0,m=1/0;Object.keys(a).forEach(t=>{const n=parseInt(t),r=Object.values(a[n]).find(t=>t.ownerId===e);if(r&&r.totalGames>0){const e=r.pointsFor/r.totalGames;p=Math.max(p,e),m=Math.min(m,e)}}),m===1/0&&(m=0),d.push({ownerId:e,teamName:t.teamName,dpr:c,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,averageScore:s,winPercentage:l,totalGames:t.totalGames,allPlayWins:t.allPlayWins,allPlayLosses:t.allPlayLosses,allPlayTies:t.allPlayTies,allPlayWinPercentage:f,topScoreWeeksCount:t.topScoreWeeksCount,blowoutWins:t.blowoutWins,blowoutLosses:t.blowoutLosses,slimWins:t.slimWins,slimLosses:t.slimLosses,weeklyTop2ScoresCount:t.weeklyTop2ScoresCount,highScore:t.careerWeeklyScores.length>0?Math.max(...t.careerWeeklyScores):0,lowScore:t.careerWeeklyScores.length>0?Math.min(...t.careerWeeklyScores):0,weeklyHighScoreCount:n,totalLuckRating:t.totalLuckRating,highestSeasonalPointsAvg:p,lowestSeasonalPointsAvg:m,championships:t.championships,runnerUps:t.runnerUps,thirdPlaces:t.thirdPlaces,pointsChampionships:t.firstPoints,pointsRunnerUps:t.secondPoints,thirdPlacePoints:t.thirdPoints,playoffAppearancesCount:t.playoffAppearancesCount,actualCareerWinsRecord:t.actualCareerWinsRecord,careerExpectedWinsSum:t.careerExpectedWinsSum})});const f=h.length>0?h.reduce((e,t)=>e+t,0)/h.length:0;return d.forEach(e=>{e.dpr=f>0?e.dpr/f:0}),d.sort((e,t)=>t.dpr-e.dpr),{seasonalMetrics:a,careerDPRData:d}};var C=n(579);const I=(0,t.createContext)(),D="1074092015093413888",M=async(e,t)=>{const n="https://api.sleeper.app/v1/league/".concat(e,"/transactions/").concat(t);try{const e=await fetch(n);if(!e.ok)throw new Error("Failed to fetch transactions for week ".concat(t,". Status: ").concat(e.status));return await e.json()}catch(r){return console.error("Error fetching transactions for week ".concat(t,":"),r),[]}},R=e=>{var n;let{children:r}=e;const[a,o]=(0,t.useState)(null),[i,s]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,x]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[_,j]=(0,t.useState)({}),[N,P]=(0,t.useState)({}),[O,T]=(0,t.useState)({}),[R,L]=(0,t.useState)(null),[F,B]=(0,t.useState)([]),[U,W]=(0,t.useState)(!0),[z,V]=(0,t.useState)(null),H={matchupsBySeason:[{team1_roster_id:"1",team1_score:155.04,team2_roster_id:"7",team2_score:175.4,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:123.47,team2_roster_id:"10",team2_score:121.27,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:141.71,team2_roster_id:"12",team2_score:135.24,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:151.61,team2_roster_id:"5",team2_score:183.29,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:136.88,team2_roster_id:"11",team2_score:168.74,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:135.89,team2_roster_id:"9",team2_score:119.19,week:"1",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:128.19,team2_roster_id:"3",team2_score:179.42,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:125.49,team2_roster_id:"8",team2_score:135.28,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:95.71,team2_roster_id:"6",team2_score:128.81,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:142.02,team2_roster_id:"11",team2_score:136.58,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:147.1,team2_roster_id:"12",team2_score:139.7,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:182.01,team2_roster_id:"10",team2_score:124.79,week:"2",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.72,team2_roster_id:"12",team2_score:117.53,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:153.86,team2_roster_id:"9",team2_score:137.5,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:126.72,team2_roster_id:"7",team2_score:118.27,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:126.08,team2_roster_id:"11",team2_score:80.37,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.67,team2_roster_id:"6",team2_score:165.55,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:132.49,team2_roster_id:"10",team2_score:134.76,week:"3",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:95.22,team2_roster_id:"8",team2_score:139.42,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:110.04,team2_roster_id:"4",team2_score:151.08,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:134.74,team2_roster_id:"7",team2_score:153.16,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:176.2,team2_roster_id:"10",team2_score:110.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:131.12,team2_roster_id:"9",team2_score:142.27,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"11",team1_score:131.74,team2_roster_id:"12",team2_score:168.68,week:"4",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:141.51,team2_roster_id:"12",team2_score:114.22,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:189.6,team2_roster_id:"7",team2_score:111.37,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:168.61,team2_roster_id:"10",team2_score:112.88,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:189.37,team2_roster_id:"9",team2_score:170.56,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:135.89,team2_roster_id:"11",team2_score:118.72,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:182.28,team2_roster_id:"8",team2_score:141.35,week:"5",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:165.57,team2_roster_id:"9",team2_score:147.1,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:156.76,team2_roster_id:"8",team2_score:150.17,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:176.81,team2_roster_id:"6",team2_score:115.06,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:98.65,team2_roster_id:"5",team2_score:167.96,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:96.52,team2_roster_id:"12",team2_score:120.88,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:119.58,team2_roster_id:"11",team2_score:158.65,week:"6",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:102.87,team2_roster_id:"2",team2_score:102.36,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:161.6,team2_roster_id:"9",team2_score:127.68,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:131.19,team2_roster_id:"11",team2_score:148.13,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:128.2,team2_roster_id:"12",team2_score:100.82,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:123.52,team2_roster_id:"10",team2_score:166.75,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:123.8,team2_roster_id:"8",team2_score:136.57,week:"7",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:122.39,team2_roster_id:"10",team2_score:162.99,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:120.4,team2_roster_id:"9",team2_score:135.55,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:85.95,team2_roster_id:"8",team2_score:138,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:93.82,team2_roster_id:"12",team2_score:153.63,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:123.2,team2_roster_id:"7",team2_score:114.23,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:133.31,team2_roster_id:"11",team2_score:147.93,week:"8",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:77.36,team2_roster_id:"11",team2_score:144.56,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:104.29,team2_roster_id:"3",team2_score:119.83,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:169.03,team2_roster_id:"6",team2_score:103.37,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:127.32,team2_roster_id:"9",team2_score:119.24,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:107.79,team2_roster_id:"10",team2_score:89.49,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:194.81,team2_roster_id:"12",team2_score:84.42,week:"9",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.35,team2_roster_id:"5",team2_score:164.05,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:136.31,team2_roster_id:"6",team2_score:134.48,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:114.71,team2_roster_id:"4",team2_score:101.82,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:108.14,team2_roster_id:"11",team2_score:102.18,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:92.51,team2_roster_id:"10",team2_score:119.01,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.42,team2_roster_id:"12",team2_score:107.53,week:"10",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:107.51,team2_roster_id:"3",team2_score:173.96,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:132.54,team2_roster_id:"10",team2_score:94.17,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:110.36,team2_roster_id:"7",team2_score:145.77,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:154.05,team2_roster_id:"8",team2_score:199.61,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:119.34,team2_roster_id:"12",team2_score:122.8,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:142.6,team2_roster_id:"11",team2_score:103.52,week:"11",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:175.69,team2_roster_id:"7",team2_score:90.75,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:158.17,team2_roster_id:"11",team2_score:104.14,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:159.93,team2_roster_id:"12",team2_score:78.49,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:111.52,team2_roster_id:"8",team2_score:144.08,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"5",team1_score:171.34,team2_roster_id:"6",team2_score:116,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"9",team1_score:102.64,team2_roster_id:"10",team2_score:114.13,week:"12",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:103.23,team2_roster_id:"4",team2_score:106.89,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:138.67,team2_roster_id:"5",team2_score:127.8,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:163.2,team2_roster_id:"11",team2_score:87.06,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"6",team1_score:110.88,team2_roster_id:"7",team2_score:103.77,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:142.74,team2_roster_id:"9",team2_score:167.3,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"10",team1_score:124.58,team2_roster_id:"12",team2_score:141.24,week:"13",year:"2021",regSeason:!0},{team1_roster_id:"1",team1_score:147.16,team2_roster_id:"6",team2_score:123.3,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"2",team1_score:167.62,team2_roster_id:"12",team2_score:125.51,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"3",team1_score:143.5,team2_roster_id:"5",team2_score:163.4,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"4",team1_score:105.78,team2_roster_id:"10",team2_score:132.44,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"7",team1_score:102.73,team2_roster_id:"9",team2_score:154.67,week:"14",year:"2021",regSeason:!0},{team1_roster_id:"8",team1_score:156.33,team2_roster_id:"11",team2_score:122.83,week:"14",year:"2021",regSeason:!0}],rostersBySeason:[{roster_id:"1",owner_id:"783790952367169536",metadata:{team_name:"Ainsworth"}},{roster_id:"2",owner_id:"783761299275382784",metadata:{team_name:"Bjarnar"}},{roster_id:"3",owner_id:"783789717920534528",metadata:{team_name:"Blumbergs"}},{roster_id:"4",owner_id:"783789669597999104",metadata:{team_name:"Boilard"}},{roster_id:"5",owner_id:"783767734491127808",metadata:{team_name:"Dembski"}},{roster_id:"6",owner_id:"467074573125283840",metadata:{team_name:"Irwin"}},{roster_id:"7",owner_id:"783778036578418688",metadata:{team_name:"Meer"}},{roster_id:"8",owner_id:"783763304463147008",metadata:{team_name:"Neufeglise"}},{roster_id:"9",owner_id:"783758716272009216",metadata:{team_name:"O'Donoghue"}},{roster_id:"10",owner_id:"783754997035876352",metadata:{team_name:"Randall"}},{roster_id:"11",owner_id:"783761892693905408",metadata:{team_name:"Schmitt"}},{roster_id:"12",owner_id:"787044291066380288",metadata:{team_name:"Tomczak"}}],usersBySeason:[{user_id:"783790952367169536",display_name:"Kurt's WAP"},{user_id:"783761299275382784",display_name:"Bohan's Bitches"},{user_id:"783789717920534528",display_name:"Hangin' With Hernandez"},{user_id:"783789669597999104",display_name:"Camel Toe Hounds"},{user_id:"783767734491127808",display_name:"Balls Mafia"},{user_id:"467074573125283840",display_name:"No Romo"},{user_id:"783778036578418688",display_name:"Christian McCockherpussy"},{user_id:"783763304463147008",display_name:"The Wolf of Waller Street"},{user_id:"783758716272009216",display_name:"O'D's Danglers"},{user_id:"783754997035876352",display_name:"The Team of Constant Sorrow"},{user_id:"783761892693905408",display_name:"Matt's O'DUI"},{user_id:"787044291066380288",display_name:"Michael Vick's Vet Clinic"}],leaguesMetadataBySeason:{settings:{playoff_start_week:15,scoring_settings:{pass_yd:.04,pass_td:4,pass_int:-1,rush_yd:.1,rush_td:6,rec_yd:.1,rec:.5,rec_td:6,fum_lost:-2},roster_positions:["QB","RB","RB","WR","WR","TE","FLEX","K","DEF","BN","BN","BN","BN","BN","BN","BN"]},season:"2021"},winnersBracketBySeason:[{m:1,r:1,w:"8",l:"9",t1:"8",t2:"9",t1_score:123.49,t2_score:113.36,week:15,playoffs:!0},{m:2,r:1,w:"1",l:"2",t1:"2",t2:"1",t1_score:142.05,t2_score:148.61,week:15,playoffs:!0},{m:3,r:2,w:"5",l:"8",t1:"5",t2:"8",t1_score:174.09,t2_score:114.7,week:16,playoffs:!0},{m:4,r:2,w:"1",l:"3",t1:"1",t2:"3",t1_score:163.38,t2_score:142.81,week:16,playoffs:!0},{m:5,r:3,p:1,w:"1",l:"5",t1:"5",t2:"1",t1_score:96.58,t2_score:134.51,week:17,playoffs:!0},{m:6,r:3,p:3,w:"3",l:"8",t1:"8",t2:"3",t1_score:159.89,t2_score:163.1,week:17,playoffs:!0},{m:7,r:2,p:5,w:"2",l:"9",t1:"9",t2:"2",t1_score:113.09,t2_score:143.89,week:16,playoffs:!0}],losersBracketBySeason:[{m:2,r:1,w:"11",l:"4",t1:"11",t2:"4",t1_score:97.93,t2_score:86.3,week:15,playoffs:!0},{m:3,r:1,w:"6",l:"7",t1:"7",t2:"6",t1_score:76.62,t2_score:81.32,week:15,playoffs:!0},{m:4,r:2,w:"10",l:"11",t1:"10",t2:"11",t1_score:83.46,t2_score:26.22,week:16,playoffs:!0},{m:5,r:2,w:"12",l:"6",t1:"6",t2:"12",t1_score:37.26,t2_score:49.31,week:16,playoffs:!0},{m:6,r:2,p:11,w:"7",l:"4",t1:"7",t2:"4",t1_score:111.27,t2_score:102.74,week:16,playoffs:!0},{m:7,r:3,p:7,w:"12",l:"10",t1:"10",t2:"12",t1_score:13.66,t2_score:47.98,week:17,playoffs:!0},{m:8,r:3,p:9,w:"6",l:"11",t1:"11",t2:"6",t1_score:9.4,t2_score:51.56,week:17,playoffs:!0}]},q=(0,t.useMemo)(()=>{var e,t;const n=new Map,r=(new Map,l(l({},(null===w||void 0===w?void 0:w.usersBySeason)||{}),{},{2021:(null===(e=H)||void 0===e?void 0:e.usersBySeason)||[]})),a=l(l({},(null===w||void 0===w?void 0:w.rostersBySeason)||{}),{},{2021:(null===(t=H)||void 0===t?void 0:t.rostersBySeason)||[]});r&&Object.entries(r).forEach(e=>{let[t,r]=e;const a=new Map;Array.isArray(r)&&r.forEach(e=>{a.set(e.user_id,e)}),n.set(t,a)}),a&&Object.entries(a).forEach(e=>{let[t,n]=e;const r=new Map;Array.isArray(n)&&n.forEach(e=>{r.set(e.roster_id,e)}),r.set(t,r)});const o=new Map;return i&&i.forEach(e=>{o.set(e.user_id,e)}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.team_name?e.metadata.team_name:null!==e&&void 0!==e&&e.display_name?e.display_name:null};let a="Unknown Team (ID: ".concat(e,")");if(null===t){const t=r(o.get(e));if(t)a=t;else{const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const o of t){const t=r(n.get(o).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=null===R||void 0===R?void 0:R.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}else{if(n.has(String(t))){const o=r(n.get(String(t)).get(e));o&&(a=o)}if(a.startsWith("Unknown Team (ID:")){const t=Array.from(n.keys()).sort((e,t)=>parseInt(t)-parseInt(e));for(const o of t){const t=r(n.get(o).get(e));if(t){a=t;break}}}if(a.startsWith("Unknown Team (ID:")){const t=r(o.get(e));t&&(a=t)}if(a.startsWith("Unknown Team (ID:")){const t=null===R||void 0===R?void 0:R.find(t=>t.ownerId===e);t&&t.teamName&&!t.teamName.startsWith("Unknown Team (ID:")&&(a=t.teamName)}}return a}},[i,w,R]),G=(0,t.useMemo)(()=>(e,t)=>{let n=null;var r,a;return w&&w.usersBySeason&&w.usersBySeason[t]&&e&&(n=w.usersBySeason[t].find(t=>t.user_id===e)),!n&&i&&e&&(n=i.find(t=>t.user_id===e)),n?{name:(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name,avatar:(null===(a=n.metadata)||void 0===a?void 0:a.avatar)||(n.avatar?"https://sleepercdn.com/avatars/".concat(n.avatar):"https://sleepercdn.com/avatars/default_avatar.png")}:"string"!==typeof e||/^\d+$/.test(e)?{name:"Team (ID: ".concat(e,")"),avatar:"https://sleepercdn.com/avatars/default_avatar.png"}:{name:e,avatar:"https://sleepercdn.com/avatars/default_avatar.png"}},[i,w]);(0,t.useEffect)(()=>{(async()=>{W(!0),V(null);try{var e,t,n,r,a,i;const p=c||D;if(!p)return V(new Error("No league ID provided or fallback ID is invalid. Please set CURRENT_LEAGUE_ID in config.js or ensure FALLBACK_LEAGUE_ID is valid.")),void W(!1);0;const[w,_,N,O,C,I,R]=await Promise.all([m(p),g(p),b(p),y(),v(),k(),E()]);if(!w)return V(new Error("Failed to fetch initial league data for ID: ".concat(p,". Please check the league ID in config.js or the fallback ID."))),void W(!1);o(w),s(_),d(N),f(O),x(C);let F=[];if(C&&C.week)for(let e=1;e<=C.week;e++){const t=await M(p,e);F=[...F,...t]}B(F),console.log("SleeperDataContext: Fetched transactions:",F);const U={},z={};if(R)for(const e in R)if(R.hasOwnProperty(e)){var u,h;const t=R[e],n=(null===(u=t.drafts)||void 0===u?void 0:u.find(e=>"complete"===e.status))||(null===(h=t.drafts)||void 0===h?void 0:h[0]);n&&(U[e]=n,z[e]=n.picks||[])}j(U),P(z);const G={};null!==I&&void 0!==I&&I.matchupsBySeason&&Object.entries(I.matchupsBySeason).forEach(e=>{let[t,n]=e;"object"!==typeof n||null===n||Array.isArray(n)?Array.isArray(n)?G[t]=n:G[t]=[]:G[t]=Object.values(n).flat()});const K={matchupsBySeason:l(l({},G||{}),{},{2021:(null===(e=H)||void 0===e?void 0:e.matchupsBySeason)||[]}),rostersBySeason:l(l({},(null===I||void 0===I?void 0:I.rostersBySeason)||{}),{},{2021:(null===(t=H)||void 0===t?void 0:t.rostersBySeason)||[]}),usersBySeason:l(l({},(null===I||void 0===I?void 0:I.usersBySeason)||{}),{},{2021:(null===(n=H)||void 0===n?void 0:n.usersBySeason)||[]}),leaguesMetadataBySeason:l(l({},(null===I||void 0===I?void 0:I.leaguesMetadataBySeason)||{}),{},{2021:(null===(r=H)||void 0===r?void 0:r.leaguesMetadataBySeason)||{}}),winnersBracketBySeason:l(l({},(null===I||void 0===I?void 0:I.winnersBracketBySeason)||{}),{},{2021:(null===(a=H)||void 0===a?void 0:a.winnersBracketBySeason)||[]}),losersBracketBySeason:l(l({},(null===I||void 0===I?void 0:I.losersBracketBySeason)||{}),{},{2021:(null===(i=H)||void 0===i?void 0:i.losersBracketBySeason)||[]}),draftsBySeason:U,draftPicksBySeason:z};if(S(K),K&&Object.keys(K.matchupsBySeason).length>0){const{seasonalMetrics:e,careerDPRData:t}=A(K,0,q,C);T(e),L(t)}else T({}),L(null);W(!1),console.log("SleeperDataContext: Final nflPlayers state:",O),console.log("SleeperDataContext: Final draftsBySeason state:",U),console.log("SleeperDataContext: Final draftPicksBySeason state:",z),console.log("SleeperDataContext: Final historicalMatchups (merged historicalData) state:",K)}catch(p){console.error("Failed to load initial Sleeper data:",p),V(p),W(!1)}})()},[]);(0,t.useMemo)(()=>({draftsBySeason:_,draftPicksBySeason:N}),[_,N]);const K=Array.isArray(a)&&a.length>0?a[0]:a,Y=((null===K||void 0===K?void 0:K.season)||Array.isArray(a)&&a.length>0&&(null===(n=a[0])||void 0===n||n.season),(0,t.useMemo)(()=>({leagueData:a,usersData:i,rostersWithDetails:u,nflPlayers:h,nflState:p,historicalData:w,draftsBySeason:_,draftPicksBySeason:N,processedSeasonalRecords:O,careerDPRData:R,transactions:F,loading:U,error:z,getTeamName:q,getTeamDetails:G}),[a,i,u,h,p,w,_,N,O,R,F,U,z,q,G]));return(0,C.jsx)(I.Provider,{value:Y,children:r})},L=()=>{const e=(0,t.useContext)(I);if(void 0===e)throw new Error("useSleeperData must be used within a SleeperDataProvider");return e};const F=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toFixed(2),B=()=>{const{historicalData:e,getTeamName:n,getTeamDetails:r,loading:a,error:o,currentSeason:i,nflState:s}=L(),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)(0),v=["bg-green-200","bg-lime-200","bg-yellow-200","bg-orange-200","bg-amber-200","bg-pink-200","bg-red-200","bg-red-400"];(0,t.useEffect)(()=>{if(a||!e||!e.matchupsBySeason)return h(!0),void m(o||null);let t=i;if(!t){const n=Object.keys(e.matchupsBySeason);n.length>0&&(t=Math.max(...n.map(Number)).toString())}const r=e.matchupsBySeason[t];if(!r||0===r.length)return u([]),h(!1),void m("No games have been played for the current season yet. Please check back after the first week's games have been completed.");const c=s&&s.week?parseInt(s.week):1;y(c>1?c-1:1);try{const r=A(e,0,n,s),a=((null===r||void 0===r?void 0:r.seasonalMetrics)||{})[t]||{};let o=Object.keys(a).map(e=>{const r=a[e];return{ownerId:r.ownerId,team:n(r.ownerId,t),dpr:r.adjustedDPR,wins:r.wins,losses:r.losses,ties:r.ties,pointsFor:r.pointsFor,pointsAgainst:r.pointsAgainst,luckRating:r.luckRating,year:t}}).filter(e=>e.wins+e.losses+e.ties>0).sort((e,t)=>t.dpr-e.dpr),i=[],c=1;i.push(c);for(let e=1;e<o.length;e++){const t=o[e-1].dpr,n=o[e].dpr;1-n/t>.0455&&c++,i.push(c)}o=o.map((e,t)=>l(l({},e),{},{rank:t+1,tier:i[t]})),u(o),h(!1),m(null)}catch(d){u([]),h(!1),m("Failed to calculate power rankings: "+d.message)}},[a,o,e,n,i,s]);return(0,C.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 md:p-8",children:[(0,C.jsx)("h2",{className:"text-3xl font-extrabold text-blue-800 mb-6 text-center tracking-tight",children:c.length>0?"Power Rankings (DPR) - ".concat(c[0].year," Season (Week ").concat(g,")"):"Current Power Rankings"}),d?(0,C.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,C.jsx)("span",{className:"text-lg text-gray-500 animate-pulse",children:"Calculating power rankings..."})}):p?(0,C.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,C.jsx)("span",{className:"text-lg text-red-500 font-semibold",children:p})}):c.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[(0,C.jsx)("thead",{className:"bg-blue-100 sticky top-0 z-10",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-3 px-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,C.jsx)("th",{className:"py-3 px-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,C.jsx)("th",{className:"py-3 px-4 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"DPR"}),(0,C.jsx)("th",{className:"py-3 px-4 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record"}),(0,C.jsx)("th",{className:"py-3 px-4 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PF"}),(0,C.jsx)("th",{className:"py-3 px-4 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"PA"}),(0,C.jsx)("th",{className:"py-3 px-4 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Luck"})]})}),(0,C.jsx)("tbody",{children:c.map((e,t)=>{var a,o,i;return(0,C.jsxs)("tr",{className:"".concat(v[(e.tier-1)%v.length]," ").concat(t%2===0?"":"opacity-90"),children:[(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-blue-700 font-bold border-b border-gray-200",children:e.rank}),(0,C.jsxs)("td",{className:"py-2 px-4 text-sm text-gray-800 font-semibold border-b border-gray-200 flex items-center gap-2",children:[(0,C.jsx)("img",{src:(null===(a=r(e.ownerId,e.year))||void 0===a?void 0:a.avatar)||f(e.ownerId),alt:n(e.ownerId,e.year),className:"w-7 h-7 rounded-full border border-blue-300 mr-2",onError:e=>{e.target.style.display="none"}}),(0,C.jsx)("span",{className:"truncate",children:n(e.ownerId,e.year)})]}),(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-center border-b border-gray-200 font-mono",children:(i=e.dpr,"number"!==typeof i||isNaN(i)?"N/A":i.toFixed(3))}),(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-center border-b border-gray-200 font-mono",children:"".concat(e.wins,"-").concat(e.losses,"-").concat(e.ties)}),(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-center border-b border-gray-200 font-mono text-green-700",children:F(e.pointsFor)}),(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-center border-b border-gray-200 font-mono text-red-700",children:F(e.pointsAgainst)}),(0,C.jsx)("td",{className:"py-2 px-4 text-sm text-center border-b border-gray-200 font-mono ".concat(e.luckRating>0?"text-green-600":e.luckRating<0?"text-red-600":"text-gray-700"),children:(o=e.luckRating,"number"!==typeof o||isNaN(o)?"N/A":o.toFixed(3))})]},e.ownerId)})})]})}):(0,C.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,C.jsx)("span",{className:"text-lg text-gray-500",children:p})}),(0,C.jsx)("p",{className:"mt-8 text-sm text-gray-500 text-center",children:"Power Rankings are calculated based on DPR (Dominance Power Ranking) for the newest season available."})]})};function U(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=U(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const W=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=U(e))&&(r&&(r+=" "),r+=t);return r};var z=n(9889),V=n.n(z),H=n(620),q=n.n(H),G=n(5268),K=n.n(G),Y=n(3097),Q=n.n(Y),X=n(9160),$=n.n(X),J=n(9686),Z=n.n(J),ee=function(e){return 0===e?0:e>0?1:-1},te=function(e){return q()(e)&&e.indexOf("%")===e.length-1},ne=function(e){return $()(e)&&!K()(e)},re=function(e){return ne(e)||q()(e)},ae=0,oe=function(e){var t=++ae;return"".concat(e||"").concat(t)},ie=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ne(e)&&!q()(e))return r;if(te(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return K()(n)&&(n=r),a&&n>t&&(n=t),n},se=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},le=function(e,t){return ne(e)&&ne(t)?function(n){return e+n*(t-e)}:function(){return t}};function ce(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Q()(e,t))===n}):null}var ue=function(e,t){return ne(e)&&ne(t)?e-t:q()(e)&&q()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},de=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},he=n(1629),fe=n.n(he),pe=n(6686),me=n.n(pe),ge=n(9062);function ye(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}var be=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xe=["points","pathLength"],we={svg:["viewBox","children"],polygon:xe,polyline:xe},Se=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_e=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!me()(r))return null;var a={};return Object.keys(r).forEach(function(e){Se.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},ke=function(e,t,n){if(!me()(e)||"object"!==ve(e))return null;var r=null;return Object.keys(e).forEach(function(a){var o=e[a];Se.includes(a)&&"function"===typeof o&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},je=["children"],Ne=["children"];function Pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}var Ee={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Te=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Ae=null,Ce=null,Ie=function e(n){if(n===Ae&&Array.isArray(Ce))return Ce;var r=[];return t.Children.forEach(n,function(t){Z()(t)||((0,ge.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Ce=r,Ae=n,r};function De(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Te(e)}):[Te(t)],Ie(e).forEach(function(e){var t=Q()(e,"type.displayName")||Q()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Me(e,t){var n=De(e,t);return n&&n[0]}var Re=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ne(n)||n<=0||!ne(r)||r<=0)},Le=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fe=function(e){return e&&e.type&&q()(e.type)&&Le.indexOf(e.type)>=0},Be=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!me()(a))return null;var o={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,o=null!==(a=null===we||void 0===we?void 0:we[r])&&void 0!==a?a:[];return t.startsWith("data-")||!fe()(e)&&(r&&o.includes(t)||be.includes(t))||n&&Se.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(o[e]=a[e])}),o},Ue=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return We(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var o=0;o<a;o++){var i=n[o],s=r[o];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!We(i,s))return!1}return!0},We=function(e,t){if(Z()(e)&&Z()(t))return!0;if(!Z()(e)&&!Z()(t)){var n=e.props||{},r=n.children,a=Pe(n,je),o=t.props||{},i=o.children,s=Pe(o,Ne);return r&&i?ye(a,s)&&Ue(r,i):!r&&!i&&ye(a,s)}return!1},ze=function(e,t){var n=[],r={};return Ie(e).forEach(function(e,a){if(Fe(e))n.push(e);else if(e){var o=Te(e.type),i=t[o]||{},s=i.handler,l=i.once;if(s&&(!l||!r[o])){var c=s(e,o,a);n.push(c),r[o]=!0}}}),n};function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){Ge(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ge(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ve(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,o=void 0===a?{width:-1,height:-1}:a,i=e.width,s=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,S=(0,t.useRef)(null),_=(0,t.useRef)();_.current=b,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=Ke((0,t.useState)({containerWidth:o.width,containerHeight:o.height}),2),j=k[0],N=k[1],P=(0,t.useCallback)(function(e,t){N(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;P(r,a),null===(t=_.current)||void 0===t||t.call(_,r,a)};g>0&&(e=V()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,a=n.height;return P(r,a),t.observe(S.current),function(){t.disconnect()}},[P,g]);var O=(0,t.useMemo)(function(){var e=j.containerWidth,n=j.containerHeight;if(e<0||n<0)return null;de(te(s)||te(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),de(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=te(s)?e:s,o=te(c)?n:c;r&&r>0&&(a?o=a/r:o&&(a=o*r),f&&o>f&&(o=f)),de(a>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,o,s,c,d,h,r);var i=!Array.isArray(p)&&Te(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,qe({width:a,height:o},i?{style:qe({height:"100%",width:"100%",maxHeight:o,maxWidth:a},e.props.style)}:{})):e})},[r,p,c,f,h,d,j,s]);return t.createElement("div",{id:y?"".concat(y):void 0,className:W("recharts-responsive-container",v),style:qe(qe({},w),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},O)}),Xe=n(6604),$e=n.n(Xe),Je=n(7424),Ze=n.n(Je),et="Invariant failed";function tt(e,t){if(!e)throw new Error(et)}var nt=["children","width","height","viewBox","className","style","title","desc"];function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ot(e){var n=e.children,r=e.width,a=e.height,o=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=at(e,nt),d=o||{width:r,height:a,x:0,y:0},h=W("recharts-surface",i);return t.createElement("svg",rt({},Be(u,!0,"svg"),{className:h,width:r,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var it=["children","className"];function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ct=t.forwardRef(function(e,n){var r=e.children,a=e.className,o=lt(e,it),i=W("recharts-layer",a);return t.createElement("g",st({className:i},Be(o,!0),{ref:n}),r)});function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(t){gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ut(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e){return Array.isArray(e)&&re(e[0])&&re(e[1])?e.join(" ~ "):e}var vt=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,o=void 0===a?{}:a,i=e.itemStyle,s=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=mt({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=mt({margin:0},c),w=!Z()(m),S=w?m:"",_=W("recharts-default-tooltip",f),k=W("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(S=g(m,u));var j=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",dt({className:_,style:b},j),t.createElement("p",{className:k,style:x},t.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?Ze()(u,h):u).map(function(e,n){if("none"===e.type)return null;var a=mt({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||yt,i=e.value,l=e.name,c=i,h=l;if(o&&null!=c&&null!=h){var f=o(i,l,e,n,u);if(Array.isArray(f)){var p=ht(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},re(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,re(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function xt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt="recharts-tooltip-wrapper",St={visibility:"hidden"};function _t(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return W(wt,xt(xt(xt(xt({},"".concat(wt,"-right"),ne(n)&&t&&ne(t.x)&&n>=t.x),"".concat(wt,"-left"),ne(n)&&t&&ne(t.x)&&n<t.x),"".concat(wt,"-bottom"),ne(r)&&t&&ne(t.y)&&r>=t.y),"".concat(wt,"-top"),ne(r)&&t&&ne(t.y)&&r<t.y))}function kt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ne(o[r]))return o[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?i[r]?u:d:i[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){It(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dt(r.key),r)}}function Et(e,t,n){return t=At(t),function(e,t){if(t&&("object"===jt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tt()?Reflect.construct(t,n||[],At(e).constructor):t.apply(e,n))}function Tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Tt=function(){return!!e})()}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ct(e,t)}function It(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}var Mt=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return It(e=Et(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),It(e,"handleKeyDown",function(t){var n,r,a,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(n,e),r=n,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,o=n.animationDuration,i=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,o=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=kt({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:o,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=kt({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:o,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):St,cssClasses:_t({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=Pt(Pt({transition:u&&r?"transform ".concat(o,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&Ot(r.prototype,a),o&&Ot(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent),Rt={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Rt[e]},set:function(e,t){if("string"===typeof e)Rt[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Rt[t]=e[t]})}}},Lt=n(977),Ft=n.n(Lt);function Bt(e,t,n){return!0===t?Ft()(e,n):fe()(t)?Ft()(e,t):e}function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach(function(t){Yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Ht(e,t,n){return t=Gt(t),function(e,t){if(t&&("object"===Ut(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qt()?Reflect.construct(t,n||[],Gt(e).constructor):t.apply(e,n))}function qt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qt=function(){return!!e})()}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Kt(e,t){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kt(e,t)}function Yt(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}function Xt(e){return e.dataKey}var $t=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ht(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,o=n.animationDuration,i=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,p=n.position,m=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Bt(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,Xt));var x=b.length>0;return t.createElement(Mt,{allowEscapeViewBox:a,animationDuration:o,animationEasing:i,isAnimationActive:u,active:r,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(vt,n)}(s,zt(zt({},this.props),{},{payload:b})))}}])&&Vt(r.prototype,a),o&&Vt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);Yt($t,"displayName","Tooltip"),Yt($t,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jt=n(643),Zt=n.n(Jt);Math.abs,Math.atan2;const en=Math.cos,tn=(Math.max,Math.min,Math.sin),nn=Math.sqrt,rn=Math.PI,an=2*rn;const on={draw(e,t){const n=nn(t/rn);e.moveTo(n,0),e.arc(0,0,n,0,an)}},sn={draw(e,t){const n=nn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ln=nn(1/3),cn=2*ln,un={draw(e,t){const n=nn(t/cn),r=n*ln;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},dn={draw(e,t){const n=nn(t),r=-n/2;e.rect(r,r,n,n)}},hn=tn(rn/10)/tn(7*rn/10),fn=tn(an/10)*hn,pn=-en(an/10)*hn,mn={draw(e,t){const n=nn(.8908130915292852*t),r=fn*n,a=pn*n;e.moveTo(0,-n),e.lineTo(r,a);for(let o=1;o<5;++o){const t=an*o/5,i=en(t),s=tn(t);e.lineTo(s*n,-i*n),e.lineTo(i*r-s*a,s*r+i*a)}e.closePath()}},gn=nn(3),yn={draw(e,t){const n=-nn(t/(3*gn));e.moveTo(0,2*n),e.lineTo(-gn*n,-n),e.lineTo(gn*n,-n),e.closePath()}},vn=-.5,bn=nn(3)/2,xn=1/nn(12),wn=3*(xn/2+1),Sn={draw(e,t){const n=nn(t/wn),r=n/2,a=n*xn,o=r,i=n*xn+n,s=-o,l=i;e.moveTo(r,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(vn*r-bn*a,bn*r+vn*a),e.lineTo(vn*o-bn*i,bn*o+vn*i),e.lineTo(vn*s-bn*l,bn*s+vn*l),e.lineTo(vn*r+bn*a,vn*a-bn*r),e.lineTo(vn*o+bn*i,vn*i-bn*o),e.lineTo(vn*s+bn*l,vn*l-bn*s),e.closePath()}};function _n(e){return function(){return e}}function kn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jn,Nn,Pn,On,En,Tn,An,Cn,In,Dn,Mn,Rn,Ln,Fn;const Bn=Math.PI,Un=2*Bn,Wn=1e-6,zn=Un-Wn;function Vn(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Hn{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Vn:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Vn;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(jn||(jn=kn(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Nn||(Nn=kn(["Z"]))))}lineTo(e,t){this._append(Pn||(Pn=kn(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(On||(On=kn(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,o){this._append(En||(En=kn(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+o)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let o=this._x1,i=this._y1,s=n-e,l=r-t,c=o-e,u=i-t,d=c*c+u*u;if(null===this._x1)this._append(Tn||(Tn=kn(["M",",",""])),this._x1=e,this._y1=t);else if(d>Wn)if(Math.abs(u*s-l*c)>Wn&&a){let h=n-o,f=r-i,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((Bn-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>Wn&&this._append(Cn||(Cn=kn(["L",",",""])),e+b*c,t+b*u),this._append(In||(In=kn(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(An||(An=kn(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let i=n*Math.cos(r),s=n*Math.sin(r),l=e+i,c=t+s,u=1^o,d=o?r-a:a-r;null===this._x1?this._append(Dn||(Dn=kn(["M",",",""])),l,c):(Math.abs(this._x1-l)>Wn||Math.abs(this._y1-c)>Wn)&&this._append(Mn||(Mn=kn(["L",",",""])),l,c),n&&(d<0&&(d=d%Un+Un),d>zn?this._append(Rn||(Rn=kn(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-i,t-s,n,n,u,this._x1=l,this._y1=c):d>Wn&&this._append(Ln||(Ln=kn(["A",",",",0,",",",",",",",""])),n,n,+(d>=Bn),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(Fn||(Fn=kn(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function qn(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Hn(t)}nn(3),nn(3);function Gn(e){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(e)}var Kn=["type","size","sizeType"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn.apply(this,arguments)}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach(function(t){$n(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $n(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gn(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Zn={symbolCircle:on,symbolCross:sn,symbolDiamond:un,symbolSquare:dn,symbolStar:mn,symbolTriangle:yn,symbolWye:Sn},er=Math.PI/180,tr=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,o=void 0===a?64:a,i=e.sizeType,s=void 0===i?"area":i,l=Xn(Xn({},Jn(e,Kn)),{},{type:r,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Be(l,!0);return u===+u&&d===+d&&o===+o?t.createElement("path",Yn({},h,{className:W("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Zt()(e));return Zn[t]||on}(r),t=function(e,t){let n=null,r=qn(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:_n(e||on),t="function"===typeof t?t:_n(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:_n(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:_n(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*er;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dr(r.key),r)}}function ir(e,t,n){return t=lr(t),function(e,t){if(t&&("object"===nr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sr()?Reflect.construct(t,n||[],lr(e).constructor):t.apply(e,n))}function sr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sr=function(){return!!e})()}function lr(e){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(e)}function cr(e,t){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cr(e,t)}function ur(e,t,n){return(t=dr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e){var t=function(e,t){if("object"!=nr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nr(t)?t:t+""}tr.registerSymbol=function(e,t){Zn["symbol".concat(Zt()(e))]=t};var hr=32,fr=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ir(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cr(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=hr/6,o=hr/3,i=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:hr,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(hr,"M").concat(2*o,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(hr,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach(function(t){ur(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(tr,{fill:i,cx:r,cy:r,size:hr,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,o=n.layout,i=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:hr,height:hr},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var o=n.formatter||i,d=W(ur(ur({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=fe()(n.value)?null:n.value;de(!fe()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?s:n.color;return t.createElement("li",rr({className:d,style:c,key:"legend-item-".concat(r)},ke(e.props,n,r)),t.createElement(ot,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],a&&or(r.prototype,a),o&&or(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}ur(fr,"displayName","Legend"),ur(fr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mr=["ref"];function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach(function(t){_r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kr(r.key),r)}}function br(e,t,n){return t=wr(t),function(e,t){if(t&&("object"===pr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xr()?Reflect.construct(t,n||[],wr(e).constructor):t.apply(e,n))}function xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xr=function(){return!!e})()}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sr(e,t)}function _r(e,t,n){return(t=kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e){var t=function(e,t){if("object"!=pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pr(t)?t:t+""}function jr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Nr(e){return e.value}var Pr=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return _r(e=br(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}(n,e),r=n,o=[{key:"getWithHeight",value:function(e,t){var n=yr(yr({},this.defaultProps),e.props).layout;return"vertical"===n&&ne(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,o=r.align,i=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),yr(yr({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,o=n.height,i=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=yr(yr({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(i)),i);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=jr(n,mr);return t.createElement(fr,r)}(r,yr(yr({},this.props),{},{payload:Bt(l,s,Nr)})))}}])&&vr(r.prototype,a),o&&vr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}_r(Pr,"displayName","Legend"),_r(Pr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Er=function(e){var n=e.cx,r=e.cy,a=e.r,o=e.className,i=W("recharts-dot",o);return n===+n&&r===+r&&a===+a?t.createElement("circle",Or({},Be(e,!1),_e(e),{className:i,cx:n,cy:r,r:a})):null},Tr=n(5173),Ar=n.n(Tr),Cr=Object.getOwnPropertyNames,Ir=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty;function Mr(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Rr(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,o=a.get(t),i=a.get(n);if(o&&i)return o===n&&i===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function Lr(e){return Cr(e).concat(Ir(e))}var Fr=Object.hasOwn||function(e,t){return Dr.call(e,t)};function Br(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ur=Object.getOwnPropertyDescriptor,Wr=Object.keys;function zr(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Vr(e,t){return Br(e.getTime(),t.getTime())}function Hr(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qr(e,t){return e===t}function Gr(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,o,i=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(i[d])d++;else{var h=a.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Kr=Br;function Yr(e,t,n){var r=Wr(e),a=r.length;if(Wr(t).length!==a)return!1;for(;a-- >0;)if(!ta(e,t,n,r[a]))return!1;return!0}function Qr(e,t,n){var r,a,o,i=Lr(e),s=i.length;if(Lr(t).length!==s)return!1;for(;s-- >0;){if(!ta(e,t,n,r=i[s]))return!1;if(a=Ur(e,r),o=Ur(t,r),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable))return!1}return!0}function Xr(e,t){return Br(e.valueOf(),t.valueOf())}function $r(e,t){return e.source===t.source&&e.flags===t.flags}function Jr(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,o,i=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Zr(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function ea(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ta(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Fr(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var na=Array.isArray,ra="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,aa=Object.assign,oa=Object.prototype.toString.call.bind(Object.prototype.toString);var ia=sa();sa({strict:!0}),sa({circular:!0}),sa({circular:!0,strict:!0}),sa({createInternalComparator:function(){return Br}}),sa({strict:!0,createInternalComparator:function(){return Br}}),sa({circular:!0,createInternalComparator:function(){return Br}}),sa({circular:!0,createInternalComparator:function(){return Br},strict:!0});function sa(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,o=e.createState,i=e.strict,s=void 0!==i&&i,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Qr:zr,areDatesEqual:Vr,areErrorsEqual:Hr,areFunctionsEqual:qr,areMapsEqual:r?Mr(Gr,Qr):Gr,areNumbersEqual:Kr,areObjectsEqual:r?Qr:Yr,arePrimitiveWrappersEqual:Xr,areRegExpsEqual:$r,areSetsEqual:r?Mr(Jr,Qr):Jr,areTypedArraysEqual:r?Qr:Zr,areUrlsEqual:ea};if(n&&(a=aa({},a,n(a))),t){var o=Rr(a.areArraysEqual),i=Rr(a.areMapsEqual),s=Rr(a.areObjectsEqual),l=Rr(a.areSetsEqual);a=aa({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?i(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(na(e))return t(e,f,p);if(null!=ra&&ra(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=oa(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=a?a(c):(t=c,function(e,n,r,a,o,i,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,o=e.strict;if(r)return function(e,i){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,i,{cache:c,equals:a,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(e,t){return n(e,t,i)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function la(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ha(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=ua(r),o=a[0],i=a.slice(1);return"number"===typeof o?void la(n.bind(null,i),o):(n(o),void la(n.bind(null,i)))}"object"===ca(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach(function(t){ga(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ga(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ya=function(e){return e},va=function(e,t){return Object.keys(t).reduce(function(n,r){return ma(ma({},n),{},ga({},r,e(r,t[r])))},{})},ba=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||Sa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e){return function(e){if(Array.isArray(e))return _a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){if(e){if("string"===typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_a(e,t):void 0}}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ka=1e-4,ja=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Na=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},Pa=function(e,t){return function(n){var r=ja(e,t);return Na(r,n)}},Oa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,o=1,i=1;break;case"ease":r=.25,a=.1,o=.25,i=1;break;case"ease-in":r=.42,a=0,o=1,i=1;break;case"ease-out":r=.42,a=0,o=.58,i=1;break;case"ease-in-out":r=0,a=0,o=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=xa(l,4);r=c[0],a=c[1],o=c[2],i=c[3]}}[r,o,a,i].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=Pa(r,o),f=Pa(a,i),p=(u=r,d=o,function(e){var t=ja(u,d),n=[].concat(wa(t.map(function(e,t){return e*t}).slice(1)),[0]);return Na(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,o=p(n);if(Math.abs(a-t)<ka||o<ka)return f(n);n=m(n-a/o)}return f(n)};return g.isStepper=!1,g},Ea=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Oa(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,o=e.dt,i=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*a)*i/1e3,s=r*i/1e3+e;return Math.abs(s-t)<ka&&Math.abs(o)<ka?[t,0]:[s,o]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===r.split("(")[0])return Oa(r)}return"function"===typeof r?r:null};function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Aa(e){return function(e){if(Array.isArray(e))return La(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach(function(t){Da(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Da(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ta(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||Ra(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){if(e){if("string"===typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fa=function(e,t,n){return e+(t-e)*n},Ba=function(e){return e.from!==e.to},Ua=function e(t,n,r){var a=va(function(e,n){if(Ba(n)){var r=Ma(t(n.from,n.to,n.velocity),2),a=r[0],o=r[1];return Ia(Ia({},n),{},{from:a,velocity:o})}return n},n);return r<1?va(function(e,t){return Ba(t)?Ia(Ia({},t),{},{velocity:Fa(t.velocity,a[e].velocity,r),from:Fa(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const Wa=function(e,t,n,r,a){var o,i,s,l,c=(o=e,i=t,[Object.keys(o),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return Ia(Ia({},n),{},Da({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return Ia(Ia({},n),{},Da({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=Ua(n,d,o),a(Ia(Ia(Ia({},e),t),va(function(e,t){return t.from},d))),s=r,Object.values(d).filter(Ba).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var i=(o-l)/r,s=va(function(e,t){return Fa.apply(void 0,Aa(t).concat([n(i)]))},u);if(a(Ia(Ia(Ia({},e),t),s)),i<1)h=requestAnimationFrame(f);else{var c=va(function(e,t){return Fa.apply(void 0,Aa(t).concat([n(1)]))},u);a(Ia(Ia(Ia({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}var Va=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ha(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qa(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach(function(t){Qa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qa(e,t,n){return(t=$a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$a(r.key),r)}}function $a(e){var t=function(e,t){if("object"!==za(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===za(t)?t:String(t)}function Ja(e,t){return Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ja(e,t)}function Za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=no(e);if(t){var a=no(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return eo(this,n)}}function eo(e,t){if(t&&("object"===za(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return to(e)}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}var ro=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ja(e,t)}(i,e);var n,r,a,o=Za(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=(n=o.call(this,e,t)).props,a=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(to(n)),n.changeStyle=n.changeStyle.bind(to(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),eo(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},eo(n);n.state={style:s?Qa({},s,l):l}}else n.state={style:{}};return n}return n=i,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,o=t.shouldReAnimate,i=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(ia(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:a?Qa({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Ya(Ya({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?Qa({},a,i):i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,o=e.easing,i=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Wa(n,r,Ea(o),a,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,o=n[0],i=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([a].concat(qa(n.reduce(function(e,r,a){if(0===a)return e;var o=r.duration,i=r.easing,s=void 0===i?"ease":i,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(qa(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=ba(h,o,s),p=Ya(Ya(Ya({},d.style),l),{},{transition:f});return[].concat(qa(e),[p,o,u]).filter(ya)},[i,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ha());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,o=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?Qa({},r,a):a,h=ba(Object.keys(d),n,o);u.start([i,t,Ya(Ya({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Ha(e,Va)),i=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!a||0===i||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,i=n.className;return(0,t.cloneElement)(e,Ya(Ya({},o),{},{style:Ya(Ya({},a),s),className:i}))};return 1===i?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&Xa(n.prototype,r),a&&Xa(n,a),Object.defineProperty(n,"prototype",{writable:!1}),i}(t.PureComponent);ro.displayName="Animate",ro.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},ro.propTypes={from:Ar().oneOfType([Ar().object,Ar().string]),to:Ar().oneOfType([Ar().object,Ar().string]),attributeName:Ar().string,duration:Ar().number,begin:Ar().number,easing:Ar().oneOfType([Ar().string,Ar().func]),steps:Ar().arrayOf(Ar().shape({duration:Ar().number.isRequired,style:Ar().object.isRequired,easing:Ar().oneOfType([Ar().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ar().func]),properties:Ar().arrayOf("string"),onAnimationEnd:Ar().func})),children:Ar().oneOfType([Ar().node,Ar().func]),isActive:Ar().bool,canBegin:Ar().bool,onAnimationEnd:Ar().func,shouldReAnimate:Ar().bool,onAnimationStart:Ar().func,onAnimationReStart:Ar().func};const ao=ro;function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(this,arguments)}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach(function(t){ho(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ho(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oo(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fo=function(e,t,n,r,a){var o,i=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},po=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var l=Math.min(a,a+i),c=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},mo={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},go=function(e){var n=uo(uo({},mo),e),r=(0,t.useRef)(),a=so((0,t.useState)(-1),2),o=a[0],i=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=W("recharts-rectangle",h);return y?t.createElement(ao,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},function(e){var a=e.width,i=e.height,s=e.x,l=e.y;return t.createElement(ao,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",io({},Be(n,!0),{className:v,d:fo(s,l,a,i,d),ref:r})))}):t.createElement("path",io({},Be(n,!0),{className:v,d:fo(s,l,c,u,d)}))};function yo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function vo(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class bo extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(xo(this,e))}has(e){return super.has(xo(this,e))}set(e,t){return super.set(wo(this,e),t)}delete(e){return super.delete(So(this,e))}}Set;function xo(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function wo(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function So(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function _o(e){return null!==e&&"object"===typeof e?e.valueOf():e}const ko=Symbol("implicit");function jo(){var e=new bo,t=[],n=[],r=ko;function a(a){let o=e.get(a);if(void 0===o){if(r!==ko)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new bo;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return jo(t,n).unknown(r)},yo.apply(a,arguments),a}function No(){var e,t,n=jo().unknown(void 0),r=n.domain,a=n.range,o=0,i=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=i<o,h=d?i:o,f=d?o:i;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(a);++r<a;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,d()):[o,i]},n.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return No(r(),[o,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},yo.apply(d(),arguments)}function Po(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Po(t())},e}function Oo(){return Po(No.apply(null,arguments).paddingInner(1))}function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach(function(t){Co(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Co(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Eo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eo(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io={widthCache:{},cacheCount:0},Do={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mo="recharts_measurement_span";var Ro=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Rt.isSsr)return{width:0,height:0};var n=function(e){var t=Ao({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Io.widthCache[r])return Io.widthCache[r];try{var a=document.getElementById(Mo);a||((a=document.createElement("span")).setAttribute("id",Mo),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ao(Ao({},Do),n);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return Io.widthCache[r]=s,++Io.cacheCount>2e3&&(Io.cacheCount=0,Io.widthCache={}),s}catch(l){return{width:0,height:0}}};function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wo(r.key),r)}}function Wo(e){var t=function(e,t){if("object"!=Lo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lo(t)?t:t+""}var zo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ho=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qo=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Go={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ko=Object.keys(Go),Yo="NaN";var Qo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Ho.test(n)||(this.num=NaN,this.unit=""),Ko.includes(n)&&(this.num=function(e,t){return e*Go[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Fo(null!==(n=qo.exec(t))&&void 0!==n?n:[],3),a=r[1],o=r[2];return new e(parseFloat(a),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Uo(t.prototype,n),r&&Uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Xo(e){if(e.includes(Yo))return Yo;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Fo(null!==(n=zo.exec(t))&&void 0!==n?n:[],4),a=r[1],o=r[2],i=r[3],s=Qo.parse(null!==a&&void 0!==a?a:""),l=Qo.parse(null!==i&&void 0!==i?i:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Yo;t=t.replace(zo,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Fo(null!==(u=Vo.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=Qo.parse(null!==h&&void 0!==h?h:""),g=Qo.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Yo;t=t.replace(Vo,y.toString())}return t}var $o=/\(([^()]*)\)/;function Jo(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Fo($o.exec(t),2)[1];t=t.replace($o,Xo(n))}return t}(t),t=Xo(t)}function Zo(e){var t=function(e){try{return Jo(e)}catch(t){return Yo}}(e.slice(5,-1));return t===Yo?"":t}var ei=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ti=["dx","dy","angle","className","breakAll"];function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}function ri(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ii=/[ \f\n\r\t\v\u2028\u2029]+/,si=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Z()(t)||(a=n?t.toString().split(""):t.toString().split(ii)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ro(e,r).width}}),spaceWidth:n?0:Ro("\xa0",r).width}}catch(o){return null}},li=function(e){return[{words:Z()(e)?[]:e.toString().split(ii)}]},ci=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||n)&&!Rt.isSsr){var s=si({breakAll:o,children:r,style:a});return s?function(e,t,n,r,a){var o=e.maxLines,i=e.children,s=e.style,l=e.breakAll,c=ne(o),u=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,i=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+i+n<Number(r)))s.words.push(o),s.width+=i+n;else{var l={words:[o],width:i};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=si({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),i=a.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[i,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=ai(p(v-1),2),x=b[0],w=b[1],S=ai(p(v),1)[0];if(x||S||(m=v+1),x&&S&&(g=v-1),!x&&S){f=w;break}y++}return f||h}({breakAll:o,children:r,maxLines:i,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):li(r)}return li(r)},ui="#808080",di=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,o=void 0===a?0:a,i=e.lineHeight,s=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?ui:g,v=ri(e,ei),b=(0,t.useMemo)(function(){return ci({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,S=v.angle,_=v.className,k=v.breakAll,j=ri(v,ti);if(!re(r)||!re(o))return null;var N,P=r+(ne(x)?x:0),O=o+(ne(w)?w:0);switch(m){case"start":N=Zo("calc(".concat(c,")"));break;case"middle":N=Zo("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=Zo("calc(".concat(b.length-1," * -").concat(s,")"))}var E=[];if(d){var T=b[0].width,A=v.width;E.push("scale(".concat((ne(A)?A/T:1)/T,")"))}return S&&E.push("rotate(".concat(S,", ").concat(P,", ").concat(O,")")),E.length&&(j.transform=E.join(" ")),t.createElement("text",ni({},Be(j,!0),{x:P,y:O,className:W("recharts-text",_),textAnchor:f,fill:y.includes("url")?ui:y}),b.map(function(e,n){var r=e.words.join(k?"":" ");return t.createElement("tspan",{x:P,dy:0===n?N:s,key:"".concat(r,"-").concat(n)},r)}))};const hi=Math.sqrt(50),fi=Math.sqrt(10),pi=Math.sqrt(2);function mi(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),i=o>=hi?10:o>=fi?5:o>=pi?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?mi(e,t,2*n):[s,l,c]}function gi(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,o,i]=r?mi(t,e,n):mi(e,t,n);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(r)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function yi(e,t,n){return mi(e=+e,t=+t,n=+n)[2]}function vi(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?yi(t,e,n):yi(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function bi(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xi(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wi(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<o){if(0!==t(r,r))return o;do{const t=a+o>>>1;n(e[t],r)<0?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=bi,n=(t,n)=>bi(e(t),n),r=(t,n)=>e(t)-n):(t=e===bi||e===xi?e:Si,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<o){if(0!==t(r,r))return o;do{const t=a+o>>>1;n(e[t],r)<=0?a=t+1:o=t}while(a<o)}return a}}}function Si(){return 0}function _i(e){return null===e?NaN:+e}const ki=wi(bi),ji=ki.right,Ni=(ki.left,wi(_i).center,ji);function Pi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Oi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ei(){}var Ti=.7,Ai=1/Ti,Ci="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mi=/^#([0-9a-f]{3,8})$/,Ri=new RegExp("^rgb\\(".concat(Ci,",").concat(Ci,",").concat(Ci,"\\)$")),Li=new RegExp("^rgb\\(".concat(Di,",").concat(Di,",").concat(Di,"\\)$")),Fi=new RegExp("^rgba\\(".concat(Ci,",").concat(Ci,",").concat(Ci,",").concat(Ii,"\\)$")),Bi=new RegExp("^rgba\\(".concat(Di,",").concat(Di,",").concat(Di,",").concat(Ii,"\\)$")),Ui=new RegExp("^hsl\\(".concat(Ii,",").concat(Di,",").concat(Di,"\\)$")),Wi=new RegExp("^hsla\\(".concat(Ii,",").concat(Di,",").concat(Di,",").concat(Ii,"\\)$")),zi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vi(){return this.rgb().formatHex()}function Hi(){return this.rgb().formatRgb()}function qi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Gi(t):3===n?new Qi(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ki(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ki(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ri.exec(e))?new Qi(t[1],t[2],t[3],1):(t=Li.exec(e))?new Qi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Fi.exec(e))?Ki(t[1],t[2],t[3],t[4]):(t=Bi.exec(e))?Ki(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ui.exec(e))?ts(t[1],t[2]/100,t[3]/100,1):(t=Wi.exec(e))?ts(t[1],t[2]/100,t[3]/100,t[4]):zi.hasOwnProperty(e)?Gi(zi[e]):"transparent"===e?new Qi(NaN,NaN,NaN,0):null}function Gi(e){return new Qi(e>>16&255,e>>8&255,255&e,1)}function Ki(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qi(e,t,n,r)}function Yi(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Ei||(e=qi(e)),e?new Qi((e=e.rgb()).r,e.g,e.b,e.opacity):new Qi}(e):new Qi(e,t,n,null==r?1:r)}function Qi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Xi(){return"#".concat(es(this.r)).concat(es(this.g)).concat(es(this.b))}function $i(){const e=Ji(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Zi(this.r),", ").concat(Zi(this.g),", ").concat(Zi(this.b)).concat(1===e?")":", ".concat(e,")"))}function Ji(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function es(e){return((e=Zi(e))<16?"0":"")+e.toString(16)}function ts(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rs(e,t,n,r)}function ns(e){if(e instanceof rs)return new rs(e.h,e.s,e.l,e.opacity);if(e instanceof Ei||(e=qi(e)),!e)return new rs;if(e instanceof rs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new rs(i,s,l,e.opacity)}function rs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function as(e){return(e=(e||0)%360)<0?e+360:e}function os(e){return Math.max(0,Math.min(1,e||0))}function is(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ss(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}Pi(Ei,qi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vi,formatHex:Vi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ns(this).formatHsl()},formatRgb:Hi,toString:Hi}),Pi(Qi,Yi,Oi(Ei,{brighter(e){return e=null==e?Ai:Math.pow(Ai,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ti:Math.pow(Ti,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(Zi(this.r),Zi(this.g),Zi(this.b),Ji(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xi,formatHex:Xi,formatHex8:function(){return"#".concat(es(this.r)).concat(es(this.g)).concat(es(this.b)).concat(es(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:$i,toString:$i})),Pi(rs,function(e,t,n,r){return 1===arguments.length?ns(e):new rs(e,t,n,null==r?1:r)},Oi(Ei,{brighter(e){return e=null==e?Ai:Math.pow(Ai,e),new rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ti:Math.pow(Ti,e),new rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Qi(is(e>=240?e-240:e+120,a,r),is(e,a,r),is(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new rs(as(this.h),os(this.s),os(this.l),Ji(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ji(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(as(this.h),", ").concat(100*os(this.s),"%, ").concat(100*os(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ls=e=>()=>e;function cs(e,t){return function(n){return e+n*t}}function us(e){return 1===(e=+e)?ds:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ls(isNaN(t)?n:t)}}function ds(e,t){var n=t-e;return n?cs(e,n):ls(isNaN(e)?t:e)}const hs=function e(t){var n=us(t);function r(e,t){var r=n((e=Yi(e)).r,(t=Yi(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),i=ds(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function fs(e){return function(t){var n,r,a=t.length,o=new Array(a),i=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=Yi(t[n]),o[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return o=e(o),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=i(e),r.b=s(e),r+""}}}fs(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,s=r<t-1?e[r+2]:2*o-a;return ss((n-r/t)*t,i,a,o,s)}}),fs(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return ss((n-r/t)*t,a,o,i,s)}});function ps(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,o=new Array(a),i=new Array(r);for(n=0;n<a;++n)o[n]=Ss(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=o[n](e);return i}}function ms(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ys(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Ss(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var vs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bs=new RegExp(vs.source,"g");function xs(e,t){var n,r,a,o=vs.lastIndex=bs.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=vs.exec(e))&&(r=bs.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:gs(n,r)})),o=bs.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ws(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(n=0;n<r;++n)a[n]=e[n]*(1-o)+t[n]*o;return a}}function Ss(e,t){var n,r=typeof t;return null==t||"boolean"===r?ls(t):("number"===r?gs:"string"===r?(n=qi(t))?(t=n,hs):xs:t instanceof qi?hs:t instanceof Date?ms:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ws:Array.isArray(t)?ps:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ys:gs)(e,t)}function _s(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ks(e){return+e}var js=[0,1];function Ns(e){return e}function Ps(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Os(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=Ps(a,r),o=n(i,o)):(r=Ps(r,a),o=n(o,i)),function(e){return o(r(e))}}function Es(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=Ps(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(t){var n=Ni(e,t,1,r)-1;return o[n](a[n](t))}}function Ts(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function As(){var e,t,n,r,a,o,i=js,s=js,l=Ss,c=Ns;function u(){var e=Math.min(i.length,s.length);return c!==Ns&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),r=e>2?Es:Os,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,i.map(e),gs)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,ks),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=_s,u()},d.clamp=function(e){return arguments.length?(c=!!e||Ns,u()):c!==Ns},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Cs(){return As()(Ns,Ns)}var Is,Ds=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ms(e){if(!(t=Ds.exec(e)))throw new Error("invalid format: "+e);var t;return new Rs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Rs(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ls(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fs(e){return(e=Ls(Math.abs(e)))?e[1]:NaN}function Bs(e,t){var n=Ls(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Ms.prototype=Rs.prototype,Rs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Us={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Bs(100*e,t),r:Bs,s:function(e,t){var n=Ls(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(Is=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ls(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ws(e){return e}var zs,Vs,Hs,qs=Array.prototype.map,Gs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ks(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Ws:(t=qs.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,o=[],i=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[i=(i+1)%t.length];return o.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Ws:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(qs.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Ms(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Us[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?l:"",w=Us[v],S=/[defgprs%]/.test(v);function _(e){var a,o,l,h=b,_=x;if("c"===v)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===v?Gs[8+Is/3]:"")+_+(k&&"("===d?")":""),S)for(a=-1,o=e.length;++a<o;)if(48>(l=e.charCodeAt(a))||l>57){_=(46===l?i+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var j=h.length+e.length+_.length,N=j<p?new Array(p-j+1).join(t):"";switch(m&&f&&(e=r(N+e,N.length?p-_.length:1/0),N=""),n){case"<":e=h+e+_+N;break;case"=":e=h+N+e+_;break;case"^":e=N.slice(0,j=N.length>>1)+h+e+_+N.slice(j);break;default:e=N+h+e+_}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=Ms(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Fs(t)/3))),a=Math.pow(10,-r),o=Gs[8+r/3];return function(e){return n(a*e)+o}}}}function Ys(e,t,n,r){var a,o=vi(e,t,n);switch((r=Ms(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fs(t)/3)))-Fs(Math.abs(e)))}(o,i))||(r.precision=a),Hs(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fs(t)-Fs(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Fs(Math.abs(e)))}(o))||(r.precision=a-2*("%"===r.type))}return Vs(r)}function Qs(e){var t=e.domain;return e.ticks=function(e){var n=t();return gi(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ys(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,o=t(),i=0,s=o.length-1,l=o[i],c=o[s],u=10;for(c<l&&(a=l,l=c,c=a,a=i,i=s,s=a);u-- >0;){if((a=yi(l,c,n))===r)return o[i]=l,o[s]=c,t(o);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Xs(){var e=Cs();return e.copy=function(){return Ts(e,Xs())},yo.apply(e,arguments),Qs(e)}function $s(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,ks),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return $s(e).unknown(t)},e=arguments.length?Array.from(e,ks):[0,1],Qs(n)}function Js(e,t){var n,r=0,a=(e=e.slice()).length-1,o=e[r],i=e[a];return i<o&&(n=r,r=a,a=n,n=o,o=i,i=n),e[r]=t.floor(o),e[a]=t.ceil(i),e}function Zs(e){return Math.log(e)}function el(e){return Math.exp(e)}function tl(e){return-Math.log(-e)}function nl(e){return-Math.exp(-e)}function rl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function al(e){return(t,n)=>-e(-t,n)}function ol(e){const t=e(Zs,el),n=t.domain;let r,a,o=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),a=function(e){return 10===e?rl:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=al(r),a=al(a),e(tl,nl)):e(Zs,el),t}return t.base=function(e){return arguments.length?(o=+e,i()):o},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],s=t[t.length-1];const l=s<i;l&&([i,s]=[s,i]);let c,u,d=r(i),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),i>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/a(-d):c*a(d),!(u<i)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<i)){if(u>s)break;p.push(u)}2*p.length<f&&(p=gi(i,s,f))}else p=gi(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Ms(n)).precision||(n.trim=!0),n=Vs(n)),e===1/0)return n;const i=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=i?n(e):""}},t.nice=()=>n(Js(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function il(){const e=ol(As()).domain([1,10]);return e.copy=()=>Ts(e,il()).base(e.base()),yo.apply(e,arguments),e}function sl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ll(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cl(e){var t=1,n=e(sl(t),ll(t));return n.constant=function(n){return arguments.length?e(sl(t=+n),ll(t)):t},Qs(n)}function ul(){var e=cl(As());return e.copy=function(){return Ts(e,ul()).constant(e.constant())},yo.apply(e,arguments)}function dl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hl(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fl(e){return e<0?-e*e:e*e}function pl(e){var t=e(Ns,Ns),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Ns,Ns):.5===n?e(hl,fl):e(dl(n),dl(1/n)):n},Qs(t)}function ml(){var e=pl(As());return e.copy=function(){return Ts(e,ml()).exponent(e.exponent())},yo.apply(e,arguments),e}function gl(){return ml.apply(null,arguments).exponent(.5)}function yl(e){return Math.sign(e)*e*e}function vl(){var e,t=Cs(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(yl(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,ks)).map(yl)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return vl(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},yo.apply(a,arguments),Qs(a)}function bl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function xl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi;if(e===bi)return Sl;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Sl(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function _l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Sl:wl(a);r>n;){if(r-n>600){const o=r-n+1,i=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(i-o/2<0?-1:1);_l(e,t,Math.max(n,Math.floor(t-i*l/o+c)),Math.min(r,Math.floor(t+(o-i)*l/o+c)),a)}const o=e[t];let i=n,s=r;for(kl(e,n,t),a(e[r],o)>0&&kl(e,n,r);i<s;){for(kl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}0===a(e[n],o)?kl(e,n,s):(++s,kl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function kl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jl(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return xl(e);if(t>=1)return bl(e);var r,a=(r-1)*t,o=Math.floor(a),i=bl(_l(e,o).subarray(0,o+1));return i+(xl(e.subarray(o+1))-i)*(a-o)}}function Nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_i;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),i=+n(e[o],o,e);return i+(+n(e[o+1],o+1,e)-i)*(a-o)}}function Pl(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=Nl(t,e/a);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Ni(r,t)]}return o.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(bi),a()},o.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Pl().domain(t).range(n).unknown(e)},yo.apply(o,arguments)}function Ol(){var e,t=0,n=1,r=1,a=[.5],o=[0,1];function i(t){return null!=t&&t<=t?o[Ni(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return i}return i.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},i.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},i.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Ol().domain([t,n]).range(o).unknown(e)},yo.apply(Qs(i),arguments)}function El(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Ni(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return El().domain(t).range(n).unknown(e)},yo.apply(a,arguments)}zs=Ks({thousands:",",grouping:[3],currency:["$",""]}),Vs=zs.format,Hs=zs.formatPrefix;const Tl=1e3,Al=6e4,Cl=36e5,Il=864e5,Dl=6048e5,Ml=2592e6,Rl=31536e6,Ll=new Date,Fl=new Date;function Bl(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,o)=>{const i=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return i;let s;do{i.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return i},a.filter=n=>Bl(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Ll.setTime(+t),Fl.setTime(+r),e(Ll),e(Fl),Math.floor(n(Ll,Fl))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Ul=Bl(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ul.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Bl(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ul:null);Ul.range;const Wl=Bl(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tl)},(e,t)=>(t-e)/Tl,e=>e.getUTCSeconds()),zl=(Wl.range,Bl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getMinutes())),Vl=(zl.range,Bl(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCMinutes())),Hl=(Vl.range,Bl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl-e.getMinutes()*Al)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getHours())),ql=(Hl.range,Bl(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCHours())),Gl=(ql.range,Bl(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Al)/Il,e=>e.getDate()-1)),Kl=(Gl.range,Bl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>e.getUTCDate()-1)),Yl=(Kl.range,Bl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>Math.floor(e/Il)));Yl.range;function Ql(e){return Bl(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Al)/Dl)}const Xl=Ql(0),$l=Ql(1),Jl=Ql(2),Zl=Ql(3),ec=Ql(4),tc=Ql(5),nc=Ql(6);Xl.range,$l.range,Jl.range,Zl.range,ec.range,tc.range,nc.range;function rc(e){return Bl(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Dl)}const ac=rc(0),oc=rc(1),ic=rc(2),sc=rc(3),lc=rc(4),cc=rc(5),uc=rc(6),dc=(ac.range,oc.range,ic.range,sc.range,lc.range,cc.range,uc.range,Bl(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),hc=(dc.range,Bl(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),fc=(hc.range,Bl(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));fc.every=e=>isFinite(e=Math.floor(e))&&e>0?Bl(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;fc.range;const pc=Bl(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pc.every=e=>isFinite(e=Math.floor(e))&&e>0?Bl(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;pc.range;function mc(e,t,n,r,a,o){const i=[[Wl,1,Tl],[Wl,5,5e3],[Wl,15,15e3],[Wl,30,3e4],[o,1,Al],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,Cl],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Il],[r,2,1728e5],[n,1,Dl],[t,1,Ml],[t,3,7776e6],[e,1,Rl]];function s(t,n,r){const a=Math.abs(n-t)/r,o=wi(e=>{let[,,t]=e;return t}).right(i,a);if(o===i.length)return e.every(vi(t/Rl,n/Rl,r));if(0===o)return Ul.every(Math.max(vi(t,n,r),1));const[s,l]=i[a/i[o-1][2]<i[o][2]/a?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},s]}const[gc,yc]=mc(pc,hc,ac,Yl,ql,Vl),[vc,bc]=mc(fc,dc,Xl,Gl,Hl,zl);function xc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var _c,kc,jc,Nc={"-":"",_:" ",0:"0"},Pc=/^\s*\d+/,Oc=/^%/,Ec=/[\\^$*+?|[\]().{}]/g;function Tc(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function Ac(e){return e.replace(Ec,"\\$&")}function Cc(e){return new RegExp("^(?:"+e.map(Ac).join("|")+")","i")}function Ic(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Dc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Fc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bc(e,t,n){var r=Pc.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Uc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Vc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Hc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qc(e,t,n){var r=Pc.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Gc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Kc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=Pc.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=Pc.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $c(e,t,n){var r=Oc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jc(e,t,n){var r=Pc.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zc(e,t,n){var r=Pc.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eu(e,t){return Tc(e.getDate(),t,2)}function tu(e,t){return Tc(e.getHours(),t,2)}function nu(e,t){return Tc(e.getHours()%12||12,t,2)}function ru(e,t){return Tc(1+Gl.count(fc(e),e),t,3)}function au(e,t){return Tc(e.getMilliseconds(),t,3)}function ou(e,t){return au(e,t)+"000"}function iu(e,t){return Tc(e.getMonth()+1,t,2)}function su(e,t){return Tc(e.getMinutes(),t,2)}function lu(e,t){return Tc(e.getSeconds(),t,2)}function cu(e){var t=e.getDay();return 0===t?7:t}function uu(e,t){return Tc(Xl.count(fc(e)-1,e),t,2)}function du(e){var t=e.getDay();return t>=4||0===t?ec(e):ec.ceil(e)}function hu(e,t){return e=du(e),Tc(ec.count(fc(e),e)+(4===fc(e).getDay()),t,2)}function fu(e){return e.getDay()}function pu(e,t){return Tc($l.count(fc(e)-1,e),t,2)}function mu(e,t){return Tc(e.getFullYear()%100,t,2)}function gu(e,t){return Tc((e=du(e)).getFullYear()%100,t,2)}function yu(e,t){return Tc(e.getFullYear()%1e4,t,4)}function vu(e,t){var n=e.getDay();return Tc((e=n>=4||0===n?ec(e):ec.ceil(e)).getFullYear()%1e4,t,4)}function bu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tc(t/60|0,"0",2)+Tc(t%60,"0",2)}function xu(e,t){return Tc(e.getUTCDate(),t,2)}function wu(e,t){return Tc(e.getUTCHours(),t,2)}function Su(e,t){return Tc(e.getUTCHours()%12||12,t,2)}function _u(e,t){return Tc(1+Kl.count(pc(e),e),t,3)}function ku(e,t){return Tc(e.getUTCMilliseconds(),t,3)}function ju(e,t){return ku(e,t)+"000"}function Nu(e,t){return Tc(e.getUTCMonth()+1,t,2)}function Pu(e,t){return Tc(e.getUTCMinutes(),t,2)}function Ou(e,t){return Tc(e.getUTCSeconds(),t,2)}function Eu(e){var t=e.getUTCDay();return 0===t?7:t}function Tu(e,t){return Tc(ac.count(pc(e)-1,e),t,2)}function Au(e){var t=e.getUTCDay();return t>=4||0===t?lc(e):lc.ceil(e)}function Cu(e,t){return e=Au(e),Tc(lc.count(pc(e),e)+(4===pc(e).getUTCDay()),t,2)}function Iu(e){return e.getUTCDay()}function Du(e,t){return Tc(oc.count(pc(e)-1,e),t,2)}function Mu(e,t){return Tc(e.getUTCFullYear()%100,t,2)}function Ru(e,t){return Tc((e=Au(e)).getUTCFullYear()%100,t,2)}function Lu(e,t){return Tc(e.getUTCFullYear()%1e4,t,4)}function Fu(e,t){var n=e.getUTCDay();return Tc((e=n>=4||0===n?lc(e):lc.ceil(e)).getUTCFullYear()%1e4,t,4)}function Bu(){return"+0000"}function Uu(){return"%"}function Wu(e){return+e}function zu(e){return Math.floor(+e/1e3)}function Vu(e){return new Date(e)}function Hu(e){return e instanceof Date?+e:+new Date(+e)}function qu(e,t,n,r,a,o,i,s,l,c){var u=Cs(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:i(e)<e?m:o(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Hu)):h().map(Vu)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Js(n,e)):u},u.copy=function(){return Ts(u,qu(e,t,n,r,a,o,i,s,l,c))},u}function Gu(){return yo.apply(qu(vc,bc,fc,dc,Xl,Gl,Hl,zl,Wl,kc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ku(){return yo.apply(qu(gc,yc,pc,hc,ac,Kl,ql,Vl,Wl,jc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yu(){var e,t,n,r,a,o=0,i=1,s=Ns,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([o,i]=a,e=r(o=+o),t=r(i=+i),n=e===t?0:1/(t-e),c):[o,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Ss),c.rangeRound=u(_s),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(o),t=a(i),n=e===t?0:1/(t-e),c}}function Qu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Xu(){var e=Qs(Yu()(Ns));return e.copy=function(){return Qu(e,Xu())},vo.apply(e,arguments)}function $u(){var e=ol(Yu()).domain([1,10]);return e.copy=function(){return Qu(e,$u()).base(e.base())},vo.apply(e,arguments)}function Ju(){var e=cl(Yu());return e.copy=function(){return Qu(e,Ju()).constant(e.constant())},vo.apply(e,arguments)}function Zu(){var e=pl(Yu());return e.copy=function(){return Qu(e,Zu()).exponent(e.exponent())},vo.apply(e,arguments)}function ed(){return Zu.apply(null,arguments).exponent(.5)}function td(){var e=[],t=Ns;function n(n){if(null!=n&&!isNaN(n=+n))return t((Ni(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(bi),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>jl(e,r/t))},n.copy=function(){return td(t).domain(e)},vo.apply(n,arguments)}function nd(){var e,t,n,r,a,o,i,s=0,l=.5,c=1,u=1,d=Ns,h=!1;function f(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Ss);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(i){return arguments.length?([s,l,c]=i,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Ss),f.rangeRound=p(_s),f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return o=i,e=i(s),t=i(l),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function rd(){var e=Qs(nd()(Ns));return e.copy=function(){return Qu(e,rd())},vo.apply(e,arguments)}function ad(){var e=ol(nd()).domain([.1,1,10]);return e.copy=function(){return Qu(e,ad()).base(e.base())},vo.apply(e,arguments)}function od(){var e=cl(nd());return e.copy=function(){return Qu(e,od()).constant(e.constant())},vo.apply(e,arguments)}function id(){var e=pl(nd());return e.copy=function(){return Qu(e,id()).exponent(e.exponent())},vo.apply(e,arguments)}function sd(){return id.apply(null,arguments).exponent(.5)}function ld(e,t){if((a=e.length)>1)for(var n,r,a,o=1,i=e[t[0]],s=i.length;o<a;++o)for(r=i,i=e[t[o]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){_c=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Cc(a),u=Ic(a),d=Cc(o),h=Ic(o),f=Cc(i),p=Ic(i),m=Cc(s),g=Ic(s),y=Cc(l),v=Ic(l),b={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:eu,e:eu,f:ou,g:gu,G:vu,H:tu,I:nu,j:ru,L:au,m:iu,M:su,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Wu,s:zu,S:lu,u:cu,U:uu,V:hu,w:fu,W:pu,x:null,X:null,y:mu,Y:yu,Z:bu,"%":Uu},x={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:xu,e:xu,f:ju,g:Ru,G:Fu,H:wu,I:Su,j:_u,L:ku,m:Nu,M:Pu,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Wu,s:zu,S:Ou,u:Eu,U:Tu,V:Cu,w:Iu,W:Du,x:null,X:null,y:Mu,Y:Lu,Z:Bu,"%":Uu},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Hc,e:Hc,f:Xc,g:Uc,G:Bc,H:Gc,I:Gc,j:qc,L:Qc,m:Vc,M:Kc,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:zc,Q:Jc,s:Zc,S:Yc,u:Mc,U:Rc,V:Lc,w:Dc,W:Fc,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Uc,Y:Bc,Z:Wc,"%":$c};function S(e,t){return function(n){var r,a,o,i=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(a=Nc[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(o=t[r])&&(r=o(n,a)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function _(e,t){return function(n){var r,a,o=Sc(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(r=wc(Sc(o.y,0,1))).getUTCDay(),r=a>4||0===a?oc.ceil(r):oc(r),r=Kl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(a=(r=xc(Sc(o.y,0,1))).getDay(),r=a>4||0===a?$l.ceil(r):$l(r),r=Gl.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?wc(Sc(o.y,0,1)).getUTCDay():xc(Sc(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,wc(o)):xc(o)}}function k(e,t,n,r){for(var a,o,i=0,s=t.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=w[a in Nc?t.charAt(i++):a])||(r=o(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),kc=_c.format,_c.parse,jc=_c.utcFormat,_c.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function cd(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ud(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dd(e,t){return e[t]}function hd(e){const t=[];return t.key=e,t}var fd=n(539),pd=n.n(fd),md=n(6745),gd=n.n(md),yd=n(3538),vd=n.n(yd),bd=n(9853),xd=n.n(bd),wd=n(8210),Sd=n.n(wd);function _d(e){return function(e){if(Array.isArray(e))return kd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jd=function(e){return e},Nd={"@@functional/placeholder":!0},Pd=function(e){return e===Nd},Od=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Pd(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Ed=function e(t,n){return 1===t?n:Od(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=a.filter(function(e){return e!==Nd}).length;return i>=t?n.apply(void 0,a):e(t-i,Od(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a.map(function(e){return Pd(e)?t.shift():e});return n.apply(void 0,_d(o).concat(t))}))})},Td=function(e){return Ed(e.length,e)},Ad=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Cd=Td(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Id=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return jd;var r=t.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Dd=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Md=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var Rd=Td(function(e,t,n){var r=+e;return r+n*(+t-r)}),Ld=Td(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),Fd=Td(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Bd={rangeStep:function(e,t,n){for(var r=new(Sd())(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(Sd())(e).abs().log(10).toNumber())+1},interpolateNumber:Rd,uninterpolateNumber:Ld,uninterpolateTruncation:Fd};function Ud(e){return function(e){if(Array.isArray(e))return Vd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||zd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||zd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){if(e){if("string"===typeof e)return Vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vd(e,t):void 0}}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hd(e){var t=Wd(e,2),n=t[0],r=t[1],a=n,o=r;return n>r&&(a=r,o=n),[a,o]}function qd(e,t,n){if(e.lte(0))return new(Sd())(0);var r=Bd.getDigitCount(e.toNumber()),a=new(Sd())(10).pow(r),o=e.div(a),i=1!==r?.05:.1,s=new(Sd())(Math.ceil(o.div(i).toNumber())).add(n).mul(i).mul(a);return t?s:new(Sd())(Math.ceil(s))}function Gd(e,t,n){var r=1,a=new(Sd())(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new(Sd())(10).pow(Bd.getDigitCount(e)-1),a=new(Sd())(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new(Sd())(Math.floor(e)))}else 0===e?a=new(Sd())(Math.floor((t-1)/2)):n||(a=new(Sd())(Math.floor(e)));var i=Math.floor((t-1)/2);return Id(Cd(function(e){return a.add(new(Sd())(e-i).mul(r)).toNumber()}),Ad)(0,t)}function Kd(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Sd())(0),tickMin:new(Sd())(0),tickMax:new(Sd())(0)};var o,i=qd(new(Sd())(t).sub(e).div(n-1),r,a);o=e<=0&&t>=0?new(Sd())(0):(o=new(Sd())(e).add(t).div(2)).sub(new(Sd())(o).mod(i));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new(Sd())(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?Kd(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new(Sd())(s).mul(i)),tickMax:o.add(new(Sd())(l).mul(i))})}var Yd=Md(function(e){var t=Wd(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Wd(Hd([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Ud(Ad(0,a-1).map(function(){return 1/0}))):[].concat(Ud(Ad(0,a-1).map(function(){return-1/0})),[c]);return n>r?Dd(u):u}if(l===c)return Gd(l,a,o);var d=Kd(l,c,i,o),h=d.step,f=d.tickMin,p=d.tickMax,m=Bd.rangeStep(f,p.add(new(Sd())(.1).mul(h)),h);return n>r?Dd(m):m}),Qd=(Md(function(e){var t=Wd(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Wd(Hd([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return Gd(l,a,o);var u=qd(new(Sd())(c).sub(l).div(i-1),o,0),d=Id(Cd(function(e){return new(Sd())(l).add(new(Sd())(e).mul(u)).toNumber()}),Ad)(0,i).filter(function(e){return e>=l&&e<=c});return n>r?Dd(d):d}),Md(function(e,t){var n=Wd(e,2),r=n[0],a=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Wd(Hd([r,a]),2),s=i[0],l=i[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=qd(new(Sd())(l).sub(s).div(c-1),o,0),d=[].concat(Ud(Bd.rangeStep(new(Sd())(s),new(Sd())(l).sub(new(Sd())(.99).mul(u)),u)),[l]);return r>a?Dd(d):d})),Xd=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $d(e){return $d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function Zd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function th(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lh(r.key),r)}}function rh(e,t,n){return t=oh(t),function(e,t){if(t&&("object"===$d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ah()?Reflect.construct(t,n||[],oh(e).constructor):t.apply(e,n))}function ah(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ah=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(e)}function ih(e,t){return ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ih(e,t)}function sh(e,t,n){return(t=lh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lh(e){var t=function(e,t){if("object"!=$d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$d(t)?t:t+""}var ch=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),rh(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ih(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,o=e.dataKey,i=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=th(e,Xd),d=Be(u,!1);"x"===this.props.direction&&"number"!==l.type&&tt(!1);var h=i.map(function(e){var i=s(e,o),u=i.x,h=i.y,f=i.value,p=i.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=Zd(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===r){var b=l.scale,x=h+n,w=x+a,S=x-a,_=b(f-m),k=b(f+g);y.push({x1:k,y1:w,x2:k,y2:S}),y.push({x1:_,y1:x,x2:k,y2:x}),y.push({x1:_,y1:w,x2:_,y2:S})}else if("horizontal"===r){var j=c.scale,N=u+n,P=N-a,O=N+a,E=j(f-m),T=j(f+g);y.push({x1:P,y1:T,x2:O,y2:T}),y.push({x1:N,y1:E,x2:N,y2:T}),y.push({x1:P,y1:E,x2:O,y2:E})}return t.createElement(ct,Jd({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",Jd({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(ct,{className:"recharts-errorBars"},h)}}],a&&nh(r.prototype,a),o&&nh(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);function uh(e){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(e)}function dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dh(Object(n),!0).forEach(function(t){fh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sh(ch,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),sh(ch,"displayName","ErrorBar");var ph=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,o=Me(t,Pr);if(!o)return null;var i,s=Pr.defaultProps,l=void 0!==s?hh(hh({},s),o.props):{};return i=o.props&&o.props.payload?o.props&&o.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?hh(hh({},n),t.props):{},a=r.dataKey,o=r.name,i=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||i||"square",color:_h(t),value:o||a,payload:r}}),hh(hh(hh({},l),Pr.getWithHeight(o,r)),{},{payload:i,item:o})};function mh(e){return mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(e)}function gh(e){return function(e){if(Array.isArray(e))return yh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vh(Object(n),!0).forEach(function(t){xh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e,t,n){return Z()(e)||Z()(t)?n:re(t)?Q()(e,t,n):fe()(t)?t(e):n}function Sh(e,t,n,r){var a=vd()(e,function(e){return wh(e,t)});if("number"===n){var o=a.filter(function(e){return ne(e)||parseFloat(e)});return o.length?[gd()(o),pd()(o)]:[1/0,-1/0]}return(r?a.filter(function(e){return!Z()(e)}):a).map(function(e){return re(e)||e instanceof Date?e:""})}var _h=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?bh(bh({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:i;break;default:n=i}return n},kh=function(e,t,n,r,a){var o=De(t.props.children,ch).filter(function(e){return function(e,t,n){return!!Z()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(o&&o.length){var i=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=wh(t,n);if(Z()(r))return e;var a=Array.isArray(r)?[gd()(r),pd()(r)]:[r,r],o=i.reduce(function(e,n){var r=wh(t,n,0),o=a[0]-Math.abs(Array.isArray(r)?r[0]:r),i=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},jh=function(e,t,n,r,a){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&kh(e,t,o,r)||Sh(e,o,n,a)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e},[])},Nh=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Ph=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,o,i=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(o=!0),e.coordinate});return a||i.push(t),o||i.push(n),i},Oh=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*ee(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!K()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},Eh=new WeakMap,Th=function(e,t){if("function"!==typeof t)return e;Eh.has(e)||Eh.set(e,new WeakMap);var n=Eh.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Ah=1e-4,Ch={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0,i=0;i<t;++i){var s=K()(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=o,e[i][n][1]=o+s,o=e[i][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,o=0,i=e[0].length;o<i;++o){for(a=n=0;n<r;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<r;++n)e[n][o][1]/=a}ld(e,t)}},none:ld,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],o=a.length;r<o;++r){for(var i=0,s=0;i<n;++i)s+=e[i][r][1]||0;a[r][1]+=a[r][0]=-s/2}ld(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,o=0,i=1;i<r;++i){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[i][1]||0,h=(d-(u[i-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[i][1]||0)-(p[i-1][1]||0)}l+=d,c+=h*d}n[i-1][1]+=n[i-1][0]=o,l&&(o-=c/l)}n[i-1][1]+=n[i-1][0]=o,ld(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0;o<t;++o){var i=K()(e[o][n][1])?e[o][n][0]:e[o][n][1];i>=0?(e[o][n][0]=a,e[o][n][1]=a+i,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},Ih=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=Ch[n],o=function(){var e=_n([]),t=ud,n=ld,r=dd;function a(a){var o,i,s=Array.from(e.apply(this,arguments),hd),l=s.length,c=-1;for(const e of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,a)]).data=e;for(o=0,i=cd(t(s));o<l;++o)s[i[o]].index=o;return n(s,i),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:_n(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:_n(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?ud:"function"===typeof e?e:_n(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?ld:e,a):n},a}().keys(r).value(function(e,t){return+wh(e,t,0)}).order(ud).offset(a);return o(e)};function Dh(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Z()(a[t.dataKey])){var s=ce(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=wh(a,Z()(i)?t.dataKey:i);return Z()(l)?null:t.scale(l)}var Mh=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,o=e.entry,i=e.index;if("category"===t.type)return n[i]?n[i].coordinate+r:null;var s=wh(o,t.dataKey,t.domain[i]);return Z()(s)?null:t.scale(s)-a/2+r},Rh=function(e,t,n){return Object.keys(e).reduce(function(r,a){var o=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[gd()(t.concat([e[0]]).filter(ne)),pd()(t.concat([e[1]]).filter(ne))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Lh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fh=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bh=function(e,t,n){if(fe()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(ne(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Lh.test(e[0])){var a=+Lh.exec(e[0])[1];r[0]=t[0]-a}else fe()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(ne(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Fh.test(e[1])){var o=+Fh.exec(e[1])[1];r[1]=t[1]+o}else fe()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Uh=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Ze()(t,function(e){return e.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var l=a[i],c=a[i-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Wh=function(e,t,n){return e&&e.length?xd()(e,Q()(n,"type.defaultProps.domain"))?t:e:t},zh=function(e,t){var n=e.type.defaultProps?bh(bh({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,o=n.unit,i=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return bh(bh({},Be(e,!1)),{},{dataKey:r,unit:o,formatter:i,name:a||r,color:_h(e),value:wh(t,r),type:s,payload:t,chartType:l,hide:c})};function Vh(e){return Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(e)}function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hh(Object(n),!0).forEach(function(t){Gh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kh=["Webkit","Moz","O","ms"];function Yh(e){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(this,arguments)}function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach(function(t){rf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,af(r.key),r)}}function Zh(e,t,n){return t=tf(t),function(e,t){if(t&&("object"===Yh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ef()?Reflect.construct(t,n||[],tf(e).constructor):t.apply(e,n))}function ef(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ef=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(e)}function nf(e,t){return nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nf(e,t)}function rf(e,t,n){return(t=af(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function af(e){var t=function(e,t){if("object"!=Yh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yh(t)?t:t+""}var of=function(e){return e.changedTouches&&!!e.changedTouches.length},sf=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),rf(t=Zh(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),rf(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),rf(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),rf(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),rf(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),rf(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),rf(t,"handleSlideDragStart",function(e){var n=of(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nf(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,o=this.props,i=o.gap,s=o.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%i,endIndex:d===s?s:d-d%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,o=wh(n[e],a,e);return fe()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,o=this.props,i=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,i+s-l-a,i+s-l-r):h<0&&(h=Math.max(h,i-r,i-a));var f=this.getIndex({startX:r+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=of(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,o=t.startX,i=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-i):m<0&&(m=Math.max(m,l-i)),p[r]=i+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(rf(rf({},r,i+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(a>o?y%h===0:v%h===0)||a<o&&v===e||"endX"===r&&(a>o?v%h===0:y%h===0)||a>o&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,o=r.startX,i=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=i||"endX"===t&&u<=o||this.setState(rf({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,o=e.height,i=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:i,x:n,y:r,width:a,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,o=e.height,i=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:a,height:o,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,o,i=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=$h($h({},Be(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return t.createElement(ct,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,o=r.height,i=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:a,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,o=e.height,i=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(ct,{className:"recharts-brush-texts"},t.createElement(di,Qh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+o/2},d),this.getTextOfTick(n)),t.createElement(di,Qh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+i+5,y:a+o/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,o=e.x,i=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!ne(o)||!ne(i)||!ne(s)||!ne(l)||s<=0||l<=0)return null;var y=W("recharts-brush",r),v=1===t.Children.count(a),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=Kh.reduce(function(e,r){return qh(qh({},e),{},Gh({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(ct,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,o=e.height,i=e.stroke,s=Math.floor(r+o/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:o,fill:i,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+a-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):fe()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,o=e.travellerWidth,i=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||i!==t.prevUpdateId)return $h({prevData:n,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Oo().domain($e()(0,s)).range([a,a+o-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([a,a+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&Jh(r.prototype,a),o&&Jh(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);function lf(e){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(e)}function cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(n),!0).forEach(function(t){df(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function df(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rf(sf,"displayName","Brush"),rf(sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hf=Math.PI/180,ff=function(e){return 180*e/Math.PI},pf=function(e,t,n,r){return{x:e+Math.cos(-hf*r)*n,y:t+Math.sin(-hf*r)*n}},mf=function(e,t){var n=e.x,r=e.y,a=t.cx,o=t.cy,i=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-o,2))}({x:n,y:r},{x:a,y:o});if(i<=0)return{radius:i};var s=(n-a)/i,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:i,angle:ff(l),angleInRadian:l}},gf=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(a,o)},yf=function(e,t){var n=e.x,r=e.y,a=mf({x:n,y:r},t),o=a.radius,i=a.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=i;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?uf(uf({},t),{},{radius:o,angle:gf(f,t)}):null};function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}var bf=["offset"];function xf(e){return function(e){if(Array.isArray(e))return wf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach(function(t){jf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}var Pf=function(e,n,r){var a,o,i=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return ee(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===i?(a=m+x*l,o=y):"insideEnd"===i?(a=g-x*l,o=!y):"end"===i&&(a=g+x*l,o=y),o=b<=0?o:!o;var w=pf(d,h,v,a),S=pf(d,h,v,a+359*(o?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),k=Z()(e.id)?oe("recharts-radial-line-"):e.id;return t.createElement("text",Nf({},r,{dominantBaseline:"central",className:W("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:_})),t.createElement("textPath",{xlinkHref:"#".concat(k)},n))};function Of(e){var n,r=e.offset,a=kf({offset:void 0===r?5:r},Sf(e,bf)),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!o||Z()(s)&&Z()(l)&&!(0,t.isValidElement)(c)&&!fe()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(fe()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=Z()(e.children)?t:e.children;return fe()(n)?n(r):r}(a);var f=function(e){return"cx"in e&&ne(e.cx)}(o),p=Be(a,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return Pf(a,n,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=pf(o,i,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=pf(o,i,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,o=t,i=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return kf(kf({},{x:i+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return kf(kf({},{x:i+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var v={x:i-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return kf(kf({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var b={x:i+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return kf(kf({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===a?kf({x:i+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===a?kf({x:i+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===a?kf({x:i+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===a?kf({x:i+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===a?kf({x:i+m,y:s+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===a?kf({x:i+l-m,y:s+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===a?kf({x:i+m,y:s+c-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===a?kf({x:i+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},x):me()(a)&&(ne(a.x)||te(a.x))&&(ne(a.y)||te(a.y))?kf({x:i+ie(a.x,l),y:s+ie(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):kf({x:i+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(a);return t.createElement(di,Nf({className:W("recharts-label",d)},p,m,{breakAll:h}),n)}Of.displayName="Label";var Ef=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(ne(p)&&ne(m)){if(ne(u)&&ne(d))return{x:u,y:d,width:p,height:m};if(ne(h)&&ne(f))return{x:h,y:f,width:p,height:m}}return ne(u)&&ne(d)?{x:u,y:d,width:0,height:0}:ne(t)&&ne(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};Of.parseViewBox=Ef,Of.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,o=Ef(e),i=De(a,Of).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)})});if(!r)return i;var s=function(e,n){return e?!0===e?t.createElement(Of,{key:"label-implicit",viewBox:n}):re(e)?t.createElement(Of,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===Of?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(Of,{key:"label-implicit",content:e,viewBox:n}):fe()(e)?t.createElement(Of,{key:"label-implicit",content:e,viewBox:n}):me()(e)?t.createElement(Of,Nf({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||o);return[s].concat(xf(i))};var Tf=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Af=n(1733),Cf=n.n(Af),If=n(7002),Df=n.n(If),Mf=function(e){return null};Mf.displayName="Cell";var Rf=n(4065),Lf=n.n(Rf);function Ff(e){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(e)}var Bf=["valueAccessor"],Uf=["data","dataKey","clockWise","id","textBreakAll"];function Wf(e){return function(e){if(Array.isArray(e))return zf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach(function(t){Gf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ff(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ff(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ff(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yf=function(e){return Array.isArray(e.value)?Lf()(e.value):e.value};function Qf(e){var n=e.valueAccessor,r=void 0===n?Yf:n,a=Kf(e,Bf),o=a.data,i=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=Kf(a,Uf);return o&&o.length?t.createElement(ct,{className:"recharts-label-list"},o.map(function(e,n){var a=Z()(i)?r(e,n):wh(e&&e.payload,i),o=Z()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(Of,Vf({},Be(e,!0),u,o,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:Of.parseViewBox(Z()(s)?e:qf(qf({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}Qf.displayName="LabelList",Qf.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=De(e.children,Qf).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(Qf,{key:"labelList-implicit",data:n}):t.isValidElement(e)||fe()(e)?t.createElement(Qf,{key:"labelList-implicit",data:n,content:e}):me()(e)?t.createElement(Qf,Vf({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(Wf(a)):a};var Xf=n(2322),$f=n.n(Xf),Jf=n(6361),Zf=n.n(Jf);function ep(e){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(e)}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tp.apply(this,arguments)}function np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach(function(t){ip(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ip(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ep(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp=function(e,t,n,r,a){var o,i=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z")},lp={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cp=function(e){var n=op(op({},lp),e),r=(0,t.useRef)(),a=np((0,t.useState)(-1),2),o=a[0],i=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=W("recharts-trapezoid",h);return g?t.createElement(ao,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,i=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(ao,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",tp({},Be(n,!0),{className:y,d:sp(l,c,a,i,s),ref:r})))}):t.createElement("g",null,t.createElement("path",tp({},Be(n,!0),{className:y,d:sp(s,l,c,u,d)})))};function up(e){return up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(this,arguments)}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(t){pp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=up(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=up(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==up(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mp=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(i?1:-1)+r,u=Math.asin(s/c)/hf,d=l?a:a+o*u,h=l?a-o*u:a;return{center:pf(t,n,c,d),circleTangency:pf(t,n,r,d),lineTangency:pf(t,n,c*Math.cos(u*hf),h),theta:u}},gp=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=function(e,t){return ee(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+i,l=pf(t,n,a,o),c=pf(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=pf(t,n,r,o),h=pf(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},yp={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vp=function(e){var n=fp(fp({},yp),e),r=n.cx,a=n.cy,o=n.innerRadius,i=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(i<o||u===d)return null;var f,p=W("recharts-sector",h),m=i-o,g=ie(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=ee(c-l),d=mp({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=mp({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return i?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):gp({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=mp({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=w.circleTangency,_=w.lineTangency,k=w.theta,j=mp({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),N=j.circleTangency,P=j.lineTangency,O=j.theta,E=s?Math.abs(l-c):Math.abs(l-c)-k-O;if(E<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(P.x,",").concat(P.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:r,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):gp({cx:r,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:d}),t.createElement("path",dp({},Be(n,!0),{className:p,d:f,role:"img"}))},bp=["option","shapeType","propTransformer","activeClassName","isActive"];function xp(e){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function wp(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sp(Object(n),!0).forEach(function(t){kp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jp(e,t){return _p(_p({},t),e)}function Np(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(go,r);case"trapezoid":return t.createElement(cp,r);case"sector":return t.createElement(vp,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(tr,r);break;default:return null}}function Pp(e){var n,r=e.option,a=e.shapeType,o=e.propTransformer,i=void 0===o?jp:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=wp(e,bp);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,_p(_p({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(fe()(r))n=r(u);else if($f()(r)&&!Zf()(r)){var d=i(r,u);n=t.createElement(Np,{shapeType:a,elementProps:d})}else{var h=u;n=t.createElement(Np,{shapeType:a,elementProps:h})}return c?t.createElement(ct,{className:l},n):n}function Op(e,t){return null!=t&&"trapezoids"in e.props}function Ep(e,t){return null!=t&&"sectors"in e.props}function Tp(e,t){return null!=t&&"points"in e.props}function Ap(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&o}function Cp(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Ip(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function Dp(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return Op(e,t)?n="trapezoids":Ep(e,t)?n="sectors":Tp(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return Op(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Ep(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Tp(e,t)?t.payload:{}}(n,t),i=r.filter(function(e,r){var i=xd()(o,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return Op(e,t)?n=Ap:Ep(e,t)?n=Cp:Tp(e,t)&&(n=Ip),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return i&&r===l});return r.indexOf(i[i.length-1])}var Mp=["x","y"];function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(this,arguments)}function Fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fp(Object(n),!0).forEach(function(t){Up(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Up(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wp(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zp(e,t){var n=e.x,r=e.y,a=Wp(e,Mp),o="".concat(n),i=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Bp(Bp(Bp(Bp(Bp({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Vp(e){return t.createElement(Pp,Lp({shapeType:"rectangle",propTransformer:zp,activeClassName:"recharts-active-bar"},e))}var Hp,qp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=ne(n)||function(e){return Z()(e)}(n);return a?e(n,r):(a||tt(!1),t)}},Gp=["value","background"];function Kp(e){return Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(e)}function Yp(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(this,arguments)}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(n),!0).forEach(function(t){rm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,am(r.key),r)}}function Zp(e,t,n){return t=tm(t),function(e,t){if(t&&("object"===Kp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,em()?Reflect.construct(t,n||[],tm(e).constructor):t.apply(e,n))}function em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(em=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tm(e)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nm(e,t)}function rm(e,t,n){return(t=am(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function am(e){var t=function(e,t){if("object"!=Kp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kp(t)?t:t+""}var om=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return rm(e=Zp(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),rm(e,"id",oe("recharts-bar-")),rm(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),rm(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,o=r.dataKey,i=r.activeIndex,s=r.activeBar,l=Be(this.props,!1);return e&&e.map(function(e,r){var c=r===i,u=c?s:a,d=$p($p($p({},l),e),{},{isActive:c,option:u,index:r,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(ct,Qp({className:"recharts-bar-rectangle"},ke(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(Vp,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,o=n.isAnimationActive,i=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(ao,{begin:i,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t,i=r.map(function(e,t){var n=u&&u[t];if(n){var r=le(n.x,e.x),i=le(n.y,e.y),s=le(n.width,e.width),l=le(n.height,e.height);return $p($p({},e),{},{x:r(o),y:i(o),width:s(o),height:l(o)})}if("horizontal"===a){var c=le(0,e.height)(o);return $p($p({},e),{},{y:e.y+e.height-c,height:c})}var d=le(0,e.width)(o);return $p($p({},e),{},{width:d})});return t.createElement(ct,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&xd()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,o=n.activeIndex,i=Be(this.props.background,!1);return r.map(function(n,r){n.value;var s=n.background,l=Yp(n,Gp);if(!s)return null;var c=$p($p($p($p($p({},l),{},{fill:"#eee"},s),i),ke(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(Vp,Qp({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,o=r.xAxis,i=r.yAxis,s=r.layout,l=De(r.children,ch);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:wh(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ct,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:o,yAxis:i,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,o=e.xAxis,i=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=W("recharts-bar",a),g=o&&o.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,b=Z()(f)?this.id:f;return t.createElement(ct,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(b)},t.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(ct,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&Qf.renderCallByParent(this.props,r))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&Jp(r.prototype,a),o&&Jp(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);function im(e){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(e)}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dm(r.key),r)}}function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(Object(n),!0).forEach(function(t){um(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function um(e,t,n){return(t=dm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dm(e){var t=function(e,t){if("object"!=im(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==im(t)?t:t+""}Hp=om,rm(om,"displayName","Bar"),rm(om,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),rm(om,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?$p($p({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===p?i:o,w=c?x.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:x}),_=De(v,Mf),k=d.map(function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!ne(t[0])||!ne(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ne(e[0])||e[0]<n)&&(a[0]=n),(!ne(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=wh(e,y),Array.isArray(r)||(r=[S,r]));var x=qp(b,Hp.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var k,j=[i.scale(r[0]),i.scale(r[1])],N=j[0],P=j[1];d=Mh({axis:o,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==P&&void 0!==P?P:N)&&void 0!==k?k:void 0,m=f.size;var O=N-P;if(g=Number.isNaN(O)?0:O,v={x:d,y:i.y,width:m,height:i.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var E=ee(g||x)*(Math.abs(x)-Math.abs(g));h-=E,g+=E}}else{var T=[o.scale(r[0]),o.scale(r[1])],A=T[0],C=T[1];if(d=A,h=Mh({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=C-A,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=ee(m||x)*(Math.abs(x)-Math.abs(m))}return $p($p($p({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},_&&_[t]&&_[t].props),{},{tooltipPayload:[zh(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return $p({data:k,layout:p},h)});var hm=function(t,n,r,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Me(c,om);return u.reduce(function(i,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,x=void 0===b?{}:b,w=g.mirror,S=g.reversed,_="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var k=v[1]-v[0],j=1/0,N=g.categoricalDomain.sort(ue);if(N.forEach(function(e,t){t>0&&(j=Math.min((e||0)-(N[t-1]||0),j))}),Number.isFinite(j)){var P=j/k,O="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*O/2),"no-gap"===g.padding){var E=ie(t.barCategoryGap,P*O),T=P*O/2;c=T-E-(T-E)/O*E}}}u="xAxis"===a?[r.left+(x.left||0)+(c||0),r.left+r.width-(x.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(c||0),r.top+r.height-(x.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var A=function(t,n,r){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===s?{scale:No(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:Xs(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Oo(),realScaleType:"point"}:"category"===o?{scale:No(),realScaleType:"band"}:{scale:Xs(),realScaleType:"linear"};if(q()(a)){var l="scale".concat(Zt()(a));return{scale:(e[l]||Oo)(),realScaleType:e[l]?l:"point"}}return fe()(a)?{scale:a}:{scale:Oo(),realScaleType:"point"}}(g,o,h),C=A.scale,I=A.realScaleType;C.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Ah,o=Math.max(r[0],r[1])+Ah,i=e(t[0]),s=e(t[n-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[n-1]])}}(C);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=Yd(l,a,i);return e.domain([gd()(c),pd()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:Qd(u,a,i)}}return null}(C,cm(cm({},g),{},{realScaleType:I}));"xAxis"===a?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=d[_]-m*g.height):"yAxis"===a&&(m="left"===y&&!w||"right"===y&&w,f=d[_]-m*g.width,p=r.top);var M=cm(cm(cm({},g),D),{},{realScaleType:I,x:f,y:p,scale:C,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=Uh(M,D),g.hide||"xAxis"!==a?g.hide||(d[_]+=(m?-1:1)*M.width):d[_]+=(m?-1:1)*M.height,cm(cm({},i),{},um({},s,M))},{})},fm=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return{x:Math.min(n,a),y:Math.min(r,o),width:Math.abs(a-n),height:Math.abs(o-r)}},pm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&sm(t.prototype,n),r&&sm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();um(pm,"EPS",1e-4);var mm=function(e){var t=Object.keys(e).reduce(function(t,n){return cm(cm({},t),{},um({},n,pm.create(e[n])))},{});return cm(cm({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return Cf()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return Df()(e,function(e,n){return t[n].isInRange(e)})}})};function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gm.apply(this,arguments)}function ym(e){return ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(e)}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach(function(t){jm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nm(r.key),r)}}function wm(e,t,n){return t=_m(t),function(e,t){if(t&&("object"===ym(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sm()?Reflect.construct(t,n||[],_m(e).constructor):t.apply(e,n))}function Sm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sm=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(e)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},km(e,t)}function jm(e,t,n){return(t=Nm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(e){var t=function(e,t){if("object"!=ym(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ym(t)?t:t+""}var Pm=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),wm(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,o=e.r,i=e.alwaysShow,s=e.clipPathId,l=re(r),c=re(a);if(de(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,o=mm({x:r.scale,y:a.scale}),i=o.apply({x:t,y:n},{bandAware:!0});return Tf(e,"discard")&&!o.isInRange(i)?null:i}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=bm(bm({clipPath:Tf(this.props,"hidden")?"url(#".concat(s,")"):void 0},Be(this.props,!0)),{},{cx:d,cy:h});return t.createElement(ct,{className:W("recharts-reference-dot",m)},n.renderDot(p,g),Of.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],a&&xm(r.prototype,a),o&&xm(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);jm(Pm,"displayName","ReferenceDot"),jm(Pm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),jm(Pm,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):fe()(e)?e(n):t.createElement(Er,gm({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var Om=n(4597),Em=n.n(Om),Tm=n(8990),Am=n.n(Tm),Cm=n(5797),Im=n.n(Cm)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var Dm=(0,t.createContext)(void 0),Mm=(0,t.createContext)(void 0),Rm=(0,t.createContext)(void 0),Lm=(0,t.createContext)({}),Fm=(0,t.createContext)(void 0),Bm=(0,t.createContext)(0),Um=(0,t.createContext)(0),Wm=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,o=n.offset,i=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Im(o);return t.createElement(Dm.Provider,{value:r},t.createElement(Mm.Provider,{value:a},t.createElement(Lm.Provider,{value:o},t.createElement(Rm.Provider,{value:u},t.createElement(Fm.Provider,{value:i},t.createElement(Bm.Provider,{value:c},t.createElement(Um.Provider,{value:l},s)))))))};var zm=function(e){var n=(0,t.useContext)(Dm);null==n&&tt(!1);var r=n[e];return null==r&&tt(!1),r},Vm=function(e){var n=(0,t.useContext)(Mm);null==n&&tt(!1);var r=n[e];return null==r&&tt(!1),r},Hm=function(){return(0,t.useContext)(Um)},qm=function(){return(0,t.useContext)(Bm)};function Gm(e){return Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(e)}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tg(r.key),r)}}function Ym(e,t,n){return t=Xm(t),function(e,t){if(t&&("object"===Gm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qm()?Reflect.construct(t,n||[],Xm(e).constructor):t.apply(e,n))}function Qm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qm=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xm(e)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$m(e,t)}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(n),!0).forEach(function(t){eg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(e,t,n){return(t=tg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e){var t=function(e,t){if("object"!=Gm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gm(t)?t:t+""}function ng(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(this,arguments)}function og(e){var n=e.x,r=e.y,a=e.segment,o=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(Fm),d=zm(o),h=Vm(i),f=(0,t.useContext)(Rm);if(!u||!f)return null;de(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,o,i,s,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(Tf(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(Tf(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===i?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return Tf(l,"discard")&&Em()(b,function(t){return!e.isInRange(t)})?null:b}return null}(mm({x:d.scale,y:h.scale}),re(n),re(r),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=ng(p,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,S=Zm(Zm({clipPath:Tf(e,"hidden")?"url(#".concat(u,")"):void 0},Be(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return t.createElement(ct,{className:W("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):fe()(e)?e(n):t.createElement("line",ag({},n,{className:"recharts-reference-line-line"}))}(s,S),Of.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return fm({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:x,y2:w})))}var ig=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ym(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(og,this.props)}}])&&Km(r.prototype,a),o&&Km(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}function lg(e){return lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(e)}function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(n),!0).forEach(function(t){gg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yg(r.key),r)}}function hg(e,t,n){return t=pg(t),function(e,t){if(t&&("object"===lg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fg()?Reflect.construct(t,n||[],pg(e).constructor):t.apply(e,n))}function fg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fg=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pg(e)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mg(e,t)}function gg(e,t,n){return(t=yg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yg(e){var t=function(e,t){if("object"!=lg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lg(t)?t:t+""}eg(ig,"displayName","ReferenceLine"),eg(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var vg=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),hg(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,o=e.y1,i=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;de(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=re(r),d=re(a),h=re(o),f=re(i),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,a){var o=a.x1,i=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=mm({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!Tf(a,"discard")||d.isInRange(h)&&d.isInRange(f)?fm(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=Tf(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(ct,{className:W("recharts-reference-area",s)},n.renderRect(p,ug(ug({clipPath:g},Be(this.props,!0)),m)),Of.renderCallByParent(this.props,m))}}])&&dg(r.prototype,a),o&&dg(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);function bg(e){return function(e){if(Array.isArray(e))return xg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}gg(vg,"displayName","ReferenceArea"),gg(vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),gg(vg,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):fe()(e)?e(n):t.createElement(go,sg({},n,{className:"recharts-reference-area-rect"}))});var wg=function(e,t,n,r,a){var o=De(e,ig),i=De(e,Pm),s=[].concat(bg(o),bg(i)),l=De(e,vg),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&Tf(t.props,"extendDomain")&&ne(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&Tf(t.props,"extendDomain")&&ne(t.props[h])&&ne(t.props[f])){var r=t.props[h],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return ne(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Sg=n(7283),_g=new(n.n(Sg)()),kg="recharts.syncMouseEvents";function jg(e){return jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}function Ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Og(r.key),r)}}function Pg(e,t,n){return(t=Og(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Og(e){var t=function(e,t){if("object"!=jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jg(t)?t:t+""}var Eg=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pg(this,"activeIndex",0),Pg(this,"coordinateList",[]),Pg(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,o=void 0===a?null:a,i=e.layout,s=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,o=n.height,i=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+i+s,u=a+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Ng(e.prototype,t),n&&Ng(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Tg(){}function Ag(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Cg(e){this._context=e}function Ig(e){this._context=e}function Dg(e){this._context=e}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ag(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ag(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ig.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ag(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ag(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Mg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Rg(e){this._context=e}function Lg(e){this._context=e}function Fg(e){return new Lg(e)}function Bg(e){return e<0?-1:1}function Ug(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),s=(o*a+i*r)/(r+a);return(Bg(o)+Bg(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Wg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zg(e,t,n){var r=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,a+s*t,o-s,i-s*n,o,i)}function Vg(e){this._context=e}function Hg(e){this._context=new qg(e)}function qg(e){this._context=e}function Gg(e){this._context=e}function Kg(e){var t,n,r=e.length-1,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Yg(e,t){this._context=e,this._t=t}function Qg(e){return e[0]}function Xg(e){return e[1]}function $g(e,t){var n=_n(!0),r=null,a=Fg,o=null,i=qn(s);function s(s){var l,c,u,d=(s=cd(s)).length,h=!1;for(null==r&&(o=a(u=i())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?Qg:_n(e),t="function"===typeof t?t:void 0===t?Xg:_n(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:_n(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:_n(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:_n(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(o=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=o=null:o=a(r=e),s):r},s}function Jg(e,t,n){var r=null,a=_n(!0),o=null,i=Fg,s=null,l=qn(c);function c(c){var u,d,h,f,p,m=(c=cd(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=i(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return $g().defined(a).curve(i).context(o)}return e="function"===typeof e?e:void 0===e?Qg:_n(+e),t="function"===typeof t?t:_n(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Xg:_n(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:_n(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:_n(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:_n(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:_n(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:_n(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:_n(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:_n(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),c):i},c.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),c):o},c}function Zg(e){return Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){ry(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ry(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Rg.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zg(this,this._t0,Wg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zg(this,Wg(this,n=Ug(this,e,t)),n);break;default:zg(this,this._t0,n=Ug(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Hg.prototype=Object.create(Vg.prototype)).point=function(e,t){Vg.prototype.point.call(this,t,e)},qg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}},Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Kg(e),a=Kg(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ay={curveBasisClosed:function(e){return new Ig(e)},curveBasisOpen:function(e){return new Dg(e)},curveBasis:function(e){return new Cg(e)},curveBumpX:function(e){return new Mg(e,!0)},curveBumpY:function(e){return new Mg(e,!1)},curveLinearClosed:function(e){return new Rg(e)},curveLinear:Fg,curveMonotoneX:function(e){return new Vg(e)},curveMonotoneY:function(e){return new Hg(e)},curveNatural:function(e){return new Gg(e)},curveStep:function(e){return new Yg(e,.5)},curveStepAfter:function(e){return new Yg(e,1)},curveStepBefore:function(e){return new Yg(e,0)}},oy=function(e){return e.x===+e.x&&e.y===+e.y},iy=function(e){return e.x},sy=function(e){return e.y},ly=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,o=void 0===a?[]:a,i=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(fe()(e))return e;var n="curve".concat(Zt()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?ay[n]||Fg:ay["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return oy(e)}):o;if(Array.isArray(i)){var h=c?i.filter(function(e){return oy(e)}):i,f=d.map(function(e,t){return ny(ny({},e),{},{base:h[t]})});return(t="vertical"===s?Jg().y(sy).x1(iy).x0(function(e){return e.base.x}):Jg().x(iy).y1(sy).y0(function(e){return e.base.y})).defined(oy).curve(u),t(f)}return(t="vertical"===s&&ne(i)?Jg().y(sy).x1(iy).x0(i):ne(i)?Jg().x(iy).y1(sy).y0(i):$g().x(iy).y(sy)).defined(oy).curve(u),t(d)},cy=function(e){var n=e.className,r=e.points,a=e.path,o=e.pathRef;if((!r||!r.length)&&!a)return null;var i=r&&r.length?ly(e):a;return t.createElement("path",ey({},Be(e,!1),_e(e),{className:W("recharts-curve",n),d:i,ref:o}))};function uy(e){return uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(e)}var dy=["x","y","top","left","width","height","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(this,arguments)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function py(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function my(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var gy=function(e,t,n,r,a,o){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},yy=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,o=void 0===a?0:a,i=e.top,s=void 0===i?0:i,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:o,top:s,left:c,width:d,height:f},my(e,dy));return ne(r)&&ne(o)&&ne(d)&&ne(f)&&ne(s)&&ne(c)?t.createElement("path",hy({},Be(m,!0),{className:W("recharts-cross",p),d:gy(r,o,d,f,s,c)})):null};function vy(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,o=e.endAngle;return{points:[pf(t,n,r,a),pf(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:a,endAngle:o}}function by(e,t,n){var r,a,o,i;if("horizontal"===e)o=r=t.x,a=n.top,i=n.top+n.height;else if("vertical"===e)i=a=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return vy(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=pf(s,l,c,d),f=pf(s,l,u,d);r=h.x,a=h.y,o=f.x,i=f.y}return[{x:r,y:a},{x:o,y:i}]}function xy(e){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(e)}function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach(function(t){_y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _y(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ky(e){var n,r,a,o=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(n=o.props.cursor)&&void 0!==n?n:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==i)return null;var g=cy;if("ScatterChart"===p)a=l,g=yy;else if("BarChart"===p)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=go;else if("radial"===f){var y=vy(l),v=y.cx,b=y.cy,x=y.radius;a={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=vp}else a={points:by(f,l,u)},g=cy;var w=Sy(Sy(Sy(Sy({stroke:"#ccc",pointerEvents:"none"},u),a),Be(m,!1)),{},{payload:c,payloadIndex:d,className:W("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,w):(0,t.createElement)(g,w)}var jy=["item"],Ny=["children","className","width","height","style","compact","title","desc"];function Py(e){return Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(this,arguments)}function Ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||Ly(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ty(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zy(r.key),r)}}function Cy(e,t,n){return t=Dy(t),function(e,t){if(t&&("object"===Py(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Iy()?Reflect.construct(t,n||[],Dy(e).constructor):t.apply(e,n))}function Iy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Iy=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dy(e)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},My(e,t)}function Ry(e){return function(e){if(Array.isArray(e))return Fy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ly(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){if(e){if("string"===typeof e)return Fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fy(e,t):void 0}}function Fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?By(Object(n),!0).forEach(function(t){Wy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wy(e,t,n){return(t=zy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zy(e){var t=function(e,t){if("object"!=Py(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Py(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Py(t)?t:t+""}var Vy={xAxis:["bottom","top"],yAxis:["left","right"]},Hy={width:"100%",height:"100%"},qy={x:0,y:0};function Gy(e){return e}var Ky=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Ry(e),Ry(n)):e},[]);return o.length>0?o:e&&e.length&&ne(r)&&ne(a)?e.slice(r,a+1):[]};function Yy(e){return"number"===e?[0,"auto"]:void 0}var Qy=function(e,t,n,r){var a=e.graphicalItems,o=e.tooltipAxis,i=Ky(t,e);return n<0||!a||!a.length||n>=i.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=ce(void 0===u?i:u,o.dataKey,r):c=u&&u[n]||i[n];return c?[].concat(Ry(a),[zh(s,c)]):a},[])},Xy=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),i=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<i;l++){var c=l>0?r[l-1].coordinate:r[i-1].coordinate,u=r[l].coordinate,d=l>=i-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(ee(u-c)!==ee(d-u)){var f=[];if(ee(d-u)===ee(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,i,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=Qy(e,t,c,u),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var o=a.coordinate,i=r.radius;return Uy(Uy(Uy({},r),pf(r.cx,r.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,l=r.angle;return Uy(Uy(Uy({},r),pf(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return qy}(n,i,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},$y=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Nh(c,a);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?Uy(Uy({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,S=p[o];if(t[S])return t;var _,k,j,N=Ky(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S}),dataStartIndex:s,dataEndIndex:l}),P=N.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&ne(r)&&ne(a))return!0}return!1})(p.domain,y,m)&&(_=Bh(p.domain,null,y),!h||"number"!==m&&"auto"===b||(j=Sh(N,g,"category")));var O=Yy(m);if(!_||0===_.length){var E,T=null!==(E=p.domain)&&void 0!==E?E:O;if(g){if(_=Sh(N,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);v&&A?(k=_,_=$e()(0,P)):v||(_=Wh(T,_,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Ry(e),[t])},[]))}else if("category"===m)_=v?_.filter(function(e){return""!==e&&!Z()(e)}):Wh(T,_,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Z()(t)?e:[].concat(Ry(e),[t])},[]);else if("number"===m){var C=function(e,t,n,r,a){var o=t.map(function(t){return kh(e,t,n,a,r)}).filter(function(e){return!Z()(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(N,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(w||!a)}),g,a,c);C&&(_=C)}!h||"number"!==m&&"auto"===b||(j=Sh(N,g,"category"))}else _=h?$e()(0,P):i&&i[S]&&i[S].hasStack&&"number"===m?"expand"===d?[0,1]:Rh(i[S].stackGroups,s,l):jh(N,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(w||!n)}),m,c,!0);if("number"===m)_=wg(u,_,S,a,x),T&&(_=Bh(T,_,y));else if("category"===m&&T){var I=T;_.every(function(e){return I.indexOf(e)>=0})&&(_=I)}}return Uy(Uy({},t),{},Wy({},S,Uy(Uy({},p),{},{axisType:a,domain:_,categoricalDomain:j,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:O,isCategorical:h,layout:c})))},{})},Jy=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=De(c,a),h={};return d&&d.length?h=$y(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=Ky(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=Nh(c,a),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?Uy(Uy({},t.type.defaultProps),t.props):t.props)[o],y=Yy("number");return e[g]?e:(p++,f?m=$e()(0,h):i&&i[g]&&i[g].hasStack?(m=Rh(i[g].stackGroups,s,l),m=wg(u,m,g,a)):(m=Bh(y,jh(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=wg(u,m,g,a)),Uy(Uy({},e),{},Wy({},g,Uy(Uy({axisType:a},r.defaultProps),{},{hide:!0,orientation:Q()(Vy,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:l})),h},Zy=function(e){var t=e.children,n=e.defaultShowTooltip,r=Me(t,sf),a=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},ev=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tv=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,o=e.yAxisMap,i=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Me(c,sf),h=Me(c,Pr),f=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Uy(Uy({},e),{},Wy({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Uy(Uy({},e),{},Wy({},r,Q()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=Uy(Uy({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||sf.defaultProps.height),h&&t&&(m=function(e,t,n,r){var a=n.children,o=n.width,i=n.margin,s=o-(i.left||0)-(i.right||0),l=ph({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&ne(e[h]))return bh(bh({},e),{},xh({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&ne(e[f]))return bh(bh({},e),{},xh({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return Uy(Uy({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},nv=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},rv=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,o=void 0===a?"axis":a,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,o=t.updateId,i=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=ev(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Te(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=Ky(e.data,{graphicalItems:[n],dataStartIndex:i,dataEndIndex:s}),x=void 0!==n.type.defaultProps?Uy(Uy({},n.type.defaultProps),n.props):n.props,w=x.dataKey,S=x.maxBarSize,_=x["".concat(m,"Id")],k=x["".concat(g,"Id")],j=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=x["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||tt(!1);var o=r[a];return Uy(Uy({},e),{},Wy(Wy({},n.axisType,o),"".concat(n.axisType,"Ticks"),Oh(o)))},{}),N=j[g],P=j["".concat(g,"Ticks")],O=r&&r[_]&&r[_].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?bh(bh({},e.type.defaultProps),e.props):e.props).stackId;if(re(r)){var a=t[r];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null}(n,r[_].stackGroups),E=Te(n.type).indexOf("Bar")>=0,T=Uh(N,P),A=[],C=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var o={},i=Object.keys(a),s=0,l=i.length;s<l;s++)for(var c=a[i[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return Te(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?bh(bh({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];o[x]||(o[x]=[]);var w=Z()(b)?t:b;o[x].push({item:g[0],stackList:g.slice(1),barSize:Z()(w)?void 0:ie(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:nv(j,g)});if(E){var I,D,M=Z()(S)?f:S,R=null!==(I=null!==(D=Uh(N,P,!0))&&void 0!==D?D:M)&&void 0!==I?I:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,o=void 0===a?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=ie(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(gh(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=ie(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=i===+i?Math.min(g,i):g;l=o.reduce(function(e,t,n){var r=[].concat(gh(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==T?R:T,sizeList:C[k],maxBarSize:M}),R!==T&&(A=A.map(function(e){return Uy(Uy({},e),{},{position:Uy(Uy({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,B=n&&n.type&&n.type.getComposedData;B&&v.push({props:Uy(Uy({},B(Uy(Uy({},j),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:T,barPosition:A,offset:a,stackedData:O,layout:u,dataStartIndex:i,dataEndIndex:s}))),{},Wy(Wy(Wy({key:n.key||"item-".concat(p)},m,j[m]),g,j[g]),"animationId",o)),childIndex:(L=n,F=e.children,Ie(F).indexOf(L)),item:n})}),v},f=function(e,t){var a=e.props,o=e.dataStartIndex,i=e.dataEndIndex,s=e.updateId;if(!Re({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=ev(d),y=g.numericAxisName,v=g.cateAxisName,b=De(c,r),x=function(e,t,n,r,a,o){if(!e)return null;var i=(o?t.reverse():t).reduce(function(e,t){var a,o=null!==(a=t.type)&&void 0!==a&&a.defaultProps?bh(bh({},t.type.defaultProps),t.props):t.props,i=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(re(i)){var c=l.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[oe("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return bh(bh({},e),{},xh({},s,l))},{});return Object.keys(i).reduce(function(t,o){var s=i[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var i=s.stackGroups[o];return bh(bh({},t),{},xh({},o,{numericAxisId:n,cateAxisId:r,items:i.items,stackedData:Ih(e,i.items,a)}))},{})),bh(bh({},t),{},xh({},o,s))},{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Uy(Uy({},e),{},Wy({},n,Jy(a,Uy(Uy({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:o,dataEndIndex:i}))))},{}),S=tv(Uy(Uy({},w),{},{props:a,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],S,e.replace("Map",""),n)});var _=function(e){var t=se(e),n=Oh(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ze()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Uh(t,n)}}(w["".concat(v,"Map")]),k=h(a,Uy(Uy({},w),{},{dataStartIndex:o,dataEndIndex:i,updateId:s,graphicalItems:b,stackGroups:x,offset:S}));return Uy(Uy({formattedGraphicalItems:k,graphicalItems:b,offset:S,stackGroups:x},_),w)},p=function(e){function r(e){var a,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Wy(i=Cy(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wy(i,"accessibilityManager",new Eg),Wy(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(Uy({legendBBox:e},f({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},Uy(Uy({},i.state),{},{legendBBox:e}))))}}),Wy(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),Wy(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return Uy({dataStartIndex:t,dataEndIndex:n},f({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),Wy(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=Uy(Uy({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;fe()(r)&&r(n,e)}}),Wy(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?Uy(Uy({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;fe()(r)&&r(n,e)}),Wy(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Wy(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),Wy(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),Wy(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;fe()(n)&&n(t,e)}),Wy(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&Ee[t]?Ee[t]:null}(e),r=Q()(i.props,"".concat(n));n&&fe()(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),Wy(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=Uy(Uy({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;fe()(r)&&r(n,e)}}),Wy(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;fe()(t)&&t(i.getMouseInfo(e),e)}),Wy(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;fe()(t)&&t(i.getMouseInfo(e),e)}),Wy(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Wy(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),Wy(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),Wy(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;fe()(t)&&t(i.getMouseInfo(e),e)}),Wy(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;fe()(t)&&t(i.getMouseInfo(e),e)}),Wy(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&_g.emit(kg,i.props.syncId,e,i.eventEmitterSymbol)}),Wy(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(Uy({dataStartIndex:o,dataEndIndex:s},f({props:i.props,dataStartIndex:o,dataEndIndex:s,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=Uy(Uy({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=Qy(i.state,i.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:qy;i.setState(Uy(Uy({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else i.setState(e)}),Wy(i,"renderCursor",function(e){var r,a=i.state,o=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=i.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:o,p=i.props.layout,m=e.key||"_recharts-cursor";return t.createElement(ky,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),Wy(i,"renderPolarAxis",function(e,n,r){var a=Q()(e,"type.axisType"),o=Q()(i.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?Uy(Uy({},s),e.props):e.props,c=o&&o[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,Uy(Uy({},c),{},{className:W(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:Oh(c,!0)}))}),Wy(i,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,o=n.polarRadius,s=i.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=se(l),d=se(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:Oh(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(o)?o:Oh(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),Wy(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,n=i.props,r=n.children,a=n.width,o=n.height,s=i.props.margin||{},l=a-(s.left||0)-(s.right||0),u=ph({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Ty(u,jy);return(0,t.cloneElement)(d,Uy(Uy({},h),{},{chartWidth:a,chartHeight:o,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),Wy(i,"renderTooltip",function(){var e,n=i.props,r=n.children,a=n.accessibilityLayer,o=Me(r,$t);if(!o)return null;var s=i.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(o,{viewBox:Uy(Uy({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),Wy(i,"renderBrush",function(e){var n=i.props,r=n.margin,a=n.data,o=i.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Th(i.handleBrushChange,e.props.onChange),data:a,x:ne(e.props.x)?e.props.x:s.left,y:ne(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:ne(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),Wy(i,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=i.clipPathId,o=i.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),Wy(i,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,o=e.childIndex,i=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Uy(Uy({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=Uy(Uy({index:o,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:_h(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Be(u,!1)),_e(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),a?s.push(r.renderActiveDot(u,Uy(Uy({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(o))):i&&s.push(null),s}),Wy(i,"renderGraphicChild",function(e,n,r){var a=i.filterFormatItem(e,n,r);if(!a)return null;var o=i.getTooltipEventType(),s=i.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Me(i.props.children,$t),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?Uy(Uy({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,S=Boolean(!b&&l&&h&&(v||x||w)),_={};"axis"!==o&&h&&"click"===h.props.trigger?_={onClick:Th(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(_={onMouseLeave:Th(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Th(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,t.cloneElement)(e,Uy(Uy({},a.props),_));if(S){if(!(u>=0)){var j,N=(null!==(j=i.getItemByXY(i.state.activeCoordinate))&&void 0!==j?j:{graphicalItem:k}).graphicalItem,P=N.item,O=void 0===P?e:P,E=N.childIndex,T=Uy(Uy(Uy({},a.props),_),{},{activeIndex:E});return[(0,t.cloneElement)(O,T),null,null]}var A,C;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=ce(p,I,d),C=m&&g&&ce(g,I,d)}else A=null===p||void 0===p?void 0:p[u],C=m&&g&&g[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,Uy(Uy(Uy({},a.props),_),{},{activeIndex:D})),null,null]}if(!Z()(A))return[k].concat(Ry(i.renderActivePoints({item:a,activePoint:A,basePoint:C,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]}),Wy(i,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,Uy(Uy({key:"recharts-customized-".concat(r)},i.props),i.state))}),Wy(i,"renderMap",{CartesianGrid:{handler:Gy,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:Gy},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:Gy},YAxis:{handler:Gy},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:oe("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=V()(i.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}(r,e),a=r,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,o=Me(t,$t);if(o){var i=o.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=Qy(this.state,n,i,s),c=this.state.tooltipTicks[i].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=Uy(Uy({},d),h.props.points[i].tooltipPosition),l=h.props.points[i].tooltipPayload);var f={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Ue([Me(e.children,$t)],[Me(this.props.children,$t)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Me(this.props.children,$t);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},i=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,i);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=Xy(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=se(c).scale,p=se(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return Uy(Uy({},o),{},{xValue:m,yValue:g},h)}return h?Uy(Uy({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var i=this.state.offset;return a>=i.left&&a<=i.left+i.width&&o>=i.top&&o<=i.top+i.height?{x:a,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=se(l);return yf({x:a,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Me(e,$t),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Uy(Uy({},_e(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){_g.on(kg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_g.removeListener(kg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,o=r.length;a<o;a++){var i=r[a];if(i.item===e||i.props.key===e.key||t===Te(i.item.type)&&n===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,o=n.height,i=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:o,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Ey(t,2),r=n[0],a=n[1];return Uy(Uy({},e),{},Wy({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Ey(t,2),r=n[0],a=n[1];return Uy(Uy({},e),{},Wy({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,o=n.length;a<o;a++){var i=n[a],s=i.props,l=i.item,c=void 0!==l.type.defaultProps?Uy(Uy({},l.type.defaultProps),l.props):l.props,u=Te(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return po(e,t)});if(d)return{graphicalItem:i,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return yf(e,t)});if(h)return{graphicalItem:i,payload:h}}else if(Op(i,r)||Ep(i,r)||Tp(i,r)){var f=Dp({graphicalItem:i,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Uy(Uy({},i),{},{childIndex:p}),payload:Tp(i,r)?c.data[f]:i.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Re(this))return null;var n,r,a=this.props,o=a.children,i=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=Ty(a,Ny),p=Be(f,!1);if(u)return t.createElement(Wm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(ot,Oy({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),ze(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(Wm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",Oy({className:W("recharts-wrapper",i),style:Uy({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(ot,Oy({},p,{width:s,height:l,title:d,desc:h,style:Hy}),this.renderClipPath(),ze(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&Ay(a.prototype,i),l&&Ay(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,i,l}(t.Component);Wy(p,"displayName",n),Wy(p,"defaultProps",Uy({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Wy(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,o=e.width,i=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=Zy(e);return Uy(Uy(Uy({},h),{},{updateId:0},f(Uy(Uy({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||i!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ye(c,t.prevMargin)){var p=Zy(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Uy(Uy({},Xy(t,r,s)),{},{updateId:t.updateId+1}),y=Uy(Uy(Uy({},p),m),g);return Uy(Uy(Uy({},y),f(Uy({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ue(a,t.prevChildren)){var v,b,x,w,S=Me(a,sf),_=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=S&&null!==(x=null===(w=S.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,j=_!==u||k!==d,N=!Z()(r)&&!j?t.updateId:t.updateId+1;return Uy(Uy({updateId:N},f(Uy(Uy({props:e},t),{},{updateId:N,dataStartIndex:_,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:_,dataEndIndex:k})}return null}),Wy(p,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):fe()(e)?e(n):t.createElement(Er,n),t.createElement(ct,{className:"recharts-active-dot",key:r},a)});var m=(0,t.forwardRef)(function(e,n){return t.createElement(p,Oy({},e,{ref:n}))});return m.displayName=p.displayName,m},av=["type","layout","connectNulls","ref"],ov=["key"];function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}function sv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(this,arguments)}function cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cv(Object(n),!0).forEach(function(t){vv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dv(e){return function(e){if(Array.isArray(e))return hv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bv(r.key),r)}}function pv(e,t,n){return t=gv(t),function(e,t){if(t&&("object"===iv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mv()?Reflect.construct(t,n||[],gv(e).constructor):t.apply(e,n))}function mv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mv=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gv(e)}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yv(e,t)}function vv(e,t,n){return(t=bv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bv(e){var t=function(e,t){if("object"!=iv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iv(t)?t:t+""}var xv=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return vv(e=pv(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),vv(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),vv(e,"getStrokeDasharray",function(t,r,a){var o=a.reduce(function(e,t){return e+t});if(!o)return e.generateSimpleStrokeDasharray(r,t);for(var i=Math.floor(t/o),s=t%o,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(dv(a.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(dv(n.repeat(a,i)),dv(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),vv(e,"id",oe("recharts-line-")),vv(e,"pathRef",function(t){e.mainCurve=t}),vv(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),vv(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yv(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,o=r.xAxis,i=r.yAxis,s=r.layout,l=De(r.children,ch);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:wh(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ct,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:o,yAxis:i,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.dot,s=o.points,l=o.dataKey,c=Be(this.props,!1),u=Be(i,!0),d=s.map(function(e,t){var r=uv(uv(uv({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(i,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(ct,lv({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var o=this.props,i=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,sv(o,av)),u=uv(uv(uv({},Be(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:i,layout:s,connectNulls:l});return t.createElement(cy,lv({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,o=a.points,i=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return t.createElement(ao,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var s=g.length/o.length,l=o.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=le(r.x,e.x),i=le(r.y,e.y);return uv(uv({},e),{},{x:o(a),y:i(a)})}if(h){var l=le(2*f,e.x),c=le(p/2,e.y);return uv(uv({},e),{},{x:l(a),y:c(a)})}return uv(uv({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=le(0,y)(a);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(o,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,o=this.state,i=o.prevPoints,s=o.totalLength;return a&&r&&r.length&&(!i&&s>0||!xd()(i,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,o=n.points,i=n.className,s=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,f=n.isAnimationActive,p=n.id;if(r||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=W("recharts-line",i),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=Z()(p)?this.id:p,S=null!==(e=Be(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=S.r,k=void 0===_?3:_,j=S.strokeWidth,N=void 0===j?2:j,P=(function(e){return e&&"object"===Oe(e)&&"clipDot"in e}(a)?a:{}).clipDot,O=void 0===P||P,E=2*k+N;return t.createElement(ct,{className:y},v||b?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!O&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||a)&&this.renderDots(x,O,w),(!f||m)&&Qf.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(dv(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(dv(r),dv(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(fe()(e))r=e(n);else{var a=n.key,o=sv(n,ov),i=W("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Er,lv({key:a},o,{className:i}))}return r}}],a&&fv(r.prototype,a),o&&fv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.PureComponent);function wv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function Sv(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,o=Math.atan(n/t),i=a>o&&a<Math.PI-o?n/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function _v(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function kv(e){return kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(e)}function jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jv(Object(n),!0).forEach(function(t){Pv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ov(e,t,n){var r=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(ne(l)||Rt.isSsr)return function(e,t){return wv(e,t+1)}(a,"number"===typeof l&&ne(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?Ro(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=fe()(c)?c(e.value,r):e.value;return"width"===f?Sv(Ro(a,{fontSize:t,letterSpacing:n}),p,d):Ro(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?ee(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,o=e.y,i=e.width,s=e.height;return 1===t?{start:r?a:o,end:r?a+i:o+s}:{start:r?a+i:o+s,end:r?a:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var o,i=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:wv(r,u)};var o,i=c,h=function(){return void 0===o&&(o=n(t,i)),o},f=t.coordinate,p=0===c||_v(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=i.length;)if(o=h())return o.v;return[]}(g,y,m,a,i):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,o){var i=(r||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);i[s-1]=u=Nv(Nv({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),_v(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),i[s-1]=Nv(Nv({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=i[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);i[t]=o=Nv(Nv({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else i[t]=o=Nv(Nv({},o),{},{tickCoord:o.coordinate});_v(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+a),i[t]=Nv(Nv({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return i}(g,y,m,a,i,"preserveStartEnd"===l):function(e,t,n,r,a){for(var o=(r||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===i-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=Nv(Nv({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=Nv(Nv({},c),{},{tickCoord:c.coordinate});_v(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),o[t]=Nv(Nv({},c),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}(g,y,m,a,i),h.filter(function(e){return e.isShow}))}vv(xv,"displayName","Line"),vv(xv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),vv(xv,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=wh(e,i);return"horizontal"===u?{x:Dh({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:Z()(l)?null:r.scale(l),value:l,payload:e}:{x:Z()(l)?null:n.scale(l),y:Dh({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}});return uv({points:d,layout:u},c)});var Ev=["viewBox"],Tv=["viewBox"],Av=["ticks"];function Cv(e){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(e)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach(function(t){zv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vv(r.key),r)}}function Fv(e,t,n){return t=Uv(t),function(e,t){if(t&&("object"===Cv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bv()?Reflect.construct(t,n||[],Uv(e).constructor):t.apply(e,n))}function Bv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bv=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uv(e)}function Wv(e,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wv(e,t)}function zv(e,t,n){return(t=Vv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vv(e){var t=function(e,t){if("object"!=Cv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cv(t)?t:t+""}var Hv=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Fv(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wv(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Rv(e,Ev),a=this.props,o=a.viewBox,i=Rv(a,Tv);return!ye(n,o)||!ye(r,i)||!ye(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,o,i,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,i=(r=(a=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=a=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,i=v;break;case"right":r=a=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,i=v;break;default:t=n=e.coordinate,i=(r=(a=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:o,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,o=e.height,i=e.orientation,s=e.mirror,l=e.axisLine,c=Mv(Mv(Mv({},Be(this.props,!1)),Be(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);c=Mv(Mv({},c),{},{x1:n,y1:r+u*o,x2:n+a,y2:r+u*o})}else{var d=+("left"===i&&!s||"right"===i&&s);c=Mv(Mv({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+o})}return t.createElement("line",Iv({},c,{className:W("recharts-cartesian-axis-line",Q()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var o=this,i=this.props,s=i.tickLine,l=i.stroke,c=i.tick,u=i.tickFormatter,d=i.unit,h=Ov(Mv(Mv({},this.props),{},{ticks:e}),r,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Be(this.props,!1),g=Be(c,!1),y=Mv(Mv({},m),{},{fill:"none"},Be(s,!1)),v=h.map(function(e,r){var a=o.getTickLineCoord(e),i=a.line,v=a.tick,b=Mv(Mv(Mv(Mv({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(ct,Iv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ke(o.props,e,r)),s&&t.createElement("line",Iv({},y,i,{className:W("recharts-cartesian-axis-tick-line",Q()(s,"className"))})),c&&n.renderTickItem(c,b,"".concat(fe()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,o=n.height,i=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=Rv(l,Av),d=c;return fe()(i)&&(d=c&&c.length>0?i(this.props):i(u)),a<=0||o<=0||!d||!d.length?null:t.createElement(ct,{className:W("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Of.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,n,r){var a=W(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,Mv(Mv({},n),{},{className:a})):fe()(e)?e(Mv(Mv({},n),{},{className:a})):t.createElement(di,Iv({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&Lv(r.prototype,a),o&&Lv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jv(r.key),r)}}function Kv(e,t,n){return t=Qv(t),function(e,t){if(t&&("object"===qv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yv()?Reflect.construct(t,n||[],Qv(e).constructor):t.apply(e,n))}function Yv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yv=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qv(e)}function Xv(e,t){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xv(e,t)}function $v(e,t,n){return(t=Jv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e){var t=function(e,t){if("object"!=qv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qv(t)?t:t+""}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(this,arguments)}function eb(e){var n=e.xAxisId,r=Hm(),a=qm(),o=zm(n);return null==o?null:t.createElement(Hv,Zv({},o,{className:W("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Oh(e,!0)}}))}zv(Hv,"displayName","CartesianAxis"),zv(Hv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tb=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Kv(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xv(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(eb,this.props)}}])&&Gv(r.prototype,a),o&&Gv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);function nb(e){return nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(e)}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cb(r.key),r)}}function ab(e,t,n){return t=ib(t),function(e,t){if(t&&("object"===nb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ob()?Reflect.construct(t,n||[],ib(e).constructor):t.apply(e,n))}function ob(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ob=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ib(e)}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sb(e,t)}function lb(e,t,n){return(t=cb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cb(e){var t=function(e,t){if("object"!=nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nb(t)?t:t+""}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}$v(tb,"displayName","XAxis"),$v(tb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var db=function(e){var n=e.yAxisId,r=Hm(),a=qm(),o=Vm(n);return null==o?null:t.createElement(Hv,ub({},o,{className:W("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Oh(e,!0)}}))},hb=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ab(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(db,this.props)}}])&&rb(r.prototype,a),o&&rb(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(t.Component);lb(hb,"displayName","YAxis"),lb(hb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var fb=rv({chartName:"LineChart",GraphicalChild:xv,axisComponents:[{axisType:"xAxis",AxisComp:tb},{axisType:"yAxis",AxisComp:hb}],formatAxisMap:hm}),pb=["x1","y1","x2","y2","key"],mb=["offset"];function gb(e){return gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(e)}function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach(function(t){bb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=gb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(this,arguments)}function wb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Sb=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,o=e.y,i=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _b(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(fe()(e))r=e(n);else{var a=n.x1,o=n.y1,i=n.x2,s=n.y2,l=n.key,c=wb(n,pb),u=Be(c,!1),d=(u.offset,wb(u,mb));r=t.createElement("line",xb({},d,{x1:a,y1:o,x2:i,y2:s,fill:"none",key:l}))}return r}function kb(e){var n=e.x,r=e.width,a=e.horizontal,o=void 0===a||a,i=e.horizontalPoints;if(!o||!i||!i.length)return null;var s=i.map(function(t,a){var i=vb(vb({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return _b(o,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function jb(e){var n=e.y,r=e.height,a=e.vertical,o=void 0===a||a,i=e.verticalPoints;if(!o||!i||!i.length)return null;var s=i.map(function(t,a){var i=vb(vb({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return _b(o,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Nb(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,o=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:i,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Pb(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,o=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?i+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Ob=function(e,t){var n=e.xAxis,r=e.width,a=e.height,o=e.offset;return Ph(Ov(vb(vb(vb({},Hv.defaultProps),n),{},{ticks:Oh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,t)},Eb=function(e,t){var n=e.yAxis,r=e.width,a=e.height,o=e.offset;return Ph(Ov(vb(vb(vb({},Hv.defaultProps),n),{},{ticks:Oh(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,t)},Tb={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ab(e){var n,r,a,o,i,s,l=Hm(),c=qm(),u=(0,t.useContext)(Lm),d=vb(vb({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:Tb.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:Tb.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:Tb.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:Tb.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:Tb.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:Tb.verticalFill,x:ne(e.x)?e.x:u.left,y:ne(e.y)?e.y:u.top,width:ne(e.width)?e.width:u.width,height:ne(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,t.useContext)(Dm);return se(e)}(),x=function(){var e=(0,t.useContext)(Mm);return Am()(e,function(e){return Df()(e.domain,Number.isFinite)})||se(e)}();if(!ne(p)||p<=0||!ne(m)||m<=0||!ne(h)||h!==+h||!ne(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||Ob,S=d.horizontalCoordinatesGenerator||Eb,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&fe()(S)){var j=y&&y.length,N=S({yAxis:x?vb(vb({},x),{},{ticks:j?y:x.ticks}):void 0,width:l,height:c,offset:u},!!j||g);de(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gb(N),"]")),Array.isArray(N)&&(_=N)}if((!k||!k.length)&&fe()(w)){var P=v&&v.length,O=w({xAxis:b?vb(vb({},b),{},{ticks:P?v:b.ticks}):void 0,width:l,height:c,offset:u},!!P||g);de(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gb(O),"]")),Array.isArray(O)&&(k=O)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Sb,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(kb,xb({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:x})),t.createElement(jb,xb({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),t.createElement(Nb,xb({},d,{horizontalPoints:_})),t.createElement(Pb,xb({},d,{verticalPoints:k})))}Ab.displayName="CartesianGrid";const Cb=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,nflState:o,getTeamName:i}=L(),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)({}),[m,g]=(0,t.useState)([]),y=["#8884d8","#82ca9d","#ffc658","#f5222d","#fa8c16","#a0d911","#52c41a","#1890ff","#2f54eb","#722ed1","#eb2f96","#faad14","#13c2c2","#eb2f96","#fadb14","#52c41a"];(0,t.useEffect)(()=>{if(e||n||!r||!r.matchupsBySeason||0===Object.keys(r.matchupsBySeason).length)return l([]),u([]),h([]),p({}),void g([]);if("function"!==typeof i)return console.error("LeagueHistory: getDisplayTeamNameFromContext is not a function. Cannot process data."),l([]),u([]),h([]),p({}),void g([]);const{seasonalMetrics:t,careerDPRData:a}=A(r,0,i,o);console.log("LeagueHistory: calculatedCareerDPRs after initial calculation:",a);const s=Object.keys(r.matchupsBySeason).map(Number).sort((e,t)=>e-t),c={};a.forEach(e=>{const t=e.ownerId,n=i(t,null);n&&!n.startsWith("Unknown Team (ID:")?c[n]={totalWins:e.wins,totalLosses:e.losses,totalTies:e.ties,totalPointsFor:e.pointsFor,totalGames:e.totalGames,careerDPR:e.dpr,seasonsPlayed:new Set,awards:{championships:e.championships||0,runnerUps:e.runnerUps||0,thirdPlace:e.thirdPlaces||0,firstPoints:e.pointsChampionships||0,secondPoints:e.pointsRunnerUps||0,thirdPoints:e.thirdPlacePoints||0},ownerId:t}:console.warn("LeagueHistory: Skipping career stats for ownerId ".concat(t," due to unresolved team name."))}),console.log("LeagueHistory: teamOverallStats after population:",c),Object.keys(r.rostersBySeason).forEach(e=>{const t=r.rostersBySeason[e];t&&t.forEach(t=>{const n=t.owner_id,r=i(n,null);c[r]&&c[r].seasonsPlayed.add(parseInt(e))})});const d={};s.forEach(e=>{var n;const a=t[e],o=(r.winnersBracketBySeason[e],null===(n=r.losersBracketBySeason)||void 0===n||n[e],r.rostersBySeason[e]||[]);new Map(o.map(e=>[String(e.roster_id),String(e.owner_id)]));d[e]={champion:"N/A",secondPlace:"N/A",thirdPlace:"N/A",pointsChamp:"N/A",pointsSecond:"N/A",pointsThird:"N/A"};let s=!1;if(a&&Object.values(a).forEach(t=>{t.isChampion&&(d[e].champion=i(t.ownerId,e),s=!0),t.isRunnerUp&&(d[e].secondPlace=i(t.ownerId,e),s=!0),t.isThirdPlace&&(d[e].thirdPlace=i(t.ownerId,e),s=!0)}),a){Object.values(a).map(e=>({ownerId:e.ownerId,points:e.pointsFor,isPointsChampion:e.isPointsChampion,isPointsRunnerUp:e.isPointsRunnerUp,isThirdPlacePoints:e.isThirdPlacePoints})).forEach(t=>{t.isPointsChampion&&(d[e].pointsChamp=i(t.ownerId,e)),t.isPointsRunnerUp&&(d[e].pointsSecond=i(t.ownerId,e)),t.isThirdPlacePoints&&(d[e].pointsThird=i(t.ownerId,e))})}else console.warn("LeagueHistory: No seasonal metrics found for year ".concat(e,". Cannot determine points awards."));const l=d[e];"N/A"!==l.champion||"N/A"!==l.secondPlace||"N/A"!==l.thirdPlace||"N/A"!==l.pointsChamp||"N/A"!==l.pointsSecond||"N/A"!==l.pointsThird||delete d[e]}),console.log("LeagueHistory: newSeasonAwardsSummary after processing:",d);const f=Object.keys(c).map(e=>{const t=c[e];if(0===t.seasonsPlayed.size)return null;const n=t.totalWins+t.totalLosses+t.totalTies,r=n>0?(t.totalWins+.5*t.totalTies)/n:0,o=Array.from(t.seasonsPlayed).sort((e,t)=>e-t),i=o.length>0?o[0]:"",s=o.length>0?o[o.length-1]:"",l=t.seasonsPlayed.size;let u=(0,C.jsx)(C.Fragment,{children:l>0?i===s?(0,C.jsxs)(C.Fragment,{children:[i," ",(0,C.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l,")"]})]}):(0,C.jsxs)(C.Fragment,{children:[i,"-",s," ",(0,C.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l,")"]})]}):""});const d=a.find(e=>e.ownerId===t.ownerId),h=d?{championships:d.championships||0,runnerUps:d.runnerUps||0,thirdPlace:d.thirdPlaces||0,firstPoints:d.pointsChampionships||0,secondPoints:d.pointsRunnerUps||0,thirdPoints:d.thirdPlacePoints||0}:{championships:0,runnerUps:0,thirdPlace:0,firstPoints:0,secondPoints:0,thirdPoints:0};return{team:e,seasons:u,totalDPR:t.careerDPR,record:"".concat(t.totalWins,"-").concat(t.totalLosses,"-").concat(t.totalTies),totalWins:t.totalWins,winPercentage:r,awards:h,ownerId:t.ownerId}}).filter(Boolean).sort((e,t)=>t.winPercentage-e.winPercentage);l(f);const m=[],y=Object.keys(r.matchupsBySeason).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t),v=Array.from(new Set(a.map(e=>e.ownerId))),b=v.map(e=>i(e,null)).sort();h(b);const x={};y.forEach(e=>{const t={matchupsBySeason:{},rostersBySeason:{},leaguesMetadataBySeason:{},winnersBracketBySeason:{},losersBracketBySeason:{},usersBySeason:{}};Object.keys(r.matchupsBySeason).forEach(n=>{parseInt(n)<=e&&(t.matchupsBySeason[n]=r.matchupsBySeason[n],t.rostersBySeason[n]=r.rostersBySeason[n],t.leaguesMetadataBySeason[n]=r.leaguesMetadataBySeason[n],t.winnersBracketBySeason[n]=r.winnersBracketBySeason[n],t.losersBracketBySeason[n]=r.losersBracketBySeason[n],t.usersBySeason[n]=r.usersBySeason[n])});const{careerDPRData:n}=A(t,0,i,o);v.forEach(e=>{var t;const r=null===(t=n.find(t=>t.ownerId===e))||void 0===t?void 0:t.dpr;x[e]=void 0!==r?r:x[e]||0});const a={year:e};v.forEach(e=>{const t=i(e,null);a[t]=x[e]}),m.push(a)}),u(m),p(d),g(Object.keys(d).map(Number).sort((e,t)=>t-e))},[r,a,o,i,e,n]);const v=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return".000%"},b=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),x=e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e=[...n].sort((e,t)=>t.value-e.value);return(0,C.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded-md shadow-lg text-sm",children:[(0,C.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:"Year: ".concat(r)}),e.map((e,t)=>(0,C.jsx)("p",{style:{color:e.color},children:"".concat(e.name,": ").concat(b(e.value)," DPR")},"item-".concat(t)))]})}return null},w=c.flatMap(e=>d.map(t=>"number"===typeof e[t]?e[t]:null).filter(e=>null!==e)),S=w.length>0?Math.min(...w):.5,_=w.length>0?Math.max(...w):1.5,k=Math.max(0,S-.05),j=_+.05,N=[];for(let t=Math.floor(20*k)/20;t<=j;t+=.05)N.push(Number(t.toFixed(2)));return(0,C.jsxs)("div",{className:"w-full max-w-full mt-8 mx-auto",children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"League History & Awards"}),e?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"Loading league history data..."}):n?(0,C.jsx)("p",{className:"text-center text-red-500 font-semibold",children:n.message||String(n)}):0===s.length?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No historical matchup data found to display league history. Please check your Sleeper API configuration."}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"All-Time Standings & Awards (Sorted by Win %)"}),(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Rank"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Team"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Seasons"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Career DPR"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Record"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Win %"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Awards"})]})}),(0,C.jsx)("tbody",{children:s.map((e,t)=>(console.log("LeagueHistory: All-Time Standings - Team: ".concat(e.team,", OwnerId: ").concat(e.ownerId,", Resolved Name: ").concat(i(e.ownerId,null))),(0,C.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center font-semibold whitespace-nowrap",children:t+1}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold whitespace-nowrap",children:e.team}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:e.seasons}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:b(e.totalDPR)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:e.record}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:v(e.winPercentage)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:(0,C.jsxs)("div",{className:"flex justify-center items-center gap-2 whitespace-nowrap",children:[e.awards.championships>0&&(0,C.jsxs)("span",{title:"Sween Bowl Championship",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-lg"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.championships,"x"]})]}),e.awards.runnerUps>0&&(0,C.jsxs)("span",{title:"Sween Bowl Runner-Up",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-gray-400 text-lg"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.runnerUps,"x"]})]}),e.awards.thirdPlace>0&&(0,C.jsxs)("span",{title:"3rd Place Finish",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-amber-800 text-lg"})," ",(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPlace,"x"]})]}),e.awards.firstPoints>0&&(0,C.jsxs)("span",{title:"1st Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-yellow-500 text-lg"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.firstPoints,"x"]})]}),e.awards.secondPoints>0&&(0,C.jsxs)("span",{title:"2nd Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-gray-400 text-lg"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.secondPoints,"x"]})]}),e.awards.thirdPoints>0&&(0,C.jsxs)("span",{title:"3rd Place - Points",className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-amber-800 text-lg"})," ",(0,C.jsxs)("span",{className:"text-xs font-medium",children:[e.awards.thirdPoints,"x"]})]})]})})]},e.team)))})]})})]}),(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season-by-Season Champions & Awards"}),Object.keys(f).length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:"Year"}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-yellow-500 mr-1"})," Champion"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-gray-400 mr-1"})," 2nd Place"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-amber-800 mr-1"})," 3rd Place"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-yellow-500 mr-1"})," Points Champ"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-gray-400 mr-1"})," Points 2nd"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-amber-800 mr-1"})," Points 3rd"]})]})}),(0,C.jsx)("tbody",{children:m.map((e,t)=>{const n=f[e];return console.log("LeagueHistory: Season Awards - Year: ".concat(e,", Champion: ").concat(n.champion,", PointsChamp: ").concat(n.pointsChamp)),(0,C.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 font-semibold text-center whitespace-nowrap",children:e}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.champion}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.secondPlace}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center whitespace-nowrap",children:n.thirdPlace}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:n.pointsChamp}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:n.pointsSecond}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:n.pointsThird})]},e)})})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No season-by-season award data available."})]}),(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Total DPR Progression Over Seasons"}),c.length>0?(0,C.jsxs)(Qe,{width:"100%",aspect:1.5,children:[" ",(0,C.jsxs)(fb,{data:c,margin:{top:20,right:10,left:10,bottom:5},children:[(0,C.jsx)(Ab,{strokeDasharray:"3 3"}),(0,C.jsx)(tb,{dataKey:"year",label:{value:"Season",position:"insideBottom",offset:0}}),(0,C.jsx)(hb,{label:{value:"Adjusted DPR",angle:-90,position:"insideLeft",offset:0},domain:[k,j],tickFormatter:e=>e.toFixed(2),ticks:N,allowDataOverflow:!0,padding:{top:10,bottom:10}}),(0,C.jsx)($t,{content:(0,C.jsx)(x,{})}),(0,C.jsx)(Pr,{}),d.map((e,t)=>(0,C.jsx)(xv,{type:"monotone",dataKey:e,stroke:y[t%y.length],activeDot:{r:8},dot:{r:4},strokeWidth:2},e))]})]}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No total DPR progression data available for charting."})]})]})]})},Ib=()=>{var e;const{historicalData:n,allDraftHistory:r,getTeamName:a,loading:o,error:i}=L(),[s,l]=(0,t.useState)({}),[c,u]=(0,t.useState)(!0),d={highestDPR:{decimals:3,type:"decimal"},lowestDPR:{decimals:3,type:"decimal"},mostWins:{decimals:0,type:"count"},mostLosses:{decimals:0,type:"count"},bestWinPct:{decimals:3,type:"percentage"},bestAllPlayWinPct:{decimals:3,type:"percentage"},mostWeeklyHighScores:{decimals:0,type:"count"},mostWeeklyTop2Scores:{decimals:0,type:"count"},mostWinningSeasons:{decimals:0,type:"count"},mostLosingSeasons:{decimals:0,type:"count"},mostBlowoutWins:{decimals:0,type:"count"},mostBlowoutLosses:{decimals:0,type:"count"},mostSlimWins:{decimals:0,type:"count"},mostSlimLosses:{decimals:0,type:"count"},mostTotalPoints:{decimals:2,type:"points"},mostPointsAgainst:{decimals:2,type:"points"}},h=(e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t>e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==-1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))};if((0,t.useEffect)(()=>{if(u(!0),o||i||!n||!n.matchupsBySeason||0===Object.keys(n.matchupsBySeason).length)return l({}),void u(!1);try{const{seasonalMetrics:e,careerDPRData:t}=A(n,0,a);let r={value:-1/0,teams:[],key:"highestDPR"},o={value:1/0,teams:[],key:"lowestDPR"},i={value:-1/0,teams:[],key:"mostWins"},s={value:-1/0,teams:[],key:"mostLosses"},c={value:-1/0,teams:[],key:"bestWinPct"},u={value:-1/0,teams:[],key:"bestAllPlayWinPct"},d={value:-1/0,teams:[],key:"mostWeeklyHighScores"},f={value:-1/0,teams:[],key:"mostWeeklyTop2Scores"},p={value:-1/0,teams:[],key:"mostWinningSeasons"},m={value:-1/0,teams:[],key:"mostLosingSeasons"},g={value:-1/0,teams:[],key:"mostBlowoutWins"},y={value:-1/0,teams:[],key:"mostBlowoutLosses"},v={value:-1/0,teams:[],key:"mostSlimWins"},b={value:-1/0,teams:[],key:"mostSlimLosses"},x={value:-1/0,teams:[],key:"mostTotalPoints"},w={value:-1/0,teams:[],key:"mostPointsAgainst"};t.forEach(t=>{const a=t.teamName,l=t.ownerId;0!==t.dpr&&(h(r,t.dpr,{name:a,value:t.dpr,ownerId:l}),((e,t,r)=>{if(!r.ownerId&&r.rosterId&&n.rostersBySeason){const e=Object.values(n.rostersBySeason).flat().find(e=>e.roster_id===r.rosterId);e&&(r.ownerId=e.owner_id)}t<e.value?(e.value=t,e.teams=[r]):t===e.value&&t!==1/0&&(e.teams.some(e=>e.ownerId===r.ownerId&&e.year===r.year)||e.teams.push(r))})(o,t.dpr,{name:a,value:t.dpr,ownerId:l})),t.totalGames>0&&(h(i,t.wins,{name:a,value:t.wins,ownerId:l}),h(s,t.losses,{name:a,value:t.losses,ownerId:l}),h(c,t.winPercentage,{name:a,value:t.winPercentage,ownerId:l}),h(x,t.pointsFor,{name:a,value:t.pointsFor,ownerId:l}),h(w,t.pointsAgainst,{name:a,value:t.pointsAgainst,ownerId:l}),h(g,t.blowoutWins,{name:a,value:t.blowoutWins,ownerId:l}),h(y,t.blowoutLosses,{name:a,value:t.blowoutLosses,ownerId:l}),h(v,t.slimWins,{name:a,value:t.slimWins,ownerId:l}),h(b,t.slimLosses,{name:a,value:t.slimLosses,ownerId:l}),h(f,t.weeklyTop2ScoresCount,{name:a,value:t.weeklyTop2ScoresCount,ownerId:l}),h(d,t.topScoreWeeksCount,{name:a,value:t.topScoreWeeksCount,ownerId:l}),h(u,t.allPlayWinPercentage,{name:a,value:t.allPlayWinPercentage,ownerId:l}));let S=0,_=0;Object.keys(e).forEach(t=>{const n=Object.values(e[t]).find(e=>e.ownerId===l);n&&n.totalGames>0&&(n.winPercentage>.5?S++:n.winPercentage<.5&&_++)}),h(p,S,{name:a,value:S,ownerId:l}),h(m,_,{name:a,value:_,ownerId:l})}),l({highestDPR:r,lowestDPR:o,mostWins:i,mostLosses:s,bestWinPct:c,bestAllPlayWinPct:u,mostWeeklyHighScores:d,mostWeeklyTop2Scores:f,mostWinningSeasons:p,mostLosingSeasons:m,mostBlowoutWins:g,mostBlowoutLosses:y,mostSlimWins:v,mostSlimLosses:b,mostTotalPoints:x,mostPointsAgainst:w})}catch(i){console.error("Error calculating league records:",i),l({})}finally{u(!1)}},[n,r,a,o,i]),c)return(0,C.jsx)("div",{className:"text-center py-8",children:"Loading all-time league records..."});if(0===Object.keys(s).length||(null===(e=s.highestDPR)||void 0===e?void 0:e.value)===-1/0)return(0,C.jsx)("div",{className:"text-center py-8",children:"No historical data available to calculate all-time records."});const f=e=>{if(e.ownerId)return a(e.ownerId,null);if(e.rosterId&&e.year){var t,r;const o=null===(t=n.rostersBySeason)||void 0===t||null===(r=t[e.year])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.rosterId));if(null!==o&&void 0!==o&&o.owner_id)return a(o.owner_id,null)}return"Unknown Team"};return(0,C.jsxs)("div",{className:"p-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center text-white text-xl font-bold",children:"\ud83c\udf0d"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"All-Time League Records"}),(0,C.jsx)("p",{className:"text-gray-600 mt-1",children:"Career-spanning achievements and historical league data."})]})]})}),(0,C.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83c\udfc6 Record"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcca Value"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83d\udc51 Holder(s)"})})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-100",children:Object.entries(s).map((e,t)=>{let[n,r]=e;const a=d[r.key]||{decimals:2,type:"default"},o=()=>{let e=r.key.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};return r&&r.value!==-1/0&&r.value!==1/0&&r.teams&&0!==r.teams.length?(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex items-center gap-3",children:(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:o()})})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-100 to-teal-100 border border-green-200",children:(0,C.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:"percentage"===a.type?(100*r.value).toLocaleString("en-US",{minimumFractionDigits:a.decimals,maximumFractionDigits:a.decimals})+"%":r.value.toLocaleString("en-US",{minimumFractionDigits:a.decimals,maximumFractionDigits:a.decimals})})})}),(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex flex-col space-y-2",children:r.teams.map((e,t)=>(0,C.jsx)("div",{className:"flex items-center gap-3 bg-gray-100 rounded-lg p-2 border border-gray-200",children:(0,C.jsx)("span",{className:"font-medium text-gray-800 text-sm",children:f(e)})},t))})})]},n):(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex items-center gap-3",children:(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:o()})})}),(0,C.jsx)("td",{colSpan:"2",className:"py-4 px-6 text-center",children:(0,C.jsx)("span",{className:"text-gray-500 text-sm italic",children:"No data available"})})]},n)})})]})})})]})},Db=()=>{const{processedSeasonalRecords:e,getTeamName:n,loading:r,error:a}=L(),[o,i]=(0,t.useState)(()=>({mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},bestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},worstLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"},highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"}}));if((0,t.useEffect)(()=>{if(r||a||!e||0===Object.keys(e).length)return void i({highestDPRSeason:{value:-1/0,entries:[],key:"highestDPR"},lowestDPRSeason:{value:1/0,entries:[],key:"lowestDPR"},mostWinsSeason:{value:-1/0,entries:[],key:"wins"},mostLossesSeason:{value:-1/0,entries:[],key:"losses"},bestWinPctSeason:{value:-1/0,entries:[],key:"winPercentage"},bestAllPlayWinPctSeason:{value:-1/0,entries:[],key:"allPlayWinPercentage"},mostWeeklyHighScoresSeason:{value:-1/0,entries:[],key:"topScoreWeeksCount"},mostWeeklyTop2ScoresSeason:{value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},mostBlowoutWinsSeason:{value:-1/0,entries:[],key:"blowoutWins"},mostBlowoutLossesSeason:{value:-1/0,entries:[],key:"blowoutLosses"},mostSlimWinsSeason:{value:-1/0,entries:[],key:"slimWins"},mostSlimLossesSeason:{value:-1/0,entries:[],key:"slimLosses"},mostPointsSeason:{value:-1/0,entries:[],key:"pointsFor"},fewestPointsSeason:{value:1/0,entries:[],key:"pointsFor"},highestLuckRatingSeason:{value:-1/0,entries:[],key:"luckRating"},lowestLuckRatingSeason:{value:1/0,entries:[],key:"luckRating"}});const t=(new Date).getFullYear().toString(),o=Object.keys(e).reduce((n,r)=>(r!==t&&(n[r]=e[r]),n),{});let s={value:-1/0,entries:[],key:"highestDPR"},c={value:1/0,entries:[],key:"lowestDPR"},u={value:-1/0,entries:[],key:"wins"},d={value:-1/0,entries:[],key:"losses"},h={value:-1/0,entries:[],key:"winPercentage"},f={value:-1/0,entries:[],key:"allPlayWinPercentage"},p={value:-1/0,entries:[],key:"topScoreWeeksCount"},m={value:-1/0,entries:[],key:"weeklyTop2ScoresCount"},g={value:-1/0,entries:[],key:"blowoutWins"},y={value:-1/0,entries:[],key:"blowoutLosses"},v={value:-1/0,entries:[],key:"slimWins"},b={value:1/0,entries:[],key:"slimLosses"},x={value:-1/0,entries:[],key:"pointsFor"},w={value:1/0,entries:[],key:"pointsFor"},S={value:-1/0,entries:[],key:"luckRating"},_={value:1/0,entries:[],key:"luckRating"};const k=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.rosterId===n.rosterId&&e.year===n.year)||e.entries.push(n)))};Object.keys(o).forEach(e=>{const t=o[e];if(!t||"object"!==typeof t)return;Object.values(t).forEach(t=>{if(!t||"object"!==typeof t||!t.rosterId||!t.ownerId)return;if(0===t.totalGames)return;const r={teamName:n(t.ownerId,e),year:e,ownerId:t.ownerId,rosterId:t.rosterId};"number"===typeof t.wins&&k(u,t.wins,l(l({},r),{},{value:t.wins})),"number"===typeof t.losses&&k(d,t.losses,l(l({},r),{},{value:t.losses})),"number"===typeof t.winPercentage&&k(h,t.winPercentage,l(l({},r),{},{value:t.winPercentage})),"number"===typeof t.allPlayWinPercentage&&k(f,t.allPlayWinPercentage,l(l({},r),{},{value:t.allPlayWinPercentage})),"number"===typeof t.topScoreWeeksCount&&k(p,t.topScoreWeeksCount,l(l({},r),{},{value:t.topScoreWeeksCount})),"number"===typeof t.weeklyTop2ScoresCount&&k(m,t.weeklyTop2ScoresCount,l(l({},r),{},{value:t.weeklyTop2ScoresCount})),"number"===typeof t.blowoutWins&&k(g,t.blowoutWins,l(l({},r),{},{value:t.blowoutWins})),"number"===typeof t.blowoutLosses&&k(y,t.blowoutLosses,l(l({},r),{},{value:t.blowoutLosses})),"number"===typeof t.slimWins&&k(v,t.slimWins,l(l({},r),{},{value:t.slimWins})),"number"===typeof t.slimLosses&&k(b,t.slimLosses,l(l({},r),{},{value:t.slimLosses})),"number"===typeof t.pointsFor&&(k(x,t.pointsFor,l(l({},r),{},{value:t.pointsFor})),k(w,t.pointsFor,l(l({},r),{},{value:t.pointsFor}),!0)),"number"!==typeof t.luckRating||isNaN(t.luckRating)||(k(S,t.luckRating,l(l({},r),{},{value:t.luckRating})),k(_,t.luckRating,l(l({},r),{},{value:t.luckRating}),!0)),"number"!==typeof t.adjustedDPR||isNaN(t.adjustedDPR)||(k(s,t.adjustedDPR,l(l({},r),{},{value:t.adjustedDPR})),k(c,t.adjustedDPR,l(l({},r),{},{value:t.adjustedDPR}),!0))})});const j=e=>{e&&e.entries.length>1&&e.entries.sort((e,t)=>e.year!==t.year?parseInt(e.year)-parseInt(t.year):(e.teamName||"").localeCompare(t.teamName||""))};j(u),j(d),j(h),j(f),j(p),j(m),j(g),j(y),j(v),j(b),j(x),j(w),j(S),j(_),j(s),j(c),i({mostWinsSeason:u,mostLossesSeason:d,bestWinPctSeason:h,bestAllPlayWinPctSeason:f,mostWeeklyHighScoresSeason:p,mostWeeklyTop2ScoresSeason:m,mostBlowoutWinsSeason:g,mostBlowoutLossesSeason:y,mostSlimWinsSeason:v,mostSlimLossesSeason:b,mostPointsSeason:x,fewestPointsSeason:w,bestLuckRatingSeason:S,worstLuckRatingSeason:_,highestDPRSeason:s,lowestDPRSeason:c})},[e,n,r,a]),r)return(0,C.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading seasonal records..."});if(a)return(0,C.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading seasonal data: ",a.message]});if(!e||0===Object.keys(e).length)return(0,C.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No seasonal data available to display."});const s=[o.mostWinsSeason,o.mostLossesSeason,o.bestWinPctSeason,o.bestAllPlayWinPctSeason,o.mostWeeklyHighScoresSeason,o.mostWeeklyTop2ScoresSeason,o.mostBlowoutWinsSeason,o.mostBlowoutLossesSeason,o.mostSlimWinsSeason,o.mostSlimLossesSeason,o.mostPointsSeason,o.fewestPointsSeason,o.bestLuckRatingSeason,o.worstLuckRatingSeason,o.highestDPRSeason,o.lowestDPRSeason].filter(e=>e&&e.value!==-1/0&&e.value!==1/0&&e.entries&&e.entries.length>0);return(0,C.jsxs)("div",{className:"p-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-xl font-bold",children:"\ud83d\udcc5"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"Season Records Highlights"}),(0,C.jsxs)("p",{className:"text-gray-600 mt-1",children:["Outstanding records achieved in a single season \u2022 Excludes current ",(new Date).getFullYear()," season"]})]})]})}),(0,C.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83c\udfc6 Record Achievement"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcca Value"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udc51 Team (Season)"})})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-100",children:s.map((e,t)=>e.entries.map((r,a)=>{const o=r.teamName||n(r.ownerId,r.year);let i="";0===a&&"number"===typeof r.value&&(i=["wins","losses","topScoreWeeksCount","weeklyTop2ScoresCount","blowoutWins","blowoutLosses","slimWins","slimLosses"].includes(e.key)?Math.round(r.value).toLocaleString("en-US",{maximumFractionDigits:0}):["luckRating","highestDPR","lowestDPR"].includes(e.key)?r.value.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):"pointsFor"===e.key?r.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"winPercentage"===e.key||"allPlayWinPercentage"===e.key?(100*r.value).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})+"%":r.value);const s=0===a?((e,t)=>{if("luckRating"===e)return t.value>0?"Best Luck Rating":"Worst Luck Rating";if("pointsFor"===e)return t.value>0?"Most Points For":"Fewest Points For";if("highestDPR"===e)return"Highest Season DPR";if("lowestDPR"===e)return"Lowest Season DPR";const n=e.replace(/Season$/,"").replace(/([A-Z])/g," $1").trim();return n.charAt(0).toUpperCase()+n.slice(1)})(e.key,e):"";return(0,C.jsxs)("tr",{className:"\n                                                transition-all duration-200 hover:bg-blue-50 hover:shadow-sm\n                                                ".concat(t%2===0?"bg-white":"bg-gray-25","\n                                                ").concat(a===e.entries.length-1?"border-b-2 border-gray-200":"","\n                                            "),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:0===a?(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:s})]}):(0,C.jsx)("div",{className:"ml-11",children:(0,C.jsx)("span",{className:"text-gray-400 text-sm",children:"\u2022 Tied Record"})})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:0===a?(0,C.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-100 to-blue-100 border border-green-200",children:(0,C.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:i})}):""}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,C.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:o}),r.year&&(0,C.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:r.year})]})})]},"".concat(e.key,"-").concat(o,"-").concat(a))}))})]})})})]})},Mb=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:o,error:i}=L(),[s,c]=(0,t.useState)({});(0,t.useEffect)(()=>{if(o||i||!n||0===n.length)return void c({});const e={},t={};n.forEach(n=>{var a,o,i,s,l,c;if(!n||!n.matchup_id||!n.team1_roster_id||void 0===n.team1_score||!n.team2_roster_id||void 0===n.team2_score||void 0===n.season||void 0===n.week)return void console.warn("StreaksRecords: Skipping invalid or incomplete matchup. Missing data:",{matchup_id:null===n||void 0===n?void 0:n.matchup_id,team1_roster_id:null===n||void 0===n?void 0:n.team1_roster_id,team1_score:null===n||void 0===n?void 0:n.team1_score,team2_roster_id:null===n||void 0===n?void 0:n.team2_roster_id,team2_score:null===n||void 0===n?void 0:n.team2_score,season:null===n||void 0===n?void 0:n.season,week:null===n||void 0===n?void 0:n.week,fullMatch:n});const u=parseInt(n.season),d=parseInt(n.week),h=String(n.team1_roster_id),f=String(n.team2_roster_id),p=parseFloat(n.team1_score),m=parseFloat(n.team2_score);if(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(m))return void console.warn("StreaksRecords: Skipping matchup due to invalid numerical data. Match:",n);const g=null===(a=r.rostersBySeason)||void 0===a||null===(o=a[u])||void 0===o||null===(i=o.find(e=>String(e.roster_id)===h))||void 0===i?void 0:i.owner_id,y=null===(s=r.rostersBySeason)||void 0===s||null===(l=s[u])||void 0===l||null===(c=l.find(e=>String(e.roster_id)===f))||void 0===c?void 0:c.owner_id;if(!g||!y)return void console.warn("StreaksRecords: Skipping matchup due to missing owner ID for year ".concat(u,". Team1Roster: ").concat(h,", Team2Roster: ").concat(f));if(0===p&&0===m&&u>=(new Date).getFullYear())return;const v=p===m;e[g]||(e[g]=[]),e[y]||(e[y]=[]),e[g].push({year:u,week:d,isWin:p>m,isLoss:p<m,isTie:v,score:p,opponentScore:m,rosterId:h}),e[y].push({year:u,week:d,isWin:m>p,isLoss:m<p,isTie:v,score:m,opponentScore:p,rosterId:f}),t[u]||(t[u]={}),t[u][d]||(t[u][d]=[]),t[u][d].push({rosterId:h,score:p}),t[u][d].push({rosterId:f,score:m})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week)});const s={};Object.keys(t).forEach(e=>{s[e]={},Object.keys(t[e]).forEach(n=>{const r=[...t[e][n]].sort((e,t)=>t.score-e.score);s[e][n]={highestScore:r.length>0?r[0].score:-1/0,lowestScore:r.length>0?r[r.length-1].score:1/0,top3Scores:r.slice(0,Math.min(3,r.length)).map(e=>e.score)}})});const u={longestWinStreak:{value:0,entries:[]},longestLosingStreak:{value:0,entries:[]},longestConsecutiveHighestScoreWeeks:{value:0,entries:[]},longestConsecutiveLowestScoreWeeks:{value:0,entries:[]},longestConsecutiveTop3Weeks:{value:0,entries:[]}},d=(e,t,n,r,a)=>{const o=a(r,n.startYear),i=l(l({},n),{},{team:o});if(t>e.value)e.value=t,e.entries=[i];else if(t===e.value&&t>0){e.entries.some(e=>e.team===i.team&&e.startYear===i.startYear&&e.startWeek===i.startWeek&&e.endYear===i.endYear&&e.endWeek===i.endWeek)||e.entries.push(i)}};Object.keys(e).forEach(n=>{const r=e[n];let o=0,i=0,l=null,c=null,h=null,f=null;for(let e=0;e<r.length;e++){const t=r[e];t.isWin?(0===o&&(l=t.year,c=t.week),o++,i>0&&d(u.longestLosingStreak,i,{streak:i,startYear:h,startWeek:f,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:f},n,a),i=0,h=null,f=null):t.isLoss?(0===i&&(h=t.year,f=t.week),i++,o>0&&d(u.longestWinStreak,o,{streak:o,startYear:l,startWeek:c,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:c},n,a),o=0,l=null,c=null):t.isTie&&(o>0&&d(u.longestWinStreak,o,{streak:o,startYear:l,startWeek:c,endYear:r[e-1]?r[e-1].year:l,endWeek:r[e-1]?r[e-1].week:l},n,a),o=0,l=null,c=null,i>0&&d(u.longestLosingStreak,i,{streak:i,startYear:h,startWeek:f,endYear:r[e-1]?r[e-1].year:h,endWeek:r[e-1]?r[e-1].week:h},n,a),i=0,h=null,f=null)}o>0&&d(u.longestWinStreak,o,{streak:o,startYear:l,startWeek:c,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),i>0&&d(u.longestLosingStreak,i,{streak:i,startYear:h,startWeek:f,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a);let p=0,m=0,g=0,y=null,v=null,b=null,x=null,w=null,S=null;for(let e=0;e<r.length;e++){var _,k,j;const o=r[e],i=null===(_=t[o.year])||void 0===_?void 0:_[o.week],l=null===i||void 0===i||null===(k=i.find(e=>e.rosterId===o.rosterId))||void 0===k?void 0:k.score;if(void 0===l||null===l){p>0&&d(u.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:y,startWeek:v,endYear:r[e-1]?r[e-1].year:y,endWeek:r[e-1]?r[e-1].week:y},n,a),p=0,y=null,v=null,m>0&&d(u.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),m=0,b=null,x=null,g>0&&d(u.longestConsecutiveTop3Weeks,g,{streak:g,startYear:w,startWeek:S,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,a),g=0,w=null,S=null;continue}const c=null===(j=s[o.year])||void 0===j?void 0:j[o.week];l===c.highestScore?(0===p&&(y=o.year,v=o.week),p++):(p>0&&d(u.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:y,startWeek:v,endYear:r[e-1]?r[e-1].year:y,endWeek:r[e-1]?r[e-1].week:y},n,a),p=0,y=null,v=null),l===c.lowestScore?(0===m&&(b=o.year,x=o.week),m++):(m>0&&d(u.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[e-1]?r[e-1].year:b,endWeek:r[e-1]?r[e-1].week:b},n,a),m=0,b=null,x=null),c.top3Scores.includes(l)?(0===g&&(w=o.year,S=o.week),g++):(g>0&&d(u.longestConsecutiveTop3Weeks,g,{streak:g,startYear:w,startWeek:S,endYear:r[e-1]?r[e-1].year:w,endWeek:r[e-1]?r[e-1].week:w},n,a),g=0,w=null,S=null)}p>0&&d(u.longestConsecutiveHighestScoreWeeks,p,{streak:p,startYear:y,startWeek:v,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),m>0&&d(u.longestConsecutiveLowestScoreWeeks,m,{streak:m,startYear:b,startWeek:x,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a),g>0&&d(u.longestConsecutiveTop3Weeks,g,{streak:g,startYear:w,startWeek:S,endYear:r[r.length-1].year,endWeek:r[r.length-1].week},n,a)}),Object.keys(u).forEach(e=>{const t=u[e];0===t.value&&0===t.entries.length&&(t.entries=[]),t.entries.sort((e,t)=>{const n=(e.team||"").localeCompare(t.team||"");return 0!==n?n:e.startYear!==t.startYear?e.startYear-t.startYear:e.startWeek-t.startWeek})}),c(u)},[n,r,a,o,i]);const u=[{key:"longestWinStreak",label:"Win Streak"},{key:"longestLosingStreak",label:"Losing Streak"},{key:"longestConsecutiveHighestScoreWeeks",label:"High Score Streak"},{key:"longestConsecutiveTop3Weeks",label:"Top 3 Score Streak"}];return o?(0,C.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading streak records..."}):i?(0,C.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading streak data: ",i.message]}):0===Object.keys(s).length||u.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No streak data available to display records."}):(0,C.jsxs)("div",{className:"p-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl font-bold",children:"\ud83d\udd25"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"Streak Records"}),(0,C.jsx)("p",{className:"text-gray-600 mt-1",children:"Longest consecutive achievements in league history"})]})]})}),(0,C.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83c\udfc6 Streak Type"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcca Length"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83d\udc51 Team"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83c\udfaf Started"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83c\udfc1 Ended"})})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-100",children:u.map((e,t)=>{const n=s[e.key];return n&&0!==n.entries.length?n.entries.map((r,a)=>(0,C.jsxs)("tr",{className:"\n                                            transition-all duration-200 hover:bg-blue-50 hover:shadow-sm\n                                            ".concat(t%2===0?"bg-white":"bg-gray-25","\n                                            ").concat(a===n.entries.length-1?"border-b-2 border-gray-200":"","\n                                        "),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:0===a?(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})]}):(0,C.jsx)("div",{className:"ml-11",children:(0,C.jsx)("span",{className:"text-gray-400 text-sm",children:"\u2022 Tied Record"})})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:0===a?(0,C.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200",children:[(0,C.jsx)("span",{className:"font-bold text-gray-900 text-lg",children:r.streak}),(0,C.jsx)("span",{className:"text-gray-600 text-sm ml-1",children:"games"})]}):""}),(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:r.team})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg text-xs font-medium",children:[(0,C.jsx)("span",{children:r.startYear}),(0,C.jsx)("span",{className:"text-green-600",children:"\u2022"}),(0,C.jsxs)("span",{children:["Week ",r.startWeek]})]})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg text-xs font-medium",children:[(0,C.jsx)("span",{children:r.endYear}),(0,C.jsx)("span",{className:"text-red-600",children:"\u2022"}),(0,C.jsxs)("span",{children:["Week ",r.endWeek]})]})})]},"".concat(e.key,"-").concat(r.team,"-").concat(r.startYear,"-").concat(r.startWeek,"-").concat(a))):(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})]})}),(0,C.jsx)("td",{colSpan:"4",className:"py-4 px-6 text-center",children:(0,C.jsx)("span",{className:"text-gray-500 text-sm italic",children:"No data available"})})]},e.key)})})]})})})]})},Rb=()=>{const{historicalData:e,getTeamName:n,loading:r,error:a}=L(),[o,i]=(0,t.useState)({});function s(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("number"===typeof t&&!isNaN(t))if(r){if(t<e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}else if(t>e.value)e.value=t,e.entries=[n];else if(t===e.value){e.entries.some(e=>e.year===n.year&&e.week===n.week&&e.team1RosterId===n.team1RosterId&&e.team2RosterId===n.team2RosterId)||e.entries.push(n)}}(0,t.useEffect)(()=>{if(r||a||!e||!e.matchupsBySeason)return void i({});(new Date).getFullYear().toString();const t=[];for(const n in e.matchupsBySeason){const r=e.matchupsBySeason[n];Array.isArray(r)&&t.push(...r)}if(0===t.length)return void i({});const o={mostPointsScored:{value:-1/0,entries:[]},fewestPointsScored:{value:1/0,entries:[]},highestCombinedScore:{value:-1/0,entries:[]},lowestCombinedScore:{value:1/0,entries:[]},biggestBlowout:{value:-1/0,entries:[]},slimmestWin:{value:1/0,entries:[]}};t.forEach(t=>{var r,a,i,c;const u=parseInt(t.season),d=parseInt(t.week),h=String(t.team1_roster_id),f=String(t.team2_roster_id),p=parseFloat(t.team1_score),m=parseFloat(t.team2_score),g=null===(r=e.rostersBySeason)||void 0===r||null===(a=r[u])||void 0===a?void 0:a.find(e=>String(e.roster_id)===h),y=null===g||void 0===g?void 0:g.owner_id,v=null===(i=e.rostersBySeason)||void 0===i||null===(c=i[u])||void 0===c?void 0:c.find(e=>String(e.roster_id)===f),b=null===v||void 0===v?void 0:v.owner_id,x=n(y,u),w=n(b,u);let S=[];if(y||S.push("Missing team1OwnerId for roster ".concat(h," in year ").concat(u)),b||S.push("Missing team2OwnerId for roster ".concat(f," in year ").concat(u)),(isNaN(u)||isNaN(d)||isNaN(p)||isNaN(m))&&S.push("Invalid data point (year: ".concat(u,", week: ").concat(d,", scores: ").concat(p,", ").concat(m,")")),S.length>0)return void console.warn("MatchupRecords: Skipping matchup due to:",S.join("; "),". Match:",t);const _=p+m,k=Math.abs(p-m),j=p===m;let N="",P="";j||(N=p>m?x:w,P=p>m?w:x);const O={matchup:"".concat(x," vs ").concat(w),year:u,week:d,team1:x,team2:w,team1Score:p,team2Score:m,team1RosterId:h,team2RosterId:f};s(o.mostPointsScored,p,l(l({},O),{},{team:x,score:p})),s(o.mostPointsScored,m,l(l({},O),{},{team:w,score:m})),p>0&&s(o.fewestPointsScored,p,l(l({},O),{},{team:x,score:p}),!0),m>0&&s(o.fewestPointsScored,m,l(l({},O),{},{team:w,score:m}),!0),s(o.highestCombinedScore,_,l(l({},O),{},{combinedScore:_})),_>0&&p>0&&m>0&&s(o.lowestCombinedScore,_,l(l({},O),{},{combinedScore:_}),!0),j||s(o.biggestBlowout,k,l(l({},O),{},{margin:k,winner:N,loser:P})),!j&&k>0&&s(o.slimmestWin,k,l(l({},O),{},{margin:k,winner:N,loser:P}),!0)}),Object.keys(o).forEach(e=>{const t=o[e];t.value!==-1/0&&t.value!==1/0||(t.value=0,t.entries=[]),t.entries.sort((t,n)=>t.year!==n.year?t.year-n.year:t.week!==n.week?t.week-n.week:t.team&&n.team&&("mostPointsScored"===e||"fewestPointsScored"===e)?t.team.localeCompare(n.team):t.team1&&n.team1&&("highestCombinedScore"===e||"lowestCombinedScore"===e)?t.team1.localeCompare(n.team1):t.winner&&n.winner&&("biggestBlowout"===e||"slimmestWin"===e)?t.winner.localeCompare(n.winner):0)}),i(o)},[e,n,r,a]);const c=(e,t)=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),u=[{key:"mostPointsScored",label:"Most Points Scored by a Team"},{key:"fewestPointsScored",label:"Fewest Points Scored by a Team"},{key:"highestCombinedScore",label:"Highest Combined Score"},{key:"lowestCombinedScore",label:"Lowest Combined Score"},{key:"biggestBlowout",label:"Biggest Blowout"},{key:"slimmestWin",label:"Slimmest Win"}];return r?(0,C.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading matchup records..."}):a?(0,C.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading matchup data: ",a.message]}):0===Object.keys(o).length||u.every(e=>{var t;return 0===(null===(t=o[e.key])||void 0===t?void 0:t.entries.length)})?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No matchup data available to display records."}):(0,C.jsxs)("div",{className:"p-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-xl font-bold",children:"\u2694\ufe0f"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"Game Record Holders"}),(0,C.jsx)("p",{className:"text-gray-600 mt-1",children:"Outstanding single-game performances across all seasons \u2022 Minimum scores required for some records"})]})]})}),(0,C.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83c\udfc6 Record Type"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcca Value"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\u2694\ufe0f Game Details"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcc5 Season"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udccd Week"})})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-100",children:u.map((e,t)=>{const n=o[e.key];return n&&0!==n.entries.length?n.entries.map((r,a)=>{let o;const i=r.team1Score.toFixed(2),s=r.team2Score.toFixed(2),l=(r.winner===r.team1?r.team1Score:r.team2Score).toFixed(2),u=(r.loser===r.team1?r.team1Score:r.team2Score).toFixed(2);if("mostPointsScored"===e.key||"fewestPointsScored"===e.key){const e=r.team,t=r.score.toFixed(2),n=e===r.team1?r.team2:r.team1,a=(e===r.team1?r.team2Score:r.team1Score).toFixed(2);o=(0,C.jsx)("div",{className:"flex flex-col space-y-2",children:(0,C.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 border border-blue-200",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"font-semibold text-gray-900",children:e}),(0,C.jsx)("span",{className:"font-bold text-blue-600",children:t})]}),(0,C.jsx)("span",{className:"text-gray-500 font-medium",children:"vs"}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"text-gray-700",children:n}),(0,C.jsx)("span",{className:"text-gray-600",children:a})]})]})})}else o="biggestBlowout"===e.key||"slimmestWin"===e.key?(0,C.jsx)("div",{className:"flex flex-col space-y-2",children:(0,C.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-3 border border-orange-200",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"font-semibold text-gray-900",children:r.winner}),(0,C.jsx)("span",{className:"font-bold text-green-600",children:l})]}),(0,C.jsx)("span",{className:"text-gray-500 font-medium",children:"vs"}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"text-gray-700",children:r.loser}),(0,C.jsx)("span",{className:"text-red-600",children:u})]})]})}):(0,C.jsx)("div",{className:"flex flex-col space-y-2",children:(0,C.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-3 border border-gray-200",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"font-semibold text-gray-900",children:r.team1}),(0,C.jsx)("span",{className:"font-bold text-blue-600",children:i})]}),(0,C.jsx)("span",{className:"text-gray-500 font-medium",children:"vs"}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("span",{className:"font-semibold text-gray-900",children:r.team2}),(0,C.jsx)("span",{className:"font-bold text-blue-600",children:s})]})]})});return(0,C.jsxs)("tr",{className:"\n                                                transition-all duration-200 hover:bg-blue-50 hover:shadow-sm\n                                                ".concat(t%2===0?"bg-white":"bg-gray-25","\n                                                ").concat(a===n.entries.length-1?"border-b-2 border-gray-200":"","\n                                            "),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:0===a?(0,C.jsx)("div",{className:"flex items-center gap-3",children:(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})}):(0,C.jsx)("div",{className:"ml-4",children:(0,C.jsx)("span",{className:"text-gray-400 text-sm",children:"\u2022 Tied Record"})})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:0===a?(0,C.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-orange-100 to-red-100 border border-orange-200",children:(0,C.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:c(n.value,e.key)})}):""}),(0,C.jsx)("td",{className:"py-4 px-6",children:o}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsx)("div",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-xs font-medium",children:r.year})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsxs)("div",{className:"inline-flex items-center px-3 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium",children:["Week ",r.week]})})]},"".concat(e.key,"-").concat(r.team1,"-").concat(r.team2,"-").concat(r.year,"-").concat(r.week,"-").concat(a))}):(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})]})}),(0,C.jsx)("td",{colSpan:"4",className:"py-4 px-6 text-center",children:(0,C.jsx)("span",{className:"text-gray-500 text-sm italic",children:"No data available"})})]},e.key)})})]})})})]})},Lb=e=>{let{historicalMatchups:n}=e;const{historicalData:r,getTeamName:a,loading:o,error:i}=L(),[s,l]=(0,t.useState)({});(0,t.useEffect)(()=>{if(o||i||!n||0===n.length||!r||!r.rostersBySeason)return void l({});const e={};n.forEach((t,n)=>{var o,i,s,l;const c=parseInt(t.year),u=String(t.team1_roster_id),d=String(t.team2_roster_id),h=parseFloat(t.team1Score),f=parseFloat(t.team2Score),p=null===(o=r.rostersBySeason)||void 0===o||null===(i=o[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===u),m=null===p||void 0===p?void 0:p.owner_id,g=null===(s=r.rostersBySeason)||void 0===s||null===(l=s[c])||void 0===l?void 0:l.find(e=>String(e.roster_id)===d),y=null===g||void 0===g?void 0:g.owner_id;if(m&&y&&!isNaN(c)&&!isNaN(h)&&!isNaN(f)&&t.playoffs)if([m,y].forEach(t=>{e[t]||(e[t]={appearances:new Set,wins:0,losses:0,ties:0,pointsFor:0,pointsAgainst:0,medals:{1:0,2:0,3:0},championships:0})}),t.isWinnersBracket?(e[m].appearances.add(c),e[y].appearances.add(c),console.log("PlayoffRecords: Counting appearance for Owner ".concat(m," (").concat(a(m,c),") and Owner ").concat(y," (").concat(a(y,c),") in ").concat(c," (Winners Bracket). Match:"),t)):t.isLosersBracket&&console.log("PlayoffRecords: NOT counting appearance for Owner ".concat(m," (").concat(a(m,c),") and Owner ").concat(y," (").concat(a(y,c),") in ").concat(c," (Losers Bracket). Match:"),t),t.isWinnersBracket){const n=h>f;if(h===f?(e[m].ties++,e[y].ties++):n?(e[m].wins++,e[y].losses++):(e[y].wins++,e[m].losses++),e[m].pointsFor+=h,e[m].pointsAgainst+=f,e[y].pointsFor+=f,e[y].pointsAgainst+=h,console.log("PlayoffRecords: Processing winners bracket stats for Owner ".concat(m," (").concat(a(m,c),") vs Owner ").concat(y," (").concat(a(y,c),"). Match:"),t),"number"===typeof t.finalSeedingGame&&t.finalSeedingGame>0){let r="",a="";n?(r=m,a=y):f>h&&(r=y,a=m);const o=t.finalSeedingGame;1===o?r&&(e[r].medals[1]++,e[r].championships++,a&&e[a].medals[2]++):3===o&&r&&e[r].medals[3]++}}else t.isLosersBracket&&console.log("PlayoffRecords: Skipping losers bracket stats for Owner ".concat(m," (").concat(a(m,c),") vs Owner ").concat(y," (").concat(a(y,c),") (only counting appearance). Match:"),t);else console.warn("PlayoffRecords useEffect: Skipping match ".concat(n," due to invalid data, not a playoff game, or missing owner IDs. Match:"),t,"Team1 Owner: ".concat(m,", Team2 Owner: ").concat(y))}),console.log("PlayoffRecords: Aggregated Playoff Stats Per Team:"),Object.entries(e).forEach(e=>{let[t,n]=e;const r=a(t,null);console.log("  Team: ".concat(r," (Owner ID: ").concat(t,")")),console.log("    Playoff Appearances: ".concat(n.appearances.size," (Years: ").concat(Array.from(n.appearances).join(", "),")")),console.log("    Wins: ".concat(n.wins)),console.log("    Losses: ".concat(n.losses)),console.log("    Ties: ".concat(n.ties)),console.log("    Points For: ".concat(n.pointsFor.toFixed(2))),console.log("    Points Against: ".concat(n.pointsAgainst.toFixed(2))),console.log("    Championships: ".concat(n.championships)),console.log("    2nd Place Finishes: ".concat(n.medals[2])),console.log("    3rd Place Finishes: ".concat(n.medals[3]))});const t={mostPlayoffAppearances:{value:0,entries:[]},mostPlayoffWins:{value:0,entries:[]},totalPlayoffPoints:{value:0,entries:[]},mostPlayoffPointsAgainst:{value:0,entries:[]},mostChampionships:{value:0,entries:[]},most2ndPlaceFinishes:{value:0,entries:[]},most3rdPlaceFinishes:{value:0,entries:[]}},s=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"number"!==typeof t||isNaN(t)||(r?t<e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)):t>e.value?(e.value=t,e.entries=[n]):t===e.value&&(e.entries.some(e=>e.team===n.team)||e.entries.push(n)))};Object.keys(e).forEach(n=>{const r=e[n],o=a(n,null);s(t.mostPlayoffAppearances,r.appearances.size,{team:o,appearances:r.appearances.size}),s(t.mostPlayoffWins,r.wins,{team:o,wins:r.wins}),s(t.totalPlayoffPoints,r.pointsFor,{team:o,points:r.pointsFor}),s(t.mostPlayoffPointsAgainst,r.pointsAgainst,{team:o,pointsAgainst:r.pointsAgainst}),s(t.mostChampionships,r.championships,{team:o,championships:r.championships}),s(t.most2ndPlaceFinishes,r.medals[2],{team:o,place:r.medals[2]}),s(t.most3rdPlaceFinishes,r.medals[3],{team:o,place:r.medals[3]})}),Object.keys(t).forEach(e=>{const n=t[e];n.value!==-1/0&&n.value!==1/0||0!==n.entries.length?n.value===1/0&&(n.value="N/A"):(n.value=0,n.entries=[]),n.entries.length>1&&n.entries.sort((t,n)=>{const r=(t.team||"").localeCompare(n.team||"");if(0!==r)return r;let a,o;return"mostPlayoffAppearances"===e?(a=t.appearances,o=n.appearances):"mostPlayoffWins"===e?(a=t.wins,o=n.wins):"totalPlayoffPoints"===e?(a=t.points,o=n.points):"mostPlayoffPointsAgainst"===e?(a=t.pointsAgainst,o=n.pointsAgainst):"mostChampionships"===e?(a=t.championships,o=n.championships):"most2ndPlaceFinishes"===e||"most3rdPlaceFinishes"===e?(a=t.place,o=n.place):(a=t.value,o=n.value),"number"===typeof a&&"number"===typeof o?o-a:0})}),l(t)},[n,r,a,o,i]);const c=(e,t)=>"number"===typeof e?"mostPlayoffAppearances"===t||"mostPlayoffWins"===t?e:"totalPlayoffPoints"===t||"mostPlayoffPointsAgainst"===t?e.toFixed(2):e:e,u=[{key:"mostPlayoffAppearances",label:"Most Playoff Appearances"},{key:"mostPlayoffWins",label:"Most Playoff Wins"},{key:"totalPlayoffPoints",label:"Total Playoff Points For"},{key:"mostPlayoffPointsAgainst",label:"Most Playoff Points Against Total"},{key:"mostChampionships",label:"Most Championships"},{key:"most2ndPlaceFinishes",label:"Most 2nd Place Finishes"},{key:"most3rdPlaceFinishes",label:"Most 3rd Place Finishes"}];return(0,C.jsxs)("div",{className:"p-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white text-xl font-bold",children:"\ud83c\udfc6"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"All-Time Playoff Records"}),(0,C.jsx)("p",{className:"text-gray-600 mt-1",children:"Historical playoff performance and championship accolades."})]})]})}),0===Object.keys(s).length||u.every(e=>{var t;return 0===(null===(t=s[e.key])||void 0===t?void 0:t.entries.length)})?(0,C.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border border-gray-200",children:[(0,C.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd37\u200d\u2642\ufe0f"}),(0,C.jsx)("h4",{className:"text-xl font-semibold text-gray-800",children:"No Playoff Data Available"}),(0,C.jsx)("p",{className:"text-gray-500",children:"Cannot display records without historical playoff data."})]}):(0,C.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b border-gray-200",children:[(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83c\udfc5 Record"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-center text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:"\ud83d\udcca Value"})}),(0,C.jsx)("th",{className:"py-4 px-6 text-left text-sm font-bold text-gray-800 uppercase tracking-wide",children:(0,C.jsx)("div",{className:"flex items-center gap-2",children:"\ud83d\udc51 Holder(s)"})})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-100",children:u.map((e,t)=>{const n=s[e.key];return n&&0!==n.entries.length?(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 hover:shadow-sm ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex items-center gap-3",children:(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})})}),(0,C.jsx)("td",{className:"py-4 px-6 text-center",children:(0,C.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-200",children:(0,C.jsx)("span",{className:"font-bold text-gray-900 text-sm",children:c(n.value,e.key)})})}),(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex flex-col space-y-2",children:n.entries.map((e,t)=>(0,C.jsx)("div",{className:"flex items-center gap-3 bg-gray-100 rounded-lg p-2 border border-gray-200",children:(0,C.jsx)("span",{className:"font-medium text-gray-800 text-sm",children:e.team})},t))})})]},e.key):(0,C.jsxs)("tr",{className:"transition-all duration-200 hover:bg-blue-50 ".concat(t%2===0?"bg-white":"bg-gray-25"),children:[(0,C.jsx)("td",{className:"py-4 px-6",children:(0,C.jsx)("div",{className:"flex items-center gap-3",children:(0,C.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.label})})}),(0,C.jsx)("td",{colSpan:"2",className:"py-4 px-6 text-center",children:(0,C.jsx)("span",{className:"text-gray-500 text-sm italic",children:"No data available"})})]},e.key)})})]})})})]})},Fb=()=>{const[e,n]=(0,t.useState)("overall"),{historicalData:r,processedSeasonalRecords:a,getTeamName:o,loading:i,error:s}=L();if(i)return(0,C.jsx)("div",{className:"text-center py-8 text-xl font-semibold",children:"Loading league data..."});if(s)return(0,C.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error loading data: ",s.message]});const c=[],u=new Set;if(null!==r&&void 0!==r&&r.matchupsBySeason)for(const t in r.matchupsBySeason){const e=parseInt(t),n=r.matchupsBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="".concat(n.matchup_id,"-").concat(n.season,"-").concat(n.week,"-").concat(n.team1_roster_id,"-").concat(n.team2_roster_id);if(!u.has(a)){var i,s,d,h;const f=String(n.team1_roster_id),p=String(n.team2_roster_id),m=null===(i=r.rostersBySeason)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.find(e=>String(e.roster_id)===f),g=null===(d=r.rostersBySeason)||void 0===d||null===(h=d[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===p),y=null===m||void 0===m?void 0:m.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(l(l({},n),{},{year:e,team1:o(y,e),team2:o(v,e),team1Score:n.team1_score,team2Score:n.team2_score,playoffs:!1,finalSeedingGame:null,isWinnersBracket:!1,isLosersBracket:!1})),u.add(a)}})}if(null!==r&&void 0!==r&&r.winnersBracketBySeason)for(const t in r.winnersBracketBySeason){const e=parseInt(t),n=r.winnersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!u.has(a)){var i,s,d,h;const f=String(n.t1),p=String(n.t2),m=null===(i=r.rostersBySeason)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.find(e=>String(e.roster_id)===f),g=null===(d=r.rostersBySeason)||void 0===d||null===(h=d[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===p),y=null===m||void 0===m?void 0:m.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(l(l({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:p,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!0,isLosersBracket:!1})),u.add(a)}})}if(null!==r&&void 0!==r&&r.losersBracketBySeason)for(const t in r.losersBracketBySeason){const e=parseInt(t),n=r.losersBracketBySeason[t];Array.isArray(n)&&n.forEach(n=>{const a="bracket-loser-".concat(n.m,"-").concat(t,"-").concat(n.t1,"-").concat(n.t2);if(!u.has(a)){var i,s,d,h;const f=String(n.t1),p=String(n.t2),m=null===(i=r.rostersBySeason)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.find(e=>String(e.roster_id)===f),g=null===(d=r.rostersBySeason)||void 0===d||null===(h=d[t])||void 0===h?void 0:h.find(e=>String(e.roster_id)===p),y=null===m||void 0===m?void 0:m.owner_id,v=null===g||void 0===g?void 0:g.owner_id;c.push(l(l({},n),{},{matchup_id:n.m,season:t,week:n.week,team1_roster_id:f,team1Score:n.t1_score,team2_roster_id:p,team2Score:n.t2_score,team1:o(y,e),team2:o(v,e),year:e,playoffs:n.playoffs||!0,finalSeedingGame:n.p||null,isWinnersBracket:!1,isLosersBracket:!0})),u.add(a)}})}const d=r&&Object.keys(r).length>0&&r.matchupsBySeason&&Object.keys(r.matchupsBySeason).length>0,h=a&&Object.keys(a).length>0,f=c.length>0,p=r&&r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).length>0;return(0,C.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,C.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[(0,C.jsxs)("div",{className:"text-center mb-12",children:[(0,C.jsx)("h1",{className:"text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"\ud83c\udfc6 League Record Book"}),(0,C.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover the greatest achievements and records in our league's history"})]}),(0,C.jsx)("div",{className:"mb-10",children:(0,C.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-2 border border-gray-200",children:(0,C.jsxs)("nav",{className:"flex flex-wrap gap-1",children:[(0,C.jsxs)("button",{className:"flex-1 min-w-0 py-4 px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("overall"===e?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("overall"),"aria-current":"overall"===e?"page":void 0,children:[(0,C.jsx)("span",{className:"block text-center",children:"Overall Records"}),(0,C.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Career Leaders"})]}),(0,C.jsxs)("button",{className:"flex-1 min-w-0 py-4 px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("seasonal"===e?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("seasonal"),"aria-current":"seasonal"===e?"page":void 0,children:[(0,C.jsx)("span",{className:"block text-center",children:"Seasonal Records"}),(0,C.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Season"})]}),(0,C.jsxs)("button",{className:"flex-1 min-w-0 py-4 px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("streaks"===e?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("streaks"),"aria-current":"streaks"===e?"page":void 0,children:[(0,C.jsx)("span",{className:"block text-center",children:"Streak Records"}),(0,C.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Consecutive"})]}),(0,C.jsxs)("button",{className:"flex-1 min-w-0 py-4 px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("matchup"===e?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("matchup"),"aria-current":"matchup"===e?"page":void 0,children:[(0,C.jsx)("span",{className:"block text-center",children:"Game Records"}),(0,C.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Single Game"})]}),(0,C.jsxs)("button",{className:"flex-1 min-w-0 py-4 px-6 text-sm font-semibold rounded-xl transition-all duration-200 ".concat("playoffs"===e?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:()=>n("playoffs"),"aria-current":"playoffs"===e?"page":void 0,children:[(0,C.jsx)("span",{className:"block text-center",children:"Playoff Records"}),(0,C.jsx)("span",{className:"block text-xs opacity-80 mt-1",children:"Postseason"})]})]})})}),(0,C.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:["overall"===e&&(d?(0,C.jsx)(Ib,{historicalData:r,getTeamName:o,calculateAllLeagueMetrics:A}):(0,C.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,C.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Overall Data"}),(0,C.jsx)("p",{className:"text-gray-500",children:"No overall league data available yet."})]})),"seasonal"===e&&(h?(0,C.jsx)(Db,{}):(0,C.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,C.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Seasonal Data"}),(0,C.jsx)("p",{className:"text-gray-500",children:"No seasonal data available for display."})]})),"streaks"===e&&(f?(0,C.jsx)(Mb,{historicalMatchups:c}):(0,C.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,C.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Streak Data"}),(0,C.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate streaks."})]})),"matchup"===e&&(f?(0,C.jsx)(Rb,{}):(0,C.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\u2694\ufe0f"}),(0,C.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Matchup Data"}),(0,C.jsx)("p",{className:"text-gray-500",children:"No historical matchup data available to calculate matchup records."})]})),"playoffs"===e&&(p?(0,C.jsx)(Lb,{historicalMatchups:c,getDisplayTeamName:o}):(0,C.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,C.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Playoff Data"}),(0,C.jsx)("p",{className:"text-gray-500",children:"No historical playoff data available."})]}))]})]})})};let Bb={},Ub={},Wb=[];const zb=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,getTeamName:o}=L(),[i,s]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var t,a;if(Bb=A(r,0,o),Ub=(null===(t=Bb)||void 0===t?void 0:t.seasonalMetrics)||{},Wb=(null===(a=Bb)||void 0===a?void 0:a.careerDPRData)||[],e)return void h(!0);if(n)return void h(!1);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return s([]),u([]),void h(!1);if("function"!==typeof o)return console.error("DPRAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),h(!1),s([]),void u([]);h(!0);let i=[];const c=new Set([...Object.keys(Ub||{}),...Object.keys((null===r||void 0===r?void 0:r.matchupsBySeason)||{}),...Object.keys((null===r||void 0===r?void 0:r.rostersBySeason)||{})].map(Number));let d=null;if(c.size>0&&(d=Math.max(...Array.from(c))),Object.keys(Ub).sort((e,t)=>parseInt(t)-parseInt(e)).forEach(e=>{const t=[];Object.keys(Ub[e]).forEach(n=>{const a=Ub[e][n];if(a&&a.totalGames>0){var s;let l=a.ownerId;if(!l&&null!==r&&void 0!==r&&null!==(s=r.rostersBySeason)&&void 0!==s&&s[e]){const t=r.rostersBySeason[e].find(e=>String(e.roster_id)===String(n));t&&(l=t.owner_id)}const c=a.averageScore||0,u=a.highScore||0,h=a.lowScore||0,f=a.winPercentage||0,p=(6*c+2*(u+h)+200*f*2)/10;t.push(p),i.push({year:parseInt(e),team:o(l,e),rosterId:n,ownerId:l,rawDPR:p,wins:a.wins,losses:a.losses,ties:a.ties,winPercentage:f,pointsPerGame:c,highestPointsGame:u,lowestPointsGame:h,isCurrentSeason:null!==d&&parseInt(e)===d})}});const n=t.length>0?t.reduce((e,t)=>e+t,0)/t.length:1;i.forEach(t=>{t.year===parseInt(e)&&(t.dpr=n>0?t.rawDPR/n:1)})}),null!==d){!i.some(e=>e.year===d)&&Ub[d]&&Object.keys(Ub[d]).forEach(e=>{const t=Ub[d][e];if(t&&t.totalGames>0){var n;let a=t.ownerId;if(!a&&null!==r&&void 0!==r&&null!==(n=r.rostersBySeason)&&void 0!==n&&n[d]){const t=r.rostersBySeason[d].find(t=>String(t.roster_id)===String(e));t&&(a=t.owner_id)}const s=t.averageScore||0,l=t.highScore||0,c=t.lowScore||0,u=t.winPercentage||0,h=(6*s+2*(l+c)+200*u*2)/10,f=Object.values(Ub[d]).map(e=>(6*(e.averageScore||0)+2*((e.highScore||0)+(e.lowScore||0))+200*(e.winPercentage||0)*2)/10),p=f.length>0?f.reduce((e,t)=>e+t,0)/f.length:1,m=p>0?h/p:1;i.push({year:d,team:o(a,d),rosterId:e,ownerId:a,rawDPR:h,dpr:m,wins:t.wins,losses:t.losses,ties:t.ties,winPercentage:u,pointsPerGame:s,highestPointsGame:l,lowestPointsGame:c,isCurrentSeason:!0})}})}i.sort((e,t)=>t.dpr-e.dpr);const f={year:null,team:"----------------Average Season 1.000 DPR----------------",dpr:1,wins:null,losses:null,ties:null,winPercentage:null,pointsPerGame:null,highestPointsGame:null,lowestPointsGame:null,isAverageRow:!0};let p=i.findIndex(e=>e.dpr<1);-1===p?i.push(f):i.splice(p,0,f);const m=Wb.map(e=>{const t=e.wins+e.losses+e.ties,n=t>0?(e.wins+.5*e.ties)/t:0,r=t>0?e.pointsFor/t:0;let a=0,o=1/0,i=0;return Object.keys(Ub).forEach(t=>{const n=Object.values(Ub[t]).find(t=>t.ownerId===e.ownerId);if(n){const e=n.totalGames;if(e>0){const t=n.pointsFor/e;t>a&&(a=t),t<o&&(o=t),i++}}}),0===i&&(o=0),l(l({},e),{},{winPercentage:n,pointsPerGame:r,highestSeasonalPointsAvg:a,lowestSeasonalPointsAvg:o})});s(m),u(i),h(!1)},[r,a,o,e,n]);const m=e=>{if("number"===typeof e&&!isNaN(e)){let t=e.toFixed(3);return t.startsWith("0.")?t=t.substring(1):t.startsWith("-0.")&&(t="-".concat(t.substring(2))),"".concat(t,"%")}return""},g=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),y=e=>"number"!==typeof e||isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),v=(e,t,n)=>null===e?"":"".concat(e||0,"-").concat(t||0,"-").concat(n||0),b=f?c:c.slice(0,20);let x=null;const w=new Set([...Object.keys(Ub||{}),...Object.keys((null===r||void 0===r?void 0:r.matchupsBySeason)||{}),...Object.keys((null===r||void 0===r?void 0:r.rostersBySeason)||{})].map(Number));w.size>0&&(x=Math.max(...Array.from(w)));let S=0;return(0,C.jsxs)("div",{className:"w-full",children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"DPR Analysis (Career & Seasonal)"}),(0,C.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Detailed breakdown of team performance using the DPR (Dominance Performance Rating) metric."}),d?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"Calculating DPR data..."}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career DPR Rankings"}),i.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-100",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career DPR"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Record (W-L-T)"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg "}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Points Avg"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Points Avg"})]})}),(0,C.jsx)("tbody",{children:i.map((e,t)=>(0,C.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[" ",(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:t+1}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:o(e.ownerId,null)})," ",(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.dpr)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:m(e.winPercentage)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:v(e.wins,e.losses,e.ties)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.pointsPerGame)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.highestSeasonalPointsAvg)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.lowestSeasonalPointsAvg)})]},e.ownerId))})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No career DPR data available."})]}),(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Best Seasons by DPR"}),c.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-green-100",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season DPR"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Win %"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Record (W-L-T)"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Points Avg"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Highest Points"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Lowest Points"})]})}),(0,C.jsx)("tbody",{children:b.map(e=>{e.isAverageRow||S++;const t=e.isCurrentSeason&&e.year===x;return(0,C.jsx)("tr",{className:e.isAverageRow?"bg-yellow-100 font-bold":t?"bg-green-200 font-bold":S%2===0?"bg-gray-50":"bg-white",children:e.isAverageRow?(0,C.jsx)("td",{colSpan:9,className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap text-center",children:e.team}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:S}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:o(e.ownerId,e.year)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 whitespace-nowrap",children:e.year}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:g(e.dpr)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:m(e.winPercentage)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:v(e.wins,e.losses,e.ties)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.pointsPerGame)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.highestPointsGame)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 whitespace-nowrap text-center",children:y(e.lowestPointsGame)})]})},"".concat(e.rosterId,"-").concat(e.year))})})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal DPR data available."}),c.length>20&&(0,C.jsx)("div",{className:"text-center mt-4",children:(0,C.jsx)("button",{onClick:()=>p(!f),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:f?"Show Less":"Show All Seasons"})})]})]})]})},Vb=()=>{const{loading:e,error:n,historicalData:r,allDraftHistory:a,getTeamName:o,nflState:i}=L(),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(e)return void h(!0);if(n)return void h(!1);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return l([]),u([]),void h(!1);if("function"!==typeof o)return console.error("LuckRatingAnalysis: getTeamName is not a function from SleeperDataContext. Cannot perform calculations."),h(!1),l([]),void u([]);h(!0);const{seasonalMetrics:t,careerDPRData:a}=A(r,0,o,i),s=[],c=null!==i&&void 0!==i&&i.season?parseInt(i.season):(new Date).getFullYear();Object.keys(t).forEach(e=>{const n=parseInt(e);if(n===c){var a,i;const e=null===(a=r.matchupsBySeason)||void 0===a||null===(i=a[n])||void 0===i?void 0:i[1];if(!e||0===e.length)return void console.log("LuckRatingAnalysis: Skipping year ".concat(n," (current season) as Week 1 data is not available."))}Object.keys(t[n]).forEach(e=>{const r=t[n][e];!r||"number"!==typeof r.luckRating||isNaN(r.luckRating)||"number"!==typeof r.actualWinsRecord||isNaN(r.actualWinsRecord)||"number"!==typeof r.seasonalExpectedWinsSum||isNaN(r.seasonalExpectedWinsSum)||s.push({year:parseInt(n),team:o(r.ownerId,n),luckRating:r.luckRating,actualWins:r.actualWinsRecord,projectedWins:r.seasonalExpectedWinsSum})})}),s.sort((e,t)=>t.luckRating-e.luckRating),u(s);const d=[];a.forEach(e=>{!e||"number"!==typeof e.totalLuckRating||isNaN(e.totalLuckRating)||"number"!==typeof e.actualCareerWinsRecord||isNaN(e.actualCareerWinsRecord)||"number"!==typeof e.careerExpectedWinsSum||isNaN(e.careerExpectedWinsSum)||d.push({team:o(e.ownerId,null),luckRating:e.totalLuckRating,actualWins:e.actualCareerWinsRecord,projectedWins:e.careerExpectedWinsSum})}),d.sort((e,t)=>t.luckRating-e.luckRating),l(d),h(!1)},[r,a,o,i,e,n]);const m=e=>"number"!==typeof e||isNaN(e)?"N/A":e.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),g=f?c:c.slice(0,20),y=null!==i&&void 0!==i&&i.season?parseInt(i.season):(new Date).getFullYear();return(0,C.jsxs)("div",{className:"w-full",children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-center",children:"Luck Rating Analysis"}),(0,C.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:'This analysis indicates how much "luckier" or "unluckier" a team was compared to their projected wins if every possible matchup against other teams in their league week-by-week were played. A positive score means luckier, negative means unluckier. Calculation includes regular season games only.'}),d?(0,C.jsx)("p",{className:"text-center text-gray-600",children:"Calculating luck ratings..."}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Career Luck Rankings"}),s.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-100",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Career Luck Rating"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,C.jsx)("tbody",{children:s.map((e,t)=>(0,C.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:t+1}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.team}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:m(e.luckRating)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.actualWins}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:m(e.projectedWins)})]},e.team))})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No career luck data available."})]}),(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-4 border-b pb-2",children:"Seasonal Luck Rankings"}),c.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-green-100",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Rank"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Season"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Team"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Luck Rating"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Actual Wins"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200",children:"Projected Wins"})]})}),(0,C.jsx)("tbody",{children:g.map((e,t)=>(0,C.jsxs)("tr",{className:"".concat(t%2===0?"bg-gray-50":"bg-white"," ").concat(e.year===y?"font-bold":""),children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:t+1}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.year}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800",children:e.team}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:m(e.luckRating)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.actualWins}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:m(e.projectedWins)})]},"".concat(e.team,"-").concat(e.year)))})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No seasonal luck data available."}),c.length>20&&(0,C.jsx)("div",{className:"text-center mt-4",children:(0,C.jsx)("button",{onClick:()=>p(!f),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:f?"Show Less":"Show All Seasons"})})]})]})]})},Hb=e=>{if("number"!==typeof e||isNaN(e))return"";const t=["th","st","nd","rd"],n=e%100;return t[n-20]||t[n]||t[0]},qb=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=t.filter(e=>"number"===typeof e&&!isNaN(e));if(0===r.length)return"N/A";const a=[...new Set(r)].sort((e,t)=>n?t-e:e-t);let o=1;for(let i=0;i<a.length;i++){const t=a[i];if(t===e){const t=r.filter(t=>t===e).length;return t>1?"T-".concat(o).concat(Hb(o)):"".concat(o).concat(Hb(o))}o+=r.filter(e=>e===t).length}return"N/A"},Gb=e=>"number"===typeof e?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A",Kb=e=>"number"===typeof e?"".concat(e.toFixed(3).substring(1),"%"):"N/A",Yb=e=>"number"===typeof e?e.toFixed(3):"N/A",Qb=e=>"number"===typeof e?e.toFixed(3):"N/A",Xb=e=>{let{title:t,value:n,rank:r}=e;return(0,C.jsxs)("div",{className:"bg-blue-50 p-2 rounded-lg shadow-sm flex flex-col items-center justify-center text-center border border-blue-200",children:[r&&"N/A"!==r&&(0,C.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:r}),(0,C.jsxs)("p",{className:"text-sm font-semibold text-gray-600",children:[t," (",(0,C.jsx)("span",{className:"font-semibold text-gray-600",children:n}),")"]})]})},$b=e=>{let{teamName:n}=e;const{loading:r,error:a,historicalData:o,allDraftHistory:i,nflState:s,getTeamName:l}=L(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)("year"),[y,v]=(0,t.useState)("desc");(0,t.useEffect)(()=>{const e=String(n||"");if(r||a||!o||!o.matchupsBySeason||0===Object.keys(o.matchupsBySeason).length)return void p(!1);if("function"!==typeof l)return console.error("TeamDetailPage: getTeamNameFromContext is not a function. Cannot process data."),void p(!1);p(!0);const{seasonalMetrics:t,careerDPRData:i}=A(o,0,l,s);let c=null;const d=i.find(t=>l(t.ownerId,null)===e);if(d&&(c=d.ownerId),!c)return console.warn("TeamDetailPage: Could not find ownerId for teamName: ".concat(e,". Displaying no data.")),p(!1),u(null),void h([]);const f={totalWins:0,totalLosses:0,totalTies:0,totalPointsFor:0,totalGamesPlayed:0,overallTopScoreWeeksCount:0,playoffAppearancesCount:0,avgDPR:0,totalChampionships:0,totalRunnerUps:0,totalThirdPlaces:0,totalPointsChampionships:0,totalPointsRunnerUps:0,totalThirdPlacePoints:0,winRank:"N/A",winPercentageRank:"N/A",pointsForRank:"N/A",topScoreWeeksRank:"N/A",playoffRank:"N/A",championshipRank:"N/A",luckRank:"N/A",ownerId:c},m=[],g={},y=Object.keys(o.matchupsBySeason).map(Number).sort((e,t)=>e-t),v=y.length>0?Math.max(...y):null;let b=!1;if(v&&o.winnersBracketBySeason[v]){const e=o.winnersBracketBySeason[v].find(e=>1===e.p);e&&e.w&&e.l&&(b=!0)}console.log("TeamDetailPage: Latest season is ".concat(v,". Playoff completion status: ").concat(b?"COMPLETE":"IN PROGRESS/INCOMPLETE")),Object.keys(t).forEach(e=>{const n=parseInt(e),r=t[n];r&&Object.values(r).forEach(e=>{const t=e.ownerId,r=l(t,null);if(!r||r.startsWith("Unknown Team (ID:"))return;g[r]||(g[r]={wins:0,losses:0,ties:0,pointsFor:0,totalGamesPlayed:0,championships:0,runnerUps:0,thirdPlaces:0,firstPoints:0,secondPoints:0,thirdPoints:0,topScoreWeeksCount:0,playoffAppearancesCount:0,totalLuckRating:0,ownerId:t});const a=g[r];a.wins+=e.wins,a.losses+=e.losses,a.ties+=e.ties,a.pointsFor+=e.pointsFor,a.totalGamesPlayed+=e.totalGames;(n<v||n===v&&b)&&(a.topScoreWeeksCount+=e.topScoreWeeksCount||0,a.totalLuckRating+=e.luckRating||0,"number"===typeof e.rank&&e.rank<=6&&a.playoffAppearancesCount++,e.isChampion&&a.championships++,e.isRunnerUp&&a.runnerUps++,e.isThirdPlace&&a.thirdPlaces++,e.isPointsChampion&&a.firstPoints++,e.isPointsRunnerUp&&a.secondPoints++,e.isThirdPlacePoints&&a.thirdPoints++)})});const x=g[e];if(!x)return p(!1),u(null),void h([]);{Object.assign(f,{totalWins:x.wins,totalLosses:x.losses,totalTies:x.ties,totalPointsFor:x.pointsFor,totalGamesPlayed:x.totalGamesPlayed,overallTopScoreWeeksCount:x.topScoreWeeksCount,playoffAppearancesCount:x.playoffAppearancesCount,avgDPR:d?d.dpr:0,totalChampionships:x.championships,totalRunnerUps:x.runnerUps,totalThirdPlaces:x.thirdPlaces,totalPointsChampionships:x.firstPoints,totalPointsRunnerUps:x.secondPoints,totalThirdPlacePoints:x.thirdPoints,luckRating:x.totalLuckRating});const e=Object.values(g).map(e=>e.wins),t=Object.values(g).map(e=>(e.wins+.5*e.ties)/e.totalGamesPlayed),n=Object.values(g).map(e=>e.pointsFor),r=Object.values(g).map(e=>e.topScoreWeeksCount),a=Object.values(g).map(e=>e.playoffAppearancesCount),o=Object.values(g).map(e=>e.championships),i=Object.values(g).map(e=>e.totalLuckRating);f.winRank=qb(f.totalWins,e),f.winPercentageRank=qb((f.totalWins+.5*f.totalTies)/f.totalGamesPlayed,t),f.pointsForRank=qb(f.totalPointsFor,n),f.topScoreWeeksRank=qb(f.overallTopScoreWeeksCount,r),f.playoffRank=qb(f.playoffAppearancesCount,a),f.championshipRank=qb(f.totalChampionships,o),f.luckRank=qb(f.luckRating,i,!1)}y.forEach(e=>{const n=t[e];if(n){const t=Object.values(n).find(e=>e.ownerId===c);if(t&&t.totalGames>0){const n=l(c,e);m.push({year:e,team:n,wins:t.wins,losses:t.losses,ties:t.ties,pointsFor:t.pointsFor,pointsAgainst:t.pointsAgainst,luckRating:t.luckRating,adjustedDPR:t.adjustedDPR,allPlayWinPercentage:t.allPlayWinPercentage,winPercentage:t.winPercentage,finish:(e!==v||b)&&t.rank?"".concat(t.rank).concat(Hb(t.rank)):"N/A",pointsFinish:(e!==v||b)&&t.pointsRank?"".concat(t.pointsRank).concat(Hb(t.pointsRank)):"N/A"})}}}),u(f),h(m),p(!1),console.log("TeamDetailPage: Final teamOverallStats for ".concat(e,":"),f)},[n,o,i,s,l,r,a]);const b=(0,t.useMemo)(()=>{const e=[...d],t=e=>{var t;return"N/A"===e?1/0:parseInt((null===(t=e.replace(/^T-/,"").match(/\d+/))||void 0===t?void 0:t[0])||"0")};return e.sort((e,n)=>{const r="record"===m?(e.wins+.5*e.ties)/(e.wins+e.losses+e.ties):"finish"===m||"pointsFinish"===m?t(e[m]):e[m],a="record"===m?(n.wins+.5*n.ties)/(n.wins+n.losses+n.ties):"finish"===m||"pointsFinish"===m?t(n[m]):n[m];return(r<a?-1:r>a?1:0)*("asc"===y?1:-1)})},[d,m,y]),x=e=>{m===e?v("asc"===y?"desc":"asc"):(g(e),v("asc"))};return f?(0,C.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-gray-600",children:["Loading ",n,"'s historical data..."]}):c?(0,C.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8",children:[(0,C.jsxs)("h2",{className:"text-3xl font-bold text-blue-700 mb-6 text-center border-b pb-3",children:[n,(0,C.jsxs)("span",{className:"block text-lg font-medium text-gray-600 mt-2",children:["Record: ",c.totalWins,"-",c.totalLosses,"-",c.totalTies," | Career DPR: ",Qb(c.avgDPR),(0,C.jsxs)("div",{className:"flex justify-center items-center gap-2 whitespace-nowrap mt-1",children:[c.totalChampionships>0&&(0,C.jsxs)("span",{title:"Sween Bowl Champion (".concat(c.totalChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-yellow-500 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalChampionships,"x"]})]}),c.totalRunnerUps>0&&(0,C.jsxs)("span",{title:"Sween Bowl Runner-Up (".concat(c.totalRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-gray-400 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalRunnerUps,"x"]})]}),c.totalThirdPlaces>0&&(0,C.jsxs)("span",{title:"3rd Place Finish (".concat(c.totalThirdPlaces,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-amber-800 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalThirdPlaces,"x"]})]}),c.totalPointsChampionships>0&&(0,C.jsxs)("span",{title:"1st Place - Points (".concat(c.totalPointsChampionships,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-yellow-500 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalPointsChampionships,"x"]})]}),c.totalPointsRunnerUps>0&&(0,C.jsxs)("span",{title:"2nd Place - Points (".concat(c.totalPointsRunnerUps,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-gray-400 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalPointsRunnerUps,"x"]})]}),c.totalThirdPlacePoints>0&&(0,C.jsxs)("span",{title:"3rd Place - Points (".concat(c.totalThirdPlacePoints,"x)"),className:"flex items-center space-x-1 whitespace-nowrap",children:[(0,C.jsx)("i",{className:"fas fa-medal text-amber-800 text-2xl"}),(0,C.jsxs)("span",{className:"text-xs font-medium",children:[c.totalThirdPlacePoints,"x"]})]})]})]})]})," ",(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"League Ranks"}),(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[(0,C.jsx)(Xb,{title:"Total Wins",value:c.totalWins,rank:c.winRank}),(0,C.jsx)(Xb,{title:"Win %",value:Kb((c.totalWins+.5*c.totalTies)/c.totalGamesPlayed),rank:c.winPercentageRank}),(0,C.jsx)(Xb,{title:"Total Points",value:Gb(c.totalPointsFor),rank:c.pointsForRank}),(0,C.jsx)(Xb,{title:"Weekly Top Scores",value:void 0!==c.overallTopScoreWeeksCount?"".concat(c.overallTopScoreWeeksCount):"N/A",rank:c.topScoreWeeksRank}),(0,C.jsx)(Xb,{title:"Playoff Appearances",value:c.playoffAppearancesCount,rank:c.playoffRank}),(0,C.jsx)(Xb,{title:"Championships",value:c.totalChampionships,rank:c.championshipRank})]})]}),(0,C.jsxs)("section",{className:"mb-8",children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Season History"}),d.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-gray-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("year"),children:["Year ","year"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("record"),children:["Record (W-L-T) ","record"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsFor"),children:["Points For ","pointsFor"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-red-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsAgainst"),children:["Points Against ","pointsAgainst"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-yellow-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("luckRating"),children:["Luck Rating ","luckRating"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-purple-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("finish"),children:["Finish ","finish"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("pointsFinish"),children:["Points Finish ","pointsFinish"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("adjustedDPR"),children:["Adjusted DPR ","adjustedDPR"===m&&("asc"===y?"\u25b2":"\u25bc")]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-xs font-semibold text-green-700 uppercase tracking-wider border-b border-gray-200 text-center cursor-pointer",onClick:()=>x("allPlayWinPercentage"),children:["All-Play Win % ","allPlayWinPercentage"===m&&("asc"===y?"\u25b2":"\u25bc")]})]})}),(0,C.jsx)("tbody",{children:b.map((e,t)=>(0,C.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:e.year}),(0,C.jsxs)("td",{className:"py-2 px-3 text-sm text-gray-800 text-center",children:[e.wins,"-",e.losses,"-",e.ties]}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Gb(e.pointsFor)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Gb(e.pointsAgainst)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Yb(e.luckRating)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.finish}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:e.pointsFinish}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Qb(e.adjustedDPR)}),(0,C.jsx)("td",{className:"py-2 px-3 text-sm text-gray-700 text-center",children:Kb(e.allPlayWinPercentage)})]},e.year))})]})}):(0,C.jsxs)("p",{className:"text-gray-600",children:["No season-by-season data available for ",n," for completed seasons."]})]})]}):(0,C.jsxs)("div",{className:"w-full bg-white p-8 rounded-lg shadow-md mt-8 text-center text-red-500",children:["No data found for ",n,"."]})};var Jb=rv({chartName:"BarChart",GraphicalChild:om,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tb},{axisType:"yAxis",AxisComp:hb}],formatAxisMap:hm});const Zb=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e||isNaN(e))return"N/A";const r=[...new Set(t.filter(e=>null!==e&&"undefined"!==typeof e&&!isNaN(e)))].sort((e,t)=>n?t-e:e-t),a=r.indexOf(e)+1;return a>0?"".concat(a).concat((e=>{const t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"})(a)):"N/A"},ex=()=>{const{loading:e,error:n,historicalData:r,getTeamName:a,careerDPRData:o,nflState:i}=L(),[s,l]=(0,t.useState)({}),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)({});(0,t.useEffect)(()=>{if(e||n)return void h(!0);if(!r||0===Object.keys(r.matchupsBySeason||{}).length)return l({}),p({}),void h(!1);h(!0);const t={},o={},s=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,c=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;Object.entries(r.matchupsBySeason).forEach(e=>{let[t,n]=e;const a={};n.forEach(e=>{const n=parseInt(e.week),r=parseInt(t);if(s){if(r>s)return;if(r===s&&c&&n>c)return}e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),Object.entries(a).forEach(e=>{var n;let[a,i]=e;const s=(null===(n=r.rostersBySeason)||void 0===n?void 0:n[t])||[],l=[];if(i.forEach(e=>{const t=s.find(t=>String(t.roster_id)===String(e.team1_roster_id)),n=s.find(t=>String(t.roster_id)===String(e.team2_roster_id)),r=null===t||void 0===t?void 0:t.owner_id,a=null===n||void 0===n?void 0:n.owner_id,o=parseFloat(e.team1_score),i=parseFloat(e.team2_score);r&&!isNaN(o)&&l.push({ownerId:r,score:o}),a&&!isNaN(i)&&l.push({ownerId:a,score:i})}),0===l.length)return;const c=Math.max(...l.map(e=>e.score)),u=l.filter(e=>e.score===c).map(e=>e.ownerId);u.forEach(e=>{o[e]=(o[e]||0)+1})})}),Object.entries(r.matchupsBySeason).forEach(e=>{var n,o,i,l;let[u,d]=e;const h=r.leaguesMetadataBySeason[u],f=null!==h&&void 0!==h&&null!==(n=h.settings)&&void 0!==n&&n.championship_week?parseInt(h.settings.championship_week):null,p=(null===(o=r.rostersBySeason)||void 0===o?void 0:o[u])||[],m=(null===(i=r.winnersBracketBySeason)||void 0===i?void 0:i[u])||[],g=(null===(l=r.losersBracketBySeason)||void 0===l?void 0:l[u])||[];d.forEach(e=>{const n=parseInt(e.week),r=parseInt(u);if(s){if(r>s)return;if(r===s&&c&&n>c)return}const o=String(e.team1_roster_id),i=String(e.team2_roster_id),l=parseFloat(e.team1_score),d=parseFloat(e.team2_score);if(!o||!i||o===i||isNaN(l)||isNaN(d))return;const h=p.find(e=>String(e.roster_id)===o),y=p.find(e=>String(e.roster_id)===i),v=null===h||void 0===h?void 0:h.owner_id,b=null===y||void 0===y?void 0:y.owner_id;if(!v||!b)return;const x=a(v,u),w=a(b,u);if(x.startsWith("Unknown Team")||w.startsWith("Unknown Team"))return;const S=l===d,_=l>d;let k="Reg. Season";const j=String(e.team1_roster_id),N=String(e.team2_roster_id),P=e=>e.find(e=>{const t=[String(e.t1),String(e.t2)].filter(Boolean);return parseInt(e.week)===n&&t.includes(j)&&t.includes(N)}),O=P(m),E=P(g);if(O)if(O.p){const e=O.p;k=1===e?"Championship Game":3===e?"3rd Place Game":5===e?"5th Place Game":7===e?"7th Place Game":9===e?"9th Place Game":11===e?"11th Place Game":"".concat(e,"th Place Game")}else k=f&&n===f?"Championship Game":"Playoffs";else if(E)if(E.p){const e=E.p;k=1===e?"7th Place Game":3===e?"9th Place Game":5===e?"11th Place Game":"Placement Game"}else k="Consolation";else e.playoff&&(k="Playoffs (Uncategorized)");const T=[v,b].sort(),A="".concat(T[0]," vs ").concat(T[1]);t[A]||(t[A]={owners:T,[T[0]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},[T[1]]:{wins:0,losses:0,ties:0,playoffWins:0,playoffLosses:0,playoffTies:0},allMatches:[]});const C=t[A];let I="Tie",D="Tie";_?(I=v,D=b):d>l&&(I=b,D=v);const M=v===T[0]?C[T[0]]:C[T[1]],R=b===T[0]?C[T[0]]:C[T[1]],L=k.includes("Playoff")||k.includes("Championship")||k.includes("Consolation");S?(M.ties++,R.ties++,L&&(M.playoffTies++,R.playoffTies++)):_?(M.wins++,R.losses++,L&&(M.playoffWins++,R.playoffLosses++)):(R.wins++,M.losses++,L&&(R.playoffWins++,M.playoffLosses++)),C.allMatches.push({year:parseInt(u),week:e.week,matchupId:e.match_id,team1RosterId:o,team2RosterId:i,team1OwnerId:v,team2OwnerId:b,team1Score:l,team2Score:d,winnerOwnerId:I,loserOwnerId:D,winnerDisplayName:I===v?x:w,loserDisplayName:D===v?x:w,winnerScore:I===v?l:d,loserScore:D===v?l:d,isTie:S,matchType:k})})}),l(t),p(o),h(!1)},[r,a,e,n]);const m=(0,t.useMemo)(()=>{const e=new Set;Object.values(s).forEach(t=>{t.owners.forEach(t=>e.add(t))});return Array.from(e).map(e=>({ownerId:e,displayName:a(e,null)})).sort((e,t)=>e.displayName.localeCompare(t.displayName))},[s,a]),g=(0,t.useCallback)(()=>{const e=s[c];if(!e)return null;const t=e.owners[0],n=e.owners[1],r=a(t,null),l=a(n,null),d=e[t];e[n];let h={value:null,year:null,week:null,ownerId:null},p={value:null,year:null,week:null,winningOwnerId:null},m={value:1/0,year:null,week:null,winningOwnerId:null},g=0,y=0,v=null,b=0;const x=[...e.allMatches].sort((e,t)=>e.year!==t.year?e.year-t.year:e.week-t.week),w=null!==i&&void 0!==i&&i.season?parseInt(i.season):null,S=null!==i&&void 0!==i&&i.week?parseInt(i.week):null;let _=0;const k=x.filter(e=>{const t=parseInt(e.year),n=parseInt(e.week),r="number"===typeof e.team1Score&&!isNaN(e.team1Score)&&"number"===typeof e.team2Score&&!isNaN(e.team2Score);return!(w&&t>w)&&(!(w&&t===w&&S&&n>S)&&((0!==e.team1Score||0!==e.team2Score)&&r))}).map(e=>{let n,r;e.team1OwnerId===t?(n=e.team1Score,r=e.team2Score):(n=e.team2Score,r=e.team1Score);const a=n-r;return _+=a,{name:"".concat(e.year," W").concat(e.week),netPoints:a,cumulativeNetPoints:_,positiveCumulativeNetPoints:_>=0?_:0,negativeCumulativeNetPoints:_<0?_:0,mainTeamScore:n,oppTeamScore:r,week:e.week,year:e.year}});console.log("Net Points Data for chart:",k),x.forEach(e=>{let r,a;if(e.team1OwnerId===t)r=e.team1Score,a=e.team2Score;else{if(e.team1OwnerId!==n)return;r=e.team2Score,a=e.team1Score}if(!isNaN(r)&&!isNaN(a)){if(g+=r,y+=a,r>(h.value||0)&&(h={value:r,year:e.year,week:e.week,ownerId:e.team1OwnerId}),a>(h.value||0)&&(h={value:a,year:e.year,week:e.week,ownerId:e.team2OwnerId}),!e.isTie){const o=Math.abs(r-a);o>(p.value||0)&&(p={value:o,year:e.year,week:e.week,winningOwnerId:r>a?t:n})}if(!e.isTie){const o=Math.abs(r-a);o<m.value&&(m={value:o,year:e.year,week:e.week,winningOwnerId:r>a?t:n})}if(e.isTie)v=null,b=0;else{const e=r>a?t:n;v===e?b++:(v=e,b=1)}}});v&&"".concat(a(v,null)," ").concat(b,"-game W streak");const j=o?o.map(e=>e.wins):[],N=o?o.map(e=>e.winPercentage):[],P=o?o.map(e=>e.dpr):[],O=o?o.map(e=>e.pointsFor):[],E=o?o.map(e=>e.highScore):[];return(0,C.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md border border-gray-200",children:[(0,C.jsx)("button",{onClick:()=>u(null),className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"\u2190 Back to All Rivalries"}),(0,C.jsxs)("div",{className:"text-center mb-6",children:[(0,C.jsxs)("h3",{className:"text-2xl font-extrabold text-gray-800 mb-2",children:[r," vs ",l]}),(0,C.jsx)("p",{className:"text-sm text-gray-600",children:"Performance, stats, and records"})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-6 items-center",children:[(()=>{const e=t,r=a(e,null),i=null===o||void 0===o?void 0:o.find(t=>t.ownerId===e),s=n,l=null===o||void 0===o?void 0:o.find(e=>e.ownerId===s),c=i?i.wins:null,u=i&&"number"===typeof i.winPercentage?i.winPercentage:null,d=i?i.dpr:null,h=f[e]||0,p=i?i.highScore:null,m=i?i.pointsFor:null;let g=0;i&&(g+=10*(i.championships||0),g+=6*(i.runnerUps||0),g+=4*(i.thirdPlaces||0),g+=8*(i.pointsChampionships||0),g+=5*(i.pointsRunnerUps||0),g+=3*(i.thirdPlacePoints||0));const y=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],v=Zb(g,y,!0),b=(()=>{if(!l)return 0;let e=0;return e+=10*(l.championships||0),e+=6*(l.runnerUps||0),e+=4*(l.thirdPlaces||0),e+=8*(l.pointsChampionships||0),e+=5*(l.pointsRunnerUps||0),e+=3*(l.thirdPlacePoints||0),e})();let x="bg-blue-50";g>b?x="bg-green-100 text-green-800":g<b?x="bg-red-100 text-red-800":g===b&&0!==g&&(x="bg-yellow-100 text-yellow-800");const w=l?l.wins:null,S=l?l.winPercentage:null,_=l?l.dpr:null,k=(l&&l.highScore,l?l.pointsFor:null),T=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},A=Zb(c,j,!0),I=Zb(u,N,!0),D=Zb(d,P,!0),M=(Zb(p,E,!0),Zb(m,O,!0)),R=f[s]||0;let L="p-2 rounded-md ";L+=h>R?"bg-green-100 text-green-800":h<R?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=T(u,S,!0),B=(e,t,n,r)=>(0,C.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,C.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,C.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,C.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,C.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,C.jsx)("div",{className:"w-16 h-16 bg-blue-200 rounded-full flex items-center justify-center text-blue-800 font-bold text-2xl mb-3",children:r.charAt(0)}),(0,C.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:r}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[B(A,"Total Wins",null!==c?c:"N/A",T(c,w)),B(I,"Win %",null!==u?u.toFixed(3)+"%":"N/A",F),B(D,"Career DPR",null!==d?d.toFixed(3):"N/A",T(d,_)),B(Zb(h,Object.values(f),!0),"Weekly High Score",h,L),B(M,"Total Points",null!==m?m.toFixed(2):"N/A",T(m,k)),B(v,"Medal Score",g,x)]})]})})(),(0,C.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,C.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-xl shadow-lg border border-blue-600 text-center w-full max-w-xs mx-auto",children:[(0,C.jsx)("h4",{className:"text-2xl font-extrabold mb-3 tracking-wide",children:"\u2605 VERSUS \u2605"}),(0,C.jsxs)("p",{className:"text-xl font-semibold mb-2",children:["Record: ",(0,C.jsx)("span",{className:"font-bold",children:d.ties&&d.ties>0?(T=d,T?"".concat(T.wins||0,"-").concat(T.losses||0,"-").concat(T.ties||0):"0-0-0"):"".concat(d.wins||0,"-").concat(d.losses||0)})]}),v?(0,C.jsxs)("p",{className:"text-lg mb-2",children:["Streak: ",v===t?"W-".concat(b):"L-".concat(b)]}):(0,C.jsx)("div",{className:"mb-2 h-6"}),(0,C.jsxs)("p",{className:"text-lg",children:["Playoff Record: ",(0,C.jsx)("span",{className:"font-bold",children:(()=>{const n=e.allMatches.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.winnerOwnerId===t).length,r=e.allMatches.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.loserOwnerId===t).length,a=e.allMatches.filter(e=>("Playoffs"===e.matchType||"Championship Game"===e.matchType)&&e.isTie).length;return a>0?"".concat(n,"-").concat(r,"-").concat(a):"".concat(n,"-").concat(r)})()})]})]})}),(()=>{const e=n,r=a(e,null),i=null===o||void 0===o?void 0:o.find(t=>t.ownerId===e),s=t,l=null===o||void 0===o?void 0:o.find(e=>e.ownerId===s),c=i?i.wins:null,u=i&&"number"===typeof i.winPercentage?i.winPercentage:null,d=i?i.dpr:null,h=f[e]||0,p=i?i.highScore:null,m=i?i.pointsFor:null;let g=0;i&&(g+=10*(i.championships||0),g+=6*(i.runnerUps||0),g+=4*(i.thirdPlaces||0),g+=8*(i.pointsChampionships||0),g+=5*(i.pointsRunnerUps||0),g+=3*(i.thirdPlacePoints||0));const y=o?o.map(e=>{let t=0;return t+=10*(e.championships||0),t+=6*(e.runnerUps||0),t+=4*(e.thirdPlaces||0),t+=8*(e.pointsChampionships||0),t+=5*(e.pointsRunnerUps||0),t+=3*(e.thirdPlacePoints||0),t}):[],v=Zb(g,y,!0),b=(()=>{if(!l)return 0;let e=0;return e+=10*(l.championships||0),e+=6*(l.runnerUps||0),e+=4*(l.thirdPlaces||0),e+=8*(l.pointsChampionships||0),e+=5*(l.pointsRunnerUps||0),e+=3*(l.thirdPlacePoints||0),e})();let x="bg-blue-50";g>b?x="bg-green-100 text-green-800":g<b?x="bg-red-100 text-red-800":g===b&&0!==g&&(x="bg-yellow-100 text-yellow-800");const w=l?l.wins:null,S=l?l.winPercentage:null,_=l?l.dpr:null,k=(l&&l.highScore,l?l.pointsFor:null),T=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||null===t||"undefined"===typeof e||"undefined"===typeof t||isNaN(e)||isNaN(t)?"bg-blue-50":e===t?"bg-yellow-100 text-yellow-800":n?e>t?"bg-green-100 text-green-800":"bg-red-100 text-red-800":e<t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},A=Zb(c,j,!0),I=Zb(u,N,!0),D=Zb(d,P,!0),M=(Zb(p,E,!0),Zb(m,O,!0)),R=f[s]||0;let L="p-2 rounded-md ";L+=h>R?"bg-green-100 text-green-800":h<R?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";const F=T(u,S,!0),B=(e,t,n,r)=>(0,C.jsxs)("div",{className:r+" flex flex-col items-center justify-center aspect-[5/3] w-full h-full rounded-lg shadow-sm",children:[(0,C.jsx)("span",{className:"block text-base font-bold mb-1",children:e}),(0,C.jsxs)("span",{className:"block text-xs font-semibold text-center",children:[t," ",(0,C.jsxs)("span",{className:"font-normal",children:["(",n,")"]})]})]});return(0,C.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200 flex flex-col items-center text-center",children:[(0,C.jsx)("div",{className:"w-16 h-16 bg-blue-200 rounded-full flex items-center justify-center text-blue-800 font-bold text-2xl mb-3",children:r.charAt(0)}),(0,C.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:r}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full text-xs font-medium text-gray-700",children:[B(A,"Total Wins",null!==c?c:"N/A",T(c,w)),B(I,"Win %",null!==u?u.toFixed(3)+"%":"N/A",F),B(D,"Career DPR",null!==d?d.toFixed(3):"N/A",T(d,_)),B(Zb(h,Object.values(f),!0),"Weekly High Score",h,L),B(M,"Total Points",null!==m?m.toFixed(2):"N/A",T(m,k)),B(v,"Medal Score",g,x)]})]})})()]}),(0,C.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-2 border-b pb-2",children:"Net Points Over Time"}),(0,C.jsxs)("div",{className:"w-full h-64 mb-8",children:[(0,C.jsx)(Qe,{width:"100%",height:"100%",children:(0,C.jsxs)(Jb,{data:k,margin:{top:10,right:30,left:0,bottom:0},children:[(0,C.jsx)(Ab,{strokeDasharray:"3 3"}),(0,C.jsx)(tb,{dataKey:"name",fontSize:12,angle:-30,textAnchor:"end",height:50,interval:0,tickFormatter:(e,t)=>e,ticks:k.map(e=>e.name)}),(0,C.jsx)(hb,{domain:["auto","auto"],fontSize:12}),(0,C.jsx)($t,{formatter:(e,t)=>["number"===typeof e?e.toFixed(2):e,"Cumulative Net Points"]}),(0,C.jsx)(ig,{y:0,stroke:"#374151",strokeWidth:2}),(0,C.jsx)(om,{dataKey:"cumulativeNetPoints",children:k.map((e,t)=>(0,C.jsx)(Mf,{fill:e.cumulativeNetPoints>=0?"#10b981":"#ef4444"},"cell-".concat(t)))})]})}),(0,C.jsxs)("div",{className:"text-xs text-center mt-2 text-gray-600",children:["Green area: ",r," outscored ",l,". Red area: ",l," outscored ",r,"."]})]}),(0,C.jsx)("h4",{className:"text-xl font-bold text-gray-800 mt-6 mb-4 border-b pb-2",children:"Matchup Highlights"}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,C.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,C.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Highest Score"}),(0,C.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==h.value?h.value.toFixed(2):"N/A"}),(0,C.jsx)("p",{className:"text-xs text-gray-500",children:null!==h.value&&h.ownerId?"".concat(a(h.ownerId,null)," (").concat(h.year," Week ").concat(h.week,")"):""})]}),(0,C.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,C.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Biggest Win Margin"}),(0,C.jsx)("p",{className:"text-xl font-bold text-gray-800",children:null!==p.value?p.value.toFixed(2):"N/A"}),(0,C.jsx)("p",{className:"text-xs text-gray-500",children:null!==p.value&&p.winningOwnerId?"".concat(a(p.winningOwnerId,null)," (").concat(p.year," Week ").concat(p.week,")"):""})]}),(0,C.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,C.jsx)("p",{className:"text-md font-semibold text-blue-700",children:"Slimmest Win Margin"}),(0,C.jsx)("p",{className:"text-xl font-bold text-gray-800",children:m.value!==1/0?m.value.toFixed(2):"N/A"}),(0,C.jsx)("p",{className:"text-xs text-gray-500",children:m.value!==1/0&&m.winningOwnerId?"".concat(a(m.winningOwnerId,null)," (").concat(m.year," Week ").concat(m.week,")"):""})]})]}),(0,C.jsx)("h4",{className:"text-lg font-bold text-gray-800 mt-6 mb-3 border-b pb-2",children:"Match History"}),(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,C.jsx)("thead",{className:"bg-gray-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Year"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Week"}),(0,C.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[r," Score"]}),(0,C.jsxs)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:[l," Score"]}),(0,C.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Winner"}),(0,C.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-blue-700",children:"Type"})]})}),(0,C.jsx)("tbody",{children:e.allMatches.sort((e,t)=>t.year-e.year||t.week-e.week).map((e,r)=>{let a=e.team1OwnerId===t?e.team1Score:e.team2Score,o=e.team1OwnerId===n?e.team1Score:e.team2Score;return(0,C.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,C.jsx)("td",{className:"py-2 px-3",children:e.year}),(0,C.jsx)("td",{className:"py-2 px-3",children:e.week}),(0,C.jsx)("td",{className:"py-2 px-3",children:a.toFixed(2)}),(0,C.jsx)("td",{className:"py-2 px-3",children:o.toFixed(2)}),(0,C.jsx)("td",{className:"py-2 px-3",children:"Tie"===e.winnerDisplayName?"Tie":e.winnerDisplayName}),(0,C.jsx)("td",{className:"py-2 px-3 text-xs text-gray-500",children:e.matchType})," "]},r)})})]})})]});var T},[c,s,o,a,r]);return d?(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] text-blue-600",children:[(0,C.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,C.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,C.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,C.jsx)("p",{className:"text-lg font-medium",children:"Loading Head-to-Head data..."})]}):n?(0,C.jsxs)("div",{className:"text-center text-red-600 text-lg p-4",children:[(0,C.jsxs)("p",{children:["Error loading historical data: ",n.message||String(n)]}),(0,C.jsx)("p",{children:"Please check your Sleeper API configuration and network connection."})]}):r&&0!==Object.keys(r.matchupsBySeason||{}).length?(0,C.jsx)("div",{className:"w-full",children:c?g():(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Head-to-Head Rivalries"}),(0,C.jsxs)("div",{className:"overflow-x-auto relative",children:[" ",(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 sticky left-0 bg-blue-50 z-20 shadow-sm"}),m.map(e=>(0,C.jsxs)("th",{className:"py-2 px-3 text-center text-xs font-semibold text-blue-700 uppercase tracking-wider border-b border-gray-200 min-w-[90px] sticky top-0 bg-blue-50 z-10",children:[" ",e.displayName]},e.ownerId))]})}),(0,C.jsx)("tbody",{children:m.map(e=>(0,C.jsxs)("tr",{className:"border-b border-gray-100 last:border-b-0",children:[(0,C.jsxs)("td",{className:"py-2 px-3 text-left text-sm text-gray-800 font-semibold sticky left-0 bg-white z-20 border-r border-gray-200 shadow-sm",children:[" ",e.displayName]}),m.map(t=>{if(e.ownerId===t.ownerId)return(0,C.jsx)("td",{className:"py-2 px-3 text-center text-sm text-gray-400 bg-gray-100 border-b border-gray-200",children:"---"},"".concat(e.ownerId,"-").concat(t.ownerId));const n=[e.ownerId,t.ownerId].sort().join(" vs "),r=s[n];let a="0-0",o="py-2 px-3 text-center text-sm border-b border-gray-200 cursor-pointer ";if(r){const t=r[e.ownerId];t.wins+t.losses+t.ties>0?(a="".concat(t.wins,"-").concat(t.losses),t.wins>t.losses?o+="bg-green-100 text-green-800 hover:bg-green-200":t.losses>t.wins?o+="bg-red-100 text-red-800 hover:bg-red-200":o+="bg-yellow-100 text-yellow-800 hover:bg-yellow-200"):o+="text-gray-600 bg-white hover:bg-gray-50"}else o+="text-gray-600 bg-white hover:bg-gray-50";return(0,C.jsx)("td",{className:o,onClick:()=>r&&u(n),children:a},"".concat(e.ownerId,"-").concat(t.ownerId))})]},e.ownerId))})]})]}),(0,C.jsx)("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"Click on any record in the grid for more detailed head-to-head statistics."})]})}):(0,C.jsx)("div",{className:"text-center text-orange-600 text-lg p-4",children:"No historical matchup data available to build Head-to-Head grid."})},tx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],o=a+1<e.length,i=o?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){const o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const i=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==o||null==i||null==s)throw new rx;const l=t<<2|o>>4;if(r.push(l),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==s){const e=i<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ax=function(e){return function(e){const t=tx(e);return nx.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ox=function(e){try{return nx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const ix=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,sx=()=>{try{return ix()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ox(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lx=e=>{var t,n;return null===(n=null===(t=sx())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},cx=()=>{var e;return null===(e=sx())||void 0===e?void 0:e.config},ux=e=>{var t;return null===(t=sx())||void 0===t?void 0:t["_".concat(e)]};class dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function hx(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fx(){return!function(){var e;const t=null===(e=sx())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function px(){try{return"object"===typeof indexedDB}catch(e){return!1}}class mx extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,mx.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gx.prototype.create)}}class gx{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(yx,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new mx(n,o,t)}}const yx=/\{\$([^}]+)}/g;function vx(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],o=t[a];if(bx(n)&&bx(o)){if(!vx(n,o))return!1}else if(n!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function bx(e){return null!==e&&"object"===typeof e}function xx(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wx(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Sx(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class _x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=kx),void 0===r.error&&(r.error=kx),void 0===r.complete&&(r.complete=kx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kx(){}function jx(e){return e&&e._delegate?e._delegate:e}class Nx{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Px="[DEFAULT]";class Ox{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new dx;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Px})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Px?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px;return this.component?this.component.multipleInstances?e:Px:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ox(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tx=[];var Ax;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ax||(Ax={}));const Cx={debug:Ax.DEBUG,verbose:Ax.VERBOSE,info:Ax.INFO,warn:Ax.WARN,error:Ax.ERROR,silent:Ax.SILENT},Ix=Ax.INFO,Dx={[Ax.DEBUG]:"log",[Ax.VERBOSE]:"log",[Ax.INFO]:"info",[Ax.WARN]:"warn",[Ax.ERROR]:"error"},Mx=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dx[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Rx{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Mx,this._userLogHandler=null,Tx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ax))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ax.DEBUG,...t),this._logHandler(this,Ax.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ax.VERBOSE,...t),this._logHandler(this,Ax.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ax.INFO,...t),this._logHandler(this,Ax.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ax.WARN,...t),this._logHandler(this,Ax.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ax.ERROR,...t),this._logHandler(this,Ax.ERROR,...t)}}let Lx,Fx;const Bx=new WeakMap,Ux=new WeakMap,Wx=new WeakMap,zx=new WeakMap,Vx=new WeakMap;let Hx={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ux.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wx.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kx(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qx(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fx||(Fx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yx(this),n),Kx(Bx.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kx(e.apply(Yx(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const o=e.call(Yx(this),t,...r);return Wx.set(o,t.sort?t.sort():[t]),Kx(o)}}function Gx(e){return"function"===typeof e?qx(e):(e instanceof IDBTransaction&&function(e){if(Ux.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Ux.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Lx||(Lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hx):e)}function Kx(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(Kx(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Bx.set(t,e)}).catch(()=>{}),Vx.set(t,e),t}(e);if(zx.has(e))return zx.get(e);const t=Gx(e);return t!==e&&(zx.set(e,t),Vx.set(t,e)),t}const Yx=e=>Vx.get(e);const Qx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],$x=new Map;function Jx(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($x.get(t))return $x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Xx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Qx.includes(n))return;const o=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let o=t.store;for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),a&&t.done]))[0]};return $x.set(t,o),o}Hx=(e=>l(l({},e),{},{get:(t,n,r)=>Jx(t,n)||e.get(t,n,r),has:(t,n)=>!!Jx(t,n)||e.has(t,n)}))(Hx);class Zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ew="@firebase/app",tw="0.10.13",nw=new Rx("@firebase/app"),rw="@firebase/app-compat",aw="@firebase/analytics-compat",ow="@firebase/analytics",iw="@firebase/app-check-compat",sw="@firebase/app-check",lw="@firebase/auth",cw="@firebase/auth-compat",uw="@firebase/database",dw="@firebase/data-connect",hw="@firebase/database-compat",fw="@firebase/functions",pw="@firebase/functions-compat",mw="@firebase/installations",gw="@firebase/installations-compat",yw="@firebase/messaging",vw="@firebase/messaging-compat",bw="@firebase/performance",xw="@firebase/performance-compat",ww="@firebase/remote-config",Sw="@firebase/remote-config-compat",_w="@firebase/storage",kw="@firebase/storage-compat",jw="@firebase/firestore",Nw="@firebase/vertexai-preview",Pw="@firebase/firestore-compat",Ow="firebase",Ew="[DEFAULT]",Tw={[ew]:"fire-core",[rw]:"fire-core-compat",[ow]:"fire-analytics",[aw]:"fire-analytics-compat",[sw]:"fire-app-check",[iw]:"fire-app-check-compat",[lw]:"fire-auth",[cw]:"fire-auth-compat",[uw]:"fire-rtdb",[dw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[fw]:"fire-fn",[pw]:"fire-fn-compat",[mw]:"fire-iid",[gw]:"fire-iid-compat",[yw]:"fire-fcm",[vw]:"fire-fcm-compat",[bw]:"fire-perf",[xw]:"fire-perf-compat",[ww]:"fire-rc",[Sw]:"fire-rc-compat",[_w]:"fire-gcs",[kw]:"fire-gcs-compat",[jw]:"fire-fst",[Pw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"},Aw=new Map,Cw=new Map,Iw=new Map;function Dw(e,t){try{e.container.addComponent(t)}catch(n){nw.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Mw(e){const t=e.name;if(Iw.has(t))return nw.debug("There were multiple attempts to register component ".concat(t,".")),!1;Iw.set(t,e);for(const n of Aw.values())Dw(n,e);for(const n of Cw.values())Dw(n,e);return!0}function Rw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lw(e){return void 0!==e.settings}const Fw=new gx("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Bw{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fw.create("app-deleted",{appName:this._name})}}const Uw="10.14.1";function Ww(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ew,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Fw.create("bad-app-name",{appName:String(a)});if(n||(n=cx()),!n)throw Fw.create("no-options");const o=Aw.get(a);if(o){if(vx(n,o.options)&&vx(r,o.config))return o;throw Fw.create("duplicate-app",{appName:a})}const i=new Ex(a);for(const l of Iw.values())i.addComponent(l);const s=new Bw(n,r,i);return Aw.set(a,s),s}function zw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ew;const t=Aw.get(e);if(!t&&e===Ew&&cx())return Ww();if(!t)throw Fw.create("no-app",{appName:e});return t}function Vw(e,t,n){var r;let a=null!==(r=Tw[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const o=a.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nw.warn(e.join(" "))}Mw(new Nx("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const Hw="firebase-heartbeat-store";let qw=null;function Gw(){return qw||(qw=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),s=Kx(i);return r&&i.addEventListener("upgradeneeded",e=>{r(Kx(i.result),e.oldVersion,e.newVersion,Kx(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Hw)}catch(n){console.warn(n)}}}).catch(e=>{throw Fw.create("idb-open",{originalErrorMessage:e.message})})),qw}async function Kw(e,t){try{const n=(await Gw()).transaction(Hw,"readwrite"),r=n.objectStore(Hw);await r.put(t,Yw(e)),await n.done}catch(n){if(n instanceof mx)nw.warn(n.message);else{const e=Fw.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});nw.warn(e.message)}}}function Yw(e){return"".concat(e.name,"!").concat(e.options.appId)}class Qw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $w(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xw();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){nw.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Xw(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Jw(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Jw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=ax(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return nw.warn(t),""}}}function Xw(){return(new Date).toISOString().substring(0,10)}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!px()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Gw()).transaction(Hw),n=await t.objectStore(Hw).get(Yw(e));return await t.done,n}catch(t){if(t instanceof mx)nw.warn(t.message);else{const e=Fw.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});nw.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Jw(e){return ax(JSON.stringify({version:2,heartbeats:e})).length}var Zw;Zw="",Mw(new Nx("platform-logger",e=>new Zx(e),"PRIVATE")),Mw(new Nx("heartbeat",e=>new Qw(e),"PRIVATE")),Vw(ew,tw,Zw),Vw(ew,tw,"esm2017"),Vw("fire-js","");function eS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nS=tS,rS=new gx("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),aS=new Rx("@firebase/auth");function oS(e){if(aS.logLevel<=Ax.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];aS.error("Auth (".concat(Uw,"): ").concat(e),...n)}}function iS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw uS(e,...n)}function sS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uS(e,...n)}function lS(e,t,n){const r=Object.assign(Object.assign({},nS()),{[t]:n});return new gx("auth","Firebase",r).create(t,{appName:e.name})}function cS(e){return lS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return rS.create(e,...n)}function dS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw uS(t,...r)}}function hS(e){const t="INTERNAL ASSERTION FAILED: "+e;throw oS(t),new Error(t)}function fS(e,t){e||hS(t)}function pS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mS(){return"http:"===gS()||"https:"===gS()}function gS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function yS(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mS()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class vS{constructor(e,t){this.shortDelay=e,this.longDelay=t,fS(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hx())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return yS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bS(e,t){fS(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class xS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void hS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void hS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void hS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},SS=new vS(3e4,6e4);function _S(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kS(e,t,n,r){return jS(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},o={};r&&("GET"===t?o=r:a={body:JSON.stringify(r)});const i=xx(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),xS.fetch()(PS(e,e.config.apiHost,n,i),l)})}async function jS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wS),t);try{const t=new ES(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw TS(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const t=a.ok?o.errorMessage:o.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw TS(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw TS(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw TS(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw lS(e,s,i);iS(e,s)}}catch(a){if(a instanceof mx)throw a;iS(e,"network-request-failed",{message:String(a)})}}async function NS(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await kS(e,t,n,r,a);return"mfaPendingCredential"in o&&iS(e,"multi-factor-auth-required",{_serverResponse:o}),o}function PS(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bS(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}function OS(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ES{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(sS(this.auth,"network-request-failed")),SS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function TS(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=sS(e,t,r);return a.customData._tokenResponse=n,a}function AS(e){return void 0!==e&&void 0!==e.enterprise}class CS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OS(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function IS(e,t){return kS(e,"GET","/v2/recaptchaConfig",_S(e,t))}async function DS(e,t){return kS(e,"POST","/v1/accounts:lookup",t)}function MS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function RS(e){return 1e3*Number(e)}function LS(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return oS("JWT malformed, contained fewer than 3 sections"),null;try{const e=ox(n);return e?JSON.parse(e):(oS("Failed to decode base64 JWT payload"),null)}catch(a){return oS("Caught error parsing JWT payload as JSON",null===a||void 0===a?void 0:a.toString()),null}}function FS(e){const t=LS(e);return dS(t,"internal-error"),dS("undefined"!==typeof t.exp,"internal-error"),dS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function BS(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof mx&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class WS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=MS(this.lastLoginAt),this.creationTime=MS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zS(e){var t;const n=e.auth,r=await e.getIdToken(),a=await BS(e,DS(n,{idToken:r}));dS(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const o=a.users[0];e._notifyReloadListener(o);const i=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?VS(o.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,i),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new WS(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function VS(e){return e.map(e=>{var{providerId:t}=e,n=eS(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class HS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dS(e.idToken,"internal-error"),dS("undefined"!==typeof e.idToken,"internal-error"),dS("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):FS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){dS(0!==e.length,"internal-error");const t=FS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(dS(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await jS(e,{},async()=>{const n=xx({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,o=PS(e,r,"/v1/token","key=".concat(a)),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/x-www-form-urlencoded",xS.fetch()(o,{method:"POST",headers:i,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,o=new HS;return n&&(dS("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(dS("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),a&&(dS("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new HS,this.toJSON())}_performRefresh(){return hS("not implemented")}}function qS(e,t){dS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class GS{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=eS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new WS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await BS(this,this.stsTokenManager.getToken(this.auth,e));return dS(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jx(e),r=await n.getIdToken(t),a=LS(r);dS(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o="object"===typeof a.firebase?a.firebase:void 0,i=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:MS(RS(a.auth_time)),issuedAtTime:MS(RS(a.iat)),expirationTime:MS(RS(a.exp)),signInProvider:i||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jx(e);await zS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(dS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new GS(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lw(this.auth.app))return Promise.reject(cS(this.auth));const e=await this.getIdToken();return await BS(this,async function(e,t){return kS(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,o,i,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(i=t.tenantId)&&void 0!==i?i:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;dS(v&&S,e,"internal-error");const _=HS.fromJSON(this.name,S);dS("string"===typeof v,e,"internal-error"),qS(u,e.name),qS(d,e.name),dS("boolean"===typeof b,e,"internal-error"),dS("boolean"===typeof x,e,"internal-error"),qS(h,e.name),qS(f,e.name),qS(p,e.name),qS(m,e.name),qS(g,e.name),qS(y,e.name);const k=new GS({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new HS;r.updateFromServerResponse(t);const a=new GS({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zS(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];dS(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?VS(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),i=new HS;i.updateFromIdToken(n);const s=new GS({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new WS(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(s,l),s}}const KS=new Map;function YS(e){fS(e instanceof Function,"Expected a class definition");let t=KS.get(e);return t?(fS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,KS.set(e,t),t)}class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QS.type="NONE";const XS=QS;function $S(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class JS{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=$S(this.userKey,r.apiKey,a),this.fullPersistenceKey=$S("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?GS._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new JS(YS(XS),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||YS(XS);const o=$S(n,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(o);if(t){const n=GS._fromJSON(e,t);c!==a&&(i=n),a=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],i&&await a._set(o,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(o)}catch(l){}})),new JS(a,e,n)):new JS(a,e,n)}}function ZS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(r_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(o_(t))return"Blackberry";if(i_(t))return"Webos";if(t_(t))return"Safari";if((t.includes("chrome/")||n_(t))&&!t.includes("edge/"))return"Chrome";if(a_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function e_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/firefox\//i.test(e)}function t_(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/crios\//i.test(e)}function r_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/iemobile/i.test(e)}function a_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/android/i.test(e)}function o_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/blackberry/i.test(e)}function i_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/webos/i.test(e)}function s_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function l_(){return function(){const e=hx();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function c_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return s_(e)||a_(e)||i_(e)||o_(e)||/windows phone/i.test(e)||r_(e)}function u_(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ZS(hx());break;case"Worker":t="".concat(ZS(hx()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Uw,"/").concat(r)}class d_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(a){r(a)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class h_{constructor(e){var t,n,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,o,i;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(a=s.containsUppercaseLetter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNonAlphanumericCharacter)||void 0===i||i),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class f_{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new d_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=YS(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await JS.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await DS(this,{idToken:e}),n=await GS._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Lw(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==o||!(null===i||void 0===i?void 0:i.user)||(r=i.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return dS(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zS(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lw(this.app))return Promise.reject(cS(this));const t=e?jx(e):null;return t&&dS(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&dS(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lw(this.app)?Promise.reject(cS(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lw(this.app)?Promise.reject(cS(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(YS(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kS(e,"GET","/v2/passwordPolicy",_S(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new h_(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gx("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kS(e,"POST","/v2/accounts:revokeToken",_S(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&YS(e)||this._popupRedirectResolver;dS(t,this,"argument-error"),this.redirectPersistenceManager=await JS.create(this,[YS(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let o=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(dS(i,this,"internal-error"),i.then(()=>{o||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{o=!0,a()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dS(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(aS.logLevel<=Ax.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];aS.warn("Auth (".concat(Uw,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function p_(e){return jx(e)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new _x(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return dS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let g_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y_(e){return g_.loadJS(e)}function v_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class b_{constructor(e){this.type="recaptcha-enterprise",this.auth=p_(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;AS(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{IS(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new CS(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&AS(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=g_.recaptchaEnterpriseScript;0!==t.length&&(t+=a),y_(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function x_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new b_(e);let o;try{o=await a.verify(n)}catch(s){o=await a.verify(n,!0)}const i=Object.assign({},t);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function w_(e,t,n,r){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await x_(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await x_(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}function S_(e,t,n){const r=p_(e);dS(r._canInitEmulator,r,"emulator-config-failed"),dS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=__(t),{host:i,port:s}=function(e){const t=__(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:k_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:k_(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(i).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function __(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function k_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class j_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hS("not implemented")}_getIdTokenResponse(e){return hS("not implemented")}_linkToIdToken(e,t){return hS("not implemented")}_getReauthenticationResolver(e){return hS("not implemented")}}async function N_(e,t){return kS(e,"POST","/v1/accounts:signUp",t)}async function P_(e,t){return NS(e,"POST","/v1/accounts:signInWithPassword",_S(e,t))}class O_ extends j_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new O_(e,t,"password")}static _fromEmailAndCode(e,t){return new O_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return w_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",P_);case"emailLink":return async function(e,t){return NS(e,"POST","/v1/accounts:signInWithEmailLink",_S(e,t))}(e,{email:this._email,oobCode:this._password});default:iS(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return w_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N_);case"emailLink":return async function(e,t){return NS(e,"POST","/v1/accounts:signInWithEmailLink",_S(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:iS(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function E_(e,t){return NS(e,"POST","/v1/accounts:signInWithIdp",_S(e,t))}class T_ extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new T_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):iS("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=eS(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new T_(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){return E_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,E_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,E_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xx(t)}return e}}const A_={USER_NOT_FOUND:"user-not-found"};class C_ extends j_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new C_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new C_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return NS(e,"POST","/v1/accounts:signInWithPhoneNumber",_S(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await NS(e,"POST","/v1/accounts:signInWithPhoneNumber",_S(e,t));if(n.temporaryProof)throw TS(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return NS(e,"POST","/v1/accounts:signInWithPhoneNumber",_S(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),A_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new C_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class I_{constructor(e){var t,n,r,a,o,i;const s=wx(Sx(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);dS(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(i=s.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=wx(Sx(e)).link,n=t?wx(Sx(t)).deep_link_id:null,r=wx(Sx(e)).deep_link_id;return(r?wx(Sx(r)).link:null)||r||n||t||e}(e);try{return new I_(t)}catch(n){return null}}}class D_{constructor(){this.providerId=D_.PROVIDER_ID}static credential(e,t){return O_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=I_.parseLink(t);return dS(n,"argument-error"),O_._fromEmailAndCode(e,n.code,n.tenantId)}}D_.PROVIDER_ID="password",D_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class R_ extends M_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class L_ extends R_{constructor(){super("facebook.com")}static credential(e){return T_._fromParams({providerId:L_.PROVIDER_ID,signInMethod:L_.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return L_.credentialFromTaggedObject(e)}static credentialFromError(e){return L_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return L_.credential(t.oauthAccessToken)}catch(n){return null}}}L_.FACEBOOK_SIGN_IN_METHOD="facebook.com",L_.PROVIDER_ID="facebook.com";class F_ extends R_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return T_._fromParams({providerId:F_.PROVIDER_ID,signInMethod:F_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return F_.credentialFromTaggedObject(e)}static credentialFromError(e){return F_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return F_.credential(n,r)}catch(a){return null}}}F_.GOOGLE_SIGN_IN_METHOD="google.com",F_.PROVIDER_ID="google.com";class B_ extends R_{constructor(){super("github.com")}static credential(e){return T_._fromParams({providerId:B_.PROVIDER_ID,signInMethod:B_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return B_.credentialFromTaggedObject(e)}static credentialFromError(e){return B_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return B_.credential(t.oauthAccessToken)}catch(n){return null}}}B_.GITHUB_SIGN_IN_METHOD="github.com",B_.PROVIDER_ID="github.com";class U_ extends R_{constructor(){super("twitter.com")}static credential(e,t){return T_._fromParams({providerId:U_.PROVIDER_ID,signInMethod:U_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return U_.credentialFromTaggedObject(e)}static credentialFromError(e){return U_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return U_.credential(n,r)}catch(a){return null}}}U_.TWITTER_SIGN_IN_METHOD="twitter.com",U_.PROVIDER_ID="twitter.com";class W_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await GS._fromIdTokenResponse(e,n,r),o=z_(n);return new W_({user:a,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=z_(n);return new W_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function z_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class V_ extends mx{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,V_.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new V_(e,t,n,r)}}function H_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw V_._fromErrorAndOperation(e,n,t,r);throw n})}async function q_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await BS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return W_._forOperation(e,"link",r)}async function G_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Lw(r.app))return Promise.reject(cS(r));const a="reauthenticate";try{const o=await BS(e,H_(r,a,t,e),n);dS(o.idToken,r,"internal-error");const i=LS(o.idToken);dS(i,r,"internal-error");const{sub:s}=i;return dS(e.uid===s,r,"user-mismatch"),W_._forOperation(e,a,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&iS(r,"user-mismatch"),o}}async function K_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Lw(e.app))return Promise.reject(cS(e));const r="signIn",a=await H_(e,r,t),o=await W_._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(o.user),o}async function Y_(e,t){return K_(p_(e),t)}async function Q_(e){const t=p_(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const X_="__sak";class $_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(X_,"1"),this.storage.removeItem(X_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class J_ extends $_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);l_()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const Z_=J_;class ek extends $_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ek.type="SESSION";const tk=ek;class nk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new nk(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(o).map(async e=>e(t.origin,a)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nk.receivers=[];class ak{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((i,s)=>{const l=rk("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function ok(){return window}function ik(){return"undefined"!==typeof ok().WorkerGlobalScope&&"function"===typeof ok().importScripts}const sk="firebaseLocalStorageDb",lk="firebaseLocalStorage",ck="fbase_key";class uk{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dk(e,t){return e.transaction([lk],t?"readwrite":"readonly").objectStore(lk)}function hk(){const e=indexedDB.open(sk,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(lk,{keyPath:ck})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(lk)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(sk);return new uk(e).toPromise()}(),t(await hk()))})})}async function fk(e,t,n){const r=dk(e,!0).put({[ck]:t,value:n});return new uk(r).toPromise()}function pk(e,t){const n=dk(e,!0).delete(t);return new uk(n).toPromise()}class mk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await hk()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ik()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nk._getInstance(ik()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ak(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hk();return await fk(e,X_,"1"),await pk(e,X_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=dk(e,!1).get(t),r=await new uk(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=dk(e,!1).getAll();return new uk(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mk.type="LOCAL";const gk=mk;v_("rcb"),new vS(3e4,6e4);const yk="recaptcha";async function vk(e,t,n){var r;const a=await n.verify();try{let o;if(dS("string"===typeof a,e,"argument-error"),dS(n.type===yk,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){dS("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kS(e,"POST","/v2/accounts/mfaEnrollment:start",_S(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{dS("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;dS(n,e,"missing-multi-factor-info");const i=await function(e,t){return kS(e,"POST","/v2/accounts/mfaSignIn:start",_S(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return i.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kS(e,"POST","/v1/accounts:sendVerificationCode",_S(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class bk{constructor(e){this.providerId=bk.PROVIDER_ID,this.auth=p_(e)}verifyPhoneNumber(e,t){return vk(this.auth,e,jx(t))}static credential(e,t){return C_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bk.credentialFromTaggedObject(t)}static credentialFromError(e){return bk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?C_._fromTokenResponse(n,r):null}}function xk(e,t){return t?YS(t):(dS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bk.PROVIDER_ID="phone",bk.PHONE_SIGN_IN_METHOD="phone";class wk extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return E_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return E_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return E_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sk(e){return K_(e.auth,new wk(e),e.bypassAuthState)}function _k(e){const{auth:t,user:n}=e;return dS(n,t,"internal-error"),G_(n,new wk(e),e.bypassAuthState)}async function kk(e){const{auth:t,user:n}=e;return dS(n,t,"internal-error"),q_(n,new wk(e),e.bypassAuthState)}class jk{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:o,type:i}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sk;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return _k;default:iS(this.auth,"internal-error")}}resolve(e){fS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nk=new vS(2e3,1e4);class Pk extends jk{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Pk.currentPopupAction&&Pk.currentPopupAction.cancel(),Pk.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dS(e,this.auth,"internal-error"),e}async onExecution(){fS(1===this.filter.length,"Popup operations only handle one event");const e=rk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(sS(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sS(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pk.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sS(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Nk.get())};e()}}Pk.currentPopupAction=null;const Ok=new Map;class Ek extends jk{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ok.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ck(t),r=Ak(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ok.set(this.auth._key(),e)}return this.bypassAuthState||Ok.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Tk(e,t){Ok.set(e._key(),t)}function Ak(e){return YS(e._redirectPersistence)}function Ck(e){return $S("pendingRedirect",e.config.apiKey,e.name)}async function Ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Lw(e.app))return Promise.reject(cS(e));const r=p_(e),a=xk(r,t),o=new Ek(r,a,n),i=await o.execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}class Dk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rk(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sS(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mk(e))}saveEventToCache(e){this.cachedEventUids.add(Mk(e)),this.lastProcessedEventTime=Date.now()}}function Mk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Rk(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fk=/^https?/;async function Bk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return kS(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Uk(r))return}catch(n){}iS(e,"unauthorized-domain")}function Uk(e){const t=pS(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!Fk.test(n))return!1;if(Lk.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Wk=new vS(3e4,6e4);function zk(){const e=ok().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Vk(e){return new Promise((t,n)=>{var r,a,o;function i(){zk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zk(),n(sS(e,"network-request-failed"))},timeout:Wk.get()})}if(null===(a=null===(r=ok().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ok().gapi)||void 0===o?void 0:o.load)){const t=v_("iframefcb");return ok()[t]=()=>{gapi.load?i():n(sS(e,"network-request-failed"))},y_("".concat(g_.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Hk=null,e})}let Hk=null;const qk=new vS(5e3,15e3),Gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yk(e){const t=e.config;dS(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?bS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Uw},a=Kk.get(e.config.apiHost);a&&(r.eid=a);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(xx(r).slice(1))}async function Qk(e){const t=await function(e){return Hk=Hk||Vk(e),Hk}(e),n=ok().gapi;return dS(n,e,"internal-error"),t.open({where:document.body,url:Yk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gk,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=sS(e,"network-request-failed"),o=ok().setTimeout(()=>{r(a)},qk.get());function i(){ok().clearTimeout(o),n(t)}t.ping(i).then(i,()=>{r(a)})}))}const Xk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $k{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Jk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Xk),{width:r.toString(),height:a.toString(),top:o,left:i}),c=hx().toLowerCase();n&&(s=n_(c)?"_blank":n),e_(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return s_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new $k(null);const d=window.open(t||"",s,u);dS(d,e,"popup-blocked");try{d.focus()}catch(h){}return new $k(d)}const Zk="__/auth/handler",ej="emulator/auth/handler",tj=encodeURIComponent("fac");async function nj(e,t,n,r,a,o){dS(e.config.authDomain,e,"auth-domain-config-required"),dS(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Uw,eventId:a};if(t instanceof M_){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))i[e]=t}if(t instanceof R_){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const s=i;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(tj,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zk);return bS(t,ej)}(e),"?").concat(xx(s).slice(1)).concat(c)}const rj="webStorageSupport";const aj=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tk,this._completeRedirectFn=Ik,this._overrideRedirectResult=Tk}async _openPopup(e,t,n,r){var a;fS(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return Jk(e,await nj(e,t,n,pS(),r),rk())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ok().location.href=e}(await nj(e,t,n,pS(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fS(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qk(e),n=new Dk(e);return t.register("authEvent",t=>{dS(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rj,{type:rj},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[rj];void 0!==a&&t(!!a),iS(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return c_()||t_()||s_()}};var oj="@firebase/auth",ij="1.7.9";class sj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lj=ux("authIdTokenMaxAge")||300;let cj=null;function uj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zw();const t=Rw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Rw(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vx(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;iS(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:aj,persistence:[gk,Z_,tk]}),r=ux("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>lj)return;const r=null===t||void 0===t?void 0:t.token;cj!==r&&(cj=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){jx(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){jx(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const o=lx("auth");return o&&S_(n,"http://".concat(o)),n}var dj;!function(e){g_=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),dj="Browser",Mw(new Nx("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:s}=r.options;dS(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:s,clientPlatform:dj,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u_(dj)},c=new f_(r,a,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(YS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Mw(new Nx("auth-internal",e=>(e=>new sj(e))(p_(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Vw(oj,ij,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(dj)),Vw(oj,ij,"esm2017");Vw("firebase","10.14.1","app");var hj,fj,pj="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mj={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var o=e.g[3],i=t+(o^n&(a^o))+r[0]+3614090360&4294967295;i=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=(n=(a=(o=(t=n+(i<<7&4294967295|i>>>25))+((i=o+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(a^o))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=o+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(a^o))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=o+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(a^o))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=o+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^o&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(a^o))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^o&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(a^o))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^o&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(a^o))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^o&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(a^o))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^a^o)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=a+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^o)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=a+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^o)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=a+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^o^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^o)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=a+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(a^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((o=(t=n+((i=t+(a^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((a=o+((i=a+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var o=0|e[a];r&&o==t||(n[a]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,o=this.h,i=0;i<t;){if(0==o)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(a[o++]=e.charCodeAt(i++),o==this.blockSize){n(this,a),o=0;break}}else for(;i<t;)if(a[o++]=e[i++],o==this.blockSize){n(this,a),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(i(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(a=a.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=i(n)).j(t);d(c)||0<c.l(e);)c=(o=i(n-=r)).j(t);u(o)&&(o=l),a=a.add(o),e=f(e,c)}return new m(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,o=[],i=0;i<a;i++)o[i]=0<t?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=i(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,o=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,o=0;o<=t;o++){var i=a+(65535&this.i(o))+(65535&e.i(o)),s=(i>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);a=s>>>16,i&=65535,s&=65535,n[o]=s<<16|i}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return i(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var o=0;o<e.g.length;o++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(o)>>>16,g=65535&e.i(o);n[2*a+2*o]+=f*g,p(n,2*a+2*o),n[2*a+2*o+1]+=l*g,p(n,2*a+2*o+1),n[2*a+2*o+1]+=f*m,p(n,2*a+2*o+1),n[2*a+2*o+2]+=l*m,p(n,2*a+2*o+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,fj=mj.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=i(Math.pow(n,8)),a=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=i(Math.pow(n,l)),a=a.j(l).add(i(c))):a=(a=a.j(r)).add(i(c))}return a},hj=mj.Integer=r}).apply("undefined"!==typeof pj?pj:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gj,yj,vj,bj,xj,wj,Sj,_j,kj="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jj={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof kj&&kj];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in a))break e;a=a[i]}(r=r(o=a[e=e[e.length-1]]))!=o&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){a.setTimeout(()=>{throw e},0)}function k(){var e=E;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,E=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=a.Promise.resolve(void 0);P=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(vn){_(vn)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}O=!1};function C(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(vn){}return e}();function M(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(o){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,I);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function W(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],o=Array.prototype.indexOf.call(a,t,void 0);(r=0<=o)&&Array.prototype.splice.call(a,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var a=0;a<e.length;++a){var o=e[a];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return a}return-1}W.prototype.add=function(e,t,n,r,a){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var i=V(e,t,r,a);return-1<i?(t=e[i],n||(t.fa=!1)):((t=new B(t,this.src,o,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,a){if(r&&r.once)return Y(e,t,n,r,a);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,i(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,o){if(!t)throw Error("Invalid event type");var s=i(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new W(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=s),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,a){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Y(e,t[o],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,i(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Q(e,t,n,r,a){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,a);else r=i(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,r,a))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function $(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof W?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){C.call(this),this.i=new W(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var a=t;w(t=new I(r,e),a)}if(a=!0,n)for(var o=n.length-1;0<=o;o--){var i=t.g=n[o];a=ae(i,r,!0,t)&&a}if(a=ae(i=t.g=e,r,!0,t)&&a,a=ae(i,r,!1,t)&&a,n)for(o=0;o<n.length;o++)a=ae(i=t.g=n[o],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.da&&i.capture==n){var s=i.listener,l=i.ha||i.src;i.fa&&z(e.i,i),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function ie(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,C),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends C{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){C.call(this),this.h=e,this.g={}}d(le,C);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}d(ve,I),d(be,I);var xe={},we=null;function Se(){return we=we||new ne}function _e(e){I.call(this,xe.La,e)}function ke(e){const t=Se();re(t,new _e(t))}function je(e,t){I.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Se();re(t,new je(t,e))}function Pe(e,t){I.call(this,xe.Ma,e),this.size=t}function Oe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function Te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var o=a[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var i=1;i<a.length;i++)a[i]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(_e,I),xe.STAT_EVENT="statevent",d(je,I),xe.Ma="timingevent",d(Pe,I),Ee.prototype.xa=function(){this.g=!1},Ee.prototype.info=function(){};var Ae,Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function Be(e,t,n){e.L=1,e.v=dt(it(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Ve(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var o=0;o<a.length;o++){var i=G(n,a[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,a,o){e.info(function(){if(e.g)if(o)for(var i="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&"type"==d[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i})}(e.i,e.u,e.A,e.l,e.R,e.m)}function We(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(c(e.ba,e),t)}function qe(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||sn(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}nn(n),Ne(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var i=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),i.K){tt(r.h,i);var s=i,l=r.L;l&&(s.I=l),s.B&&(qe(s),Ve(s)),r.g=i}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(We(this)){var r=qt(this.g);e="";var o=r.length,i=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(i&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,o,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+o+" "+i})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),Ge(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Fe){4==h&&(this.s=4,Ne(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Te(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Ye(this,e)}if(We(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Ne(11))}}else Te(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Te(this.i,this.l,s,null),Ye(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[a]||[];t[a]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),Ge(this)}}}catch(Nj){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Ne(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function it(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var o=e[n].substring(0,r);a=e[n].substring(r+1)}else o=e[n];t(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){wt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return wt(e),t=jt(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),h(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(o){}}function Pt(){this.g=new fe}function Ot(e,t,n){const r=n||"";try{rt(e,function(e,n){let a=e;i(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Et(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.v=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,_t(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),e.push(a)}}return this.i=e.join("&")},d(Et,pe),Et.prototype.g=function(){return new Tt(this.l,this.j)},Et.prototype.i=function(e){return function(){return e}}({}),d(Tt,ne),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):It(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Qa=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Wt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var i=String(e.D).match(at)[1]||null;!i&&a.self&&a.self.location&&(i=a.self.location.protocol.slice(0,-1)),o=!Lt.test(i?i.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function Vt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ej){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=it(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(it(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(a.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||T(),O||(P(),O=!0),E.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let i=0;i<n;i++){let n=a[i].g;const s=a[i].map;if(n-=t,0>n)t=Math.max(0,a[i].g-100),o=!1;else try{Ot(s,e,"req"+n+"_")}catch(Nj){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||T(),O||(P(),O=!0),E.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(it(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Se(),new Pe(r,n)),$t(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Oe(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ee;if(a.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?it(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=a.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var i=new ot(null);r&&st(i,r),t&&(i.g=t),o&&lt(i,o),n&&(i.l=n),r=i}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Et({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Bt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){Bt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},e.bb=function(){Wt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(wn){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(wn){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(a.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=it(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Dt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Be(a,n,null)):Be(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new gn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,_j=jj.createWebChannelTransport=function(){return new pn},Sj=jj.getStatEventTarget=function(){return Se()},wj=jj.Event=xe,xj=jj.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,bj=jj.ErrorCode=Ce,Ie.COMPLETE="complete",vj=jj.EventType=Ie,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,yj=jj.WebChannel=ge,jj.FetchXmlHttpFactory=Et,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,gj=jj.XhrIo=Rt}).apply("undefined"!==typeof kj?kj:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Nj="@firebase/firestore";class Pj{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pj.UNAUTHENTICATED=new Pj(null),Pj.GOOGLE_CREDENTIALS=new Pj("google-credentials-uid"),Pj.FIRST_PARTY=new Pj("first-party-uid"),Pj.MOCK_USER=new Pj("mock-user");let Oj="10.14.0";const Ej=new Rx("@firebase/firestore");function Tj(){return Ej.logLevel}function Aj(e){if(Ej.logLevel<=Ax.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Dj);Ej.debug("Firestore (".concat(Oj,"): ").concat(e),...a)}}function Cj(e){if(Ej.logLevel<=Ax.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Dj);Ej.error("Firestore (".concat(Oj,"): ").concat(e),...a)}}function Ij(e){if(Ej.logLevel<=Ax.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Dj);Ej.warn("Firestore (".concat(Oj,"): ").concat(e),...a)}}function Dj(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(YI){return e}}function Mj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Oj,") INTERNAL ASSERTION FAILED: ")+e;throw Cj(t),new Error(t)}function Rj(e,t){e||Mj()}function Lj(e,t){return e}const Fj={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bj extends mx{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Uj{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pj.UNAUTHENTICATED))}shutdown(){}}class Vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hj{constructor(e){this.t=e,this.currentUser=Pj.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rj(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Uj;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Uj,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{Aj("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(Aj("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uj)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Aj("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rj("string"==typeof t.accessToken),new Wj(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rj(null===e||"string"==typeof e),new Pj(e)}}class qj{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Pj.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gj{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pj.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Rj(void 0===this.o);const n=e=>{null!=e.error&&Aj("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Aj("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Aj("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Aj("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Rj("string"==typeof e.token),this.R=e.token,new Kj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qj(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Xj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Qj(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function $j(e,t){return e<t?-1:e>t?1:0}function Jj(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Zj{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bj(Fj.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bj(Fj.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bj(Fj.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bj(Fj.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zj.fromMillis(Date.now())}static fromDate(e){return Zj.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Zj(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$j(this.nanoseconds,e.nanoseconds):$j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class eN{constructor(e){this.timestamp=e}static fromTimestamp(e){return new eN(e)}static min(){return new eN(new Zj(0,0))}static max(){return new eN(new Zj(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tN{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mj(),void 0===n?n=e.length-t:n>e.length-t&&Mj(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===tN.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tN?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nN extends tN{construct(e,t,n){return new nN(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Bj(Fj.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new nN(e)}static emptyPath(){return new nN([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class aN extends tN{construct(e,t,n){return new aN(e,t,n)}static isValidIdentifier(e){return rN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),aN.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new aN(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Bj(Fj.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bj(Fj.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bj(Fj.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(a(),r++)}if(a(),o)throw new Bj(Fj.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new aN(t)}static emptyPath(){return new aN([])}}class oN{constructor(e){this.path=e}static fromPath(e){return new oN(nN.fromString(e))}static fromName(e){return new oN(nN.fromString(e).popFirst(5))}static empty(){return new oN(nN.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nN.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nN.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oN(new nN(e.slice()))}}class iN{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}iN.UNKNOWN_ID=-1;function sN(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=eN.fromTimestamp(1e9===r?new Zj(n+1,0):new Zj(n,r));return new cN(a,oN.empty(),t)}function lN(e){return new cN(e.readTime,e.key,-1)}class cN{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cN(eN.min(),oN.empty(),-1)}static max(){return new cN(eN.max(),oN.empty(),-1)}}function uN(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oN.comparator(e.documentKey,t.documentKey),0!==n?n:$j(e.largestBatchId,t.largestBatchId))}const dN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function fN(e){if(e.code!==Fj.FAILED_PRECONDITION||e.message!==dN)throw e;Aj("LocalStore","Unexpectedly lost primary lease")}class pN{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mj(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pN((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pN?t:pN.resolve(t)}catch(e){return pN.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pN.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pN.reject(t)}static resolve(e){return new pN((t,n)=>{t(e)})}static reject(e){return new pN((t,n)=>{n(e)})}static waitFor(e){return new pN((t,n)=>{let r=0,a=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++a,o&&a===r&&t()},e=>n(e))}),o=!0,a===r&&t()})}static or(e){let t=pN.resolve(!1);for(const n of e)t=t.next(e=>e?pN.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new pN((n,r)=>{const a=e.length,o=new Array(a);let i=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++i,i===a&&n(o)},e=>r(e))}})}static doWhile(e,t){return new pN((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function mN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gN(e){return"IndexedDbTransactionError"===e.name}class yN{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function vN(e){return null==e}function bN(e){return 0===e&&1/e==-1/0}function xN(e){return"number"==typeof e&&Number.isInteger(e)&&!bN(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}yN.oe=-1;const wN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_N=SN,kN=[..._N,"indexConfiguration","indexState","indexEntries"];function jN(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function NN(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ON{constructor(e,t){this.comparator=e,this.root=t||TN.EMPTY}insert(e,t){return new ON(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,TN.BLACK,null,null))}remove(e){return new ON(this.comparator,this.root.remove(e,this.comparator).copy(null,null,TN.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new EN(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new EN(this.root,e,this.comparator,!1)}getReverseIterator(){return new EN(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new EN(this.root,e,this.comparator,!0)}}class EN{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class TN{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:TN.RED,this.left=null!=r?r:TN.EMPTY,this.right=null!=a?a:TN.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new TN(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return TN.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return TN.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,TN.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,TN.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mj();if(this.right.isRed())throw Mj();const e=this.left.check();if(e!==this.right.check())throw Mj();return e+(this.isRed()?0:1)}}TN.EMPTY=null,TN.RED=!0,TN.BLACK=!1,TN.EMPTY=new class{constructor(){this.size=0}get key(){throw Mj()}get value(){throw Mj()}get color(){throw Mj()}get left(){throw Mj()}get right(){throw Mj()}copy(e,t,n,r,a){return this}insert(e,t,n){return new TN(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class AN{constructor(e){this.comparator=e,this.data=new ON(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CN(this.data.getIterator())}getIteratorFrom(e){return new CN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof AN))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new AN(this.comparator);return t.data=e,t}}class CN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class IN{constructor(e){this.fields=e,e.sort(aN.comparator)}static empty(){return new IN([])}unionWith(e){let t=new AN(aN.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new IN(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jj(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class DN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class MN{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new DN("Invalid base64 string: "+e):e}}(e);return new MN(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new MN(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}MN.EMPTY_BYTE_STRING=new MN("");const RN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function LN(e){if(Rj(!!e),"string"==typeof e){let t=0;const n=RN.exec(e);if(Rj(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:FN(e.seconds),nanos:FN(e.nanos)}}function FN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function BN(e){return"string"==typeof e?MN.fromBase64String(e):MN.fromUint8Array(e)}function UN(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function WN(e){const t=e.mapValue.fields.__previous_value__;return UN(t)?WN(t):t}function zN(e){const t=LN(e.mapValue.fields.__local_write_time__.timestampValue);return new Zj(t.seconds,t.nanos)}class VN{constructor(e,t,n,r,a,o,i,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=i,this.longPollingOptions=s,this.useFetchStreams=l}}class HN{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new HN("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof HN&&e.projectId===this.projectId&&e.database===this.database}}const qN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function GN(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?UN(e)?4:sP(e)?9007199254740991:oP(e)?10:11:Mj()}function KN(e,t){if(e===t)return!0;const n=GN(e);if(n!==GN(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zN(e).isEqual(zN(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=LN(e.timestampValue),r=LN(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return BN(e.bytesValue).isEqual(BN(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return FN(e.geoPointValue.latitude)===FN(t.geoPointValue.latitude)&&FN(e.geoPointValue.longitude)===FN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return FN(e.integerValue)===FN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=FN(e.doubleValue),r=FN(t.doubleValue);return n===r?bN(n)===bN(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jj(e.arrayValue.values||[],t.arrayValue.values||[],KN);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jN(n)!==jN(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!KN(n[a],r[a])))return!1;return!0}(e,t);default:return Mj()}}function YN(e,t){return void 0!==(e.values||[]).find(e=>KN(e,t))}function QN(e,t){if(e===t)return 0;const n=GN(e),r=GN(t);if(n!==r)return $j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $j(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=FN(e.integerValue||e.doubleValue),r=FN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return XN(e.timestampValue,t.timestampValue);case 4:return XN(zN(e),zN(t));case 5:return $j(e.stringValue,t.stringValue);case 6:return function(e,t){const n=BN(e),r=BN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=$j(n[a],r[a]);if(0!==e)return e}return $j(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$j(FN(e.latitude),FN(t.latitude));return 0!==n?n:$j(FN(e.longitude),FN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $N(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,o;const i=e.fields||{},s=t.fields||{},l=null===(n=i.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=$j((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:$N(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qN.mapValue&&t===qN.mapValue)return 0;if(e===qN.mapValue)return 1;if(t===qN.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},o=Object.keys(a);r.sort(),o.sort();for(let i=0;i<r.length&&i<o.length;++i){const e=$j(r[i],o[i]);if(0!==e)return e;const t=QN(n[r[i]],a[o[i]]);if(0!==t)return t}return $j(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mj()}}function XN(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $j(e,t);const n=LN(e),r=LN(t),a=$j(n.seconds,r.seconds);return 0!==a?a:$j(n.nanos,r.nanos)}function $N(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=QN(n[a],r[a]);if(e)return e}return $j(n.length,r.length)}function JN(e){return ZN(e)}function ZN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=LN(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return BN(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oN.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ZN(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(ZN(e.fields[a]));return n+"}"}(e.mapValue):Mj()}function eP(e){return!!e&&"integerValue"in e}function tP(e){return!!e&&"arrayValue"in e}function nP(e){return!!e&&"nullValue"in e}function rP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function aP(e){return!!e&&"mapValue"in e}function oP(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iP(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return NN(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=iP(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=iP(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sP(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class lP{constructor(e){this.value=e}static empty(){return new lP({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!aP(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iP(t)}setAll(e){let t=aN.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=iP(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());aP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return KN(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];aP(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){NN(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new lP(iP(this.value))}}function cP(e){const t=[];return NN(e.fields,(e,n)=>{const r=new aN([e]);if(aP(n)){const e=cP(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new IN(t)}class uP{constructor(e,t,n,r,a,o,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=o,this.documentState=i}static newInvalidDocument(e){return new uP(e,0,eN.min(),eN.min(),eN.min(),lP.empty(),0)}static newFoundDocument(e,t,n,r){return new uP(e,1,t,eN.min(),n,r,0)}static newNoDocument(e,t){return new uP(e,2,t,eN.min(),eN.min(),lP.empty(),0)}static newUnknownDocument(e,t){return new uP(e,3,t,eN.min(),eN.min(),lP.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(eN.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lP.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lP.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eN.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof uP&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new uP(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dP{constructor(e,t){this.position=e,this.inclusive=t}}function hP(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const o=t[a],i=e.position[a];if(r=o.field.isKeyField()?oN.comparator(oN.fromName(i.referenceValue),n.key):QN(i,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function fP(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!KN(e.position[n],t.position[n]))return!1;return!0}class pP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gP{}class yP extends gP{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jP(e,t,n):"array-contains"===t?new EP(e,n):"in"===t?new TP(e,n):"not-in"===t?new AP(e,n):"array-contains-any"===t?new CP(e,n):new yP(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new NP(e,n):new PP(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(QN(t,this.value)):null!==t&&GN(this.value)===GN(t)&&this.matchesComparison(QN(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mj()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vP extends gP{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new vP(e,t)}matches(e){return bP(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bP(e){return"and"===e.op}function xP(e){return wP(e)&&bP(e)}function wP(e){for(const t of e.filters)if(t instanceof vP)return!1;return!0}function SP(e){if(e instanceof yP)return e.field.canonicalString()+e.op.toString()+JN(e.value);if(xP(e))return e.filters.map(e=>SP(e)).join(",");{const t=e.filters.map(e=>SP(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function _P(e,t){return e instanceof yP?function(e,t){return t instanceof yP&&e.op===t.op&&e.field.isEqual(t.field)&&KN(e.value,t.value)}(e,t):e instanceof vP?function(e,t){return t instanceof vP&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&_P(n,t.filters[r]),!0)}(e,t):void Mj()}function kP(e){return e instanceof yP?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(JN(e.value))}(e):e instanceof vP?function(e){return e.op.toString()+" {"+e.getFilters().map(kP).join(" ,")+"}"}(e):"Filter"}class jP extends yP{constructor(e,t,n){super(e,t,n),this.key=oN.fromName(n.referenceValue)}matches(e){const t=oN.comparator(e.key,this.key);return this.matchesComparison(t)}}class NP extends yP{constructor(e,t){super(e,"in",t),this.keys=OP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PP extends yP{constructor(e,t){super(e,"not-in",t),this.keys=OP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OP(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oN.fromName(e.referenceValue))}class EP extends yP{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tP(t)&&YN(t.arrayValue,this.value)}}class TP extends yP{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&YN(this.value.arrayValue,t)}}class AP extends yP{constructor(e,t){super(e,"not-in",t)}matches(e){if(YN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!YN(this.value.arrayValue,t)}}class CP extends yP{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tP(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>YN(this.value.arrayValue,e))}}class IP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=o,this.endAt=i,this.ue=null}}function DP(e){return new IP(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function MP(e){const t=Lj(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>SP(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),vN(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>JN(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>JN(e)).join(",")),t.ue=e}return t.ue}function RP(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_P(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fP(e.startAt,t.startAt)&&fP(e.endAt,t.endAt)}function LP(e){return oN.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class FP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=o,this.startAt=i,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BP(e,t,n,r,a,o,i,s){return new FP(e,t,n,r,a,o,i,s)}function UP(e){return new FP(e)}function WP(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zP(e){return null!==e.collectionGroup}function VP(e){const t=Lj(e);if(null===t.ce){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new AN(aN.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new pP(r,n))}),e.has(aN.keyField().canonicalString())||t.ce.push(new pP(aN.keyField(),n))}return t.ce}function HP(e){const t=Lj(e);return t.le||(t.le=qP(t,VP(e))),t.le}function qP(e,t){if("F"===e.limitType)return DP(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new pP(e.field,t)});const n=e.endAt?new dP(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dP(e.startAt.position,e.startAt.inclusive):null;return DP(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function GP(e,t,n){return new FP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KP(e,t){return RP(HP(e),HP(t))&&e.limitType===t.limitType}function YP(e){return"".concat(MP(HP(e)),"|lt:").concat(e.limitType)}function QP(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>kP(e)).join(", "),"]")),vN(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>JN(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>JN(e)).join(",")),"Target(".concat(t,")")}(HP(e)),"; limitType=").concat(e.limitType,")")}function XP(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oN.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of VP(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hP(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,VP(e),t))&&!(e.endAt&&!function(e,t,n){const r=hP(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,VP(e),t))}(e,t)}function $P(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JP(e){return(t,n)=>{let r=!1;for(const a of VP(e)){const e=ZP(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function ZP(e,t,n){const r=e.field.isKeyField()?oN.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?QN(r,a):Mj()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mj()}}class eO{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){NN(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return PN(this.inner)}size(){return this.innerSize}}const tO=new ON(oN.comparator);function nO(){return tO}const rO=new ON(oN.comparator);function aO(){let e=rO;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function oO(e){let t=rO;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function iO(){return lO()}function sO(){return lO()}function lO(){return new eO(e=>e.toString(),(e,t)=>e.isEqual(t))}const cO=new ON(oN.comparator),uO=new AN(oN.comparator);function dO(){let e=uO;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const hO=new AN($j);function fO(){return hO}function pO(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bN(t)?"-0":t}}function mO(e){return{integerValue:""+e}}function gO(e,t){return xN(t)?mO(t):pO(e,t)}class yO{constructor(){this._=void 0}}function vO(e,t,n){return e instanceof wO?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&UN(t)&&(t=WN(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof SO?_O(e,t):e instanceof kO?jO(e,t):function(e,t){const n=xO(e,t),r=PO(n)+PO(e.Pe);return eP(n)&&eP(e.Pe)?mO(r):pO(e.serializer,r)}(e,t)}function bO(e,t,n){return e instanceof SO?_O(e,t):e instanceof kO?jO(e,t):n}function xO(e,t){return e instanceof NO?function(e){return eP(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wO extends yO{}class SO extends yO{constructor(e){super(),this.elements=e}}function _O(e,t){const n=OO(t);for(const r of e.elements)n.some(e=>KN(e,r))||n.push(r);return{arrayValue:{values:n}}}class kO extends yO{constructor(e){super(),this.elements=e}}function jO(e,t){let n=OO(t);for(const r of e.elements)n=n.filter(e=>!KN(e,r));return{arrayValue:{values:n}}}class NO extends yO{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function PO(e){return FN(e.integerValue||e.doubleValue)}function OO(e){return tP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class TO{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new TO}static exists(e){return new TO(void 0,e)}static updateTime(e){return new TO(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AO(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class CO{}function IO(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new VO(e.key,TO.none()):new FO(e.key,e.data,TO.none());{const n=e.data,r=lP.empty();let a=new AN(aN.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new BO(e.key,r,new IN(a.toArray()),TO.none())}}function DO(e,t,n){e instanceof FO?function(e,t,n){const r=e.value.clone(),a=WO(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof BO?function(e,t,n){if(!AO(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=WO(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(UO(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function MO(e,t,n,r){return e instanceof FO?function(e,t,n,r){if(!AO(e.precondition,t))return n;const a=e.value.clone(),o=zO(e.fieldTransforms,r,t);return a.setAll(o),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof BO?function(e,t,n,r){if(!AO(e.precondition,t))return n;const a=zO(e.fieldTransforms,r,t),o=t.data;return o.setAll(UO(e)),o.setAll(a),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return AO(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function RO(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=xO(r.transform,e||null);null!=a&&(null===n&&(n=lP.empty()),n.set(r.field,a))}return n||null}function LO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jj(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof SO&&t instanceof SO||e instanceof kO&&t instanceof kO?Jj(e.elements,t.elements,KN):e instanceof NO&&t instanceof NO?KN(e.Pe,t.Pe):e instanceof wO&&t instanceof wO}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class FO extends CO{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class BO extends CO{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function WO(e,t,n){const r=new Map;Rj(e.length===n.length);for(let a=0;a<n.length;a++){const o=e[a],i=o.transform,s=t.data.field(o.field);r.set(o.field,bO(i,s,n[a]))}return r}function zO(e,t,n){const r=new Map;for(const a of e){const e=a.transform,o=n.data.field(a.field);r.set(a.field,vO(e,o,t))}return r}class VO extends CO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends CO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qO{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&DO(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=MO(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=MO(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=sO();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let i=this.applyToLocalView(o,a.mutatedFields);i=t.has(r.key)?null:i;const s=IO(o,i);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(eN.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dO())}isEqual(e){return this.batchId===e.batchId&&Jj(this.mutations,e.mutations,(e,t)=>LO(e,t))&&Jj(this.baseMutations,e.baseMutations,(e,t)=>LO(e,t))}}class GO{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rj(e.mutations.length===n.length);let r=cO;const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,n[o].version);return new GO(e,t,n,r)}}class KO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class YO{constructor(e,t){this.count=e,this.unchangedNames=t}}var QO,XO;function $O(e){switch(e){default:return Mj();case Fj.CANCELLED:case Fj.UNKNOWN:case Fj.DEADLINE_EXCEEDED:case Fj.RESOURCE_EXHAUSTED:case Fj.INTERNAL:case Fj.UNAVAILABLE:case Fj.UNAUTHENTICATED:return!1;case Fj.INVALID_ARGUMENT:case Fj.NOT_FOUND:case Fj.ALREADY_EXISTS:case Fj.PERMISSION_DENIED:case Fj.FAILED_PRECONDITION:case Fj.ABORTED:case Fj.OUT_OF_RANGE:case Fj.UNIMPLEMENTED:case Fj.DATA_LOSS:return!0}}function JO(e){if(void 0===e)return Cj("GRPC error has no .code"),Fj.UNKNOWN;switch(e){case QO.OK:return Fj.OK;case QO.CANCELLED:return Fj.CANCELLED;case QO.UNKNOWN:return Fj.UNKNOWN;case QO.DEADLINE_EXCEEDED:return Fj.DEADLINE_EXCEEDED;case QO.RESOURCE_EXHAUSTED:return Fj.RESOURCE_EXHAUSTED;case QO.INTERNAL:return Fj.INTERNAL;case QO.UNAVAILABLE:return Fj.UNAVAILABLE;case QO.UNAUTHENTICATED:return Fj.UNAUTHENTICATED;case QO.INVALID_ARGUMENT:return Fj.INVALID_ARGUMENT;case QO.NOT_FOUND:return Fj.NOT_FOUND;case QO.ALREADY_EXISTS:return Fj.ALREADY_EXISTS;case QO.PERMISSION_DENIED:return Fj.PERMISSION_DENIED;case QO.FAILED_PRECONDITION:return Fj.FAILED_PRECONDITION;case QO.ABORTED:return Fj.ABORTED;case QO.OUT_OF_RANGE:return Fj.OUT_OF_RANGE;case QO.UNIMPLEMENTED:return Fj.UNIMPLEMENTED;case QO.DATA_LOSS:return Fj.DATA_LOSS;default:return Mj()}}(XO=QO||(QO={}))[XO.OK=0]="OK",XO[XO.CANCELLED=1]="CANCELLED",XO[XO.UNKNOWN=2]="UNKNOWN",XO[XO.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",XO[XO.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",XO[XO.NOT_FOUND=5]="NOT_FOUND",XO[XO.ALREADY_EXISTS=6]="ALREADY_EXISTS",XO[XO.PERMISSION_DENIED=7]="PERMISSION_DENIED",XO[XO.UNAUTHENTICATED=16]="UNAUTHENTICATED",XO[XO.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",XO[XO.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",XO[XO.ABORTED=10]="ABORTED",XO[XO.OUT_OF_RANGE=11]="OUT_OF_RANGE",XO[XO.UNIMPLEMENTED=12]="UNIMPLEMENTED",XO[XO.INTERNAL=13]="INTERNAL",XO[XO.UNAVAILABLE=14]="UNAVAILABLE",XO[XO.DATA_LOSS=15]="DATA_LOSS";let ZO=null;function eE(){return new TextEncoder}const tE=new hj([4294967295,4294967295],0);function nE(e){const t=eE().encode(e),n=new fj;return n.update(t),new Uint8Array(n.digest())}function rE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new hj([n,r],0),new hj([a,o],0)]}class aE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new oE("Invalid padding: ".concat(t));if(n<0)throw new oE("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new oE("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new oE("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=hj.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(hj.fromNumber(n)));return 1===r.compare(tE)&&(r=new hj([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=nE(e),[n,r]=rE(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new aE(a,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Ie)return;const t=nE(e),[n,r]=rE(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class oE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iE{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,sE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new iE(eN.min(),r,new ON($j),nO(),dO())}}class sE{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new sE(n,t,dO(),dO(),dO())}}class lE{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class cE{constructor(e,t){this.targetId=e,this.me=t}}class uE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MN.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dE{constructor(){this.fe=0,this.ge=pE(),this.pe=MN.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=dO(),t=dO(),n=dO();return this.ge.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mj()}}),new sE(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=pE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rj(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hE{constructor(e){this.Le=e,this.Be=new Map,this.ke=nO(),this.qe=fE(),this.Qe=new ON($j)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Mj()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const a=r.target;if(LP(a))if(0===n){const e=new oN(a.path);this.Ue(t,e,uP.newNoDocument(e,eN.min()))}else Rj(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),a=n?this.Xe(n,e,r):1;if(0!==a){this.je(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==ZO||ZO.et(function(e,t,n,r,a){var o,i,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(i=null==h?void 0:h.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,a))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let o,i;try{o=BN(n).toUint8Array()}catch(e){if(e instanceof DN)return Ij("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new aE(o,r,a)}catch(e){return Ij(e instanceof oE?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.Ie?null:i}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Le.tt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const a=this.Je(r);if(a){if(n.current&&LP(a.target)){const t=new oN(a.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,uP.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=dO();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new iE(e,t,this.Qe,this.ke,n);return this.ke=nO(),this.qe=fE(),this.Qe=new ON($j),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new dE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new AN($j),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Aj("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dE),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fE(){return new ON(oN.comparator)}function pE(){return new ON(oN.comparator)}const mE={asc:"ASCENDING",desc:"DESCENDING"},gE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yE={and:"AND",or:"OR"};class vE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bE(e,t){return e.useProto3Json||vN(t)?t:{value:t}}function xE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function SE(e,t){return xE(e,t.toTimestamp())}function _E(e){return Rj(!!e),eN.fromTimestamp(function(e){const t=LN(e);return new Zj(t.seconds,t.nanos)}(e))}function kE(e,t){return jE(e,t).canonicalString()}function jE(e,t){const n=function(e){return new nN(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function NE(e){const t=nN.fromString(e);return Rj(GE(t)),t}function PE(e,t){return kE(e.databaseId,t.path)}function OE(e,t){const n=NE(t);if(n.get(1)!==e.databaseId.projectId)throw new Bj(Fj.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bj(Fj.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oN(CE(n))}function EE(e,t){return kE(e.databaseId,t)}function TE(e){const t=NE(e);return 4===t.length?nN.emptyPath():CE(t)}function AE(e){return new nN(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CE(e){return Rj(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function IE(e,t,n){return{name:PE(e,t),fields:n.value.mapValue.fields}}function DE(e,t){let n;if(t instanceof FO)n={update:IE(e,t.key,t.value)};else if(t instanceof VO)n={delete:PE(e,t.key)};else if(t instanceof BO)n={update:IE(e,t.key,t.data),updateMask:qE(t.fieldMask)};else{if(!(t instanceof HO))return Mj();n={verify:PE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof wO)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof SO)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kO)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof NO)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Mj()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:SE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mj()}(e,t.precondition)),n}function ME(e,t){return{documents:[EE(e,t.path)]}}function RE(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EE(e,a);const o=function(e){if(0!==e.length)return HE(vP.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:zE(e.field),direction:BE(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=bE(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:a}}function LE(e){let t=TE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Rj(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=FE(e);return t instanceof vP&&xP(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new pP(VE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,vN(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dP(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dP(n,t)}(n.endAt)),BP(t,a,i,o,s,"F",l,c)}function FE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=VE(e.unaryFilter.field);return yP.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=VE(e.unaryFilter.field);return yP.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=VE(e.unaryFilter.field);return yP.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=VE(e.unaryFilter.field);return yP.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Mj()}}(e):void 0!==e.fieldFilter?function(e){return yP.create(VE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mj()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vP.create(e.compositeFilter.filters.map(e=>FE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mj()}}(e.compositeFilter.op))}(e):Mj()}function BE(e){return mE[e]}function UE(e){return gE[e]}function WE(e){return yE[e]}function zE(e){return{fieldPath:e.canonicalString()}}function VE(e){return aN.fromServerFormat(e.fieldPath)}function HE(e){return e instanceof yP?function(e){if("=="===e.op){if(rP(e.value))return{unaryFilter:{field:zE(e.field),op:"IS_NAN"}};if(nP(e.value))return{unaryFilter:{field:zE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rP(e.value))return{unaryFilter:{field:zE(e.field),op:"IS_NOT_NAN"}};if(nP(e.value))return{unaryFilter:{field:zE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zE(e.field),op:UE(e.op),value:e.value}}}(e):e instanceof vP?function(e){const t=e.getFilters().map(e=>HE(e));return 1===t.length?t[0]:{compositeFilter:{op:WE(e.op),filters:t}}}(e):Mj()}function qE(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function GE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class KE{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eN.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eN.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:MN.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=i,this.expectedCount=s}withSequenceNumber(e){return new KE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new KE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new KE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new KE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YE{constructor(e){this.ct=e}}function QE(e){const t=LE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?GP(t,t.limit,"L"):t}class XE{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(FN(e.integerValue));else if("doubleValue"in e){const n=FN(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),bN(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=LN(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(BN(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?sP(e)?this.dt(t,Number.MAX_SAFE_INTEGER):oP(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Mj()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const a=e.fields||{};this.dt(t,53);const o="value",i=(null===(r=null===(n=a[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(FN(i)),this.Vt(o,t),this.Tt(a[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),oN.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}XE.vt=new XE;class $E{constructor(){this.un=new JE}addToCollectionParentIndex(e,t){return this.un.add(t),pN.resolve()}getCollectionParents(e,t){return pN.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return pN.resolve()}deleteFieldIndex(e,t){return pN.resolve()}deleteAllFieldIndexes(e){return pN.resolve()}createTargetIndexes(e,t){return pN.resolve()}getDocumentsMatchingTarget(e,t){return pN.resolve(null)}getIndexType(e,t){return pN.resolve(0)}getFieldIndexes(e,t){return pN.resolve([])}getNextCollectionGroupToUpdate(e){return pN.resolve(null)}getMinOffset(e,t){return pN.resolve(cN.min())}getMinOffsetFromCollectionGroup(e,t){return pN.resolve(cN.min())}updateCollectionGroup(e,t,n){return pN.resolve()}updateIndexEntries(e,t){return pN.resolve()}}class JE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new AN(nN.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new AN(nN.comparator)).toArray()}}new Uint8Array(0);class ZE{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ZE(e,ZE.DEFAULT_COLLECTION_PERCENTILE,ZE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ZE.DEFAULT_COLLECTION_PERCENTILE=10,ZE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ZE.DEFAULT=new ZE(41943040,ZE.DEFAULT_COLLECTION_PERCENTILE,ZE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ZE.DISABLED=new ZE(-1,0,0);class eT{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new eT(0)}static kn(){return new eT(-1)}}class tT{constructor(){this.changes=new eO(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,uP.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pN.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rT{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&MO(n.mutation,e,IN.empty(),Zj.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,dO()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dO();const r=iO();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=aO();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=iO();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,dO()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=nO();const o=lO(),i=lO();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof BO)?a=a.insert(t.key,t):void 0!==i?(o.set(t.key,i.mutation.getFieldMask()),MO(i.mutation,t,i.mutation.getFieldMask(),Zj.now())):o.set(t.key,IN.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new nT(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=lO();let r=new ON((e,t)=>e-t),a=dO();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let i=n.get(e)||IN.empty();i=a.applyToLocalView(o,i),n.set(e,i);const s=(r.get(a.batchId)||dO()).add(e);r=r.insert(a.batchId,s)})}).next(()=>{const o=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),s=r.key,l=r.value,c=sO();l.forEach(e=>{if(!a.has(e)){const r=IO(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return pN.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oN.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):pN.resolve(iO());let i=-1,s=a;return o.next(t=>pN.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?pN.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,dO())).next(e=>({batchId:i,changes:oO(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oN(t)).next(e=>{let t=aO();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let o=aO();return this.indexManager.getCollectionParents(e,a).next(i=>pN.forEach(i,i=>{const s=function(e,t){return new FP(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,uP.newInvalidDocument(r)))});let n=aO();return e.forEach((e,r)=>{const o=a.get(e);void 0!==o&&MO(o.mutation,r,IN.empty(),Zj.now()),XP(t,r)&&(n=n.insert(e,r))}),n})}}class aT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return pN.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_E(e.createTime)}}(t)),pN.resolve()}getNamedQuery(e,t){return pN.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:QE(e.bundledQuery),readTime:_E(e.readTime)}}(t)),pN.resolve()}}class oT{constructor(){this.overlays=new ON(oN.comparator),this.Ir=new Map}getOverlay(e,t){return pN.resolve(this.overlays.get(t))}getOverlays(e,t){const n=iO();return pN.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),pN.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),pN.resolve()}getOverlaysForCollection(e,t,n){const r=iO(),a=t.length+1,o=new oN(t.child("")),i=this.overlays.getIteratorFrom(o);for(;i.hasNext();){const e=i.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pN.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new ON((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=iO(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=iO(),s=a.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=r)););return pN.resolve(i)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new KO(t,n));let a=this.Ir.get(t);void 0===a&&(a=dO(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}class iT{constructor(){this.sessionToken=MN.EMPTY_BYTE_STRING}getSessionToken(e){return pN.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pN.resolve()}}class sT{constructor(){this.Tr=new AN(lT.Er),this.dr=new AN(lT.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new lT(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new lT(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new oN(new nN([])),n=new lT(t,e),r=new lT(t,e+1),a=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),a.push(e.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new oN(new nN([])),n=new lT(t,e),r=new lT(t,e+1);let a=dO();return this.dr.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new lT(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class lT{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return oN.comparator(e.key,t.key)||$j(e.wr,t.wr)}static Ar(e,t){return $j(e.wr,t.wr)||oN.comparator(e.key,t.key)}}class cT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new AN(lT.Er)}checkEmpty(e){return pN.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qO(a,t,n,r);this.mutationQueue.push(o);for(const i of r)this.br=this.br.add(new lT(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return pN.resolve(o)}lookupMutationBatch(e,t){return pN.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),a=r<0?0:r;return pN.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pN.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return pN.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lT(t,0),r=new lT(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);a.push(t)}),pN.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new AN($j);return t.forEach(e=>{const t=new lT(e,0),r=new lT(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),pN.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;oN.isDocumentKey(a)||(a=a.child(""));const o=new lT(new oN(a),0);let i=new AN($j);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.wr)),!0)},o),pN.resolve(this.Cr(i))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Rj(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return pN.forEach(t.mutations,r=>{const a=new lT(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new lT(t,0),r=this.br.firstAfterOrEqual(n);return pN.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pN.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uT{constructor(e){this.Mr=e,this.docs=new ON(oN.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pN.resolve(n?n.document.mutableCopy():uP.newInvalidDocument(t))}getEntries(e,t){let n=nO();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():uP.newInvalidDocument(e))}),pN.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=nO();const o=t.path,i=new oN(o.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||uN(lN(i),n)<=0||(r.has(i.key)||XP(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return pN.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Mj()}Or(e,t){return pN.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new dT(this)}getSize(e){return pN.resolve(this.size)}}class dT extends tT{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),pN.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class hT{constructor(e){this.persistence=e,this.Nr=new eO(e=>MP(e),RP),this.lastRemoteSnapshotVersion=eN.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sT,this.targetCount=0,this.kr=eT.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),pN.resolve()}getLastRemoteSnapshotVersion(e){return pN.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pN.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pN.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),pN.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new eT(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,pN.resolve()}updateTargetData(e,t){return this.Kn(t),pN.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,pN.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Nr.forEach((o,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),pN.waitFor(a).next(()=>r)}getTargetCount(e){return pN.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return pN.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),pN.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),pN.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),pN.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return pN.resolve(n)}containsKey(e,t){return pN.resolve(this.Br.containsKey(t))}}class fT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new yN(0),this.Kr=!1,this.Kr=!0,this.$r=new iT,this.referenceDelegate=e(this),this.Ur=new hT(this),this.indexManager=new $E,this.remoteDocumentCache=function(e){return new uT(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new YE(t),this.Gr=new aT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new cT(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Aj("MemoryPersistence","Starting transaction:",e);const r=new pT(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return pN.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class pT extends hN{constructor(e){super(),this.currentSequenceNumber=e}}class mT{constructor(e){this.persistence=e,this.Jr=new sT,this.Yr=null}static Zr(e){return new mT(e)}get Xr(){if(this.Yr)return this.Yr;throw Mj()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),pN.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),pN.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),pN.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pN.forEach(this.Xr,n=>{const r=oN.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,eN.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return pN.or([()=>pN.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class gT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=dO(),r=dO();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new gT(e,t.fromCache,n,r)}}class yT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=fx()?8:mN(hx())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.Yi(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.Zi(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new yT;return this.Xi(e,t,n).next(r=>{if(a.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>a.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Tj()<=Ax.DEBUG&&Aj("QueryEngine","SDK will not create cache indexes for query:",QP(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pN.resolve()):(Tj()<=Ax.DEBUG&&Aj("QueryEngine","Query:",QP(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Tj()<=Ax.DEBUG&&Aj("QueryEngine","The SDK decides to create cache indexes for query:",QP(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,HP(t))):pN.resolve())}Yi(e,t){if(WP(t))return pN.resolve(null);let n=HP(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=GP(t,null,"F"),n=HP(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=dO(...r);return this.Ji.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ts(t,r);return this.ns(t,o,a,n.readTime)?this.Yi(e,GP(t,null,"F")):this.rs(e,o,t,n)}))})))}Zi(e,t,n,r){return WP(t)||r.isEqual(eN.min())?pN.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(t,a);return this.ns(t,o,n,r)?pN.resolve(null):(Tj()<=Ax.DEBUG&&Aj("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QP(t)),this.rs(e,o,t,sN(r,-1)).next(e=>e))})}ts(e,t){let n=new AN(JP(e));return t.forEach((t,r)=>{XP(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,t,n){return Tj()<=Ax.DEBUG&&Aj("QueryEngine","Using full collection scan to execute query:",QP(t)),this.Ji.getDocumentsMatchingQuery(e,t,cN.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class bT{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ON($j),this._s=new eO(e=>MP(e),RP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function xT(e,t,n,r){return new bT(e,t,n,r)}async function wT(e,t){const n=Lj(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],o=[];let i=dO();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({hs:e,removedBatchIds:a,addedBatchIds:o}))})})}function ST(e){const t=Lj(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function _T(e,t,n){let r=dO(),a=dO();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nO();return n.forEach((n,o)=>{const i=e.get(n);o.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),o.isNoDocument()&&o.version.isEqual(eN.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!i.isValidDocument()||o.version.compareTo(i.version)>0||0===o.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Aj("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",o.version)}),{Ps:r,Is:a}})}function kT(e,t){const n=Lj(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function jT(e,t){const n=Lj(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(a=>a?(r=a,pN.resolve(r)):n.Ur.allocateTargetId(e).next(a=>(r=new KE(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function NT(e,t,n){const r=Lj(e),a=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!gN(e))throw e;Aj("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(a.target)}function PT(e,t,n){const r=Lj(e);let a=eN.min(),o=dO();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Lj(e),a=r._s.get(n);return void 0!==a?pN.resolve(r.os.get(a)):r.Ur.getTargetData(t,n)}(r,e,HP(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?a:eN.min(),n?o:dO())).next(e=>(OT(r,$P(t),e),{documents:e,Ts:o})))}function OT(e,t,n){let r=e.us.get(t)||eN.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class ET{constructor(){this.activeTargetIds=fO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TT{constructor(){this.so=new ET,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ET,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AT{_o(e){}shutdown(){}}class CT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Aj("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Aj("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let IT=null;function DT(){return null===IT?IT=268435456+Math.round(2147483648*Math.random()):IT++,"0x"+IT.toString(16)}const MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RT{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const LT="WebChannelConnection";class FT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,a){const o=DT(),i=this.xo(e,t.toUriEncodedString());Aj("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),i,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,a),this.No(e,i,s,n).then(t=>(Aj("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Ij("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",i,"request:",n),t})}Lo(e,t,n,r,a,o){return this.Mo(e,t,n,r,a)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oj,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=MT[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const a=DT();return new Promise((o,i)=>{const s=new gj;s.setWithCredentials(!0),s.listenOnce(vj.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case bj.NO_ERROR:const t=s.getResponseJson();Aj(LT,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),o(t);break;case bj.TIMEOUT:Aj(LT,"RPC '".concat(e,"' ").concat(a," timed out")),i(new Bj(Fj.DEADLINE_EXCEEDED,"Request time out"));break;case bj.HTTP_ERROR:const n=s.getStatus();if(Aj(LT,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fj).indexOf(t)>=0?t:Fj.UNKNOWN}(t.status);i(new Bj(e,t.message))}else i(new Bj(Fj.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new Bj(Fj.UNAVAILABLE,"Connection failed."));break;default:Mj()}}finally{Aj(LT,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);Aj(LT,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=DT(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_j(),i=Sj(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=a.join("");Aj(LT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new RT({Io:t=>{h?Aj(LT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Aj(LT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Aj(LT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,yj.EventType.OPEN,()=>{h||(Aj(LT,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,yj.EventType.CLOSE,()=>{h||(h=!0,Aj(LT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,yj.EventType.ERROR,t=>{h||(h=!0,Ij(LT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new Bj(Fj.UNAVAILABLE,"The operation could not be completed")))}),p(u,yj.EventType.MESSAGE,t=>{var n;if(!h){const a=t.data[0];Rj(!!a);const o=a,i=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(i){Aj(LT,"RPC '".concat(e,"' stream ").concat(r," received error:"),i);const t=i.status;let n=function(e){const t=QO[e];if(void 0!==t)return JO(t)}(t),a=i.message;void 0===n&&(n=Fj.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.So(new Bj(n,a)),u.close()}else Aj(LT,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.bo(a)}}),p(i,wj.STAT_EVENT,t=>{t.stat===xj.PROXY?Aj(LT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===xj.NOPROXY&&Aj(LT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function BT(){return"undefined"!=typeof document?document:null}function UT(e){return new vE(e,!0)}class WT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Aj("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zT{constructor(e,t,n,r,a,o,i,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=i,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WT(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Fj.RESOURCE_EXHAUSTED?(Cj(t.toString()),Cj("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Fj.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Bj(Fj.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Aj("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Aj("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VT extends zT{constructor(e,t,n,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mj()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Rj(void 0===t||"string"==typeof t),MN.fromBase64String(t||"")):(Rj(void 0===t||t instanceof Buffer||t instanceof Uint8Array),MN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,s=i&&function(e){const t=void 0===e.code?Fj.UNKNOWN:JO(e.code);return new Bj(t,e.message||"")}(i);n=new uE(r,a,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=OE(e,r.document.name),o=_E(r.document.updateTime),i=r.document.createTime?_E(r.document.createTime):eN.min(),s=new lP({mapValue:{fields:r.document.fields}}),l=uP.newFoundDocument(a,o,i,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lE(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=OE(e,r.document),o=r.readTime?_E(r.readTime):eN.min(),i=uP.newNoDocument(a,o),s=r.removedTargetIds||[];n=new lE([],s,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=OE(e,r.document),o=r.removedTargetIds||[];n=new lE([],o,a,null)}else{if(!("filter"in t))return Mj();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,o=new YO(r,a),i=e.targetId;n=new cE(i,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eN.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?eN.min():t.readTime?_E(t.readTime):eN.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=AE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=LP(r)?{documents:ME(e,r)}:{query:RE(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wE(e,t.resumeToken);const r=bE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eN.min())>0){n.readTime=xE(e,t.snapshotVersion.toTimestamp());const r=bE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mj()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=AE(this.serializer),t.removeTarget=e,this.a_(t)}}class HT extends zT{constructor(e,t,n,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Rj(!!e.streamToken),this.lastStreamToken=e.streamToken,Rj(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Rj(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Rj(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?_E(e.updateTime):_E(t);return n.isEqual(eN.min())&&(n=_E(t)),new EO(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_E(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=AE(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>DE(this.serializer,e))};this.a_(t)}}class qT extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Bj(Fj.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,i]=a;return this.connection.Mo(e,jE(t,n),r,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Fj.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bj(Fj.UNKNOWN,e.toString())})}Lo(e,t,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Lo(e,jE(t,n),r,i,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Fj.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bj(Fj.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Cj(t),this.D_=!1):Aj("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class KT{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(e=>{n.enqueueAndForget(async()=>{nA(this)&&(Aj("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lj(e);t.L_.add(4),await QT(t),t.q_.set("Unknown"),t.L_.delete(4),await YT(t)}(this))})}),this.q_=new GT(n,r)}}async function YT(e){if(nA(e))for(const t of e.B_)await t(!0)}async function QT(e){for(const t of e.B_)await t(!1)}function XT(e,t){const n=Lj(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),tA(n)?eA(n):wA(n).r_()&&JT(n,t))}function $T(e,t){const n=Lj(e),r=wA(n);n.N_.delete(t),r.r_()&&ZT(n,t),0===n.N_.size&&(r.r_()?r.o_():nA(n)&&n.q_.set("Unknown"))}function JT(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eN.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wA(e).A_(t)}function ZT(e,t){e.Q_.xe(t),wA(e).R_(t)}function eA(e){e.Q_=new hE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wA(e).start(),e.q_.v_()}function tA(e){return nA(e)&&!wA(e).n_()&&e.N_.size>0}function nA(e){return 0===Lj(e).L_.size}function rA(e){e.Q_=void 0}async function aA(e){e.q_.set("Online")}async function oA(e){e.N_.forEach((t,n)=>{JT(e,t)})}async function iA(e,t){rA(e),tA(e)?(e.q_.M_(t),eA(e)):e.q_.set("Unknown")}async function sA(e,t,n){if(e.q_.set("Online"),t instanceof uE&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Aj("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lA(e,n)}else if(t instanceof lE?e.Q_.Ke(t):t instanceof cE?e.Q_.He(t):e.Q_.We(t),!n.isEqual(eN.min()))try{const t=await ST(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.N_.get(r);a&&e.N_.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(MN.EMPTY_BYTE_STRING,r.snapshotVersion)),ZT(e,t);const a=new KE(r.target,t,n,r.sequenceNumber);JT(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Aj("RemoteStore","Failed to raise snapshot:",t),await lA(e,t)}}async function lA(e,t,n){if(!gN(t))throw t;e.L_.add(1),await QT(e),e.q_.set("Offline"),n||(n=()=>ST(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Aj("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await YT(e)})}function cA(e,t){return t().catch(n=>lA(e,n,t))}async function uA(e){const t=Lj(e),n=SA(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;dA(t);)try{const e=await kT(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,hA(t,e)}catch(e){await lA(t,e)}fA(t)&&pA(t)}function dA(e){return nA(e)&&e.O_.length<10}function hA(e,t){e.O_.push(t);const n=SA(e);n.r_()&&n.V_&&n.m_(t.mutations)}function fA(e){return nA(e)&&!SA(e).n_()&&e.O_.length>0}function pA(e){SA(e).start()}async function mA(e){SA(e).p_()}async function gA(e){const t=SA(e);for(const n of e.O_)t.m_(n.mutations)}async function yA(e,t,n){const r=e.O_.shift(),a=GO.from(r,t,n);await cA(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await uA(e)}async function vA(e,t){t&&SA(e).V_&&await async function(e,t){if(function(e){return $O(e)&&e!==Fj.ABORTED}(t.code)){const n=e.O_.shift();SA(e).s_(),await cA(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await uA(e)}}(e,t),fA(e)&&pA(e)}async function bA(e,t){const n=Lj(e);n.asyncQueue.verifyOperationInProgress(),Aj("RemoteStore","RemoteStore received new credentials");const r=nA(n);n.L_.add(3),await QT(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await YT(n)}async function xA(e,t){const n=Lj(e);t?(n.L_.delete(2),await YT(n)):t||(n.L_.add(2),await QT(n),n.q_.set("Unknown"))}function wA(e){return e.K_||(e.K_=function(e,t,n){const r=Lj(e);return r.w_(),new VT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:aA.bind(null,e),Ro:oA.bind(null,e),mo:iA.bind(null,e),d_:sA.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),tA(e)?eA(e):e.q_.set("Unknown")):(await e.K_.stop(),rA(e))})),e.K_}function SA(e){return e.U_||(e.U_=function(e,t,n){const r=Lj(e);return r.w_(),new HT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mA.bind(null,e),mo:vA.bind(null,e),f_:gA.bind(null,e),g_:yA.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await uA(e)):(await e.U_.stop(),e.O_.length>0&&(Aj("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class _A{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Uj,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const o=Date.now()+n,i=new _A(e,t,o,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bj(Fj.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kA(e,t){if(Cj("AsyncQueue","".concat(t,": ").concat(e)),gN(e))return new Bj(Fj.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class jA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||oN.comparator(t.key,n.key):(e,t)=>oN.comparator(e.key,t.key),this.keyedMap=aO(),this.sortedSet=new ON(this.comparator)}static emptySet(e){return new jA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jA))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class NA{constructor(){this.W_=new ON(oN.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Mj():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class PA{constructor(e,t,n,r,a,o,i,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=i,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new PA(e,t,jA.emptySet(t),o,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class OA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EA{constructor(){this.queries=TA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Lj(e),r=n.queries;n.queries=TA(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Bj(Fj.ABORTED,"Firestore shutting down"))}}function TA(){return new eO(e=>YP(e),KP)}async function AA(e,t){const n=Lj(e);let r=3;const a=t.query;let o=n.queries.get(a);o?!o.H_()&&t.J_()&&(r=2):(o=new OA,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(a,!0);break;case 1:o.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=kA(e,"Initialization of query '".concat(QP(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&MA(n)}async function CA(e,t){const n=Lj(e),r=t.query;let a=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?a=t.J_()?0:1:!o.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IA(e,t){const n=Lj(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(a)&&(r=!0);t.z_=a}}r&&MA(n)}function DA(e,t,n){const r=Lj(e),a=r.queries.get(t);if(a)for(const o of a.j_)o.onError(n);r.queries.delete(t)}function MA(e){e.Y_.forEach(e=>{e.next()})}var RA,LA;(LA=RA||(RA={})).ea="default",LA.Cache="cache";class FA{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new PA(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=PA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==RA.Cache}}class BA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class WA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=dO(),this.mutatedKeys=dO(),this.Aa=JP(e),this.Ra=new jA(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new NA,r=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,o=r,i=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=XP(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(i=!0)),f&&(u?(o=o.add(u),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:i,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mj()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const i=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new PA(this.query,e.Ra,a,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:i}:{wa:i}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new NA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=dO(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new UA(e))}),this.da.forEach(n=>{e.has(n)||t.push(new BA(n))}),t}ba(e){this.Ta=e.Ts,this.da=dO();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return PA.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class zA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VA{constructor(e){this.key=e,this.va=!1}}class HA{constructor(e,t,n,r,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new eO(e=>YP(e),KP),this.Ma=new Map,this.xa=new Set,this.Oa=new ON(oN.comparator),this.Na=new Map,this.La=new sT,this.Ba={},this.ka=new Map,this.qa=eT.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function qA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hC(e);let a;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Da()):a=await KA(r,t,n,!0),a}async function GA(e,t){const n=hC(e);await KA(n,t,!0,!1)}async function KA(e,t,n,r){const a=await jT(e.localStore,HP(t)),o=a.targetId,i=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await YA(e,t,o,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&XT(e.remoteStore,a),s}async function YA(e,t,n,r,a){e.Ka=(t,n,r)=>async function(e,t,n,r){let a=t.view.ma(n);a.ns&&(a=await PT(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,a)}));const o=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,o,i);return iC(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await PT(e.localStore,t,!0),i=new WA(t,o.Ts),s=i.ma(o.documents),l=sE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=i.applyChanges(s,e.isPrimaryClient,l);iC(e,n,c.wa);const u=new zA(t,n,i);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function QA(e,t,n){const r=Lj(e),a=r.Fa.get(t),o=r.Ma.get(a.targetId);if(o.length>1)return r.Ma.set(a.targetId,o.filter(e=>!KP(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await NT(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&$T(r.remoteStore,a.targetId),aC(r,a.targetId)}).catch(fN)):(aC(r,a.targetId),await NT(r.localStore,a.targetId,!0))}async function XA(e,t){const n=Lj(e),r=n.Fa.get(t),a=n.Ma.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$T(n.remoteStore,r.targetId))}async function $A(e,t){const n=Lj(e);try{const e=await function(e,t){const n=Lj(e),r=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const i=[];t.targetChanges.forEach((o,s)=>{const l=a.get(s);if(!l)return;i.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(MN.EMPTY_BYTE_STRING,eN.min()).withLastLimboFreeSnapshotVersion(eN.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),a=a.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&i.push(n.Ur.updateTargetData(e,c))});let s=nO(),l=dO();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(_T(e,o,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual(eN.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return pN.waitFor(i).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Rj(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Rj(r.va):e.removedDocuments.size>0&&(Rj(r.va),r.va=!1))}),await cC(n,e,t)}catch(e){await fN(e)}}function JA(e,t,n){const r=Lj(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const a=r.view.Z_(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Lj(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.j_)a.Z_(t)&&(r=!0)}),r&&MA(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZA(e,t,n){const r=Lj(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Na.get(t),o=a&&a.key;if(o){let e=new ON(oN.comparator);e=e.insert(o,uP.newNoDocument(o,eN.min()));const n=dO().add(o),a=new iE(eN.min(),new Map,new ON($j),e,n);await $A(r,a),r.Oa=r.Oa.remove(o),r.Na.delete(t),lC(r)}else await NT(r.localStore,t,!1).then(()=>aC(r,t,n)).catch(fN)}async function eC(e,t){const n=Lj(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lj(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,o=a.keys();let i=pN.resolve();return o.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Rj(null!==o),t.version.compareTo(o)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=dO();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);rC(n,r,null),nC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cC(n,e)}catch(e){await fN(e)}}async function tC(e,t,n){const r=Lj(e);try{const e=await function(e,t){const n=Lj(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Rj(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);rC(r,t,n),nC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cC(r,e)}catch(n){await fN(n)}}function nC(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function rC(e,t,n){const r=Lj(e);let a=r.Ba[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Ba[r.currentUser.toKey()]=a}}function aC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||oC(e,t)})}function oC(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&($T(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),lC(e))}function iC(e,t,n){for(const r of n)r instanceof BA?(e.La.addReference(r.key,t),sC(e,r)):r instanceof UA?(Aj("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||oC(e,r.key)):Mj()}function sC(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Aj("SyncEngine","New document in limbo: "+n),e.xa.add(r),lC(e))}function lC(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new oN(nN.fromString(t)),r=e.qa.next();e.Na.set(r,new VA(n)),e.Oa=e.Oa.insert(n,r),XT(e.remoteStore,new KE(HP(UP(n.path)),r,"TargetPurposeLimboResolution",yN.oe))}}async function cC(e,t,n){const r=Lj(e),a=[],o=[],i=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{i.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,a?"current":"not-current")}if(e){a.push(e);const t=gT.Wi(s.targetId,e);o.push(t)}}))}),await Promise.all(i),r.Ca.d_(a),await async function(e,t){const n=Lj(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>pN.forEach(t,t=>pN.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>pN.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!gN(e))throw e;Aj("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,a)}}}(r.localStore,o))}async function uC(e,t){const n=Lj(e);if(!n.currentUser.isEqual(t)){Aj("SyncEngine","User change. New user:",t.toKey());const e=await wT(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Bj(Fj.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cC(n,e.hs)}}function dC(e,t){const n=Lj(e),r=n.Na.get(t);if(r&&r.va)return dO().add(r.key);{let e=dO();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function hC(e){const t=Lj(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZA.bind(null,t),t.Ca.d_=IA.bind(null,t.eventManager),t.Ca.$a=DA.bind(null,t.eventManager),t}function fC(e){const t=Lj(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,t),t}class pC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=UT(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return xT(this.persistence,new vT,e.initialUser,this.serializer)}Ga(e){return new fT(mT.Zr,this.serializer)}Wa(e){return new TT}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pC.provider={build:()=>new pC};class mC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>JA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await xA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new EA}createDatastore(e){const t=UT(e.databaseInfo.databaseId),n=function(e){return new FT(e)}(e.databaseInfo);return function(e,t,n,r){return new qT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new KT(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>JA(this.syncEngine,e,0),CT.D()?new CT:new AT)}createSyncEngine(e,t){return function(e,t,n,r,a,o,i){const s=new HA(e,t,n,r,a,o);return i&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Lj(e);Aj("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await QT(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mC.provider={build:()=>new mC};class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cj("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class yC{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pj.UNAUTHENTICATED,this.clientId=Xj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{Aj("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Aj("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uj;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(YI){const n=kA(YI,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function vC(e,t){e.asyncQueue.verifyOperationInProgress(),Aj("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await wT(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xC(e);Aj("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>bA(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>bA(t.remoteStore,n)),e._onlineComponents=t}async function xC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Aj("FirestoreClient","Using user provided OfflineComponentProvider");try{await vC(e,e._uninitializedComponentsProvider._offline)}catch(YI){const n=YI;if(!function(e){return"FirebaseError"===e.name?e.code===Fj.FAILED_PRECONDITION||e.code===Fj.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ij("Error using user provided cache. Falling back to memory cache: "+n),await vC(e,new pC)}}else Aj("FirestoreClient","Using default OfflineComponentProvider"),await vC(e,new pC);return e._offlineComponents}async function wC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Aj("FirestoreClient","Using user provided OnlineComponentProvider"),await bC(e,e._uninitializedComponentsProvider._online)):(Aj("FirestoreClient","Using default OnlineComponentProvider"),await bC(e,new mC))),e._onlineComponents}function SC(e){return wC(e).then(e=>e.syncEngine)}async function _C(e){const t=await wC(e),n=t.eventManager;return n.onListen=qA.bind(null,t.syncEngine),n.onUnlisten=QA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=GA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=XA.bind(null,t.syncEngine),n}function kC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jC=new Map;function NC(e,t,n){if(!n)throw new Bj(Fj.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function PC(e){if(!oN.isDocumentKey(e))throw new Bj(Fj.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function OC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Mj()}function EC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bj(Fj.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OC(e);throw new Bj(Fj.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class TC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bj(Fj.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bj(Fj.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bj(Fj.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bj(Fj.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bj(Fj.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bj(Fj.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class AC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bj(Fj.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bj(Fj.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zj;switch(e.type){case"firstParty":return new Gj(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bj(Fj.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jC.get(e);t&&(Aj("ComponentProvider","Removing Datastore"),jC.delete(e),t.terminate())}(this),Promise.resolve()}}function CC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const o=(e=EC(e,AC))._getSettings(),i="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==i&&Ij("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pj.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ax(JSON.stringify({alg:"none",type:"JWT"})),ax(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Bj(Fj.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pj(o)}e._authCredentials=new Vj(new Wj(t,n))}}class IC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new IC(this.firestore,e,this._query)}}class DC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new MC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DC(this.firestore,e,this._key)}}class MC extends IC{constructor(e,t,n){super(e,t,UP(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DC(this.firestore,null,new oN(e))}withConverter(e){return new MC(this.firestore,e,this._path)}}function RC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=jx(e),1===arguments.length&&(t=Xj.newId()),NC("doc","path",t),e instanceof AC){const n=nN.fromString(t,...r);return PC(n),new DC(e,null,new oN(n))}{if(!(e instanceof DC||e instanceof MC))throw new Bj(Fj.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(nN.fromString(t,...r));return PC(n),new DC(e.firestore,e instanceof MC?e.converter:null,new oN(n))}}class LC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WT(this,"async_queue_retry"),this.Vu=()=>{const e=BT();e&&Aj("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=BT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=BT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Uj;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gN(e))throw e;Aj("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Cj("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=_A.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Mj()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function FC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class BC extends AC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new LC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LC(e),this._firestoreClient=void 0,await e}}}function UC(e,t){const n="string"==typeof e?e:t||"(default)",r=Rw("object"==typeof e?e:zw(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=lx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&CC(r,...e)}return r}function WC(e){if(e._terminated)throw new Bj(Fj.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||zC(e),e._firestoreClient}function zC(e){var t,n,r;const a=e._freezeSettings(),o=function(e,t,n,r){return new VN(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new yC(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class VC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new VC(MN.fromBase64String(e))}catch(e){throw new Bj(Fj.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new VC(MN.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class HC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bj(Fj.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new aN(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qC{constructor(e){this._methodName=e}}class GC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bj(Fj.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bj(Fj.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $j(this._lat,e._lat)||$j(this._long,e._long)}}class KC{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const YC=/^__.*__$/;class QC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new BO(e,this.data,this.fieldMask,t,this.fieldTransforms):new FO(e,this.data,t,this.fieldTransforms)}}function XC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mj()}}class $C{constructor(e,t,n,r,a,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $C(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lI(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(XC(this.Cu)&&YC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JC{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||UT(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $C({Cu:e,methodName:t,qu:n,path:aN.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZC(e){const t=e._freezeSettings(),n=UT(e._databaseId);return new JC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eI(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Qu(o.merge||o.mergeFields?2:0,t,n,a);aI("Data must be an object, but it was:",i,r);const s=nI(r,i);let l,c;if(o.merge)l=new IN(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const a=oI(t,r,n);if(!i.contains(a))throw new Bj(Fj.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));cI(e,a)||e.push(a)}l=new IN(e),c=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=i.fieldTransforms;return new QC(new lP(s),l,c)}function tI(e,t){if(rI(e=jx(e)))return aI("Unsupported field value:",t,e),nI(e,t);if(e instanceof qC)return function(e,t){if(!XC(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=tI(a,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jx(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gO(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Zj.fromDate(e);return{timestampValue:xE(t.serializer,n)}}if(e instanceof Zj){const n=new Zj(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xE(t.serializer,n)}}if(e instanceof GC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof VC)return{bytesValue:wE(t.serializer,e._byteString)};if(e instanceof DC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:kE(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof KC)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return pO(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(OC(e)))}(e,t)}function nI(e,t){const n={};return PN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):NN(e,(e,r)=>{const a=tI(r,t.Mu(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function rI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zj||e instanceof GC||e instanceof VC||e instanceof DC||e instanceof qC||e instanceof KC)}function aI(e,t,n){if(!rI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=OC(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function oI(e,t,n){if((t=jx(t))instanceof HC)return t._internalPath;if("string"==typeof t)return sI(e,t);throw lI("Field path arguments must be of type string or ",e,!1,void 0,n)}const iI=new RegExp("[~\\*/\\[\\]]");function sI(e,t,n){if(t.search(iI)>=0)throw lI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new HC(...t.split("."))._internalPath}catch(U){throw lI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lI(e,t,n,r,a){const o=r&&!r.isEmpty(),i=void 0!==a;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=" in field ".concat(r)),i&&(l+=" in document ".concat(a)),l+=")"),new Bj(Fj.INVALID_ARGUMENT,s+e+l)}function cI(e,t){return e.some(e=>e.isEqual(t))}class uI{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new DC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dI extends uI{data(){return super.data()}}function hI(e,t){return"string"==typeof t?sI(e,t):t instanceof HC?t._internalPath:t._delegate._internalPath}function fI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bj(Fj.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(GN(e)){case 0:return null;case 1:return e.booleanValue;case 2:return FN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(BN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mj()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return NN(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>FN(e.doubleValue));return new KC(a)}convertGeoPoint(e){return new GC(FN(e.latitude),FN(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=WN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zN(e));default:return null}}convertTimestamp(e){const t=LN(e);return new Zj(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nN.fromString(e);Rj(GE(n));const r=new HN(n.get(1),n.get(3)),a=new oN(n.popFirst(5));return r.isEqual(t)||Cj("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function mI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yI extends uI{constructor(e,t,n,r,a,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vI extends yI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vI(this._firestore,this._userDataWriter,n.key,n,new gI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bj(Fj.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new vI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new vI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,o=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:xI(t.type),doc:r,oldIndex:a,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mj()}}class wI extends pI{constructor(e){super(),this.firestore=e}convertBytes(e){return new VC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DC(this.firestore,null,t)}}function SI(e,t,n){e=EC(e,DC);const r=EC(e.firestore,BC),a=mI(e.converter,t,n);return _I(r,[eI(ZC(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,TO.none())])}function _I(e,t){return function(e,t){const n=new Uj;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=fC(e);try{const e=await function(e,t){const n=Lj(e),r=Zj.now(),a=t.reduce((e,t)=>e.add(t.key),dO());let o,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=nO(),l=dO();return n.cs.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(a=>{o=a;const i=[];for(const e of t){const t=RO(e,o.get(e.key).overlayedDocument);null!=t&&i.push(new BO(e.key,t,cP(t.value.mapValue),TO.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:oO(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ON($j)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await cC(r,e.changes),await uA(r.remoteStore)}catch(e){const t=kA(e,"Failed to persist write");n.reject(t)}}(await SC(e),t,n)),n.promise}(WC(e),t)}function kI(e,t,n){const r=n.docs.get(t._key),a=new wI(e);return new yI(e,a,t._key,r,new gI(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Oj=e}(Uw),Mw(new Nx("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const o=e.getProvider("app").getImmediate(),i=new BC(new Hj(e.getProvider("auth-internal")),new Yj(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bj(Fj.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new HN(e.options.projectId,t)}(o,r),o);return a=Object.assign({useFetchStreams:t},a),i._setSettings(a),i},"PUBLIC").setMultipleInstances(!0)),Vw(Nj,"4.7.3",e),Vw(Nj,"4.7.3","esm2017")}();const jI={apiKey:"AIzaSyDcuPXgRPIdX-NYblBqQkdXqrGiD6yobcA",authDomain:"tloed-finance-tracker.firebaseapp.com",projectId:"tloed-finance-tracker",storageBucket:"tloed-finance-tracker.appspot.com",messagingSenderId:"220652845054",appId:"1:220652845054:web:2d2f498ce8158afa2cf2af",measurementId:"G-0N3ZD0XNTC"},NI=()=>{var e,n,r;const{loading:a,error:o,usersData:i,historicalData:s}=L(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)({email:"",password:""}),[y,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(!1),[w,S]=(0,t.useState)({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),[_,k]=(0,t.useState)({text:"",type:""}),[j,N]=(0,t.useState)(null),[P,O]=(0,t.useState)(!1),[E,T]=(0,t.useState)({type:"ALL",team:"ALL"}),[A,I]=(0,t.useState)({key:"date",direction:"desc"}),[D,M]=(0,t.useState)(1),[R,F]=(0,t.useState)([]),[B,U]=(0,t.useState)({description:"",amount:""}),[W,z]=(0,t.useState)(null),[V,H]=(0,t.useState)(""),[q,G]=(0,t.useState)({transactions:[],potentialFees:[],potentialPayouts:[]}),[K,Y]=(0,t.useState)(!0),[Q,X]=(0,t.useState)(null),$=!!c&&"QzIJSZWBHgSzhmC6pOOiuJNxbI83"===c.uid,J=i?i.map(e=>({userId:e.user_id,displayName:e.display_name||e.username||e.user_id})):[],Z=Object.keys((null===s||void 0===s?void 0:s.rostersBySeason)||{}).sort((e,t)=>t-e),ee=(0,t.useMemo)(()=>{const e={};return s?(Object.entries(s.matchupsBySeason||{}).forEach(t=>{let[n,r]=t;const a={};r.forEach(e=>{e.week&&(a[e.week]||(a[e.week]=[]),a[e.week].push(e))}),e[n]={},Object.entries(a).forEach(t=>{let[r,a]=t,o=[];a.forEach(e=>{var t,r,a,i;const l=null===(t=s.rostersBySeason)||void 0===t||null===(r=t[n])||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e.team1_roster_id)),c=null===(a=s.rostersBySeason)||void 0===a||null===(i=a[n])||void 0===i?void 0:i.find(t=>String(t.roster_id)===String(e.team2_roster_id));l&&!isNaN(e.team1_score)&&o.push({userId:l.owner_id,score:e.team1_score}),c&&!isNaN(e.team2_score)&&o.push({userId:c.owner_id,score:e.team2_score})}),o.sort((e,t)=>t.score-e.score);const i=o.slice(0,2).map(e=>e.userId);e[n][r]=i})}),e):e},[s]),te=(0,t.useMemo)(()=>{const e={};return s&&s.matchupsBySeason&&s.rostersBySeason?(Object.keys(s.matchupsBySeason).forEach(t=>{const n={},r=s.rostersBySeason[t];if(!r)return;r.forEach(e=>{e.owner_id&&(n[e.owner_id]=0)});s.matchupsBySeason[t].forEach(e=>{const t=r.find(t=>String(t.roster_id)===String(e.team1_roster_id));t&&t.owner_id&&!isNaN(e.team1_score)&&(n[t.owner_id]+=e.team1_score);const a=r.find(t=>String(t.roster_id)===String(e.team2_roster_id));a&&a.owner_id&&!isNaN(e.team2_score)&&(n[a.owner_id]+=e.team2_score)});const a=Object.entries(n).map(e=>{let[t,n]=e;return{userId:t,score:n}}).sort((e,t)=>t.score-e.score);e[t]=a}),e):e},[s]),ne=(0,t.useMemo)(()=>{let e=q.transactions.filter(e=>{const t="ALL"===E.type||e.type===E.type,n="ALL"===E.team||(Array.isArray(e.team)?e.team.includes(E.team):e.team===E.team);return t&&n});return A.key&&(e=((e,t,n,r)=>{const a=[...e].sort((e,a)=>{let o=e[t],i=a[t];if("amount"===t)o=Number(o),i=Number(i);else if("date"===t)o=new Date(o),i=new Date(i);else if("team"===t){const t=e=>{var t;return(null===(t=r.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e};o=Array.isArray(e.team)?e.team.map(t).join(", "):t(e.team),i=Array.isArray(a.team)?a.team.map(t).join(", "):t(a.team)}return o<i?"asc"===n?-1:1:o>i?"asc"===n?1:-1:0});return a})(e,A.key,A.direction,J)),e},[q,E,A,J]),re=Math.ceil(ne.length/10),ae=ne.slice(10*(D-1),10*D);(0,t.useEffect)(()=>{window.firebaseApp||(window.firebaseApp=Ww(jI));const e=window.firebaseApp,t=uj(e),n=UC(e);p(t),h(n);const r=function(e,t,n,r){return jx(e).onAuthStateChanged(t,n,r)}(t,e=>{u(e)});return()=>{r()}},[]),(0,t.useEffect)(()=>{Z.length>0&&!V&&H(Z[0])},[Z,V]),(0,t.useEffect)(()=>{if(!V||!d)return;Y(!0);const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,i;e=jx(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||FC(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(FC(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,d,h;if(e instanceof DC)d=EC(e.firestore,BC),h=UP(e._key.path),u={next:t=>{n[l]&&n[l](kI(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=EC(e,IC);d=EC(t.firestore,BC),h=t._query;const r=new wI(d);u={next:e=>{n[l]&&n[l](new bI(d,r,t,e))},error:n[l+1],complete:n[l+2]},fI(e._query)}return function(e,t,n,r){const a=new gC(r),o=new FA(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>AA(await _C(e),o)),()=>{a.Za(),e.asyncQueue.enqueueAndForget(async()=>CA(await _C(e),o))}}(WC(d),h,c,u)}(RC(d,"league_finances",V),e=>{if(e.exists()){const t=e.data();G(t&&t.transactions?t:{transactions:[],potentialFees:[],potentialPayouts:[]})}else G({transactions:[],potentialFees:[],potentialPayouts:[]});Y(!1)},e=>{console.error("Error fetching Firestore data:",e),Y(!1)});return()=>e()},[V,d]);const oe=e=>"Waiver/FA Fee"===e.category?Number(e.amount||0)*Number(e.quantity||1):"Trade Fee"===e.category&&Array.isArray(e.team)?Number(e.amount||0)*e.team.length:Number(e.amount||0),ie=q.transactions.filter(e=>"Fee"===e.type&&("Trade Fee"===e.category||"Waiver/FA Fee"===e.category)).reduce((e,t)=>e+oe(t),0),se=q.transactions.filter(e=>"Fee"===e.type).reduce((e,t)=>e+oe(t),0),le=q.transactions.filter(e=>"Payout"===e.type).reduce((e,t)=>e+Number(t.amount||0),0),ce=se-le;if(a||K)return(0,C.jsx)("div",{className:"p-4 text-blue-600",children:"Loading financial tracker..."});if(o)return(0,C.jsxs)("div",{className:"p-4 text-red-600",children:["Error loading data: ",o.message]});if(!i||!s)return(0,C.jsx)("div",{className:"p-4 text-orange-600",children:"No data available."});const ue=e=>{let t="asc";A.key===e&&"asc"===A.direction&&(t="desc"),I({key:e,direction:t})},de=async e=>{if(!$||!d)return;const t=new Set(e.map(e=>e.id)),n=q.transactions.filter(e=>!t.has(e.id));try{const e=RC(d,"league_finances",V);await SI(e,l(l({},q),{},{transactions:n}),{merge:!0}),k({text:"Transaction(s) deleted successfully!",type:"success"})}catch(r){console.error("Error deleting transaction: ",r),k({text:"Error deleting transaction.",type:"error"})}F([])},he=R.length>0&&R.length===ae.length,fe=async(e,t)=>{if(!$||!d)return;const n=q["fees"===t?"potentialFees":"potentialPayouts"].filter(t=>t.id!==e);try{const e=RC(d,"league_finances",V);await SI(e,l(l({},q),{},{["fees"===t?"potentialFees":"potentialPayouts"]:n}),{merge:!0}),k({text:"Potential ".concat(t.slice(0,-1)," deleted successfully!"),type:"success"})}catch(r){console.error("Error deleting potential transaction: ",r),k({text:"Error deleting potential ".concat(t.slice(0,-1),"."),type:"error"})}},pe=(e,t,n,r,a)=>{var o;const i=Array.isArray(t)?t.map(e=>{var t;return(null===(t=n.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}):[(null===(o=n.find(e=>e.userId===t))||void 0===o?void 0:o.displayName)||t];return i.length>3&&r!==e?(0,C.jsxs)("div",{className:"flex flex-col items-start",children:[(0,C.jsxs)("span",{children:[i.slice(0,3).join(", ")," ..."]}),(0,C.jsxs)("button",{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 text-xs mt-1",children:["(+",i.length-3," more)"]})]}):(0,C.jsxs)("div",{className:"flex flex-col items-start",children:[(0,C.jsx)("span",{children:i.join(", ")}),i.length>3&&(0,C.jsx)("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-xs mt-1",children:"Show less"})]})};return(0,C.jsxs)("div",{className:"p-4 max-w-5xl mx-auto font-sans",children:[(0,C.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"League Financial Tracker"}),(0,C.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:(0,C.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,C.jsx)("span",{children:"League Year:"}),(0,C.jsx)("select",{className:"border rounded px-2 py-1 bg-gray-50",value:V,onChange:e=>{H(e.target.value),M(1)},children:Z.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]})}),(0,C.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,C.jsxs)("div",{className:"flex flex-col items-center bg-blue-50 rounded-lg px-6 py-3 shadow-md text-blue-800 min-w-[120px]",children:[(0,C.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"League Bank"}),(0,C.jsxs)("span",{className:"text-2xl font-bold",children:["$",ce.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,C.jsxs)("div",{className:"flex flex-col items-center bg-red-50 rounded-lg px-6 py-3 shadow-md text-red-800 min-w-[120px]",children:[(0,C.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Fees"}),(0,C.jsxs)("span",{className:"text-2xl font-bold",children:["$",se.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,C.jsxs)("div",{className:"flex flex-col items-center bg-green-50 rounded-lg px-6 py-3 shadow-md text-green-800 min-w-[120px]",children:[(0,C.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Payouts"}),(0,C.jsxs)("span",{className:"text-2xl font-bold",children:["$",le.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,C.jsxs)("div",{className:"flex flex-col items-center bg-yellow-50 rounded-lg px-6 py-3 shadow-md text-yellow-800 min-w-[120px]",children:[(0,C.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Transaction Bank"}),(0,C.jsxs)("span",{className:"text-2xl font-bold",children:["$",ie.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,C.jsx)("div",{className:"flex flex-col md:flex-row md:justify-center md:items-center mb-6 gap-4",children:c?(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsxs)("span",{className:"text-green-700 font-semibold",children:["Logged in as ",c.email]}),$&&(0,C.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold",children:"Commissioner"}),(0,C.jsx)("button",{onClick:()=>{f&&function(e){jx(e).signOut()}(f)},className:"ml-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm",children:"Logout"})]}):(0,C.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,C.jsxs)("button",{onClick:()=>x(!b),className:"w-full text-center py-2 px-4 rounded-lg bg-blue-500 text-white font-semibold mb-4 flex items-center justify-center gap-2 hover:bg-blue-600 transition duration-200",children:["Commissioner Login",(0,C.jsx)("span",{className:"transform transition-transform duration-200 ".concat(b?"rotate-180":"rotate-0"),children:"\u25bc"})]}),b&&(0,C.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-full mx-auto animate-fadeIn",children:[(0,C.jsxs)("div",{className:"text-center mb-6",children:[(0,C.jsx)("h1",{className:"text-xl font-bold text-slate-800 mb-2",children:"Commish Login"}),(0,C.jsx)("p",{className:"text-slate-500 text-sm",children:"Sign in to manage league finances."})]}),(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f){v("");try{await function(e,t,n){return Lw(e.app)?Promise.reject(cS(e)):Y_(jx(e),D_.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Q_(e),t})}(f,m.email,m.password)}catch(t){v("Login failed. Please check your credentials.")}}},className:"flex flex-col gap-4 items-center",children:[(0,C.jsx)("input",{type:"email",required:!0,placeholder:"Commish Email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:m.email,onChange:e=>g(t=>l(l({},t),{},{email:e.target.value}))}),(0,C.jsx)("input",{type:"password",required:!0,placeholder:"Password",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",value:m.password,onChange:e=>g(t=>l(l({},t),{},{password:e.target.value}))}),(0,C.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Log In"}),y&&(0,C.jsx)("span",{className:"text-red-600 text-xs mt-2",children:y})]})]})]})}),$&&(0,C.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[(0,C.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end bg-blue-50 p-4 rounded-lg",onSubmit:async e=>{if(e.preventDefault(),!$||!d)return;if(0===w.team.length)return void k({text:"Please select at least one team.",type:"error"});let t,n;if(j)t=q.transactions.map(e=>e.id===j.id?l(l({},w),{},{id:j.id,date:(new Date).toISOString()}):e),n="Transaction updated successfully!",N(null);else{const e=[];"Entry Fee"===w.category?w.team.forEach(t=>{e.push(l(l({},w),{},{id:crypto.randomUUID(),quantity:1,team:[t],date:(new Date).toISOString()}))}):e.push(l(l({},w),{},{id:crypto.randomUUID(),team:w.team,date:(new Date).toISOString()})),t=[...q.transactions,...e],n="Transaction saved successfully!"}try{const e=RC(d,"league_finances",V);await SI(e,l(l({},q),{},{transactions:t}),{merge:!0}),k({text:n,type:"success"})}catch(e){console.error("Error saving transaction: ",e),k({text:"Error saving transaction.",type:"error"})}S({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),O(!1)},children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Type"}),(0,C.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.type,onChange:e=>{const t=e.target.value;S(e=>l(l({},e),{},{type:t,description:"",category:"",team:[]}))},disabled:j,children:[(0,C.jsx)("option",{value:"Fee",children:"Fee"}),(0,C.jsx)("option",{value:"Payout",children:"Payout"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Amount ($)"}),(0,C.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.amount,onChange:e=>S(t=>l(l({},t),{},{amount:e.target.value})),required:!0})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Category"}),(0,C.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.category,onChange:e=>{const t=e.target.value;let n=w.team,r=w.description;if("Trade Fee"===t&&(n=[]),"Payout"===w.type&&t.startsWith("Weekly")&&w.week){var a,o;const e="Weekly 1st"===t?0:1,l=null===(a=ee[V])||void 0===a||null===(o=a[w.week])||void 0===o?void 0:o[e];if(l){var i,c;n=[l];const e=null===(i=s.matchupsBySeason)||void 0===i||null===(c=i[V])||void 0===c?void 0:c.filter(e=>String(e.week)===String(w.week));let a=null;if(e)for(const t of e){var u;null!==(u=s.rostersBySeason)&&void 0!==u&&u[V]&&(String(t.team1_roster_id)&&s.rostersBySeason[V].find(e=>String(e.roster_id)===String(t.team1_roster_id)&&e.owner_id===l)&&(a=t.team1_score),String(t.team2_roster_id)&&s.rostersBySeason[V].find(e=>String(e.roster_id)===String(t.team2_roster_id)&&e.owner_id===l)&&(a=t.team2_score))}null===a||isNaN(a)||(r="".concat(t," (").concat(a.toFixed(2)," pts)"))}}if("Payout"===w.type&&t.startsWith("Total Points")){const e=te[V];let a=-1;if("Total Points 1st"===t&&(a=0),"Total Points 2nd"===t&&(a=1),"Total Points 3rd"===t&&(a=2),e&&e[a]){const o=e[a];n=[o.userId],r="".concat(t," (").concat(o.score.toFixed(2)," pts)")}}S(e=>l(l({},e),{},{category:t,team:n,description:r}))},required:!0,children:[(0,C.jsx)("option",{value:"",children:"Select..."}),("Fee"===w.type?["Entry Fee","Trade Fee","Waiver/FA Fee","Other"]:["Weekly 1st","Weekly 2nd","Playoff 1st","Playoff 2nd","Playoff 3rd","Total Points 1st","Total Points 2nd","Total Points 3rd","Bonus","Other"]).map(e=>(0,C.jsx)("option",{value:e,children:e},e))]})]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Team(s)"}),(0,C.jsx)("button",{type:"button",onClick:()=>O(!P),className:"w-full border rounded-lg px-2 py-2 text-left bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.team.length===J.length?"All Teams":w.team.length>3?"".concat((null===(e=J.find(e=>e.userId===w.team[0]))||void 0===e?void 0:e.displayName)||"Team",", ").concat((null===(n=J.find(e=>e.userId===w.team[1]))||void 0===n?void 0:n.displayName)||"Team",", ").concat((null===(r=J.find(e=>e.userId===w.team[2]))||void 0===r?void 0:r.displayName)||"Team","... (+").concat(w.team.length-3," more)"):w.team.length>0?w.team.map(e=>{var t;return null===(t=J.find(t=>t.userId===e))||void 0===t?void 0:t.displayName}).join(", "):"Select Team(s)"}),P&&(0,C.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[(0,C.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,C.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:w.team.length===J.length,onChange:e=>{const t=e.target.checked;S(e=>l(l({},e),{},{team:t?J.map(e=>e.userId):[]}))}}),(0,C.jsx)("span",{children:"All Teams"})]},"all"),J.map(e=>(0,C.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer",children:[(0,C.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:w.team.includes(e.userId),onChange:t=>{const n=t.target.checked;S(t=>{const r=n?[...t.team,e.userId]:t.team.filter(t=>t!==e.userId);return l(l({},t),{},{team:r})})}}),(0,C.jsx)("span",{children:e.displayName})]},e.userId))]})]}),"Waiver/FA Fee"===w.category&&(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Quantity"}),(0,C.jsx)("input",{type:"number",min:"1",step:"1",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.quantity,onChange:e=>S(t=>l(l({},t),{},{quantity:parseInt(e.target.value)||1})),required:!0})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Description"}),(0,C.jsx)("input",{type:"text",className:"w-full border rounded-lg px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat("Payout"===w.type&&(w.category.startsWith("Weekly")&&w.week||w.category.startsWith("Total Points"))?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-white"),value:w.description,onChange:e=>{"Payout"===w.type&&(w.category.startsWith("Weekly")&&w.week||w.category.startsWith("Total Points"))||S(t=>l(l({},t),{},{description:e.target.value}))},placeholder:"e.g. Paid for entry, Weekly winner, etc.",required:!0,disabled:"Payout"===w.type&&(w.category.startsWith("Weekly")&&w.week||w.category.startsWith("Total Points"))})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Week #"}),(0,C.jsx)("input",{type:"number",min:"0",className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.week,onChange:e=>{var t;const n=e.target.value;let r=w.team,a=w.description;if(n){if("Payout"===w.type&&("Weekly 1st"===w.category||"Weekly 2nd"===w.category)&&null!==(t=ee[V])&&void 0!==t&&t[n]){const e="Weekly 1st"===w.category?0:1,t=ee[V][n][e];if(t){var o,i;r=[t];const e=null===(o=s.matchupsBySeason)||void 0===o||null===(i=o[V])||void 0===i?void 0:i.filter(e=>String(e.week)===String(n));let l=null;if(e)for(const n of e){var c;null!==(c=s.rostersBySeason)&&void 0!==c&&c[V]&&(String(n.team1_roster_id)&&s.rostersBySeason[V].find(e=>String(e.roster_id)===String(n.team1_roster_id)&&e.owner_id===t)&&(l=n.team1_score),String(n.team2_roster_id)&&s.rostersBySeason[V].find(e=>String(e.roster_id)===String(n.team2_roster_id)&&e.owner_id===t)&&(l=n.team2_score))}null===l||isNaN(l)||(a="".concat(w.category," (").concat(l.toFixed(2)," pts)"))}}}else r=[],a="";S(e=>l(l({},e),{},{week:n,team:r,description:a}))},placeholder:"e.g. 1, 2, ..."})]}),(0,C.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-2",children:[j&&(0,C.jsx)("button",{type:"button",className:"bg-gray-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-200",onClick:()=>{N(null),S({type:"Fee",amount:"",category:"",description:"",week:"",team:[],quantity:1}),k({text:"Cancelled edit.",type:"info"})},children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-200",children:j?"Update Transaction":"Submit Transaction"})]})]}),_.text&&(0,C.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm font-medium ".concat("success"===_.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:_.text})]}),(0,C.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,C.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:"League Members & Dues"}),(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left",children:"Member"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Fees"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Transaction Fees"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Total Payouts"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Net Total"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Final Dues"})]})}),(0,C.jsx)("tbody",{children:J.map(e=>{const t=q.transactions.filter(t=>"Fee"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),n=q.transactions.filter(t=>"Fee"===t.type&&("Trade Fee"===t.category||"Waiver/FA Fee"===t.category)&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),r=q.transactions.filter(t=>"Payout"===t.type&&(Array.isArray(t.team)?t.team.includes(e.userId):t.team===e.userId)).reduce((e,t)=>e+Number(t.amount||0),0),a=r-t,o=a<0?"text-red-600":"text-green-600",i=r-n,s=i<0?"text-red-600":"text-green-600";return(0,C.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,C.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.displayName}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(o),children:["$",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center font-bold ".concat(s),children:["$",i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.userId)})})]})}),!$&&(0,C.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Login as commissioner to edit dues."})]}),(0,C.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,C.jsxs)("h3",{className:"text-lg font-semibold text-blue-800",children:["All Transactions (",V,")"]}),(0,C.jsxs)("div",{className:"flex gap-2",children:[$&&(0,C.jsxs)("button",{onClick:()=>{R.length>0&&de(R)},disabled:0===R.length,className:"px-3 py-1 rounded-lg text-sm font-semibold transition duration-200 ".concat(R.length>0?"bg-red-500 text-white hover:bg-red-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Delete Selected (",R.length,")"]}),(0,C.jsx)("button",{onClick:()=>{const e=ne.map(e=>{var t;const n=Array.isArray(e.team)?e.team.map(e=>{var t;return(null===(t=J.find(t=>t.userId===e))||void 0===t?void 0:t.displayName)||e}).join(", "):(null===(t=J.find(t=>t.userId===e.team))||void 0===t?void 0:t.displayName)||e.team;return[e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"",n,e.type,Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e.category,e.description,e.week,e.quantity||1]}),t=[["Date","Team","Type","Amount","Category","Description","Week","Quantity"].join(","),...e.map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(","))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","league_finances_".concat(V,".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-600 transition duration-200",children:"Export to CSV"})]})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Type"}),(0,C.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.type,onChange:e=>{T(t=>l(l({},t),{},{type:e.target.value})),M(1)},children:[(0,C.jsx)("option",{value:"ALL",children:"All Types"}),(0,C.jsx)("option",{value:"Fee",children:"Fees"}),(0,C.jsx)("option",{value:"Payout",children:"Payouts"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:"Filter by Team"}),(0,C.jsxs)("select",{className:"w-full border rounded-lg px-2 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.team,onChange:e=>{T(t=>l(l({},t),{},{team:e.target.value})),M(1)},children:[(0,C.jsx)("option",{value:"ALL",children:"All Teams"}),J.map(e=>(0,C.jsx)("option",{value:e.userId,children:e.displayName},e.userId))]})]})]}),(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,C.jsx)("thead",{className:"bg-blue-50",children:(0,C.jsxs)("tr",{children:[$&&(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:(0,C.jsx)("input",{type:"checkbox",className:"form-checkbox",onChange:e=>{e.target.checked?F(ae):F([])},checked:he})}),(0,C.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("date"),children:(0,C.jsxs)("div",{className:"flex items-center",children:["Date","date"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-left cursor-pointer hover:bg-blue-100",onClick:()=>ue("team"),children:(0,C.jsxs)("div",{className:"flex items-center",children:["Team","team"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("type"),children:(0,C.jsxs)("div",{className:"flex items-center justify-center",children:["Type","type"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Qty"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("amount"),children:(0,C.jsxs)("div",{className:"flex items-center justify-center",children:["Amount","amount"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("category"),children:(0,C.jsxs)("div",{className:"flex items-center justify-center",children:["Category","category"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("description"),children:(0,C.jsxs)("div",{className:"flex items-center justify-center",children:["Description","description"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),(0,C.jsx)("th",{className:"py-2 px-3 text-center cursor-pointer hover:bg-blue-100",onClick:()=>ue("week"),children:(0,C.jsxs)("div",{className:"flex items-center justify-center",children:["Week","week"===A.key&&(0,C.jsx)("span",{className:"ml-1 text-gray-500",children:"asc"===A.direction?"\u25b2":"\u25bc"})]})}),$&&(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,C.jsx)("tbody",{children:ae.map(e=>{const t=e.date?isNaN(new Date(e.date))?"Invalid Date":new Date(e.date).toLocaleString():"";return(0,C.jsxs)("tr",{className:"even:bg-gray-50",children:[$&&(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:(0,C.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:R.some(t=>t.id===e.id),onChange:t=>((e,t)=>{F(t?t=>[...t,e]:t=>t.filter(t=>t.id!==e.id))})(e,t.target.checked)})}),(0,C.jsx)("td",{className:"py-2 px-3 whitespace-nowrap",children:t}),(0,C.jsx)("td",{className:"py-2 px-3",children:pe(e.id,e.team,J,Q,X)}),(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:e.type}),(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:"Waiver/FA Fee"===e.category?e.quantity:""}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:e.category}),(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:e.description}),(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:e.week}),$&&(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:(0,C.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,C.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-bold text-lg",title:"Edit transaction",onClick:()=>{return t=e,void($&&(N(t),S(l(l({},t),{},{team:Array.isArray(t.team)?t.team:[t.team],quantity:t.quantity||1})),k({text:"Editing transaction...",type:"info"})));var t},children:"\u270e"}),(0,C.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>de([e]),children:"\u2716"})]})})]},e.id)})})]})}),(0,C.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:Array.from({length:re},(e,t)=>(0,C.jsx)("button",{className:"px-3 py-1 rounded-lg transition duration-200 ".concat(D===t+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>M(t+1),disabled:D===t+1,children:t+1},t))})]}),(0,C.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,C.jsxs)("h3",{className:"text-xl font-semibold text-red-800",children:["Fees (",V,")"]}),$&&(0,C.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>z("fees"),title:"Add Fee",children:"+"})]}),q.potentialFees.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,C.jsx)("thead",{className:"bg-red-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),$&&(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,C.jsx)("tbody",{children:q.potentialFees.map(e=>(0,C.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,C.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$&&(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:(0,C.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"fees"),children:"\u2716"})})]},e.id))})]})}):(0,C.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No fees for this year."})]}),(0,C.jsxs)("div",{className:"mb-10 bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,C.jsxs)("h3",{className:"text-xl font-semibold text-green-800",children:["Payouts (",V,")"]}),$&&(0,C.jsx)("button",{className:"rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold transition-transform duration-200 transform bg-blue-600 text-white hover:scale-110",onClick:()=>z("payouts"),title:"Add Payout",children:"+"})]}),q.potentialPayouts.length>0?(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm",children:[(0,C.jsx)("thead",{className:"bg-green-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-2 px-3 text-left",children:"Description"}),(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Amount"}),$&&(0,C.jsx)("th",{className:"py-2 px-3 text-center",children:"Actions"})]})}),(0,C.jsx)("tbody",{children:q.potentialPayouts.map(e=>(0,C.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,C.jsx)("td",{className:"py-2 px-3 font-semibold text-gray-800 whitespace-nowrap",children:e.description}),(0,C.jsxs)("td",{className:"py-2 px-3 text-center",children:["$",Number(e.amount||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$&&(0,C.jsx)("td",{className:"py-2 px-3 text-center",children:(0,C.jsx)("button",{className:"text-red-600 hover:text-red-800 font-bold text-lg",onClick:()=>fe(e.id,"payouts"),children:"\u2716"})})]},e.id))})]})}):(0,C.jsx)("div",{className:"text-center text-gray-500 py-4 italic",children:"No payouts for this year."})]}),W&&(0,C.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,C.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl w-full max-w-sm mx-auto",children:[(0,C.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Add ","fees"===W?"Fee":"Payout"]}),(0,C.jsxs)("form",{onSubmit:e=>(async(e,t)=>{if(e.preventDefault(),!$||!d)return;const n=l({id:(new Date).toISOString()},B);let r;r="fees"===t?[...q.potentialFees,n]:[...q.potentialPayouts,n];try{const e=RC(d,"league_finances",V);await SI(e,l(l({},q),{},{["fees"===t?"potentialFees":"potentialPayouts"]:r}),{merge:!0}),k({text:"Potential ".concat(t.slice(0,-1)," added successfully!"),type:"success"})}catch(e){console.error("Error saving potential transaction: ",e),k({text:"Error saving potential ".concat(t.slice(0,-1),"."),type:"error"})}z(null),U({description:"",amount:""})})(e,W),children:[(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,C.jsx)("input",{type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.description,onChange:e=>U(t=>l(l({},t),{},{description:e.target.value})),required:!0})]}),(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Amount ($)"}),(0,C.jsx)("input",{type:"number",min:"0",step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B.amount,onChange:e=>U(t=>l(l({},t),{},{amount:e.target.value})),required:!0})]}),(0,C.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,C.jsx)("button",{type:"button",className:"bg-gray-400 text-white font-bold py-2 px-4 rounded hover:bg-gray-500 transition duration-200",onClick:()=>{z(null),U({description:"",amount:""})},children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600 transition duration-200",children:"Save"})]})]})]})})]})},PI=()=>(0,C.jsx)("div",{className:"w-full flex items-center justify-center min-h-[200px] bg-gradient-to-r from-blue-50 to-gray-100 py-8",children:(0,C.jsx)("h1",{className:"text-3xl font-bold text-blue-700",children:"Coming soon"})}),OI=()=>{const{loading:e,error:n,careerDPRData:r,getTeamName:a}=L(),[o,i]=(0,t.useState)(""),[s,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!e&&!n&&r){const e=r.map(e=>a(e.ownerId,null)).filter(e=>e&&!e.startsWith("Unknown Team (ID:")).sort((e,t)=>e.localeCompare(t));l(e),e.length>0&&!o&&i(e[0])}},[e,n,r,a,o]);return e?(0,C.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"Loading league data for teams..."}):n?(0,C.jsxs)("div",{className:"w-full p-8 text-center text-red-500 font-semibold",children:["Error loading league data: ",n.message||String(n)]}):0===s.length?(0,C.jsx)("div",{className:"w-full p-8 text-center text-gray-600",children:"No teams found or data is not yet available."}):(0,C.jsxs)("div",{className:"container mx-auto p-4",children:[(0,C.jsxs)("div",{className:"mb-6 text-center",children:[(0,C.jsx)("label",{htmlFor:"team-select",className:"block text-lg font-medium text-gray-700 mb-2",children:"Select a Team:"}),(0,C.jsx)("select",{id:"team-select",value:o,onChange:e=>{i(e.target.value)},className:"mt-1 block w-full md:w-1/2 lg:w-1/3 mx-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm",children:s.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),o&&(0,C.jsx)($b,{teamName:o})]})},EI=()=>{var e,n,r,a;const{loading:o,error:i,historicalData:s,usersData:c,allDraftHistory:u,nflState:d,processedSeasonalRecords:h,getTeamDetails:f}=L(),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[x,w]=(0,t.useState)("N/A"),[S,_]=(0,t.useState)("N/A"),[k,j]=(0,t.useState)("N/A"),N=(0,t.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return"Unknown User";let r=t;n&&s&&s.usersBySeason&&s.usersBySeason[n]&&(r=s.usersBySeason[n]);let a=[];if(Array.isArray(r))a=r;else{if("object"!==typeof r||null===r)return"Unknown User";a=Object.values(r)}const o=a.find(t=>t.user_id===e);var i;return o?(null===(i=o.metadata)||void 0===i?void 0:i.team_name)||o.display_name:e},[s]);if((0,t.useEffect)(()=>{if(!o&&!i&&s){const e=new Set;s.matchupsBySeason&&Object.keys(s.matchupsBySeason).forEach(t=>e.add(Number(t))),s.seasonAwardsSummary&&Object.keys(s.seasonAwardsSummary).forEach(t=>e.add(Number(t))),s.winnersBracketBySeason&&Object.keys(s.winnersBracketBySeason).forEach(t=>e.add(Number(t))),h&&Object.keys(h).length>0&&Object.keys(h).forEach(t=>e.add(Number(t)));const t=Array.from(e).sort((e,t)=>t-e);console.log("SeasonBreakdown: Available years:",t),console.log("SeasonBreakdown: processedSeasonalRecords keys:",h?Object.keys(h):"undefined"),y(t),t.length>0&&!p&&m(t[0])}},[o,i,s,h,p]),(0,t.useEffect)(()=>{if(p&&s&&c){var e;console.log("SeasonBreakdown: Calculating standings for season:",p),console.log("SeasonBreakdown: processedSeasonalRecords for season:",h[p]);const t=h[p],n=null===(e=s.rostersBySeason)||void 0===e?void 0:e[p];if(!t||!n)return console.log("SeasonBreakdown: Missing data for season",p,{hasSeasonalMetrics:!!t,hasRosters:!!n}),b([]),w("N/A"),_("N/A"),void j("N/A");const r=Object.values(t).map(e=>{const t=f(e.ownerId,p);return{teamName:(null===t||void 0===t?void 0:t.name)||e.teamName||"Unknown Team",wins:e.wins||0,losses:e.losses||0,ties:e.ties||0,pointsFor:e.pointsFor||0,pointsAgainst:e.pointsAgainst||0,rosterId:e.rosterId,ownerId:e.ownerId}});console.log("SeasonBreakdown: Standings array:",r);const a=r.sort((e,t)=>t.wins!==e.wins?t.wins-e.wins:e.losses!==t.losses?e.losses-t.losses:t.pointsFor-e.pointsFor);b(a);let o="N/A",i="N/A",l="N/A";if(s.winnersBracketBySeason&&s.winnersBracketBySeason[p]){const e=s.winnersBracketBySeason[p],t=e.find(e=>1===e.p&&e.w&&e.l);if(t){const e=String(t.w).trim(),r=String(t.l).trim(),a=n.find(t=>String(t.roster_id)===e),s=n.find(e=>String(e.roster_id)===r);if(a&&a.owner_id){const e=f(a.owner_id,p);o=(null===e||void 0===e?void 0:e.name)||N(a.owner_id,c,p)}if(s&&s.owner_id){const e=f(s.owner_id,p);i=(null===e||void 0===e?void 0:e.name)||N(s.owner_id,c,p)}}const r=e.find(e=>3===e.p&&e.w);if(r){const e=String(r.w).trim(),t=n.find(t=>String(t.roster_id)===e);if(t&&t.owner_id){const e=f(t.owner_id,p);l=(null===e||void 0===e?void 0:e.name)||N(t.owner_id,c,p)}}}if("N/A"===o&&s.seasonAwardsSummary&&s.seasonAwardsSummary[p]){const e=s.seasonAwardsSummary[p];if(e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()){const t=e.champion.trim(),n=f(t,p);if(null!==n&&void 0!==n&&n.name)o=n.name;else{const e=N(t,c,p);o="Unknown User"!==e?e:t}}}if("N/A"===o&&s.awardsSummary&&s.awardsSummary[p]){const e=s.awardsSummary[p],t=e.champion||e.Champion;if(t&&"N/A"!==t&&""!==String(t).trim()){const e=String(t).trim(),n=f(e,p);if(null!==n&&void 0!==n&&n.name)o=n.name;else{const t=N(e,c,p);o="Unknown User"!==t?t:e}}}w(o),_(i),j(l)}else p||(b([]),w("N/A"),_("N/A"),j("N/A"))},[p,s,c,h,N]),o)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,C.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading season data..."})]})});if(i)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,C.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,C.jsxs)("p",{className:"text-base",children:["Failed to load season data: ",i.message||String(i)]})]})});const P=e=>{var t;const n=v.find(t=>String(t.rosterId)===String(e));if(n)return n.teamName;const r=null===h||void 0===h||null===(t=h[p])||void 0===t?void 0:t[e];if(null!==r&&void 0!==r&&r.ownerId){const e=f(r.ownerId,p);return(null===e||void 0===e?void 0:e.name)||"Unknown"}return"Unknown"};let O=null;if(p&&h[p]){const e=Object.values(h[p]).map(e=>{const t=f(e.ownerId,p);return l(l({},e),{},{teamName:(null===t||void 0===t?void 0:t.name)||e.teamName||"Unknown Team"})}),t=e.reduce((e,t)=>e.pointsFor>t.pointsFor?e:t,{}),n=e.reduce((e,t)=>e.wins>t.wins?e:t,{}),r=e.reduce((e,t)=>e.luckRating>t.luckRating?e:t,{}),a=e.reduce((e,t)=>e.luckRating<t.luckRating?e:t,{}),o=e.reduce((e,t)=>e.allPlayWinPercentage>t.allPlayWinPercentage?e:t,{}),i=e.reduce((e,t)=>e.blowoutWins>t.blowoutWins?e:t,{}),c=e.reduce((e,t)=>e.slimWins>t.slimWins?e:t,{}),u=e.reduce((e,t)=>e.topScoreWeeksCount>t.topScoreWeeksCount?e:t,{});let d={score:-1/0,team:null,week:null},m={score:1/0,team:null,week:null};s.matchupsBySeason&&s.matchupsBySeason[p]&&s.matchupsBySeason[p].forEach(e=>{"number"===typeof e.team1_score&&e.team1_score>d.score&&(d={score:e.team1_score,team:P(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>d.score&&(d={score:e.team2_score,team:P(e.team2_roster_id),week:e.week}),"number"===typeof e.team1_score&&e.team1_score>0&&e.team1_score<m.score&&(m={score:e.team1_score,team:P(e.team1_roster_id),week:e.week}),"number"===typeof e.team2_score&&e.team2_score>0&&e.team2_score<m.score&&(m={score:e.team2_score,team:P(e.team2_roster_id),week:e.week})}),m.score===1/0&&(m={score:"N/A",team:"N/A",week:"N/A"}),O={pointsChampion:t,bestRecord:n,luckiest:r,unluckiest:a,allPlayChamp:o,blowoutKing:i,slimMaster:c,topScorer:u,highestWeek:d,lowestWeek:m}}const E="N/A"!==x||"N/A"!==S||"N/A"!==k;return(0,C.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,C.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Season Breakdown"}),(0,C.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,C.jsx)("label",{htmlFor:"season-select",className:"text-lg font-semibold text-gray-700",children:"Select Season:"}),(0,C.jsxs)("select",{id:"season-select",value:p||"",onChange:e=>m(Number(e.target.value)),className:"p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-800 text-lg",children:[0===g.length&&(0,C.jsx)("option",{value:"",children:"No Seasons Available"}),g.map(e=>(0,C.jsx)("option",{value:e,children:e},e))]})]}),p&&(0,C.jsxs)("div",{className:"mt-8",children:[(0,C.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-20 text-center",children:[p," Season Summary"]}),E&&(0,C.jsxs)("div",{className:"relative flex justify-center items-end h-56 gap-2 md:gap-4 mb-8",children:["N/A"!==S&&(0,C.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-4/5 bg-gray-300 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,C.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,C.jsx)("i",{className:"fas fa-trophy text-gray-500 text-5xl"})}),(0,C.jsx)("span",{className:"text-xl md:text-2xl font-bold text-gray-700",children:"2nd Place"}),(0,C.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800",children:S})]}),"N/A"!==x&&(0,C.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-full bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center transition-all duration-300 hover:scale-105",children:[(0,C.jsx)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2",children:(0,C.jsx)("span",{className:"text-7xl",children:"\ud83c\udfc6"})}),(0,C.jsx)("span",{className:"text-2xl md:text-3xl font-bold text-white",children:"SWEEN BOWL CHAMPION"}),(0,C.jsx)("p",{className:"text-lg md:text-xl font-semibold text-white",children:x})]}),"N/A"!==k&&(0,C.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-3/5 bg-amber-700 rounded-lg shadow-lg p-2 md:p-4 w-1/3 text-center text-white transition-all duration-300 hover:scale-105",children:[(0,C.jsx)("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2",children:(0,C.jsx)("i",{className:"fas fa-trophy text-amber-800 text-5xl"})}),(0,C.jsx)("span",{className:"text-xl md:text-2xl font-bold",children:"3rd Place"}),(0,C.jsx)("p",{className:"text-base md:text-lg font-semibold",children:k})]})]}),O&&(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[(0,C.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-blue-700 mb-1",children:"Points Champion"}),(0,C.jsxs)("div",{children:[O.pointsChampion.teamName," (",null===(e=O.pointsChampion.pointsFor)||void 0===e?void 0:e.toFixed(2)," pts)"]})]}),(0,C.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-green-700 mb-1",children:"Best Record"}),(0,C.jsxs)("div",{children:[O.bestRecord.teamName," (",O.bestRecord.wins,"-",O.bestRecord.losses,"-",O.bestRecord.ties,")"]})]}),(0,C.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-yellow-700 mb-1",children:"Luckiest Team"}),(0,C.jsxs)("div",{children:[O.luckiest.teamName," (",null===(n=O.luckiest.luckRating)||void 0===n?void 0:n.toFixed(3),")"]})]}),(0,C.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-red-700 mb-1",children:"Unluckiest Team"}),(0,C.jsxs)("div",{children:[O.unluckiest.teamName," (",null===(r=O.unluckiest.luckRating)||void 0===r?void 0:r.toFixed(3),")"]})]}),(0,C.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-purple-700 mb-1",children:"All-Play Champion"}),(0,C.jsxs)("div",{children:[O.allPlayChamp.teamName," (",null===(a=100*O.allPlayChamp.allPlayWinPercentage)||void 0===a?void 0:a.toFixed(1),"%)"]})]}),(0,C.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-pink-700 mb-1",children:"Blowout King"}),(0,C.jsxs)("div",{children:[O.blowoutKing.teamName," (",O.blowoutKing.blowoutWins," blowout wins)"]})]}),(0,C.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-orange-700 mb-1",children:"Slim Margin Master"}),(0,C.jsxs)("div",{children:[O.slimMaster.teamName," (",O.slimMaster.slimWins," slim wins)"]})]}),(0,C.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-indigo-700 mb-1",children:"Weekly Top Scorer"}),(0,C.jsxs)("div",{children:[O.topScorer.teamName," (",O.topScorer.topScoreWeeksCount," times)"]})]}),(0,C.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-teal-700 mb-1",children:"Highest Single-Week Score"}),(0,C.jsxs)("div",{children:[O.highestWeek.team," (",O.highestWeek.score," pts, Week ",O.highestWeek.week,")"]})]}),(0,C.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 shadow",children:[(0,C.jsx)("h4",{className:"font-bold text-gray-700 mb-1",children:"Lowest Single-Week Score"}),(0,C.jsxs)("div",{children:[O.lowestWeek.team," (",O.lowestWeek.score," pts, Week ",O.lowestWeek.week,")"]})]})]}),(0,C.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Season Standings"}),v.length>0?(0,C.jsx)("div",{className:"overflow-x-auto rounded-lg shadow-md",children:(0,C.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,C.jsx)("thead",{className:"bg-gray-200 text-gray-700 uppercase text-sm leading-normal",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"py-3 px-6 text-left",children:"Rank"}),(0,C.jsx)("th",{className:"py-3 px-6 text-left",children:"Team"}),(0,C.jsx)("th",{className:"py-3 px-6 text-center",children:"W"}),(0,C.jsx)("th",{className:"py-3 px-6 text-center",children:"L"}),(0,C.jsx)("th",{className:"py-3 px-6 text-center",children:"T"}),(0,C.jsx)("th",{className:"py-3 px-6 text-center",children:"PF"}),(0,C.jsx)("th",{className:"py-3 px-6 text-center",children:"PA"})]})}),(0,C.jsx)("tbody",{className:"text-gray-700 text-sm font-light",children:v.map((e,t)=>(0,C.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,C.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap font-medium",children:t+1}),(0,C.jsx)("td",{className:"py-3 px-6 text-left",children:e.teamName}),(0,C.jsx)("td",{className:"py-3 px-6 text-center",children:e.wins}),(0,C.jsx)("td",{className:"py-3 px-6 text-center",children:e.losses}),(0,C.jsx)("td",{className:"py-3 px-6 text-center",children:e.ties}),(0,C.jsx)("td",{className:"py-3 px-6 text-center",children:e.pointsFor.toFixed(2)}),(0,C.jsx)("td",{className:"py-3 px-6 text-center",children:e.pointsAgainst.toFixed(2)})]},e.rosterId))})]})}):(0,C.jsx)("p",{className:"text-center text-gray-600",children:"No standings data available for this season."})]}),!p&&!o&&!i&&(0,C.jsx)("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Please select a season from the dropdown to view its breakdown."})]})};function TI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const II=()=>{};let DI={},MI={},RI=null,LI={mark:II,measure:II};try{"undefined"!==typeof window&&(DI=window),"undefined"!==typeof document&&(MI=document),"undefined"!==typeof MutationObserver&&(RI=MutationObserver),"undefined"!==typeof performance&&(LI=performance)}catch(QL){}const{userAgent:FI=""}=DI.navigator||{},BI=DI,UI=MI,WI=RI,zI=LI,VI=(BI.document,!!UI.documentElement&&!!UI.head&&"function"===typeof UI.addEventListener&&"function"===typeof UI.createElement),HI=~FI.indexOf("MSIE")||~FI.indexOf("Trident/");var qI={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},GI=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],KI="classic",YI="duotone",QI=[KI,YI,"sharp","sharp-duotone"],XI=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),$I=["fak","fa-kit","fakd","fa-kit-duotone"],JI={fak:"kit","fa-kit":"kit"},ZI={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},eD=["fak","fakd"],tD={kit:"fak"},nD={"kit-duotone":"fakd"},rD={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},aD=["fak","fa-kit","fakd","fa-kit-duotone"],oD={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},iD=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],sD=[1,2,3,4,5,6,7,8,9,10],lD=sD.concat([11,12,13,14,15,16,17,18,19,20]),cD=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",rD.GROUP,rD.SWAP_OPACITY,rD.PRIMARY,rD.SECONDARY].concat(sD.map(e=>"".concat(e,"x"))).concat(lD.map(e=>"w-".concat(e)));const uD="___FONT_AWESOME___",dD=16,hD="svg-inline--fa",fD="data-fa-i2svg",pD="data-fa-pseudo-element",mD="data-prefix",gD="data-icon",yD="fontawesome-i2svg",vD=["HTML","HEAD","STYLE","SCRIPT"],bD=(()=>{try{return!0}catch(e){return!1}})();function xD(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[KI]})}const wD=CI({},qI);wD[KI]=CI(CI(CI(CI({},{"fa-duotone":"duotone"}),qI[KI]),JI),ZI);const SD=xD(wD),_D=CI({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});_D[KI]=CI(CI(CI(CI({},{duotone:"fad"}),_D[KI]),tD),nD);const kD=xD(_D),jD=CI({},oD);jD[KI]=CI(CI({},jD[KI]),{fak:"fa-kit"});const ND=xD(jD),PD=CI({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});PD[KI]=CI(CI({},PD[KI]),{"fa-kit":"fak"});xD(PD);const OD=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ED="fa-layers-text",TD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,AD=(xD(CI({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),CD={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ID=["kit",...cD],DD=BI.FontAwesomeConfig||{};if(UI&&"function"===typeof UI.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=UI.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(DD[n]=r)})}const MD={styleDefault:"solid",familyDefault:KI,cssPrefix:"fa",replacementClass:hD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};DD.familyPrefix&&(DD.cssPrefix=DD.familyPrefix);const RD=CI(CI({},MD),DD);RD.autoReplaceSvg||(RD.observeMutations=!1);const LD={};Object.keys(MD).forEach(e=>{Object.defineProperty(LD,e,{enumerable:!0,set:function(t){RD[e]=t,FD.forEach(e=>e(LD))},get:function(){return RD[e]}})}),Object.defineProperty(LD,"familyPrefix",{enumerable:!0,set:function(e){RD.cssPrefix=e,FD.forEach(e=>e(LD))},get:function(){return RD.cssPrefix}}),BI.FontAwesomeConfig=LD;const FD=[];const BD=dD,UD={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function WD(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function zD(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function VD(e){return e.classList?zD(e.classList):(e.getAttribute("class")||"").split(" ").filter(e=>e)}function HD(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qD(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function GD(e){return e.size!==UD.size||e.x!==UD.x||e.y!==UD.y||e.rotate!==UD.rotate||e.flipX||e.flipY}function KD(){const e="fa",t=hD,n=LD.cssPrefix,r=LD.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const o=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");a=a.replace(o,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(s,".".concat(r))}return a}let YD=!1;function QD(){LD.autoAddCss&&!YD&&(!function(e){if(!e||!VI)return;const t=UI.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=UI.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}UI.head.insertBefore(t,r)}(KD()),YD=!0)}var XD={mixout:()=>({dom:{css:KD,insertCss:QD}}),hooks:()=>({beforeDOMElementCreation(){QD()},beforeI2svg(){QD()}})};const $D=BI||{};$D[uD]||($D[uD]={}),$D[uD].styles||($D[uD].styles={}),$D[uD].hooks||($D[uD].hooks={}),$D[uD].shims||($D[uD].shims=[]);var JD=$D[uD];const ZD=[],eM=function(){UI.removeEventListener("DOMContentLoaded",eM),tM=1,ZD.map(e=>e())};let tM=!1;function nM(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?HD(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(HD(e[n]),'" '),"").trim()}(n),">").concat(r.map(nM).join(""),"</").concat(t,">")}function rM(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}VI&&(tM=(UI.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(UI.readyState),tM||UI.addEventListener("DOMContentLoaded",eM));var aM=function(e,t,n,r){var a,o,i,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,a,o){return e.call(t,n,r,a,o)}}(t,r):t;for(void 0===n?(a=1,i=e[s[0]]):(a=0,i=n);a<l;a++)i=c(i,e[o=s[a]],o,e);return i};function oM(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function iM(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function sM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=iM(t);"function"!==typeof JD.hooks.addPack||r?JD.styles[e]=CI(CI({},JD.styles[e]||{}),a):JD.hooks.addPack(e,iM(t)),"fas"===e&&sM("fa",t)}const{styles:lM,shims:cM}=JD,uM=Object.keys(ND),dM=uM.reduce((e,t)=>(e[t]=Object.keys(ND[t]),e),{});let hM=null,fM={},pM={},mM={},gM={},yM={};function vM(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(o=a,~ID.indexOf(o))?null:a;var o}const bM=()=>{const e=e=>aM(lM,(t,n,r)=>(t[r]=aM(n,e,{}),t),{});fM=e((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter(e=>"number"===typeof e).forEach(t=>{e[t.toString(16)]=n})}return e}),pM=e((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter(e=>"string"===typeof e).forEach(t=>{e[t]=n})}return e}),yM=e((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach(t=>{e[t]=n}),e});const t="far"in lM||LD.autoFetchSvg,n=aM(cM,(e,n)=>{const r=n[0];let a=n[1];const o=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:o}),e},{names:{},unicodes:{}});mM=n.names,gM=n.unicodes,hM=jM(LD.styleDefault,{family:LD.familyDefault})};var xM;function wM(e,t){return(fM[e]||{})[t]}function SM(e,t){return(yM[e]||{})[t]}function _M(e){return mM[e]||{prefix:null,iconName:null}}function kM(){return hM}xM=e=>{hM=jM(e.styleDefault,{family:LD.familyDefault})},FD.push(xM),bM();function jM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=KI}=t,r=SD[n][e];if(n===YI&&!e)return"fad";const a=kD[n][e]||kD[n][r],o=e in JD.styles?e:null;return a||o||null}function NM(e){return e.sort().filter((e,t,n)=>n.indexOf(e)===t)}function PM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=iD.concat(aD),o=NM(e.filter(e=>a.includes(e))),i=NM(e.filter(e=>!iD.includes(e))),s=o.filter(e=>(r=e,!GI.includes(e))),[l=null]=s,c=function(e){let t=KI;const n=uM.reduce((e,t)=>(e[t]="".concat(LD.cssPrefix,"-").concat(t),e),{});return QI.forEach(r=>{(e.includes(n[r])||e.some(e=>dM[r].includes(e)))&&(t=r)}),t}(o),u=CI(CI({},function(e){let t=[],n=null;return e.forEach(e=>{const r=vM(LD.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(i)),{},{prefix:jM(l,{family:c})});return CI(CI(CI({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:o={},config:i={}}=e,s=n===YI,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===i.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!s&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&OM.includes(n)){if(Object.keys(o).find(e=>EM.includes(e))||i.autoFetchSvg){const e=XI.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=SM(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=kM()||"fas");return r}({values:e,family:c,styles:lM,config:LD,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const o="fa"===t?_M(a):{},i=SM(r,a);a=o.iconName||i||a,r=o.prefix||r,"far"!==r||lM.far||!lM.fas||LD.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,u))}const OM=QI.filter(e=>e!==KI||e!==YI),EM=Object.keys(oD).filter(e=>e!==KI).map(e=>Object.keys(oD[e])).flat();let TM=[],AM={};const CM={},IM=Object.keys(CM);function DM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(AM[e]||[]).forEach(e=>{t=e.apply(null,[t,...r])}),t}function MM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(AM[e]||[]).forEach(e=>{e.apply(null,n)})}function RM(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return CM[e]?CM[e].apply(null,t):void 0}function LM(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||kM();if(t)return t=SM(n,t)||t,rM(FM.definitions,n,t)||rM(JD.styles,n,t)}const FM=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(e=>{this.definitions[e]=CI(CI({},this.definitions[e]||{}),r[e]),sM(e,r[e]);const t=ND[KI][e];t&&sM(t,r[e]),bM()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(t=>{const{prefix:r,iconName:a,icon:o}=n[t],i=o[2];e[r]||(e[r]={}),i.length>0&&i.forEach(t=>{"string"===typeof t&&(e[r][t]=o)}),e[r][a]=o}),e}},BM={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return VI?(MM("beforeI2svg",e),RM("pseudoElements2svg",e),RM("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===LD.autoReplaceSvg&&(LD.autoReplaceSvg=!0),LD.observeMutations=!0,n=()=>{zM({autoReplaceSvgRoot:t}),MM("watch",e)},VI&&(tM?setTimeout(n,0):ZD.push(n))}},UM={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:SM(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=jM(e[0]);return{prefix:n,iconName:SM(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(LD.cssPrefix,"-"))>-1||e.match(OD))){const t=PM(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||kM(),iconName:SM(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=kM();return{prefix:t,iconName:SM(t,e)||e}}}},WM={noAuto:()=>{LD.autoReplaceSvg=!1,LD.observeMutations=!1,MM("noAuto")},config:LD,dom:BM,parse:UM,library:FM,findIconDefinition:LM,toHtml:nM},zM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=UI}=e;(Object.keys(JD.styles).length>0||LD.autoFetchSvg)&&VI&&LD.autoReplaceSvg&&WM.dom.i2svg({node:t})};function VM(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(e=>nM(e))}}),Object.defineProperty(e,"node",{get:function(){if(!VI)return;const t=UI.createElement("div");return t.innerHTML=e.html,t.children}}),e}function HM(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:o,symbol:i,title:s,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,p=eD.includes(r),m=[LD.replacementClass,a?"".concat(LD.cssPrefix,"-").concat(a):""].filter(e=>-1===u.classes.indexOf(e)).filter(e=>""!==e||!!e).concat(u.classes).join(" ");let g={children:[],attributes:CI(CI({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)})};const y=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[fD]=""),s&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||WD())},children:[s]}),delete g.attributes.title);const v=CI(CI({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:o,symbol:i,styles:CI(CI({},y),u.styles)}),{children:b,attributes:x}=n.found&&t.found?RM("generateAbstractMask",v)||{children:[],attributes:{}}:RM("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=x,i?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:o}=e;const i=!0===o?"".concat(t,"-").concat(LD.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:CI(CI({},a),{},{id:i}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:a,styles:o,transform:i}=e;if(GD(i)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=qD(CI(CI({},o),{},{"transform-origin":"".concat(r.x+i.x/16,"em ").concat(r.y+i.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(v)}function qM(e){const{content:t,width:n,height:r,transform:a,title:o,extra:i,watchable:s=!1}=e,l=CI(CI(CI({},i.attributes),o?{title:o}:{}),{},{class:i.classes.join(" ")});s&&(l[fD]="");const c=CI({},i.styles);GD(a)&&(c.transform=function(e){let{transform:t,width:n=dD,height:r=dD,startCentered:a=!1}=e,o="";return o+=a&&HI?"translate(".concat(t.x/BD-n/2,"em, ").concat(t.y/BD-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/BD,"em), calc(-50% + ").concat(t.y/BD,"em)) "):"translate(".concat(t.x/BD,"em, ").concat(t.y/BD,"em) "),o+="scale(".concat(t.size/BD*(t.flipX?-1:1),", ").concat(t.size/BD*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}({transform:a,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=qD(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}const{styles:GM}=JD;function KM(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(LD.cssPrefix,"-").concat(CD.GROUP)},children:[{tag:"path",attributes:{class:"".concat(LD.cssPrefix,"-").concat(CD.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(LD.cssPrefix,"-").concat(CD.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const YM={found:!1,width:512,height:512};function QM(e,t){let n=t;return"fa"===t&&null!==LD.styleDefault&&(t=kM()),new Promise((r,a)=>{if("fa"===n){const n=_M(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&GM[t]&&GM[t][e]){return r(KM(GM[t][e]))}!function(e,t){bD||LD.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(CI(CI({},YM),{},{icon:LD.showMissingIcons&&e&&RM("missingIconAbstract")||{}}))})}const XM=()=>{},$M=LD.measurePerformance&&zI&&zI.mark&&zI.measure?zI:{mark:XM,measure:XM},JM='FA "6.7.2"',ZM=e=>{$M.mark("".concat(JM," ").concat(e," ends")),$M.measure("".concat(JM," ").concat(e),"".concat(JM," ").concat(e," begins"),"".concat(JM," ").concat(e," ends"))};var eR=e=>($M.mark("".concat(JM," ").concat(e," begins")),()=>ZM(e));const tR=()=>{};function nR(e){return"string"===typeof(e.getAttribute?e.getAttribute(fD):null)}function rR(e){return UI.createElementNS("http://www.w3.org/2000/svg",e)}function aR(e){return UI.createElement(e)}function oR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?rR:aR)}=t;if("string"===typeof e)return UI.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])});return(e.children||[]).forEach(function(e){r.appendChild(oR(e,{ceFn:n}))}),r}const iR={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(e=>{t.parentNode.insertBefore(oR(e),t)}),null===t.getAttribute(fD)&&LD.keepOriginalSource){let e=UI.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~VD(t).indexOf(LD.replacementClass))return iR.replace(e);const r=new RegExp("".concat(LD.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce((e,t)=>(t===LD.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map(e=>nM(e)).join("\n");t.setAttribute(fD,""),t.innerHTML=a}};function sR(e){e()}function lR(e,t){const n="function"===typeof t?t:tR;if(0===e.length)n();else{let t=sR;"async"===LD.mutateApproach&&(t=BI.requestAnimationFrame||sR),t(()=>{const t=!0===LD.autoReplaceSvg?iR.replace:iR[LD.autoReplaceSvg]||iR.replace,r=eR("mutate");e.map(t),r(),n()})}}let cR=!1;function uR(){cR=!0}function dR(){cR=!1}let hR=null;function fR(e){if(!WI)return;if(!LD.observeMutations)return;const{treeCallback:t=tR,nodeCallback:n=tR,pseudoElementsCallback:r=tR,observeMutationsRoot:a=UI}=e;hR=new WI(e=>{if(cR)return;const a=kM();zD(e).forEach(e=>{if("childList"===e.type&&e.addedNodes.length>0&&!nR(e.addedNodes[0])&&(LD.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&LD.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&nR(e.target)&&~AD.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(mD):null,n=e.getAttribute?e.getAttribute(gD):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=PM(VD(e.target));e.target.setAttribute(mD,t||a),n&&e.target.setAttribute(gD,n)}else(o=e.target)&&o.classList&&o.classList.contains&&o.classList.contains(LD.replacementClass)&&n(e.target);var o})}),VI&&hR.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function pR(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=PM(VD(e));return a.prefix||(a.prefix=kM()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function(e,t){return(pM[e]||{})[t]}(a.prefix,e.innerText)||wM(a.prefix,oM(e.innerText))),!a.iconName&&LD.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function mR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=pR(e),o=function(e){const t=zD(e.attributes).reduce((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return LD.autoA11y&&(n?t["aria-labelledby"]="".concat(LD.replacementClass,"-title-").concat(r||WD()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),i=DM("parseNodeAttributes",{},e);let s=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e},{})),n}(e):[];return CI({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:UD,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},i)}const{styles:gR}=JD;function yR(e){const t="nest"===LD.autoReplaceSvg?mR(e,{styleParser:!1}):mR(e);return~t.extra.classes.indexOf(ED)?RM("generateLayersText",e,t):RM("generateSvgReplacementMutation",e,t)}function vR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!VI)return Promise.resolve();const n=UI.documentElement.classList,r=e=>n.add("".concat(yD,"-").concat(e)),a=e=>n.remove("".concat(yD,"-").concat(e)),o=LD.autoFetchSvg?[...$I,...iD]:GI.concat(Object.keys(gR));o.includes("fa")||o.push("fa");const i=[".".concat(ED,":not([").concat(fD,"])")].concat(o.map(e=>".".concat(e,":not([").concat(fD,"])"))).join(", ");if(0===i.length)return Promise.resolve();let s=[];try{s=zD(e.querySelectorAll(i))}catch(u){}if(!(s.length>0))return Promise.resolve();r("pending"),a("complete");const l=eR("onTree"),c=s.reduce((e,t)=>{try{const n=yR(t);n&&e.push(n)}catch(u){bD||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise((e,n)=>{Promise.all(c).then(n=>{lR(n,()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()})}).catch(e=>{l(),n(e)})})}function bR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yR(e).then(e=>{e&&lR([e],t)})}const xR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=UD,symbol:r=!1,mask:a=null,maskId:o=null,title:i=null,titleId:s=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return VM(CI({type:"icon"},e),()=>(MM("beforeDOMElementCreation",{iconDefinition:e,params:t}),LD.autoA11y&&(i?c["aria-labelledby"]="".concat(LD.replacementClass,"-title-").concat(s||WD()):(c["aria-hidden"]="true",c.focusable="false")),HM({icons:{main:KM(f),mask:a?KM(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:CI(CI({},UD),n),symbol:r,title:i,maskId:o,titleId:s,extra:{attributes:c,styles:u,classes:l}})))};var wR={mixout(){return{icon:(e=xR,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:LM(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:LM(a||{})),e(r,CI(CI({},n),{},{mask:a}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=vR,e.nodeCallback=bR,e)}),provides(e){e.i2svg=function(e){const{node:t=UI,callback:n=()=>{}}=e;return vR(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:o,transform:i,symbol:s,mask:l,maskId:c,extra:u}=t;return new Promise((t,d)=>{Promise.all([QM(n,o),l.iconName?QM(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(l=>{let[d,h]=l;t([e,HM({icons:{main:d,mask:h},prefix:o,iconName:n,transform:i,symbol:s,maskId:c,title:r,titleId:a,extra:u,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:o}=e;const i=qD(o);let s;return i.length>0&&(n.style=i),GD(a)&&(s=RM("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(s||r.icon),{children:t,attributes:n}}}},SR={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return VM({type:"layer"},()=>{MM("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(e=>{Array.isArray(e)?e.map(e=>{r=r.concat(e.abstract)}):r=r.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(LD.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},_R={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:o={}}=t;return VM({type:"counter",content:e},()=>(MM("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=CI(CI(CI({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=qD(r.styles);o.length>0&&(a.style=o);const i=[];return i.push({tag:"span",attributes:a,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}({content:e.toString(),title:n,extra:{attributes:a,styles:o,classes:["".concat(LD.cssPrefix,"-layers-counter"),...r]}})))}})},kR={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=UD,title:r=null,classes:a=[],attributes:o={},styles:i={}}=t;return VM({type:"text",content:e},()=>(MM("beforeDOMElementCreation",{content:e,params:t}),qM({content:e,transform:CI(CI({},UD),n),title:r,extra:{attributes:o,styles:i,classes:["".concat(LD.cssPrefix,"-layers-text"),...a]}})))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let o=null,i=null;if(HI){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();o=n.width/t,i=n.height/t}return LD.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,qM({content:e.innerHTML,width:o,height:i,transform:r,title:n,extra:a,watchable:!0})])}}};const jR=new RegExp('"',"ug"),NR=[1105920,1112319],PR=CI(CI(CI(CI({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),OR=Object.keys(PR).reduce((e,t)=>(e[t.toLowerCase()]=PR[t],e),{}),ER=Object.keys(OR).reduce((e,t)=>{const n=OR[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function TR(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((r,a)=>{if(null!==e.getAttribute(n))return r();const o=zD(e.children).filter(e=>e.getAttribute(pD)===t)[0],i=BI.getComputedStyle(e,t),s=i.getPropertyValue("font-family"),l=s.match(TD),c=i.getPropertyValue("font-weight"),u=i.getPropertyValue("content");if(o&&!l)return e.removeChild(o),r();if(l&&"none"!==u&&""!==u){const u=i.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(OR[n]||{})[a]||ER[n]}(s,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(jR,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=NR[0]&&n<=NR[1],a=2===t.length&&t[0]===t[1];return{value:oM(a?t[0]:t),isSecondary:r||a}}(u),p=l[0].startsWith("FontAwesome");let m=wM(d,h),g=m;if(p){const e=function(e){const t=gM[e],n=wM("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(m=e.iconName,d=e.prefix)}if(!m||f||o&&o.getAttribute(mD)===d&&o.getAttribute(gD)===g)r();else{e.setAttribute(n,g),o&&e.removeChild(o);const i={iconName:null,title:null,titleId:null,prefix:null,transform:UD,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:s}=i;s.attributes[pD]=t,QM(m,d).then(a=>{const o=HM(CI(CI({},i),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:s,watchable:!0})),l=UI.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=o.map(e=>nM(e)).join("\n"),e.removeAttribute(n),r()}).catch(a)}}else r()})}function AR(e){return Promise.all([TR(e,"::before"),TR(e,"::after")])}function CR(e){return e.parentNode!==document.head&&!~vD.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(pD)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function IR(e){if(VI)return new Promise((t,n)=>{const r=zD(e.querySelectorAll("*")).filter(CR).map(AR),a=eR("searchPseudoElements");uR(),Promise.all(r).then(()=>{a(),dR(),t()}).catch(()=>{a(),dR(),n()})})}var DR={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=IR,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=UI}=e;LD.searchPseudoElements&&IR(t)}}};let MR=!1;var RR={mixout:()=>({dom:{unwatch(){uR(),MR=!0}}}),hooks:()=>({bootstrap(){fR(DM("mutationObserverCallbacks",{}))},noAuto(){hR&&hR.disconnect()},watch(e){const{observeMutationsRoot:t}=e;MR?dR():fR(DM("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const LR=e=>e.toLowerCase().split(" ").reduce((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var FR={mixout:()=>({parse:{transform:e=>LR(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=LR(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const o={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(i," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:CI({},c.outer),children:[{tag:"g",attributes:CI({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:CI(CI({},t.icon.attributes),c.path)}]}]}}}};const BR={x:0,y:0,width:"100%",height:"100%"};function UR(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var WR={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?PM(n.split(" ").map(e=>e.trim())):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=kM()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:o,transform:i}=e;const{width:s,icon:l}=r,{width:c,icon:u}=a,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(o," ").concat(i," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:i,containerWidth:c,iconWidth:s}),h={tag:"rect",attributes:CI(CI({},BR),{},{fill:"white"})},f=l.children?{children:l.children.map(UR)}:{},p={tag:"g",attributes:CI({},d.inner),children:[UR(CI({tag:l.tag,attributes:CI(CI({},l.attributes),d.path)},f))]},m={tag:"g",attributes:CI({},d.outer),children:[p]},g="mask-".concat(o||WD()),y="clip-".concat(o||WD()),v={tag:"mask",attributes:CI(CI({},BR),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(x=u,"g"===x.tag?x.children:[x])},v]};var x;return t.push(b,{tag:"rect",attributes:CI({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},BR)}),{children:t,attributes:n}}}},zR={provides(e){let t=!1;BI.matchMedia&&(t=BI.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:CI(CI({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=CI(CI({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:CI(CI({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:CI(CI({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:CI(CI({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:CI(CI({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:CI(CI({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:CI(CI({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:CI(CI({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;TM=e,AM={},Object.keys(CM).forEach(e=>{-1===IM.indexOf(e)&&delete CM[e]}),TM.forEach(e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach(r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){const t=e.hooks();Object.keys(t).forEach(e=>{AM[e]||(AM[e]=[]),AM[e].push(t[e])})}e.provides&&e.provides(CM)})}([XD,wR,SR,_R,kR,DR,RR,FR,WR,zR,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:WM});const VR=WM.parse,HR=WM.icon;function qR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(t){GR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||JR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XR(e){return function(e){if(Array.isArray(e))return qR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $R(e){return $R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(e)}function JR(e,t){if(e){if("string"==typeof e)return qR(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qR(e,t):void 0}}var ZR;try{var eL=n(5900);ZR=eL.version}catch(QL){ZR="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FA_VERSION||"7.0.0"}function tL(e){var t=e.beat,n=e.fade,r=e.beatFade,a=e.bounce,o=e.shake,i=e.flash,s=e.spin,l=e.spinPulse,c=e.spinReverse,u=e.pulse,d=e.fixedWidth,h=e.inverse,f=e.border,p=e.listItem,m=e.flip,g=e.size,y=e.rotation,v=e.pull,b=e.swapOpacity,x=e.rotateBy,w=e.widthAuto,S=function(e,t){for(var n=QR(e.split("-"),2),r=n[0],a=n[1],o=QR(t.split("-"),2),i=o[0],s=o[1],l=r.split("."),c=i.split("."),u=0;u<Math.max(l.length,c.length);u++){var d=l[u]||"0",h=c[u]||"0",f=parseInt(d,10),p=parseInt(h,10);if(f!==p)return f>p}for(var m=0;m<Math.max(l.length,c.length);m++){var g=l[m]||"0",y=c[m]||"0";if(g!==y&&g.length!==y.length)return g.length<y.length}return!(a&&!s)}(ZR,"7.0.0"),_=GR(GR(GR(GR(GR(GR({"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":o,"fa-flash":i,"fa-spin":s,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":u,"fa-fw":d,"fa-inverse":h,"fa-border":f,"fa-li":p,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),"fa-swap-opacity",b),"fa-rotate-by",S&&x),"fa-width-auto",S&&w);return Object.keys(_).map(function(e){return _[e]?e:null}).filter(function(e){return e})}function nL(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var rL=["style"];var aL=!1;try{aL=!0}catch(QL){}function oL(e){return e&&"object"===$R(e)&&e.prefix&&e.iconName&&e.icon?e:VR.icon?VR.icon(e):null===e?null:e&&"object"===$R(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function iL(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?GR({},e,t):{}}var sL={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},lL=t.forwardRef(function(e,t){var n=YR(YR({},sL),e),r=n.icon,a=n.mask,o=n.symbol,i=n.className,s=n.title,l=n.titleId,c=n.maskId,u=oL(r),d=iL("classes",[].concat(XR(tL(n)),XR((i||"").split(" ")))),h=iL("transform","string"===typeof n.transform?VR.transform(n.transform):n.transform),f=iL("mask",oL(a)),p=HR(u,YR(YR(YR(YR({},d),h),f),{},{symbol:o,title:s,titleId:l,maskId:c}));if(!p)return function(){var e;!aL&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach(function(e){sL.hasOwnProperty(e)||(g[e]=n[e])}),cL(m[0],g)});lL.displayName="FontAwesomeIcon",lL.propTypes={beat:Ar().bool,border:Ar().bool,beatFade:Ar().bool,bounce:Ar().bool,className:Ar().string,fade:Ar().bool,flash:Ar().bool,mask:Ar().oneOfType([Ar().object,Ar().array,Ar().string]),maskId:Ar().string,fixedWidth:Ar().bool,inverse:Ar().bool,flip:Ar().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ar().oneOfType([Ar().object,Ar().array,Ar().string]),listItem:Ar().bool,pull:Ar().oneOf(["right","left"]),pulse:Ar().bool,rotation:Ar().oneOf([0,90,180,270]),rotateBy:Ar().bool,shake:Ar().bool,size:Ar().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ar().bool,spinPulse:Ar().bool,spinReverse:Ar().bool,symbol:Ar().oneOfType([Ar().bool,Ar().string]),title:Ar().string,titleId:Ar().string,transform:Ar().oneOfType([Ar().string,Ar().object]),swapOpacity:Ar().bool,widthAuto:Ar().bool};var cL=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map(function(n){return e(t,n)}),o=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),a=nL(t.slice(0,r)),o=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[a]=o,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[nL(t)]=r}return e},{attrs:{}}),i=r.style,s=void 0===i?{}:i,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,rL);return o.attrs.style=YR(YR({},o.attrs.style),s),t.apply(void 0,[n.tag,YR(YR({},o.attrs),l)].concat(XR(a)))}.bind(null,t.createElement);const uL={prefix:"fas",iconName:"repeat",icon:[512,512,[128257],"f363","M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"]};const dL=(e,t,n,r,a)=>{var o,i,s,c,u;let d=e.player_name||"Unknown Player";"DEF"===(null===(o=e.metadata)||void 0===o?void 0:o.position)&&(d="".concat(e.metadata.first_name||""," ").concat(e.metadata.last_name||"").trim(),d||(d="Unknown Defense"));const h=t.find(t=>t.user_id===e.picked_by),f=null===(i=n.rostersBySeason)||void 0===i||null===(s=i[r])||void 0===s?void 0:s.find(t=>String(t.owner_id)===String(e.picked_by));return l(l({},e),{},{player_name:d,player_position:e.player_position||"",player_team:(null===(c=e.metadata)||void 0===c?void 0:c.team)||e.player_team||"",picked_by_display_name:h&&h.display_name||"Unknown User",picked_by_team_name:f&&(null===(u=f.metadata)||void 0===u?void 0:u.team_name)||a(e.picked_by,r)})},hL=e=>{const t=new Map;if(0===e)return console.warn("generateExpectedVorpByPickSlot: No picks to assign expected VORP values."),t;const n=27.1/Math.log(10);for(let r=1;r<=e;r++){const e=27.1-n*Math.log(Math.max(1,r));t.set(r,e)}return t},fL=(e,t)=>e-t,pL=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"regular",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Unknown Player";if(!e||!t)return console.warn("fetchPlayerStats: Player ID and season are required."),null;const a="https://api.sleeper.app/stats/nfl/player/".concat(e,"?season_type=").concat(n,"&season=").concat(t,"&grouping=week");try{const n=await fetch(a);if(!n.ok){console.error("Error fetching stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,": HTTP Status ").concat(n.status," - ").concat(n.statusText));try{const t=await n.text();console.error("Error response body for ".concat(r," (ID: ").concat(e,"):"),t)}catch(o){console.error("Could not read error response body for ".concat(r," (ID: ").concat(e,"):"),o)}return null}const i=await n.json();return console.log("Successfully fetched stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t,":"),i),i}catch(i){return console.error("Failed to fetch stats for ".concat(r," (ID: ").concat(e,"), season ").concat(t," (network or JSON parse error):"),i),null}},mL=async e=>{if(!e)return console.error("fetchLeagueScoringSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return console.error("Error fetching league settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json();return console.log("Successfully fetched league settings for league ".concat(e,":"),r.scoring_settings),r.scoring_settings||null}catch(n){return console.error("Failed to fetch league settings for league ".concat(e,":"),n),null}},gL=async e=>{if(!e)return console.error("fetchLeagueRosterSettings: League ID is required."),null;const t="https://api.sleeper.app/v1/league/".concat(e);try{const n=await fetch(t);if(!n.ok)return console.error("Error fetching league roster settings for league ".concat(e,": HTTP Status ").concat(n.status," - ").concat(n.statusText)),null;const r=await n.json(),a={roster_positions:r.roster_positions||[],total_rosters:r.total_rosters||0};return console.log("Successfully fetched league roster settings for league ".concat(e,":"),a),a}catch(n){return console.error("Failed to fetch league roster settings for league ".concat(e,":"),n),null}},yL=(e,t,n)=>{if(!e||!t)return 0;let r=0;for(const a in e)if(e[a]&&e[a].stats){const o=e[a].stats;for(const e in t){if(e.startsWith("pts_allow_")||e.startsWith("yds_allow_"))continue;const n=o[e],a=t[e];"number"===typeof n&&"number"===typeof a&&(r+=n*a)}if("DEF"===n.toUpperCase()){const e=o.pts_allow,n=o.yds_allow;"number"===typeof e&&(0===e&&"number"===typeof t.pts_allow_0?r+=t.pts_allow_0:e>=1&&e<=6&&"number"===typeof t.pts_allow_1_6?r+=t.pts_allow_1_6:e>=7&&e<=13&&"number"===typeof t.pts_allow_7_13?r+=t.pts_allow_7_13:e>=14&&e<=20&&"number"===typeof t.pts_allow_14_20?r+=t.pts_allow_14_20:e>=21&&e<=27&&"number"===typeof t.pts_allow_21_27?r+=t.pts_allow_21_27:e>=28&&e<=34&&"number"===typeof t.pts_allow_28_34?r+=t.pts_allow_28_34:e>=35&&"number"===typeof t.pts_allow_35p&&(r+=t.pts_allow_35p)),"number"===typeof n&&(n>=0&&n<=100&&"number"===typeof t.yds_allow_0_100?r+=t.yds_allow_0_100:n>=101&&n<=199&&"number"===typeof t.yds_allow_100_199?r+=t.yds_allow_100_199:n>=200&&n<=299&&"number"===typeof t.yds_allow_200_299?r+=t.yds_allow_200_299:n>=300&&n<=349&&"number"===typeof t.yds_allow_300_349?r+=t.yds_allow_300_349:n>=350&&n<=399&&"number"===typeof t.yds_allow_350_399?r+=t.yds_allow_350_399:n>=400&&n<=449&&"number"===typeof t.yds_allow_400_449?r+=t.yds_allow_400_449:n>=450&&n<=499&&"number"===typeof t.yds_allow_450_499?r+=t.yds_allow_450_499:n>=500&&n<=549&&"number"===typeof t.yds_allow_500_549?r+=t.yds_allow_500_549:n>=550&&"number"===typeof t.yds_allow_550p&&(r+=t.yds_allow_550p))}}return r},vL=e=>{const t={},n=[],r=e.filter(e=>"number"===typeof e.fantasy_points&&e.player_position);n.push(...r),r.forEach(e=>{const n=e.player_position.toUpperCase();t[n]||(t[n]=[]),t[n].push(e)}),n.sort((e,t)=>t.fantasy_points-e.fantasy_points),n.forEach((e,t)=>{e.overall_rank=t+1});for(const a in t)t[a].sort((e,t)=>t.fantasy_points-e.fantasy_points),t[a].forEach((e,t)=>{e.positional_rank=t+1});return{positional:t,overall:n}},bL=(e,t)=>{if(!e||!t||!Array.isArray(t.roster_positions)||"number"!==typeof t.total_rosters)return console.warn("calculateVORP: Missing or invalid positional rankings or league roster settings."),{};const n={},r={QB:18,RB:36,WR:48,TE:12,K:12,DEF:12};console.log("VORP Calculation - Fixed Replacement Ranks:",r);for(const a in e){const t=e[a],o=a.toUpperCase(),i=r[o]||0,s=i>0?i-1:-1;let c=0,u="N/A";if(s>=0&&s<t.length){const e=t[s];c=e.fantasy_points,u=e.player_name,console.log("Replacement player for ".concat(o," (rank ").concat(s+1,"): ").concat(u," with ").concat(c.toFixed(2)," points."))}else console.warn("Could not find a valid replacement player for ".concat(o," at calculated rank ").concat(i,". Not enough players ranked or rank is 0. Setting replacement points to 0."));n[o]=t.map(e=>l(l({},e),{},{vorp:e.fantasy_points-c}))}return n},xL=()=>{var e;const{loading:n,error:r,historicalData:a,usersData:o,getTeamName:i,allDraftHistory:s,processedSeasonalRecords:c}=L(),[u,d]=(0,t.useState)([]),[h,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)([]),[b,x]=(0,t.useState)([]),[w,S]=(0,t.useState)(null),[_,k]=(0,t.useState)(null),[N,P]=(0,t.useState)([]),[E,T]=(0,t.useState)({}),[A,I]=(0,t.useState)("board"),[D,M]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(h&&a&&o&&m&&y.length)try{var e;const t=[...y].sort((e,t)=>e.pick_no-t.pick_no),n={};t.forEach(e=>{const t=e.picked_by_team_name||"Unknown";n[t]||(n[t]=0);const r="number"===typeof e.scaled_vorp_delta?e.scaled_vorp_delta:"number"===typeof e.vorp_delta?e.vorp_delta:0;n[t]+=r});const r=Object.entries(n).map(e=>{let[t,n]=e;return{team:t,totalScaledVorp:n}}),a=r.reduce((e,t)=>e.totalScaledVorp>t.totalScaledVorp?e:t,{team:"",totalScaledVorp:-1/0}),o=r.reduce((e,t)=>e.totalScaledVorp<t.totalScaledVorp?e:t,{team:"",totalScaledVorp:1/0}),i=e=>"number"===typeof e.scaled_vorp_delta?e.scaled_vorp_delta:e.vorp_delta,s=t.reduce((e,t)=>i(e)>i(t)?e:t,t[0]),l=t.reduce((e,t)=>i(e)<i(t)?e:t,t[0]),c=(null===m||void 0===m||null===(e=m.settings)||void 0===e?void 0:e.rounds)||0,u=Array.from({length:c},(e,t)=>t+1).map(e=>t.filter(t=>t.round===e)).map((e,t)=>{if(!e.length)return null;const n=e.reduce((e,t)=>i(e)>i(t)?e:t,e[0]),r=e.reduce((e,t)=>i(e)<i(t)?e:t,e[0]),a=e.reduce((e,t)=>e+("number"===typeof t.scaled_vorp_delta?t.scaled_vorp_delta:"number"===typeof t.vorp_delta?t.vorp_delta:0),0),o=(e.reduce((e,t)=>e+("number"===typeof t.player_actual_vorp?t.player_actual_vorp:0),0),e.reduce((e,t)=>e+("number"===typeof t.draft_pick_assigned_vorp?t.draft_pick_assigned_vorp:0),0),a/e.length);return{round:t+1,best:n,worst:r,avgScaledVorp:Number(o.toFixed(2))}});M({bestTeam:a,worstTeam:o,bestPick:s,worstPick:l,roundSummaries:u})}catch(t){console.error("Draft summary calculation error:",t),M(null)}else M(null)},[h,a,o,m,y]),console.log("--- DraftAnalysis Component Render ---"),console.log("Loading:",n),console.log("Error:",r),console.log("Historical Data (raw):",a),console.log("Users Data (raw):",o),console.log("------------------------------------");const R=(0,t.useCallback)((e,t,n)=>{const r=null===n||void 0===n?void 0:n[t],a=null===r||void 0===r?void 0:r.find(t=>String(t.roster_id)===String(e));return a?a.owner_id:null},[]);(0,t.useEffect)(()=>{if(console.log("useEffect: Populating seasons and setting default season."),console.log("Current loading status:",n),console.log("Current error status:",r),console.log("Historical Data in season useEffect:",a),!n&&!r&&a&&a.draftsBySeason){const e=Object.keys(a.draftsBySeason).map(Number).sort((e,t)=>t-e);d(e),e.length>0&&!h&&p("Overview")}},[n,r,a,h]),(0,t.useEffect)(()=>{(async()=>{if(h&&"number"===typeof h&&a&&a.draftsBySeason){const e=a.draftsBySeason[h];if(e&&e.league_id){console.log("Fetching league settings for league ID: ".concat(e.league_id));const t=await mL(e.league_id);S(t);const n=await gL(e.league_id);k(n)}else console.log("No league ID found for season ".concat(h," to fetch league settings.")),S(null),k(null)}else S(null),k(null)})()},[h,a]),(0,t.useEffect)(()=>{console.log("useEffect: Processing draft data for selected season and board structure."),console.log("Current selectedSeason:",h),console.log("Historical Data in draft processing useEffect:",a),console.log("Users Data in draft processing useEffect:",o),console.log("League Scoring Settings:",w),console.log("League Roster Settings:",_);(async()=>{var e,t,n,r;if(!h||"Overview"===h||!a||!a.draftsBySeason||!a.draftPicksBySeason||!o||!w||!_)return console.log("Missing data dependencies for draft processing or Overview selected (selectedSeason, historicalData.draftsBySeason, historicalData.draftPicksBySeason, usersData, leagueScoringSettings, or leagueRosterSettings are not fully loaded or available)."),g(null),v([]),P([]),T({}),void x([]);const s=a.draftsBySeason[h],c=a.draftPicksBySeason[h],u=null===(e=a.leaguesMetadataBySeason)||void 0===e||null===(t=e[h])||void 0===t?void 0:t.league_id;let d=[];if(u){var p;const e=(null===(p=a.leaguesMetadataBySeason[h])||void 0===p?void 0:p.settings)||{},t=e.playoff_start_week?parseInt(e.playoff_start_week,10)+3:18;d=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;const n=await O(e)||[];let r=[];const a=[];for(let o=1;o<=t;o++)a.push(j(e,o).then(e=>e?e.filter(e=>{var t;return"trade"===e.type&&Array.isArray(null===(t=e.metadata)||void 0===t?void 0:t.traded_picks)}).flatMap(e=>e.metadata.traded_picks.map(t=>l(l({},t),{},{trade_transaction_id:e.transaction_id,trade_week:o,source:"transaction"}))):[]));return r=(await Promise.all(a)).flat(),[...(n||[]).map(e=>l(l({},e),{},{source:"endpoint"})),...r]}(u,t)}x(d),g(s);const m=s.draft_order,y=(null===(n=s.settings)||void 0===n?void 0:n.rounds)||0,b=(null===(r=s.settings)||void 0===r?void 0:r.teams)||12,S=Object.entries(m).reduce((e,t)=>{let[n,r]=t;return e[r]=n,e},{}),k=[];for(let a=1;a<=y;a++){let e=Array.from({length:b},(e,t)=>t+1);a%2===0&&(e=e.reverse()),k.push(e.map(e=>S[e]))}const N=k[0].map(e=>{var t,n,r,s;const l=o.find(t=>t.user_id===e),c=null===(t=a.rostersBySeason)||void 0===t||null===(n=t[h])||void 0===n?void 0:n.find(t=>String(t.owner_id)===String(e));return{userId:e,teamName:c&&(null===(r=c.metadata)||void 0===r?void 0:r.team_name)||i(e,h),teamAvatar:l?(null===(s=l.metadata)||void 0===s?void 0:s.avatar)||f(l.avatar):f(null)}});P(N);const E={},A=c.map(async e=>{var t,n;const r=dL(e,o,a,h,i);r.pick_in_round=e.draft_slot;let l=null,c=0;if(!e.is_keeper&&e.player_id){var u,d;const t="DEF"===r.player_position?"".concat((null===(u=r.metadata)||void 0===u?void 0:u.first_name)||""," ").concat((null===(d=r.metadata)||void 0===d?void 0:d.last_name)||"").trim():r.player_name;l=await pL(e.player_id,h,"regular",t),l&&w&&(c=yL(l,w,r.player_position))}r.player_stats=l,r.fantasy_points=c;const f=(e=>"number"===typeof e.fantasy_points?e.fantasy_points:0)(r),p=((e,t,n)=>e<=0?0:5*(t*n-e+1))(r.pick_no,null===(t=s.settings)||void 0===t?void 0:t.rounds,null===(n=s.settings)||void 0===n?void 0:n.teams);return r.calculated_player_value=f,r.calculated_pick_slot_value=p,console.log("Processed Pick ".concat(e.pick_no," (").concat(r.player_name,"):")),console.log("  Fantasy Points: ".concat(r.fantasy_points)),console.log("  Calculated Player Value: ".concat(r.calculated_player_value)),r}),C=await Promise.all(A),I=C.filter(e=>!e.is_keeper);let D={overall:[],positional:{}},M={},R=[],L=new Map,F=0;if(I.length>0&&_){if(D=vL(I),Object.keys(D.positional).length>0){M=bL(D.positional,_);for(const e in M)R.push(...M[e]);R.sort((e,t)=>t.vorp-e.vorp)}const e=c.length;L=hL(e);let t=0,n=0;I.forEach(e=>{const r=R.find(t=>t.player_id===e.player_id),a=r?r.vorp:0,o=L.get(e.pick_no)||0,i=fL(a,o);t+=i,n++}),F=n>0?t/n:0}let B=C.map(e=>{let t=0,n=0,r=0,a=0;if(!e.is_keeper){const o=R.find(t=>t.player_id===e.player_id);t=o?o.vorp:0,n=L.get(e.pick_no)||0,r=fL(t,n),a=(r-F)/10}return l(l({},e),{},{player_actual_vorp:t,draft_pick_assigned_vorp:n,vorp_delta:r,scaled_vorp_delta:a})});const U={};B.forEach(e=>{U[e.round]||(U[e.round]={}),U[e.round][e.pick_in_round]=e});for(let a=1;a<=y;a++){let e=Array.from({length:b},(e,t)=>t+1);a%2===0&&(e=e.reverse()),E[a]||(E[a]=Array(b).fill(null));for(let t=0;t<b;t++){const n=e[t];S[n];let r=null;r=U[a]&&U[a][t+1]?U[a][t+1]:B.find(e=>e.round===a&&e.pick_in_round===t+1),E[a][t]=r||null}}T(E),v(B.sort((e,t)=>e.pick_no-t.pick_no))})()},[h,a,o,i,R,w,_]);const[F,B]=(0,t.useState)(null),[U,W]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{(async()=>{if(console.log("Computing overview data..."),console.log("allDraftHistory:",s),console.log("usersData:",o),console.log("historicalData:",a),"Overview"===h&&null!==a&&void 0!==a&&a.draftsBySeason&&null!==a&&void 0!==a&&a.draftPicksBySeason&&o){W(!0);try{const e=Object.keys(a.draftsBySeason).map(async e=>{const t=Number(e),n=a.draftsBySeason[e],r=a.draftPicksBySeason[e];if(!n||!r||!r.length)return[];try{const s=await mL(n.league_id),c=await gL(n.league_id);if(!s||!c)return console.log("Missing league settings for season ".concat(e)),[];const u=r.map(async e=>{const n=dL(e,o,a,t,i);n.pick_in_round=e.draft_slot,n.season=t;let r=null,l=0;if(!e.is_keeper&&e.player_id){var c,u;const a="DEF"===n.player_position?"".concat((null===(c=n.metadata)||void 0===c?void 0:c.first_name)||""," ").concat((null===(u=n.metadata)||void 0===u?void 0:u.last_name)||"").trim():n.player_name;r=await pL(e.player_id,t,"regular",a),r&&s&&(l=yL(r,s,n.player_position))}return n.player_stats=r,n.fantasy_points=l,n}),d=await Promise.all(u),h=d.filter(e=>!e.is_keeper);let f=[],p=new Map,m=0;if(h.length>0&&c){const e=vL(h);if(Object.keys(e.positional).length>0){const t=bL(e.positional,c);for(const e in t)f.push(...t[e]);f.sort((e,t)=>t.vorp-e.vorp)}const t=r.length;p=hL(t);let n=0,a=0;h.forEach(e=>{const t=f.find(t=>t.player_id===e.player_id),r=t?t.vorp:0,o=p.get(e.pick_no)||0,i=fL(r,o);n+=i,a++}),m=a>0?n/a:0}const g=d.map(e=>{let n=0,r=0,a=0,o=0;if(!e.is_keeper){const t=f.find(t=>t.player_id===e.player_id);n=t?t.vorp:0,r=p.get(e.pick_no)||0,a=fL(n,r),o=(a-m)/10}return l(l({},e),{},{player_actual_vorp:n,draft_pick_assigned_vorp:r,vorp_delta:a,scaled_vorp_delta:o,season:t})});return g}catch(s){return console.error("Error processing season ".concat(e,":"),s),[]}}),t=(await Promise.all(e)).flat().filter(Boolean);if(console.log("Total processed picks with real Pick Value:",t.length),console.log("Sample processed pick:",t[0]),0===t.length)return void B({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]});const n=t.map(e=>{const t=e.round||Math.ceil(e.pick_no/12),n=e.draft_slot||(e.pick_no-1)%12+1;return l(l({},e),{},{round:t,pick_in_round:n,team:e.picked_by_team_name||"Unknown Team",player_name:e.player_name||"Unknown Player",position:e.player_position||"NA",team_abbrev:e.player_team||""})}),r=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>t.scaled_vorp_delta-e.scaled_vorp_delta).slice(0,5),s=n.filter(e=>!e.is_keeper&&e.pick_no&&"number"===typeof e.scaled_vorp_delta).sort((e,t)=>e.scaled_vorp_delta-t.scaled_vorp_delta).slice(0,5),c={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t=e.picked_by||"unknown";c[t]||(c[t]={total:0,count:0,latestTeamName:e.team||"Unknown",latestSeason:e.season||0}),c[t].total+=e.scaled_vorp_delta,c[t].count+=1,e.season>c[t].latestSeason&&(c[t].latestTeamName=e.team||"Unknown",c[t].latestSeason=e.season)});const u=Object.entries(c).map(e=>{let[t,n]=e;return{ownerId:t,team:n.latestTeamName,value:n.count>0?n.total/n.count:0}}).sort((e,t)=>t.value-e.value),d=[],h={};n.forEach(e=>{if(e.is_keeper||"number"!==typeof e.scaled_vorp_delta)return;const t="".concat(e.season,"_").concat(e.picked_by);h[t]||(h[t]={season:e.season,ownerId:e.picked_by,team:e.team,totalScaledVorp:0,picks:[]}),h[t].totalScaledVorp+=e.scaled_vorp_delta,h[t].picks.push(e)}),Object.values(h).forEach(e=>{d.push(e)}),d.sort((e,t)=>t.totalScaledVorp-e.totalScaledVorp),console.log("Overview data computed with real VORP values:",{topPicks:r.length,worstPicks:s.length,teamRankings:u.length,draftsSummaries:d.length}),B({topPicks:r,worstPicks:s,teamRankings:u,draftsSummaries:d})}catch(e){console.error("Overview computation error:",e),B({topPicks:[],worstPicks:[],teamRankings:[],draftsSummaries:[]})}finally{W(!1)}}})()},[s,o,a,i,h]),console.log("Rendering: Main content"),console.log("Current seasons state:",u),console.log("Current selectedSeason state:",h),console.log("Current draftSummary state:",m),console.log("Current draftPicks state (flat):",y.length),console.log("Current orderedTeamColumns state:",N.length),console.log("Current picksGroupedByRound state (rounds):",Object.keys(E).length),console.log("Current tradedPicksData state:",b.length),console.log("Current leagueScoringSettings state:",w),console.log("Current leagueRosterSettings state:",_),console.log("Current activeTab state:",A),n)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-gray-800 rounded-lg shadow-md",children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),(0,C.jsx)("p",{className:"text-lg font-semibold text-gray-300",children:"Loading draft data..."})]})});if(r)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-red-800 border border-red-600 text-red-100 rounded-lg shadow-md",children:[(0,C.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,C.jsxs)("p",{className:"text-base",children:["Failed to load draft data: ",r.message||String(r)]})]})});const z=(null===m||void 0===m||null===(e=m.settings)||void 0===e?void 0:e.rounds)||0,V=Array.from({length:z},(e,t)=>t+1),H=(0,t.useMemo)(()=>{const e=new Map;return b.forEach(t=>{e.has(t.round)||e.set(t.round,new Map),e.get(t.round).set(String(t.roster_id),t)}),e},[b]),q={RB:"bg-green-700",QB:"bg-red-700",WR:"bg-blue-700",TE:"bg-yellow-700",K:"bg-purple-700",DEF:"bg-zinc-700",DL:"bg-zinc-700",LB:"bg-zinc-700",DB:"bg-zinc-700",IDP:"bg-zinc-700",DP:"bg-gray-700",NA:"bg-gray-700"};return(0,C.jsxs)("div",{className:"container mx-auto p-4 bg-gray-900 text-white min-h-screen",children:[(0,C.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:"Draft Analysis"}),(0,C.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row justify-center items-center sm:space-x-4 space-y-3 sm:space-y-0",children:[(0,C.jsx)("label",{htmlFor:"season-select",className:"text-lg",children:"Select Season:"}),(0,C.jsxs)("select",{id:"season-select",className:"p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500 w-44",value:h||"",onChange:e=>{const t=e.target.value;p("Overview"===t?"Overview":Number(t)),I("board")},disabled:0===u.length,children:[(0,C.jsx)("option",{value:"Overview",children:"Overview"}),u.length>0?u.map(e=>(0,C.jsx)("option",{value:e,children:e},e)):(0,C.jsx)("option",{value:"",children:"No Seasons Available"})]})]}),"Overview"===h&&(0,C.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg mb-8",children:[(0,C.jsx)("h2",{className:"text-3xl font-semibold mb-6 text-center text-yellow-400",children:"All-Time Draft Overview"}),U?(0,C.jsx)("div",{className:"text-center py-8",children:(0,C.jsx)("p",{className:"text-gray-400",children:"Computing all-time draft data with real Pick Value calculations..."})}):F?(0,C.jsxs)("div",{className:"space-y-8",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,C.jsx)("h3",{className:"text-2xl font-bold text-blue-300 mb-4",children:"Top Picks All-Time"}),(0,C.jsx)("p",{className:"text-gray-300 mb-4",children:"Top draft picks by value all-time."}),(0,C.jsx)("div",{className:"space-y-4",children:F.topPicks.map((e,t)=>(0,C.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-green-400",children:(0,C.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,C.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,C.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,C.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.scaled_vorp_delta.toFixed(2)}),(0,C.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]}),(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,C.jsx)("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Worst Picks All-Time"}),(0,C.jsx)("p",{className:"text-gray-300 mb-4",children:"Worst draft picks by value all-time."}),(0,C.jsx)("div",{className:"space-y-4",children:F.worstPicks.map((e,t)=>(0,C.jsx)("div",{className:"bg-gray-600 p-4 rounded-lg border-l-4 border-red-400",children:(0,C.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,C.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Pick ",e.pick_no," - ",e.player_name," \xb7 ",e.position," ",e.team_abbrev?"(".concat(e.team_abbrev,")"):""]}),(0,C.jsxs)("div",{className:"text-sm text-gray-300",children:[e.season," \xb7 Round ",e.round,", Pick ",e.pick_in_round]}),(0,C.jsx)("div",{className:"text-2xl font-bold text-red-400",children:e.scaled_vorp_delta.toFixed(2)}),(0,C.jsx)("div",{className:"text-base font-medium text-blue-300",children:e.team})]})},t))})]})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,C.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-4",children:"All-Time Draft Rankings"}),(0,C.jsx)("p",{className:"text-gray-300 mb-4",children:"Members ranked by all-time avg. draft pick value."}),(0,C.jsx)("div",{className:"space-y-2",children:F.teamRankings.map((e,t)=>(0,C.jsxs)("div",{className:"flex justify-between items-center bg-gray-600 p-3 rounded",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,C.jsxs)("span",{className:"text-gray-400 font-medium",children:["#",t+1]}),(0,C.jsx)("span",{className:"text-white font-medium",children:e.team})]}),(0,C.jsx)("span",{className:"font-bold ".concat(e.value>=0?"text-green-400":"text-red-400"),children:e.value.toFixed(2)})]},t))})]}),(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 shadow-md",children:[(0,C.jsx)("h3",{className:"text-2xl font-bold text-green-300 mb-4",children:"Best & Worst All-Time Drafts"}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("h4",{className:"text-lg font-semibold text-blue-300 mb-3",children:"Best All-Time Drafts"}),(0,C.jsx)("div",{className:"space-y-2",children:F.draftsSummaries.slice(0,3).map((e,t)=>(0,C.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-green-400",children:[(0,C.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,C.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,C.jsx)("div",{className:"text-lg font-bold text-green-400",children:e.totalScaledVorp.toFixed(2)})]},t))})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-3",children:"Worst All-Time Drafts"}),(0,C.jsx)("div",{className:"space-y-2",children:F.draftsSummaries.slice(-3).reverse().map((e,t)=>(0,C.jsxs)("div",{className:"bg-gray-600 p-3 rounded border-l-2 border-red-400",children:[(0,C.jsx)("div",{className:"text-white font-medium",children:e.team}),(0,C.jsx)("div",{className:"text-sm text-gray-300",children:e.season}),(0,C.jsx)("div",{className:"text-lg font-bold text-red-400",children:e.totalScaledVorp.toFixed(2)})]},t))})]})]})]})]}):(0,C.jsx)("div",{className:"text-center py-8",children:(0,C.jsx)("p",{className:"text-gray-400",children:"No all-time draft data available."})})]}),"Overview"!==h&&h&&m?(0,C.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg mb-8",children:[(0,C.jsxs)("h2",{className:"text-3xl font-semibold mb-4 text-center text-green-400",children:[h," Draft Summary"]}),(0,C.jsxs)("div",{className:"flex justify-center mb-6 border-b border-gray-600",children:[(0,C.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("board"===A?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-gray-200"),onClick:()=>I("board"),children:"Draft Board"}),(0,C.jsx)("button",{className:"py-2 px-4 text-lg font-medium ".concat("summary"===A?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-gray-200"),onClick:()=>I("summary"),children:"Draft Summary"})]}),"board"===A&&(0,C.jsxs)("div",{className:"mt-6",children:[(0,C.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-purple-400",children:"Draft Board"}),N.length>0&&z>0?(0,C.jsx)("div",{className:"w-full overflow-auto -mx-2 px-2",children:(0,C.jsxs)("div",{className:"grid gap-1 p-2 rounded-lg bg-gray-700",style:{gridTemplateColumns:"auto repeat(".concat(N.length,", minmax(100px, 1fr))"),minWidth:"".concat(Math.max(100*(N.length+1),480),"px")},children:[(0,C.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-2 px-2 text-center rounded-tl-md",children:"Round"}),N.map(e=>(0,C.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-1 text-center flex flex-col items-center justify-center rounded-t-md min-h-[40px]",children:(0,C.jsx)("span",{className:"text-xs text-center leading-tight max-w-full break-words",children:e.teamName})},e.userId)),V.map(e=>(0,C.jsxs)(t.Fragment,{children:[(0,C.jsx)("div",{className:"bg-gray-600 text-gray-200 font-bold py-1 px-1 text-center flex items-center justify-center rounded-bl-md",children:e}),N.map((t,n)=>{var r,o;const s=null===(r=E[e])||void 0===r?void 0:r[n],l=(null===(o=m.settings)||void 0===o?void 0:o.teams)||12,c=e%2!==0?n+1:l-n;let u=null;for(const e in m.draft_order)if(m.draft_order[e]===c){u=e;break}let d=null;if(u&&s&&s.picked_by!==u){var f,p;const t=null===(f=a.rostersBySeason)||void 0===f||null===(p=f[h])||void 0===p?void 0:p.find(e=>String(e.owner_id)===String(u)),n=t?String(t.roster_id):null;var g;if(n)d=null===(g=H.get(e))||void 0===g?void 0:g.get(n)}const y=s&&u&&s.picked_by!==u&&!!d;let v="",b="";var x,w;if(s&&"DEF"===s.player_position)v=(null===(x=s.metadata)||void 0===x?void 0:x.first_name)||"",b=(null===(w=s.metadata)||void 0===w?void 0:w.last_name)||"";else if(s){const e=s.player_name.split(" ");v=e[0],b=e.slice(1).join(" ")}b.length;return(0,C.jsx)("div",{className:"relative p-1 border border-gray-700 text-xs min-h-[70px] sm:min-h-[90px]\n                                                                        ".concat(s?(S=s.player_position,q[S.toUpperCase()]||"bg-gray-700"):"bg-gray-900"),children:s?s.is_keeper?(0,C.jsx)("div",{className:"flex items-center justify-center h-full text-lg font-bold text-green-300",children:"KEEPER"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"absolute top-0.5 left-0.5 text-xs text-gray-200 text-left",children:s.player_position}),(0,C.jsx)("div",{className:"absolute top-0.5 right-0.5 text-xs text-gray-200 text-right",children:s.player_team}),(0,C.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 font-medium text-white text-center w-full mt-[-8px] text-xs",children:v}),(0,C.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 font-bold text-white text-center w-full mt-[8px] ".concat(b.length>12?"text-xs":"text-sm"),children:b}),"number"===typeof s.scaled_vorp_delta&&(0,C.jsx)("div",{className:"absolute bottom-0.5 left-0.5 inline-flex items-center justify-center text-xs font-bold text-white px-1 py-0.5 rounded-sm\n                                                                            ".concat(s.scaled_vorp_delta>=0?"bg-green-500":"bg-red-500"),title:"Pick Value: ".concat(s.scaled_vorp_delta.toFixed(2)),children:s.scaled_vorp_delta.toFixed(1)}),"                                                                        ",y&&(0,C.jsx)("div",{className:"absolute bottom-0.5 right-0.5 cursor-help",title:"Pick acquired by: ".concat(s.picked_by_team_name),children:(0,C.jsx)(lL,{icon:uL,className:"w-3 h-3 text-yellow-400"})})]}):d?(0,C.jsx)("div",{className:"absolute bottom-0.5 right-0.5 cursor-help",title:"Pick acquired by: ".concat(i(R(d.owner_id,h,a.rostersBySeason),h)),children:(0,C.jsx)(lL,{icon:uL,className:"w-3 h-3 text-yellow-400"})}):(0,C.jsx)("span",{className:"text-gray-600 text-xs",children:"Empty Pick"})},"".concat(e,"-").concat(n));var S})]},e))]})}):(0,C.jsx)("p",{className:"text-center text-gray-400",children:"No draft board data available for this season."})]}),"summary"===A&&(0,C.jsxs)("div",{className:"mt-6",children:[(0,C.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center text-green-400",children:"Draft Year Summary"}),D?(0,C.jsxs)("div",{className:"space-y-8",children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,C.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Team by Total Pick Value"}),(0,C.jsxs)("p",{className:"text-lg",children:[D.bestTeam.team," ",(0,C.jsxs)("span",{className:"text-green-400 font-semibold",children:["(",D.bestTeam.totalScaledVorp.toFixed(2),")"]})]})]}),(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,C.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Team by Total Pick Value"}),(0,C.jsxs)("p",{className:"text-lg",children:[D.worstTeam.team," ",(0,C.jsxs)("span",{className:"text-red-400 font-semibold",children:["(",D.worstTeam.totalScaledVorp.toFixed(2),")"]})]})]})]}),(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 justify-center items-center",children:[(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md mb-4 md:mb-0 w-full md:w-1/2",children:[(0,C.jsx)("h4",{className:"text-xl font-bold text-blue-300 mb-2",children:"Best Pick (Pick Value)"}),(0,C.jsxs)("p",{className:"text-lg",children:[D.bestPick.player_name," (",D.bestPick.player_position,")",(0,C.jsx)("span",{className:"ml-2 text-green-400 font-semibold",children:("number"===typeof D.bestPick.scaled_vorp_delta?D.bestPick.scaled_vorp_delta:D.bestPick.vorp_delta).toFixed(2)}),(0,C.jsx)("br",{}),(0,C.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",D.bestPick.picked_by_team_name," | Pick: ",D.bestPick.pick_no]})]})]}),(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md w-full md:w-1/2",children:[(0,C.jsx)("h4",{className:"text-xl font-bold text-red-300 mb-2",children:"Worst Pick (Pick Value)"}),(0,C.jsxs)("p",{className:"text-lg",children:[D.worstPick.player_name," (",D.worstPick.player_position,")",(0,C.jsx)("span",{className:"ml-2 text-red-400 font-semibold",children:("number"===typeof D.worstPick.scaled_vorp_delta?D.worstPick.scaled_vorp_delta:D.worstPick.vorp_delta).toFixed(2)}),(0,C.jsx)("br",{}),(0,C.jsxs)("span",{className:"text-sm text-gray-300",children:["Team: ",D.worstPick.picked_by_team_name," | Pick: ",D.worstPick.pick_no]})]})]})]}),(0,C.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[(0,C.jsx)("h4",{className:"text-xl font-bold text-purple-300 mb-4",children:"Round-by-Round Summary"}),(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full text-sm text-gray-200",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-gray-800",children:[(0,C.jsx)("th",{className:"py-2 px-4",children:"Round"}),(0,C.jsx)("th",{className:"py-2 px-4",children:"Best Pick (Pick Value)"}),(0,C.jsx)("th",{className:"py-2 px-4",children:"Worst Pick (Pick Value)"}),(0,C.jsx)("th",{className:"py-2 px-4",children:"Avg Pick Value"})]})}),(0,C.jsx)("tbody",{children:D.roundSummaries.map((e,n)=>e&&(0,C.jsx)(t.Fragment,{children:(0,C.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,C.jsx)("td",{className:"py-2 px-4 text-center font-bold",children:e.round}),(0,C.jsxs)("td",{className:"py-2 px-4",children:[e.best.player_name," (",e.best.player_position,")",(0,C.jsx)("span",{className:"ml-2 text-green-400 font-semibold",children:("number"===typeof e.best.scaled_vorp_delta?e.best.scaled_vorp_delta:e.best.vorp_delta).toFixed(2)}),(0,C.jsx)("br",{}),(0,C.jsxs)("span",{className:"text-xs text-gray-400",children:["Team: ",e.best.picked_by_team_name," | Pick: ",e.best.pick_no]})]}),(0,C.jsxs)("td",{className:"py-2 px-4",children:[e.worst.player_name," (",e.worst.player_position,")",(0,C.jsx)("span",{className:"ml-2 text-red-400 font-semibold",children:("number"===typeof e.worst.scaled_vorp_delta?e.worst.scaled_vorp_delta:e.worst.vorp_delta).toFixed(2)}),(0,C.jsx)("br",{}),(0,C.jsxs)("span",{className:"text-xs text-gray-400",children:["Team: ",e.worst.picked_by_team_name," | Pick: ",e.worst.pick_no]})]}),(0,C.jsx)("td",{className:"py-2 px-4 text-center",children:"number"===typeof e.avgScaledVorp?e.avgScaledVorp:"\u2014"})]})},n))})]})})]})]}):(0,C.jsx)("p",{className:"text-center text-gray-400",children:"No draft summary data available for this season."})]})]}):"Overview"!==h?(0,C.jsx)("p",{className:"text-center text-gray-400",children:"Select a season to view draft analysis."}):null]})},wL=()=>{const{historicalData:e,usersData:n}=L(),[r,a]=(0,t.useState)([]),[o,i]=(0,t.useState)(!1),s=e=>{if(!e||!n)return"Unknown Champion";const t=n.find(t=>t.user_id===e);var r;return t?(null===(r=t.metadata)||void 0===r?void 0:r.team_name)||t.display_name:"Unknown Champion"};return(0,t.useEffect)(()=>{const t=e&&n&&e.winnersBracketBySeason&&e.rostersBySeason;if(i(t),t){const t=[],n=Object.keys(e.winnersBracketBySeason).sort((e,t)=>t-e);for(const a of n){const n=Number(a);let i=null;const l=e.winnersBracketBySeason[n],c=null===l||void 0===l?void 0:l.find(e=>1===e.p&&e.w);if(c){const t=String(c.w),r=e.rostersBySeason[n].find(e=>String(e.roster_id)===t);r&&r.owner_id&&(i=r.owner_id)}if(!i){var r;const t=null===(r=e.seasonAwardsSummary)||void 0===r?void 0:r[n];if(null!==t&&void 0!==t&&t.champion&&"N/A"!==t.champion)i=t.champion;else{var o;const t=null===(o=e.awardsSummary)||void 0===o?void 0:o[n],r=(null===t||void 0===t?void 0:t.champion)||(null===t||void 0===t?void 0:t.Champion);r&&"N/A"!==r&&(i=r)}}if(i){const e=s(i);t.push({year:n,name:"Unknown Champion"!==e?e:i,championId:i})}}a(t)}},[e,n]),o?0===r.length?(0,C.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md font-inter",children:[(0,C.jsx)("p",{className:"font-bold text-xl mb-2",children:"No Champion Data Found"}),(0,C.jsx)("p",{className:"text-base",children:"Could not find any historical champions in the provided data."})]}):(0,C.jsxs)("div",{className:"p-4 sm:p-6 bg-white rounded-lg shadow-xl font-inter",children:[(0,C.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Hall of Champions"}),(0,C.jsx)("p",{className:"text-lg text-gray-600 mb-6 text-center max-w-2xl mx-auto",children:"Celebrating the winners of the past. Each year, only one team can ascend to the throne of fantasy glory."}),(0,C.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e,t)=>(0,C.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md flex flex-col items-center text-center transition-transform transform hover:scale-105 hover:shadow-lg",children:[(0,C.jsx)("i",{className:"fas fa-trophy text-[#eab308] text-4xl mb-3"}),(0,C.jsx)("div",{className:"text-gray-900 font-bold text-xl mb-1",children:e.year}),(0,C.jsx)("div",{className:"text-gray-700 text-lg font-semibold",children:e.name})]},t))})]}):(0,C.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md font-inter",children:[(0,C.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading historical champion data..."}),(0,C.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment to process the league history."})]})},SL=e=>{if(!e)return 50;const{averageScore:t=100,wins:n=0,losses:r=0,gamesPlayed:a=1,pointsFor:o=0,powerScore:i=0}=e,s=.4*(a>0?n/a*100:50)+.4*(t/100*50)+.2*Math.max(0,Math.min(50,i));return Math.max(10,Math.min(150,s))},_L=(e,t)=>{const n=SL(e)-SL(t),r=1/(1+Math.exp(-n/20));return Math.max(.05,Math.min(.95,r))},kL=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.045,n=e;return n=e>=.5?Math.min(.98,e+t/2):Math.max(.02,e-t/2),n>=.5?Math.round(-100*n/(1-n)):Math.round(100*(1-n)/n)},jL=(e,t,n)=>{const r=.7*(20*(e-.5))+.3*(((null===t||void 0===t?void 0:t.averageScore)||100)-((null===n||void 0===n?void 0:n.averageScore)||100)),a=Math.round(2*r)/2;return Math.max(-25,Math.min(25,a))},NL=(e,t)=>{let n=((null===e||void 0===e?void 0:e.averageScore)||110)+((null===t||void 0===t?void 0:t.averageScore)||110);const r=Math.max((null===e||void 0===e?void 0:e.gamesPlayed)||0,(null===t||void 0===t?void 0:t.gamesPlayed)||0);if(r<=3){n=.6*n+.4*220}else if(r<=6){n=.8*n+.2*220}const a=Math.round(2*n)/2;return Math.max(160,Math.min(300,a))},PL=(e,t,n,r,a)=>{const o=a[e],i=a[t];if(!o||!i)return null;const s=_L(o,i),l=1-s,c=kL(s),u=kL(l),d=jL(s,o,i),h={moneyline:{team1Odds:c,team2Odds:u,team1WinProb:s,team2WinProb:l},overUnder:{total:NL(o,i),overOdds:-110,underOdds:-110},winProbabilities:{team1:s,team2:l}};if(Math.abs(d)>=1){const e=d>0?n:r;h.pointSpread={favorite:e,spread:Math.abs(d),odds:-110}}return h},OL=e=>e?e>0?"+".concat(e):"".concat(e):"-",EL=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:o,loading:i,nflPlayers:s}=L(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,S]=(0,t.useState)({});(0,t.useEffect)(()=>{var e;console.log("Gamecenter useEffect 1 - loading:",i,"leagueData:",n,"nflState:",o),!i&&n&&Array.isArray(n)&&null!==(e=n[0])&&void 0!==e&&e.season&&null!==o&&void 0!==o&&o.week&&(console.log("Setting selectedSeason to:",n[0].season,"and selectedWeek to:",o.week),u(n[0].season),h(o.week))},[i,n,o]),(0,t.useEffect)(()=>{var t;if(c&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[c]){const t=new Set(e.matchupsBySeason[c].map(e=>e.week));p(Array.from(t).sort((e,t)=>e-t))}},[c,e]),(0,t.useEffect)(()=>{var t;if(c&&d&&null!==e&&void 0!==e&&null!==(t=e.matchupsBySeason)&&void 0!==t&&t[c]){const t=e.matchupsBySeason[c].filter(e=>e.week==d);g(t)}},[c,d,e]);const _=(0,t.useMemo)(()=>(t,n)=>{var r,i,s,l;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n]||!o)return null!==(i=null===a||void 0===a||null===(s=a[n])||void 0===s||null===(l=s[t])||void 0===l?void 0:l.averageScore)&&void 0!==i?i:0;const c=parseInt(o.season),u=parseInt(o.week),d=parseInt(n);var h,f,p;if(d<c)return null!==(h=null===a||void 0===a||null===(f=a[n])||void 0===f||null===(p=f[t])||void 0===p?void 0:p.averageScore)&&void 0!==h?h:0;const m=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t));let g=0,y=0;return m.forEach(e=>{const n=parseInt(e.week),r=String(e.team1_roster_id)===String(t),a=r?e.team1_score:e.team2_score,o=r?e.team2_score:e.team1_score;(d<c||d===c&&n<u)&&(a>0||o>0)&&(g+=a,y++)}),y>0?g/y:0},[e,a,o]),k=(0,t.useMemo)(()=>null!==e&&void 0!==e&&e.matchupsBySeason?Object.keys(e.matchupsBySeason).sort((e,t)=>t-e):[],[e]),j=(0,t.useMemo)(()=>{const t={};return e&&e.matchupsBySeason&&e.rostersBySeason?(Object.keys(e.matchupsBySeason).forEach(n=>{const r=e.rostersBySeason[n];if(!r)return;const a=r.reduce((e,t)=>(e[t.roster_id]=t.owner_id,e),{});e.matchupsBySeason[n].forEach(e=>{if(e.team1_score>0||e.team2_score>0){const r=a[e.team1_roster_id],o=a[e.team2_roster_id];if(r&&o){t[r]||(t[r]=[]),t[o]||(t[o]=[]);let a="T";e.team1_score>e.team2_score&&(a="W"),e.team1_score<e.team2_score&&(a="L");let i="T";e.team2_score>e.team1_score&&(i="W"),e.team2_score<e.team1_score&&(i="L"),t[r].push({season:n,week:e.week,result:a,opponent:o}),t[o].push({season:n,week:e.week,result:i,opponent:r})}}})}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>e.season!==t.season?e.season-t.season:e.week-t.week)}),t):t},[e]),N=(0,t.useMemo)(()=>{if(!a||!c||!a[c])return{};const e={},t=a[c];return Object.keys(t).forEach(n=>{const r=t[n];r.weeklyLuck&&(e[n]=r.weeklyLuck)}),e},[a,c]),P=(0,t.useMemo)(()=>{if(!a||!c||!a[c])return{};const t=a[c],n={};Object.keys(t).forEach(r=>{const a=t[r],o=(a.wins||0)+(a.losses||0);let i=50;i+=25*(o>0?a.wins/o:0);const s=a.averageScore||0,u=Object.values(t).reduce((e,t)=>e+(t.averageScore||0),0)/Object.values(t).length;if(u>0){const e=s/u;i+=Math.min(20,Math.max(-10,20*(e-1)))}const d=a.averagePointsAgainst||0,h=Object.values(t).reduce((e,t)=>e+(t.averagePointsAgainst||0),0)/Object.values(t).length;if(h>0){const e=h/d;i+=Math.min(10,Math.max(-5,10*(e-1)))}const f=calculateTeamMomentum(r,c,e);i+=8*f;const p=((e,t,n,r)=>{var a;if(null===n||void 0===n||null===(a=n.matchupsBySeason)||void 0===a||!a[t])return 0;const o=n.matchupsBySeason[t].filter(t=>String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e));if(0===o.length)return 0;let i=0,s=0;return o.forEach(t=>{const n=String(t.team1_roster_id)===String(e),a=String(n?t.team2_roster_id:t.team1_roster_id),o=r[a];if(o){const e=o.wins/(o.wins+o.losses||1);i+=e,s++}}),s>0?i/s-.5:0})(r,c,e,t);i+=Math.min(7,Math.max(-3,7*p));const m=(e=>{if(!e.weeklyScores||e.weeklyScores.length<3)return 0;const t=e.weeklyScores.filter(e=>e>0);if(t.length<3)return 0;const n=t.reduce((e,t)=>e+t,0)/t.length,r=t.reduce((e,t)=>e+Math.pow(t-n,2),0)/t.length,a=Math.sqrt(r)/n;return Math.max(0,Math.min(1,1-a/.3))})(a);i+=5*m;const g=((e,t,n)=>{var r;if(null===n||void 0===n||null===(r=n.matchupsBySeason)||void 0===r||!r[t])return 0;const a=n.matchupsBySeason[t].filter(t=>(String(t.team1_roster_id)===String(e)||String(t.team2_roster_id)===String(e))&&t.team1_score>0&&t.team2_score>0);if(0===a.length)return 0;let o=0,i=0;return a.forEach(t=>{const n=String(t.team1_roster_id)===String(e),r=n?t.team1_score:t.team2_score,a=n?t.team2_score:t.team1_score;Math.abs(r-a)<=15&&(i++,r>a&&o++)}),0===i?0:o/i-.5})(r,c,e);i+=5*g,n[r]=l(l({},a),{},{powerScore:Math.max(0,Math.min(100,i)),gamesPlayed:o,roster_id:r,momentum:f,strengthOfSchedule:p,consistency:m,clutchFactor:g})});const r=Object.entries(n).sort((e,t)=>{let[,n]=e,[,r]=t;return n.wins!==r.wins?r.wins-n.wins:(r.averageScore||0)-(n.averageScore||0)});return r.forEach((e,t)=>{let[r,a]=e;n[r].rank=t+1}),n},[a,c,e]);(0,t.useEffect)(()=>{S(P)},[P]);const O=async(e,t)=>{const n=[],r=[],a=["QB","RB","RB","WR","WR","TE","FLEX","K","DEF"];if(e.starters&&Array.isArray(e.starters))for(let l=0;l<e.starters.length;l++){var o;const t=e.starters[l],r=null===s||void 0===s?void 0:s[t],i=(null===(o=e.players_points)||void 0===o?void 0:o[t])||0;r&&n.push({playerId:t,name:"".concat(r.first_name," ").concat(r.last_name),position:r.position,team:r.team,points:i,isStarter:!0,lineupPosition:a[l]||"FLEX"})}if(e.players&&Array.isArray(e.players)){const t=new Set(e.starters||[]),n=e.players.filter(e=>!t.has(e));for(const a of n){var i;const t=null===s||void 0===s?void 0:s[a],n=(null===(i=e.players_points)||void 0===i?void 0:i[a])||0;t&&r.push({playerId:a,name:"".concat(t.first_name," ").concat(t.last_name),position:t.position,team:t.team,points:n,isStarter:!1})}}return{lineup:n,bench:r,totalPoints:e.points||0}},E=t=>{var r;const a=null!==o&&void 0!==o&&o.week?parseInt(o.week):null,i=n&&Array.isArray(n)?null===(r=n[0])||void 0===r?void 0:r.season:null===n||void 0===n?void 0:n.season;(t.team1_score>0||t.team2_score>0)&&(!a||c!==i||d<a)&&(v(t),(async(t,r,a)=>{try{x(null);let i=null;if(r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))i=n&&Array.isArray(n)?n[0].league_id:null===n||void 0===n?void 0:n.league_id;else{var o;const t=null===e||void 0===e||null===(o=e.leaguesMetadataBySeason)||void 0===o?void 0:o[r];i=null===t||void 0===t?void 0:t.league_id}if(!i)return console.error("No league ID available for season ".concat(r)),void x({error:!0,message:"Detailed roster data is not available for the ".concat(r," season. This may be from a previous platform or the data is no longer accessible.")});console.log("Fetching roster data for season ".concat(r,", week ").concat(a,", league ").concat(i));const s=await fetch("https://api.sleeper.app/v1/league/".concat(i,"/matchups/").concat(a));if(!s.ok)throw new Error("API request failed with status ".concat(s.status));const l=await s.json();if(l&&Array.isArray(l)&&l.length>0){const e=l.find(e=>e.roster_id===parseInt(t.team1_roster_id)),n=l.find(e=>e.roster_id===parseInt(t.team2_roster_id));if(e&&n){const r={team1:await O(e,t.team1_roster_id),team2:await O(n,t.team2_roster_id)};x(r)}else console.warn("Could not find roster data for teams ".concat(t.team1_roster_id," and ").concat(t.team2_roster_id," in week ").concat(a," of season ").concat(r)),x({error:!0,message:"Roster details for this matchup are not available. The teams may not have been active in week ".concat(a," of the ").concat(r," season.")})}else console.warn("No roster data returned for season ".concat(r,", week ").concat(a)),x({error:!0,message:"No roster data available for week ".concat(a," of the ").concat(r," season. The data may not be accessible or this week may not have occurred yet.")})}catch(i){console.error("Error fetching matchup roster data:",i),x({error:!0,message:"Failed to load detailed roster data: ".concat(i.message,". This may be due to data not being available for historical seasons or network issues.")})}})(t,c,d))},T=(e,t)=>{const n=j[e];if(!n)return"N/A";const r=n.filter(e=>e.season===t);if(0===r.length)return"N/A";let a=0,o="";for(let i=r.length-1;i>=0;i--){const e=r[i];if(i===r.length-1)o=e.result,a=1;else{if(e.result!==o)break;a++}}return"".concat(a).concat(o)},A=(e,t)=>{const n=j[e];if(!n||!e||!t)return"0-0";let r=0,a=0,o=0;return n.forEach(e=>{e.opponent===t&&("W"===e.result?r++:"L"===e.result?a++:"T"===e.result&&o++)}),o>0?"".concat(r,"-").concat(a,"-").concat(o):"".concat(r,"-").concat(a)};return i?(0,C.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,C.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Gamecenter..."})}):c&&d?(0,C.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,C.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,C.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Gamecenter"}),(0,C.jsxs)("div",{className:"flex items-center gap-4 mb-6 bg-white p-4 rounded-lg shadow",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"season-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Season"}),(0,C.jsx)("select",{id:"season-select",value:c,onChange:t=>{const r=t.target.value;var a;if(u(r),r===(n&&Array.isArray(n)?n[0].season:null===n||void 0===n?void 0:n.season))h(o.week);else if(null!==e&&void 0!==e&&null!==(a=e.matchupsBySeason)&&void 0!==a&&a[r]){const t=new Set(e.matchupsBySeason[r].map(e=>e.week)),n=Array.from(t).sort((e,t)=>e-t)[0];h(n)}},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md shadow-sm",children:k.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-600 mb-1",children:"Week"}),(0,C.jsx)("select",{id:"week-select",value:d,onChange:e=>{h(parseInt(e.target.value))},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md shadow-sm",children:f.map(e=>(0,C.jsxs)("option",{value:e,children:["Week ",e]},e))})]})]}),(0,C.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:m.map(t=>{var a,i,s,l,u,h,f,p,m;const g=String(t.team1_roster_id),y=String(t.team2_roster_id),v=null===(a=e.rostersBySeason)||void 0===a||null===(i=a[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===g),b=null===v||void 0===v?void 0:v.owner_id,x=r(b,c),S=null===(s=e.rostersBySeason)||void 0===s||null===(l=s[c])||void 0===l?void 0:l.find(e=>String(e.roster_id)===y),k=null===S||void 0===S?void 0:S.owner_id,j=r(k,c),P=null!==o&&void 0!==o&&o.week?parseInt(o.week):null,O=n&&Array.isArray(n)?null===(u=n[0])||void 0===u?void 0:u.season:null===n||void 0===n?void 0:n.season,I=(t.team1_score>0||t.team2_score>0)&&(!P||c!==O||d<P),D=(h=null===(f=N[g])||void 0===f?void 0:f[d-1],p=null===(m=N[y])||void 0===m?void 0:m[d-1],_(g,c)),M=_(y,c),R=A(b,k),L=T(b,c),F=T(k,c);let B=null;return w&&Object.keys(w).length>0&&(B=PL(g,y,x,j,w)),(0,C.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden transition-shadow duration-300 hover:shadow-lg ".concat(I?"cursor-pointer hover:bg-gray-50":""),onClick:()=>E(t),children:(0,C.jsxs)("div",{className:"p-4",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,C.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,C.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:x.avatar,alt:"".concat(x.name," avatar")}),(0,C.jsxs)("div",{className:"text-center w-full",children:[(0,C.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:x.name}),(0,C.jsx)("div",{className:"font-bold text-lg ".concat(I&&t.team1_score>t.team2_score?"text-green-600":"text-gray-800"),children:I?t.team1_score.toFixed(2):"-"})]})]}),(0,C.jsx)("div",{className:"flex-shrink-0 text-gray-400 font-medium text-sm px-2",children:"vs"}),(0,C.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[(0,C.jsx)("img",{className:"w-12 h-12 rounded-full mb-2",src:j.avatar,alt:"".concat(j.name," avatar")}),(0,C.jsxs)("div",{className:"text-center w-full",children:[(0,C.jsx)("div",{className:"font-semibold text-gray-700 text-sm leading-tight break-words mb-1",children:j.name}),(0,C.jsx)("div",{className:"font-bold text-lg ".concat(I&&t.team2_score>t.team1_score?"text-green-600":"text-gray-800"),children:I?t.team2_score.toFixed(2):"-"})]})]})]}),(0,C.jsxs)("div",{className:"border-t border-gray-200 mt-3 pt-3",children:[I?(0,C.jsx)(C.Fragment,{children:(()=>{const e=parseInt((null===o||void 0===o?void 0:o.season)||(new Date).getFullYear()),n=parseInt((null===o||void 0===o?void 0:o.week)||1),r=parseInt(c),a=parseInt(d),i=r<e||r===e&&a<n,s=t.team1_score>0&&t.team2_score>0;return i&&s?(0,C.jsx)("div",{className:"text-xs text-gray-600",children:(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Game Complete"})})}):(0,C.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,C.jsx)("div",{className:"text-center mb-2",children:(0,C.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["H2H: ",R]})}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs font-semibold",children:L}),(0,C.jsx)("div",{className:"text-xs font-semibold",children:D.toFixed(1)})]}),(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Streak"}),(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Avg Pts"})]}),(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs font-semibold",children:F}),(0,C.jsx)("div",{className:"text-xs font-semibold",children:M.toFixed(1)})]})]})]})})()}):(0,C.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,C.jsx)("div",{className:"text-center mb-2",children:(0,C.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["H2H: ",R]})}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs font-semibold",children:L}),(0,C.jsx)("div",{className:"text-xs font-semibold",children:D.toFixed(1)})]}),(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Streak"}),(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Avg Pts"})]}),(0,C.jsxs)("div",{className:"text-center space-y-1",children:[(0,C.jsx)("div",{className:"text-xs font-semibold",children:F}),(0,C.jsx)("div",{className:"text-xs font-semibold",children:M.toFixed(1)})]})]})]}),B&&(()=>{const e=t.team1_score||0,n=t.team2_score||0;return(0,C.jsx)("div",{className:"border-t border-gray-100 mt-3 pt-3",children:(0,C.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,C.jsx)("div",{className:"text-center mb-2",children:(0,C.jsx)("div",{className:"text-xs text-indigo-600 font-semibold",children:I?"Betting Results":"Betting Odds"})}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center mb-2",children:[(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(I?e>n?"text-green-600":"text-red-600":"text-green-600"),children:OL(B.moneyline.team1Odds)})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"ML"})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(I?n>e?"text-green-600":"text-red-600":"text-green-600"),children:OL(B.moneyline.team2Odds)})})]}),B.pointSpread&&(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center mb-2",children:[(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(I?(B.pointSpread.favorite.name===x.name?e-n>B.pointSpread.spread:e-n>-B.pointSpread.spread)?"text-green-600":"text-red-600":"text-blue-600"),children:B.pointSpread.favorite.name===x.name?"-".concat(B.pointSpread.spread):"+".concat(B.pointSpread.spread)})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Spread"})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(I?(B.pointSpread.favorite.name===j.name?n-e>B.pointSpread.spread:n-e>-B.pointSpread.spread)?"text-green-600":"text-red-600":"text-blue-600"),children:B.pointSpread.favorite.name===j.name?"-".concat(B.pointSpread.spread):"+".concat(B.pointSpread.spread)})})]}),B.overUnder&&(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,C.jsx)("div",{className:"text-center",children:(0,C.jsxs)("div",{className:"text-xs font-semibold ".concat(I?e+n>B.overUnder.total?"text-green-600":"text-red-600":"text-purple-600"),children:["O ",B.overUnder.total]})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["O/U",I&&(0,C.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["(",(e+n).toFixed(1),")"]})]})}),(0,C.jsx)("div",{className:"text-center",children:(0,C.jsxs)("div",{className:"text-xs font-semibold ".concat(I?e+n<B.overUnder.total?"text-green-600":"text-red-600":"text-purple-600"),children:["U ",B.overUnder.total]})})]})]})})})()]})]})},t.matchup_id)})}),y&&(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,C.jsxs)("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[(0,C.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,C.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:[c," Week ",d," Details"]}),(0,C.jsx)("button",{onClick:()=>{v(null),x(null)},className:"text-gray-500 hover:text-gray-700 text-xl sm:text-2xl font-bold p-1",children:"\xd7"})]}),(0,C.jsx)("div",{className:"p-4 sm:p-6",children:((t,n,o,i,s,l,u,h,f,p,m,g,v,x,w,S,k,j,P,O)=>{const E=String(y.team1_roster_id),I=String(y.team2_roster_id),D=null===(t=e.rostersBySeason)||void 0===t||null===(n=t[c])||void 0===n?void 0:n.find(e=>String(e.roster_id)===E),M=null===D||void 0===D?void 0:D.owner_id,R=r(M,c),L=null===(o=e.rostersBySeason)||void 0===o||null===(i=o[c])||void 0===i?void 0:i.find(e=>String(e.roster_id)===I),F=null===L||void 0===L?void 0:L.owner_id,B=r(F,c),U=null!==(s=null===(l=N[E])||void 0===l?void 0:l[d-1])&&void 0!==s?s:0,W=null!==(u=null===(h=N[I])||void 0===h?void 0:h[d-1])&&void 0!==u?u:0,z=_(E,c),V=_(I,c),H=A(M,F),q=T(M,c),G=T(F,c),K=y.team1_score>y.team2_score,Y=y.team2_score>y.team1_score;return(0,C.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,C.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:R.avatar,alt:"".concat(R.name," avatar")}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:R.name}),(0,C.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[c," Week ",d]})]})]}),(0,C.jsx)("div",{className:"text-2xl sm:text-4xl font-bold ".concat(K?"text-green-600":"text-gray-600"),children:y.team1_score.toFixed(2)}),(0,C.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"})]}),(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,C.jsx)("img",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full",src:B.avatar,alt:"".concat(B.name," avatar")}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:B.name}),(0,C.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[c," Week ",d]})]})]}),(0,C.jsx)("div",{className:"text-2xl sm:text-4xl font-bold ".concat(Y?"text-green-600":"text-gray-600"),children:y.team2_score.toFixed(2)}),(0,C.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"POINTS"})]})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-8",children:[(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[(0,C.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[R.name," Stats"]}),(0,C.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Record:"}),(0,C.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(f=a[c])||void 0===f||null===(p=f[E])||void 0===p?void 0:p.wins)||0,"-",(null===a||void 0===a||null===(m=a[c])||void 0===m||null===(g=m[E])||void 0===g?void 0:g.losses)||0]})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Current Streak:"}),(0,C.jsx)("span",{className:"font-medium",children:q})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Avg:"}),(0,C.jsx)("span",{className:"font-medium",children:z.toFixed(2)})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Luck Factor:"}),(0,C.jsxs)("span",{className:"font-medium ".concat(U>0?"text-green-600":"text-red-600"),children:[U>0?"+":"",U.toFixed(3)]})]})]})]}),(0,C.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg lg:hidden",children:[(0,C.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[B.name," Stats"]}),(0,C.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Record:"}),(0,C.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(v=a[c])||void 0===v||null===(x=v[I])||void 0===x?void 0:x.wins)||0,"-",(null===a||void 0===a||null===(w=a[c])||void 0===w||null===(S=w[I])||void 0===S?void 0:S.losses)||0]})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Current Streak:"}),(0,C.jsx)("span",{className:"font-medium",children:G})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Avg:"}),(0,C.jsx)("span",{className:"font-medium",children:V.toFixed(2)})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Luck Factor:"}),(0,C.jsxs)("span",{className:"font-medium ".concat(W>0?"text-green-600":"text-red-600"),children:[W>0?"+":"",W.toFixed(3)]})]})]})]})]}),(0,C.jsx)("div",{className:"space-y-4 hidden lg:block",children:(0,C.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[(0,C.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:[B.name," Stats"]}),(0,C.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Record:"}),(0,C.jsxs)("span",{className:"font-medium",children:[(null===a||void 0===a||null===(k=a[c])||void 0===k||null===(j=k[I])||void 0===j?void 0:j.wins)||0,"-",(null===a||void 0===a||null===(P=a[c])||void 0===P||null===(O=P[I])||void 0===O?void 0:O.losses)||0]})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Current Streak:"}),(0,C.jsx)("span",{className:"font-medium",children:G})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Season Avg:"}),(0,C.jsx)("span",{className:"font-medium",children:V.toFixed(2)})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{children:"Luck Factor:"}),(0,C.jsxs)("span",{className:"font-medium ".concat(W>0?"text-green-600":"text-red-600"),children:[W>0?"+":"",W.toFixed(3)]})]})]})]})})]}),(0,C.jsx)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:(0,C.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"H2H Record"}),(0,C.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:H})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Point Difference"}),(0,C.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:Math.abs(y.team1_score-y.team2_score).toFixed(2)})]}),(0,C.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,C.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Matchup Type"}),(0,C.jsx)("div",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Regular Season"})]})]})}),b?b.error?(0,C.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,C.jsx)("div",{className:"text-gray-500 mb-2",children:(0,C.jsx)("svg",{className:"mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,C.jsx)("p",{className:"text-gray-600 max-w-md mx-auto text-sm sm:text-base",children:b.message})]}):(0,C.jsxs)("div",{className:"space-y-6",children:[(0,C.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,C.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[R.name," Roster"]}),(0,C.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[(0,C.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,C.jsx)("div",{className:"space-y-1 sm:space-y-2",children:b.team1.lineup.map((e,t)=>(0,C.jsxs)("div",{className:"flex justify-between items-center py-1 sm:py-2 border-b border-gray-200 last:border-b-0",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,C.jsx)("span",{className:"w-6 sm:w-8 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,C.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,C.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:e.name}),(0,C.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,C.jsx)("div",{className:"text-right flex-shrink-0",children:(0,C.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)})})]},e.playerId))})]}),(0,C.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[(0,C.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Bench"}),(0,C.jsx)("div",{className:"space-y-1",children:b.team1.bench.map((e,t)=>(0,C.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,C.jsx)("span",{className:"w-6 sm:w-8 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,C.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,C.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,C.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,C.jsx)("div",{className:"text-right flex-shrink-0",children:(0,C.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"})})]},e.playerId))})]})]}),(0,C.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,C.jsxs)("h4",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2",children:[B.name," Roster"]}),(0,C.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[(0,C.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Starting Lineup"}),(0,C.jsx)("div",{className:"space-y-1 sm:space-y-2",children:b.team2.lineup.map((e,t)=>(0,C.jsxs)("div",{className:"flex justify-between items-center py-1 sm:py-2 border-b border-gray-200 last:border-b-0",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,C.jsx)("span",{className:"w-6 sm:w-8 text-xs font-medium text-gray-500 flex-shrink-0",children:e.lineupPosition}),(0,C.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,C.jsx)("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:e.name}),(0,C.jsxs)("div",{className:"text-xs text-gray-500",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,C.jsx)("div",{className:"text-right flex-shrink-0",children:(0,C.jsx)("div",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.points.toFixed(2)})})]},e.playerId))})]}),(0,C.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[(0,C.jsx)("h5",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Bench"}),(0,C.jsx)("div",{className:"space-y-1",children:b.team2.bench.map((e,t)=>(0,C.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[(0,C.jsx)("span",{className:"w-6 sm:w-8 text-xs font-medium text-gray-400 flex-shrink-0",children:"BN"}),(0,C.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,C.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.name}),(0,C.jsxs)("div",{className:"text-xs text-gray-400",children:[e.position," \xb7 ",e.team||"FA"]})]})]}),(0,C.jsx)("div",{className:"text-right flex-shrink-0",children:(0,C.jsx)("div",{className:"text-sm text-gray-600",children:e.points>0?e.points.toFixed(2):"---"})})]},e.playerId))})]})]})]}):(0,C.jsx)("div",{className:"text-center py-6 sm:py-8",children:(0,C.jsx)("div",{className:"text-gray-500 text-sm sm:text-base",children:"Loading roster details..."})})]})})()})]})})]})}):(0,C.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,C.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,C.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Gamecenter"}),(0,C.jsx)("div",{className:"text-center text-gray-500",children:(0,C.jsx)("p",{children:"Setting up Gamecenter..."})})]})})},TL=()=>{const{historicalData:e,leagueData:n,getTeamDetails:r,processedSeasonalRecords:a,nflState:o,loading:i,rostersWithDetails:s}=L(),[c,u]=(0,t.useState)("matchups"),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[b,x]=(0,t.useState)({}),w=(0,t.useMemo)(()=>{var e;return n&&Array.isArray(n)?null===(e=n[0])||void 0===e?void 0:e.season:null===n||void 0===n?void 0:n.season},[n]);(0,t.useEffect)(()=>{null!==o&&void 0!==o&&o.week&&!d&&h(parseInt(o.week))},[o,d]);const S=(t,n,r)=>{const a=t.gamesPlayed>0?t.wins/t.gamesPlayed:0,o=t.averageScore||0,i=t.pointsFor||0,s=t.pointsAgainst||0,l=t.luckRating||0,c=t.strengthOfSchedule||0,u=100*a*.25+o/10*.2+10*_(n,r,4)*.15+(i-s)/100*.15+20*calculateTeamMomentum(n,r,e,6)*.1+.1*(b[n]?(b[n]-1500)/10:0)+50*l*.03+10*c*.02;return Math.max(0,u)},_=function(t,n){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(null===e||void 0===e||null===(r=e.matchupsBySeason)||void 0===r||!r[n])return.5;const o=e.matchupsBySeason[n].filter(e=>String(e.team1_roster_id)===String(t)||String(e.team2_roster_id)===String(t)).sort((e,t)=>parseInt(t.week)-parseInt(e.week)).slice(0,a);if(0===o.length)return.5;return o.filter(e=>{const n=String(e.team1_roster_id)===String(t);return(n?e.team1_score:e.team2_score)>(n?e.team2_score:e.team1_score)}).length/o.length},k=(0,t.useMemo)(()=>{if(!a||!w||!a[w])return{};const e=a[w],t=Object.keys(e).map(t=>{const n=e[t];return l(l({rosterId:t},n),{},{powerScore:S(n,t,w)})}).sort((e,t)=>t.powerScore-e.powerScore),n={};return t.forEach((e,t)=>{n[e.rosterId]=l(l({},e),{},{rank:t+1,powerScore:e.powerScore})}),n},[a,w,b,e]),j=e=>{const t=k[e];if(!t)return 0;const n=t.gamesPlayed||0,r=Math.max(0,14-n);return calculateHybridPlayoffProbability(e,k,r,3e3)};return(0,t.useEffect)(()=>{"matchups"===c&&d&&k&&Object.keys(k).length>0?p((t=>{var n;return null!==e&&void 0!==e&&null!==(n=e.matchupsBySeason)&&void 0!==n&&n[w]&&k&&w?e.matchupsBySeason[w].filter(e=>parseInt(e.week)===t).map(n=>{try{var a,i,s,l,c,u,d,h,f,p,m,g;const y=String(n.team1_roster_id),v=String(n.team2_roster_id);if(!k[y]||!k[v])return null;const b=null!==o&&void 0!==o&&o.week?parseInt(o.week):null,x=(n.team1_score>0||n.team2_score>0)&&(!b||t<b),S=null===(a=e.rostersBySeason)||void 0===a||null===(i=a[w])||void 0===i?void 0:i.find(e=>String(e.roster_id)===y),_=null===S||void 0===S?void 0:S.owner_id,j=r(_,w),N=null===(s=e.rostersBySeason)||void 0===s||null===(l=s[w])||void 0===l?void 0:l.find(e=>String(e.roster_id)===v),P=null===N||void 0===N?void 0:N.owner_id,O=r(P,w),E=PL(y,v,j,O,k);return E?{matchupId:n.matchup_id,week:t,isCompleted:x,actualScores:x?{team1Score:n.team1_score,team2Score:n.team2_score,team1Won:n.team1_score>n.team2_score,totalPoints:n.team1_score+n.team2_score}:null,team1:{rosterId:y,name:j.name,avatar:j.avatar,record:"".concat((null===(c=k[y])||void 0===c?void 0:c.wins)||0,"-").concat((null===(u=k[y])||void 0===u?void 0:u.losses)||0),avgPoints:(null===(d=k[y])||void 0===d?void 0:d.averageScore)||0,powerScore:(null===(h=k[y])||void 0===h?void 0:h.powerScore)||0,probability:E.winProbabilities.team1,odds:E.moneyline.team1Odds},team2:{rosterId:v,name:O.name,avatar:O.avatar,record:"".concat((null===(f=k[v])||void 0===f?void 0:f.wins)||0,"-").concat((null===(p=k[v])||void 0===p?void 0:p.losses)||0),avgPoints:(null===(m=k[v])||void 0===m?void 0:m.averageScore)||0,powerScore:(null===(g=k[v])||void 0===g?void 0:g.powerScore)||0,probability:E.winProbabilities.team2,odds:E.moneyline.team2Odds},markets:E}:null}catch(y){return console.error("Error generating matchup odds:",y),null}}).filter(Boolean):[]})(d)):"playoffs"===c&&k&&Object.keys(k).length>0?g(k?Object.keys(k).map(t=>{var n,a;const o=k[t],i=null===(n=e.rostersBySeason)||void 0===n||null===(a=n[w])||void 0===a?void 0:a.find(e=>String(e.roster_id)===t),s=null===i||void 0===i?void 0:i.owner_id,l=r(s,w),c=j(t),u=probabilityToAmericanOdds(c);return{rosterId:t,name:l.name,avatar:l.avatar,record:"".concat(o.wins||0,"-").concat(o.losses||0),powerScore:o.powerScore,rank:o.rank,probability:c,odds:u}}).sort((e,t)=>t.probability-e.probability):[]):"championship"===c&&k&&Object.keys(k).length>0&&v(k?Object.keys(k).map(t=>{var n,o;const i=k[t],s=null===(n=e.rostersBySeason)||void 0===n||null===(o=n[w])||void 0===o?void 0:o.find(e=>String(e.roster_id)===t),l=null===s||void 0===s?void 0:s.owner_id,c=r(l,w),u=j(t),d=i.gamesPlayed||0;let h;if(d<=4){const n=1/Object.keys(k).length,r=Object.values(k).map(e=>e.powerScore),o=Math.max(...r),s=Math.min(...r),l=(i.powerScore-s)/(o-s),c=b[t]||1500,f=Object.values(b),p=Math.max(...f),m=Math.min(...f),g=(c-m)/(p-m);let y=.5;if(null!==e&&void 0!==e&&e.rostersBySeason&&a){const n=Object.keys(e.rostersBySeason).filter(e=>parseInt(e)<parseInt(w)).sort((e,t)=>t-e).slice(0,3);let r=0,o=0;n.forEach(e=>{var n;const i=null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[t];if(i){const e=i.wins/(i.wins+i.losses||1);e>.7&&o++,e>.85&&r++}}),n.length>0&&(y=Math.min(.8,(.4*r+.2*o)/n.length))}const v=.4*n+l*n*.3+g*n*.2+y*n*.05+(.5+.3*((d>0?(i.wins||0)/d:.5)-.5))*n*.05;h=u*Math.min(.25,6*v),h*=Math.max(.3,1-.15*(4-d))}else{const e=d>0?(i.wins||0)/d:.5,n=i.powerScore||0,r=Object.values(k).reduce((e,t)=>e+t.powerScore,0)/Object.keys(k).length;let a=1/6;a=e>.85&&n>1.3*r?.4:e>.8&&n>1.2*r?.3:e>.7&&n>1.1*r?.25:e>.6?.2:e<.4?.08:.15;const o=b[t]||1500;o>1600?a*=1.15:o<1400&&(a*=.85),h=u*a}h=Math.max(.001,Math.min(.35,h));const f=probabilityToAmericanOdds(h);return{rosterId:t,name:c.name,avatar:c.avatar,record:"".concat(i.wins||0,"-").concat(i.losses||0),powerScore:i.powerScore,rank:i.rank,probability:h,odds:f,playoffProb:u,gamesPlayed:d}}).sort((e,t)=>t.probability-e.probability):[])},[c,d,k,w,b,e]),i?(0,C.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen flex justify-center items-center",children:(0,C.jsx)("div",{className:"text-xl font-semibold text-gray-500",children:"Loading Sportsbook..."})}):(0,C.jsx)("div",{className:"p-4 bg-gray-50 min-h-screen",children:(0,C.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,C.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6",children:[(0,C.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Fantasy Sportsbook"}),(0,C.jsx)("p",{className:"text-blue-100",children:"Odds based on team performance, power rankings, and statistical analysis"})]}),(0,C.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[(0,C.jsxs)("div",{className:"flex border-b",children:[(0,C.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("matchups"===c?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>u("matchups"),children:"Matchups"}),(0,C.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("playoffs"===c?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>u("playoffs"),children:"Playoff Odds"}),(0,C.jsx)("button",{className:"flex-1 py-4 px-6 text-center font-medium ".concat("championship"===c?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>u("championship"),children:"Championship"})]}),"matchups"===c&&(0,C.jsx)("div",{className:"p-4 border-b flex flex-wrap gap-4",children:(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week"}),(0,C.jsx)("select",{id:"week-select",value:d||"",onChange:e=>h(parseInt(e.target.value)),className:"block w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:Array.from({length:18},(e,t)=>t+1).map(e=>(0,C.jsxs)("option",{value:e,children:["Week ",e]},e))})]})})]}),"matchups"===c&&(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Week ",d," Betting Odds"]}),f.length>0?(0,C.jsx)("div",{className:"grid gap-6",children:f.map(e=>{var t,n;return(0,C.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,C.jsx)("div",{className:"p-6",children:(0,C.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"h-10 flex items-center text-sm font-semibold text-gray-700 mb-4",children:"Teams"}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg h-16 flex items-center",children:(0,C.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,C.jsx)("img",{className:"w-6 h-6 rounded-full",src:e.team1.avatar,alt:e.team1.name}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("div",{className:"font-medium text-gray-800 text-sm",children:e.team1.name}),(0,C.jsx)("div",{className:"text-xs text-gray-600",children:e.team1.record})]})]})}),(0,C.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg h-16 flex items-center",children:(0,C.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,C.jsx)("img",{className:"w-6 h-6 rounded-full",src:e.team2.avatar,alt:e.team2.name}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("div",{className:"font-medium text-gray-800 text-sm",children:e.team2.name}),(0,C.jsx)("div",{className:"text-xs text-gray-600",children:e.team2.record})]})]})})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Spread"}),null!==(t=e.markets)&&void 0!==t&&t.pointSpread?(0,C.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.markets.pointSpread.favorite.rosterId===e.team1.rosterId,n=t?"-".concat(e.markets.pointSpread.spread):"+".concat(e.markets.pointSpread.spread),r=t?"+".concat(e.markets.pointSpread.spread):"-".concat(e.markets.pointSpread.spread);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"bg-gray-50 hover:bg-gray-100 border border-gray-200 p-3 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center",children:[(0,C.jsx)("div",{className:"text-lg font-bold text-blue-600 mb-1",children:n}),(0,C.jsx)("div",{className:"text-sm text-gray-600",children:OL(e.markets.pointSpread.odds)})]}),(0,C.jsxs)("div",{className:"bg-gray-50 hover:bg-gray-100 border border-gray-200 p-3 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center",children:[(0,C.jsx)("div",{className:"text-lg font-bold text-blue-600 mb-1",children:r}),(0,C.jsx)("div",{className:"text-sm text-gray-600",children:OL(e.markets.pointSpread.odds)})]})]})})()}):(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-16 flex items-center justify-center",children:"-"}),(0,C.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-16 flex items-center justify-center",children:"-"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Total"}),null!==(n=e.markets)&&void 0!==n&&n.overUnder?(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)("div",{className:"p-2 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center ".concat(e.isCompleted?e.actualScores.totalPoints>e.markets.overUnder.total?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),children:[(0,C.jsx)("div",{className:"text-xs text-gray-600",children:"O"}),(0,C.jsx)("div",{className:"text-sm font-bold ".concat(e.isCompleted?e.actualScores.totalPoints>e.markets.overUnder.total?"text-green-600":"text-red-600":"text-purple-600"),children:e.markets.overUnder.total}),(0,C.jsx)("div",{className:"text-xs text-gray-600",children:OL(e.markets.overUnder.overOdds)})]}),(0,C.jsxs)("div",{className:"p-2 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center ".concat(e.isCompleted?e.actualScores.totalPoints<e.markets.overUnder.total?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),children:[(0,C.jsx)("div",{className:"text-xs text-gray-600",children:"U"}),(0,C.jsx)("div",{className:"text-sm font-bold ".concat(e.isCompleted?e.actualScores.totalPoints<e.markets.overUnder.total?"text-green-600":"text-red-600":"text-purple-600"),children:e.markets.overUnder.total}),(0,C.jsx)("div",{className:"text-xs text-gray-600",children:OL(e.markets.overUnder.underOdds)})]})]}):(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-16 flex items-center justify-center",children:"-"}),(0,C.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-center text-gray-400 h-16 flex items-center justify-center",children:"-"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"h-10 flex items-center justify-center text-sm font-semibold text-gray-700 mb-4",children:"Moneyline"}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center ".concat(e.isCompleted?e.actualScores.team1Won?"bg-green-100 border-2 border-green-500":"bg-red-100 border-2 border-red-300":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),children:(0,C.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted?e.actualScores.team1Won?"text-green-600":"text-red-600":"text-blue-600"),children:OL(e.team1.odds)})}),(0,C.jsx)("div",{className:"p-3 rounded-lg text-center transition-colors cursor-pointer h-16 flex flex-col justify-center ".concat(e.isCompleted?e.actualScores.team1Won?"bg-red-100 border-2 border-red-300":"bg-green-100 border-2 border-green-500":"bg-gray-50 hover:bg-gray-100 border border-gray-200"),children:(0,C.jsx)("div",{className:"text-lg font-bold ".concat(e.isCompleted?e.actualScores.team1Won?"text-red-600":"text-green-600":"text-blue-600"),children:OL(e.team2.odds)})})]})]})]})})},e.matchupId)})}):(0,C.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,C.jsxs)("div",{className:"text-gray-500",children:[(0,C.jsxs)("p",{className:"text-lg mb-2",children:["No upcoming matchups found for Week ",d]}),(0,C.jsx)("p",{className:"text-sm",children:"Games may have already been played or the schedule isn't available yet."})]})})]}),"playoffs"===c&&(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Playoff Odds"}),(0,C.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full",children:[(0,C.jsx)("thead",{className:"bg-gray-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Team"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Record"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Probability"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Odds"})]})}),(0,C.jsx)("tbody",{className:"divide-y divide-gray-200",children:m.map((e,t)=>(0,C.jsxs)("tr",{className:t<6?"bg-green-50":"",children:[(0,C.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.rank]}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("img",{className:"h-8 w-8 rounded-full mr-3",src:e.avatar,alt:e.name}),(0,C.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.record}),(0,C.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,C.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[(100*e.probability).toFixed(1),"%"]}),(0,C.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mt-1",children:(0,C.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(100*e.probability,"%")}})})]}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,C.jsx)("span",{className:"text-lg font-bold ".concat(e.odds>0?"text-red-600":"text-green-600"),children:OL(e.odds)})})]},e.rosterId))})]})})})]}),"championship"===c&&(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Championship Odds"}),(0,C.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((e,t)=>(0,C.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 ".concat(t<3?"ring-2 ring-yellow-400":""),children:[t<3&&(0,C.jsx)("div",{className:"text-center mb-3",children:(0,C.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:0===t?"Favorite":1===t?"Second":"Third"})}),(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("img",{className:"w-16 h-16 rounded-full mx-auto mb-3",src:e.avatar,alt:e.name}),(0,C.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:e.name}),(0,C.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["#",e.rank," \u2022 ",e.record]}),(0,C.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-4 rounded-lg",children:[(0,C.jsx)("div",{className:"text-3xl font-bold text-yellow-600 mb-1",children:OL(e.odds)}),(0,C.jsxs)("div",{className:"text-sm text-gray-600",children:[(100*e.probability).toFixed(1),"% chance"]})]})]})]},e.rosterId))})]}),(0,C.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,C.jsx)("div",{className:"flex",children:(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"For Entertainment Purposes Only"}),(0,C.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,C.jsx)("p",{children:"These odds are calculated using historical performance, team statistics, and power rankings. They are for entertainment and analytical purposes only. Fantasy football involves elements of skill and chance - actual results may vary significantly from projections."})})]})})})]})})},AL={HOME:{label:"Dashboard",tab:"dashboard"},POWER_RANKINGS:{label:"Power Rankings",tab:"powerRankings"},GAMECENTER:{label:"Gamecenter",tab:"gamecenter"},SPORTSBOOK:{label:"Sportsbook",tab:"sportsbook"},LEAGUE_DATA:{label:"League Data",subTabs:[{label:"League History",tab:"leagueHistory"},{label:"Hall of Champions",tab:"hallOfChampions"},{label:"Record Book",tab:"recordBook"},{label:"Head-to-Head",tab:"headToHead"},{label:"DPR Analysis",tab:"dprAnalysis"},{label:"Luck Rating",tab:"luckRating"}]},TEAMS:{label:"Teams",tab:"teamsOverview"},SEASON_BREAKDOWN:{label:"Season Breakdown",tab:"seasonBreakdown"},DRAFT:{label:"Draft",tab:"draftAnalysis"},FINANCIALS:{label:"Financials",tab:"financials"}},CL="dashboard",IL="powerRankings",DL="gamecenter",ML="sportsbook",RL="leagueHistory",LL="hallOfChampions",FL="recordBook",BL="headToHead",UL="dprAnalysis",WL="luckRating",zL="financials",VL="teamsOverview",HL="seasonBreakdown",qL="draftAnalysis",GL=()=>{const{loading:e,error:n,historicalData:r,usersData:a}=L(),[o,i]=(0,t.useState)(CL),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),d=(0,t.useCallback)((e,t)=>{if(!e||!t)return"Unknown Champion";const n=t.find(t=>t.user_id===e);if(n){var r;return(null===(r=n.metadata)||void 0===r?void 0:r.team_name)||n.display_name}return"Unknown Champion"},[a]),[h,f]=(0,t.useState)("");(0,t.useEffect)(()=>{const t=null===r||void 0===r?void 0:r.rostersBySeason;if(!e&&!n&&r&&a&&t){if(r.seasonAwardsSummary||r.awardsSummary||r.winnersBracketBySeason){let e="",n=!1;const o=new Set;r.seasonAwardsSummary&&Object.keys(r.seasonAwardsSummary).forEach(e=>o.add(Number(e))),r.awardsSummary&&Object.keys(r.awardsSummary).forEach(e=>o.add(Number(e))),r.winnersBracketBySeason&&Object.keys(r.winnersBracketBySeason).forEach(e=>o.add(Number(e)));const i=Array.from(o).sort((e,t)=>t-e);for(const s of i){let o="",i="";if(r.winnersBracketBySeason&&r.winnersBracketBySeason[s]){const e=r.winnersBracketBySeason[s].find(e=>1===e.p&&e.w);if(e&&(i=String(e.w).trim(),t[s])){const e=t[s].find(e=>String(e.roster_id)===i);e&&e.owner_id&&(o=e.owner_id)}}if(!o&&r.seasonAwardsSummary&&r.seasonAwardsSummary[s]){const e=r.seasonAwardsSummary[s];e.champion&&"N/A"!==e.champion&&""!==e.champion.trim()&&(o=e.champion.trim())}if(!o&&r.awardsSummary&&r.awardsSummary[s]){const e=r.awardsSummary[s],t=e.champion||e.Champion;t&&"N/A"!==t&&""!==String(t).trim()&&(o=String(t).trim())}if(o){const t=d(o,a);if("Unknown Champion"!==t){e=t,n=!0;break}e=o,n=!0;break}}f(e)}}},[e,n,r,a,d]);const p=e=>{i(e),l(!1),u(null)};return(0,C.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col font-inter",children:[(0,C.jsx)("header",{className:"bg-gray-800 text-white p-3 shadow-md md:p-4",children:(0,C.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:justify-between md:items-center max-w-6xl w-full mx-auto",children:[(0,C.jsxs)("div",{className:"flex items-center justify-center md:justify-start",children:[(0,C.jsx)("img",{src:"./LeagueLogoNoBack.PNG",alt:"League Logo",className:"h-12 w-12 md:h-14 md:w-14 mr-3 md:mr-4 object-contain"}),(0,C.jsx)("h1",{className:"text-lg md:text-2xl font-bold text-center md:text-left",children:"The League of Extraordinary Douchebags"})]}),(0,C.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 justify-center md:justify-end mt-2 md:mt-0",children:[h&&(0,C.jsx)("span",{title:"Reigning Champion",children:(0,C.jsx)("i",{className:"fas fa-trophy text-[#eab308] text-xl md:text-2xl mr-1"})}),(0,C.jsx)("span",{className:"font-semibold text-[#eab308] text-base md:text-lg",children:h})]}),(0,C.jsx)("button",{className:"md:hidden text-white text-2xl ml-2 absolute right-4 top-4",onClick:()=>{l(!s)},"aria-label":"Open navigation menu",children:"\u2630"})]})}),(0,C.jsx)("nav",{className:"bg-gray-700 text-white shadow-lg md:block ".concat(s?"block":"hidden"),children:(0,C.jsxs)("ul",{className:"flex flex-col md:flex-row md:justify-center py-2 max-w-6xl w-full mx-auto",children:[(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.HOME.tab),children:AL.HOME.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.POWER_RANKINGS.tab),children:AL.POWER_RANKINGS.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.GAMECENTER.tab),children:AL.GAMECENTER.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.SPORTSBOOK.tab),children:AL.SPORTSBOOK.label}),(0,C.jsxs)("li",{className:"relative px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>{var e;u(c===(e="leagueData")?null:e)},children:[AL.LEAGUE_DATA.label," ",(0,C.jsx)("span",{className:"ml-1",children:"\u25bc"}),"leagueData"===c&&(0,C.jsx)("ul",{className:"absolute left-0 md:top-full bg-gray-700 shadow-lg rounded-md mt-2 w-44 md:w-48 z-10",children:AL.LEAGUE_DATA.subTabs.map(e=>(0,C.jsx)("li",{className:"px-4 py-2 hover:bg-gray-600 cursor-pointer rounded-md text-sm md:text-base",onClick:t=>{var n;t.stopPropagation(),n=e.tab,i(n),l(!1),u(null)},children:e.label},e.tab))})]}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.TEAMS.tab),children:AL.TEAMS.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.SEASON_BREAKDOWN.tab),children:AL.SEASON_BREAKDOWN.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.DRAFT.tab),children:AL.DRAFT.label}),(0,C.jsx)("li",{className:"px-3 py-2 hover:bg-gray-600 cursor-pointer rounded-md mx-0.5 my-0.5 md:mx-1 md:my-0 text-base md:text-lg text-center",onClick:()=>p(AL.FINANCIALS.tab),children:AL.FINANCIALS.label})]})}),(0,C.jsx)("main",{className:"flex-grow w-full max-w-6xl mx-auto p-2 sm:p-4",children:(0,C.jsx)("div",{children:(()=>{if(e)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,C.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading Sleeper fantasy data..."}),(0,C.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This might take a moment as we fetch historical league information."})]})});if(n)return(0,C.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-inter",children:(0,C.jsxs)("div",{className:"text-center p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[(0,C.jsx)("p",{className:"font-bold text-xl mb-2",children:"Error Loading Data"}),(0,C.jsxs)("p",{className:"text-base",children:["Failed to load historical data: ",n.message||String(n)]}),(0,C.jsx)("p",{className:"text-sm mt-2",children:"Please check your internet connection or the Sleeper API configuration in `config.js` and `sleeperApi.js`."})]})});const t=r&&r.matchupsBySeason?Object.values(r.matchupsBySeason).flat():[];switch(o){case CL:return(0,C.jsx)(PI,{});case IL:return(0,C.jsx)(B,{});case DL:return(0,C.jsx)(EL,{});case ML:return(0,C.jsx)(TL,{});case RL:return(0,C.jsx)(Cb,{});case LL:return(0,C.jsx)(wL,{});case FL:return(0,C.jsx)(Fb,{historicalMatchups:t});case BL:return(0,C.jsx)(ex,{historicalMatchups:t,getDisplayTeamName:d});case UL:return(0,C.jsx)(zb,{});case WL:return(0,C.jsx)(Vb,{});case VL:return(0,C.jsx)(OI,{});case zL:return(0,C.jsx)(NI,{});case HL:return(0,C.jsx)(EI,{});case qL:return(0,C.jsx)(xL,{});default:return(0,C.jsx)(PI,{})}})()})})]})},KL=()=>(0,C.jsx)(R,{children:(0,C.jsx)(GL,{})}),YL=document.getElementById("root");r.createRoot(YL).render((0,C.jsx)(t.StrictMode,{children:(0,C.jsx)(KL,{})}))})()})();
//# sourceMappingURL=main.194a678b.js.map